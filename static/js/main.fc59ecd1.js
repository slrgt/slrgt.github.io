(()=>{var e={21345:(e,t,s)=>{"use strict";s.r(t);s(54993),s(5809);window.setImmediate=e=>setTimeout(e,0);var o=s(19690),n=s(15991),a=s(22706),r=s(43535);(0,a.init)({enabled:!r.IS_DEV&&!!r.SENTRY_DSN,autoSessionTracking:!1,dsn:r.SENTRY_DSN,debug:!1,environment:r.ENV,dist:r.BUNDLE_IDENTIFIER,release:r.RELEASE_VERSION,ignoreErrors:["t is not defined","Can't find variable: t","Network request failed"],attachStacktrace:!1,sampleRate:r.IS_INTERNAL?1:.1});var i=s(41770),l=s(3563),c=s(91035),d=s(84322),u=s(74708),m=s(26633),h=s(21705),p=s(69601),f=s(70513),g=s(94045),x=s(45420),_=s(62220),y=s(23226),b=s(59372),j=s(41668),v=s(32840),S=s(85692),w=s(85804),T=s(97315),k=s(31254),C=s(9107),I=s(29628),A=s(56610),P=s(2724),E=s(48327),L=s(94319),R=s(26586),B=s(49817),D=s(9978),O=s(2895),M=s(73653),F=s(98933),N=s(32177),H=s(2481),V=s(63971),z=s(4423),U=s(40242),W=s(60990),G=s(56962),q=s(73344),Q=s(71541),K=s(56382),Z=s(39838),Y=s(79423),$=s(63128),X=s(67058),J=s(12592),ee=s(42670),te=s(43611),se=s(12606),oe=s(23910),ne=s(45067),ae=s(39028),re=s(48919),ie=s(86251),le=s(58765),ce=s(57578),de=s(42445),ue=s(61385),me=s(80466),he=s(36037),pe=s(68911),fe=s(37905),ge=s(62479),xe=s(96328),_e=s(56904),ye=s(99313),be=s(17096),je=s(27771),ve=s(90680),Se=s(26155),we=s(66386),Te=s(8252),ke=s(67458),Ce=s(73862),Ie=s(29068),Ae=s(89240),Pe=s(46030),Ee=s(5765),Le=s(18917),Re=s(4717),Be=s(71079),De=s(83012),Oe=s(44062),Me=s(64070),Fe=s(40547),Ne=s(19075),He=s(70333),Ve=s(22788),ze=s(71927),Ue=s(26712),We=s(42254),Ge=s(10934),qe=s(20479),Qe=s(64676),Ke=s(23719),Ze=s(82299),Ye=s(11892),$e=s(82612),Xe=s(46887),Je=s(61382),et=s(73343),tt=s(3535),st=s(97474),ot=s(8187),nt=s(6206),at=s(51428),rt=s(1833),it=s(36861);i.library.add(l.faAddressCard,B.faAngleDown,D.faAngleLeft,O.faAngleRight,M.faAngleUp,N.faArrowLeft,H.faArrowRight,G.faArrowUp,F.faArrowDown,V.faArrowRightFromBracket,q.faArrowUpFromBracket,Q.faArrowUpRightFromSquare,z.faArrowRotateLeft,W.faArrowTrendUp,U.faArrowsRotate,K.faAt,Z.faBan,Y.faBars,$.faBell,c.faBell,X.faBookmark,d.faBookmark,u.faCalendar,J.faCamera,ee.faCheck,se.faChevronRight,m.faCircle,oe.faCircleCheck,h.faCircleCheck,ne.faCircleDot,ae.faCircleExclamation,p.faCirclePlay,f.faCircleUser,re.faClipboardCheck,ie.faClone,g.faClone,x.faComment,_.faCommentDots,le.faCommentSlash,y.faComments,b.faCompass,ce.faDownload,de.faEllipsis,ue.faEnvelope,he.faEye,me.faExclamation,j.faEyeSlash,v.faFaceSmile,fe.faFire,ge.faFlask,S.faFloppyDisk,xe.faGear,_e.faGlobe,ye.faHand,w.faHand,be.faHashtag,T.faHeart,je.faHeart,ve.faHouse,Se.faImage,k.faImage,we.faInfo,Te.faLanguage,ke.faLink,Ce.faList,Ie.faListUl,Ae.faLock,Pe.faMagnifyingGlass,C.faMessage,Ee.faNoteSticky,Le.faPaintRoller,I.faPaste,Re.faPause,Be.faPen,De.faPenNib,Oe.faPenToSquare,Me.faPhone,Fe.faPlay,Ne.faPlus,He.faQuoteLeft,Ve.faReply,ze.faRetweet,Ue.faRss,We.faSatelliteDish,Ge.faServer,qe.faShare,Qe.faShareFromSquare,Ke.faShield,Ze.faSignal,Ye.faSliders,A.faSquare,P.faSquareCheck,E.faSquarePlus,Je.faUniversalAccess,R.faUser,st.faUsers,et.faUserCheck,ot.faUserSlash,tt.faUserPlus,at.faUserXmark,nt.faUsersSlash,$e.faThumbtack,Xe.faTicket,L.faTrashCan,rt.faX,it.faXmark,te.faChevronDown,pe.faFilter);var lt=s(95004),ct=s(69052),dt=s(96963),ut=s(43549),mt=s(25705),ht=s(51010),pt=s(88745),ft=s(17908),gt=s(7885),xt=s(33927),_t=s(61715),yt=s(6648),bt=s(2629);let jt,vt=!1,St=!1,wt=!1;function Tt(){jt||(vt=!1,St=!1,jt=async function(){try{const e=new AbortController;setTimeout((()=>{e.abort()}),15e3);const t=await fetch("https://public.api.bsky.app/xrpc/_health",{cache:"no-store",signal:e.signal});return!!(await t.json()).version}catch(e){return!1}}().then((e=>{jt=void 0,e&&vt&&(wt=!0),!e&&St&&(wt=!0),wt||ht.onlineManager.setOnline(e)})))}(0,_t.listenNetworkLost)((()=>{vt=!0,ht.onlineManager.setOnline(!1)})),(0,_t.listenNetworkConfirmed)((()=>{St=!0,ht.onlineManager.setOnline(!0)})),setInterval((()=>{"active"===ut.default.currentState&&(ht.onlineManager.isOnline()&&!wt||Tt())}),2e3),pt.focusManager.setEventListener((e=>{if(r.IS_NATIVE){const e=ut.default.addEventListener("change",(e=>{pt.focusManager.setFocused("active"===e)}));return()=>e.remove()}if("undefined"!==typeof window&&window.addEventListener){const t=()=>e();return window.addEventListener("focus",t,!1),window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}));const kt=()=>new ft.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,structuralSharing:!1,retry:!1}}}),Ct={shouldDehydrateMutation:e=>!1,shouldDehydrateQuery:e=>String(e.queryKey[0])===yt.PERSISTED_QUERY_ROOT};function It(e){const t=(0,n.c)(3),{children:s,currentDid:o}=e;let a;return t[0]!==s||t[1]!==o?(a=(0,bt.jsx)(At,{currentDid:o,children:s},o),t[0]=s,t[1]=o,t[2]=a):a=t[2],a}function At({children:e,currentDid:t}){const s=(0,lt.useRef)(t);if(t!==s.current)throw Error("Something is very wrong. Expected did to be stable due to key above.");const[o,n]=(0,lt.useState)((()=>kt())),[a,i]=(0,lt.useState)((()=>{const e=(0,xt.createPersistedQueryStorage)(t??"logged-out");return{persister:(0,mt.createAsyncStoragePersister)({storage:e,key:"queryClient-"+(t??"logged-out")}),dehydrateOptions:Ct,buster:r.APP_VERSION}}));return(0,lt.useEffect)((()=>{r.IS_WEB&&(window.__TANSTACK_QUERY_CLIENT__=o)}),[o]),(0,bt.jsx)(gt.PersistQueryClientProvider,{client:o,persistOptions:a,children:e})}var Pt=s(83540),Et=s(17789),Lt=s(12855),Rt=s(64303),Bt=s(28654);function Dt(){const e=(0,n.c)(3),{appLanguage:t}=(0,Bt.useLanguagePrefs)();let o,a;e[0]!==t?(o=()=>{const e=(0,Lt.sanitizeAppLanguageSetting)(t);document.documentElement.lang=e,async function(e){let t;switch(e){case Rt.AppLanguage.an:t=await s.e(328).then(s.t.bind(s,65328,23));break;case Rt.AppLanguage.ast:t=await s.e(777).then(s.t.bind(s,47777,23));break;case Rt.AppLanguage.ca:t=await s.e(251).then(s.t.bind(s,16251,23));break;case Rt.AppLanguage.cy:t=await s.e(528).then(s.t.bind(s,18528,23));break;case Rt.AppLanguage.da:t=await s.e(418).then(s.t.bind(s,66224,23));break;case Rt.AppLanguage.de:t=await s.e(82).then(s.t.bind(s,93082,23));break;case Rt.AppLanguage.el:t=await s.e(470).then(s.t.bind(s,26470,23));break;case Rt.AppLanguage.en_GB:t=await s.e(871).then(s.t.bind(s,27179,23));break;case Rt.AppLanguage.eo:t=await s.e(108).then(s.t.bind(s,61108,23));break;case Rt.AppLanguage.es:t=await s.e(145).then(s.t.bind(s,15145,23));break;case Rt.AppLanguage.eu:t=await s.e(348).then(s.t.bind(s,74348,23));break;case Rt.AppLanguage.fi:t=await s.e(905).then(s.t.bind(s,81905,23));break;case Rt.AppLanguage.fr:t=await s.e(697).then(s.t.bind(s,24697,23));break;case Rt.AppLanguage.fy:t=await s.e(39).then(s.t.bind(s,53039,23));break;case Rt.AppLanguage.ga:t=await s.e(640).then(s.t.bind(s,80640,23));break;case Rt.AppLanguage.gd:t=await s.e(262).then(s.t.bind(s,81262,23));break;case Rt.AppLanguage.gl:t=await s.e(850).then(s.t.bind(s,30850,23));break;case Rt.AppLanguage.hi:t=await s.e(419).then(s.t.bind(s,93419,23));break;case Rt.AppLanguage.hu:t=await s.e(373).then(s.t.bind(s,21373,23));break;case Rt.AppLanguage.ia:t=await s.e(288).then(s.t.bind(s,67288,23));break;case Rt.AppLanguage.id:t=await s.e(982).then(s.t.bind(s,45982,23));break;case Rt.AppLanguage.it:t=await s.e(77).then(s.t.bind(s,95077,23));break;case Rt.AppLanguage.ja:t=await s.e(936).then(s.t.bind(s,43936,23));break;case Rt.AppLanguage.km:t=await s.e(92).then(s.t.bind(s,39092,23));break;case Rt.AppLanguage.ko:t=await s.e(667).then(s.t.bind(s,2667,23));break;case Rt.AppLanguage.ne:t=await s.e(666).then(s.t.bind(s,76666,23));break;case Rt.AppLanguage.nl:t=await s.e(953).then(s.t.bind(s,30953,23));break;case Rt.AppLanguage.pl:t=await s.e(101).then(s.t.bind(s,43101,23));break;case Rt.AppLanguage.pt_BR:t=await s.e(742).then(s.t.bind(s,2742,23));break;case Rt.AppLanguage.pt_PT:t=await s.e(939).then(s.t.bind(s,25939,23));break;case Rt.AppLanguage.ro:t=await s.e(508).then(s.t.bind(s,66508,23));break;case Rt.AppLanguage.ru:t=await s.e(789).then(s.t.bind(s,35373,23));break;case Rt.AppLanguage.sv:t=await s.e(874).then(s.t.bind(s,65874,23));break;case Rt.AppLanguage.th:t=await s.e(660).then(s.t.bind(s,35660,23));break;case Rt.AppLanguage.tr:t=await s.e(977).then(s.t.bind(s,14977,23));break;case Rt.AppLanguage.uk:t=await s.e(889).then(s.t.bind(s,1889,23));break;case Rt.AppLanguage.vi:t=await s.e(703).then(s.t.bind(s,40703,23));break;case Rt.AppLanguage.zh_CN:t=await s.e(767).then(s.t.bind(s,51767,23));break;case Rt.AppLanguage.zh_HK:t=await s.e(491).then(s.t.bind(s,71491,23));break;case Rt.AppLanguage.zh_TW:t=await s.e(931).then(s.t.bind(s,5931,23));break;default:t=await s.e(521).then(s.t.bind(s,99521,23))}Et.i18n.load(e,t.messages),Et.i18n.activate(e)}(e)},a=[t],e[0]=t,e[1]=o,e[2]=a):(o=e[1],a=e[2]),(0,lt.useEffect)(o,a)}function Ot(e){const t=(0,n.c)(2),{children:s}=e;let o;return Dt(),t[0]!==s?(o=(0,bt.jsx)(dt.I18nProvider,{i18n:Et.i18n,children:s}),t[0]=s,t[1]=o):o=t[1],o}var Mt=s(5295),Ft=s(77268),Nt=s(10098),Ht=s(43029),Vt=s(17110),zt=s(86731),Ut=s(13369),Wt=s(49818),Gt=s(97154);const qt=(0,lt.createContext)(null);function Qt(e){const t=(0,n.c)(7),{children:s}=e,{currentAccount:o}=(0,Gt.useSession)(),a=o?.did;let r;t[0]!==a?(r={did:a,staleTime:yt.STALE.INFINITY},t[0]=a,t[1]=r):r=t[1];const{data:i}=(0,Ut.useProfileQuery)(r),l=(0,Wt.useCheckEmailConfirmed)(),c=!!i?.createdAt&&Date.parse(i.createdAt)>=Date.parse("2024-11-18T19:00:00.000Z"),d=!(o&&(0,zt.getHostnameFromUrl)(o.service)!==(0,zt.getHostnameFromUrl)(Vt.BSKY_SERVICE))&&l&&!o?.emailConfirmed&&c;let u;t[2]!==d?(u={needsEmailVerification:d},t[2]=d,t[3]=u):u=t[3];const m=u;let h;return t[4]!==s||t[5]!==m?(h=(0,bt.jsx)(qt.Provider,{value:m,children:s}),t[4]=s,t[5]=m,t[6]=h):h=t[6],h}function Kt(){const e=(0,lt.useContext)(qt);if(!e)throw new Error("useEmail must be used within a EmailVerificationProvider");return e}qt.displayName="EmailVerificationContext",Qt.displayName="EmailVerificationProvider";const Zt=lt.createContext(!1);Zt.displayName="HomeBadgeStateContext";const Yt=lt.createContext((e=>{}));function $t(e){const t=(0,n.c)(5),{children:s}=e,[o,a]=lt.useState(!1);let r,i;return t[0]!==s?(r=(0,bt.jsx)(Yt.Provider,{value:a,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==o||t[3]!==r?(i=(0,bt.jsx)(Zt.Provider,{value:o,children:r}),t[2]=o,t[3]=r,t[4]=i):i=t[4],i}Yt.displayName="HomeBadgeApiContext";var Xt=s(87357),Jt=s(92799),es=s(21136),ts=s(55856);const ss=lt.createContext(null);function os(){const e=lt.useContext(ss);if(!e)throw new Error("useMessageDrafts must be used within a MessageDraftsContext");return e}function ns(e,t){switch(t.type){case"set":return Object.assign({},e,{[t.convoId]:t.draft});case"clear":return Object.assign({},e,{[t.convoId]:""});default:return e}}function as(e){const t=(0,n.c)(6),{children:s}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={},t[0]=o):o=t[0];const[a,r]=(0,lt.useReducer)(ns,o);let i;t[1]!==a?(i={state:a,dispatch:r},t[1]=a,t[2]=i):i=t[2];const l=i;let c;return t[3]!==s||t[4]!==l?(c=(0,bt.jsx)(ss.Provider,{value:l,children:s}),t[3]=s,t[4]=l,t[5]=c):c=t[5],c}function rs(e){const t=(0,n.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)(Jt.CurrentConvoIdProvider,{children:(0,bt.jsx)(as,{children:(0,bt.jsx)(es.MessagesEventBusProvider,{children:(0,bt.jsx)(ts.ListConvosProvider,{children:s})})})}),t[0]=s,t[1]=o):o=t[1],o}ss.displayName="MessageDraftsContext";var is=s(58810),ls=s(8023),cs=s(3987),ds=s(15874),us=s(90464),ms=s(96613),hs=s(30756),ps=s(86940);const fs=lt.createContext(void 0);fs.displayName="ActiveStarterPackStateContext";const gs=lt.createContext((e=>{}));function xs(e){const t=(0,n.c)(5),{children:s}=e,[o,a]=lt.useState();let r,i;return t[0]!==s?(r=(0,bt.jsx)(gs.Provider,{value:a,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==o||t[3]!==r?(i=(0,bt.jsx)(fs.Provider,{value:o,children:r}),t[2]=o,t[3]=r,t[4]=i):i=t[4],i}gs.displayName="ActiveStarterPackSetContext";const _s=()=>lt.useContext(fs),ys=()=>lt.useContext(gs),bs=lt.createContext({showLoggedOut:!1,requestedAccountSwitchTo:void 0});bs.displayName="LoggedOutStateContext";const js=lt.createContext({setShowLoggedOut:()=>{},requestSwitchToAccount:()=>{},clearRequestedAccount:()=>{}});function vs(e){const t=(0,n.c)(9),{children:s}=e,o=_s(),{hasSession:a}=(0,Gt.useSession)(),i=Boolean(o?.uri)&&!a,l=i?r.IS_WEB?"starterpack":"new":void 0;let c;t[0]!==i||t[1]!==l?(c={showLoggedOut:i,requestedAccountSwitchTo:l},t[0]=i,t[1]=l,t[2]=c):c=t[2];const[d,u]=lt.useState(c);let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m={setShowLoggedOut(e){u((t=>Object.assign({},t,{showLoggedOut:e})))},requestSwitchToAccount(e){const{requestedAccount:t}=e;u((e=>Object.assign({},e,{showLoggedOut:!0,requestedAccountSwitchTo:t})))},clearRequestedAccount(){u(Ss)}},t[3]=m):m=t[3];const h=m;let p,f;return t[4]!==s?(p=(0,bt.jsx)(js.Provider,{value:h,children:s}),t[4]=s,t[5]=p):p=t[5],t[6]!==d||t[7]!==p?(f=(0,bt.jsx)(bs.Provider,{value:d,children:p}),t[6]=d,t[7]=p,t[8]=f):f=t[8],f}function Ss(e){return Object.assign({},e,{requestedAccountSwitchTo:void 0})}function ws(){return lt.useContext(bs)}function Ts(){return lt.useContext(js)}js.displayName="LoggedOutControlsContext";var ks=s(58505),Cs=s(24095),Is=s(33520);const As=(0,lt.createContext)(null);As.displayName="SelectedFeedStateContext";const Ps=(0,lt.createContext)((e=>{}));function Es(e){const t=(0,n.c)(10),{children:s}=e,{currentAccount:o}=(0,Gt.useSession)();let a;t[0]!==o?.did?(a=()=>function(e){if(r.IS_WEB){if("/"===window.location.pathname){const e=new URLSearchParams(window.location.search).get("feed");if(e)return e}const e=sessionStorage.getItem("lastSelectedHomeFeed");if(e)return e}if(e){const t=Is.account.get([e,"lastSelectedHomeFeed"]);if(t)return t}return null}(o?.did),t[0]=o?.did,t[1]=a):a=t[1];const[i,l]=(0,lt.useState)(a);let c;t[2]!==o?.did?(c=e=>{if(l(e),r.IS_WEB)try{sessionStorage.setItem("lastSelectedHomeFeed",e)}catch{}o?.did&&Is.account.set([o?.did,"lastSelectedHomeFeed"],e)},t[2]=o?.did,t[3]=c):c=t[3],o?.did;const d=c;let u,m;return t[4]!==s||t[5]!==d?(u=(0,bt.jsx)(Ps.Provider,{value:d,children:s}),t[4]=s,t[5]=d,t[6]=u):u=t[6],t[7]!==i||t[8]!==u?(m=(0,bt.jsx)(As.Provider,{value:i,children:u}),t[7]=i,t[8]=u,t[9]=m):m=t[9],m}function Ls(){return(0,lt.useContext)(As)}function Rs(){return(0,lt.useContext)(Ps)}Ps.displayName="SelectedFeedSetContext";var Bs=s(36197),Ds=s(70341),Os=s(59550),Ms=s(88528),Fs=s(67842),Ns=s(3611),Hs=s(67781),Vs=s(61521),zs=s(88186),Us=s(19955),Ws=s(13308),Gs=s(9269),qs=s(19552),Qs=s(63410),Ks=s(96587),Zs=s(5448),Ys=s(58895);const $s=new Ys.default;const Xs=["accountEmailState"];function Js(){const e=(0,n.c)(15),t=(0,Gt.useAgent)(),{partialRefreshSession:s}=(0,Gt.useSessionApi)(),[o,a]=(0,lt.useState)(!!t.session?.emailConfirmed),r=!!t.session?.emailConfirmed,i=!!t.session?.emailAuthFactor;let l;e[0]!==r||e[1]!==i?(l={isEmailVerified:r,email2FAEnabled:i},e[0]=r,e[1]=i,e[2]=l):l=e[2];const c=l,d=!!t.session,u=!o;let m,h,p,f;return e[3]!==s?(m=async()=>(await s(),null),e[3]=s,e[4]=m):m=e[4],e[5]!==d||e[6]!==u||e[7]!==m?(h={enabled:d,refetchOnWindowFocus:u,queryKey:Xs,queryFn:m},e[5]=d,e[6]=u,e[7]=m,e[8]=h):h=e[8],(0,Zs.useQuery)(h),e[9]!==o||e[10]!==c.isEmailVerified?(p=()=>{c.isEmailVerified&&!o?(a(!0),$s.emit("emailVerified")):!c.isEmailVerified&&o&&a(!1)},e[9]=o,e[10]=c.isEmailVerified,e[11]=p):p=e[11],e[12]!==o||e[13]!==c?(f=[c,o],e[12]=o,e[13]=c,e[14]=f):f=e[14],(0,lt.useEffect)(p,f),c}var eo=s(47571);function to(){const e=(0,n.c)(2),{_:t}=(0,dt.useLingui)();let s;return e[0]!==t?(s=e=>{if(!e)return{raw:void 0,clean:void 0};let s=e.toString();return oo(s)?{raw:s,clean:t({id:"ItUNqU"})}:s.includes("Upstream Failure")||s.includes("NotEnoughResources")||s.includes("pipethrough network error")?{raw:s,clean:t({id:"ZdWWqK"})}:s.includes("Do not have authorization to set preferences")&&s.includes("app.bsky.actor.defs#personalDetailsPref")?{raw:s,clean:t({id:"0cMFWr"})}:s.includes("Bad token scope")||s.includes("Bad token method")?{raw:s,clean:t({id:"77VGfA"})}:s.includes("Rate Limit Exceeded")?{raw:s,clean:t({id:"hsiT9p"})}:(s.startsWith("Error: ")&&(s=s.slice(7)),{raw:s,clean:void 0})},e[0]=t,e[1]=s):s=e[1],s}const so=["Abort","Network request failed","Failed to fetch","Load failed","Upstream service unreachable"];function oo(e){const t=String(e);for(const s of so)if(t.includes(s))return!0;return!1}var no=s(27344),ao=s(51536),ro=s(84639),io=s(96449),lo=s(50788),co=s(23486);function uo({onPress:e,style:t}){const s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),[n,a]=(0,lt.useState)(null);return(0,bt.jsxs)(co.Text,{style:[qs.atoms.italic,qs.atoms.leading_snug,s.atoms.text_contrast_medium,t],children:[(0,bt.jsx)(dt.Trans,{id:"7xEtFq",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:o({id:"MyjAbr"})},(0,io.createStaticClick)((()=>{(async()=>{a("sending");try{await(0,eo.wait)(1e3,e()),a("success")}finally{setTimeout((()=>{a(null)}),1e3)}})()}))))}})," ",(0,bt.jsx)(co.Span,{style:{top:1},children:"sending"===n?(0,bt.jsx)(lo.Loader,{size:"xs"}):"success"===n?(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{size:"xs",fill:s.palette.positive_500}):null})]})}var mo=s(75281),ho=s(79694);function po(e){return Boolean(e&&/^[A-Z2-7]{5}-[A-Z2-7]{5}$/.test(e))}function fo(e){const t=(0,n.c)(11),{value:s,onChangeText:o,onSubmitEditing:a}=e,{_:r}=(0,dt.useLingui)(),i=Boolean(s&&s.length>10&&!po(s));let l;t[0]!==o?(l=e=>{o?.(function(e){const t=e.toUpperCase().replace(/[^A-Z2-7]/g,"");return t.length<=5?t:`${t.slice(0,5)}-${t.slice(5)}`}(e))},t[0]=o,t[1]=l):l=t[1];const c=l;let d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(mo.Icon,{icon:ho.Shield_Stroke2_Corner0_Rounded}),t[2]=d):d=t[2],t[3]!==r?(u=r({id:"ioZOzk"}),t[3]=r,t[4]=u):u=t[4],t[5]!==c||t[6]!==i||t[7]!==a||t[8]!==u||t[9]!==s?(m=(0,bt.jsx)(Fs.default,{children:(0,bt.jsxs)(mo.Root,{children:[d,(0,bt.jsx)(mo.Input,{isInvalid:i,label:u,placeholder:"XXXXX-XXXXX",value:s,onChangeText:c,onSubmitEditing:a})]})}),t[5]=c,t[6]=i,t[7]=a,t[8]=u,t[9]=s,t[10]=m):m=t[10],m}var go=s(37729);function xo(){const e=(0,n.c)(3),t=(0,Gt.useAgent)(),{currentAccount:s}=(0,Gt.useSession)();let o;return e[0]!==t||e[1]!==s?(o={mutationFn:async e=>{const{enabled:o,token:n}=e;if(!s?.email)throw new Error("No email found for the current account");await t.com.atproto.server.updateEmail({email:s.email,emailAuthFactor:o,token:n}),await t.resumeSession(t.session)}},e[0]=t,e[1]=s,e[2]=o):o=e[2],(0,go.useMutation)(o)}function _o(){const e=(0,n.c)(2),t=(0,Gt.useAgent)();let s;return e[0]!==t?(s={mutationFn:async()=>(await t.com.atproto.server.requestEmailUpdate()).data},e[0]=t,e[1]=s):s=e[1],(0,go.useMutation)(s)}function yo(e){const t=(0,n.c)(3),{style:s}=e,o=(0,qs.useTheme)();let a;return t[0]!==s||t[1]!==o.atoms.border_contrast_low?(a=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.border_t,o.atoms.border_contrast_low,s]}),t[0]=s,t[1]=o.atoms.border_contrast_low,t[2]=a):a=t[2],a}var bo=s(90161);function jo(e,t){switch(t.type){case"setError":return Object.assign({},e,{error:t.error,emailStatus:"error",tokenStatus:"error"});case"setStep":return Object.assign({},e,{error:"",step:t.step});case"setEmailStatus":return Object.assign({},e,{error:"",emailStatus:t.status});case"setTokenStatus":return Object.assign({},e,{error:"",tokenStatus:t.status});default:return e}}function vo(){const e=(0,n.c)(24),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=to(),{currentAccount:a}=(0,Gt.useSession)(),{mutateAsync:r}=_o(),{mutateAsync:i}=xo(),l=(0,Qs.useDialogContext)(),[c,d]=(0,lt.useState)("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={error:"",step:"email",emailStatus:"default",tokenStatus:"default"},e[0]=u):u=e[0];const[m,h]=(0,lt.useReducer)(jo,u);let p;e[1]!==s||e[2]!==o||e[3]!==r?(p=async()=>{h({type:"setEmailStatus",status:"pending"});try{await(0,eo.wait)(1e3,r()),h({type:"setEmailStatus",status:"success"}),setTimeout((()=>{h({type:"setStep",step:"token"})}),1e3)}catch(g){const t=g;Mt.logger.error("Manage2FA: email update code request failed",{safeMessage:t});const{clean:n}=o(t);h({type:"setError",error:n||s({id:"tN9z3K"})})}},e[1]=s,e[2]=o,e[3]=r,e[4]=p):p=e[4];const f=p;let g;e[5]!==s||e[6]!==o||e[7]!==l||e[8]!==i||e[9]!==c?(g=async()=>{if(po(c)){h({type:"setTokenStatus",status:"pending"});try{await(0,eo.wait)(1e3,i({enabled:!1,token:c})),h({type:"setTokenStatus",status:"success"}),setTimeout((()=>{l.close()}),1e3)}catch(_){const t=_;Mt.logger.error("Manage2FA: disable email 2FA failed",{safeMessage:t});const{clean:n}=o(t);h({type:"setError",error:n||s({id:"U977Ib"})})}}else h({type:"setError",error:s({id:"wtvoeQ"})})},e[5]=s,e[6]=o,e[7]=l,e[8]=i,e[9]=c,e[10]=g):g=e[10];const x=g;let _,y,b;return e[11]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.gap_sm],e[11]=_):_=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"M2Ap+K"})}),e[12]=y):y=e[12],e[13]!==s||e[14]!==a?.email||e[15]!==x||e[16]!==f||e[17]!==m.emailStatus||e[18]!==m.error||e[19]!==m.step||e[20]!==m.tokenStatus||e[21]!==t.atoms.text_contrast_medium||e[22]!==c?(b=(0,bt.jsxs)(Fs.default,{style:_,children:[y,"email"===m.step?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"tOZ4CW",values:{0:a?.email},components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.font_semi_bold]})}})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg,qs.atoms.pt_sm],children:[m.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:m.error}),(0,bt.jsxs)(ao.Button,{label:s({id:"65dxv8"}),size:"large",variant:"solid",color:"primary",onPress:f,disabled:"pending"===m.emailStatus,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"65dxv8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:"pending"===m.emailStatus?lo.Loader:"success"===m.emailStatus?ro.Check_Stroke2_Corner0_Rounded:bo.Envelope_Stroke2_Corner0_Rounded})]}),(0,bt.jsx)(yo,{}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"xN/fJ8",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:s({id:"lPgKS3"})},(0,io.createStaticClick)((()=>{h({type:"setStep",step:"token"})}))))}})})]})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"tOZ4CW",values:{0:a?.email},components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.font_semi_bold]})}})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.py_sm],children:[(0,bt.jsx)(fo,{value:c,onChangeText:d,onSubmitEditing:x}),(0,bt.jsx)(uo,{onPress:f})]}),m.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:m.error}),(0,bt.jsxs)(ao.Button,{label:s({id:"qERl58"}),size:"large",variant:"solid",color:"primary",onPress:x,disabled:!c||11!==c.length||"pending"===m.tokenStatus,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"qERl58"})}),"pending"===m.tokenStatus?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}):"success"===m.tokenStatus?(0,bt.jsx)(ao.ButtonIcon,{icon:ro.Check_Stroke2_Corner0_Rounded}):null]})]})]}),e[13]=s,e[14]=a?.email,e[15]=x,e[16]=f,e[17]=m.emailStatus,e[18]=m.error,e[19]=m.step,e[20]=m.tokenStatus,e[21]=t.atoms.text_contrast_medium,e[22]=c,e[23]=b):b=e[23],b}function So(e,t){switch(t.type){case"setError":return Object.assign({},e,{error:t.error,status:"error"});case"setStatus":return Object.assign({},e,{error:"",status:t.status});default:return e}}function wo(){const e=(0,n.c)(46),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=to(),{gtPhone:a}=(0,qs.useBreakpoints)(),{mutateAsync:r}=xo(),i=(0,Qs.useDialogContext)();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={error:"",status:"default"},e[0]=l):l=e[0];const[c,d]=(0,lt.useReducer)(So,l);let u;e[1]!==s||e[2]!==o||e[3]!==i||e[4]!==r?(u=async()=>{d({type:"setStatus",status:"pending"});try{await(0,eo.wait)(1e3,r({enabled:!0})),d({type:"setStatus",status:"success"}),setTimeout((()=>{i.close()}),1e3)}catch(h){const t=h;Mt.logger.error("Manage2FA: enable email 2FA failed",{safeMessage:t});const{clean:n}=o(t);d({type:"setError",error:n||s({id:"U977Ib"})})}},e[1]=s,e[2]=o,e[3]=i,e[4]=r,e[5]=u):u=e[5];const m=u;let h,p,f,g,x,_,y,b,j,v;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_lg],e[6]=h):h=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.gap_sm],e[7]=p):p=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"O/nhm+"})}),e[8]=f):f=e[8],e[9]!==t.atoms.text_contrast_medium?(g=[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],e[9]=t.atoms.text_contrast_medium,e[10]=g):g=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(dt.Trans,{id:"QRRuU+"}),e[11]=x):x=e[11],e[12]!==g?(_=(0,bt.jsxs)(Fs.default,{style:p,children:[f,(0,bt.jsx)(co.Text,{style:g,children:x})]}),e[12]=g,e[13]=_):_=e[13],e[14]!==c.error?(y=c.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:c.error}),e[14]=c.error,e[15]=y):y=e[15],e[16]!==a?(b=a&&[qs.atoms.flex_row_reverse],e[16]=a,e[17]=b):b=e[17],e[18]!==b?(j=[qs.atoms.gap_sm,b],e[18]=b,e[19]=j):j=e[19],e[20]!==s?(v=s({id:"PaQ3df"}),e[20]=s,e[21]=v):v=e[21];const S="pending"===c.status;let w;e[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"PaQ3df"})}),e[22]=w):w=e[22];const T="pending"===c.status?lo.Loader:"success"===c.status?ro.Check_Stroke2_Corner0_Rounded:ho.ShieldCheck_Stroke2_Corner0_Rounded;let k,C,I,A,P,E,L,R;return e[23]!==T?(k=(0,bt.jsx)(ao.ButtonIcon,{position:"right",icon:T}),e[23]=T,e[24]=k):k=e[24],e[25]!==m||e[26]!==v||e[27]!==S||e[28]!==k?(C=(0,bt.jsxs)(ao.Button,{label:v,size:"large",variant:"solid",color:"primary",onPress:m,disabled:S,children:[w,k]}),e[25]=m,e[26]=v,e[27]=S,e[28]=k,e[29]=C):C=e[29],e[30]!==s?(I=s({id:"dEgA5A"}),e[30]=s,e[31]=I):I=e[31],e[32]!==i?(A=()=>i.close(),e[32]=i,e[33]=A):A=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})}),e[34]=P):P=e[34],e[35]!==I||e[36]!==A?(E=(0,bt.jsx)(ao.Button,{label:I,size:"large",variant:"solid",color:"secondary",onPress:A,children:P}),e[35]=I,e[36]=A,e[37]=E):E=e[37],e[38]!==j||e[39]!==C||e[40]!==E?(L=(0,bt.jsxs)(Fs.default,{style:j,children:[C,E]}),e[38]=j,e[39]=C,e[40]=E,e[41]=L):L=e[41],e[42]!==L||e[43]!==_||e[44]!==y?(R=(0,bt.jsxs)(Fs.default,{style:h,children:[_,y,L]}),e[42]=L,e[43]=_,e[44]=y,e[45]=R):R=e[45],R}let To=function(e){return e.Update="Update",e.Verify="Verify",e.VerificationReminder="VerificationReminder",e.Manage2FA="Manage2FA",e}({});function ko(e){const t=(0,n.c)(10),{showScreen:s}=e,{isEmailVerified:o,email2FAEnabled:a}=Js(),[r,i]=(0,lt.useState)(null);let l,c;if(t[0]!==o||t[1]!==s?(l=()=>{o||s({id:To.Verify,instructions:[(0,bt.jsx)(dt.Trans,{id:"PriClI"},"2fa")],onVerify:()=>{s({id:To.Manage2FA})}})},c=[o,s],t[0]=o,t[1]=s,t[2]=l,t[3]=c):(l=t[2],c=t[3]),(0,lt.useEffect)(l,c),a){if(!r){let e;return i("disable"),t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(vo,{}),t[4]=e):e=t[4],e}if("disable"===r){let e;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(vo,{}),t[5]=e):e=t[5],e}if("enable"===r){let e;return t[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(wo,{}),t[6]=e):e=t[6],e}}else{if(!r){let e;return i("enable"),t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(wo,{}),t[7]=e):e=t[7],e}if("disable"===r){let e;return t[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(vo,{}),t[8]=e):e=t[8],e}if("enable"===r){let e;return t[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(wo,{}),t[9]=e):e=t[9],e}}return null}var Co=s(64611);function Io(){const e=(0,n.c)(2),t=(0,Gt.useAgent)();let s;return e[0]!==t?(s={mutationFn:async()=>{await t.com.atproto.server.requestEmailConfirmation()}},e[0]=t,e[1]=s):s=e[1],(0,go.useMutation)(s)}async function Ao(e,t,s){await e.com.atproto.server.updateEmail({email:t.trim(),token:s}),await e.resumeSession(e.session)}function Po(e,t){switch(t.type){case"setStep":return Object.assign({},e,{step:t.step});case"setError":return Object.assign({},e,{error:t.error,mutationStatus:"error"});case"setMutationStatus":return Object.assign({},e,{error:"",mutationStatus:t.status});case"setEmail":{const s=(0,Co.validate)(t.value);return Object.assign({},e,{step:"email",token:"",email:t.value,emailValid:s})}case"setToken":return Object.assign({},e,{error:"",token:t.value})}}function Eo(e){const t=(0,n.c)(61),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),a=to(),{currentAccount:r}=(0,Gt.useSession)();let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={step:"email",mutationStatus:"default",error:"",email:"",emailValid:!0,token:""},t[0]=i):i=t[0];const[l,c]=(0,lt.useReducer)(Po,i),{mutateAsync:d}=function(){const e=(0,n.c)(3),t=(0,Gt.useAgent)(),{mutateAsync:s}=_o();let o;return e[0]!==t||e[1]!==s?(o={mutationFn:async e=>{const{email:o,token:n}=e;if(n)return await Ao(t,o,n),{status:"success"};{const{tokenRequired:e}=await s();return e?{status:"tokenRequired"}:(await Ao(t,o,n),{status:"success"})}}},e[0]=t,e[1]=s,e[2]=o):o=e[2],(0,go.useMutation)(o)}(),{mutateAsync:u}=_o(),{mutateAsync:m}=Io();let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{c({type:"setEmail",value:e})},t[1]=h):h=t[1];const p=h;let f;t[2]!==o||t[3]!==a||t[4]!==r||t[5]!==m||t[6]!==l.email||t[7]!==l.emailValid||t[8]!==l.step||t[9]!==l.token||t[10]!==d?(f=async()=>{if("token"!==l.step||po(l.token))if(c({type:"setMutationStatus",status:"pending"}),!1!==l.emailValid)if(l.email!==r.email)try{const{status:e}=await(0,eo.wait)(1e3,d({email:l.email,token:l.token}));if("tokenRequired"===e)c({type:"setStep",step:"token"}),c({type:"setMutationStatus",status:"default"});else if("success"===e){c({type:"setMutationStatus",status:"success"});try{await m()}catch{}}}catch(x){const t=x;Mt.logger.error("EmailDialog: update email failed",{safeMessage:t});const{clean:s}=a(t);c({type:"setError",error:s||o({id:"cUqfSd"})})}else c({type:"setError",error:o({id:"MxD+dT"})});else c({type:"setError",error:o({id:"Wq6Wcm"})});else c({type:"setError",error:o({id:"wtvoeQ"})})},t[2]=o,t[3]=a,t[4]=r,t[5]=m,t[6]=l.email,t[7]=l.emailValid,t[8]=l.step,t[9]=l.token,t[10]=d,t[11]=f):f=t[11];const g=f;let x,_,y,b,j,v,S,w,T,k;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.gap_lg],t[12]=x):x=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"GmYkFm"})}),t[13]=_):_=t[13],t[14]!==r?.emailAuthFactor?(y=r?.emailAuthFactor&&(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"hCwhYI"})}),t[14]=r?.emailAuthFactor,t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_md],t[16]=b):b=t[16],t[17]!==s.atoms.text_contrast_medium?(j=[qs.atoms.pb_sm,qs.atoms.leading_snug,s.atoms.text_contrast_medium],t[17]=s.atoms.text_contrast_medium,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"YpAI24"}),t[19]=v):v=t[19],t[20]!==j?(S=(0,bt.jsx)(co.Text,{style:j,children:v}),t[20]=j,t[21]=S):S=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(mo.Icon,{icon:bo.Envelope_Stroke2_Corner0_Rounded}),t[22]=w):w=t[22],t[23]!==o?(T=o({id:"OenGwo"}),t[23]=o,t[24]=T):T=t[24],t[25]!==o?(k=o({id:"w8klS3"}),t[25]=o,t[26]=k):k=t[26];const C="success"===l.mutationStatus?void 0:p;let I,A,P,E,L,R,B;return t[27]!==g||t[28]!==l.email||t[29]!==T||t[30]!==k||t[31]!==C?(I=(0,bt.jsxs)(mo.Root,{children:[w,(0,bt.jsx)(mo.Input,{label:T,placeholder:k,defaultValue:l.email,onChangeText:C,keyboardType:"email-address",autoComplete:"email",autoCapitalize:"none",onSubmitEditing:g})]}),t[27]=g,t[28]=l.email,t[29]=T,t[30]=k,t[31]=C,t[32]=I):I=t[32],t[33]!==I||t[34]!==S?(A=(0,bt.jsxs)(Fs.default,{children:[S,I]}),t[33]=I,t[34]=S,t[35]=A):A=t[35],t[36]!==g||t[37]!==u||t[38]!==l.mutationStatus||t[39]!==l.step||t[40]!==l.token||t[41]!==s.atoms.text_contrast_medium?(P="token"===l.step&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.pb_sm,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"4fWT0G"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.pb_sm,qs.atoms.leading_snug,s.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"94kT9k"})}),(0,bt.jsx)(fo,{value:l.token,onChangeText:"success"===l.mutationStatus?void 0:e=>{c({type:"setToken",value:e})},onSubmitEditing:g}),"success"!==l.mutationStatus&&(0,bt.jsx)(uo,{onPress:u,style:[qs.atoms.pt_sm]})]})]}),t[36]=g,t[37]=u,t[38]=l.mutationStatus,t[39]=l.step,t[40]=l.token,t[41]=s.atoms.text_contrast_medium,t[42]=P):P=t[42],t[43]!==l.error?(E=l.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:l.error}),t[43]=l.error,t[44]=E):E=t[44],t[45]!==A||t[46]!==P||t[47]!==E?(L=(0,bt.jsxs)(Fs.default,{style:b,children:[A,P,E]}),t[45]=A,t[46]=P,t[47]=E,t[48]=L):L=t[48],t[49]!==o||t[50]!==g||t[51]!==l.email||t[52]!==l.mutationStatus||t[53]!==l.step||t[54]!==l.token||t[55]!==s.palette?(R="success"===l.mutationStatus?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],children:[(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{fill:s.palette.positive_500,size:"xs"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"oMgC5V"})})]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"UGGtmB"})})]})]}):(0,bt.jsxs)(ao.Button,{label:o({id:"F3cQW2"}),size:"large",variant:"solid",color:"primary",onPress:g,disabled:!l.email||"token"===l.step&&(!l.token||11!==l.token.length)||"pending"===l.mutationStatus,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"F3cQW2"})}),"pending"===l.mutationStatus&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),t[49]=o,t[50]=g,t[51]=l.email,t[52]=l.mutationStatus,t[53]=l.step,t[54]=l.token,t[55]=s.palette,t[56]=R):R=t[56],t[57]!==L||t[58]!==R||t[59]!==y?(B=(0,bt.jsxs)(Fs.default,{style:x,children:[_,y,L,R]}),t[57]=L,t[58]=R,t[59]=y,t[60]=B):B=t[60],B}var Lo=s(44922);function Ro(e){const t=(0,n.c)(12),{gradient:s,style:o}=e;if(s.values.length<2)throw new Error("Gradient must have at least 2 colors");let a;t[0]!==s.values?(a=s.values.map(Do),t[0]=s.values,t[1]=a):a=t[1];const r=a;let i;t[2]!==s.values?(i=s.values.map(Bo),t[2]=s.values,t[3]=i):i=t[3];const l=i;let c,d,u,m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(c={x:0,y:0},d={x:1,y:1},t[4]=c,t[5]=d):(c=t[4],d=t[5]),t[6]!==o?(u=[qs.atoms.absolute,qs.atoms.inset_0,o],t[6]=o,t[7]=u):u=t[7],t[8]!==r||t[9]!==l||t[10]!==u?(m=(0,bt.jsx)(Lo.LinearGradient,{colors:r,locations:l,start:c,end:d,style:u}),t[8]=r,t[9]=l,t[10]=u,t[11]=m):m=t[11],m}function Bo(e){return e[0]}function Do(e){return e[1]}function Oo(e){const t=(0,n.c)(57),{showScreen:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{gtPhone:r,gtMobile:i}=(0,qs.useBreakpoints)(),l=(0,Qs.useDialogContext)(),c=i?qs.atoms.p_2xl.padding:qs.atoms.p_xl.padding;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.gap_lg],t[0]=d):d=t[0];const u=-1*(0,qs.platform)({web:c,default:qs.atoms.p_2xl.padding}),m=-1*c,h=-1*c;let p,f,g,x,_,y,b;t[1]!==u||t[2]!==m||t[3]!==h?(p=[qs.atoms.absolute,{top:u,left:m,right:h,height:150}],t[1]=u,t[2]=m,t[3]=h,t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f={borderTopLeftRadius:qs.atoms.rounded_md.borderRadius,borderTopRightRadius:qs.atoms.rounded_md.borderRadius},t[5]=f):f=t[5],t[6]!==o.atoms.bg_contrast_100?(g=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.overflow_hidden,qs.atoms.pt_md,o.atoms.bg_contrast_100,f],t[6]=o.atoms.bg_contrast_100,t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Ro,{gradient:qs.tokens.gradients.primary}),t[8]=x):x=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(ho.ShieldCheck_Stroke2_Corner0_Rounded,{width:64,fill:"white",style:[qs.atoms.z_10]}),t[9]=_):_=t[9],t[10]!==g?(y=(0,bt.jsxs)(Fs.default,{style:g,children:[x,_]}),t[10]=g,t[11]=y):y=t[11],t[12]!==y||t[13]!==p?(b=(0,bt.jsx)(Fs.default,{style:p,children:y}),t[12]=y,t[13]=p,t[14]=b):b=t[14];const j=150-c;let v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V;return t[15]!==j?(v=(0,bt.jsx)(Fs.default,{style:[qs.atoms.mb_xs,{height:j}]}),t[15]=j,t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.gap_sm],t[17]=S):S=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"F132R+"})}),t[18]=w):w=t[18],t[19]!==o.atoms.text_contrast_medium?(T=[qs.atoms.text_sm,qs.atoms.leading_snug,o.atoms.text_contrast_medium],t[19]=o.atoms.text_contrast_medium,t[20]=T):T=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(dt.Trans,{id:"E8ogPW"}),t[21]=k):k=t[21],t[22]!==T?(C=(0,bt.jsxs)(Fs.default,{style:S,children:[w,(0,bt.jsx)(co.Text,{style:T,children:k})]}),t[22]=T,t[23]=C):C=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(yo,{}),t[24]=I):I=t[24],t[25]!==r?(A=r&&[qs.atoms.flex_row_reverse],t[25]=r,t[26]=A):A=t[26],t[27]!==A?(P=[qs.atoms.gap_sm,A],t[27]=A,t[28]=P):P=t[28],t[29]!==a?(E=a({id:"ZDIydz"}),t[29]=a,t[30]=E):E=t[30],t[31]!==s?(L=()=>s({id:To.Verify}),t[31]=s,t[32]=L):L=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"ZDIydz"})}),t[33]=R):R=t[33],t[34]!==E||t[35]!==L?(B=(0,bt.jsx)(ao.Button,{label:E,variant:"solid",color:"primary",size:"large",onPress:L,children:R}),t[34]=E,t[35]=L,t[36]=B):B=t[36],t[37]!==a?(D=a({id:"Dd7YLj"}),t[37]=a,t[38]=D):D=t[38],t[39]!==a?(O=a({id:"EN1na+"}),t[39]=a,t[40]=O):O=t[40],t[41]!==l?(M=()=>l.close(),t[41]=l,t[42]=M):M=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Dd7YLj"})}),t[43]=F):F=t[43],t[44]!==D||t[45]!==O||t[46]!==M?(N=(0,bt.jsx)(ao.Button,{label:D,accessibilityHint:O,variant:"ghost",color:"secondary",size:"large",onPress:M,children:F}),t[44]=D,t[45]=O,t[46]=M,t[47]=N):N=t[47],t[48]!==P||t[49]!==B||t[50]!==N?(H=(0,bt.jsxs)(Fs.default,{style:P,children:[B,N]}),t[48]=P,t[49]=B,t[50]=N,t[51]=H):H=t[51],t[52]!==b||t[53]!==v||t[54]!==C||t[55]!==H?(V=(0,bt.jsxs)(Fs.default,{style:d,children:[b,v,C,I,H]}),t[52]=b,t[53]=v,t[54]=C,t[55]=H,t[56]=V):V=t[56],V}function Mo(e){const t=(0,n.c)(9);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{onSuccess:o,onError:a}=s,r=(0,Gt.useAgent)(),{currentAccount:i}=(0,Gt.useSession)();let l,c;return t[2]!==r||t[3]!==i?(l=async e=>{const{token:t}=e;if(!i?.email)throw new Error("No email found for the current account");await r.com.atproto.server.confirmEmail({email:i.email.trim(),token:t.trim()}),await r.resumeSession(r.session)},t[2]=r,t[3]=i,t[4]=l):l=t[4],t[5]!==a||t[6]!==o||t[7]!==l?(c={mutationFn:l,onSuccess:o,onError:a},t[5]=a,t[6]=o,t[7]=l,t[8]=c):c=t[8],(0,go.useMutation)(c)}function Fo(e,t){switch(t.type){case"setStep":return Object.assign({},e,{error:"",mutationStatus:"default",step:t.step});case"setError":return Object.assign({},e,{error:t.error,mutationStatus:"error"});case"setMutationStatus":return Object.assign({},e,{error:"",mutationStatus:t.status});case"setToken":return Object.assign({},e,{error:"",token:t.value})}}function No(e){const t=(0,n.c)(90),{config:s,showScreen:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=to(),{currentAccount:l}=(0,Gt.useSession)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={step:"email",mutationStatus:"default",error:"",token:""},t[0]=c):c=t[0];const[d,u]=(0,lt.useReducer)(Fo,c),{mutateAsync:m}=Io(),{mutateAsync:h}=Mo();let p,f;t[1]!==s?(p=()=>{s.onVerify?s.onVerify():u({type:"setStep",step:"success"})},t[1]=s,t[2]=p):p=t[2],function(e){const t=(0,n.c)(3);let s,o;t[0]!==e?(s=()=>($s.once("emailVerified",e),()=>{$s.off("emailVerified",e)}),o=[e],t[0]=e,t[1]=s,t[2]=o):(s=t[1],o=t[2]),(0,lt.useEffect)(s,o)}(p),t[3]!==r||t[4]!==i||t[5]!==m?(f=async()=>{u({type:"setMutationStatus",status:"pending"});try{await(0,eo.wait)(1e3,m()),u({type:"setMutationStatus",status:"success"})}catch(x){const t=x;Mt.logger.error("EmailDialog: sending verification email failed",{safeMessage:t});const{clean:s}=i(t);u({type:"setError",error:s||r({id:"tN9z3K"})})}},t[3]=r,t[4]=i,t[5]=m,t[6]=f):f=t[6];const g=f;let x;t[7]!==r||t[8]!==i||t[9]!==h||t[10]!==d.token?(x=async()=>{if(po(d.token)){u({type:"setMutationStatus",status:"pending"});try{await(0,eo.wait)(1e3,h({token:d.token})),u({type:"setStep",step:"success"})}catch(y){const t=y;Mt.logger.error("EmailDialog: confirming email failed",{safeMessage:t});const{clean:s}=i(t);u({type:"setError",error:s||r({id:"A9woWr"})})}}else u({type:"setError",error:r({id:"wtvoeQ"})})},t[7]=r,t[8]=i,t[9]=h,t[10]=d.token,t[11]=x):x=t[11];const _=x;if("success"===d.step){let e,s,o,n,r,i,l,c,d,u,m;return t[12]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.gap_lg],t[12]=e):e=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.gap_sm],t[13]=s):s=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.text_xl,qs.atoms.font_bold],t[14]=o):o=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(n={top:1},t[15]=n):n=t[15],t[16]!==a.palette.positive_500?(r=(0,bt.jsx)(co.Span,{style:n,children:(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{size:"sm",fill:a.palette.positive_500})}),t[16]=a.palette.positive_500,t[17]=r):r=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"7meqJL"}),t[18]=i):i=t[18],t[19]!==r?(l=(0,bt.jsxs)(co.Text,{style:o,children:[r,"  ",i]}),t[19]=r,t[20]=l):l=t[20],t[21]!==a.atoms.text_contrast_medium?(c=[qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],t[21]=a.atoms.text_contrast_medium,t[22]=c):c=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dt.Trans,{id:"6nY+qX"}),t[23]=d):d=t[23],t[24]!==c?(u=(0,bt.jsx)(co.Text,{style:c,children:d}),t[24]=c,t[25]=u):u=t[25],t[26]!==l||t[27]!==u?(m=(0,bt.jsx)(Fs.default,{style:e,children:(0,bt.jsxs)(Fs.default,{style:s,children:[l,u]})}),t[26]=l,t[27]=u,t[28]=m):m=t[28],m}let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;return t[29]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.gap_lg],t[29]=y):y=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_sm],t[30]=b):b=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_xl,qs.atoms.font_bold],t[31]=j):j=t[31],t[32]!==d.mutationStatus||t[33]!==d.step||t[34]!==a.palette?(v=(0,bt.jsx)(co.Text,{style:j,children:"email"===d.step?"success"===d.mutationStatus?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Span,{style:{top:1},children:(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{size:"sm",fill:a.palette.positive_500})}),"  ",(0,bt.jsx)(dt.Trans,{id:"JHLcvq"})]}):(0,bt.jsx)(dt.Trans,{id:"/IBv6X"}):(0,bt.jsx)(dt.Trans,{id:"Nuelt3"})}),t[32]=d.mutationStatus,t[33]=d.step,t[34]=a.palette,t[35]=v):v=t[35],t[36]!==s.instructions||t[37]!==d.mutationStatus||t[38]!==d.step||t[39]!==a.atoms.text_contrast_medium?(S="email"===d.step&&"success"!==d.mutationStatus&&(0,bt.jsx)(bt.Fragment,{children:s.instructions?.map(((e,t)=>(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:e},t)))}),t[36]=s.instructions,t[37]=d.mutationStatus,t[38]=d.step,t[39]=a.atoms.text_contrast_medium,t[40]=S):S=t[40],t[41]!==a.atoms.text_contrast_medium?(w=[qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],t[41]=a.atoms.text_contrast_medium,t[42]=w):w=t[42],t[43]!==l.email||t[44]!==d.mutationStatus||t[45]!==d.step||t[46]!==a.atoms.text?(T="email"===d.step?"success"===d.mutationStatus?(0,bt.jsx)(dt.Trans,{id:"yhUcvK",values:{0:l.email},components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.font_semi_bold,a.atoms.text]})}}):(0,bt.jsx)(dt.Trans,{id:"Z2fqAE",values:{0:l.email},components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.font_semi_bold,a.atoms.text]})}}):(0,bt.jsx)(dt.Trans,{id:"pqIkiM",values:{0:l.email},components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.font_semi_bold,a.atoms.text]})}}),t[43]=l.email,t[44]=d.mutationStatus,t[45]=d.step,t[46]=a.atoms.text,t[47]=T):T=t[47],t[48]!==w||t[49]!==T?(k=(0,bt.jsx)(co.Text,{style:w,children:T}),t[48]=w,t[49]=T,t[50]=k):k=t[50],t[51]!==r||t[52]!==o||t[53]!==d.mutationStatus||t[54]!==d.step||t[55]!==a.atoms.text_contrast_medium?(C="email"===d.step&&"success"!==d.mutationStatus&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"GYMBVa",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:r({id:"G3YQiX"})},(0,io.createStaticClick)((()=>{o({id:To.Update})}))))}})}),t[51]=r,t[52]=o,t[53]=d.mutationStatus,t[54]=d.step,t[55]=a.atoms.text_contrast_medium,t[56]=C):C=t[56],t[57]!==m||t[58]!==d.mutationStatus||t[59]!==d.step?(I="email"===d.step&&"success"===d.mutationStatus&&(0,bt.jsx)(uo,{onPress:m}),t[57]=m,t[58]=d.mutationStatus,t[59]=d.step,t[60]=I):I=t[60],t[61]!==k||t[62]!==C||t[63]!==I||t[64]!==v||t[65]!==S?(A=(0,bt.jsxs)(Fs.default,{style:b,children:[v,S,k,C,I]}),t[61]=k,t[62]=C,t[63]=I,t[64]=v,t[65]=S,t[66]=A):A=t[66],t[67]!==r||t[68]!==g||t[69]!==d.error||t[70]!==d.mutationStatus||t[71]!==d.step?(P="email"===d.step&&"success"!==d.mutationStatus?(0,bt.jsxs)(bt.Fragment,{children:[d.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:d.error}),(0,bt.jsxs)(ao.Button,{label:r({id:"IN+NvY"}),size:"large",variant:"solid",color:"primary",onPress:g,disabled:"pending"===d.mutationStatus,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"65dxv8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:"pending"===d.mutationStatus?lo.Loader:bo.Envelope_Stroke2_Corner0_Rounded})]})]}):null,t[67]=r,t[68]=g,t[69]=d.error,t[70]=d.mutationStatus,t[71]=d.step,t[72]=P):P=t[72],t[73]!==r||t[74]!==d.step||t[75]!==a.atoms.text_contrast_medium?(E="email"===d.step&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"xN/fJ8",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:r({id:"lPgKS3"})},(0,io.createStaticClick)((()=>{u({type:"setStep",step:"token"})}))))}})})]}),t[73]=r,t[74]=d.step,t[75]=a.atoms.text_contrast_medium,t[76]=E):E=t[76],t[77]!==r||t[78]!==_||t[79]!==d.error||t[80]!==d.mutationStatus||t[81]!==d.step||t[82]!==d.token||t[83]!==a.atoms.text_contrast_medium?(L="token"===d.step?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fo,{value:d.token,onChangeText:e=>{u({type:"setToken",value:e})},onSubmitEditing:_}),d.error&&(0,bt.jsx)(no.Admonition,{type:"error",children:d.error}),(0,bt.jsxs)(ao.Button,{label:r({id:"rYQz8C"}),size:"large",variant:"solid",color:"primary",onPress:_,disabled:!d.token||11!==d.token.length||"pending"===d.mutationStatus,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"rYQz8C"})}),"pending"===d.mutationStatus&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(yo,{}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"7h9YU2",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:r({id:"9dAlPj"})},(0,io.createStaticClick)((()=>{u({type:"setStep",step:"email"})}))))}})})]}):null,t[77]=r,t[78]=_,t[79]=d.error,t[80]=d.mutationStatus,t[81]=d.step,t[82]=d.token,t[83]=a.atoms.text_contrast_medium,t[84]=L):L=t[84],t[85]!==A||t[86]!==P||t[87]!==E||t[88]!==L?(R=(0,bt.jsxs)(Fs.default,{style:y,children:[A,P,E,L]}),t[85]=A,t[86]=P,t[87]=E,t[88]=L,t[89]=R):R=t[89],R}function Ho(){return(0,Ks.useGlobalDialogsControlContext)().emailDialogControl}function Vo(){const e=(0,n.c)(17),{_:t}=(0,dt.useLingui)(),s=Ho(),{isEmailVerified:o}=Js();let a;e[0]!==s||e[1]!==o?(a=()=>{o||s.value?.id===To.Verify&&s.value.onCloseWithoutVerifying?.(),s.clear()},e[0]=s,e[1]=o,e[2]=a):a=e[2];const r=a,i=s.control;let l,c,d,u,m,h,p;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(Qs.Handle,{}),e[3]=l):l=e[3],e[4]!==t?(c=t({id:"L8XZrX"}),e[4]=t,e[5]=c):c=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,qs.web)({maxWidth:400}),e[6]=d):d=e[6],e[7]!==s?(u=(0,bt.jsx)(zo,{control:s}),e[7]=s,e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(Qs.Close,{}),e[9]=m):m=e[9],e[10]!==c||e[11]!==u?(h=(0,bt.jsxs)(Qs.ScrollableInner,{label:c,style:d,children:[u,m]}),e[10]=c,e[11]=u,e[12]=h):h=e[12],e[13]!==s.control||e[14]!==r||e[15]!==h?(p=(0,bt.jsxs)(Qs.Outer,{control:i,onClose:r,children:[l,h]}),e[13]=s.control,e[14]=r,e[15]=h,e[16]=p):p=e[16],p}function zo(e){const t=(0,n.c)(10),{control:s}=e;let o;t[0]!==s.value?(o=()=>s.value,t[0]=s.value,t[1]=o):o=t[1];const[a,r]=(0,lt.useState)(o);if(!a)return null;switch(a.id){case To.Update:{let e;return t[2]!==a?(e=(0,bt.jsx)(Eo,{config:a,showScreen:r}),t[2]=a,t[3]=e):e=t[3],e}case To.Verify:{let e;return t[4]!==a?(e=(0,bt.jsx)(No,{config:a,showScreen:r}),t[4]=a,t[5]=e):e=t[5],e}case To.VerificationReminder:{let e;return t[6]!==a?(e=(0,bt.jsx)(Oo,{config:a,showScreen:r}),t[6]=a,t[7]=e):e=t[7],e}case To.Manage2FA:{let e;return t[8]!==a?(e=(0,bt.jsx)(ko,{config:a,showScreen:r}),t[8]=a,t[9]=e):e=t[9],e}default:return null}}function Uo(){const e=(0,n.c)(6),{currentAccount:t}=(0,Gt.useSession)(),{needsEmailVerification:s}=Kt(),o=(0,Gt.useRequireAuth)(),a=Ho(),r=(0,Gs.useCloseAllActiveElements)();let i;return e[0]!==r||e[1]!==t||e[2]!==a||e[3]!==s||e[4]!==o?(i=(e,n)=>{const i=void 0===n?{}:n;return(...n)=>{const l=n;return t?s?(Ws.default.dismiss(),r(),void a.open(Object.assign({id:To.Verify},i))):e(...l):o((()=>e(...l)))}},e[0]=r,e[1]=t,e[2]=a,e[3]=s,e[4]=o,e[5]=i):i=e[5],i}function Wo(){const e=(0,n.c)(6),{openComposer:t}=(0,ps.useOpenComposer)(),s=Uo();let o,a,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(dt.Trans,{id:"g669Pi"},"pre-compose"),e[0]=o):o=e[0],e[1]!==t||e[2]!==s?(a=s(t,{instructions:[o]}),e[1]=t,e[2]=s,e[3]=a):a=e[3],e[4]!==a?(r={openComposer:a},e[4]=a,e[5]=r):r=e[5],r}var Go=s(34638),qo=s(43261);function Qo(){const e=(0,n.c)(6),{verifyEmailDialogControl:t}=Yo();let s,o,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(Qs.Handle,{}),e[0]=s):s=e[0],e[1]!==t?(o=(0,bt.jsx)(Ko,{control:t}),e[1]=t,e[2]=o):o=e[2],e[3]!==t||e[4]!==o?(a=(0,bt.jsxs)(Qs.Outer,{control:t,children:[s,o]}),e[3]=t,e[4]=o,e[5]=a):a=e[5],a}function Ko(e){const t=(0,n.c)(33),s=(0,qs.useTheme)(),{gtMobile:o}=(0,qs.useBreakpoints)(),{_:a}=(0,dt.useLingui)(),{verifyEmailState:i}=Yo(),[l,c]=(0,lt.useState)("loading"),[d,u]=(0,lt.useState)(!1),m=(0,Gt.useAgent)(),{currentAccount:h}=(0,Gt.useSession)();let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={onSuccess:()=>c("success"),onError:()=>c("failure")},t[0]=p):p=t[0];const{mutate:f}=Mo(p);let g;t[1]!==f||t[2]!==i?(g=()=>{i?.code&&f({token:i.code})},t[1]=f,t[2]=i,t[3]=g):g=t[3];const x=i?.code;let _,y;t[4]!==f||t[5]!==x?(_=[x,f],t[4]=f,t[5]=x,t[6]=_):_=t[6],(0,lt.useEffect)(g,_),t[7]!==m.com.atproto.server?(y=async()=>{u(!0),await m.com.atproto.server.requestEmailConfirmation(),u(!1),c("resent")},t[7]=m.com.atproto.server,t[8]=y):y=t[8];const b=y;let j,v,S,w,T,k,C,I,A;return t[9]!==a?(j=a({id:"JMTD7S"}),t[9]=a,t[10]=j):j=t[10],t[11]!==o?(v=o?{width:"auto",maxWidth:400,minWidth:200}:qs.atoms.w_full,t[11]=o,t[12]=v):v=t[12],t[13]!==v?(S=[v],t[13]=v,t[14]=S):S=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_xl],t[15]=w):w=t[15],t[16]!==h?.email||t[17]!==l||t[18]!==s?(T="loading"===l?(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_2xl,qs.atoms.align_center,qs.atoms.justify_center],children:(0,bt.jsx)(lo.Loader,{size:"xl",fill:s.atoms.text_contrast_low.color})}):"success"===l?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,r.IS_NATIVE&&qs.atoms.pb_xl],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"nKExoO"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"oNSoEG"})})]}):"failure"===l?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"3/4uj+"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"7FR3ev"})})]}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,r.IS_NATIVE&&qs.atoms.pb_xl],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"yAJVYn"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"19e6ry",values:{0:h?.email},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold]})}})})]}),t[16]=h?.email,t[17]=l,t[18]=s,t[19]=T):T=t[19],t[20]!==a||t[21]!==b||t[22]!==d||t[23]!==l?(k="failure"===l&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(ao.Button,{label:a({id:"NRybJY"}),onPress:b,color:"secondary_inverted",size:"large",disabled:d,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:d?lo.Loader:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Brvd0l"})})]})]}),t[20]=a,t[21]=b,t[22]=d,t[23]=l,t[24]=k):k=t[24],t[25]!==T||t[26]!==k?(C=(0,bt.jsxs)(Fs.default,{style:w,children:[T,k]}),t[25]=T,t[26]=k,t[27]=C):C=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(Qs.Close,{}),t[28]=I):I=t[28],t[29]!==C||t[30]!==j||t[31]!==S?(A=(0,bt.jsxs)(Qs.ScrollableInner,{label:j,style:S,children:[C,I]}),t[29]=C,t[30]=j,t[31]=S,t[32]=A):A=t[32],A}const Zo=lt.createContext({});Zo.displayName="IntentDialogsContext";const Yo=()=>lt.useContext(Zo);function $o(e){const t=(0,n.c)(7),{children:s}=e,o=Qs.useDialogControl(),[a,r]=lt.useState();let i;t[0]!==o||t[1]!==a?(i={verifyEmailDialogControl:o,verifyEmailState:a,setVerifyEmailState:r},t[0]=o,t[1]=a,t[2]=i):i=t[2];const l=i;let c,d;return t[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Qo,{}),t[3]=c):c=t[3],t[4]!==s||t[5]!==l?(d=(0,bt.jsxs)(Zo.Provider,{value:l,children:[s,c]}),t[4]=s,t[5]=l,t[6]=d):d=t[6],d}var Xo=s(33703),Jo=s(19882);const en=/^[\w.:\-_/]+\|\d+(\.\d+)?\|\d+(\.\d+)?$/;let tn="";function sn(){const e=(0,n.c)(13),t=zs.useLinkingURL(),s=(0,Xo.useAnalytics)(),o=function(){const e=(0,n.c)(4),t=(0,Gs.useCloseAllActiveElements)(),{openComposer:s}=Wo(),{hasSession:o}=(0,Gt.useSession)();let a;e[0]!==t||e[1]!==o||e[2]!==s?(a=e=>{const{text:n,imageUrisStr:a,videoUri:i}=e;if(!o)return;if(t(),i){const[e,t,o]=i.split("|");return void s({text:n??void 0,videoUri:{uri:e,width:Number(t),height:Number(o)},logContext:"Deeplink"})}const l=a?.split(",").filter(an).map(nn);setTimeout((()=>{s({text:n??void 0,imageUris:r.IS_NATIVE?l:void 0,logContext:"Deeplink"})}),500)},e[0]=t,e[1]=o,e[2]=s,e[3]=a):a=e[3];return a}(),a=function(){const e=(0,n.c)(4),t=(0,Gs.useCloseAllActiveElements)(),{verifyEmailDialogControl:s,setVerifyEmailState:o}=Yo();let a;e[0]!==t||e[1]!==s||e[2]!==o?(a=e=>{t(),o({code:e}),setTimeout((()=>{s.open()}),1e3)},e[0]=t,e[1]=s,e[2]=o,e[3]=a):a=e[3];return a}(),{currentAccount:i}=(0,Gt.useSession)(),{tryApplyUpdate:l}={tryApplyUpdate:()=>{},revertToEmbedded:()=>{},isCurrentlyRunningPullRequestDeployment:!1,currentChannel:"web-build",pending:!1};let c,d;e[0]!==s||e[1]!==o||e[2]!==t||e[3]!==l||e[4]!==a?(c=()=>{if(t){if(tn===t)return;(async e=>{r.IS_IOS&&await Us.dismissBrowser().catch(on);const t=Jo.Referrer.getReferrerInfo();t&&"bsky.app"!==t.hostname&&s.metric("deepLink:referrerReceived",{to:e,referrer:t?.referrer,hostname:t?.hostname});const n=(0,Go.parseLinkingUrl)(e),[,i,c]=n.pathname.split("/"),d="intent"===i,u=n.searchParams;if(d)switch(c){case"compose":return void o({text:u.get("text"),imageUrisStr:u.get("imageUris"),videoUri:u.get("videoUri")});case"verify-email":{const e=u.get("code");if(!e)return;return void a(e)}case"age-assurance":default:return;case"apply-ota":{const e=u.get("channel");e?l(e):Vs.default.alert("Error","No channel provided to look for.")}}})(t),tn=t}},e[0]=s,e[1]=o,e[2]=t,e[3]=l,e[4]=a,e[5]=c):c=e[5],e[6]!==s||e[7]!==o||e[8]!==i||e[9]!==t||e[10]!==l||e[11]!==a?(d=[t,s,o,a,i,l],e[6]=s,e[7]=o,e[8]=i,e[9]=t,e[10]=l,e[11]=a,e[12]=d):d=e[12],lt.useEffect(c,d)}function on(){}function nn(e){const[t,s,o]=e.split("|");return{uri:t,width:Number(s),height:Number(o)}}function an(e){return!e.includes("https://")&&!e.includes("http://")&&en.test(e)}var rn=s(96080);var ln=s(41711),cn=s(31545),dn=s(14542),un=s(37597),mn=s(52783),hn=s(58403);function pn(){const e=(0,n.c)(8),{activeLightbox:t}=(0,Xt.useLightbox)(),{closeLightbox:s}=(0,Xt.useLightboxControls)();if(!!!t)return null;const o=t.index,a=t.images;let r,i;return e[0]!==t.id||e[1]!==s||e[2]!==a||e[3]!==o?(r=(0,bt.jsx)(gn,{imgs:a,initialIndex:o,onClose:s},t.id),e[0]=t.id,e[1]=s,e[2]=a,e[3]=o,e[4]=r):r=e[4],e[5]!==s||e[6]!==r?(i=(0,bt.jsx)(qs.ThemeProvider,{theme:"dark",children:(0,bt.jsx)(fn,{handleBackgroundPress:s,children:r})}),e[5]=s,e[6]=r,e[7]=i):i=e[7],i}function fn(e){const t=(0,n.c)(12),{children:s,handleBackgroundPress:o}=e,{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m;return dn.useFocusGuards(),t[0]!==a?(r=a({id:"l49ujN"}),t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.fixed,qs.atoms.inset_0,qs.atoms.z_10],l=(0,bt.jsx)(Qs.Backdrop,{}),c=(0,bt.jsx)(Hs.RemoveScrollBar,{}),t[2]=i,t[3]=l,t[4]=c):(i=t[2],l=t[3],c=t[4]),t[5]===Symbol.for("react.memo_cache_sentinel")?(d={position:"absolute",inset:0},t[5]=d):d=t[5],t[6]!==s?(u=(0,bt.jsx)(un.FocusScope,{loop:!0,trapped:!0,asChild:!0,children:(0,bt.jsx)("div",{style:d,children:s})}),t[6]=s,t[7]=u):u=t[7],t[8]!==o||t[9]!==r||t[10]!==u?(m=(0,bt.jsxs)(ln.default,{accessibilityHint:void 0,accessibilityLabel:r,onPress:o,style:i,children:[l,c,u]}),t[8]=o,t[9]=r,t[10]=u,t[11]=m):m=t[11],m}function gn(e){const t=(0,n.c)(67),{imgs:s,initialIndex:o,onClose:a}=e,r=void 0===o?0:o,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),{reduceMotionEnabled:c}=(0,Ft.useA11y)(),[d,u]=(0,lt.useState)(r),[m,h]=(0,lt.useState)(!1),[p,f]=(0,lt.useState)(!1),{gtPhone:g}=(0,qs.useBreakpoints)(),x=d>=1,_=d<s.length-1;let y;t[0]!==x||t[1]!==d?(y=()=>{x&&u(d-1)},t[0]=x,t[1]=d,t[2]=y):y=t[2];const b=y;let j;t[3]!==_||t[4]!==d?(j=()=>{_&&u(d+1)},t[3]=_,t[4]=d,t[5]=j):j=t[5];const v=j;let S;t[6]!==a||t[7]!==b||t[8]!==v?(S=e=>{"Escape"===e.key?(e.preventDefault(),a()):"ArrowLeft"===e.key?b():"ArrowRight"===e.key&&v()},t[6]=a,t[7]=b,t[8]=v,t[9]=S):S=t[9];const w=S;let T,k,C;t[10]!==w?(T=()=>(window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)),k=[w],t[10]=w,t[11]=T,t[12]=k):(T=t[11],k=t[12]),(0,lt.useEffect)(T,k),t[13]!==c?(C=!c&&[qs.atoms.fade_in,{animationDelay:"0.2s",animationFillMode:"both"}],t[13]=c,t[14]=C):C=t[14];const I=C,A=s[d];let P,E,L,R,B,D,O,M,F,N;t[15]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.absolute,qs.atoms.inset_0],t[15]=P):P=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.align_center],t[16]=E):E=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(L=()=>h(!0),t[17]=L):L=t[17],t[18]!==m||t[19]!==A.alt||t[20]!==A.type||t[21]!==A.uri||t[22]!==d?(R=(0,bt.jsx)(xn,{source:A.uri,alt:A.alt,type:A.type,hasAnyLoaded:m,onLoad:L},d),t[18]=m,t[19]=A.alt,t[20]=A.type,t[21]=A.uri,t[22]=d,t[23]=R):R=t[23],t[24]!==l||t[25]!==x||t[26]!==I||t[27]!==g||t[28]!==b||t[29]!==i.palette.white?(B=x&&(0,bt.jsx)(ao.Button,{onPress:b,style:[qs.atoms.absolute,_n.leftBtn,_n.blurredBackdrop,qs.atoms.transition_color,I],hoverStyle:_n.blurredBackdropHover,color:"secondary",label:l({id:"MHk+7g"}),shape:"round",size:g?"large":"small",children:(0,bt.jsx)(mn.ChevronLeft_Stroke2_Corner0_Rounded,{size:g?"md":"sm",style:{color:i.palette.white}})}),t[24]=l,t[25]=x,t[26]=I,t[27]=g,t[28]=b,t[29]=i.palette.white,t[30]=B):B=t[30],t[31]!==l||t[32]!==_||t[33]!==I||t[34]!==g||t[35]!==v||t[36]!==i.palette.white?(D=_&&(0,bt.jsx)(ao.Button,{onPress:v,style:[qs.atoms.absolute,_n.rightBtn,_n.blurredBackdrop,qs.atoms.transition_color,I],hoverStyle:_n.blurredBackdropHover,color:"secondary",label:l({id:"EatZYJ"}),shape:"round",size:g?"large":"small",children:(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:g?"md":"sm",style:{color:i.palette.white}})}),t[31]=l,t[32]=_,t[33]=I,t[34]=g,t[35]=v,t[36]=i.palette.white,t[37]=D):D=t[37],t[38]!==R||t[39]!==B||t[40]!==D?(O=(0,bt.jsxs)(Fs.default,{style:E,children:[R,B,D]}),t[38]=R,t[39]=B,t[40]=D,t[41]=O):O=t[41],t[42]!==l||t[43]!==I||t[44]!==A.alt||t[45]!==p||t[46]!==i.atoms?(M=A.alt?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_4xl,qs.atoms.py_2xl,i.atoms.bg,I],children:(0,bt.jsx)(ln.default,{accessibilityLabel:l({id:"0PkE20"}),accessibilityHint:l({id:"+2Y2GY"}),onPress:()=>{f(!p)},children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],numberOfLines:p?0:3,ellipsizeMode:"tail",children:A.alt})})}):null,t[42]=l,t[43]=I,t[44]=A.alt,t[45]=p,t[46]=i.atoms,t[47]=M):M=t[47],t[48]!==I?(F=[qs.atoms.absolute,_n.closeBtn,_n.blurredBackdrop,qs.atoms.transition_color,I],t[48]=I,t[49]=F):F=t[49],t[50]!==l?(N=l({id:"l49ujN"}),t[50]=l,t[51]=N):N=t[51];const H=g?"large":"small",V=g?"md":"sm";let z,U,W,G;return t[52]!==i.palette.white?(z={color:i.palette.white},t[52]=i.palette.white,t[53]=z):z=t[53],t[54]!==V||t[55]!==z?(U=(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:V,style:z}),t[54]=V,t[55]=z,t[56]=U):U=t[56],t[57]!==a||t[58]!==F||t[59]!==N||t[60]!==H||t[61]!==U?(W=(0,bt.jsx)(ao.Button,{onPress:a,style:F,hoverStyle:_n.blurredBackdropHover,color:"secondary",label:N,shape:"round",size:H,children:U}),t[57]=a,t[58]=F,t[59]=N,t[60]=H,t[61]=U,t[62]=W):W=t[62],t[63]!==O||t[64]!==M||t[65]!==W?(G=(0,bt.jsxs)(Fs.default,{style:P,children:[O,M,W]}),t[63]=O,t[64]=M,t[65]=W,t[66]=G):G=t[66],G}function xn(e){const t=(0,n.c)(24),{source:s,alt:o,type:a,onLoad:r,hasAnyLoaded:i}=e,{reduceMotionEnabled:l}=(0,Ft.useA11y)(),[c,d]=(0,lt.useState)(!1),[u]=(0,lt.useState)(!i);let m,h,p;if(t[0]!==o||t[1]!==i||t[2]!==u||t[3]!==r||t[4]!==l||t[5]!==s||t[6]!==a){const e=!l&&u&&(i?[qs.atoms.zoom_fade_in,{animationDuration:"0.5s"}]:{opacity:0});let n;t[8]!==r?(n=()=>{d(!0),r()},t[8]=r,t[9]=n):n=t[9];const c=n;m=null;e:switch(a){case"circle-avi":case"rect-avi":m=(0,bt.jsx)("img",{src:s,style:(0,qs.flatten)([_n.avi,{borderRadius:"circle-avi"===a?"50%":"rect-avi"===a?"10%":0},e]),alt:o,onLoad:c});break e;case"image":{let n,a,r;t[10]!==s?(n={uri:s},t[10]=s,t[11]=n):n=t[11],t[12]!==e?(a=[qs.atoms.w_full,qs.atoms.h_full,e],t[12]=e,t[13]=a):a=t[13],t[14]!==o||t[15]!==c||t[16]!==n||t[17]!==a?(r=(0,bt.jsx)(cn.Image,{source:n,alt:o,style:a,onLoad:c,contentFit:"contain",accessibilityIgnoresInvertColors:!0}),t[14]=o,t[15]=c,t[16]=n,t[17]=a,t[18]=r):r=t[18],m=r}}t[0]=o,t[1]=i,t[2]=u,t[3]=r,t[4]=l,t[5]=s,t[6]=a,t[7]=m}else m=t[7];return t[19]!==c?(h=!c&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.fade_in,{opacity:0,animationDuration:"500ms",animationDelay:"1s",animationFillMode:"both"}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[19]=c,t[20]=h):h=t[20],t[21]!==m||t[22]!==h?(p=(0,bt.jsxs)(bt.Fragment,{children:[m,h]}),t[21]=m,t[22]=h,t[23]=p):p=t[23],p}const _n=Os.default.create({avi:{maxWidth:"calc(min(400px, 100vw))",maxHeight:"calc(min(400px, 100vh))",padding:16,boxSizing:"border-box"},closeBtn:{top:20,right:20},leftBtn:{left:20,right:"auto",top:"50%"},rightBtn:{right:20,left:"auto",top:"50%"},blurredBackdrop:{backgroundColor:"#00000077",backdropFilter:"blur(10px)"},blurredBackdropHover:{backgroundColor:"#00000088"}});var yn=s(61551),bn=s(32129),jn=s(47741),vn=s(45473),Sn=s(16367),wn=s(12062),Tn=s(98285),kn=s(69883),Cn=s(8347),In=s(75632),An=s(52413),Pn=s(66894),En=s(86832);function Ln(){const e=(0,Xo.useAnalytics)(),[t,s]=(0,lt.useState)(null),{_:o}=(0,dt.useLingui)(),{resumeSession:n}=(0,Gt.useSessionApi)(),{requestSwitchToAccount:a}=Ts();return{onPressSwitchAccount:(0,lt.useCallback)((async(i,l)=>{if(!t)try{s(i.did),i.accessJwt?(r.IS_WEB&&history.pushState(null,"","/"),await n(i,!0),e.metric("account:loggedIn",{logContext:l,withPassword:!1}),Ds.show(o({id:"Dx1GST",values:{0:i.handle}}))):(a({requestedAccount:i.did}),Ds.show(o({id:"G3Hyy1",values:{0:i.handle}}),"circle-exclamation"))}catch(c){Mt.logger.error("switch account: selectAccount failed",{message:c.message}),a({requestedAccount:i.did}),Ds.show(o({id:"G3Hyy1",values:{0:i.handle}}),"circle-exclamation")}finally{s(null)}}),[o,e,n,a,t]),pendingDid:t}}function Rn(e,t){return"dark"===(0,Pt.useTheme)().colorScheme?t:e}var Bn=s(25006),Dn=(s(54685),s(54545),s(3917),s(47654),s(32548),s(66949)),On=s(18102),Mn=s(27321),Fn=s(21560),Nn=s(1822),Hn=s(95032);let Vn;function zn(e){Vn=e}function Un(e){if(null==e.request.trigger||"object"!==typeof e.request.trigger||!("type"in e.request.trigger)||"push"!==e.request.trigger.type)return null;const t=r.IS_IOS?e.request.trigger.payload:e.request.content.data;return t&&t.reason?t:(t&&Mn.logger.debug("getNotificationPayload: received unknown payload",{payload:t,identifier:e.request.identifier}),null)}function Wn(e){switch(e?.reason){case"like":case"repost":case"like-via-repost":case"repost-via-repost":{const t=new Dn.AtUri(e.subject);return"app.bsky.feed.post"===t.collection?`/profile/${t.host}/post/${t.rkey}`:"/notifications"}case"reply":case"quote":case"mention":case"subscribed-post":{const t=new Dn.AtUri(e.uri);return"app.bsky.feed.post"===t.collection?`/profile/${t.host}/post/${t.rkey}`:"/notifications"}case"follow":case"starterpack-joined":return`/profile/${new Dn.AtUri(e.uri).host}`;case"chat-message":default:return null;case"verified":case"unverified":return"/notifications"}}var Gn=s(57508);function qn(){return{scrollYs:new Map,focusedKey:null}}"scrollRestoration"in history&&(history.scrollRestoration="manual");var Qn=s(7150);function Kn(e){if(!e)return{name:"Home"};let t=e.routes[e.index||0];for(;t.state?.routes&&"number"===typeof t.state?.index;)t=t.state?.routes[t.state?.index];return t}function Zn(e,t){return e===t||e===`${t}Tab`||e===`${t}Inner`}let Yn=function(e){return e[e.InsideAtRoot=0]="InsideAtRoot",e[e.Inside=1]="Inside",e[e.Outside=2]="Outside",e}({});function $n(e,t){if(!e)return Yn.Outside;return Zn(Kn(e).name,t)?Yn.InsideAtRoot:Zn(e.routes[e.index||0].name,t)?Yn.Inside:Yn.Outside}function Xn(e,t,s,o=[]){return"Flat"===e?{routes:[{name:t,params:s}]}:{routes:[{name:e,state:{routes:[...o,{name:t,params:s}]}}]}}function Jn(e,t){return`${t?`(${t}) `:""}${e} \u2014 Bluesky`}var ea=s(51833),ta=s(63366),sa=s(44621),oa=s(45146),na=s(98539);const aa=e=>{1!==e.button||e.target.closest("a")||"A"===e.target.tagName||e.target.dispatchEvent(new MouseEvent("click",{metaKey:!0,bubbles:!0}))},ra=e=>{1===e.button&&e.preventDefault()};function ia(e){const t=(0,n.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)("div",{onMouseDown:ra,onMouseUp:aa,children:s}),t[0]=s,t[1]=o):o=t[1],o}var la=s(1814);const ca=["children","style","hoverStyle"],da=(0,lt.forwardRef)((function(e,t){const s=(0,n.c)(16);let o,a,r,i;if(s[0]!==e){var l=e;({children:o,style:i,hoverStyle:a}=l),r=(0,ta.default)(l,ca),s[0]=e,s[1]=o,s[2]=a,s[3]=r,s[4]=i}else o=s[1],a=s[2],r=s[3],i=s[4];const{state:c,onIn:d,onOut:u}=(0,la.useInteractionState)();let m,h;return s[5]!==a||s[6]!==c||s[7]!==i?(m="function"!==typeof i&&c?(0,kn.addStyle)(i,a):i,s[5]=a,s[6]=c,s[7]=i,s[8]=m):m=s[8],s[9]!==o||s[10]!==d||s[11]!==u||s[12]!==r||s[13]!==t||s[14]!==m?(h=(0,bt.jsx)(ln.default,Object.assign({},r,{style:m,onHoverIn:d,onHoverOut:u,ref:t,children:o})),s[9]=o,s[10]=d,s[11]=u,s[12]=r,s[13]=t,s[14]=m,s[15]=h):h=s[15],h}));var ua=s(94929);const ma=["testID","style","href","title","children","noFeedback","asAnchor","accessible","anchorNoUnderline","navigationAction","onBeforePress","accessibilityActions","onAccessibilityAction","dataSet"],ha=["testID","type","style","href","text","numberOfLines","lineHeight","dataSet","title","onPress","onBeforePress","disableMismatchWarning","navigationAction","anchorNoUnderline"],pa=["testID","type","style","href","text","numberOfLines","lineHeight","navigationAction","disableMismatchWarning","onBeforePress"],fa=(0,lt.memo)((function(e){const t=(0,n.c)(72);let s,o,a,i,l,c,d,u,m,h,p,f,g,x,_;if(t[0]!==e){var y=e;({testID:x,style:g,href:d,title:_,children:l,noFeedback:m,asAnchor:i,accessible:o,anchorNoUnderline:a,navigationAction:u,onBeforePress:p,accessibilityActions:s,onAccessibilityAction:h,dataSet:c}=y),f=(0,ta.default)(y,ma),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f,t[13]=g,t[14]=x,t[15]=_}else s=t[1],o=t[2],a=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12],g=t[13],x=t[14],_=t[15];const b=(0,qs.useTheme)(),{closeModal:j}=(0,is.useModalControls)(),v=(0,oa.useNavigationDeduped)();let S;t[16]!==i||t[17]!==d?(S=i?(0,sa.sanitizeUrl)(d):void 0,t[16]=i,t[17]=d,t[18]=S):S=t[18];const w=S,T=(0,na.useOpenLink)();let k;t[19]!==j||t[20]!==d||t[21]!==v||t[22]!==u||t[23]!==p||t[24]!==T?(k=e=>{if(p?.(),"string"===typeof d)return _a(j,v,(0,sa.sanitizeUrl)(d),u,T,e)},t[19]=j,t[20]=d,t[21]=v,t[22]=u,t[23]=p,t[24]=T,t[25]=k):k=t[25];const C=k;let I,A,P;t[26]!==s?(I=s||[],t[26]=s,t[27]=I):I=t[27],t[28]!==_?(A={name:"activate",label:_},t[28]=_,t[29]=A):A=t[29],t[30]!==I||t[31]!==A?(P=[...I,A],t[30]=I,t[31]=A,t[32]=P):P=t[32];const E=P;let L;t[33]!==a||t[34]!==c?(L=a?Object.assign({},c,{noUnderline:1}):c,t[33]=a,t[34]=c,t[35]=L):L=t[35];const R=L;if(m){let e,s,n,a,i;return t[36]!==h||t[37]!==C?(e=e=>{"activate"===e.nativeEvent.actionName?C():h?.(e)},t[36]=h,t[37]=C,t[38]=e):e=t[38],t[39]!==b.atoms.bg_contrast_25.backgroundColor?(s={color:b.atoms.bg_contrast_25.backgroundColor},t[39]=b.atoms.bg_contrast_25.backgroundColor,t[40]=s):s=t[40],t[41]!==l||t[42]!==_?(n=l||(0,bt.jsx)(ua.Text,{children:_||"link"}),t[41]=l,t[42]=_,t[43]=n):n=t[43],t[44]!==w||t[45]!==g||t[46]!==n?(a=(0,bt.jsx)(Fs.default,{style:g,href:w,children:n}),t[44]=w,t[45]=g,t[46]=n,t[47]=a):a=t[47],t[48]!==E||t[49]!==o||t[50]!==R||t[51]!==C||t[52]!==f||t[53]!==a||t[54]!==e||t[55]!==s||t[56]!==x?(i=(0,bt.jsx)(ia,{children:(0,bt.jsx)(ln.default,Object.assign({testID:x,onPress:C,accessible:o,accessibilityRole:"link",accessibilityActions:E,onAccessibilityAction:e,dataSet:R},f,{android_ripple:s,unstable_pressDelay:r.IS_ANDROID?90:void 0,children:a}))}),t[48]=E,t[49]=o,t[50]=R,t[51]=C,t[52]=f,t[53]=a,t[54]=e,t[55]=s,t[56]=x,t[57]=i):i=t[57],i}const B=f.hoverStyle?da:ln.default,D=f.accessibilityLabel??_;let O,M;return t[58]!==l||t[59]!==_?(O=l||(0,bt.jsx)(ua.Text,{children:_||"link"}),t[58]=l,t[59]=_,t[60]=O):O=t[60],t[61]!==B||t[62]!==o||t[63]!==w||t[64]!==R||t[65]!==C||t[66]!==f||t[67]!==g||t[68]!==D||t[69]!==O||t[70]!==x?(M=(0,bt.jsx)(B,Object.assign({testID:x,style:g,onPress:C,accessible:o,accessibilityRole:"link",accessibilityLabel:D,accessibilityHint:f.accessibilityHint,href:w,dataSet:R},f,{children:O})),t[61]=B,t[62]=o,t[63]=w,t[64]=R,t[65]=C,t[66]=f,t[67]=g,t[68]=D,t[69]=O,t[70]=x,t[71]=M):M=t[71],M})),ga=(0,lt.memo)((function(e){const t=(0,n.c)(47);let s,o,a,i,l,c,d,u,m,h,p,f,g,x,_;if(t[0]!==e){var y=e;({testID:g,type:f,style:p,href:i,text:x,numberOfLines:d,lineHeight:l,dataSet:o,title:_,onPress:m,onBeforePress:u,disableMismatchWarning:a,navigationAction:c,anchorNoUnderline:s}=y),h=(0,ta.default)(y,ha),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f,t[13]=g,t[14]=x,t[15]=_}else s=t[1],o=t[2],a=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12],g=t[13],x=t[14],_=t[15];const b=void 0===f?"md":f,j=(0,oa.useNavigationDeduped)(),{closeModal:v}=(0,is.useModalControls)(),{linkWarningDialogControl:S}=(0,Ks.useGlobalDialogsControlContext)(),w=(0,na.useOpenLink)();let T;t[16]!==s||t[17]!==o?(T=s?Object.assign({},o,{noUnderline:1}):o,t[16]=s,t[17]=o,t[18]=T):T=t[18];const k=T;let C;t[19]!==v||t[20]!==a||t[21]!==i||t[22]!==S||t[23]!==j||t[24]!==c||t[25]!==u||t[26]!==m||t[27]!==w||t[28]!==x?(C=e=>{if(!a&&(0,zt.linkRequiresWarning)(i,"string"===typeof x?x:"")&&(e?.preventDefault?.(),S.open({displayText:"string"===typeof x?x:"",href:i})),!r.IS_WEB||"#"===i||null==e||!function(e){const t=e.currentTarget,s=t.getAttribute("target");return s&&"_self"!==s||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e))return u?.(),m?(e?.preventDefault?.(),m()):_a(v,j,(0,sa.sanitizeUrl)(i),c,w,e)},t[19]=v,t[20]=a,t[21]=i,t[22]=S,t[23]=j,t[24]=c,t[25]=u,t[26]=m,t[27]=w,t[28]=x,t[29]=C):C=t[29];const I=C;let A;e:{if((0,zt.isExternalUrl)(i)){let e;t[30]===Symbol.for("react.memo_cache_sentinel")?(e={target:"_blank"},t[30]=e):e=t[30],A=e;break e}let e;t[31]===Symbol.for("react.memo_cache_sentinel")?(e={},t[31]=e):e=t[31],A=e}const P=A;let E,L;return t[32]!==i?(E=(0,zt.withBasePath)((0,zt.convertBskyAppUrlIfNeeded)((0,sa.sanitizeUrl)(i))),t[32]=i,t[33]=E):E=t[33],t[34]!==k||t[35]!==P||t[36]!==l||t[37]!==d||t[38]!==I||t[39]!==h||t[40]!==p||t[41]!==E||t[42]!==g||t[43]!==x||t[44]!==_||t[45]!==b?(L=(0,bt.jsx)(ua.Text,Object.assign({testID:g,type:b,style:p,numberOfLines:d,lineHeight:l,dataSet:k,title:_,hrefAttrs:P,onPress:I,accessibilityRole:"link",href:E},h,{children:x})),t[34]=k,t[35]=P,t[36]=l,t[37]=d,t[38]=I,t[39]=h,t[40]=p,t[41]=E,t[42]=g,t[43]=x,t[44]=_,t[45]=b,t[46]=L):L=t[46],L})),xa=((0,lt.memo)((function(e){const t=(0,n.c)(32);let s,o,a,i,l,c,d,u,m,h,p;if(t[0]!==e){var f=e;({testID:h,type:m,style:u,href:o,text:p,numberOfLines:l,lineHeight:a,navigationAction:i,disableMismatchWarning:s,onBeforePress:c}=f),d=(0,ta.default)(f,pa),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p}else s=t[1],o=t[2],a=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11];const g=void 0===m?"md":m;if(r.IS_WEB){let e;return t[12]!==s||t[13]!==o||t[14]!==a||t[15]!==i||t[16]!==l||t[17]!==c||t[18]!==d||t[19]!==u||t[20]!==h||t[21]!==p||t[22]!==g?(e=(0,bt.jsx)(ga,Object.assign({testID:h,type:g,style:u,href:o,text:p,numberOfLines:l,lineHeight:a,title:d.title,navigationAction:i,disableMismatchWarning:s,onBeforePress:c},d)),t[12]=s,t[13]=o,t[14]=a,t[15]=i,t[16]=l,t[17]=c,t[18]=d,t[19]=u,t[20]=h,t[21]=p,t[22]=g,t[23]=e):e=t[23],e}let x;return t[24]!==a||t[25]!==l||t[26]!==d||t[27]!==u||t[28]!==h||t[29]!==p||t[30]!==g?(x=(0,bt.jsx)(ua.Text,Object.assign({testID:h,type:g,style:u,numberOfLines:l,lineHeight:a,title:d.title},d,{children:p})),t[24]=a,t[25]=l,t[26]=d,t[27]=u,t[28]=h,t[29]=p,t[30]=g,t[31]=x):x=t[31],x})),["/robots.txt","/security.txt","/.well-known/"]);function _a(e=(()=>{}),t,s,o="push",n,a){let r=!1;const i=null==a.button||0===a.button,l=1===a.button,c=a.metaKey||a.altKey||a.ctrlKey||a.shiftKey||l;if(a?!a.defaultPrevented&&(i||l)&&[void 0,null,"","self"].includes(a.currentTarget?.target)&&(a.preventDefault(),r=!0):r=!a||!a.defaultPrevented,r)if(s=(0,zt.convertBskyAppUrlIfNeeded)(s),c||s.startsWith("http")||s.startsWith("mailto")||xa.some((e=>s.startsWith(e))))n(s);else{e();const[n,a]=Hn.router.matchPath(s);if("push"===o)t.dispatch(Ns.StackActions.push(n,a));else if("replace"===o)t.dispatch(Ns.StackActions.replace(n,a));else{if("navigate"!==o)throw Error("Unsupported navigator action.");$n(t.getState(),n)===Yn.InsideAtRoot?(0,_t.emitSoftReset)():t.navigate(n,a,{pop:!0})}}}var ya=s(82878);const ba=["style","topBorder"],ja=["contentContainerStyle","style","contentOffset","desktopFixedHeight"],va=["contentContainerStyle"],Sa=lt.forwardRef((function(e,t){const s=(0,n.c)(4);let{style:o,topBorder:a}=e,r=(0,ta.default)(e,ba);const i=(0,bn.usePalette)("default"),{isMobile:l}=(0,jn.useWebMediaQueries)(),{centerColumnOffset:c}=(0,qs.useLayoutBreakpoints)(),{isWithinDialog:d}=(0,Qs.useDialogContext)();let u;return l||(o=(0,kn.addStyle)(o,Ta.container)),c&&!d&&(o=(0,kn.addStyle)(o,Ta.containerOffset)),a&&(o=(0,kn.addStyle)(o,{borderTopWidth:1}),o=(0,kn.addStyle)(o,i.border)),s[0]!==r||s[1]!==t||s[2]!==o?(u=(0,bt.jsx)(Fs.default,Object.assign({ref:t,style:o},r)),s[0]=r,s[1]=t,s[2]=o,s[3]=u):u=s[3],u})),wa=(lt.forwardRef((function(e,t){const s=(0,n.c)(10);let{contentContainerStyle:o,style:a,contentOffset:r,desktopFixedHeight:i}=e,l=(0,ta.default)(e,ja);const{isMobile:c}=(0,jn.useWebMediaQueries)(),{centerColumnOffset:d}=(0,qs.useLayoutBreakpoints)(),{isWithinDialog:u}=(0,Qs.useDialogContext)();if(c||(o=(0,kn.addStyle)(o,Ta.containerScroll)),d&&!u&&(a=(0,kn.addStyle)(a,Ta.containerOffset)),r&&0!==r?.y&&(a=(0,kn.addStyle)(a,{paddingTop:0}),o=(0,kn.addStyle)(o,{paddingTop:Math.abs(r.y)})),i){if("number"===typeof i)a=(0,kn.addStyle)(a,{height:`calc(100vh - ${i}px)`});else{let e;s[0]!==a?(e=(0,kn.addStyle)(a,Ta.fixedHeight),s[0]=a,s[1]=e):e=s[1],a=e}c||(l.dataSet=l.dataSet||{},l.dataSet.stableGutters="1")}let m,h;return s[2]!==o?(m=[Ta.contentContainer,o],s[2]=o,s[3]=m):m=s[3],s[4]!==r||s[5]!==l||s[6]!==t||s[7]!==a||s[8]!==m?(h=(0,bt.jsx)(yn.default.FlatList,Object.assign({ref:t,contentContainerStyle:m,style:a,contentOffset:r},l)),s[4]=r,s[5]=l,s[6]=t,s[7]=a,s[8]=m,s[9]=h):h=s[9],h})),lt.forwardRef((function(e,t){const s=(0,n.c)(13);let o,a;if(s[0]!==e){var r=e;({contentContainerStyle:o}=r),a=(0,ta.default)(r,va),s[0]=e,s[1]=o,s[2]=a}else o=s[1],a=s[2];const{isMobile:i}=(0,jn.useWebMediaQueries)(),{centerColumnOffset:l}=(0,qs.useLayoutBreakpoints)();if(!i){let e;s[3]!==o?(e=(0,kn.addStyle)(o,Ta.containerScroll),s[3]=o,s[4]=e):e=s[4],o=e}if(l){let e;s[5]!==o?(e=(0,kn.addStyle)(o,Ta.containerOffset),s[5]=o,s[6]=e):e=s[6],o=e}let c,d;return s[7]!==o?(c=[Ta.contentContainer,o],s[7]=o,s[8]=c):c=s[8],s[9]!==a||s[10]!==t||s[11]!==c?(d=(0,bt.jsx)(yn.default.ScrollView,Object.assign({contentContainerStyle:c,ref:t},a)),s[9]=a,s[10]=t,s[11]=c,s[12]=d):d=s[12],d}))),Ta=Os.default.create({contentContainer:{minHeight:"100vh"},container:{width:"100%",maxWidth:600,marginLeft:"auto",marginRight:"auto"},containerOffset:{transform:[{translateX:ya.CENTER_COLUMN_OFFSET}]},containerScroll:{width:"100%",maxWidth:600,marginLeft:"auto",marginRight:"auto"},fixedHeight:{height:"100vh"}});function ka(e){const t=(0,n.c)(10),{title:s,renderButton:o}=e;let a,r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]!==s?(r=(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:s})}),t[1]=s,t[2]=r):r=t[2],t[3]!==o?(i=o?.()??null,t[3]=o,t[4]=i):i=t[4],t[5]!==i?(l=(0,bt.jsx)(ya.Header.Slot,{children:i}),t[5]=i,t[6]=l):l=t[6],t[7]!==r||t[8]!==l?(c=(0,bt.jsxs)(ya.Header.Outer,{children:[a,r,l]}),t[7]=r,t[8]=l,t[9]=c):c=t[9],c}const Ca=e=>{const t=(0,n.c)(21),s=(0,bn.usePalette)("default"),{_:o}=(0,dt.useLingui)(),a=(0,hs.useSetMinimalShellMode)();let r,i,l,c,d,u,m,h,p,f;return t[0]!==a?(r=()=>{a(!1)},t[0]=a,t[1]=r):r=t[1],(0,Ns.useFocusEffect)(r),t[2]!==o?(i=o({id:"KHzDTk"}),t[2]=o,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(ka,{title:i}),t[4]=i,t[5]=l):l=t[5],t[6]!==s.view?(c=[kn.s.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[kn.s.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,bt.jsx)(dt.Trans,{id:"o4M2MP",components:{0:(0,bt.jsx)(ga,{style:s.link,href:"https://bsky.social/about/support/community-guidelines",text:"bsky.social/about/support/community-guidelines"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(ua.Text,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Fs.default,{style:kn.s.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,bt.jsxs)(wa,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,bt.jsxs)(ya.Screen,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f},Ia=e=>{const t=(0,n.c)(21),s=(0,bn.usePalette)("default"),{_:o}=(0,dt.useLingui)(),a=(0,hs.useSetMinimalShellMode)();let r,i,l,c,d,u,m,h,p,f;return t[0]!==a?(r=()=>{a(!1)},t[0]=a,t[1]=r):r=t[1],(0,Ns.useFocusEffect)(r),t[2]!==o?(i=o({id:"u40k/o"}),t[2]=o,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(ka,{title:i}),t[4]=i,t[5]=l):l=t[5],t[6]!==s.view?(c=[kn.s.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[kn.s.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,bt.jsx)(dt.Trans,{id:"U42lKc",components:{0:(0,bt.jsx)(ga,{style:s.link,href:"https://bsky.social/about/support/copyright",text:"bsky.social/about/support/copyright"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(ua.Text,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Fs.default,{style:kn.s.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,bt.jsxs)(wa,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,bt.jsxs)(ya.Screen,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f};var Aa=s(71286),Pa=s(14551),Ea=s(92696),La=s(33387),Ra=s(6831),Ba=s(93859);function Da(){const e=(0,na.useOpenLink)();return(0,lt.useCallback)((async(t,s)=>{const o=(0,Lt.getTranslatorLink)(t,s);if(r.IS_ANDROID)try{if(!await Ba.getApplicationIconAsync("com.google.android.apps.translate"))throw new Error("Translate app not installed");await Ba.startActivityAsync("android.intent.action.PROCESS_TEXT",{type:"text/plain",extra:{"android.intent.extra.PROCESS_TEXT":t,"android.intent.extra.PROCESS_TEXT_READONLY":!0}})}catch(n){0,await e(o)}else await e(o)}),[e])}var Oa=s(35938),Ma=s(21605),Fa=s(56947),Na=s(88972),Ha=s(28965),Va=s(56436),za=s(8364),Ua=s.n(za),Wa=s(96597),Ga=s(89913),qa=s(77625),Qa=s.n(qa),Ka=s(49119),Za=s(48833);async function Ya(e,t=100){let s,o=[];for(let n=0;n<t;n++){const t=await e(s);if(s=t.cursor,o=o.concat(t.items),!s)break}return o}const $a="my-lists",Xa=e=>[$a,e];function Ja(e){const t=(0,n.c)(7),{currentAccount:s}=(0,Gt.useSession)(),o=(0,Gt.useAgent)();let a,r;return t[0]!==e?(a=Xa(e),t[0]=e,t[1]=a):a=t[1],t[2]!==o||t[3]!==s||t[4]!==e||t[5]!==a?(r={staleTime:yt.STALE.MINUTES.ONE,queryKey:a,async queryFn(){const t=[],n=[Ya((e=>o.app.bsky.graph.getLists({actor:s.did,cursor:e,limit:50}).then(sr)))];"all-including-subscribed"!==e&&"mod"!==e||(n.push(Ya((e=>o.app.bsky.graph.getListMutes({cursor:e,limit:50}).then(tr)))),n.push(Ya((e=>o.app.bsky.graph.getListBlocks({cursor:e,limit:50}).then(er)))));const a=await Promise.all(n);for(const s of a)for(const o of s)"curate"===e&&"app.bsky.graph.defs#curatelist"!==o.purpose||"mod"===e&&"app.bsky.graph.defs#modlist"!==o.purpose||t.find((e=>e.uri===o.uri))||t.push(o);return t},enabled:!!s},t[2]=o,t[3]=s,t[4]=e,t[5]=a,t[6]=r):r=t[6],(0,Zs.useQuery)(r)}function er(e){return{cursor:e.data.cursor,items:e.data.lists}}function tr(e){return{cursor:e.data.cursor,items:e.data.lists}}function sr(e){return{cursor:e.data.cursor,items:e.data.lists}}function or(e,t){t?e.invalidateQueries({queryKey:Xa(t)}):e.invalidateQueries({queryKey:[$a]})}const nr=30,ar="profile-lists",rr=e=>[ar,e];function ir(e){return e.cursor}const lr="list",cr=e=>[lr,e];function dr(e){return"string"===typeof e?.data?.list.uri}function ur(e){return!e?.success}function mr(e){const t=new Dn.AtUri(e);return{$type:"com.atproto.repo.applyWrites#delete",collection:t.collection,rkey:t.rkey}}function hr(e){return e.uri}function pr(){const e=(0,n.c)(5),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o,a;return e[0]!==s?(o=async e=>{const{uri:t,mute:o}=e;o?await s.muteModList(t):await s.unmuteModList(t),await gr(s,t,(e=>Boolean(e?.data.list.viewer?.muted)===o))},e[0]=s,e[1]=o):o=e[1],e[2]!==t||e[3]!==o?(a={mutationFn:o,onSuccess(e,s){t.invalidateQueries({queryKey:cr(s.uri)})}},e[2]=t,e[3]=o,e[4]=a):a=e[4],(0,go.useMutation)(a)}function fr(){const e=(0,n.c)(5),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o,a;return e[0]!==s?(o=async e=>{const{uri:t,block:o}=e;o?await s.blockModList(t):await s.unblockModList(t),await gr(s,t,(e=>o?"string"===typeof e?.data.list.viewer?.blocked:!e?.data.list.viewer?.blocked))},e[0]=s,e[1]=o):o=e[1],e[2]!==t||e[3]!==o?(a={mutationFn:o,onSuccess(e,s){t.invalidateQueries({queryKey:cr(s.uri)})}},e[2]=t,e[3]=o,e[4]=a):a=e[4],(0,go.useMutation)(a)}async function gr(e,t,s){await(0,Za.until)(5,1e3,s,(()=>e.app.bsky.graph.getList({list:t,limit:1})))}var xr=s(86623),_r=s(77388);const yr=({uri:e})=>["getFeedSourceInfo",e],br={feed:"app.bsky.feed.generator",list:"app.bsky.graph.list"};function jr(e){const t=new Dn.AtUri(e.uri),s="app.bsky.feed.generator"===t.collection?"feed":"lists",o=`/profile/${t.hostname}/${s}/${t.rkey}`,n=Hn.router.matchPath(o);return{type:"feed",view:e,uri:e.uri,feedDescriptor:`feedgen|${e.uri}`,cid:e.cid,route:{href:o,name:n[0],params:n[1]},avatar:e.avatar,displayName:e.displayName?(0,Ma.sanitizeDisplayName)(e.displayName):Et.i18n._({id:"8BFAg0",values:{0:(0,Fa.sanitizeHandle)(e.creator.handle,"@")}}),description:new Dn.RichText({text:e.description||"",facets:(e.descriptionFacets||[])?.slice()}),creatorDid:e.creator.did,creatorHandle:e.creator.handle,likeCount:e.likeCount,acceptsInteractions:e.acceptsInteractions,likeUri:e.viewer?.like,contentMode:e.contentMode}}function vr(e){const t=new Dn.AtUri(e.uri),s="app.bsky.feed.generator"===t.collection?"feed":"lists",o=`/profile/${t.hostname}/${s}/${t.rkey}`,n=Hn.router.matchPath(o);return{type:"list",view:e,uri:e.uri,feedDescriptor:`list|${e.uri}`,route:{href:o,name:n[0],params:n[1]},cid:e.cid,avatar:e.avatar,description:new Dn.RichText({text:e.description||"",facets:(e.descriptionFacets||[])?.slice()}),creatorDid:e.creator.did,creatorHandle:e.creator.handle,displayName:e.name?(0,Ma.sanitizeDisplayName)(e.name):Et.i18n._({id:"LNlLzT",values:{0:(0,Fa.sanitizeHandle)(e.creator.handle,"@")}}),contentMode:void 0}}function Sr(e){const{pathname:t}=new Dn.AtUri(e);return t.includes(br.feed)?"feed":"list"}function wr(e){const t=(0,n.c)(11),{uri:s}=e;let o;t[0]!==s?(o=Sr(s),t[0]=s,t[1]=o):o=t[1];const a=o,r=(0,Gt.useAgent)();let i,l,c;return t[2]!==s?(i=yr({uri:s}),t[2]=s,t[3]=i):i=t[3],t[4]!==r||t[5]!==a||t[6]!==s?(l=async()=>{let e;if("feed"===a){e=jr((await r.app.bsky.feed.getFeedGenerator({feed:s})).data.view)}else{e=vr((await r.app.bsky.graph.getList({list:s,limit:1})).data.list)}return e},t[4]=r,t[5]=a,t[6]=s,t[7]=l):l=t[7],t[8]!==i||t[9]!==l?(c={staleTime:yt.STALE.INFINITY,queryKey:i,queryFn:l},t[8]=i,t[9]=l,t[10]=c):c=t[10],(0,Zs.useQuery)(c)}const Tr=["at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends","at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/mutuals","at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/only-posts","at://did:plc:wzsilnxf24ehtmmc3gssy5bu/app.bsky.feed.generator/mentions","at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/bangers","at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/mutuals","at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/my-followers","at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/followpics"];function kr(e){const t=(0,n.c)(23),{hasSession:s}=(0,Gt.useSession)(),o=(0,Gt.useAgent)(),a=e?.limit||10,{data:r}=(0,xr.usePreferencesQuery)(),i=(0,On.useQueryClient)(),l=(0,ds.useModerationOpts)();let c,d;r?.savedFeeds,t[0]!==r?.savedFeeds?(c=r?.savedFeeds||[],t[0]=r?.savedFeeds,t[1]=c):c=t[1],t[2]!==s||t[3]!==l||t[4]!==c?(d={hasSession:s,savedFeeds:c,moderationOpts:l},t[2]=s,t[3]=l,t[4]=c,t[5]=d):d=t[5];const u=d,m=(0,lt.useRef)(0),h=Boolean(l)&&!1!==e?.enabled;let p,f,g;t[6]!==e?(p=function(e){return["getPopularFeeds",e?.limit]}(e),t[6]=e,t[7]=p):p=t[7],t[8]!==o||t[9]!==a||t[10]!==i?(f=async e=>{const{pageParam:t}=e,s=await o.app.bsky.unspecced.getPopularFeedGenerators({limit:a,cursor:t});for(const o of s.data.feeds){const e=jr(o);Ur(i,e)}return s.data},t[8]=o,t[9]=a,t[10]=i,t[11]=f):f=t[11],t[12]!==u?(g=e=>{const{savedFeeds:t,hasSession:s,moderationOpts:o}=u;return Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{feeds:e.feeds.filter((e=>{if(!s&&Tr.includes(e.uri))return!1;const n=Boolean(t?.find((t=>t.value===e.uri))),a=(0,Dn.moderateFeedGenerator)(e,o);return!n&&!a.ui("contentList").filter}))})))})},t[12]=u,t[13]=g):g=t[13];const x=g;let _;t[14]!==h||t[15]!==p||t[16]!==f||t[17]!==x?(_={enabled:h,queryKey:p,queryFn:f,initialPageParam:void 0,getNextPageParam:Cr,select:x},t[14]=h,t[15]=p,t[16]=f,t[17]=x,t[18]=_):_=t[18];const y=(0,Wa.useInfiniteQuery)(_);let b,j;return t[19]!==a||t[20]!==y?(b=()=>{const{isFetching:e,hasNextPage:t,data:s}=y;if(e||!t)return;if(0!==m.current&&m.current===s?.pages?.length)return;let o=0;for(const n of s?.pages||[])o+=n.feeds.length;o<a&&(s?.pages.length||0)<6&&(y.fetchNextPage(),m.current=s?.pages?.length||0)},j=[y,a],t[19]=a,t[20]=y,t[21]=b,t[22]=j):(b=t[21],j=t[22]),(0,lt.useEffect)(b,j),y}function Cr(e){return e.cursor}const Ir=e=>["popularFeedsSearch",e];function Ar(e){const t=(0,n.c)(10),{query:s,enabled:o}=e,a=(0,Gt.useAgent)(),r=(0,ds.useModerationOpts)(),i=o??Boolean(r);let l,c,d;return t[0]!==s?(l=Ir(s),t[0]=s,t[1]=l):l=t[1],t[2]!==a||t[3]!==s?(c=async()=>(await a.app.bsky.unspecced.getPopularFeedGenerators({limit:15,query:s})).data.feeds,t[2]=a,t[3]=s,t[4]=c):c=t[4],t[5]!==i||t[6]!==r||t[7]!==l||t[8]!==c?(d={enabled:i,queryKey:l,queryFn:c,placeholderData:Ga.keepPreviousData,select:e=>e.filter((e=>!(0,Dn.moderateFeedGenerator)(e,r).ui("contentMedia").blur))},t[5]=i,t[6]=r,t[7]=l,t[8]=c,t[9]=d):d=t[9],(0,Zs.useQuery)(d)}const Pr={type:"feed",displayName:"Discover",uri:Vt.DISCOVER_FEED_URI,feedDescriptor:`feedgen|${Vt.DISCOVER_FEED_URI}`,route:{href:"/",name:"Home",params:{}},cid:"",avatar:"",description:new Dn.RichText({text:""}),creatorDid:"",creatorHandle:"",likeCount:0,likeUri:"",savedFeed:Object.assign({id:"pwi-discover"},Vt.DISCOVER_SAVED_FEED),contentMode:void 0},Er=(e,t)=>[yt.PERSISTED_QUERY_ROOT,"feed-info",e,t];function Lr(){const e=(0,n.c)(12),{hasSession:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)(),{data:o,isLoading:a}=(0,xr.usePreferencesQuery)();let r,i,l;e[0]!==o?.savedFeeds?(r=o?.savedFeeds.filter(Mr)??[],l=Zs.useQuery,i=Er("pinned",r.map(Or)),e[0]=o?.savedFeeds,e[1]=r,e[2]=i,e[3]=l):(r=e[1],i=e[2],l=e[3]);const c=!a;let d,u;return e[4]!==s||e[5]!==t||e[6]!==r?(d=async()=>{if(!t)return[Pr];const e=new Map,o=r.filter(Dr);let n=Promise.resolve();o.length>0&&(n=s.app.bsky.feed.getFeedGenerators({feeds:o.map(Br)}).then((t=>{for(let s=0;s<t.data.feeds.length;s++){const o=t.data.feeds[s];e.set(o.uri,jr(o))}})));const a=r.filter(Rr).map((t=>s.app.bsky.graph.getList({list:t.value,limit:1}).then((t=>{const s=t.data.list;e.set(s.uri,vr(s))}))));await n,await Promise.allSettled(a);const i=[];for(const t of r){const s=e.get(t.value);s?i.push(Object.assign({},s,{savedFeed:t})):"timeline"===t.type&&i.push({type:"feed",displayName:"Following",uri:t.value,feedDescriptor:"following",route:{href:"/",name:"Home",params:{}},cid:"",avatar:"",description:new Dn.RichText({text:""}),creatorDid:"",creatorHandle:"",likeCount:0,likeUri:"",savedFeed:t,contentMode:void 0})}return i},e[4]=s,e[5]=t,e[6]=r,e[7]=d):d=e[7],e[8]!==i||e[9]!==c||e[10]!==d?(u={queryKey:i,gcTime:yt.PERSISTED_QUERY_GCTIME,staleTime:yt.STALE.INFINITY,enabled:c,queryFn:d},e[8]=i,e[9]=c,e[10]=d,e[11]=u):u=e[11],l(u)}function Rr(e){return"list"===e.type}function Br(e){return e.value}function Dr(e){return"feed"===e.type}function Or(e){return e.value}function Mr(e){return e.pinned}function Fr(){const e=(0,n.c)(11),t=(0,Gt.useAgent)(),{data:s,isLoading:o}=(0,xr.usePreferencesQuery)(),a=s?.savedFeeds??[],r=(0,On.useQueryClient)(),i=Er("saved",a.map(zr)),l=!o;let c,d,u;return e[0]!==a?(c=e=>e||{count:a.length,feeds:[]},e[0]=a,e[1]=c):c=e[1],e[2]!==t||e[3]!==r||e[4]!==a?(d=async()=>{const e=new Map,s=new Map,o=a.filter(Vr),n=a.filter(Hr);let i=Promise.resolve();o.length>0&&(i=t.app.bsky.feed.getFeedGenerators({feeds:o.map(Nr)}).then((t=>{t.data.feeds.forEach((t=>{e.set(t.uri,t)}))})));const l=n.map((e=>t.app.bsky.graph.getList({list:e.value,limit:1}).then((e=>{const t=e.data.list;s.set(t.uri,t)}))));await Promise.allSettled([i,...l]),e.forEach((e=>{const t=jr(e);Ur(r,t)})),s.forEach((e=>{Wr(r,e)}));const c=[];for(const t of a)if("timeline"===t.type)c.push({type:"timeline",config:t,view:void 0});else if("feed"===t.type){const s=e.get(t.value);s&&c.push({type:"feed",config:t,view:s})}else if("list"===t.type){const e=s.get(t.value);e&&c.push({type:"list",config:t,view:e})}return{count:c.length,feeds:c}},e[2]=t,e[3]=r,e[4]=a,e[5]=d):d=e[5],e[6]!==i||e[7]!==l||e[8]!==c||e[9]!==d?(u={queryKey:i,gcTime:yt.PERSISTED_QUERY_GCTIME,staleTime:yt.STALE.INFINITY,enabled:l,placeholderData:c,queryFn:d},e[6]=i,e[7]=l,e[8]=c,e[9]=d,e[10]=u):u=e[10],(0,Zs.useQuery)(u)}function Nr(e){return e.value}function Hr(e){return"list"===e.type}function Vr(e){return"feed"===e.type}function zr(e){return e.value}function Ur(e,t){(0,_r.precacheResolvedUri)(e,t.creatorHandle,t.creatorDid),e.setQueryData(yr({uri:t.uri}),t)}function Wr(e,t){(0,_r.precacheResolvedUri)(e,t.creator.handle,t.creator.did),e.setQueryData(cr(t.uri),t)}var Gr=s(45458),qr=s(27963),Qr=s(60578);function Kr(e,t,s){return Math.min(s,Math.max(t,e))}function Zr(e){const t=void 0===e?0:e,{isTabletOrDesktop:s}=(0,jn.useWebMediaQueries)(),{bottom:o}=(0,ct.useSafeAreaInsets)();return(r.IS_WEB&&s?0:Kr(60+o,60,75))+t}const Yr=100;function $r(e){const{minItemHeight:t,screenHeightOffset:s}=void 0===e?{}:e,o=void 0===t?Yr:t,n=void 0===s?0:s,{height:a}=(0,Qr.default)(),{top:r}=(0,ct.useSafeAreaInsets)(),i=a-n-r-Zr(),l=Math.floor(i/o);return l<1?1:l}var Xr=s(24315),Jr=s(30511),ei=s(21169),ti=s(2064);const si=(0,ti.createSinglePathSVG)({path:"M5.002 17.036V5h14v12.036h-3.986a1 1 0 0 0-.639.23l-2.375 1.968-2.344-1.965a1 1 0 0 0-.643-.233H5.002ZM20.002 3h-16a1 1 0 0 0-1 1v14.036a1 1 0 0 0 1 1h4.65l2.704 2.266a1 1 0 0 0 1.28.004l2.74-2.27h4.626a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-7.878 3.663c-1.39 0-2.5 1.135-2.5 2.515a1 1 0 0 0 2 0c0-.294.232-.515.5-.515a.507.507 0 0 1 .489.6.174.174 0 0 1-.027.048 1.1 1.1 0 0 1-.267.226c-.508.345-1.128.923-1.286 1.978a1 1 0 1 0 1.978.297.762.762 0 0 1 .14-.359c.063-.086.155-.169.293-.262.436-.297 1.18-.885 1.18-2.013 0-1.38-1.11-2.515-2.5-2.515ZM12 15.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"}),oi=(0,ti.createSinglePathSVG)({path:"M2.002 6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H12.28l-4.762 2.858A1 1 0 0 1 6.002 21v-2h-1a3 3 0 0 1-3-3V6Zm3-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2a1 1 0 0 1 1 1v1.234l3.486-2.092a1 1 0 0 1 .514-.142h7a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-14Z"}),ni=((0,ti.createSinglePathSVG)({path:"M2.002 7a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H12.28l-4.762 2.858A1 1 0 0 1 6.002 21v-2a4 4 0 0 1-4-4V7Zm4-2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h1a1 1 0 0 1 1 1v1.234l3.486-2.092a1 1 0 0 1 .514-.142h6a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-12Z"}),(0,ti.createSinglePathSVG)({path:"M6.002 6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-1v1a3 3 0 0 1-3 3h-4.24l-4.274 2.374a1 1 0 0 1-1.486-.874V19a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h1V6Zm-1 3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h1a1 1 0 0 1 1 1v.8l3.015-1.674a1 1 0 0 1 .485-.126h4.5a1 1 0 0 0 1-1v-1.933a1 1 0 0 1 0-.134V10a1 1 0 0 0-1-1h-10Zm13 4v-3a3 3 0 0 0-3-3h-7V6a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1Z"})),ai=(0,ti.createSinglePathSVG)({viewBox:"0 0 51 46",strokeLinejoin:"round",strokeWidth:2,path:"M49 17c0 15.333-22 26.667-24 26.667S1 32.333 1 17C1 6.333 7.667 1 14.333 1S25 5 25 5s4-4 10.667-4S49 6.333 49 17Z"}),ri=(0,ti.createSinglePathSVG)({path:"M16.734 5.091c-1.238-.276-2.708.047-4.022 1.38a1 1 0 0 1-1.424 0C9.974 5.137 8.504 4.814 7.266 5.09c-1.263.282-2.379 1.206-2.92 2.556C3.33 10.18 4.252 14.84 12 19.348c7.747-4.508 8.67-9.168 7.654-11.7-.541-1.351-1.657-2.275-2.92-2.557Zm4.777 1.812c1.604 4-.494 9.69-9.022 14.47a1 1 0 0 1-.978 0C2.983 16.592.885 10.902 2.49 6.902c.779-1.942 2.414-3.334 4.342-3.764 1.697-.378 3.552.003 5.169 1.286 1.617-1.283 3.472-1.664 5.17-1.286 1.927.43 3.562 1.822 4.34 3.764Z"}),ii=(0,ti.createSinglePathSVG)({path:"M12.489 21.372c8.528-4.78 10.626-10.47 9.022-14.47-.779-1.941-2.414-3.333-4.342-3.763-1.697-.378-3.552.003-5.169 1.287-1.617-1.284-3.472-1.665-5.17-1.287-1.927.43-3.562 1.822-4.34 3.764-1.605 4 .493 9.69 9.021 14.47a1 1 0 0 0 .978 0Z"}),li=(0,ti.createSinglePathSVG)({path:"M3.92 19v-4.153a1 1 0 0 1 1-1H9l.103.005a1 1 0 0 1 0 1.99L9 15.847H7.285c.854.737 1.784 1.38 2.631 1.9.702.431 1.329.769 1.78.997q.162.08.291.143a25.561 25.561 0 0 0 3.67-2.326c2.144-1.642 4.073-3.756 4.315-6.023a1 1 0 0 1 1.988.212c-.336 3.154-2.89 5.717-5.086 7.398a27.6 27.6 0 0 1-4.34 2.704l-.078.038-.021.01-.007.003-.002.001-.001.001a1 1 0 0 1-.827.01v0h-.002l-.004-.002-.013-.006q-.016-.006-.045-.02l-.162-.075a27.39 27.39 0 0 1-2.503-1.361 22 22 0 0 1-2.95-2.143V19a1 1 0 0 1-2 0ZM2 10c0-2.214.696-3.971 1.833-5.184A5.7 5.7 0 0 1 8 3a7.1 7.1 0 0 1 4 1.228A7.117 7.117 0 0 1 16 3c1.231 0 2.452.402 3.469 1.185l.031-1.702a1 1 0 0 1 2 .035l-.081 4.5a1 1 0 0 1-1 .983H16.5a1 1 0 1 1 0-2h2.02A3.68 3.68 0 0 0 16 5a5.12 5.12 0 0 0-3.11 1.053 3 3 0 0 0-.155.129l-.029.025v.002l-.003.002-.072.064a1 1 0 0 1-1.338-.068l-.028-.025a3 3 0 0 0-.155-.13A5.119 5.119 0 0 0 8 5c-.982 0-1.965.392-2.708 1.185C4.554 6.97 4 8.214 4 10q0 .507.099 1.002l.075.328.02.1a1 1 0 0 1-1.925.5l-.03-.097-.102-.446A7 7 0 0 1 2 10Z"}),ci=((0,ti.createSinglePathSVG)({path:"M16.293 2.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L17.586 7H5v4a1 1 0 1 1-2 0V6a1 1 0 0 1 1-1h13.586l-1.293-1.293a1 1 0 0 1 0-1.414ZM21 13v5a1 1 0 0 1-1 1H6.414l1.293 1.293a1 1 0 1 1-1.414 1.414l-3-3a1 1 0 0 1 0-1.414l3-3a1 1 0 0 1 1.414 1.414L6.414 17H19v-4a1 1 0 1 1 2 0Z"}),(0,ti.createSinglePathSVG)({path:"M17.957 2.293a1 1 0 1 0-1.414 1.414L17.836 5H6a3 3 0 0 0-3 3v3a1 1 0 1 0 2 0V8a1 1 0 0 1 1-1h11.836l-1.293 1.293a1 1 0 0 0 1.414 1.414l2.47-2.47a1.75 1.75 0 0 0 0-2.474l-2.47-2.47ZM20 12a1 1 0 0 1 1 1v3a3 3 0 0 1-3 3H6.164l1.293 1.293a1 1 0 1 1-1.414 1.414l-2.47-2.47a1.75 1.75 0 0 1 0-2.474l2.47-2.47a1 1 0 0 1 1.414 1.414L6.164 17H18a1 1 0 0 0 1-1v-3a1 1 0 0 1 1-1Z"})),di=(0,ti.createSinglePathSVG)({path:"M16.793 2.293a1 1 0 0 1 1.414 0L20.5 4.586a2 2 0 0 1 0 2.828l-2.293 2.293a1 1 0 0 1-1.414-1.414L18.086 7H7a2 2 0 0 0-2 2v2a1 1 0 1 1-2 0V9a4 4 0 0 1 4-4h11.086l-1.293-1.293a1 1 0 0 1 0-1.414ZM20 12a1 1 0 0 1 1 1v2a4 4 0 0 1-4 4H5.914l1.293 1.293a1 1 0 1 1-1.414 1.414L3.5 19.414a2 2 0 0 1 0-2.828l2.293-2.293a1 1 0 0 1 1.414 1.414L5.914 17H17a2 2 0 0 0 2-2v-2a1 1 0 0 1 1-1Z"}),ui=(0,ti.createSinglePathSVG)({path:"M6.043 14.293a1 1 0 1 1 1.414 1.414L5.164 18l2.293 2.293.068.076a1 1 0 0 1-1.406 1.406l-.076-.068-2.47-2.47a1.75 1.75 0 0 1 0-2.474l2.47-2.47Zm6.22 0a1 1 0 0 1 1.414 1.414L12.384 17H18a1 1 0 0 0 1-1v-3a1 1 0 1 1 2 0v3a3 3 0 0 1-3 3h-5.616l1.293 1.293.068.076a1 1 0 0 1-1.406 1.406l-.076-.068-2.47-2.47a1.75 1.75 0 0 1 0-2.474l2.47-2.47ZM3 11V8a3 3 0 0 1 3-3h5.586l-1.293-1.293-.068-.076a1 1 0 0 1 1.406-1.406l.076.068 2.47 2.47.12.133a1.75 1.75 0 0 1 0 2.209l-.12.132-2.47 2.47a1 1 0 1 1-1.414-1.414L11.586 7H6a1 1 0 0 0-1 1v3a1 1 0 1 1-2 0Zm13.543-8.707a1 1 0 0 1 1.338-.068l.076.068 2.47 2.47.12.133a1.75 1.75 0 0 1 0 2.209l-.12.132-2.47 2.47a1 1 0 1 1-1.414-1.414L18.836 6l-2.293-2.293-.068-.076a1 1 0 0 1 .068-1.338Z"});function mi(e){const t=(0,n.c)(7),{width:s,height:o,style:a}=e,r=(0,qs.useTheme)();let i,l;return t[0]!==o||t[1]!==r.palette.contrast_50||t[2]!==s?(i={width:s,height:o,backgroundColor:r.palette.contrast_50},t[0]=o,t[1]=r.palette.contrast_50,t[2]=s,t[3]=i):i=t[3],t[4]!==a||t[5]!==i?(l=(0,bt.jsx)(Fs.default,{style:[Si.loadingPlaceholder,i,a]}),t[4]=a,t[5]=i,t[6]=l):l=t[6],l}function hi(e){const t=(0,n.c)(32),{style:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w;return t[0]!==s?(a=[Si.post,s],t[0]=s,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(mi,{width:42,height:42,style:[Si.avatar,{position:"relative",top:-6}]}),t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=[kn.s.flex1],t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(mi,{width:100,height:6,style:{marginBottom:10}}),t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(mi,{width:"95%",height:6,style:{marginBottom:8}}),t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(mi,{width:"95%",height:6,style:{marginBottom:8}}),t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(mi,{width:"80%",height:6,style:{marginBottom:11}}),t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=[Si.postCtrl,{marginLeft:-6}],t[8]=m):m=t[8],t[9]!==o.palette.contrast_500?(h={color:o.palette.contrast_500},t[9]=o.palette.contrast_500,t[10]=h):h=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(p={pointerEvents:"none"},t[11]=p):p=t[11],t[12]!==h?(f=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(Fs.default,{style:Si.postBtn,children:(0,bt.jsx)(oi,{style:[h,p],width:18})})}),t[12]=h,t[13]=f):f=t[13],t[14]!==o.palette.contrast_500?(g={color:o.palette.contrast_500},t[14]=o.palette.contrast_500,t[15]=g):g=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(x={pointerEvents:"none"},t[16]=x):x=t[16],t[17]!==g?(_=(0,bt.jsx)(Fs.default,{style:Si.postCtrl,children:(0,bt.jsx)(Fs.default,{style:Si.postBtn,children:(0,bt.jsx)(ci,{style:[g,x],width:18})})}),t[17]=g,t[18]=_):_=t[18],t[19]!==o.palette.contrast_500?(y={color:o.palette.contrast_500},t[19]=o.palette.contrast_500,t[20]=y):y=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(b={pointerEvents:"none"},t[21]=b):b=t[21],t[22]!==y?(j=(0,bt.jsx)(Fs.default,{style:Si.postCtrl,children:(0,bt.jsx)(Fs.default,{style:Si.postBtn,children:(0,bt.jsx)(ri,{style:[y,b],width:18})})}),t[22]=y,t[23]=j):j=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(Fs.default,{style:Si.postCtrl,children:(0,bt.jsx)(Fs.default,{style:[Si.postBtn,{minHeight:30}]})}),t[24]=v):v=t[24],t[25]!==f||t[26]!==_||t[27]!==j?(S=(0,bt.jsxs)(Fs.default,{style:i,children:[l,c,d,u,(0,bt.jsxs)(Fs.default,{style:Si.postCtrls,children:[f,_,j,v]})]}),t[25]=f,t[26]=_,t[27]=j,t[28]=S):S=t[28],t[29]!==a||t[30]!==S?(w=(0,bt.jsxs)(Fs.default,{style:a,children:[r,S]}),t[29]=a,t[30]=S,t[31]=w):w=t[31],w}function pi(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{}),(0,bt.jsx)(hi,{})]}),e[0]=t):t=e[0],t}function fi(e){const t=(0,n.c)(12),{style:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m;return t[0]!==s?(a=[Si.notification,s],t[0]=s,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=[{width:60},qs.atoms.align_end,qs.atoms.pr_sm,qs.atoms.pt_2xs],t[2]=r):r=t[2],t[3]!==o.palette.contrast_50?(i=(0,bt.jsx)(Fs.default,{style:r,children:(0,bt.jsx)(ii,{size:"xl",style:{color:o.palette.contrast_50}})}),t[3]=o.palette.contrast_50,t[4]=i):i=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l={flex:1},t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,kn.s.mb10],children:(0,bt.jsx)(mi,{width:35,height:35,style:Si.smallAvatar})}),t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(mi,{width:"90%",height:6,style:[kn.s.mb5]}),t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(Fs.default,{style:l,children:[c,d,(0,bt.jsx)(mi,{width:"70%",height:6,style:[kn.s.mb5]})]}),t[8]=u):u=t[8],t[9]!==a||t[10]!==i?(m=(0,bt.jsxs)(Fs.default,{style:a,children:[i,u]}),t[9]=a,t[10]=i,t[11]=m):m=t[11],m}function gi(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{}),(0,bt.jsx)(fi,{})]}),e[0]=t):t=e[0],t}function xi(e){const t=(0,n.c)(8),{style:s}=e;let o,a,r,i,l,c;return t[0]!==s?(o=[Si.profileCard,s],t[0]=s,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(mi,{width:40,height:40,style:Si.profileCardAvi}),t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(mi,{width:140,height:8,style:[kn.s.mb5]}),t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(mi,{width:120,height:8,style:[kn.s.mb10]}),t[4]=i):i=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(Fs.default,{children:[r,i,(0,bt.jsx)(mi,{width:220,height:8,style:[kn.s.mb5]})]}),t[5]=l):l=t[5],t[6]!==o?(c=(0,bt.jsxs)(Fs.default,{style:o,children:[a,l]}),t[6]=o,t[7]=c):c=t[7],c}function _i(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{}),(0,bt.jsx)(xi,{})]}),e[0]=t):t=e[0],t}function yi(e){const t=(0,n.c)(15),{style:s,showLowerPlaceholder:o,showTopBorder:a}=e,r=void 0===o||o,i=void 0===a||a,l=(0,qs.useTheme)(),c=i?Os.default.hairlineWidth:0;let d,u,m,h,p,f,g,x;return t[0]!==c?(d={padding:16,borderTopWidth:c},t[0]=c,t[1]=d):d=t[1],t[2]!==s||t[3]!==l.atoms.border_contrast_low||t[4]!==d?(u=[d,l.atoms.border_contrast_low,s],t[2]=s,t[3]=l.atoms.border_contrast_low,t[4]=d,t[5]=u):u=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(m=[{flexDirection:"row"}],t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(mi,{width:36,height:36,style:[Si.avatar,{borderRadius:8}]}),t[7]=h):h=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(p=[kn.s.flex1],t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsxs)(Fs.default,{style:m,children:[h,(0,bt.jsxs)(Fs.default,{style:p,children:[(0,bt.jsx)(mi,{width:100,height:8,style:[kn.s.mt5,kn.s.mb10]}),(0,bt.jsx)(mi,{width:120,height:8})]})]}),t[9]=f):f=t[9],t[10]!==r?(g=r&&(0,bt.jsx)(Fs.default,{style:{marginTop:12},children:(0,bt.jsx)(mi,{width:120,height:8})}),t[10]=r,t[11]=g):g=t[11],t[12]!==g||t[13]!==u?(x=(0,bt.jsxs)(Fs.default,{style:u,children:[f,g]}),t[12]=g,t[13]=u,t[14]=x):x=t[14],x}function bi(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{}),(0,bt.jsx)(yi,{})]}),e[0]=t):t=e[0],t}function ji(e){const t=(0,n.c)(7),{style:s}=e,o=(0,qs.useTheme)(),a=Math.random();let r,i,l,c;return t[0]!==s||t[1]!==o.atoms.bg?(r=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.px_lg,qs.atoms.mt_lg,o.atoms.bg,s],t[0]=s,t[1]=o.atoms.bg,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(mi,{width:52,height:52,style:qs.atoms.rounded_full}),t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mi,{width:140,height:12,style:qs.atoms.mt_xs}),(0,bt.jsx)(mi,{width:120,height:8,style:qs.atoms.mt_sm}),(0,bt.jsx)(mi,{width:80+100*a,height:8,style:qs.atoms.mt_sm})]}),t[4]=l):l=t[4],t[5]!==r?(c=(0,bt.jsxs)(Fs.default,{style:r,children:[i,l]}),t[5]=r,t[6]=c):c=t[6],c}function vi(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{}),(0,bt.jsx)(ji,{})]}),e[0]=t):t=e[0],t}const Si=Os.default.create({loadingPlaceholder:{borderRadius:6},post:{flexDirection:"row",alignItems:"flex-start",paddingHorizontal:10,paddingTop:20,paddingBottom:5,paddingRight:15},postCtrls:{opacity:.5,flexDirection:"row",justifyContent:"space-between"},postCtrl:{flex:1},postBtn:{flex:1,flexDirection:"row",alignItems:"center",padding:5},avatar:{borderRadius:999,marginRight:12},notification:{flexDirection:"row",padding:10},profileCard:{flexDirection:"row",padding:10,margin:1},profileCardAvi:{borderRadius:999,marginRight:10},smallAvatar:{borderRadius:999,marginRight:10}});var wi=s(64486),Ti=s(61032);function ki(e){const t=(0,n.c)(11),{label:s,onPress:o}=e,a=(0,bn.usePalette)("default"),r=a.textLight;let i,l,c,d;return t[0]!==r?(i=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"arrow-rotate-left",style:r,size:18}),t[0]=r,t[1]=i):i=t[1],t[2]!==a.textLight?(l=[a.textLight,Ci.label],t[2]=a.textLight,t[3]=l):l=t[3],t[4]!==s||t[5]!==l?(c=(0,bt.jsx)(ua.Text,{style:l,children:s}),t[4]=s,t[5]=l,t[6]=c):c=t[6],t[7]!==o||t[8]!==i||t[9]!==c?(d=(0,bt.jsxs)(Ti.Button,{type:"default-light",onPress:o,style:Ci.loadMoreRetry,children:[i,c]}),t[7]=o,t[8]=i,t[9]=c,t[10]=d):d=t[10],d}const Ci=Os.default.create({loadMoreRetry:{flexDirection:"row",gap:14,alignItems:"center",borderRadius:0,marginTop:1,paddingVertical:12,paddingHorizontal:20},label:{flex:1}});let Ii=function(e){return e.NeueTypography="NeueTypography",e.ExploreInterestsCard="ExploreInterestsCard",e.InitialVerificationAnnouncement="InitialVerificationAnnouncement",e.ActivitySubscriptions="ActivitySubscriptions",e.AgeAssuranceDismissibleNotice="AgeAssuranceDismissibleNotice",e.AgeAssuranceDismissibleFeedBanner="AgeAssuranceDismissibleFeedBanner",e.BookmarksAnnouncement="BookmarksAnnouncement",e.FindContactsAnnouncement="FindContactsAnnouncement",e.FindContactsDismissibleBanner="FindContactsDismissibleBanner",e.LiveNowBetaDialog="LiveNowBetaDialog",e.LiveNowBetaNudge="LiveNowBetaNudge",e.DraftsAnnouncement="DraftsAnnouncement",e.PolicyUpdate202508="PolicyUpdate202508",e}({});const Ai=new Set(Object.values(Ii)),Pi={[Ii.NeueTypography]:void 0,[Ii.ExploreInterestsCard]:void 0,[Ii.InitialVerificationAnnouncement]:void 0,[Ii.ActivitySubscriptions]:void 0,[Ii.AgeAssuranceDismissibleNotice]:void 0,[Ii.AgeAssuranceDismissibleFeedBanner]:void 0,[Ii.PolicyUpdate202508]:void 0,[Ii.BookmarksAnnouncement]:void 0,[Ii.FindContactsAnnouncement]:void 0,[Ii.FindContactsDismissibleBanner]:void 0,[Ii.LiveNowBetaDialog]:void 0,[Ii.LiveNowBetaNudge]:void 0,[Ii.DraftsAnnouncement]:void 0},Ei=["data"],Li=["data"];function Ri(e){if(!Ai.has(e.id))return;if(!Dn.nuxSchema.safeParse(e).success)return;const{data:t}=e,s=(0,ta.default)(e,Ei),o=Pi[e.id];if(o&&t){const e=JSON.parse(t);if(!o.safeParse(e).success)return;return Object.assign({},s,{data:e})}return Object.assign({},s,{data:void 0})}function Bi(){const e=(0,n.c)(10),{data:t,isSuccess:s,isError:o}=(0,xr.usePreferencesQuery)(),a=s?"ready":o?"error":"loading";if("ready"===a){let s;e[0]!==t?.bskyAppState?.nuxs?(s=t?.bskyAppState?.nuxs?.map(Ri)?.filter(Boolean),e[0]=t?.bskyAppState?.nuxs,e[1]=s):s=e[1];const o=s;if(o){let t;return e[2]!==o||e[3]!==a?(t={nuxs:o,status:a},e[2]=o,e[3]=a,e[4]=t):t=e[4],t}{let t,s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[5]=t):t=e[5],e[6]!==a?(s={nuxs:t,status:a},e[6]=a,e[7]=s):s=e[7],s}}let r;return e[8]!==a?(r={nuxs:void 0,status:a},e[8]=a,e[9]=r):r=e[9],r}function Di(e){const t=(0,n.c)(12),{nuxs:s,status:o}=Bi();if("ready"===o){let n;if(t[0]!==e||t[1]!==s){let o;t[3]!==e?(o=t=>t.id===e,t[3]=e,t[4]=o):o=t[4],n=s.find(o),t[0]=e,t[1]=s,t[2]=n}else n=t[2];if(n){const e=n;let s;return t[5]!==o||t[6]!==e?(s={nux:e,status:o},t[5]=o,t[6]=e,t[7]=s):s=t[7],s}{let e;return t[8]!==o?(e={nux:void 0,status:o},t[8]=o,t[9]=e):e=t[9],e}}let a;return t[10]!==o?(a={nux:void 0,status:o},t[10]=o,t[11]=a):a=t[11],a}function Oi(){const e=(0,n.c)(3),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o={retry:3,mutationFn:async e=>{await s.bskyAppUpsertNux(function(e){const{data:t}=e,s=(0,ta.default)(e,Li),o=Pi[e.id],n=Object.assign({},s,{data:void 0});return o&&(o.parse(t),n.data=JSON.stringify(t)),Dn.nuxSchema.parse(n),n}(e)),await t.invalidateQueries({queryKey:xr.preferencesQueryKey})}},e[0]=s,e[1]=t,e[2]=o):o=e[2],(0,go.useMutation)(o)}function Mi(){const e=(0,n.c)(10),{_:t}=(0,dt.useLingui)();let s,o,a,r;return e[0]!==t?(s=t({id:"nPMed1"}),e[0]=t,e[1]=s):s=e[1],e[2]!==t?(o=t({id:"d0hj9K"}),e[2]=t,e[3]=o):o=e[3],e[4]!==t?(a=t({id:"YB17O9"}),e[4]=t,e[5]=a):a=e[5],e[6]!==s||e[7]!==o||e[8]!==a?(r={notice:s,banner:o,chatsInfoText:a},e[6]=s,e[7]=o,e[8]=a,e[9]=r):r=e[9],r}var Fi=s(8103);function Ni(){const e=(0,n.c)(5),t=(0,Fi.useAgeAssurance)(),{nux:s}=Di(Ii.AgeAssuranceDismissibleFeedBanner),{mutate:o,variables:a}=Oi(),r=!!a;let i;i=t.state.access!==t.Access.Full&&(!t.state.lastInitiatedAt&&("config"!==t.state.error&&(!r&&(!s||!s.completed))));const l=i;let c;e[0]!==o?(c=()=>{o({id:Ii.AgeAssuranceDismissibleFeedBanner,completed:!0,data:void 0})},e[0]=o,e[1]=c):c=e[1];const d=c;let u;return e[2]!==d||e[3]!==l?(u={visible:l,close:d},e[2]=d,e[3]=l,e[4]=u):u=e[4],u}function Hi(){const e=(0,n.c)(48),t=(0,qs.useTheme)(),s=(0,Xo.useAnalytics)(),{_:o}=(0,dt.useLingui)(),{visible:a,close:r}=Ni(),i=Mi();if(!a)return null;let l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I;return e[0]!==t.name||e[1]!==t.palette.primary_25?(l=(0,qs.select)(t.name,{light:t.palette.primary_25,dark:t.palette.primary_25,dim:t.palette.primary_25}),e[0]=t.name,e[1]=t.palette.primary_25,e[2]=l):l=e[2],e[3]!==l?(c=[qs.atoms.px_lg,{paddingVertical:10,backgroundColor:l}],e[3]=l,e[4]=c):c=e[4],e[5]!==o?(d=o({id:"s9OL/5"}),e[5]=o,e[6]=d):d=e[6],e[7]!==s||e[8]!==r?(u=()=>{r(),s.metric("ageAssurance:navigateToSettings",{})},e[7]=s,e[8]=r,e[9]=u):u=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.w_full,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.gap_md],e[10]=m):m=e[10],e[11]!==t.name||e[12]!==t.palette.primary_100?(h=(0,qs.select)(t.name,{light:t.palette.primary_100,dark:t.palette.primary_100,dim:t.palette.primary_100}),e[11]=t.name,e[12]=t.palette.primary_100,e[13]=h):h=e[13],e[14]!==h?(p=[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,{width:42,height:42,backgroundColor:h}],e[14]=h,e[15]=p):p=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ho.ShieldCheck_Stroke2_Corner0_Rounded,{size:"lg"}),e[16]=f):f=e[16],e[17]!==p?(g=(0,bt.jsx)(Fs.default,{style:p,children:f}),e[17]=p,e[18]=g):g=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_1,{paddingRight:40}],e[19]=x):x=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(_={maxWidth:400},e[20]=_):_=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.leading_snug],e[21]=y):y=e[21],e[22]!==i.banner?(b=(0,bt.jsx)(Fs.default,{style:x,children:(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsx)(co.Text,{style:y,children:i.banner})})}),e[22]=i.banner,e[23]=b):b=e[23],e[24]!==b||e[25]!==d||e[26]!==u||e[27]!==g?(j=(0,bt.jsxs)(io.Link,{label:d,to:"/settings/account",onPress:u,style:m,children:[g,b]}),e[24]=b,e[25]=d,e[26]=u,e[27]=g,e[28]=j):j=e[28],e[29]!==o?(v=o({id:"VbN7mk"}),e[29]=o,e[30]=v):v=e[30],e[31]!==s||e[32]!==r?(S=()=>{r(),s.metric("ageAssurance:dismissFeedBanner",{})},e[31]=s,e[32]=r,e[33]=S):S=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.absolute,qs.atoms.justify_center,qs.atoms.align_center,{top:0,bottom:0,right:0,paddingRight:qs.atoms.px_md.paddingLeft}],e[34]=w):w=e[34],e[35]!==t.name||e[36]!==t.palette.primary_600?(T=(0,qs.select)(t.name,{light:t.palette.primary_600,dark:t.palette.primary_600,dim:t.palette.primary_600}),e[35]=t.name,e[36]=t.palette.primary_600,e[37]=T):T=e[37],e[38]!==T?(k=(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{width:20,fill:T}),e[38]=T,e[39]=k):k=e[39],e[40]!==v||e[41]!==S||e[42]!==k?(C=(0,bt.jsx)(ao.Button,{label:v,size:"small",onPress:S,style:w,children:k}),e[40]=v,e[41]=S,e[42]=k,e[43]=C):C=e[43],e[44]!==c||e[45]!==j||e[46]!==C?(I=(0,bt.jsxs)(Fs.default,{style:c,children:[j,C]}),e[44]=c,e[45]=j,e[46]=C,e[47]=I):I=e[47],I}var Vi=s(45208),zi=s(18251),Ui=s(93626);function Wi({children:e}){return e}var Gi=s(32720);const qi=(0,ti.createSinglePathSVG)({path:"M2 12A9.97 9.97 0 0 1 4.929 4.93l.076-.068a1 1 0 0 1 1.407 1.406l-.07.076A7.97 7.97 0 0 0 4 12c0 2.072.786 3.958 2.078 5.38l.265.277.07.076a1 1 0 0 1-1.408 1.407l-.076-.07-.331-.346A9.97 9.97 0 0 1 2 12Zm18 0a7.97 7.97 0 0 0-2.078-5.379l-.265-.278-.07-.076a1 1 0 0 1 1.408-1.406l.076.068.331.347A9.97 9.97 0 0 1 22 12c0 2.761-1.12 5.262-2.929 7.07a1 1 0 1 1-1.414-1.413A7.97 7.97 0 0 0 20 12ZM6 12c0-1.656.673-3.158 1.758-4.243a1 1 0 0 1 1.414 1.414A3.99 3.99 0 0 0 8 12.001c0 1.035.393 1.978 1.04 2.689l.132.138.068.077a1 1 0 0 1-1.407 1.406l-.075-.069-.2-.208A5.98 5.98 0 0 1 6 12Zm10 0a3.98 3.98 0 0 0-1.04-2.69l-.132-.139-.068-.075a1 1 0 0 1 1.407-1.407l.075.068.2.208A5.98 5.98 0 0 1 18 12a5.99 5.99 0 0 1-1.758 4.243 1 1 0 0 1-1.414-1.415A3.99 3.99 0 0 0 16 12Zm-6 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"}),Qi=(0,ti.createSinglePathSVG)({path:"M6.5 3a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v3.997a6.25 6.25 0 0 0 1.83 4.42l.377.376A1 1 0 0 1 20 12.5V15a1 1 0 0 1-1 1h-6v5a1 1 0 1 1-2 0v-5H5a1 1 0 0 1-1-1v-2.5a1 1 0 0 1 .293-.707l.376-.377A6.25 6.25 0 0 0 6.5 6.996V3.001Zm2 1v2.997a8.25 8.25 0 0 1-2.416 5.834L6 12.914V14h12v-1.086l-.084-.083A8.25 8.25 0 0 1 15.5 6.997V4h-7Z"}),Ki=(0,ti.createSinglePathSVG)({path:"M7.5 2a1 1 0 0 0-1 1v3.997a6.25 6.25 0 0 1-1.83 4.42l-.377.376A1 1 0 0 0 4 12.5V15a1 1 0 0 0 1 1h6v5a1 1 0 1 0 2 0v-5h6a1 1 0 0 0 1-1v-2.5a1 1 0 0 0-.293-.707l-.376-.377a6.25 6.25 0 0 1-1.831-4.42V3.001a1 1 0 0 0-1-1h-9Z"});var Zi=s(77023),Yi=s(72978),$i=s(44369);function Xi(){const e=(0,n.c)(5),t=(0,xr.usePreferencesQuery)();let s,o;return function(){const e=(0,n.c)(4),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o,a;e[0]!==s||e[1]!==t?(o=()=>{r.IS_DEV&&r.IS_WEB&&"undefined"!==typeof window&&(window.__updateLiveEventPreferences=async e=>{await s.updateLiveEventPreferences(e),await t.invalidateQueries({queryKey:xr.preferencesQueryKey})})},a=[s,t],e[0]=s,e[1]=t,e[2]=o,e[3]=a):(o=e[2],a=e[3]);(0,lt.useEffect)(o,a)}(),e[0]!==t.data?.liveEventPreferences?(s=t.data?.liveEventPreferences||{hideAllFeeds:!1,hiddenFeedIds:[]},e[0]=t.data?.liveEventPreferences,e[1]=s):s=e[1],e[2]!==t||e[3]!==s?(o=Object.assign({},t,{data:s}),e[2]=t,e[3]=s,e[4]=o):o=e[4],o}function Ji(e){const t=(0,n.c)(5),s=(0,Xo.useAnalytics)(),o=(0,On.useQueryClient)(),a=(0,Gt.useAgent)();let r;return t[0]!==a||t[1]!==s||t[2]!==e||t[3]!==o?(r={onSettled(t,s,o){const n=void 0===o.__canUndo;let a=null;e:switch(o.type){case"hideFeed":a={type:"unhideFeed",id:o.id,__canUndo:!1};break e;case"unhideFeed":a={type:"hideFeed",id:o.id,__canUndo:!1};break e;case"toggleHideAllFeeds":a={type:"toggleHideAllFeeds",__canUndo:!1}}t&&!s&&e?.onUpdateSuccess?.({undoAction:n?a:null})},mutationFn:async t=>{const n=(await a.updateLiveEventPreferences(t)).find(el);e:switch(t.type){case"hideFeed":case"unhideFeed":if(!e.feed){s.logger.error("useUpdateLiveEventPreferences: feed is missing, but required for hiding/unhiding",{action:t});break e}s.metric("hideFeed"===t.type?"liveEvents:feedBanner:hide":"liveEvents:feedBanner:unhide",{feed:e.feed.url,context:e.metricContext});break e;case"toggleHideAllFeeds":n.hideAllFeeds?s.metric("liveEvents:hideAllFeedBanners",{context:e.metricContext}):s.metric("liveEvents:unhideAllFeedBanners",{context:e.metricContext})}return o.invalidateQueries({queryKey:xr.preferencesQueryKey}),n}},t[0]=a,t[1]=s,t[2]=e,t[3]=o,t[4]=r):r=t[4],(0,go.useMutation)(r)}function el(e){return(0,Dn.asPredicate)(Dn.AppBskyActorDefs.validateLiveEventPreferences)(e)}var tl=s(88875);const sl=new ft.QueryClient,ol=["live-events"],nl={feeds:[]};async function al(){try{const e=await fetch(`${r.LIVE_EVENTS_URL}/config`);if(!e.ok)return null;return await e.json()}catch{return null}}const rl=(0,lt.createContext)(nl);function il(e){const t=(0,n.c)(22),{children:s}=e,[o]=(0,tl.useDevMode)(),a=function(){const e=(0,n.c)(2),t=(0,Xo.useAnalytics)();let s;return e[0]!==t.features?(s=t.features.enabled(t.features.IsBskyTeam),e[0]=t.features,e[1]=s):s=e[1],s}(),{data:i}=(0,xr.usePreferencesQuery)();let l;i?.moderationPrefs?.mutedWords,t[0]!==i?.moderationPrefs?.mutedWords?(l=i?.moderationPrefs?.mutedWords??[],t[0]=i?.moderationPrefs?.mutedWords,t[1]=l):l=t[1];const c=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d={staleTime:15e3,queryKey:ol,refetchInterval:3e5,queryFn:async()=>al()},t[2]=d):d=t[2];const{data:u,refetch:m}=(0,Zs.useQuery)(d,sl);let h,p;t[3]!==m?(h=e=>{"active"===e&&m()},t[3]=m,t[4]=h):h=t[4],(0,$i.useOnAppStateChange)(h);e:{if(!u){p=nl;break e}const e=a||r.IS_DEV;let s,n,i;if(t[5]!==u||t[6]!==a||t[7]!==o||t[8]!==c||t[9]!==e){let r;t[12]!==a||t[13]!==c||t[14]!==e?(r=t=>{if(t.preview&&!a)return!1;if(!e&&c.length>0){const e=[t.title,t.layouts?.wide?.title,t.layouts?.compact?.title].filter(Boolean).join(" ");if((0,Dn.hasMutedWord)({mutedWords:c,text:e}))return!1}return!0},t[12]=a,t[13]=c,t[14]=e,t[15]=r):r=t[15];const i=u.feeds.filter(r);s=u,n=a&&o?i:i.slice(0,1),t[5]=u,t[6]=a,t[7]=o,t[8]=c,t[9]=e,t[10]=s,t[11]=n}else s=t[10],n=t[11];t[16]!==s||t[17]!==n?(i=Object.assign({},s,{feeds:n}),t[16]=s,t[17]=n,t[18]=i):i=t[18],p=i}const f=p;let g;return t[19]!==s||t[20]!==f?(g=(0,bt.jsx)(rl.Provider,{value:f,children:s}),t[19]=s,t[20]=f,t[21]=g):g=t[21],g}function ll(){const e=(0,lt.useContext)(rl);if(!e)throw new Error("useLiveEventsContext must be used within a Provider");return e}function cl(){const e=(0,n.c)(7),t=ll(),{data:s,isLoading:o}=Xi();if(o)return nl;const{hideAllFeeds:a,hiddenFeedIds:r}=s;let i,l;return e[0]!==t||e[1]!==r||e[2]!==a?(i=a?[]:t.feeds.filter((e=>!(!!e?.id&&r.includes(e?.id||"")))),e[0]=t,e[1]=r,e[2]=a,e[3]=i):i=e[3],e[4]!==t||e[5]!==i?(l=Object.assign({},t,{feeds:i}),e[4]=t,e[5]=i,e[6]=l):l=e[6],l}function dl(e){const t=(0,zt.convertBskyAppUrlIfNeeded)(e.url),[,s,,o]=t.split("/").filter(Boolean);return(0,zt.makeRecordUri)(s,"app.bsky.feed.generator",o).toString()}function ul(e){return(0,zt.isBskyCustomFeedUrl)(e.url)}var ml=s(72945);const hl=["view","children"],pl=["description"],fl=["view","pin"],gl=["view","pin","text"];function xl(e){const t=(0,n.c)(23),{view:s}=e;let o,a,r,i,l;t[0]!==s.avatar?(o=(0,bt.jsx)(jl,{src:s.avatar}),t[0]=s.avatar,t[1]=o):o=t[1],t[2]!==s.creator||t[3]!==s.displayName||t[4]!==s.uri?(a=(0,bt.jsx)(Sl,{title:s.displayName,creator:s.creator,uri:s.uri}),t[2]=s.creator,t[3]=s.displayName,t[4]=s.uri,t[5]=a):a=t[5],t[6]!==s?(r=(0,bt.jsx)(Cl,{view:s,pin:!0}),t[6]=s,t[7]=r):r=t[7],t[8]!==o||t[9]!==a||t[10]!==r?(i=(0,bt.jsxs)(bl,{children:[o,a,r]}),t[8]=o,t[9]=a,t[10]=r,t[11]=i):i=t[11],t[12]!==s.description?(l=(0,bt.jsx)(Tl,{description:s.description}),t[12]=s.description,t[13]=l):l=t[13];const c=s.likeCount||0;let d,u,m;return t[14]!==c?(d=(0,bt.jsx)(kl,{count:c}),t[14]=c,t[15]=d):d=t[15],t[16]!==i||t[17]!==l||t[18]!==d?(u=(0,bt.jsxs)(yl,{children:[i,l,d]}),t[16]=i,t[17]=l,t[18]=d,t[19]=u):u=t[19],t[20]!==e||t[21]!==u?(m=(0,bt.jsx)(_l,Object.assign({},e,{children:u})),t[20]=e,t[21]=u,t[22]=m):m=t[22],m}function _l(e){const t=(0,n.c)(16);let s,o,a;if(t[0]!==e){var r=e;({view:a,children:s}=r),o=(0,ta.default)(r,hl),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];const i=(0,On.useQueryClient)();let l;t[4]!==a?(l=function({feed:e}){const t=new Dn.AtUri(e.uri),s=e.creator.handle||e.creator.did;return`/profile/${s}/feed/${t.rkey}`}({feed:a}),t[4]=a,t[5]=l):l=t[5];const c=l;let d,u,m,h;return t[6]!==i||t[7]!==a?(d=()=>{!function(e,t){Ur(e,jr(t))}(i,a)},u=[a,i],t[6]=i,t[7]=a,t[8]=d,t[9]=u):(d=t[8],u=t[9]),lt.useEffect(d,u),t[10]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_col],t[10]=m):m=t[10],t[11]!==s||t[12]!==c||t[13]!==o||t[14]!==a.displayName?(h=(0,bt.jsx)(io.Link,Object.assign({label:a.displayName,to:c,style:m},o,{children:s})),t[11]=s,t[12]=c,t[13]=o,t[14]=a.displayName,t[15]=h):h=t[15],h}function yl(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.w_full,qs.atoms.gap_sm],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(Fs.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function bl(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(Fs.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function jl(e){const t=(0,n.c)(3),{src:s,size:o}=e,a=void 0===o?40:o;let r;return t[0]!==a||t[1]!==s?(r=(0,bt.jsx)(Gi.UserAvatar,{type:"algo",size:a,avatar:s}),t[0]=a,t[1]=s,t[2]=r):r=t[2],r}function vl(e){const t=(0,n.c)(5),{size:s}=e,o=void 0===s?40:s,a=(0,qs.useTheme)();let r,i;return t[0]!==o?(r={width:o,height:o,borderRadius:8},t[0]=o,t[1]=r):r=t[1],t[2]!==a.atoms.bg_contrast_25||t[3]!==r?(i=(0,bt.jsx)(Fs.default,{style:[a.atoms.bg_contrast_25,r]}),t[2]=a.atoms.bg_contrast_25,t[3]=r,t[4]=i):i=t[4],i}function Sl(e){const t=(0,n.c)(19),{title:s,creator:o,uri:a}=e,r=(0,qs.useTheme)(),i=function(){const e=(0,n.c)(2),{feeds:t}=ll();let s;return e[0]!==t?(s=new Set(t.filter(ul).map(dl)),e[0]=t,e[1]=s):s=e[1],s}();let l;t[0]!==r.name||t[1]!==r.palette.negative_500||t[2]!==r.palette.negative_600?(l=(0,qs.select)(r.name,{dark:r.palette.negative_600,dim:r.palette.negative_600,light:r.palette.negative_500}),t[0]=r.name,t[1]=r.palette.negative_500,t[2]=r.palette.negative_600,t[3]=l):l=t[3];const c=l;let d,u,m,h,p,f;return t[4]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.flex_1],t[4]=d):d=t[4],t[5]!==i||t[6]!==c||t[7]!==a?(u=a&&i.has(a)&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_2xs],children:[(0,bt.jsx)(qi,{size:"xs",fill:c}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xs,qs.atoms.font_medium,qs.atoms.leading_snug,{color:c}],children:(0,bt.jsx)(dt.Trans,{id:"NUsTc4"})})]}),t[5]=i,t[6]=c,t[7]=a,t[8]=u):u=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[9]=m):m=t[9],t[10]!==s?(h=(0,bt.jsx)(co.Text,{emoji:!0,style:m,numberOfLines:1,children:s}),t[10]=s,t[11]=h):h=t[11],t[12]!==o||t[13]!==r.atoms?(p=o&&(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,r.atoms.text_contrast_medium],numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"8BFAg0",values:{0:(0,Fa.sanitizeHandle)(o.handle,"@")}})}),t[12]=o,t[13]=r.atoms,t[14]=p):p=t[14],t[15]!==u||t[16]!==h||t[17]!==p?(f=(0,bt.jsxs)(Fs.default,{style:d,children:[u,h,p]}),t[15]=u,t[16]=h,t[17]=p,t[18]=f):f=t[18],f}function wl(e){const t=(0,n.c)(10),{creator:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1,qs.atoms.gap_xs],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r={width:"60%",height:14},t[1]=r):r=t[1],t[2]!==o.atoms.bg_contrast_50?(i=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,o.atoms.bg_contrast_50,r]}),t[2]=o.atoms.bg_contrast_50,t[3]=i):i=t[3],t[4]!==s||t[5]!==o.atoms.bg_contrast_25?(l=s&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,o.atoms.bg_contrast_25,{width:"40%",height:10}]}),t[4]=s,t[5]=o.atoms.bg_contrast_25,t[6]=l):l=t[6],t[7]!==i||t[8]!==l?(c=(0,bt.jsxs)(Fs.default,{style:a,children:[i,l]}),t[7]=i,t[8]=l,t[9]=c):c=t[9],c}function Tl(e){const t=(0,n.c)(8);let s,o,a;if(t[0]!==e){var r=e;({description:s}=r),o=(0,ta.default)(r,pl),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];e:{if(!s){a=void 0;break e}const e=s||"";let o;t[3]!==e?(o=new Dn.RichText({text:e}),o.detectFacetsWithoutResolution(),t[3]=e,t[4]=o):o=t[4],a=o}const i=a;if(!i)return null;let l;return t[5]!==o||t[6]!==i?(l=(0,bt.jsx)(Yi.RichText,Object.assign({value:i,disableLinks:!0},o)),t[5]=o,t[6]=i,t[7]=l):l=t[7],l}function kl(e){const t=(0,n.c)(7),{count:s}=e,o=(0,qs.useTheme)();let a;t[0]!==o.atoms.text_contrast_medium?(a=[qs.atoms.text_sm,o.atoms.text_contrast_medium,qs.atoms.font_semi_bold],t[0]=o.atoms.text_contrast_medium,t[1]=a):a=t[1];const r=s||0;let i,l;return t[2]!==r?(i=(0,bt.jsx)(dt.Trans,{id:"J0wwLX",values:{0:r}}),t[2]=r,t[3]=i):i=t[3],t[4]!==a||t[5]!==i?(l=(0,bt.jsx)(co.Text,{style:a,children:i}),t[4]=a,t[5]=i,t[6]=l):l=t[6],l}function Cl(e){const t=(0,n.c)(8);let s,o,a;if(t[0]!==e){var r=e;({view:a,pin:s}=r),o=(0,ta.default)(r,fl),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];const{hasSession:i}=(0,Gt.useSession)();if(!i)return null;let l;return t[4]!==s||t[5]!==o||t[6]!==a?(l=(0,bt.jsx)(Il,Object.assign({view:a,pin:s},o)),t[4]=s,t[5]=o,t[6]=a,t[7]=l):l=t[7],l}function Il(e){let{view:t,pin:s,text:o=!0}=e,n=(0,ta.default)(e,gl);const{_:a}=(0,dt.useLingui)(),{data:r}=(0,xr.usePreferencesQuery)(),{isPending:i,mutateAsync:l}=(0,xr.useAddSavedFeedsMutation)(),{isPending:c,mutateAsync:d}=(0,xr.useRemoveFeedMutation)(),u=t.uri,m=t.uri.includes("app.bsky.feed.generator")?"feed":"list",h=lt.useMemo((()=>r?.savedFeeds?.find((e=>e.value===u))),[r?.savedFeeds,u]),p=Zi.usePromptControl(),f=i||c,g=lt.useCallback((async e=>{e.preventDefault(),e.stopPropagation();try{h?await d(h):await l([{type:m,value:u,pinned:s||!1}]),Ds.show(a({id:"oIkrPj"}))}catch(t){Mt.logger.error(t,{message:"FeedCard: failed to update feeds",pin:s}),Ds.show(a({id:"fZjiHu"}),"xmark")}}),[a,s,l,d,u,h,m]),x=lt.useCallback((async e=>{e.preventDefault(),e.stopPropagation(),p.open()}),[p]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,Object.assign({disabled:f,label:a({id:"Rj4BN+"}),size:"small",variant:"solid",color:h?"secondary":"primary",onPress:h?x:g},n,{children:h?(0,bt.jsxs)(bt.Fragment,{children:[f?(0,bt.jsx)(ao.ButtonIcon,{size:"md",icon:lo.Loader}):!o&&(0,bt.jsx)(ao.ButtonIcon,{size:"md",icon:ml.Trash_Stroke2_Corner0_Rounded}),o&&(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6AOnq0"})})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.ButtonIcon,{size:"md",icon:f?lo.Loader:Qi}),o&&(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"GPwCPg"})})]})})),(0,bt.jsx)(Zi.Basic,{control:p,title:a({id:"am/CTH"}),description:a({id:"6VFU83"}),onConfirm:g,confirmButtonCta:a({id:"t/YqKh"}),confirmButtonColor:"negative"})]})}var Al=s(84857);const Pl=(0,ti.createSinglePathSVG)({viewBox:"0 0 46 46",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,path:"M14.333 1 9 45M37 1l-5.333 44M1 11.667h44m0 22.666H1"}),El=(0,ti.createSinglePathSVG)({path:"M9.124 3.008a1 1 0 0 1 .868 1.116L9.632 7h5.985l.39-3.124a1 1 0 0 1 1.985.248L17.632 7H20a1 1 0 1 1 0 2h-2.617l-.75 6H20a1 1 0 1 1 0 2h-3.617l-.39 3.124a1 1 0 1 1-1.985-.248l.36-2.876H8.382l-.39 3.124a1 1 0 1 1-1.985-.248L6.368 17H4a1 1 0 1 1 0-2h2.617l.75-6H4a1 1 0 1 1 0-2h3.617l.39-3.124a1 1 0 0 1 1.117-.868ZM9.383 9l-.75 6h5.984l.75-6H9.383Z"}),Ll=(0,ti.createSinglePathSVG)({path:"M9.186 2.512a1.5 1.5 0 0 0-1.674 1.302L7.176 6.5H4a1.5 1.5 0 1 0 0 3h2.8l-.624 5H4a1.5 1.5 0 0 0 0 3h1.8l-.288 2.314a1.5 1.5 0 1 0 2.976.372l.336-2.686h4.977l-.29 2.314a1.5 1.5 0 1 0 2.977.372l.336-2.686H20a1.5 1.5 0 0 0 0-3h-2.8l.624-5H20a1.5 1.5 0 0 0 0-3h-1.8l.288-2.314a1.5 1.5 0 1 0-2.976-.372L15.176 6.5h-4.977l.29-2.314a1.5 1.5 0 0 0-1.303-1.674ZM9.2 14.5l.625-5h4.977l-.625 5H9.199Z"});var Rl=s(42741),Bl=s(8299);const Dl=["animals","art","books","comedy","comics","culture","dev","education","finance","food","gaming","journalism","movies","music","nature","news","pets","photography","politics","science","sports","tech","tv","writers"],Ol=["art","gaming","sports","comics","music","politics","photography","science","news"];function Ml(){const e=(0,n.c)(73),{_:t}=(0,dt.useLingui)();let s,o,a,r,i,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C;return e[0]!==t?(s=t({id:"rJytxG"}),e[0]=t,e[1]=s):s=e[1],e[2]!==t?(o=t({id:"+QARA4"}),e[2]=t,e[3]=o):o=e[3],e[4]!==t?(a=t({id:"TGqTIz"}),e[4]=t,e[5]=a):a=e[5],e[6]!==t?(r=t({id:"CWk59I"}),e[6]=t,e[7]=r):r=e[7],e[8]!==t?(i=t({id:"Q70RyM"}),e[8]=t,e[9]=i):i=e[9],e[10]!==t?(l=t({id:"wFuUuH"}),e[10]=t,e[11]=l):l=e[11],e[12]!==t?(c=t({id:"cDg3lw"}),e[12]=t,e[13]=c):c=e[13],e[14]!==t?(d=t({id:"aqxYLv"}),e[14]=t,e[15]=d):d=e[15],e[16]!==t?(u=t({id:"8V6XO3"}),e[16]=t,e[17]=u):u=e[17],e[18]!==t?(m=t({id:"uZCzGe"}),e[18]=t,e[19]=m):m=e[19],e[20]!==t?(h=t({id:"59Bkqw"}),e[20]=t,e[21]=h):h=e[21],e[22]!==t?(p=t({id:"VjZoPG"}),e[22]=t,e[23]=p):p=e[23],e[24]!==t?(f=t({id:"i9rcQ/"}),e[24]=t,e[25]=f):f=e[25],e[26]!==t?(g=t({id:"GfaxEk"}),e[26]=t,e[27]=g):g=e[27],e[28]!==t?(x=t({id:"PGt/mb"}),e[28]=t,e[29]=x):x=e[29],e[30]!==t?(_=t({id:"qdyV/M"}),e[30]=t,e[31]=_):_=e[31],e[32]!==t?(y=t({id:"nkqs9W"}),e[32]=t,e[33]=y):y=e[33],e[34]!==t?(b=t({id:"PDaunD"}),e[34]=t,e[35]=b):b=e[35],e[36]!==t?(j=t({id:"wGvJH+"}),e[36]=t,e[37]=j):j=e[37],e[38]!==t?(v=t({id:"5/lolt"}),e[38]=t,e[39]=v):v=e[39],e[40]!==t?(S=t({id:"7JFNej"}),e[40]=t,e[41]=S):S=e[41],e[42]!==t?(w=t({id:"vlf/In"}),e[42]=t,e[43]=w):w=e[43],e[44]!==t?(T=t({id:"JwFbe8"}),e[44]=t,e[45]=T):T=e[45],e[46]!==t?(k=t({id:"IUykiF"}),e[46]=t,e[47]=k):k=e[47],e[48]!==s||e[49]!==o||e[50]!==h||e[51]!==p||e[52]!==f||e[53]!==g||e[54]!==x||e[55]!==_||e[56]!==y||e[57]!==b||e[58]!==j||e[59]!==v||e[60]!==a||e[61]!==S||e[62]!==w||e[63]!==T||e[64]!==k||e[65]!==r||e[66]!==i||e[67]!==l||e[68]!==c||e[69]!==d||e[70]!==u||e[71]!==m?(C={animals:s,art:o,books:a,comedy:r,comics:i,culture:l,dev:c,education:d,finance:u,food:m,gaming:h,journalism:p,movies:f,music:g,nature:x,news:_,pets:y,photography:b,politics:j,science:v,sports:S,tech:w,tv:T,writers:k},e[48]=s,e[49]=o,e[50]=h,e[51]=p,e[52]=f,e[53]=g,e[54]=x,e[55]=_,e[56]=y,e[57]=b,e[58]=j,e[59]=v,e[60]=a,e[61]=S,e[62]=w,e[63]=T,e[64]=k,e[65]=r,e[66]=i,e[67]=l,e[68]=c,e[69]=d,e[70]=u,e[71]=m,e[72]=C):C=e[72],C}var Fl=s(64256),Nl=s(14364),Hl=s(69121),Vl=s(52621);const zl=["ref","style"];function Ul(e){const t=(0,n.c)(13);let s,o,a,r;if(t[0]!==e){var i=e;({ref:o,style:a}=i),s=(0,ta.default)(i,zl),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];t[4]!==o?(r={outerRef:o,cursor:"grab"},t[4]=o,t[5]=r):r=t[5];const{refs:l}=function({outerRef:e,cursor:t="grab"}={}){const s=(0,lt.useRef)(null);return(0,lt.useEffect)((()=>{if(!s.current)return;const e=s.current;let o=!1,n=!1,a=0,r=0;const i=s=>{n=!0,a=s.pageX-e.offsetLeft,r=e.scrollLeft,e.style.cursor=t},l=()=>{o&&e.addEventListener("click",(e=>e.stopPropagation()),{once:!0}),n=!1,o=!1,e.style.cursor="default"},c=t=>{if(!n)return;const s=t.pageX-e.offsetLeft;if(Math.abs(s-a)<3)return;o=!0,t.preventDefault();const i=s-a;e.scrollLeft=r-i,e.contains(document.activeElement)&&document.activeElement?.blur?.()};return e.addEventListener("mousedown",i),window.addEventListener("mouseup",l),window.addEventListener("mousemove",c),()=>{e.removeEventListener("mousedown",i),window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",c)}}),[t]),{refs:(0,lt.useMemo)((()=>(0,Vl.mergeRefs)(e?[s,e]:[s])),[s,e])}}(r);let c,d,u;return t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,qs.web)(qs.atoms.user_select_none),t[6]=c):c=t[6],t[7]!==a?(d=[a,c],t[7]=a,t[8]=d):d=t[8],t[9]!==s||t[10]!==l||t[11]!==d?(u=(0,bt.jsx)(Vi.default,Object.assign({ref:l,style:d,horizontal:!0},s)),t[9]=s,t[10]=l,t[11]=d,t[12]=u):u=t[12],u}var Wl=s(43518);const Gl=211,ql=Wl.utils.alpha;function Ql({onSelectTab:e,interests:t,selectedInterest:s,disabled:o,interestsDisplayNames:n,TabComponent:a=Kl,contentContainerStyle:i,gutterWidth:l=qs.tokens.space.lg}){const c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),u=(0,lt.useRef)(null),[m,h]=(0,lt.useState)(0),[p,f]=(0,lt.useState)(0),[g,x]=(0,lt.useState)(0),_=(0,lt.useRef)([]),[y,b]=(0,lt.useState)([]),j=(0,Bn.useNonReactiveCallback)((()=>{v(t.indexOf(s))}));function v(e){const t=y[e];t&&u.current?.scrollTo({x:t.x-(m/2-t.width/2),animated:!0})}function S(s){const o=t[s];e(o),v(s)}function w(e,s,o){y.length||(_.current[e]={x:s,width:o},_.current.filter((e=>!!e)).length===t.length&&b(_.current))}(0,lt.useEffect)((()=>{y&&j()}),[y,j]);const T=p>0,k=Math.ceil(p)<g-m,C=(0,lt.useRef)(null);const I=(0,lt.useRef)(!1);function A(e){C.current&&C.current();let t=null,s=null,o=!0;I.current=!1;C.current=()=>{o=!1,t&&clearTimeout(t),s&&cancelAnimationFrame(s),C.current=null,setTimeout((()=>{I.current=!1}),100)},t=setTimeout((()=>{if(!o)return;I.current=!0;let t=p;const n=()=>{if(!o||!u.current)return;const a=g-m;let r,i=!1;if("left"===e&&t>0)r=Math.max(0,t-3),i=r>0;else{if(!("right"===e&&t<a))return;r=Math.min(a,t+3),i=r<a}t=r,u.current.scrollTo({x:r,animated:!1}),i&&o&&(s=requestAnimationFrame(n))};n()}),500)}function P(){C.current&&C.current()}return(0,lt.useEffect)((()=>()=>{C.current&&C.current()}),[]),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.flex_row],children:[(0,bt.jsx)(Ul,{ref:u,contentContainerStyle:[qs.atoms.gap_sm,{paddingHorizontal:l},i],showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToOffsets:y.filter((e=>!!e)).length===t.length?y.map((e=>e.x-qs.tokens.space.xl)):void 0,onLayout:e=>h(e.nativeEvent.layout.width),onContentSizeChange:e=>x(e),onScroll:e=>{const t=e.nativeEvent.contentOffset.x;f(t)},scrollEventThrottle:16,children:t.map(((e,t)=>{const r=e===s&&!o;return(0,bt.jsx)(a,{onSelectTab:S,active:r,index:t,interest:e,interestsDisplayName:n[e],onLayout:w},e)}))}),r.IS_WEB&&T&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.top_0,qs.atoms.left_0,qs.atoms.bottom_0,qs.atoms.justify_center,{paddingLeft:l},qs.atoms.pr_md,qs.atoms.z_10,(0,qs.web)({background:`linear-gradient(to right,  ${c.atoms.bg.backgroundColor} 0%, ${c.atoms.bg.backgroundColor} 70%, ${ql(c.atoms.bg.backgroundColor,0)} 100%)`})],children:(0,bt.jsx)(ao.Button,{label:d({id:"fZbqlc"}),onPress:function(){if(!I.current&&u.current&&T){const e=Math.max(0,p-200);u.current.scrollTo({x:e,animated:!0})}},onPressIn:()=>A("left"),onPressOut:P,color:"secondary",size:"small",style:[qs.atoms.border,c.atoms.border_contrast_low,c.atoms.bg,qs.atoms.h_full,qs.atoms.aspect_square,qs.atoms.rounded_full],children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded})})}),r.IS_WEB&&k&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.top_0,qs.atoms.right_0,qs.atoms.bottom_0,qs.atoms.justify_center,{paddingRight:l},qs.atoms.pl_md,qs.atoms.z_10,(0,qs.web)({background:`linear-gradient(to left, ${c.atoms.bg.backgroundColor} 0%, ${c.atoms.bg.backgroundColor} 70%, ${ql(c.atoms.bg.backgroundColor,0)} 100%)`})],children:(0,bt.jsx)(ao.Button,{label:d({id:"6vj9Bp"}),onPress:function(){if(!I.current&&u.current&&k){const e=g-m,t=Math.min(e,p+200);u.current.scrollTo({x:t,animated:!0})}},onPressIn:()=>A("right"),onPressOut:P,color:"secondary",size:"small",style:[qs.atoms.border,c.atoms.border_contrast_low,c.atoms.bg,qs.atoms.h_full,qs.atoms.aspect_square,qs.atoms.rounded_full],children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowRight_Stroke2_Corner0_Rounded})})})]})}function Kl(e){const t=(0,n.c)(29),{onSelectTab:s,interest:o,active:a,index:r,interestsDisplayName:i,onLayout:l}=e,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)();let u;t[0]!==d||t[1]!==a||t[2]!==i?(u=d(a?{values:{interestsDisplayName:i},id:"XuvNEx"}:{values:{interestsDisplayName:i},id:"aLPMQi"}),t[0]=d,t[1]=a,t[2]=i,t[3]=u):u=t[3];const m=u;let h,p,f,g,x,_;return t[4]!==r||t[5]!==l?(h=e=>l(r,e.nativeEvent.layout.x,e.nativeEvent.layout.width),t[4]=r,t[5]=l,t[6]=h):h=t[6],t[7]!==r||t[8]!==s?(p=()=>s(r),t[7]=r,t[8]=s,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,qs.web)({outline:"none"}),t[10]=f):f=t[10],t[11]!==a||t[12]!==i||t[13]!==c.atoms.bg||t[14]!==c.atoms.bg_contrast_25||t[15]!==c.atoms.border_contrast_low||t[16]!==c.atoms.border_contrast_medium||t[17]!==c.atoms.text||t[18]!==c.atoms.text_contrast_medium||t[19]!==c.palette?(g=e=>{const{hovered:t,pressed:s,focused:o}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,qs.atoms.px_lg,qs.atoms.py_sm,qs.atoms.border,a||t||s?[c.atoms.bg_contrast_25,c.atoms.border_contrast_medium]:o?{borderColor:c.palette.primary_300,backgroundColor:c.palette.primary_25}:[c.atoms.bg,c.atoms.border_contrast_low]],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_medium,a||t||s?c.atoms.text:c.atoms.text_contrast_medium],children:i})})},t[11]=a,t[12]=i,t[13]=c.atoms.bg,t[14]=c.atoms.bg_contrast_25,t[15]=c.atoms.border_contrast_low,t[16]=c.atoms.border_contrast_medium,t[17]=c.atoms.text,t[18]=c.atoms.text_contrast_medium,t[19]=c.palette,t[20]=g):g=t[20],t[21]!==m||t[22]!==p||t[23]!==g?(x=(0,bt.jsx)(ao.Button,{label:m,onPress:p,style:f,children:g}),t[21]=m,t[22]=p,t[23]=g,t[24]=x):x=t[24],t[25]!==o||t[26]!==h||t[27]!==x?(_=(0,bt.jsx)(Fs.default,{onLayout:h,children:x},o),t[25]=o,t[26]=h,t[27]=x,t[28]=_):_=t[28],_}function Zl(e){return(t,s)=>{const o=e?.indexOf(t)??-1,n=e?.indexOf(s)??-1;return(-1===o?1/0:o)-(-1===n?1/0:n)}}var Yl=s(66142),$l=s(23876);function Xl(e){const t=(0,n.c)(30),{current:s,total:o,title:a,subtitle:r,tabularNumsTitle:i}=e,l=(0,qs.useTheme)(),c=!r&&qs.atoms.align_center;let d,u,m,h,p,f,g,x,_,y;return t[0]!==c?(d=[qs.atoms.flex_row,qs.atoms.gap_sm,c],t[0]=c,t[1]=d):d=t[1],t[2]!==s||t[3]!==l.palette.contrast_100||t[4]!==l.palette.primary_400||t[5]!==l.palette.primary_500||t[6]!==o?(u=s===o?(0,bt.jsx)($l.AnimatedCheck,{playOnMount:!0,fill:l.palette.primary_500,width:20}):(0,bt.jsx)(Yl.Circle,{progress:s/o,color:l.palette.primary_400,size:20,thickness:3,borderWidth:0,unfilledColor:l.palette.contrast_100}),t[2]=s,t[3]=l.palette.contrast_100,t[4]=l.palette.primary_400,t[5]=l.palette.primary_500,t[6]=o,t[7]=u):u=t[7],t[8]!==r?(m=r&&{marginTop:-2},t[8]=r,t[9]=m):m=t[9],t[10]!==m?(h=[qs.atoms.flex_col,qs.atoms.gap_xs,m],t[10]=m,t[11]=h):h=t[11],t[12]!==i?(p=i&&{fontVariant:["tabular-nums"]},t[12]=i,t[13]=p):p=t[13],t[14]!==p?(f=[qs.atoms.text_sm,qs.atoms.font_semi_bold,qs.atoms.leading_tight,p],t[14]=p,t[15]=f):f=t[15],t[16]!==f||t[17]!==a?(g=(0,bt.jsx)(co.Text,{style:f,children:a}),t[16]=f,t[17]=a,t[18]=g):g=t[18],t[19]!==r||t[20]!==l.atoms?(x=r&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,l.atoms.text_contrast_medium,qs.atoms.leading_tight],children:r}),t[19]=r,t[20]=l.atoms,t[21]=x):x=t[21],t[22]!==h||t[23]!==g||t[24]!==x?(_=(0,bt.jsxs)(Fs.default,{style:h,children:[g,x]}),t[22]=h,t[23]=g,t[24]=x,t[25]=_):_=t[25],t[26]!==_||t[27]!==d||t[28]!==u?(y=(0,bt.jsxs)(Fs.default,{style:d,children:[u,_]}),t[26]=_,t[27]=d,t[28]=u,t[29]=y):y=t[29],y}function Jl(e){const t=(0,n.c)(25),{guide:s,showArrow:o}=e,a=(0,Xo.useAnalytics)(),{_:r}=(0,dt.useLingui)(),i=Qs.useDialogControl(),{gtPhone:l}=(0,qs.useBreakpoints)(),{height:c}=(0,Qr.default)();let d,u;t[0]!==r?(d=r({id:"zjruXt"}),t[0]=r,t[1]=d):d=t[1],t[2]!==a||t[3]!==i?(u=()=>{i.open(),a.metric("progressGuide:followDialog:open",{})},t[2]=a,t[3]=i,t[4]=u):u=t[4];const m=l?"small":"large";let h,p,f,g,x,_,y,b;return t[5]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"zjruXt"})}),t[5]=h):h=t[5],t[6]!==o?(p=o&&(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowRight_Stroke2_Corner0_Rounded}),t[6]=o,t[7]=p):p=t[7],t[8]!==d||t[9]!==u||t[10]!==m||t[11]!==p?(f=(0,bt.jsxs)(ao.Button,{label:d,onPress:u,size:m,color:"primary",children:[h,p]}),t[8]=d,t[9]=u,t[10]=m,t[11]=p,t[12]=f):f=t[12],t[13]!==c?(g={minHeight:c},t[13]=c,t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Qs.Handle,{}),t[15]=x):x=t[15],t[16]!==s?(_=(0,bt.jsx)(oc,{guide:s}),t[16]=s,t[17]=_):_=t[17],t[18]!==i||t[19]!==g||t[20]!==_?(y=(0,bt.jsxs)(Qs.Outer,{control:i,nativeOptions:g,children:[x,_]}),t[18]=i,t[19]=g,t[20]=_,t[21]=y):y=t[21],t[22]!==y||t[23]!==f?(b=(0,bt.jsxs)(bt.Fragment,{children:[f,y]}),t[22]=y,t[23]=f,t[24]=b):b=t[24],b}function ec(e){const t=(0,n.c)(7),{control:s}=e,{height:o}=(0,Qr.default)();let a,r,i,l;return t[0]!==o?(a={minHeight:o},t[0]=o,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Qs.Handle,{}),i=(0,bt.jsx)(oc,{}),t[2]=r,t[3]=i):(r=t[2],i=t[3]),t[4]!==s||t[5]!==a?(l=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:a,children:[r,i]}),t[4]=s,t[5]=a,t[6]=l):l=t[6],l}let tc="",sc="";function oc({guide:e}){const{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)(),o=Ml(),{data:n}=(0,xr.usePreferencesQuery)(),a=n?.interests?.tags,r=Object.keys(o).sort(Zl(Ol)).sort(Zl(a)),[i,l]=(0,lt.useState)((()=>tc||(a&&r.includes(a[0])?a[0]:r[0]))),[c,d]=(0,lt.useState)(sc),u=(0,ds.useModerationOpts)(),m=(0,lt.useRef)(null),h=(0,lt.useRef)(null),[p,f]=(0,lt.useState)(0),{currentAccount:g}=(0,Gt.useSession)();(0,lt.useEffect)((()=>{sc=c,tc=i}),[c,i]);const{data:x,isFetching:_,error:y}=(0,Nl.useGetSuggestedUsersQuery)({category:i,limit:50}),{data:b,isFetching:j,error:v,isError:S}=(0,Fl.useActorSearch)({enabled:!!c,query:c}),w=!!c,T=c||i,k=(0,lt.useMemo)((()=>{const e=w?b?.pages.flatMap((e=>e.actors)):x?.actors;let s=[];if(_||j){const e=Array(10).fill(0).map(((e,t)=>({type:"placeholder",key:t+""})));s.push(...e)}else if(w&&v||!w&&y||!e?.length)s.push({type:"empty",key:"empty",message:t({id:"zltW1E"})});else{const t=new Set;for(const o of e)t.has(o.did)||o.did!==g?.did&&(o.viewer?.following||(t.add(o.did),s.push({type:"profile",key:T+":"+o.did,profile:o})))}return!w||j||s.length||S||s.push({type:"empty",key:"empty",message:t({id:"Ev2r9A"})}),s}),[t,x,y,_,b,v,j,g?.did,w,T,S]),C=(0,lt.useCallback)((({item:e,index:t})=>{switch(e.type){case"profile":return(0,bt.jsx)(ic,{profile:e.profile,moderationOpts:u,noBorder:0===t});case"placeholder":return(0,bt.jsx)(uc,{},e.key);case"empty":return(0,bt.jsx)(mc,{message:e.message},e.key);default:return null}}),[u]),I=(0,lt.useRef)(new Set),A=(0,lt.useRef)(k);A.current=k;const P=(0,lt.useRef)(i);P.current=i;const E=(0,Bn.useNonReactiveCallback)((({viewableItems:e})=>{for(const t of e){const e=t.item;if("profile"===e.type&&!I.current.has(e.profile.did)){I.current.add(e.profile.did);const t=A.current.findIndex((t=>"profile"===t.type&&t.profile.did===e.profile.did));s.metric("suggestedUser:seen",{logContext:"ProgressGuide",recId:w?void 0:x?.recId,position:-1!==t?t:0,suggestedDid:e.profile.did,category:P.current})}}})),L=(0,lt.useMemo)((()=>({itemVisiblePercentThreshold:50})),[]),R=(0,lt.useCallback)((e=>{l(e),h.current?.clear(),d(""),m.current?.scrollToOffset({offset:0,animated:!1})}),[l,d]),B=(0,bt.jsx)(nc,{guide:e,inputRef:h,listRef:m,searchText:c,onSelectTab:R,setHeaderHeight:f,setSearchText:d,interests:r,selectedInterest:i,interestsDisplayNames:o});return(0,bt.jsx)(Qs.InnerFlatList,{ref:m,data:k,renderItem:C,ListHeaderComponent:B,stickyHeaderIndices:[0],keyExtractor:e=>e.key,style:[qs.atoms.px_0,(0,qs.web)([qs.atoms.py_0,{height:"100vh",maxHeight:600}]),(0,qs.native)({height:"100%"})],webInnerContentContainerStyle:qs.atoms.py_0,webInnerStyle:[qs.atoms.py_0,{maxWidth:500,minWidth:200}],keyboardDismissMode:"on-drag",scrollIndicatorInsets:{top:p},initialNumToRender:8,maxToRenderPerBatch:8,onViewableItemsChanged:E,viewabilityConfig:L})}let nc=e=>{const t=(0,n.c)(32),{guide:s,inputRef:o,listRef:a,searchText:r,onSelectTab:i,setHeaderHeight:l,setSearchText:c,interests:d,selectedInterest:u,interestsDisplayNames:m}=e,h=(0,qs.useTheme)(),p=Qs.useDialogContext();let f,g,x,_,y,b,j,v;t[0]!==l?(f=e=>l(e.nativeEvent.layout.height),t[0]=l,t[1]=f):f=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(g=(0,qs.web)(qs.atoms.pt_lg),x=(0,qs.native)(qs.atoms.pt_4xl),t[2]=g,t[3]=x):(g=t[2],x=t[3]),t[4]!==h.atoms.bg||t[5]!==h.atoms.border_contrast_low?(_=[qs.atoms.relative,g,x,qs.atoms.pb_xs,qs.atoms.border_b,h.atoms.border_contrast_low,h.atoms.bg],t[4]=h.atoms.bg,t[5]=h.atoms.border_contrast_low,t[6]=_):_=t[6],t[7]!==s?(y=(0,bt.jsx)(ac,{guide:s}),t[7]=s,t[8]=y):y=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(b=[(0,qs.web)(qs.atoms.pt_xs),qs.atoms.pb_xs],t[9]=b):b=t[9],t[10]!==a||t[11]!==c?(j=e=>{c(e),a.current?.scrollToOffset({offset:0,animated:!1})},t[10]=a,t[11]=c,t[12]=j):j=t[12],t[13]!==p.close||t[14]!==o||t[15]!==r||t[16]!==j?(v=(0,bt.jsx)(dc,{inputRef:o,defaultValue:r,onChangeText:j,onEscape:p.close}),t[13]=p.close,t[14]=o,t[15]=r,t[16]=j,t[17]=v):v=t[17];const S=!!r;let w,T,k;return t[18]!==d||t[19]!==m||t[20]!==i||t[21]!==u||t[22]!==S?(w=(0,bt.jsx)(Ql,{onSelectTab:i,interests:d,selectedInterest:u,disabled:S,interestsDisplayNames:m,TabComponent:rc}),t[18]=d,t[19]=m,t[20]=i,t[21]=u,t[22]=S,t[23]=w):w=t[23],t[24]!==w||t[25]!==v?(T=(0,bt.jsxs)(Fs.default,{style:b,children:[v,w]}),t[24]=w,t[25]=v,t[26]=T):T=t[26],t[27]!==f||t[28]!==T||t[29]!==_||t[30]!==y?(k=(0,bt.jsxs)(Fs.default,{onLayout:f,style:_,children:[y,T]}),t[27]=f,t[28]=T,t[29]=_,t[30]=y,t[31]=k):k=t[31],k};function ac(e){const t=(0,n.c)(15),{guide:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),i=Qs.useDialogContext();let l,c,d,u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.px_lg,qs.atoms.relative,qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center],t[0]=l):l=t[0],t[1]!==a.atoms.text_contrast_high?(c=[qs.atoms.z_10,qs.atoms.text_lg,qs.atoms.font_bold,qs.atoms.leading_tight,a.atoms.text_contrast_high],t[1]=a.atoms.text_contrast_high,t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dt.Trans,{id:"zjruXt"}),t[3]=d):d=t[3],t[4]!==c?(u=(0,bt.jsx)(co.Text,{style:c,children:d}),t[4]=c,t[5]=u):u=t[5],t[6]!==s?(m=s&&(0,bt.jsx)(Fs.default,{style:r.IS_WEB&&{paddingRight:36},children:(0,bt.jsx)(Xl,{current:s.numFollows+1,total:11,title:`${s.numFollows} / 10`,tabularNumsTitle:!0})}),t[6]=s,t[7]=m):m=t[7],t[8]!==o||t[9]!==i?(h=r.IS_WEB?(0,bt.jsx)(ao.Button,{label:o({id:"yz7wBu"}),size:"small",shape:"round",variant:r.IS_WEB?"ghost":"solid",color:"secondary",style:[qs.atoms.absolute,qs.atoms.z_20,(0,qs.web)({right:8}),(0,qs.native)({right:0}),(0,qs.native)({height:32,width:32,borderRadius:16})],onPress:()=>i.close(),children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"md"})}):null,t[8]=o,t[9]=i,t[10]=h):h=t[10],t[11]!==u||t[12]!==m||t[13]!==h?(p=(0,bt.jsxs)(Fs.default,{style:l,children:[u,m,h]}),t[11]=u,t[12]=m,t[13]=h,t[14]=p):p=t[14],p}nc=(0,lt.memo)(nc);let rc=e=>{const t=(0,n.c)(26),{onSelectTab:s,interest:o,active:a,index:r,interestsDisplayName:i,onLayout:l}=e,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)();let u;t[0]!==d||t[1]!==a||t[2]!==i?(u=d(a?{values:{interestsDisplayName:i},id:"Uj7dy6"}:{values:{interestsDisplayName:i},id:"pfhtuo"}),t[0]=d,t[1]=a,t[2]=i,t[3]=u):u=t[3];const m=u;let h,p,f,g,x;return t[4]!==r||t[5]!==l?(h=e=>l(r,e.nativeEvent.layout.x,e.nativeEvent.layout.width),t[4]=r,t[5]=l,t[6]=h):h=t[6],t[7]!==r||t[8]!==s?(p=()=>s(r),t[7]=r,t[8]=s,t[9]=p):p=t[9],t[10]!==a||t[11]!==i||t[12]!==c.atoms.bg||t[13]!==c.atoms.bg_contrast_25||t[14]!==c.atoms.border_contrast_low||t[15]!==c.atoms.text||t[16]!==c.atoms.text_contrast_medium?(f=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,qs.atoms.px_lg,qs.atoms.py_sm,qs.atoms.border,a||t||s?[c.atoms.bg_contrast_25,{borderColor:c.atoms.bg_contrast_25.backgroundColor}]:[c.atoms.bg,c.atoms.border_contrast_low]],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_medium,a||t||s?c.atoms.text:c.atoms.text_contrast_medium],children:i})})},t[10]=a,t[11]=i,t[12]=c.atoms.bg,t[13]=c.atoms.bg_contrast_25,t[14]=c.atoms.border_contrast_low,t[15]=c.atoms.text,t[16]=c.atoms.text_contrast_medium,t[17]=f):f=t[17],t[18]!==m||t[19]!==p||t[20]!==f?(g=(0,bt.jsx)(ao.Button,{label:m,onPress:p,children:f}),t[18]=m,t[19]=p,t[20]=f,t[21]=g):g=t[21],t[22]!==o||t[23]!==h||t[24]!==g?(x=(0,bt.jsx)(Fs.default,{onLayout:h,children:g},o),t[22]=o,t[23]=h,t[24]=g,t[25]=x):x=t[25],x};rc=(0,lt.memo)(rc);let ic=e=>{const t=(0,n.c)(4),{profile:s,moderationOpts:o,noBorder:a}=e;let r;return t[0]!==o||t[1]!==a||t[2]!==s?(r=(0,bt.jsx)(lc,{profile:s,moderationOpts:o,noBorder:a}),t[0]=o,t[1]=a,t[2]=s,t[3]=r):r=t[3],r};function lc(e){const t=(0,n.c)(13),{profile:s,moderationOpts:o,onFollow:a,noBorder:i}=e,l=Qs.useDialogContext(),c=(0,qs.useTheme)();let d,u,m,h;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.flex_1],t[0]=d):d=t[0],t[1]!==l?(u=()=>l.close(),t[1]=l,t[2]=u):u=t[2],t[3]!==o||t[4]!==i||t[5]!==a||t[6]!==s||t[7]!==c?(m=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsx)(cc,{style:[qs.atoms.flex_1,i&&qs.atoms.border_t_0,(t||n)&&c.atoms.bg_contrast_25],children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{disabledPreview:!r.IS_WEB,profile:s,moderationOpts:o}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:o}),(0,bt.jsx)(Rl.FollowButton,{profile:s,moderationOpts:o,logContext:"PostOnboardingFindFollows",shape:"round",onPress:a,colorInverted:!0})]}),(0,bt.jsx)(Rl.Description,{profile:s,numberOfLines:2})]})})},t[3]=o,t[4]=i,t[5]=a,t[6]=s,t[7]=c,t[8]=m):m=t[8],t[9]!==s||t[10]!==u||t[11]!==m?(h=(0,bt.jsx)(Rl.Link,{profile:s,style:d,onPress:u,children:m}),t[9]=s,t[10]=u,t[11]=m,t[12]=h):h=t[12],h}function cc(e){const t=(0,n.c)(6),{children:s,style:o}=e,a=(0,qs.useTheme)();let r,i;return t[0]!==o||t[1]!==a.atoms.border_contrast_low?(r=[qs.atoms.w_full,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.border_t,a.atoms.border_contrast_low,o],t[0]=o,t[1]=a.atoms.border_contrast_low,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(Fs.default,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],i}function dc(e){const t=(0,n.c)(33),{onChangeText:s,onEscape:o,inputRef:a,defaultValue:r}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),{state:c,onIn:d,onOut:u}=(0,la.useInteractionState)(),{state:m,onIn:h,onOut:p}=(0,la.useInteractionState)(),f=c||m;let g,x;t[0]!==d||t[1]!==u?(g=(0,qs.web)({onMouseEnter:d,onMouseLeave:u}),t[0]=d,t[1]=u,t[2]=g):g=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.px_lg,qs.atoms.py_xs],t[3]=x):x=t[3];const _=f?i.palette.primary_500:i.palette.contrast_300;let y,b,j;t[4]!==_?(y=(0,bt.jsx)(Hl.MagnifyingGlass_Stroke2_Corner0_Rounded,{size:"md",fill:_}),t[4]=_,t[5]=y):y=t[5],t[6]!==l?(b=l({id:"OKweoj"}),t[6]=l,t[7]=b):b=t[7],t[8]!==i.atoms.text?(j=[qs.atoms.flex_1,qs.atoms.py_md,qs.atoms.text_md,i.atoms.text],t[8]=i.atoms.text,t[9]=j):j=t[9];const v=i.palette.contrast_500,S="light"===i.name?"light":"dark";let w,T,k,C,I;return t[10]!==o?(w=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&o()},t[10]=o,t[11]=w):w=t[11],t[12]!==l?(T=l({id:"/r0Dm5"}),t[12]=l,t[13]=T):T=t[13],t[14]!==l?(k=l({id:"XRcrP9"}),t[14]=l,t[15]=k):k=t[15],t[16]!==r||t[17]!==a||t[18]!==p||t[19]!==s||t[20]!==h||t[21]!==i.palette.contrast_500||t[22]!==T||t[23]!==k||t[24]!==b||t[25]!==j||t[26]!==S||t[27]!==w?(C=(0,bt.jsx)(Bl.default,{ref:a,placeholder:b,defaultValue:r,onChangeText:s,onFocus:h,onBlur:p,style:j,placeholderTextColor:v,keyboardAppearance:S,returnKeyType:"search",clearButtonMode:"while-editing",maxLength:50,onKeyPress:w,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",accessibilityLabel:T,accessibilityHint:k}),t[16]=r,t[17]=a,t[18]=p,t[19]=s,t[20]=h,t[21]=i.palette.contrast_500,t[22]=T,t[23]=k,t[24]=b,t[25]=j,t[26]=S,t[27]=w,t[28]=C):C=t[28],t[29]!==g||t[30]!==C||t[31]!==y?(I=(0,bt.jsxs)(Fs.default,Object.assign({},g,{style:x,children:[y,C]})),t[29]=g,t[30]=C,t[31]=y,t[32]=I):I=t[32],I}function uc(){const e=(0,n.c)(17),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.flex_1,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.gap_md,qs.atoms.align_center,qs.atoms.flex_row],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={width:42,height:42},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25?(a=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,o,t.atoms.bg_contrast_25]}),e[2]=t.atoms.bg_contrast_25,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_1,qs.atoms.gap_sm],e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i={width:80,height:14},e[5]=i):i=e[5],e[6]!==t.atoms.bg_contrast_25?(l=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,i,t.atoms.bg_contrast_25]}),e[6]=t.atoms.bg_contrast_25,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c={width:120,height:10},e[8]=c):c=e[8],e[9]!==t.atoms.bg_contrast_25?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,c,t.atoms.bg_contrast_25]}),e[9]=t.atoms.bg_contrast_25,e[10]=d):d=e[10],e[11]!==l||e[12]!==d?(u=(0,bt.jsxs)(Fs.default,{style:r,children:[l,d]}),e[11]=l,e[12]=d,e[13]=u):u=e[13],e[14]!==a||e[15]!==u?(m=(0,bt.jsxs)(Fs.default,{style:s,children:[a,u]}),e[14]=a,e[15]=u,e[16]=m):m=e[16],m}function mc(e){const t=(0,n.c)(11),{message:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.p_lg,qs.atoms.py_xl,qs.atoms.align_center,qs.atoms.gap_md],t[0]=a):a=t[0],t[1]!==o.atoms.text_contrast_high?(r=[qs.atoms.text_sm,qs.atoms.italic,o.atoms.text_contrast_high],t[1]=o.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(co.Text,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],t[6]!==o.atoms.text_contrast_low?(l=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,o.atoms.text_contrast_low],children:"(\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b"}),t[6]=o.atoms.text_contrast_low,t[7]=l):l=t[7],t[8]!==i||t[9]!==l?(c=(0,bt.jsxs)(Fs.default,{style:a,children:[i,l]}),t[8]=i,t[9]=l,t[10]=c):c=t[10],c}ic=(0,lt.memo)(ic);var hc=s(64559),pc=s(56694);const fc=10;function gc(e){const t=(0,n.c)(34),{style:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{gtPhone:r}=(0,qs.useBreakpoints)(),{rightNavVisible:i}=(0,qs.useLayoutBreakpoints)(),{currentAccount:l}=(0,Gt.useSession)(),c=(0,Cs.useProgressGuide)("follow-10"),d=(0,Cs.useProgressGuide)("like-10-and-follow-7"),u=c||d,{endProgressGuide:m}=(0,Cs.useProgressGuideControls)();let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h={limit:fc},t[0]=h):h=t[0];const{data:p}=(0,hc.useProfileFollowsQuery)(l?.did,h),f=p?.pages?.[0]?.follows?.length??0;if("follow-10"===u?.guide&&f>=fc)return null;const g=r&&!i;if(u){let e,n,r,i,l,c,d,h,f,x,_,y,b;return t[1]!==s||t[2]!==o.atoms.bg_contrast_50?(e=[qs.atoms.flex_col,qs.atoms.gap_md,qs.atoms.rounded_md,o.atoms.bg_contrast_50,qs.atoms.p_lg,s],t[1]=s,t[2]=o.atoms.bg_contrast_50,t[3]=e):e=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between],t[4]=n):n=t[4],t[5]!==o.atoms.text?(r=[o.atoms.text,qs.atoms.font_semi_bold,qs.atoms.text_md],t[5]=o.atoms.text,t[6]=r):r=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"5OAfj2"}),t[7]=i):i=t[7],t[8]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),t[8]=r,t[9]=l):l=t[9],t[10]!==a?(c=a({id:"uwkE+S"}),t[10]=a,t[11]=c):c=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.bg_transparent,{marginTop:-6,marginRight:-6}],h=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"xs"}),t[12]=d,t[13]=h):(d=t[12],h=t[13]),t[14]!==m||t[15]!==c?(f=(0,bt.jsx)(ao.Button,{variant:"ghost",size:"tiny",color:"secondary",shape:"round",label:c,onPress:m,style:d,children:h}),t[14]=m,t[15]=c,t[16]=f):f=t[16],t[17]!==f||t[18]!==l?(x=(0,bt.jsxs)(Fs.default,{style:n,children:[l,f]}),t[17]=f,t[18]=l,t[19]=x):x=t[19],t[20]!==p?.pages?.[0]?.follows||t[21]!==u||t[22]!==g?(_="follow-10"===u.guide&&(0,bt.jsxs)(Fs.default,{style:[g?[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.gap_sm]:[qs.atoms.flex_col,qs.atoms.gap_md]],children:[(0,bt.jsx)(xc,{follows:p?.pages?.[0]?.follows}),(0,bt.jsx)(Jl,{guide:u,showArrow:g})]}),t[20]=p?.pages?.[0]?.follows,t[21]=u,t[22]=g,t[23]=_):_=t[23],t[24]!==a||t[25]!==u.guide||t[26]!==u.numFollows||t[27]!==u.numLikes?(y="like-10-and-follow-7"===u.guide&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Xl,{current:u.numLikes+1,total:11,title:a({id:"U4+xpl"}),subtitle:a({id:"rrAqb8"})}),(0,bt.jsx)(Xl,{current:u.numFollows+1,total:8,title:a({id:"6UV0sV"}),subtitle:a({id:"Pddc2S"})})]}),t[24]=a,t[25]=u.guide,t[26]=u.numFollows,t[27]=u.numLikes,t[28]=y):y=t[28],t[29]!==x||t[30]!==_||t[31]!==y||t[32]!==e?(b=(0,bt.jsxs)(Fs.default,{style:e,children:[x,_,y]}),t[29]=x,t[30]=_,t[31]=y,t[32]=e,t[33]=b):b=t[33],b}return null}function xc(e){const t=(0,n.c)(9),{follows:s}=e,o=(0,qs.useTheme)(),[a,r]=(0,lt.useState)(0);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{r(e.nativeEvent.layout.width)},t[0]=i):i=t[0];const l=i,c=a>0?a/(fc-.22*(fc-1)):0,d=.22*c,u=.5*c;let m;if(t[1]!==c||t[2]!==a||t[3]!==s||t[4]!==u||t[5]!==d||t[6]!==o){const e=s?.slice(0,fc)??[],n=fc-e.length;let r;t[8]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_row,qs.atoms.flex_1],t[8]=r):r=t[8],m=(0,bt.jsx)(Fs.default,{style:r,onLayout:l,children:a>0&&(0,bt.jsxs)(bt.Fragment,{children:[e.map(((e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,qs.atoms.border,o.atoms.border_contrast_low,{marginLeft:0===t?0:-d,zIndex:fc-t}],children:(0,bt.jsx)(Gi.UserAvatar,{type:"user",size:c-2,avatar:e.avatar,noBorder:!0})},e.did))),Array(n).fill(0).map(((t,s)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,o.atoms.bg_contrast_300,qs.atoms.border,o.atoms.border_contrast_low,{width:c,height:c,marginLeft:0===e.length&&0===s?0:-d,zIndex:fc-e.length-s}],children:(0,bt.jsx)(pc.Person_Filled_Corner2_Rounded,{width:u,height:u,fill:o.atoms.bg_contrast_50.backgroundColor})},`placeholder-${s}`)))]})}),t[1]=c,t[2]=a,t[3]=s,t[4]=u,t[5]=d,t[6]=o,t[7]=m}else m=t[7];return m}const _c=200,yc=165,bc=120;function jc(e){const t=(0,n.c)(11),{children:s,style:o}=e,a=(0,qs.useTheme)(),{gtMobile:r}=(0,qs.useBreakpoints)();let i,l,c;return t[0]!==r?(i=!r&&{width:yc},t[0]=r,t[1]=i):i=t[1],t[2]!==o||t[3]!==a.atoms.bg||t[4]!==a.atoms.border_contrast_low||t[5]!==a.atoms.shadow_sm||t[6]!==i?(l=[qs.atoms.flex_1,qs.atoms.w_full,qs.atoms.p_md,qs.atoms.rounded_lg,qs.atoms.border,a.atoms.bg,a.atoms.shadow_sm,a.atoms.border_contrast_low,i,o],t[2]=o,t[3]=a.atoms.bg,t[4]=a.atoms.border_contrast_low,t[5]=a.atoms.shadow_sm,t[6]=i,t[7]=l):l=t[7],t[8]!==s||t[9]!==l?(c=(0,bt.jsx)(Fs.default,{testID:"CardOuter",style:l,children:s}),t[8]=s,t[9]=l,t[10]=c):c=t[10],c}function vc(){const e=(0,n.c)(4);let t,s,o,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[qs.atoms.flex_col,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pb_sm,qs.atoms.mb_auto],s=(0,bt.jsx)(Rl.AvatarPlaceholder,{size:88}),o=(0,bt.jsx)(Rl.NamePlaceholder,{}),e[0]=t,e[1]=s,e[2]=o):(t=e[0],s=e[1],o=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(jc,{children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Fs.default,{style:t,children:[s,o,(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full],children:(0,bt.jsx)(Rl.DescriptionPlaceholder,{numberOfLines:2})})]}),(0,bt.jsx)(Rl.FollowButtonPlaceholder,{})]})}),e[3]=a):a=e[3],a}function Sc(e){let t;t="popfriends"===e.feedContext?"a":e.feedContext?.startsWith("cluster")?"b":"popcluster"===e.feedContext?"c":e.feedContext?.startsWith("ntpc")?"d":e.feedContext?.startsWith("t-")?"e":"nettop"===e.feedContext?"f":"g";let s=Math.round(Math.log(1+e.likeCount+e.repostCount+e.replyCount));(e.isFollowedBy||Math.random()>.9)&&(s*=2);return`${t}-${100-s}`}function wc(e,t){const s=Sc(e),o=Sc(t);return s>o?1:s<o?-1:0}function Tc(e){const t=(0,n.c)(5),{feed:s}=e,{currentAccount:o}=(0,Gt.useSession)();let a;t[0]!==s?(a=s.split("|"),t[0]=s,t[1]=a):a=t[1];const[r,i]=a;if("author"===r){if(o?.did===i)return null;{let e;return t[2]!==i?(e=(0,bt.jsx)(kc,{did:i}),t[2]=i,t[3]=e):e=t[3],e}}{let e;return t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Cc,{}),t[4]=e):e=t[4],e}}function kc({did:e}){const{gtMobile:t}=(0,qs.useBreakpoints)(),s=(0,ds.useModerationOpts)(),o=t?4:6,{isLoading:n,data:a,error:r}=(0,zi.useSuggestedFollowsByActorQuery)({did:e}),{data:i,fetchNextPage:l,hasNextPage:c,isFetchingNextPage:d}=(0,zi.useSuggestedFollowsQuery)({limit:25}),[u,m]=(0,lt.useState)(new Set),h=(0,lt.useCallback)((e=>{m((t=>new Set(t).add(e)))}),[]),p=(0,lt.useMemo)((()=>{const t=a?.suggestions??[],s=i?.pages.flatMap((e=>e.actors.map((t=>({actor:t,recId:e.recId})))))??[],o=new Set,n=[];for(const e of t)o.has(e.did)||(o.add(e.did),n.push({actor:e,recId:a?.recId}));for(const a of s)o.has(a.actor.did)||a.actor.did===e||(o.add(a.actor.did),n.push(a));return n}),[a?.suggestions,i?.pages,e,a?.recId]),f=(0,lt.useMemo)((()=>p.filter((e=>!u.has(e.actor.did)))),[p,u]);return(0,lt.useEffect)((()=>{s&&f.length<o&&c&&!d&&l()}),[f.length,o,c,d,l,s]),(0,bt.jsx)(Ic,{isSuggestionsLoading:n,profiles:f,totalProfileCount:p.length,error:r,viewContext:"profile",onDismiss:h})}function Cc(){const{gtMobile:e}=(0,qs.useBreakpoints)(),t=(0,ds.useModerationOpts)(),s=e?4:6,{isLoading:o,profiles:n,error:a}=function(){const{currentAccount:e}=(0,Gt.useSession)(),t=Ui.useActionHistorySnapshot(),s=(0,lt.useMemo)((()=>{const{likes:s,follows:o,followSuggestions:n,seen:a}=t,r=s.map((e=>new Dn.AtUri(e))).map((e=>e.host)).filter((e=>!o.includes(e)));let i=[];n.length>0&&(i=[n[Math.floor(Math.random()*n.length)],n[Math.floor(Math.random()*n.length)],n[Math.floor(Math.random()*n.length)],n[Math.floor(Math.random()*n.length)]]);const l=a.sort(wc).map((e=>new Dn.AtUri(e.uri))).map((e=>e.host));return[...new Set([...i,...r,...l])].filter((t=>t!==e?.did))}),[t,e]),{data:o,isLoading:n,error:a}=(0,Ut.useProfilesQuery)({handles:s.slice(0,16)});return{isLoading:n,error:a,profiles:(o?o.profiles.filter((e=>!e.viewer?.following)):[]).slice(0,6)}}(),{data:r,fetchNextPage:i,hasNextPage:l,isFetchingNextPage:c,error:d}=(0,zi.useSuggestedFollowsQuery)({limit:25}),[u,m]=(0,lt.useState)(new Set),h=(0,lt.useCallback)((e=>{m((t=>new Set(t).add(e)))}),[]),p=(0,lt.useMemo)((()=>{const e=r?.pages.flatMap((e=>e.actors.map((t=>({actor:t,recId:e.recId})))))??[],t=new Set,s=[];for(const o of n)t.has(o.did)||(t.add(o.did),s.push({actor:o,recId:void 0}));for(const o of e)t.has(o.actor.did)||(t.add(o.actor.did),s.push(o));return s}),[n,r?.pages]),f=(0,lt.useMemo)((()=>p.filter((e=>!u.has(e.actor.did)))),[p,u]);return(0,lt.useEffect)((()=>{t&&f.length<s&&l&&!c&&i()}),[f.length,s,l,c,i,t]),(0,bt.jsx)(Ic,{isSuggestionsLoading:o,profiles:f,totalProfileCount:p.length,error:a||d,viewContext:"feed",onDismiss:h})}function Ic(e){const t=(0,n.c)(65),{isSuggestionsLoading:s,error:o,profiles:a,totalProfileCount:i,viewContext:l,onDismiss:c,isVisible:d}=e,u=void 0===l?"feed":l,m=void 0===d||d,h=(0,qs.useTheme)(),p=(0,Xo.useAnalytics)(),{_:f}=(0,dt.useLingui)(),g=(0,ds.useModerationOpts)(),{gtMobile:x}=(0,qs.useBreakpoints)(),_=(0,Qs.useDialogControl)(),y=s||!g,b="profileHeader"===u,j="feed"===u,v=x?3:b?12:6,S=x?3:4;let w;t[0]===Symbol.for("react.memo_cache_sentinel")?(w=new Set,t[0]=w):w=t[0];const T=(0,lt.useRef)(w),k=(0,lt.useRef)(null),C=(0,lt.useRef)(!1),I=j?"InterstitialDiscover":b?"Profile":"InterstitialProfile";let A;t[1]!==p||t[2]!==o||t[3]!==y||t[4]!==I||t[5]!==v||t[6]!==a?(A=()=>{if(y||o||!a.length)return;if(C.current)return;C.current=!0;a.slice(0,v).forEach(((e,t)=>{T.current.has(e.actor.did)||(T.current.add(e.actor.did),p.metric("suggestedUser:seen",{logContext:I,recId:e.recId,position:t,suggestedDid:e.actor.did,category:null}))}))},t[1]=p,t[2]=o,t[3]=y,t[4]=I,t[5]=v,t[6]=a,t[7]=A):A=t[7];const P=A;let E,L,R,B,D;t[8]!==P||t[9]!==b||t[10]!==m?(E=()=>{if(b){if(!m)return void(C.current=!1);P()}},L=[m,b,P],t[8]=P,t[9]=b,t[10]=m,t[11]=E,t[12]=L):(E=t[11],L=t[12]),(0,lt.useEffect)(E,L),t[13]!==o||t[14]!==P||t[15]!==y||t[16]!==b||t[17]!==a.length?(R=()=>{if(b)return;if(y||o||!a.length)return;const e=k.current;if(e){if("undefined"!==typeof IntersectionObserver){const t=new IntersectionObserver((e=>{e[0]?.isIntersecting&&(P(),t.disconnect())}),{threshold:.5});return t.observe(e),()=>t.disconnect()}{const e=setTimeout((()=>{P()}),500);return()=>clearTimeout(e)}}},B=[b,y,o,a.length,P],t[13]=o,t[14]=P,t[15]=y,t[16]=b,t[17]=a.length,t[18]=R,t[19]=B):(R=t[18],B=t[19]),(0,lt.useEffect)(R,B),t[20]!==f||t[21]!==p||t[22]!==o||t[23]!==x||t[24]!==j||t[25]!==y||t[26]!==v||t[27]!==g||t[28]!==c||t[29]!==a||t[30]!==h?(D=y?Array(v).fill(0).map(((e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,x&&(0,qs.web)([qs.atoms.flex_0,qs.atoms.flex_grow,{width:`calc(30% - ${qs.atoms.gap_md.gap/2}px)`}])],children:(0,bt.jsx)(vc,{})},t))):o||!a.length?null:a.slice(0,v).map(((e,t)=>(0,bt.jsx)(yn.default.View,{layout:(0,qs.native)(yn.LinearTransition.delay(_c).easing(yn.Easing.out(yn.Easing.exp))),exiting:yn.FadeOut.duration(_c),entering:(0,qs.web)(yn.FadeIn.delay(2*_c)),style:[qs.atoms.flex_1,x&&(0,qs.web)([qs.atoms.flex_0,qs.atoms.flex_grow,{width:`calc(30% - ${qs.atoms.gap_md.gap/2}px)`}])],children:(0,bt.jsx)(Rl.Link,{profile:e.actor,onPress:()=>{p.metric("suggestedUser:press",{logContext:j?"InterstitialDiscover":"InterstitialProfile",recId:e.recId,position:t,suggestedDid:e.actor.did,category:null})},style:[qs.atoms.flex_1],children:s=>{const{hovered:o,pressed:n}=s;return(0,bt.jsx)(jc,{style:[(o||n)&&h.atoms.border_contrast_high],children:(0,bt.jsxs)(Rl.Outer,{children:[c&&(0,bt.jsx)(ao.Button,{label:f({id:"kh25xb"}),onPress:s=>{s.preventDefault(),c(e.actor.did),p.metric("suggestedUser:dismiss",{logContext:j?"InterstitialDiscover":"InterstitialProfile",position:t,suggestedDid:e.actor.did,recId:e.recId})},style:[qs.atoms.absolute,qs.atoms.z_10,qs.atoms.p_xs,{top:-4,right:-4}],children:e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:"xs",fill:t||s?h.atoms.text.color:h.atoms.text_contrast_medium.color})}}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_col,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pb_sm,qs.atoms.mb_auto],children:[(0,bt.jsx)(Rl.Avatar,{profile:e.actor,moderationOpts:g,disabledPreview:!0,size:88}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_col,qs.atoms.align_center,qs.atoms.max_w_full],children:[(0,bt.jsx)(Rl.Name,{profile:e.actor,moderationOpts:g}),(0,bt.jsx)(Rl.Description,{profile:e.actor,numberOfLines:2,style:[h.atoms.text_contrast_medium,qs.atoms.text_center,qs.atoms.text_xs]})]})]}),(0,bt.jsx)(Rl.FollowButton,{profile:e.actor,moderationOpts:g,logContext:"FeedInterstitial",withIcon:!1,style:[qs.atoms.rounded_sm],onFollow:()=>{p.metric("suggestedUser:follow",{logContext:j?"InterstitialDiscover":"InterstitialProfile",location:"Card",recId:e.recId,position:t,suggestedDid:e.actor.did,category:null})}})]})})}})},e.actor.did))),t[20]=f,t[21]=p,t[22]=o,t[23]=x,t[24]=j,t[25]=y,t[26]=v,t[27]=g,t[28]=c,t[29]=a,t[30]=h,t[31]=D):D=t[31];const O=D,M=i??a.length;if(o||!y&&M<S)return p.logger.debug("Not enough profiles to show suggested follows"),null;const F=!b&&qs.atoms.border_t;let N,H,V,z,U,W,G,q,Q,K;return t[32]!==h.atoms.bg_contrast_25||t[33]!==h.atoms.border_contrast_low||t[34]!==F?(N=[F,h.atoms.border_contrast_low,h.atoms.bg_contrast_25],t[32]=h.atoms.bg_contrast_25,t[33]=h.atoms.border_contrast_low,t[34]=F,t[35]=N):N=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(H=[qs.atoms.px_lg,qs.atoms.pt_md,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between],t[36]=H):H=t[36],t[37]!==h.atoms.text?(V=[qs.atoms.text_sm,qs.atoms.font_semi_bold,h.atoms.text],t[37]=h.atoms.text,t[38]=V):V=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(dt.Trans,{id:"LnPXX1"}),t[39]=z):z=t[39],t[40]!==V?(U=(0,bt.jsx)(co.Text,{style:V,children:z}),t[40]=V,t[41]=U):U=t[41],t[42]!==f||t[43]!==p||t[44]!==_||t[45]!==j||t[46]!==b||t[47]!==h.palette?(W=!b&&(0,bt.jsx)(ao.Button,{label:f({id:"Ox04i7"}),onPress:()=>{_.open(),p.metric("suggestedUser:seeMore",{logContext:j?"Explore":"Profile"})},children:e=>{const{hovered:t}=e;return(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,{color:h.palette.primary_500},t&&(0,qs.web)({textDecorationLine:"underline",textDecorationColor:h.palette.primary_500})],children:(0,bt.jsx)(dt.Trans,{id:"V1fa9u"})})}}),t[42]=f,t[43]=p,t[44]=_,t[45]=j,t[46]=b,t[47]=h.palette,t[48]=W):W=t[48],t[49]!==U||t[50]!==W?(G=(0,bt.jsxs)(Fs.default,{style:H,pointerEvents:r.IS_IOS?"auto":"box-none",children:[U,W]}),t[49]=U,t[50]=W,t[51]=G):G=t[51],t[52]!==_?(q=(0,bt.jsx)(ec,{control:_}),t[52]=_,t[53]=q):q=t[53],t[54]!==p||t[55]!==O||t[56]!==_||t[57]!==x||t[58]!==b?(Q=(0,bt.jsx)(yn.LayoutAnimationConfig,{skipExiting:!0,skipEntering:!0,children:x?(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,qs.atoms.pt_md],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_md],children:O})}):(0,bt.jsx)(Wi,{children:(0,bt.jsxs)(Vi.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,contentContainerStyle:[qs.atoms.p_lg,qs.atoms.pt_md,qs.atoms.flex_row,qs.atoms.gap_md],snapToInterval:yc+qs.atoms.gap_md.gap,decelerationRate:"fast",children:[O,!b&&(0,bt.jsx)(Ac,{onPress:()=>{_.open(),p.metric("suggestedUser:seeMore",{logContext:"Explore"})}})]})})}),t[54]=p,t[55]=O,t[56]=_,t[57]=x,t[58]=b,t[59]=Q):Q=t[59],t[60]!==N||t[61]!==G||t[62]!==q||t[63]!==Q?(K=(0,bt.jsxs)(Fs.default,{ref:k,style:N,pointerEvents:r.IS_IOS?"auto":"box-none",children:[G,q,Q]}),t[60]=N,t[61]=G,t[62]=q,t[63]=Q,t[64]=K):K=t[64],K}function Ac(e){const t=(0,n.c)(8),{onPress:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l,c;return t[0]!==o?(a=o({id:"xFpMsp"}),t[0]=o,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_col,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.gap_sm,qs.atoms.p_md,qs.atoms.rounded_lg,{width:bc}],i=(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowRight_Stroke2_Corner0_Rounded,size:"lg"}),t[2]=r,t[3]=i):(r=t[2],i=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md,qs.atoms.font_medium,qs.atoms.leading_snug,qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"V1fa9u"})}),t[4]=l):l=t[4],t[5]!==s||t[6]!==a?(c=(0,bt.jsxs)(ao.Button,{label:a,onPress:s,style:r,children:[i,l]}),t[5]=s,t[6]=a,t[7]=c):c=t[7],c}function Pc(){const e=(0,n.c)(8),t=(0,qs.useTheme)(),{gtMobile:s}=(0,qs.useBreakpoints)();let o,a,r,i;return e[0]!==s?(o=!s&&{marginTop:4},e[0]=s,e[1]=o):o=e[1],e[2]!==t.atoms.border_contrast_low||e[3]!==o?(a=[t.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg,o],e[2]=t.atoms.border_contrast_low,e[3]=o,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(gc,{}),e[5]=r):r=e[5],e[6]!==a?(i=(0,bt.jsx)(Fs.default,{style:a,children:r}),e[6]=a,e[7]=i):i=e[7],i}const Ec=(0,lt.createContext)({gap:0});function Lc(e){const t=(0,n.c)(14),{children:s,gap:o,style:a}=e,r=void 0===o?0:o;let i;t[0]!==r?(i={gap:r},t[0]=r,t[1]=i):i=t[1];const l=i,c=-r/2,d=-r/2;let u,m,h,p;return t[2]!==c||t[3]!==d?(u={marginLeft:c,marginRight:d},t[2]=c,t[3]=d,t[4]=u):u=t[4],t[5]!==a||t[6]!==u?(m=[qs.atoms.flex_row,qs.atoms.flex_1,u,a],t[5]=a,t[6]=u,t[7]=m):m=t[7],t[8]!==s||t[9]!==m?(h=(0,bt.jsx)(Fs.default,{style:m,children:s}),t[8]=s,t[9]=m,t[10]=h):h=t[10],t[11]!==l||t[12]!==h?(p=(0,bt.jsx)(Ec.Provider,{value:l,children:h}),t[11]=l,t[12]=h,t[13]=p):p=t[13],p}function Rc(e){const t=(0,n.c)(10),{children:s,width:o,style:a}=e,r=void 0===o?1:o,{gap:i}=(0,lt.useContext)(Ec),l=i/2,c=i/2,d=100*r+"%";let u,m,h;return t[0]!==l||t[1]!==c||t[2]!==d?(u={paddingLeft:l,paddingRight:c,width:d},t[0]=l,t[1]=c,t[2]=d,t[3]=u):u=t[3],t[4]!==a||t[5]!==u?(m=[qs.atoms.flex_col,u,a],t[4]=a,t[5]=u,t[6]=m):m=t[6],t[7]!==s||t[8]!==m?(h=(0,bt.jsx)(Fs.default,{style:m,children:s}),t[7]=s,t[8]=m,t[9]=h):h=t[9],h}Ec.displayName="GridContext";var Bc=s(66776),Dc=s(89052),Oc=s(34283),Mc=s(90010),Fc=s(58921),Nc=s(3963);const Hc=lt.createContext({});Hc.displayName="HiderContext";const Vc=()=>lt.useContext(Hc);function zc(e){const t=(0,n.c)(22),{modui:s,isContentVisibleInitialState:o,allowOverride:a,children:r}=e,i=(0,Nc.useModerationDetailsDialogControl)(),l=s?.blurs[0],[c,d]=lt.useState(o||!l),u=(0,Fc.useModerationCauseDescription)(l);let m;t[0]!==s?.blurs?(m=s?.blurs.find(Uc),t[0]=s?.blurs,t[1]=m):m=t[1];const h=Boolean(m),p=a??!s?.noOverride;let f;t[2]!==h||t[3]!==p?(f={isNoPwi:h,allowOverride:p},t[2]=h,t[3]=p,t[4]=f):f=t[4];const g=f;let x;t[5]!==i?(x=()=>{i.open()},t[5]=i,t[6]=x):x=t[6];const _=x;let y;t[7]!==g?(y=e=>{g.allowOverride&&d(e)},t[7]=g,t[8]=y):y=t[8];const b=y;let j;t[9]!==u||t[10]!==c||t[11]!==g||t[12]!==b||t[13]!==_?(j={isContentVisible:c,setIsContentVisible:b,showInfoDialog:_,info:u,meta:g},t[9]=u,t[10]=c,t[11]=g,t[12]=b,t[13]=_,t[14]=j):j=t[14];const v=j;let S,w;return t[15]!==l||t[16]!==i?(S=(0,bt.jsx)(Nc.ModerationDetailsDialog,{control:i,modcause:l}),t[15]=l,t[16]=i,t[17]=S):S=t[17],t[18]!==r||t[19]!==v||t[20]!==S?(w=(0,bt.jsxs)(Hc.Provider,{value:v,children:[r,S]}),t[18]=r,t[19]=v,t[20]=S,t[21]=w):w=t[21],w}function Uc(e){return"label"===e.type&&"!no-unauthenticated"===e.labelDef.identifier}function Wc(e){const{children:t}=e;return Vc().isContentVisible?t:null}function Gc(e){const{children:t}=e;return Vc().isContentVisible?null:t}var qc=s(46804);function Qc(e){return(0,Dc.select)(e.name,{light:e.palette.black,dark:e.atoms.bg_contrast_25.backgroundColor,dim:`hsl(${Gl}, 28%, 6%)`})}function Kc(e){const t=(0,n.c)(123),{post:s,sourceContext:o,moderation:a,onInteract:r}=e,i=(0,qs.useTheme)(),{_:l,i18n:c}=(0,dt.useLingui)(),d=s.embed,{state:u,onIn:m,onOut:h}=(0,la.useInteractionState)();let p;t[0]!==a?(p=a.ui("contentList"),t[0]=a,t[1]=p):p=t[1];const f=p;let g;if(t[2]!==a){g=a.ui("contentList");const e=a.ui("contentMedia");g.alerts=[...g.alerts,...e.alerts],g.blurs=[...g.blurs,...e.blurs],g.filters=[...g.filters,...e.filters],g.informs=[...g.informs,...e.informs],t[2]=a,t[3]=g}else g=t[3];const x=g;if(!Dn.AppBskyEmbedVideo.isView(d))return null;const _=s.author,y=qc.dangerousIsType(s.record,Dn.AppBskyFeedPost.isRecord)?s.record?.text:"",b=s?.likeCount??0,j=s?.repostCount??0,{thumbnail:v}=d;let S;t[4]!==i?(S=Qc(i),t[4]=i,t[5]=S):S=t[5];const w=S;let T,k,C,I,A,P,E,L,R,B,D,O;t[6]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.pr_xs,{paddingTop:6,gap:4}],t[6]=T):T=t[6],t[7]!==y?(k=y&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],numberOfLines:2,emoji:!0,children:y}),t[7]=y,t[8]=k):k=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center],t[9]=C):C=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.relative,qs.atoms.rounded_full,{width:20,height:20}],t[10]=I):I=t[10],t[11]!==s.author.avatar?(A=(0,bt.jsx)(Gi.UserAvatar,{type:"user",size:20,avatar:s.author.avatar}),t[11]=s.author.avatar,t[12]=A):A=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[13]=P):P=t[13],t[14]!==A?(E=(0,bt.jsxs)(Fs.default,{style:I,children:[A,P]}),t[14]=A,t[15]=E):E=t[15],t[16]!==i.atoms.text_contrast_medium?(L=[qs.atoms.flex_1,qs.atoms.text_sm,qs.atoms.leading_tight,i.atoms.text_contrast_medium],t[16]=i.atoms.text_contrast_medium,t[17]=L):L=t[17],t[18]!==s.author.handle?(R=(0,Fa.sanitizeHandle)(s.author.handle,"@"),t[18]=s.author.handle,t[19]=R):R=t[19],t[20]!==L||t[21]!==R?(B=(0,bt.jsx)(co.Text,{style:L,numberOfLines:1,children:R}),t[20]=L,t[21]=R,t[22]=B):B=t[22],t[23]!==B||t[24]!==E?(D=(0,bt.jsxs)(Fs.default,{style:C,children:[E,B]}),t[23]=B,t[24]=E,t[25]=D):D=t[25],t[26]!==D||t[27]!==k?(O=(0,bt.jsxs)(Fs.default,{style:T,children:[k,D]}),t[26]=D,t[27]=k,t[28]=O):O=t[28];const M=O;let F,N,H,V,z,U,W;t[29]!==l?(F=l({id:"vDuwWp"}),t[29]=l,t[30]=F):F=t[30],t[31]!==l||t[32]!==_.handle||t[33]!==y?(N=l({id:"26b5D5",values:{0:_.handle,text:y}}),t[31]=l,t[32]=_.handle,t[33]=y,t[34]=N):N=t[34],t[35]!==s.uri||t[36]!==o?(H={screen:"VideoFeed",params:Object.assign({},o,{initialPostUri:s.uri})},t[35]=s.uri,t[36]=o,t[37]=H):H=t[37],t[38]!==r?(V=()=>{r?.()},t[38]=r,t[39]=V):V=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(z=[qs.atoms.flex_col,{alignItems:void 0,justifyContent:void 0}],t[40]=z):z=t[40],t[41]!==w?(U=[qs.atoms.justify_center,qs.atoms.rounded_md,qs.atoms.overflow_hidden,{backgroundColor:w,aspectRatio:.5625}],t[41]=w,t[42]=U):U=t[42],t[43]!==v?(W={uri:v},t[43]=v,t[44]=W):W=t[44];const G=u?.8:1;let q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re;t[45]!==G?(q=[qs.atoms.w_full,qs.atoms.h_full,{opacity:G}],t[45]=G,t[46]=q):q=t[46],t[47]!==W||t[48]!==q?(Q=(0,bt.jsx)(cn.Image,{source:W,style:q,accessibilityIgnoresInvertColors:!0,blurRadius:100}),t[47]=W,t[48]=q,t[49]=Q):Q=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[50]=K):K=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(Z=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],t[51]=Z):Z=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center,{backgroundColor:"black",opacity:.2}]}),t[52]=Y):Y=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?($=[qs.atoms.align_center,qs.atoms.gap_xs],X=(0,bt.jsx)(Oc.EyeSlash_Stroke2_Corner0_Rounded,{size:"lg",fill:"white"}),t[53]=$,t[54]=X):($=t[53],X=t[54]),t[55]===Symbol.for("react.memo_cache_sentinel")?(J=[qs.atoms.text_sm,{color:"white"}],t[55]=J):J=t[55],t[56]!==l?(ee=l({id:"D+zLDD"}),t[56]=l,t[57]=ee):ee=t[57],t[58]!==ee?(te=(0,bt.jsxs)(Fs.default,{style:Z,children:[Y,(0,bt.jsxs)(Fs.default,{style:$,children:[X,(0,bt.jsx)(co.Text,{style:J,children:ee})]})]}),t[58]=ee,t[59]=te):te=t[59],t[60]!==U||t[61]!==Q||t[62]!==te?(se=(0,bt.jsxs)(Fs.default,{style:U,children:[Q,K,te]}),t[60]=U,t[61]=Q,t[62]=te,t[63]=se):se=t[63],t[64]!==f.blur||t[65]!==s.author||t[66]!==M?(oe=f.blur?(0,bt.jsx)(Yc,{author:s.author}):M,t[64]=f.blur,t[65]=s.author,t[66]=M,t[67]=oe):oe=t[67],t[68]!==se||t[69]!==oe?(ne=(0,bt.jsxs)(Gc,{children:[se,oe]}),t[68]=se,t[69]=oe,t[70]=ne):ne=t[70],t[71]!==w?(ae=[qs.atoms.justify_center,qs.atoms.rounded_md,qs.atoms.overflow_hidden,{backgroundColor:w,aspectRatio:.5625}],t[71]=w,t[72]=ae):ae=t[72],t[73]!==v?(re={uri:v},t[73]=v,t[74]=re):re=t[74];const ie=u?.8:1;let le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce;return t[75]!==ie?(le=[qs.atoms.w_full,qs.atoms.h_full,{opacity:ie}],t[75]=ie,t[76]=le):le=t[76],t[77]!==re||t[78]!==le?(ce=(0,bt.jsx)(cn.Image,{source:re,style:le,accessibilityIgnoresInvertColors:!0}),t[77]=re,t[78]=le,t[79]=ce):ce=t[79],t[80]===Symbol.for("react.memo_cache_sentinel")?(de=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[80]=de):de=t[80],t[81]===Symbol.for("react.memo_cache_sentinel")?(ue=[qs.atoms.absolute,qs.atoms.inset_0],t[81]=ue):ue=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(me=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.pt_2xl,{top:"auto"}],t[82]=me):me=t[82],t[83]!==w?(he=[w,"rgba(0, 0, 0, 0)"],t[83]=w,t[84]=he):he=t[84],t[85]===Symbol.for("react.memo_cache_sentinel")?(pe=[.02,1],fe={x:0,y:1},ge={x:0,y:0},t[85]=pe,t[86]=fe,t[87]=ge):(pe=t[85],fe=t[86],ge=t[87]),t[88]===Symbol.for("react.memo_cache_sentinel")?(xe=[qs.atoms.absolute,qs.atoms.inset_0,{opacity:.9}],t[88]=xe):xe=t[88],t[89]!==he?(_e=(0,bt.jsx)(Lo.LinearGradient,{colors:he,locations:pe,start:fe,end:ge,style:xe}),t[89]=he,t[90]=_e):_e=t[90],t[91]===Symbol.for("react.memo_cache_sentinel")?(ye=[qs.atoms.relative,qs.atoms.z_10,qs.atoms.p_md,qs.atoms.flex_row,qs.atoms.gap_md],t[91]=ye):ye=t[91],t[92]!==c||t[93]!==b?(be=b>0&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(ri,{size:"sm",fill:"white"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_semi_bold,{color:"white"}],children:(0,Bc.formatCount)(c,b)})]}),t[92]=c,t[93]=b,t[94]=be):be=t[94],t[95]!==c||t[96]!==j?(je=j>0&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(ci,{size:"sm",fill:"white"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_semi_bold,{color:"white"}],children:(0,Bc.formatCount)(c,j)})]}),t[95]=c,t[96]=j,t[97]=je):je=t[97],t[98]!==be||t[99]!==je?(ve=(0,bt.jsxs)(Fs.default,{style:ye,children:[be,je]}),t[98]=be,t[99]=je,t[100]=ve):ve=t[100],t[101]!==_e||t[102]!==ve?(Se=(0,bt.jsx)(Fs.default,{style:ue,children:(0,bt.jsxs)(Fs.default,{style:me,children:[_e,ve]})}),t[101]=_e,t[102]=ve,t[103]=Se):Se=t[103],t[104]!==ae||t[105]!==ce||t[106]!==Se?(we=(0,bt.jsxs)(Fs.default,{style:ae,children:[ce,de,Se]}),t[104]=ae,t[105]=ce,t[106]=Se,t[107]=we):we=t[107],t[108]!==we||t[109]!==M?(Te=(0,bt.jsxs)(Wc,{children:[we,M]}),t[108]=we,t[109]=M,t[110]=Te):Te=t[110],t[111]!==x||t[112]!==ne||t[113]!==Te?(ke=(0,bt.jsxs)(zc,{modui:x,children:[ne,Te]}),t[111]=x,t[112]=ne,t[113]=Te,t[114]=ke):ke=t[114],t[115]!==m||t[116]!==h||t[117]!==F||t[118]!==N||t[119]!==H||t[120]!==V||t[121]!==ke?(Ce=(0,bt.jsx)(io.Link,{accessibilityHint:F,label:N,to:H,onPress:V,onPressIn:m,onPressOut:h,style:z,children:ke}),t[115]=m,t[116]=h,t[117]=F,t[118]=N,t[119]=H,t[120]=V,t[121]=ke,t[122]=Ce):Ce=t[122],Ce}function Zc(){const e=(0,n.c)(11),t=(0,qs.useTheme)();let s;e[0]!==t?(s=Qc(t),e[0]=t,e[1]=s):s=e[1];const o=s;let a,r,i,l,c,d;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1],e[2]=a):a=e[2],e[3]!==o?(r=[qs.atoms.rounded_md,qs.atoms.overflow_hidden,{backgroundColor:o,aspectRatio:.5625}],e[3]=o,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Mc.MediaInsetBorder,{}),e[5]=i):i=e[5],e[6]!==r?(l=(0,bt.jsx)(Fs.default,{style:r,children:i}),e[6]=r,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Yc,{}),e[8]=c):c=e[8],e[9]!==l?(d=(0,bt.jsxs)(Fs.default,{style:a,children:[l,c]}),e[9]=l,e[10]=d):d=e[10],d}function Yc(e){const t=(0,n.c)(17),{author:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.pr_xs,{paddingTop:8,gap:6}],t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i={height:14},t[2]=i):i=t[2],t[3]!==o.atoms.bg_contrast_50?(l=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.rounded_xs,o.atoms.bg_contrast_50,i]}),t[3]=o.atoms.bg_contrast_50,t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c={height:14,width:"70%"},t[5]=c):c=t[5],t[6]!==o.atoms.bg_contrast_50?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.rounded_xs,o.atoms.bg_contrast_50,c]}),t[6]=o.atoms.bg_contrast_50,t[7]=d):d=t[7],t[8]!==s||t[9]!==o.atoms.bg_contrast_25||t[10]!==o.atoms.bg_contrast_50||t[11]!==o.atoms.text_contrast_medium?(u=s?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.rounded_full,{width:20,height:20}],children:[(0,bt.jsx)(Gi.UserAvatar,{type:"user",size:20,avatar:s.avatar}),(0,bt.jsx)(Mc.MediaInsetBorder,{})]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_sm,qs.atoms.leading_tight,o.atoms.text_contrast_medium],numberOfLines:1,children:(0,Fa.sanitizeHandle)(s.handle,"@")})]}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,o.atoms.bg_contrast_50,{width:20,height:20}]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,o.atoms.bg_contrast_25,{height:12,width:"75%"}]})]}),t[8]=s,t[9]=o.atoms.bg_contrast_25,t[10]=o.atoms.bg_contrast_50,t[11]=o.atoms.text_contrast_medium,t[12]=u):u=t[12],t[13]!==l||t[14]!==d||t[15]!==u?(m=(0,bt.jsx)(Fs.default,{style:a,children:(0,bt.jsxs)(Fs.default,{style:r,children:[l,d,u]})}),t[13]=l,t[14]=d,t[15]=u,t[16]=m):m=t[16],m}function $c(e){const t=(0,n.c)(91),{post:s,sourceContext:o,moderation:a,onInteract:r}=e,i=(0,qs.useTheme)(),{_:l,i18n:c}=(0,dt.useLingui)(),d=s.embed,{state:u,onIn:m,onOut:h}=(0,la.useInteractionState)();let p;if(t[0]!==a){p=a.ui("contentList");const e=a.ui("contentMedia");p.alerts=[...p.alerts,...e.alerts],p.blurs=[...p.blurs,...e.blurs],p.filters=[...p.filters,...e.filters],p.informs=[...p.informs,...e.informs],t[0]=a,t[1]=p}else p=t[1];const f=p;if(!Dn.AppBskyEmbedVideo.isView(d))return null;const g=s?.likeCount??0,{thumbnail:x}=d;let _;t[2]!==i?(_=Qc(i),t[2]=i,t[3]=_):_=t[3];const y=_;let b,j,v,S,w,T,k,C;t[4]!==l?(b=l({id:"puSNTr"}),t[4]=l,t[5]=b):b=t[5],t[6]!==s.uri||t[7]!==o?(j={screen:"VideoFeed",params:Object.assign({},o,{initialPostUri:s.uri})},t[6]=s.uri,t[7]=o,t[8]=j):j=t[8],t[9]!==r?(v=()=>{r?.()},t[9]=r,t[10]=v):v=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S={alignItems:void 0,justifyContent:void 0},t[11]=S):S=t[11],t[12]!==i.atoms.shadow_sm?(w=[qs.atoms.flex_col,i.atoms.shadow_sm,S],t[12]=i.atoms.shadow_sm,t[13]=w):w=t[13],t[14]!==y?(T={backgroundColor:y,aspectRatio:.5625},t[14]=y,t[15]=T):T=t[15],t[16]!==i.atoms.border_contrast_low||t[17]!==T?(k=[qs.atoms.justify_center,qs.atoms.rounded_lg,qs.atoms.overflow_hidden,qs.atoms.border,i.atoms.border_contrast_low,T],t[16]=i.atoms.border_contrast_low,t[17]=T,t[18]=k):k=t[18],t[19]!==x?(C={uri:x},t[19]=x,t[20]=C):C=t[20];const I=u?.8:1;let A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W;t[21]!==I?(A=[qs.atoms.w_full,qs.atoms.h_full,{opacity:I}],t[21]=I,t[22]=A):A=t[22],t[23]!==A||t[24]!==C?(P=(0,bt.jsx)(cn.Image,{source:C,style:A,accessibilityIgnoresInvertColors:!0,blurRadius:100}),t[23]=A,t[24]=C,t[25]=P):P=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[26]=E):E=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],t[27]=L):L=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(R={backgroundColor:"black",opacity:.2},t[28]=R):R=t[28],t[29]!==i.atoms.border_contrast_low?(B=(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.border,i.atoms.border_contrast_low,R]}),t[29]=i.atoms.border_contrast_low,t[30]=B):B=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.align_center,qs.atoms.gap_xs],O=(0,bt.jsx)(Oc.EyeSlash_Stroke2_Corner0_Rounded,{size:"lg",fill:"white"}),t[31]=D,t[32]=O):(D=t[31],O=t[32]),t[33]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.text_sm,{color:"white"}],t[33]=M):M=t[33],t[34]!==l?(F=l({id:"D+zLDD"}),t[34]=l,t[35]=F):F=t[35],t[36]!==F?(N=(0,bt.jsxs)(Fs.default,{style:D,children:[O,(0,bt.jsx)(co.Text,{style:M,children:F})]}),t[36]=F,t[37]=N):N=t[37],t[38]!==B||t[39]!==N?(H=(0,bt.jsxs)(Fs.default,{style:L,children:[B,N]}),t[38]=B,t[39]=N,t[40]=H):H=t[40],t[41]!==P||t[42]!==H||t[43]!==k?(V=(0,bt.jsx)(Gc,{children:(0,bt.jsxs)(Fs.default,{style:k,children:[P,E,H]})}),t[41]=P,t[42]=H,t[43]=k,t[44]=V):V=t[44],t[45]!==y?(z={backgroundColor:y,aspectRatio:.5625},t[45]=y,t[46]=z):z=t[46],t[47]!==i.atoms.border_contrast_low||t[48]!==z?(U=[qs.atoms.justify_center,qs.atoms.rounded_lg,qs.atoms.overflow_hidden,qs.atoms.border,i.atoms.border_contrast_low,z],t[47]=i.atoms.border_contrast_low,t[48]=z,t[49]=U):U=t[49],t[50]!==x?(W={uri:x},t[50]=x,t[51]=W):W=t[51];const G=u?.8:1;let q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae;return t[52]!==G?(q=[qs.atoms.w_full,qs.atoms.h_full,{opacity:G}],t[52]=G,t[53]=q):q=t[53],t[54]!==W||t[55]!==q?(Q=(0,bt.jsx)(cn.Image,{source:W,style:q,accessibilityIgnoresInvertColors:!0}),t[54]=W,t[55]=q,t[56]=Q):Q=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[57]=K):K=t[57],t[58]!==i.atoms.shadow_sm?(Z=[qs.atoms.absolute,qs.atoms.inset_0,i.atoms.shadow_sm],t[58]=i.atoms.shadow_sm,t[59]=Z):Z=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(Y=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.p_sm,{bottom:"auto"}],t[60]=Y):Y=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?($=[qs.atoms.relative,qs.atoms.rounded_full,{width:24,height:24}],t[61]=$):$=t[61],t[62]!==s.author.avatar?(X=(0,bt.jsx)(Gi.UserAvatar,{type:"user",size:24,avatar:s.author.avatar}),t[62]=s.author.avatar,t[63]=X):X=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(J=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[64]=J):J=t[64],t[65]!==X?(ee=(0,bt.jsx)(Fs.default,{style:Y,children:(0,bt.jsxs)(Fs.default,{style:$,children:[X,J]})}),t[65]=X,t[66]=ee):ee=t[66],t[67]!==y||t[68]!==c||t[69]!==g?(te=!1,t[67]=y,t[68]=c,t[69]=g,t[70]=te):te=t[70],t[71]!==Z||t[72]!==ee||t[73]!==te?(se=(0,bt.jsxs)(Fs.default,{style:Z,children:[ee,te]}),t[71]=Z,t[72]=ee,t[73]=te,t[74]=se):se=t[74],t[75]!==U||t[76]!==Q||t[77]!==se?(oe=(0,bt.jsx)(Wc,{children:(0,bt.jsxs)(Fs.default,{style:U,children:[Q,K,se]})}),t[75]=U,t[76]=Q,t[77]=se,t[78]=oe):oe=t[78],t[79]!==f||t[80]!==V||t[81]!==oe?(ne=(0,bt.jsxs)(zc,{modui:f,children:[V,oe]}),t[79]=f,t[80]=V,t[81]=oe,t[82]=ne):ne=t[82],t[83]!==m||t[84]!==h||t[85]!==b||t[86]!==j||t[87]!==v||t[88]!==ne||t[89]!==w?(ae=(0,bt.jsx)(io.Link,{label:b,to:j,onPress:v,onPressIn:m,onPressOut:h,style:w,children:ne}),t[83]=m,t[84]=h,t[85]=b,t[86]=j,t[87]=v,t[88]=ne,t[89]=w,t[90]=ae):ae=t[90],ae}function Xc(){const e=(0,n.c)(15),t=(0,qs.useTheme)();let s;e[0]!==t?(s=Qc(t),e[0]=t,e[1]=s):s=e[1];const o=s;let a,r,i,l,c,d;return e[2]!==t.atoms.shadow_sm?(a=[qs.atoms.flex_1,t.atoms.shadow_sm],e[2]=t.atoms.shadow_sm,e[3]=a):a=e[3],e[4]!==o?(r={backgroundColor:o,aspectRatio:.5625},e[4]=o,e[5]=r):r=e[5],e[6]!==t.atoms.border_contrast_low||e[7]!==r?(i=[qs.atoms.rounded_lg,qs.atoms.overflow_hidden,qs.atoms.border,t.atoms.border_contrast_low,r],e[6]=t.atoms.border_contrast_low,e[7]=r,e[8]=i):i=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(Mc.MediaInsetBorder,{}),e[9]=l):l=e[9],e[10]!==i?(c=(0,bt.jsx)(Fs.default,{style:i,children:l}),e[10]=i,e[11]=c):c=e[11],e[12]!==a||e[13]!==c?(d=(0,bt.jsx)(Fs.default,{style:a,children:c}),e[12]=a,e[13]=c,e[14]=d):d=e[14],d}function Jc(e){const t=(0,n.c)(31),{items:s,sourceContext:o}=e,a=(0,Xo.useAnalytics)();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=["base","base",0,"base"],t[0]=r):r=t[0];const i=(0,qs.useGutters)(r);let l,c,d,u,m,h,p,f,g,x,_;if(t[1]!==a||t[2]!==i||t[3]!==s||t[4]!==o){f=Symbol.for("react.early_return_sentinel");e:{const e=s.filter(td).map(ed);if(e.length!==s.length){f=null;break e}let n;d=Fs.default,t[13]!==i?(p=[i],t[13]=i,t[14]=p):p=t[14],c=Fs.default,t[15]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_row,qs.atoms.gap_sm],t[15]=h):h=t[15],l=Lc,u=qs.atoms.gap_sm.gap,t[16]!==a||t[17]!==o?(n=e=>(0,bt.jsx)(Rc,{width:.5,children:(0,bt.jsx)(Kc,{post:e.post,sourceContext:o,moderation:e.moderation,onInteract:()=>{a.metric("videoCard:click",{context:"feed"})}})},e.post.uri),t[16]=a,t[17]=o,t[18]=n):n=t[18],m=e.map(n)}t[1]=a,t[2]=i,t[3]=s,t[4]=o,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f}else l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12];return f!==Symbol.for("react.early_return_sentinel")?f:(t[19]!==l||t[20]!==u||t[21]!==m?(g=(0,bt.jsx)(l,{gap:u,children:m}),t[19]=l,t[20]=u,t[21]=m,t[22]=g):g=t[22],t[23]!==c||t[24]!==h||t[25]!==g?(x=(0,bt.jsx)(c,{style:h,children:g}),t[23]=c,t[24]=h,t[25]=g,t[26]=x):x=t[26],t[27]!==d||t[28]!==p||t[29]!==x?(_=(0,bt.jsx)(d,{style:p,children:x}),t[27]=d,t[28]=p,t[29]=x,t[30]=_):_=t[30],_)}function ed(e){return{post:e.post,moderation:e.moderation}}function td(e){return Dn.AppBskyEmbedVideo.isView(e.post.embed)}function sd(){const e=(0,n.c)(6);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["base","base",0,"base"],e[0]=t):t=e[0];const s=(0,qs.useGutters)(t);let o,a,r;return e[1]!==s?(o=[s],e[1]=s,e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm],children:[(0,bt.jsx)(Zc,{}),(0,bt.jsx)(Zc,{})]}),e[3]=a):a=e[3],e[4]!==o?(r=(0,bt.jsx)(Fs.default,{style:o,children:a}),e[4]=o,e[5]=r):r=e[5],r}const od=14;function nd(e){const t=new Set;return e.filter((e=>!t.has(e.link)&&(t.add(e.link),!0)))}const ad=["trending-topics"];function rd(){const e=(0,n.c)(7),t=(0,Gt.useAgent)(),{data:s}=(0,xr.usePreferencesQuery)();let o;s?.moderationPrefs?.mutedWords,e[0]!==s?.moderationPrefs?.mutedWords?(o=s?.moderationPrefs?.mutedWords??[],e[0]=s?.moderationPrefs?.mutedWords,e[1]=o):o=e[1];const a=o;let r;if(e[2]!==t||e[3]!==a){let s;e[5]!==a?(s=e=>({topics:nd(e.topics.filter((e=>!(0,Dn.hasMutedWord)({mutedWords:a,text:e.topic+" "+e.displayName+" "+e.description})))),suggested:nd(e.suggested.filter((e=>!(0,Dn.hasMutedWord)({mutedWords:a,text:e.topic+" "+e.displayName+" "+e.description}))))}),e[5]=a,e[6]=s):s=e[6],r={refetchOnWindowFocus:!0,staleTime:yt.STALE.MINUTES.THREE,queryKey:ad,async queryFn(){const{data:e}=await t.api.app.bsky.unspecced.getTrendingTopics({limit:od});return{topics:e.topics??[],suggested:e.suggested??[]}},select:s},e[2]=t,e[3]=a,e[4]=r}else r=e[4];return(0,Zs.useQuery)(r)}const id=(0,ti.createSinglePathSVG)({path:"m18.192 5.004 1.864 5.31a1 1 0 0 0 1.887-.662L20.08 4.34c-.665-1.893-3.378-1.741-3.834.207l-3.381 14.449-2.985-9.605C9.3 7.531 6.684 7.506 6.07 9.355l-1.18 3.56-.969-2.312a1 1 0 0 0-1.844.772l.97 2.315c.715 1.71 3.159 1.613 3.741-.144l1.18-3.56 2.985 9.605c.607 1.952 3.392 1.848 3.857-.138l3.381-14.449Z"}),ld=(0,ti.createSinglePathSVG)({path:"M15 7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V9.414L14.414 15a2 2 0 0 1-2.828 0L9 12.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L7.586 11a2 2 0 0 1 2.828 0L13 13.586 18.586 8H16a1 1 0 0 1-1-1Z"}),cd=["targetScale","children","style","onPressIn","onPressOut"],dd=r.IS_NATIVE||r.IS_WEB_TOUCH_DEVICE?.98:1,ud=yn.default.createAnimatedComponent(ln.default),md={code:"function PressableScaleTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function hd(e){const t=(0,n.c)(23);let s,o,a,r,i,l;if(t[0]!==e){var c=e;({targetScale:l,children:s,style:i,onPressIn:o,onPressOut:a}=c),r=(0,ta.default)(c,cd),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6];const d=void 0===l?dd:l,u=(0,yn.useReducedMotion)(),m=(0,yn.useSharedValue)(1),h=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:m.get()}]});return e.__closure={scale:m},e.__workletHash=0xe4aa5c8749f,e.__initData=md,e}());let p,f;t[7]!==o||t[8]!==m||t[9]!==d?(p=e=>{o&&o(e),(0,yn.cancelAnimation)(m),m.set((()=>(0,yn.withTiming)(d,{duration:100})))},t[7]=o,t[8]=m,t[9]=d,t[10]=p):p=t[10],t[11]!==a||t[12]!==m?(f=e=>{a&&a(e),(0,yn.cancelAnimation)(m),m.set(pd)},t[11]=a,t[12]=m,t[13]=f):f=t[13];const g=!u&&h;let x,_;return t[14]!==i||t[15]!==g?(x=[g,i],t[14]=i,t[15]=g,t[16]=x):x=t[16],t[17]!==s||t[18]!==r||t[19]!==p||t[20]!==f||t[21]!==x?(_=(0,bt.jsx)(ud,Object.assign({accessibilityRole:"button",onPressIn:p,onPressOut:f,style:x},r,{children:s})),t[17]=s,t[18]=r,t[19]=p,t[20]=f,t[21]=x,t[22]=_):_=t[22],_}function pd(){return(0,yn.withTiming)(1,{duration:100})}var fd=s(68783);const gd=["topic","children"];function xd(e){const t=(0,n.c)(25),{topic:s,size:o,style:a,hovered:r}=e,i=bd(s),l="small"===o,c="starter-pack"===i.type&&!l;let d,u,m,h,p,f,g,x,_;return t[0]!==l?(d=l?[{paddingVertical:2,paddingHorizontal:4}]:[qs.atoms.py_xs,qs.atoms.px_sm],t[0]=l,t[1]=d):d=t[1],t[2]!==c?(u=c&&{gap:6},t[2]=c,t[3]=u):u=t[3],t[4]!==a||t[5]!==d||t[6]!==u?(m=[qs.atoms.flex_row,qs.atoms.align_center,d,u,a],t[4]=a,t[5]=d,t[6]=u,t[7]=m):m=t[7],t[8]!==c||t[9]!==i.type?(h=c&&"starter-pack"===i.type&&(0,bt.jsx)(fd.StarterPack,{gradient:"sky",width:20,style:{marginLeft:-3,marginVertical:-1}}),t[8]=c,t[9]=i.type,t[10]=h):h=t[10],t[11]!==l?(p=l?[qs.atoms.text_sm]:[qs.atoms.text_md,{paddingBottom:1}],t[11]=l,t[12]=p):p=t[12],t[13]!==r?(f=r&&{textDecorationLine:"underline"},t[13]=r,t[14]=f):f=t[14],t[15]!==p||t[16]!==f?(g=[qs.atoms.font_semi_bold,qs.atoms.leading_tight,p,f],t[15]=p,t[16]=f,t[17]=g):g=t[17],t[18]!==g||t[19]!==i.displayName?(x=(0,bt.jsx)(co.Text,{style:g,numberOfLines:1,children:i.displayName}),t[18]=g,t[19]=i.displayName,t[20]=x):x=t[20],t[21]!==m||t[22]!==h||t[23]!==x?(_=(0,bt.jsxs)(Fs.default,{style:m,children:[h,x]}),t[21]=m,t[22]=h,t[23]=x,t[24]=_):_=t[24],_}function _d(e){const t=(0,n.c)(7),{size:s,index:o}=e,a=void 0===s?"large":s,r=void 0===o?0:o,i=(0,qs.useTheme)(),l="small"===a;let c,d;return t[0]!==r||t[1]!==l?(c=l?{width:r%2===0?75:90,height:27}:{width:r%2===0?90:110,height:36},t[0]=r,t[1]=l,t[2]=c):c=t[2],t[3]!==i.atoms.bg_contrast_25||t[4]!==i.atoms.border_contrast_medium||t[5]!==c?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,qs.atoms.border,i.atoms.border_contrast_medium,i.atoms.bg_contrast_25,c]}),t[3]=i.atoms.bg_contrast_25,t[4]=i.atoms.border_contrast_medium,t[5]=c,t[6]=d):d=t[6],d}function yd(e){const t=(0,n.c)(10);let s,o,a;if(t[0]!==e){var r=e;({topic:o,children:s}=r),a=(0,ta.default)(r,gd),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];const i=bd(o),l=i.label,c=i.url;let d,u;return t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,qs.native)(hd),t[4]=d):d=t[4],t[5]!==s||t[6]!==a||t[7]!==i.label||t[8]!==i.url?(u=(0,bt.jsx)(io.Link,Object.assign({label:l,to:c,PressableComponent:d},a,{children:s})),t[5]=s,t[6]=a,t[7]=i.label,t[8]=i.url,t[9]=u):u=t[9],u}function bd(e){const{_:t}=(0,dt.useLingui)();return lt.useMemo((()=>{const{topic:s,link:o}=e;return o.startsWith("/search")?{type:"topic",label:t({id:"U7jGCR",values:{displayName:s}}),displayName:s,uri:void 0,url:o}:o.startsWith("/hashtag")?{type:"tag",label:t({id:"zlmzDf",values:{displayName:s}}),displayName:s,uri:void 0,url:o}:o.startsWith("/starter-pack")?{type:"starter-pack",label:t({id:"rf+TQ9",values:{displayName:s}}),displayName:s,uri:void 0,url:o}:{type:"unknown",label:t({id:"CURAna",values:{displayName:s}}),displayName:s,uri:void 0,url:o}}),[t,e])}function jd(){const e=(0,n.c)(3),{enabled:t}=(0,Wt.useTrendingConfig)(),{trendingDisabled:s}=(0,Xr.useTrendingSettings)();let o;return e[0]!==t||e[1]!==s?(o=t&&!s?(0,bt.jsx)(vd,{}):null,e[0]=t,e[1]=s,e[2]=o):o=e[2],o}function vd(){const e=(0,n.c)(15),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[0,"base",0,"base"],e[0]=a):a=e[0];const r=(0,qs.useGutters)(a),i=Zi.usePromptControl(),{setTrendingDisabled:l}=(0,Xr.useTrendingSettingsApi)(),{data:c,error:d,isLoading:u}=rd(),m=!u&&!d&&!c?.topics?.length;let h;e[1]!==o||e[2]!==l?(h=()=>{o.metric("trendingTopics:hide",{context:"interstitial"}),l(!0)},e[1]=o,e[2]=l,e[3]=h):h=e[3];const p=h;let f;return e[4]!==s||e[5]!==o||e[6]!==d||e[7]!==r||e[8]!==u||e[9]!==m||e[10]!==p||e[11]!==t||e[12]!==c||e[13]!==i?(f=d||m?null:(0,bt.jsxs)(Fs.default,{style:[t.atoms.border_contrast_low,qs.atoms.border_t,qs.atoms.border_b],children:[(0,bt.jsx)(Wi,{children:(0,bt.jsx)(Vi.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",children:(0,bt.jsxs)(Fs.default,{style:[r,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_lg],children:[(0,bt.jsx)(Fs.default,{style:{paddingLeft:4,paddingRight:2},children:(0,bt.jsx)(id,{size:"sm"})}),u?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.py_lg,qs.atoms.flex_row,qs.atoms.gap_lg,qs.atoms.align_center],children:[(0,bt.jsx)(mi,{width:80,height:void 0,style:{alignSelf:"stretch"}}),(0,bt.jsx)(mi,{width:50,height:void 0,style:{alignSelf:"stretch"}}),(0,bt.jsx)(mi,{width:120,height:void 0,style:{alignSelf:"stretch"}}),(0,bt.jsx)(mi,{width:30,height:void 0,style:{alignSelf:"stretch"}}),(0,bt.jsx)(mi,{width:180,height:void 0,style:{alignSelf:"stretch"}}),(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.text_sm,qs.atoms.font_semi_bold],children:" "})]}):c?.topics?(0,bt.jsxs)(bt.Fragment,{children:[c.topics.map((e=>(0,bt.jsx)(yd,{topic:e,onPress:()=>{o.metric("trendingTopic:click",{context:"interstitial"})},children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_lg],children:(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.text_sm,qs.atoms.font_semi_bold],children:e.topic})})},e.link))),(0,bt.jsx)(ao.Button,{label:s({id:"rht3N9"}),size:"tiny",variant:"ghost",color:"secondary",shape:"round",onPress:()=>i.open(),children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})})]}):null]})})}),(0,bt.jsx)(Zi.Basic,{control:i,title:s({id:"DRuhGd"}),description:s({id:"wD+g5e"}),confirmButtonCta:s({id:"vLyv1R"}),onConfirm:p})]}),e[4]=s,e[5]=o,e[6]=d,e[7]=r,e[8]=u,e[9]=m,e[10]=p,e[11]=t,e[12]=c,e[13]=i,e[14]=f):f=e[14],f}const Sd=108,wd=`feedgen|${Vt.VIDEO_FEED_URI}`,Td={feedCacheKey:"discover"};function kd(){const e=(0,n.c)(52),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[0,"base"],e[0]=a):a=e[0];const r=(0,qs.useGutters)(a),{data:i,isLoading:l,error:c}=(0,Jr.usePostFeedQuery)(wd,Td),d=(0,On.useQueryClient)();let u,m;e[1]!==d?(u=()=>()=>{const e=d.getQueryCache().find({queryKey:(0,Jr.RQKEY)(wd,Td)});e&&e.getObserversCount()<=1&&e.fetch()},m=[d],e[1]=d,e[2]=u,e[3]=m):(u=e[2],m=e[3]),(0,lt.useEffect)(u,m);const{setTrendingVideoDisabled:h}=(0,Xr.useTrendingSettingsApi)(),p=Zi.usePromptControl();let f;e[4]!==o||e[5]!==h?(f=()=>{h(!0),o.metric("trendingVideos:hide",{context:"interstitial:discover"})},e[4]=o,e[5]=h,e[6]=f):f=e[6];const g=f;if(c)return null;let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;return e[7]!==t.atoms.bg_contrast_25||e[8]!==t.atoms.border_contrast_low?(x=[qs.atoms.pt_sm,qs.atoms.pb_lg,qs.atoms.border_t,qs.atoms.overflow_hidden,t.atoms.border_contrast_low,t.atoms.bg_contrast_25],e[7]=t.atoms.bg_contrast_25,e[8]=t.atoms.border_contrast_low,e[9]=x):x=e[9],e[10]!==r?(_=[r,qs.atoms.pb_sm,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between],e[10]=r,e[11]=_):_=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"L/4AeV"})}),e[12]=y):y=e[12],e[13]!==s?(b=s({id:"KVlcll"}),e[13]=s,e[14]=b):b=e[14],e[15]!==p?(j=()=>p.open(),e[15]=p,e[16]=j):j=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"sm"}),e[17]=v):v=e[17],e[18]!==b||e[19]!==j?(S=(0,bt.jsx)(ao.Button,{label:b,size:"tiny",variant:"solid",color:"secondary",shape:"square",onPress:j,children:v}),e[18]=b,e[19]=j,e[20]=S):S=e[20],e[21]!==S||e[22]!==_?(w=(0,bt.jsxs)(Fs.default,{style:_,children:[y,S]}),e[21]=S,e[22]=_,e[23]=w):w=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.overflow_visible],e[24]=T):T=e[24],e[25]!==r.paddingLeft||e[26]!==r.paddingRight?(k=[qs.atoms.flex_row,qs.atoms.gap_md,{paddingLeft:r.paddingLeft,paddingRight:r.paddingRight}],e[25]=r.paddingLeft,e[26]=r.paddingRight,e[27]=k):k=e[27],e[28]!==i||e[29]!==c||e[30]!==l?(C=l?Array(10).fill(0).map(Cd):c||!i?(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"SOQezB"})}):(0,bt.jsx)(Id,{data:i}),e[28]=i,e[29]=c,e[30]=l,e[31]=C):C=e[31],e[32]!==k||e[33]!==C?(I=(0,bt.jsx)(Wi,{children:(0,bt.jsx)(Vi.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToInterval:Sd+qs.atoms.gap_md.gap,style:T,children:(0,bt.jsx)(Fs.default,{style:k,children:C})})}),e[32]=k,e[33]=C,e[34]=I):I=e[34],e[35]!==s?(A=s({id:"o5WCAf"}),e[35]=s,e[36]=A):A=e[36],e[37]!==s?(P=s({id:"wD+g5e"}),e[37]=s,e[38]=P):P=e[38],e[39]!==s?(E=s({id:"vLyv1R"}),e[39]=s,e[40]=E):E=e[40],e[41]!==g||e[42]!==A||e[43]!==P||e[44]!==E||e[45]!==p?(L=(0,bt.jsx)(Zi.Basic,{control:p,title:A,description:P,confirmButtonCta:E,onConfirm:g}),e[41]=g,e[42]=A,e[43]=P,e[44]=E,e[45]=p,e[46]=L):L=e[46],e[47]!==w||e[48]!==I||e[49]!==L||e[50]!==x?(R=(0,bt.jsxs)(Fs.default,{style:x,children:[w,I,L]}),e[47]=w,e[48]=I,e[49]=L,e[50]=x,e[51]=R):R=e[51],R}function Cd(e,t){return(0,bt.jsx)(Fs.default,{style:[{width:Sd}],children:(0,bt.jsx)(Xc,{})},t)}function Id({data:e}){const t=(0,Xo.useAnalytics)(),s=(0,lt.useMemo)((()=>e.pages.flatMap((e=>e.slices)).map((e=>e.items[0])).filter(Boolean).filter((e=>Dn.AppBskyEmbedVideo.isView(e.post.embed))).slice(0,8)),[e]);return(0,bt.jsxs)(bt.Fragment,{children:[s.map((e=>(0,bt.jsx)(Fs.default,{style:[{width:Sd}],children:(0,bt.jsx)($c,{post:e.post,moderation:e.moderation,sourceContext:{type:"feedgen",uri:Vt.VIDEO_FEED_URI,sourceInterstitial:"discover"},onInteract:()=>{t.metric("videoCard:click",{context:"interstitial:discover"})}})},e.post.uri))),(0,bt.jsx)(Ad,{})]})}function Ad(){const e=(0,n.c)(14),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)();let o;if(e[0]===Symbol.for("react.memo_cache_sentinel")){const t=new Dn.AtUri(Vt.VIDEO_FEED_URI);o=(0,Oa.makeCustomFeedLink)(t.host,t.rkey,void 0,"discover"),e[0]=o}else o=e[0];const a=o;let r,i,l,c,d;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=[{width:2*Sd}],e[1]=r):r=e[1],e[2]!==s?(i=s({id:"4m3nxQ"}),e[2]=s,e[3]=i):i=e[3],e[4]!==t.atoms.bg||e[5]!==t.atoms.border_contrast_low||e[6]!==t.atoms.shadow_sm?(l=[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.flex_1,qs.atoms.rounded_lg,qs.atoms.border,t.atoms.border_contrast_low,t.atoms.bg,t.atoms.shadow_sm],e[4]=t.atoms.bg,e[5]=t.atoms.border_contrast_low,e[6]=t.atoms.shadow_sm,e[7]=l):l=e[7],e[8]!==s?(c=e=>{const{pressed:t}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md,{opacity:t?.6:1}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"4m3nxQ"})}),(0,bt.jsx)(ao.Button,{color:"primary",size:"small",shape:"round",label:s({id:"Jk4Lt2"}),children:(0,bt.jsx)(ao.ButtonIcon,{icon:mn.ChevronRight_Stroke2_Corner0_Rounded})})]})},e[8]=s,e[9]=c):c=e[9],e[10]!==i||e[11]!==l||e[12]!==c?(d=(0,bt.jsx)(Fs.default,{style:r,children:(0,bt.jsx)(io.Link,{to:a,label:i,style:l,children:c})}),e[10]=i,e[11]=l,e[12]=c,e[13]=d):d=e[13],d}var Pd=s(46985);const Ed=[qs.atoms.rounded_lg,qs.atoms.curve_continuous];function Ld(e){const t=(0,n.c)(27),{feed:s,metricContext:o}=e,a=(0,Xo.useAnalytics)(),{_:r}=(0,dt.useLingui)(),{gtPhone:i}=(0,qs.useBreakpoints)(),l=s.layouts.wide,c=l.overlayColor,d=l.textColor;let u;if((0,zt.isBskyCustomFeedUrl)(s.url)){let e;t[0]!==s.url?(e=new URL(s.url),t[0]=s.url,t[1]=e):e=t[1],u=e.pathname}else u="/";const m=u;let h,p,f,g,x,_;return t[2]!==a||t[3]!==s.url||t[4]!==o?(h=()=>{a.metric("liveEvents:feedBanner:seen",{feed:s.url,context:o})},t[2]=a,t[3]=s.url,t[4]=o,t[5]=h):h=t[5],(0,Qn.useCallOnce)(h)(),t[6]!==r||t[7]!==s.title?(p=r({id:"SNKK6v",values:{0:s.title}}),t[6]=r,t[7]=s.title,t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.w_full],t[9]=f):f=t[9],t[10]!==a||t[11]!==s.url||t[12]!==o?(g=()=>{a.metric("liveEvents:feedBanner:click",{feed:s.url,context:o})},t[10]=a,t[11]=s.url,t[12]=o,t[13]=g):g=t[13],t[14]!==s.preview||t[15]!==i||t[16]!==l.blurhash||t[17]!==l.image||t[18]!==l.title||t[19]!==c||t[20]!==d?(x=e=>{const{hovered:t,pressed:o}=e;return(0,bt.jsx)(Fs.default,{style:[Ed,qs.atoms.shadow_md,qs.atoms.w_full],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.align_start,Ed,qs.atoms.overflow_hidden,{aspectRatio:i?4:3.69}],children:[(0,bt.jsx)(cn.Image,{accessibilityIgnoresInvertColors:!0,source:{uri:l.image},placeholder:{blurhash:l.blurhash},style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.w_full,qs.atoms.h_full],contentFit:"cover",placeholderContentFit:"cover"}),(0,bt.jsx)(Lo.LinearGradient,{colors:[c,qs.utils.alpha(c,0)],locations:[0,1],start:{x:0,y:0},end:{x:1,y:0},style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.transition_opacity,{transitionDuration:"200ms",opacity:t||o?.6:0}]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_end],children:[(0,bt.jsx)(Lo.LinearGradient,{colors:[c,qs.utils.alpha(c,0)],locations:[0,1],start:{x:0,y:0},end:{x:1,y:0},style:[qs.atoms.absolute,qs.atoms.inset_0]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.z_10,i?[qs.atoms.pl_xl,qs.atoms.pb_lg]:[qs.atoms.pl_lg,qs.atoms.pb_md],{paddingRight:64}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,i?qs.atoms.text_xs:qs.atoms.text_2xs,{color:d,opacity:.8}],children:s.preview?(0,bt.jsx)(dt.Trans,{id:"rdUucN"}):(0,bt.jsx)(dt.Trans,{id:"NUsTc4"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.font_bold,i?qs.atoms.text_3xl:qs.atoms.text_lg,{color:d}],children:l.title})]})]})]})})},t[14]=s.preview,t[15]=i,t[16]=l.blurhash,t[17]=l.image,t[18]=l.title,t[19]=c,t[20]=d,t[21]=x):x=t[21],t[22]!==p||t[23]!==g||t[24]!==x||t[25]!==m?(_=(0,bt.jsx)(io.Link,{to:m,label:p,style:f,onPress:g,children:x}),t[22]=p,t[23]=g,t[24]=x,t[25]=m,t[26]=_):_=t[26],_}function Rd(){const e=(0,n.c)(3),t=cl(),{rightNavVisible:s}=(0,qs.useLayoutBreakpoints)(),{trendingDisabled:o}=(0,Xr.useTrendingSettings)();if(!t.feeds.length){if(s||o)return null;{let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(jd,{}),e[0]=t):t=e[0],t}}if(s)return null;let a;return e[1]!==t.feeds?(a=t.feeds.map(Bd),e[1]=t.feeds,e[2]=a):a=e[2],a}function Bd(e){return(0,bt.jsx)(Dd,{feed:e},e.id)}function Dd(e){const t=(0,n.c)(19),{feed:s}=e,{_:o}=(0,dt.useLingui)(),a=s.layouts.wide,{mutate:r,variables:i}=Ji({feed:s,metricContext:"discover",onUpdateSuccess(e){const{undoAction:t}=e;Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{}),(0,bt.jsx)(Pd.Text,{children:t?(0,bt.jsx)(dt.Trans,{id:"+nG6rk"}):(0,bt.jsx)(dt.Trans,{id:"0yHy4G"})}),t&&(0,bt.jsx)(Pd.Action,{label:o({id:"9uI/rE"}),onPress:()=>{t&&l(t)},children:(0,bt.jsx)(dt.Trans,{id:"9uI/rE"})})]}),{type:"success"})}}),l=r;if(i)return null;let c,d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.px_lg,qs.atoms.pt_md,qs.atoms.pb_xs],t[0]=c):c=t[0],t[1]!==s?(d=(0,bt.jsx)(Ld,{feed:s,metricContext:"discover"}),t[1]=s,t[2]=d):d=t[2],t[3]!==o?(u=o({id:"auDey+"}),t[3]=o,t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.absolute,qs.atoms.z_10,{top:6,right:6}],t[5]=m):m=t[5],t[6]!==s.id||t[7]!==l?(h=()=>{l({type:"hideFeed",id:s.id})},t[6]=s.id,t[7]=l,t[8]=h):h=t[8],t[9]!==a.overlayColor||t[10]!==a.textColor?(p=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.rounded_full,{backgroundColor:a.overlayColor,opacity:t||s?.8:.6}]}),(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:"xs",fill:a.textColor,style:[qs.atoms.z_20]})]})},t[9]=a.overlayColor,t[10]=a.textColor,t[11]=p):p=t[11],t[12]!==u||t[13]!==h||t[14]!==p?(f=(0,bt.jsx)(ao.Button,{label:u,size:"tiny",shape:"round",style:m,onPress:h,children:p}),t[12]=u,t[13]=h,t[14]=p,t[15]=f):f=t[15],t[16]!==d||t[17]!==f?(g=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsxs)(Fs.default,{children:[d,f]})})}),t[16]=d,t[17]=f,t[18]=g):g=t[18],g}var Od=s(77453),Md=s(90060),Fd=s(76635),Nd=s(62421);function Hd(e,t,s){const o=function(e,t){let s,o=/(^|\s)@([a-z0-9.-]*)/gi;for(;s=o.exec(e);){const e=s[1].length,o=s.index+e;if(t>=o&&t<=o+s[0].length-e)return{value:s[2],index:o}}}(e,t);return o?`${e.slice(0,o.index)}@${s} ${e.slice(o.index+o.value.length+1)}`:e}var Vd=s(94512),zd=s(23826);const Ud="app.bsky.feed.postgate";function Wd(e){return{$type:Ud,createdAt:(new Date).toISOString(),post:e.post,detachedEmbeddingUris:e.detachedEmbeddingUris||[],embeddingRules:e.embeddingRules||[]}}function Gd(e,t){const s=Array.from(new Set([...e.detachedEmbeddingUris||[],...t.detachedEmbeddingUris||[]])),o=[...e.embeddingRules||[],...t.embeddingRules||[]].filter(((e,t,s)=>s.findIndex((t=>t.$type===e.$type))===t));return Wd({post:e.post,detachedEmbeddingUris:s,embeddingRules:o})}function qd({uri:e}){return{$type:"app.bsky.embed.record#view",record:{$type:"app.bsky.embed.record#viewDetached",uri:e,detached:!0}}}function Qd({post:e,quote:t,quoteUri:s,detached:o}){return Dn.AppBskyEmbedRecord.isView(e.embed)?o?qd({uri:s}):function({post:e}){return{$type:"app.bsky.embed.record#view",record:Kd(e)}}({post:t}):Dn.AppBskyEmbedRecordWithMedia.isView(e.embed)?o?Object.assign({},e.embed,{record:qd({uri:s})}):function({post:e,quote:t}){if(!Dn.AppBskyEmbedRecordWithMedia.isView(e.embed))return;return Object.assign({},e.embed||{},{record:{record:Kd(t)}})}({post:e,quote:t}):void 0}function Kd(e){return{$type:"app.bsky.embed.record#viewRecord",uri:e.uri,cid:e.cid,author:e.author,value:e.record,labels:e.labels,replyCount:e.replyCount,repostCount:e.repostCount,likeCount:e.likeCount,quoteCount:e.quoteCount,indexedAt:e.indexedAt,embeds:e.embed?[e.embed]:[]}}const Zd={disableRule:{$type:"app.bsky.feed.postgate#disableRule"}};var Yd=s(15121);function $d(e,t,s,o){const n=new Set;for(const[r,i]of t){if(!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(r))continue;if(o.has(r))continue;if(e){n.add(r);continue}const t=s.get(r);if(!t)continue;const a=t.rt.unicodeText.slice(t.facet.index.byteEnd),l=i.rt.unicodeText.slice(i.facet.index.byteEnd);a!==l?(/^\s/m.test(l)||/^[)]?[.,:;!?)](\s|$)/m.test(a)&&/^[)]?[.,:;!?)]\s/m.test(l))&&n.add(r):n.add(r)}for(const r of o)t.has(r)||o.delete(r);let a;return n.size>0&&(a=Array.from(n)[0],o.add(a)),a}class Xd extends Error{constructor(){super("Aborted"),this.name="AbortError"}}class Jd extends Error{constructor(){super("Videos cannot be larger than 100 MB"),this.name="VideoTooLargeError"}}class eu extends Error{constructor(e){super(e),this.name="ServerError"}}class tu extends Error{constructor(e){super(e),this.name="UploadLimitError"}}async function su(e,t){const{mimeType:s,base64:o}=function(e){const[t,s]=e.slice(5).split(";base64,");if(!t||!s)throw new Error("Invalid data URL");return{mimeType:t,base64:s}}(e.uri),n=function(e,t){const s=atob(e),o=[];for(let n=0;n<s.length;n+=512){const e=s.slice(n,n+512),t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);const a=new Uint8Array(t);o.push(a)}return new Blob(o,{type:t})}(o,s),a=URL.createObjectURL(n);if(n.size>Vt.VIDEO_MAX_SIZE)throw new Jd;return{size:n.size,uri:a,bytes:await n.arrayBuffer(),mimeType:s}}const ou=(e,t)=>{const s=new URL(Vt.VIDEO_SERVICE);if(s.pathname=e,t)for(const o in t)s.searchParams.set(o,t[o]);return s.href};function nu(){return new Dn.AtpAgent({service:Vt.VIDEO_SERVICE})}function au(e){switch(e){case"video/mp4":return"mp4";case"video/webm":return"webm";case"video/mpeg":return"mpeg";case"video/quicktime":return"mov";case"image/gif":return"gif";default:throw new Error(`Unsupported mime type: ${e}`)}}async function ru({agent:e,aud:t,lxm:s,exp:o}){const n=(0,zt.getServiceAuthAudFromUrl)(e.dispatchUrl);if(!n)throw new Error("Agent does not have a PDS URL");const{data:a}=await e.com.atproto.server.getServiceAuth({aud:t??n,lxm:s,exp:o});return a.token}async function iu({video:e,agent:t,did:s,setProgress:o,signal:n,_:a}){if(n.aborted)throw new Xd;await async function(e,t){const s=await ru({agent:e,lxm:"app.bsky.video.getUploadLimits",aud:Vt.VIDEO_SERVICE_DID}),o=nu(),{data:n}=await o.app.bsky.video.getUploadLimits({},{headers:{Authorization:`Bearer ${s}`}}).catch((e=>{throw e instanceof Error?new tu(e.message):e}));if(!n.canUpload)throw n.message?new tu(n.message):new tu(t({id:"FMu5rS"}))}(t,a);const r=ou("/xrpc/app.bsky.video.uploadVideo",{did:s,name:`${(0,Nd.nanoid)(12)}.${au(e.mimeType)}`});let i=e.bytes;if(!i){if(n.aborted)throw new Xd;i=await fetch(e.uri).then((e=>e.arrayBuffer()))}if(n.aborted)throw new Xd;const l=await ru({agent:t,lxm:"com.atproto.repo.uploadBlob",exp:Date.now()/1e3+1800});if(n.aborted)throw new Xd;const c=new XMLHttpRequest,d=await new Promise(((t,s)=>{c.upload.addEventListener("progress",(e=>{const t=e.loaded/e.total;o(t)})),c.onloadend=()=>{if(n.aborted)s(new Xd);else if(4===c.readyState){const e=JSON.parse(c.responseText);t(e)}else s(new eu(a({id:"7pThXn"})))},c.onerror=()=>{s(new eu(a({id:"7pThXn"})))},c.open("POST",r),c.setRequestHeader("Content-Type",e.mimeType),c.setRequestHeader("Authorization",`Bearer ${l}`),c.send(i)}));if(!d.jobId)throw new eu(d.error||a({id:"7pThXn"}));if(n.aborted)throw new Xd;return d}const lu=new AbortController;lu.abort();const cu=Object.freeze({status:"idle",progress:0,abortController:lu,asset:void 0,video:void 0,jobId:void 0,pendingPublish:void 0,altText:"",captions:[]});function du(e,t){return{status:"compressing",progress:0,abortController:t,asset:e,altText:"",captions:[]}}function uu(e,t){if(t.signal.aborted||t.signal!==e.abortController.signal)return e;if("to_error"===t.type)return{status:"error",progress:100,abortController:e.abortController,error:t.error,asset:e.asset??null,video:e.video??null,jobId:e.jobId??null,altText:e.altText,captions:e.captions};if("update_progress"===t.type){if("compressing"===e.status||"uploading"===e.status)return Object.assign({},e,{progress:t.progress})}else{if("update_alt_text"===t.type)return Object.assign({},e,{altText:t.altText});if("update_captions"===t.type)return Object.assign({},e,{captions:t.updater(e.captions)});if("compressing_to_uploading"===t.type)return"compressing"===e.status?{status:"uploading",progress:0,abortController:e.abortController,asset:e.asset,video:t.video,altText:e.altText,captions:e.captions}:e;if("uploading_to_processing"===t.type){if("uploading"===e.status)return{status:"processing",progress:0,abortController:e.abortController,asset:e.asset,video:e.video,jobId:t.jobId,jobStatus:null,altText:e.altText,captions:e.captions}}else if("update_job_status"===t.type){if("processing"===e.status)return Object.assign({},e,{jobStatus:t.jobStatus,progress:void 0!==t.jobStatus.progress?t.jobStatus.progress/100:e.progress})}else if("to_done"===t.type&&"processing"===e.status)return{status:"done",progress:100,abortController:e.abortController,asset:e.asset,video:e.video,pendingPublish:{blobRef:t.blobRef},altText:e.altText,captions:e.captions}}return e}async function mu(e,t,s,o,n,a){let r,i;try{r=await su(e)}catch(d){const e=function(e,t){if(e instanceof Xd)return null;if(e instanceof Jd)return t({id:"TQVwx6"});return Mt.logger.error("Error compressing video",{safeMessage:e}),t({id:"GEF5nN"})}(d,a);return void(null!==e&&t({type:"to_error",error:e,signal:n}))}t({type:"compressing_to_uploading",video:r,signal:n});try{i=await iu({video:r,agent:s,did:o,signal:n,_:a,setProgress:e=>{t({type:"update_progress",progress:e,signal:n})}})}catch(d){const e=function(e,t){if(e instanceof Xd)return null;if(Mt.logger.error("Error uploading video",{safeMessage:e}),e instanceof eu||e instanceof tu)switch(e.message){case"User is not allowed to upload videos":return t({id:"cY2cFE"});case"Uploading is disabled at the moment":return t({id:"YGHpik"});case"Failed to get user's upload stats":return t({id:"Do+/5x"});case"User has exceeded daily upload bytes limit":return t({id:"h8qUzj"});case"User has exceeded daily upload videos limit":return t({id:"YQ65sD"});case"Account is not old enough to upload videos":return t({id:"K9PUYb"});case"file size (100000001 bytes) is larger than the maximum allowed size (100000000 bytes)":return t({id:"TQVwx6"});default:return e.message}return t({id:"SW3kNa"})}(d,a);return void(null!==e&&t({type:"to_error",error:e,signal:n}))}const l=i.jobId;t({type:"uploading_to_processing",jobId:l,signal:n});let c=0;for(;;){if(n.aborted)return;const e=nu();let s,o;try{if(s=(await e.app.bsky.video.getJobStatus({jobId:l})).data.jobStatus,c=0,"JOB_STATE_COMPLETED"===s.state){if(o=s.blob,!o)throw new Error("Job completed, but did not return a blob")}else if("JOB_STATE_FAILED"===s.state)throw new Error(s.error??"Job failed to process")}catch(d){if(!s&&(c++,c<50)){await new Promise((e=>setTimeout(e,5e3)));continue}return Mt.logger.error("Error processing video",{safeMessage:d}),void t({type:"to_error",error:a({id:"tIqkWN"}),signal:n})}if(t(o?{type:"to_done",blobRef:o,signal:n}:{type:"update_job_status",jobStatus:s,signal:n}),"JOB_STATE_COMPLETED"===s.state||"JOB_STATE_FAILED"===s.state)return;await new Promise((e=>setTimeout(e,1500)))}}const hu=4;function pu(e,t){switch(t.type){case"update_postgate":return Object.assign({},e,{isDirty:!0,thread:Object.assign({},e.thread,{postgate:t.postgate})});case"update_threadgate":return Object.assign({},e,{isDirty:!0,thread:Object.assign({},e.thread,{threadgate:t.threadgate})});case"update_post":{let s=e.thread.posts;const o=e.thread.posts.findIndex((e=>e.id===t.postId));return-1!==o&&(s=e.thread.posts.slice(),s[o]=function(e,t){switch(t.type){case"update_richtext":return Object.assign({},e,{richtext:t.richtext,shortenedGraphemeLength:gu(t.richtext)});case"update_labels":return Object.assign({},e,{labels:t.labels});case"embed_add_images":{if(0===t.images.length)return e;const s=e.embed.media;let o=s;return s?"images"===s.type&&(o=Object.assign({},s,{images:[...s.images,...t.images].slice(0,hu)})):o={type:"images",images:t.images.slice(0,hu)},Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}case"embed_update_image":{const s=e.embed.media;if("images"===s?.type){const o=t.image,n=Object.assign({},s,{images:s.images.map((e=>e.source.id===o.source.id?o:e))});return Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}return e}case"embed_remove_image":{const s=e.embed.media;let o=e.labels;if("images"===s?.type){const n=t.image;let a=Object.assign({},s,{images:s.images.filter((e=>e.source.id!==n.source.id))});return 0===a.images.length&&(a=void 0,e.embed.link||(o=[])),Object.assign({},e,{labels:o,embed:Object.assign({},e.embed,{media:a})})}return e}case"embed_add_video":{const s=e.embed.media;let o=s;return s||(o={type:"video",video:du(t.asset,t.abortController)}),Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}case"embed_update_video":{const s=t.videoAction,o=e.embed.media;let n=o;return"video"===o?.type&&(n=Object.assign({},o,{video:uu(o.video,s)})),Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}case"embed_remove_video":{const t=e.embed.media;let s=t;"video"===t?.type&&(t.video.abortController.abort(),s=void 0);let o=e.labels;return e.embed.link||(o=[]),Object.assign({},e,{labels:o,embed:Object.assign({},e.embed,{media:s})})}case"embed_add_uri":{const s=e.embed.quote,o=e.embed.link;let n=s,a=o;return(0,zt.isBskyPostUrl)(t.uri)?s||(n={type:"link",uri:t.uri}):o||(a={type:"link",uri:t.uri}),Object.assign({},e,{embed:Object.assign({},e.embed,{quote:n,link:a})})}case"embed_remove_link":{let t=e.labels;return e.embed.media||(t=[]),Object.assign({},e,{labels:t,embed:Object.assign({},e.embed,{link:void 0})})}case"embed_remove_quote":return Object.assign({},e,{embed:Object.assign({},e.embed,{quote:void 0})});case"embed_add_gif":{const s=e.embed.media;let o=s;return s||(o={type:"gif",gif:t.gif,alt:""}),Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}case"embed_update_gif":{const s=e.embed.media;let o=s;return"gif"===s?.type&&(o=Object.assign({},s,{alt:t.alt})),Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}case"embed_remove_gif":{const t=e.embed.media;let s=t;return"gif"===t?.type&&(s=void 0),Object.assign({},e,{embed:Object.assign({},e.embed,{media:s})})}}}(e.thread.posts[o],t.postAction)),Object.assign({},e,{isDirty:!0,thread:Object.assign({},e.thread,{posts:s})})}case"add_post":{const t=e.activePostIndex,s=[...e.thread.posts];return s.splice(t+1,0,{id:(0,Nd.nanoid)(),richtext:new Dn.RichText({text:""}),shortenedGraphemeLength:0,labels:[],embed:{quote:void 0,media:void 0,link:void 0}}),Object.assign({},e,{isDirty:!0,thread:Object.assign({},e.thread,{posts:s})})}case"remove_post":{if(e.thread.posts.length<2)return e;let s=e.activePostIndex;const o=e.thread.posts.findIndex((e=>e.id===t.postId));let n=[...e.thread.posts];if(-1!==o){const t=e.thread.posts[o];"video"===t.embed.media?.type&&t.embed.media.video.abortController.abort(),n.splice(o,1),s=Math.max(0,o-1)}return Object.assign({},e,{isDirty:!0,activePostIndex:s,mutableNeedsFocusActive:!0,thread:Object.assign({},e.thread,{posts:n})})}case"focus_post":{const s=e.thread.posts.findIndex((e=>e.id===t.postId));return-1===s?e:Object.assign({},e,{activePostIndex:s})}case"restore_from_draft":{const{draftId:e,posts:s,threadgateAllow:o,postgateEmbeddingRules:n,loadedMedia:a,originalLocalRefs:r}=t;return{activePostIndex:0,mutableNeedsFocusActive:!0,draftId:e,isDirty:!1,loadedMediaMap:a,originalLocalRefs:r,thread:{posts:s,postgate:Wd({post:"",embeddingRules:n}),threadgate:(0,Yd.threadgateRecordToAllowUISetting)({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toString(),allow:o})}}}case"clear":return fu({initText:void 0,initMention:void 0,initImageUris:[],initQuoteUri:void 0,initInteractionSettings:t.initInteractionSettings});case"mark_saved":return Object.assign({},e,{isDirty:!1,draftId:t.draftId})}}function fu({initText:e,initMention:t,initImageUris:s,initQuoteUri:o,initInteractionSettings:n}){let a,r;if(s?.length&&(a={type:"images",images:(0,zd.createInitialImages)(s)}),o){const e=(0,zt.postUriToRelativePath)(o);e&&(r={type:"link",uri:(0,zt.toBskyAppUrl)(e)})}const i=new Dn.RichText({text:e||(t?Hd(`@${t}`,t.length+1,`${t}`):"")});let l;if(e){i.detectFacetsWithoutResolution();const e=new Map,t=new Map;if(i.facets)for(const a of i.facets)for(const s of a.features)Dn.AppBskyRichtextFacet.isLink(s)&&((0,zt.isBskyPostUrl)(s.uri)?t.set(s.uri,{facet:a,rt:i}):e.set(s.uri,{facet:a,rt:i}));const s=new Set,o=$d(!0,e,new Map,s);o&&(l={type:"link",uri:o});const n=$d(!0,t,new Map,s);n&&(r||(r={type:"link",uri:n}))}else t&&i.detectFacetsWithoutResolution();return{activePostIndex:0,mutableNeedsFocusActive:!1,isDirty:!1,thread:{posts:[{id:(0,Nd.nanoid)(),richtext:i,shortenedGraphemeLength:gu(i),labels:[],embed:{quote:r,media:a,link:l}}],postgate:Wd({post:"",embeddingRules:n?.postgateEmbeddingRules||[]}),threadgate:(0,Yd.threadgateRecordToAllowUISetting)({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toString(),allow:n?.threadgateAllowRules})}}}function gu(e){return(0,Vd.shortenLinks)(e).graphemeLength}var xu=s(87990),_u=s(23173);const yu=(0,ti.createSinglePathSVG)({viewBox:"0 0 46 46",strokeLinecap:"round",strokeWidth:1.5,path:"m1.417 28.645 7.586-5.676a5.33 5.33 0 0 1 6.867.809c3.98 4.286 8.594 8.182 14.88 8.182 5.794 0 9.633-2.147 13.333-5.847m-38 18.637h33.334a5.333 5.333 0 0 0 5.333-5.333V6.083A5.333 5.333 0 0 0 39.417.75H6.083A5.333 5.333 0 0 0 .75 6.083v33.334a5.333 5.333 0 0 0 5.333 5.333ZM36.75 14.083a5.333 5.333 0 1 1-10.667 0 5.333 5.333 0 0 1 10.667 0Z"}),bu=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm2 1v7.213l1.246-.932.044-.03a3 3 0 0 1 3.863.454c1.468 1.58 2.941 2.749 4.847 2.749 1.703 0 2.855-.555 4-1.618V5H5Zm14 10.357c-1.112.697-2.386 1.097-4 1.097-2.81 0-4.796-1.755-6.313-3.388a1 1 0 0 0-1.269-.164L5 14.712V19h14v-3.643ZM15 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-3 1a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"});function ju(e){const t=(0,n.c)(6),{style:s,hover:o,web:a,native:i}=e,l=void 0===a||a,c=void 0!==i&&i,d=(0,qs.useTheme)();let u;e:switch(d.name){case"dark":u=.4;break e;case"dim":u=.45;break e;case"light":u=.5}const m=o?u:0;let h,p;t[0]!==m?(h={opacity:m},t[0]=m,t[1]=h):h=t[1],t[2]!==s||t[3]!==d.atoms.bg_contrast_50||t[4]!==h?(p=(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.pointer_events_none,qs.atoms.transition_opacity,d.atoms.bg_contrast_50,s,h]}),t[2]=s,t[3]=d.atoms.bg_contrast_50,t[4]=h,t[5]=p):p=t[5];const f=p;return r.IS_WEB&&l?r.IS_WEB_TOUCH_DEVICE?null:f:r.IS_NATIVE&&c?f:null}function vu(){const e=(0,qs.useTheme)(),t=(0,Xo.useAnalytics)(),{_:s}=(0,dt.useLingui)(),{openComposer:o}=Wo(),n=(0,Fd.useCurrentAccountProfile)(),[a,i]=(0,lt.useState)(!1),{requestCameraAccessIfNeeded:l}=(0,Od.useCameraPermission)(),{requestPhotoAccessIfNeeded:c}=(0,Od.usePhotoLibraryPermission)(),{requestVideoAccessIfNeeded:d}=(0,Od.useVideoLibraryPermission)(),u=(0,xu.useSheetWrapper)(),m=(0,lt.useCallback)((()=>{t.metric("composerPrompt:press",{}),o({logContext:"Fab"})}),[t,o]),h=(0,lt.useCallback)((async()=>{if(t.metric("composerPrompt:gallery:press",{}),r.IS_NATIVE)try{const[e,t]=await Promise.all([c(),d()]);if(!e&&!t)return;Ws.default.isVisible()&&Ws.default.dismiss();const s=hu,{assets:n,canceled:a}=await u((0,Md.openUnifiedPicker)({selectionCountRemaining:s}));if(a)return;if(n.length>0){const e=n.filter((e=>e.mimeType?.startsWith("image/"))).slice(0,hu).map((e=>({uri:e.uri,width:e.width,height:e.height})));e.length>0&&o({imageUris:e,logContext:"Fab"})}}catch(e){String(e).toLowerCase().includes("cancel")||t.logger.error("Error opening image picker",{error:e})}else o({openGallery:!0,logContext:"Fab"})}),[t,o,c,d,u]),p=(0,lt.useCallback)((async()=>{t.metric("composerPrompt:camera:press",{});try{if(!await l())return;r.IS_NATIVE&&Ws.default.isVisible()&&Ws.default.dismiss();const e=await(0,Md.openCamera)({mediaTypes:"images"}),t=[{uri:e.path,width:e.width,height:e.height}];o({imageUris:r.IS_NATIVE?t:void 0,logContext:"Fab"})}catch(e){String(e).toLowerCase().includes("cancel")||t.logger.error("Error opening camera",{error:e})}}),[t,o,l]);return n?(0,bt.jsxs)(ln.default,{onPress:m,android_ripple:null,accessibilityRole:"button",accessibilityLabel:s({id:"AIa/f7"}),accessibilityHint:s({id:"ybdkEK"}),onPointerEnter:()=>i(!0),onPointerLeave:()=>i(!1),style:({pressed:e})=>[qs.atoms.relative,qs.atoms.flex_row,qs.atoms.align_start,{paddingLeft:18,paddingRight:15},qs.atoms.py_md,(0,qs.native)({paddingTop:10,paddingBottom:10}),(0,qs.web)({cursor:"pointer",outline:"none"}),e&&(0,qs.web)({outline:"none"})],children:[(0,bt.jsx)(ju,{hover:a}),(0,bt.jsx)(Gi.UserAvatar,{avatar:n.avatar,size:42,type:n.associated?.labeler?"labeler":"user"}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.ml_md,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,{height:40}],children:[(0,bt.jsx)(co.Text,{style:[e.atoms.text_contrast_medium,qs.atoms.text_md,{includeFontPadding:!1}],children:(0,bt.jsx)(dt.Trans,{id:"tmQ7o0"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md],children:[r.IS_NATIVE&&(0,bt.jsx)(ao.Button,{onPress:e=>{e.stopPropagation(),p()},label:s({id:"K9sUMv"}),accessibilityHint:s({id:"1dluSl"}),variant:"ghost",shape:"round",children:({hovered:t,pressed:s,focused:o})=>(0,bt.jsx)(_u.Camera_Stroke2_Corner0_Rounded,{size:"lg",style:{color:t||s||o?e.palette.primary_500:e.palette.contrast_300}})}),(0,bt.jsx)(ao.Button,{onPress:e=>{e.stopPropagation(),h()},label:s({id:"P5MuiB"}),accessibilityHint:s({id:"73xhdw"}),variant:"ghost",shape:"round",children:({hovered:t,pressed:s,focused:o})=>(0,bt.jsx)(bu,{size:"lg",style:{color:t||s||o?e.palette.primary_500:e.palette.contrast_300}})})]})]})]}):null}var Su=s(99866);function wu(e){const t=(0,n.c)(7),{style:s,size:o,strokeWidth:a,color:r}=e,i=void 0===a?2:a,l=void 0===r?"currentColor":r,c=o||24,d=o||24;let u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(Su.Path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),t[0]=u):u=t[0],t[1]!==l||t[2]!==i||t[3]!==s||t[4]!==c||t[5]!==d?(m=(0,bt.jsx)(Su.default,{fill:"none",viewBox:"0 0 24 24",strokeWidth:i,stroke:l,width:c,height:d,style:s,children:u}),t[1]=l,t[2]=i,t[3]=s,t[4]=c,t[5]=d,t[6]=m):m=t[6],m}function Tu(e){const t=(0,n.c)(13),{style:s,size:o,strokeWidth:a}=e,r=void 0===a?1.5:a,i=o||24,l=o||24;let c;t[0]!==r?(c=(0,bt.jsx)(Su.Path,{d:"M 20 9 L 20 16 C 20 18.209 18.209 20 16 20 L 8 20 C 5.791 20 4 18.209 4 16 L 4 8 C 4 5.791 5.791 4 8 4 L 15 4",strokeWidth:r}),t[0]=r,t[1]=c):c=t[1];const d=1.5*r;let u;t[2]!==d?(u=(0,bt.jsx)(Su.Line,{strokeLinecap:"round",x1:"10",y1:"14",x2:"18.5",y2:"5.5",strokeWidth:d}),t[2]=d,t[3]=u):u=t[3];const m=1.5*r;let h,p;return t[4]!==m?(h=(0,bt.jsx)(Su.Line,{strokeLinecap:"round",x1:"20.5",y1:"3.5",x2:"21",y2:"3",strokeWidth:m}),t[4]=m,t[5]=h):h=t[5],t[6]!==s||t[7]!==i||t[8]!==l||t[9]!==c||t[10]!==u||t[11]!==h?(p=(0,bt.jsxs)(Su.default,{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",width:i,height:l,style:s,children:[c,u,h]}),t[6]=s,t[7]=i,t[8]=l,t[9]=c,t[10]=u,t[11]=h,t[12]=p):p=t[12],p}function ku(e){const t=(0,n.c)(5),{style:s,size:o,strokeWidth:a}=e,r=void 0===a?1.5:a;let i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Su.Path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),t[0]=i):i=t[0],t[1]!==o||t[2]!==r||t[3]!==s?(l=(0,bt.jsx)(Su.default,{fill:"none",viewBox:"0 0 24 24",strokeWidth:r,stroke:"currentColor",width:o,height:o,style:s,children:i}),t[1]=o,t[2]=r,t[3]=s,t[4]=l):l=t[4],l}function Cu(){const e=(0,n.c)(17),t=(0,bn.usePalette)("default");let s,o,a,r,i,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={flexDirection:"row",alignItems:"center",paddingVertical:12,paddingHorizontal:12,borderTopWidth:1},e[0]=s):s=e[0],e[1]!==t.border||e[2]!==t.viewLight?(o=[s,t.border,t.viewLight],e[1]=t.border,e[2]=t.viewLight,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a={width:68,paddingLeft:12},e[4]=a):a=e[4],e[5]!==t.textLight?(r=(0,bt.jsx)(Fs.default,{style:a,children:(0,bt.jsx)(ku,{size:36,style:t.textLight,strokeWidth:1.5})}),e[5]=t.textLight,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(i={flex:1},e[7]=i):i=e[7],e[8]!==t.link?(l=(0,bt.jsx)(dt.Trans,{id:"Cq0UNG",components:{0:(0,bt.jsx)(ga,{type:"md-medium",href:"/profile/bsky.app/feed/whats-hot",text:"Discover",style:t.link})}}),e[8]=t.link,e[9]=l):l=e[9],e[10]!==t.text||e[11]!==l?(c=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsx)(ua.Text,{type:"md",style:t.text,children:l})}),e[10]=t.text,e[11]=l,e[12]=c):c=e[12],e[13]!==o||e[14]!==r||e[15]!==c?(d=(0,bt.jsxs)(Fs.default,{style:o,children:[r,c]}),e[13]=o,e[14]=r,e[15]=c,e[16]=d):d=e[16],d}function Iu(e){const t=(0,n.c)(45),{feedUri:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),r=Rs(),{data:i}=(0,xr.usePreferencesQuery)(),{mutateAsync:l,isPending:c}=(0,xr.useRemoveFeedMutation)(),{mutateAsync:d,isPending:u}=(0,xr.useReplaceForYouWithDiscoverFeedMutation)();let m;t[0]!==s||t[1]!==i?.savedFeeds?(m=i?.savedFeeds?.find((e=>e.value===s&&e.pinned)),t[0]=s,t[1]=i?.savedFeeds,t[2]=m):m=t[2];const h=m;let p;t[3]!==i?.savedFeeds?(p=i?.savedFeeds?.find(Au),t[3]=i?.savedFeeds,t[4]=p):p=t[4];const f=p,g=Boolean(h),x=Boolean(f?.pinned);let _;t[5]!==a||t[6]!==h||t[7]!==x||t[8]!==l||t[9]!==r?(_=async()=>{try{h&&(await l(h),Ds.show(a({id:"lLrUFY"}))),x&&r(`feedgen|${(0,Vt.PROD_DEFAULT_FEED)("whats-hot")}`)}catch(b){const t=b;Ds.show(a({id:"BUQ9V9"}),"exclamation-circle"),Mt.logger.error("Failed to update feeds",{message:t})}},t[5]=a,t[6]=h,t[7]=x,t[8]=l,t[9]=r,t[10]=_):_=t[10];const y=_;let b;t[11]!==a||t[12]!==f||t[13]!==h||t[14]!==d||t[15]!==r?(b=async()=>{try{await d({forYouFeedConfig:h,discoverFeedConfig:f}),r(`feedgen|${(0,Vt.PROD_DEFAULT_FEED)("whats-hot")}`),Ds.show(a({id:"/X+NF+"}))}catch(S){const t=S;Ds.show(a({id:"BUQ9V9"}),"exclamation-circle"),Mt.logger.error("Failed to update feeds",{message:t})}},t[11]=a,t[12]=f,t[13]=h,t[14]=d,t[15]=r,t[16]=b):b=t[16];const j=b,v=u||c;let S,w,T,k,C,I,A,P,E;return t[17]!==o.atoms.border_contrast_low?(S=[qs.atoms.py_3xl,qs.atoms.px_2xl,qs.atoms.gap_xl,o.atoms.border_contrast_low,qs.atoms.border_t],t[17]=o.atoms.border_contrast_low,t[18]=S):S=t[18],t[19]!==o.atoms.text?(w=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_5xl,qs.atoms.font_semi_bold,o.atoms.text,qs.atoms.text_center],children:":("}),t[19]=o.atoms.text,t[20]=w):w=t[20],t[21]!==o.atoms.text?(T=[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text,qs.atoms.text_center],t[21]=o.atoms.text,t[22]=T):T=t[22],t[23]!==a?(k=a({id:"bgd/oh"}),t[23]=a,t[24]=k):k=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.text_md],t[25]=C):C=t[25],t[26]!==k?(I=(0,bt.jsx)(dt.Trans,{id:"DCBANM",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:k,to:"/profile/bsky.app/feed/whats-hot",style:C})}}),t[26]=k,t[27]=I):I=t[27],t[28]!==I||t[29]!==T?(A=(0,bt.jsx)(co.Text,{style:T,children:I}),t[28]=I,t[29]=T,t[30]=A):A=t[30],t[31]!==a||t[32]!==x||t[33]!==g||t[34]!==v||t[35]!==c||t[36]!==u||t[37]!==y||t[38]!==j?(P=g?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.gap_sm],children:[(0,bt.jsxs)(ao.Button,{variant:"outline",color:"primary",size:"small",label:a({id:"W44VX5"}),disabled:v,onPress:y,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"W44VX5"})}),c&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),!x&&(0,bt.jsxs)(ao.Button,{variant:"solid",color:"primary",size:"small",label:a({id:"1rnHcc"}),disabled:v,onPress:j,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"1rnHcc"})}),u&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})]}):void 0,t[31]=a,t[32]=x,t[33]=g,t[34]=v,t[35]=c,t[36]=u,t[37]=y,t[38]=j,t[39]=P):P=t[39],t[40]!==A||t[41]!==P||t[42]!==S||t[43]!==w?(E=(0,bt.jsxs)(Fs.default,{style:S,children:[w,A,P]}),t[40]=A,t[41]=P,t[42]=S,t[43]=w,t[44]=E):E=t[44],E}function Au(e){return e.value===(0,Vt.PROD_DEFAULT_FEED)("whats-hot")}var Pu=s(73963),Eu=s(66986);const Lu=Mt.Logger.create(Mt.Logger.Context.PostSource),Ru=new Map,Bu=new Map;function Du(e,t,s=!1){0}var Ou=s(40228),Mu=s(84008),Fu=s(93621),Nu=s(57325),Hu=s(35851),Vu=s(15186);function zu(e){const t=(0,n.c)(9),{timestamp:s,children:o,timeToString:a}=e,{i18n:r}=(0,dt.useLingui)(),i=(0,Vu.useGetTimeAgo)(),l=(0,hs.useTickEveryMinute)();let c;t[0]!==i||t[1]!==r||t[2]!==l||t[3]!==a||t[4]!==s?(c=()=>a?a(r,s):i(s,l),t[0]=i,t[1]=r,t[2]=l,t[3]=a,t[4]=s,t[5]=c):c=t[5];const[d,u]=lt.useState(c),[m,h]=lt.useState(l);let p;return m!==l&&(h(l),u(a?a(r,s):i(s,l))),t[6]!==o||t[7]!==d?(p=o({timeElapsed:d}),t[6]=o,t[7]=d,t[8]=p):p=t[8],p}let Uu=e=>{const t=(0,n.c)(74),s=(0,qs.useTheme)(),{i18n:o,_:a}=(0,dt.useLingui)(),i=(0,Va.useProfileShadow)(e.author),l=i.displayName||i.handle,c=i.handle;let d;t[0]!==i?(d=(0,Oa.makeProfileLink)(i),t[0]=i,t[1]=d):d=t[1];const u=d,m=(0,On.useQueryClient)(),h=e.onOpenAuthor;let p;t[2]!==i||t[3]!==h||t[4]!==m?(p=()=>{(0,Ut.precacheProfile)(m,i),h?.()},t[2]=i,t[3]=h,t[4]=m,t[5]=p):p=t[5];const f=p;let g;t[6]!==i||t[7]!==m?(g=()=>{(0,Ut.precacheProfile)(m,i)},t[6]=i,t[7]=m,t[8]=g):g=t[8];const x=g;let _;t[9]!==o||t[10]!==e.timestamp?(_=(0,Na.niceDate)(o,e.timestamp),t[9]=o,t[10]=e.timestamp,t[11]=_):_=t[11];const y=_;let b;t[12]!==i?(b={profile:i},t[12]=i,t[13]=b):b=t[13];const j=(0,Nu.useSimpleVerificationState)(b),{isActive:v}=(0,Ra.useActorStatus)(i);let S,w,T;t[14]!==e.style?(S=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.pb_xs,qs.atoms.gap_xs,qs.atoms.z_20,e.style],t[14]=e.style,t[15]=S):S=t[15],t[16]!==i||t[17]!==v||t[18]!==e.avatarSize||t[19]!==e.moderation||t[20]!==e.showAvatar?(w=e.showAvatar&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.self_center,qs.atoms.mr_2xs],children:(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:e.avatarSize||16,profile:i,moderation:e.moderation?.ui("avatar"),type:i.associated?.labeler?"labeler":"user",live:v,hideLiveBadge:!0})}),t[16]=i,t[17]=v,t[18]=e.avatarSize,t[19]=e.moderation,t[20]=e.showAvatar,t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.flex_row,qs.atoms.align_end,qs.atoms.flex_shrink],t[22]=T):T=t[22];const k=i.did;let C,I,A,P,E,L,R,B,D,O;t[23]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.flex_row,qs.atoms.align_end,qs.atoms.flex_shrink],t[23]=C):C=t[23],t[24]!==a?(I=a({id:"73lp8c"}),t[24]=a,t[25]=I):I=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(A={maxWidth:"70%"},t[26]=A):A=t[26],t[27]!==s.atoms.text?(P=[qs.atoms.text_md,qs.atoms.font_semi_bold,s.atoms.text,qs.atoms.leading_tight,qs.atoms.flex_shrink_0,A],t[27]=s.atoms.text,t[28]=P):P=t[28],t[29]!==l||t[30]!==e.moderation?(E=(0,Ou.forceLTR)((0,Ma.sanitizeDisplayName)(l,e.moderation?.ui("displayName"))),t[29]=l,t[30]=e.moderation,t[31]=E):E=t[31],t[32]!==f||t[33]!==u||t[34]!==I||t[35]!==P||t[36]!==E?(L=(0,bt.jsx)(io.WebOnlyInlineLinkText,{emoji:!0,numberOfLines:1,to:u,label:I,disableMismatchWarning:!0,onPress:f,style:P,children:E}),t[32]=f,t[33]=u,t[34]=I,t[35]=P,t[36]=E,t[37]=L):L=t[37],t[38]!==j.role||t[39]!==j.showBadge?(R=j.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_2xs,qs.atoms.self_center,{marginTop:(0,qs.platform)({web:0,ios:0,android:-1})}],children:(0,bt.jsx)(Hu.VerificationCheck,{width:(0,qs.platform)({android:13,default:12}),verifier:"verifier"===j.role})}),t[38]=j.role,t[39]=j.showBadge,t[40]=R):R=t[40],t[41]!==a?(B=a({id:"73lp8c"}),t[41]=a,t[42]=B):B=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(D={flexShrink:10},t[43]=D):D=t[43],t[44]!==s.atoms.text_contrast_medium?(O=[qs.atoms.text_md,s.atoms.text_contrast_medium,qs.atoms.leading_tight,D],t[44]=s.atoms.text_contrast_medium,t[45]=O):O=t[45];const M=Mu.NON_BREAKING_SPACE+(0,Fa.sanitizeHandle)(c,"@");let F,N,H,V,z,U,W;return t[46]!==f||t[47]!==u||t[48]!==B||t[49]!==O||t[50]!==M?(F=(0,bt.jsx)(io.WebOnlyInlineLinkText,{emoji:!0,numberOfLines:1,to:u,label:B,disableMismatchWarning:!0,disableUnderline:!0,onPress:f,style:O,children:M}),t[46]=f,t[47]=u,t[48]=B,t[49]=O,t[50]=M,t[51]=F):F=t[51],t[52]!==L||t[53]!==R||t[54]!==F?(N=(0,bt.jsxs)(Fs.default,{style:C,children:[L,R,F]}),t[52]=L,t[53]=R,t[54]=F,t[55]=N):N=t[55],t[56]!==i.did||t[57]!==N?(H=(0,bt.jsx)(Fu.ProfileHoverCard,{did:k,children:N}),t[56]=i.did,t[57]=N,t[58]=H):H=t[58],t[59]!==x||t[60]!==e.postHref||t[61]!==s.atoms.text_contrast_medium||t[62]!==y?(V=t=>{const{timeElapsed:o}=t;return(0,bt.jsxs)(io.WebOnlyInlineLinkText,{to:e.postHref,label:y,title:y,disableMismatchWarning:!0,disableUnderline:!0,onPress:x,style:[qs.atoms.pl_xs,qs.atoms.text_md,qs.atoms.leading_tight,r.IS_ANDROID&&qs.atoms.flex_grow,qs.atoms.text_right,s.atoms.text_contrast_medium,(0,qs.web)({whiteSpace:"nowrap"})],children:[!r.IS_ANDROID&&(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_tight,s.atoms.text_contrast_medium],accessible:!1,children:["\xb7"," "]}),o]})},t[59]=x,t[60]=e.postHref,t[61]=s.atoms.text_contrast_medium,t[62]=y,t[63]=V):V=t[63],t[64]!==e.timestamp||t[65]!==V?(z=(0,bt.jsx)(zu,{timestamp:e.timestamp,children:V}),t[64]=e.timestamp,t[65]=V,t[66]=z):z=t[66],t[67]!==H||t[68]!==z?(U=(0,bt.jsxs)(Fs.default,{style:T,children:[H,z]}),t[67]=H,t[68]=z,t[69]=U):U=t[69],t[70]!==U||t[71]!==S||t[72]!==w?(W=(0,bt.jsxs)(Fs.default,{style:S,children:[w,U]}),t[70]=U,t[71]=S,t[72]=w,t[73]=W):W=t[73],W};Uu=(0,lt.memo)(Uu);var Wu=s(44959),Gu=s(51158);function qu(e){const t=(0,n.c)(17),{testID:s,modui:o,ignoreMute:a,style:r,activeStyle:i,childContainerStyle:l,children:c}=e,d=o?.blurs[0];if(!d||a&&(0,Wu.isJustAMute)(o)){let e,o;return t[0]!==c?(e="function"===typeof c?c({active:!1}):c,t[0]=c,t[1]=e):e=t[1],t[2]!==r||t[3]!==e||t[4]!==s?(o=(0,bt.jsx)(Fs.default,{testID:s,style:r,children:e}),t[2]=r,t[3]=e,t[4]=s,t[5]=o):o=t[5],o}let u,m,h;return t[6]!==i||t[7]!==r?(u=[r,i],t[6]=i,t[7]=r,t[8]=u):u=t[8],t[9]!==c?(m="function"===typeof c?c({active:!0}):c,t[9]=c,t[10]=m):m=t[10],t[11]!==l||t[12]!==o||t[13]!==u||t[14]!==m||t[15]!==s?(h=(0,bt.jsx)(Qu,{testID:s,modui:o,style:u,childContainerStyle:l,children:m}),t[11]=l,t[12]=o,t[13]=u,t[14]=m,t[15]=s,t[16]=h):h=t[16],h}function Qu({testID:e,modui:t,style:s,childContainerStyle:o,children:n}){const a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),{gtMobile:i}=(0,qs.useBreakpoints)(),[l,c]=(0,lt.useState)(!1),d=(0,Nc.useModerationDetailsDialogControl)(),{labelDefs:u}=(0,Bt.useLabelDefinitions)(),m=(0,Aa.useGlobalLabelStrings)(),{i18n:h}=(0,dt.useLingui)(),p=t?.blurs[0],f=(0,Fc.useModerationCauseDescription)(p),g=(0,lt.useMemo)((()=>{if(!t?.blurs||!p)return;if("label"!==p.type||"label"===p.type&&"user"!==p.source.type)return f.isSubjectAccount?r({id:"9EvyLl",values:{0:f.name}}):f.name;let e=!1;const s=t.blurs.filter((t=>{if("label"!==t.type)return!1;if("user"!==t.source.type)return!1;if(Wu.ADULT_CONTENT_LABELS.includes(t.label.val)){if(e)return!1;e=!0}return!0})).slice(0,2).map((e=>{if("label"!==e.type)return;const t=e.labelDef||(0,Gu.getDefinition)(u,e.label);return"porn"===t.identifier||"sexual"===t.identifier?r({id:"qLa52r"}):(0,Gu.getLabelStrings)(h.locale,m,t).name}));return 0===s.length?f.name:[...new Set(s)].join(", ")}),[r,t?.blurs,p,f.name,f.isSubjectAccount,u,h.locale,m]);return(0,bt.jsxs)(Fs.default,{testID:e,style:[qs.atoms.overflow_hidden,s],children:[(0,bt.jsx)(Nc.ModerationDetailsDialog,{control:d,modcause:p}),(0,bt.jsx)(ao.Button,{onPress:e=>{e.preventDefault(),e.stopPropagation(),t.noOverride?d.open():(qr.default.configureNext(qr.default.Presets.easeInEaseOut),c((e=>!e)))},label:f.name,accessibilityHint:t.noOverride?r({id:"dyp7Hm"}):r(l?{id:"IbbZpm"}:{id:"X8XK4K"}),children:e=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.w_full,qs.atoms.justify_start,qs.atoms.align_center,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.gap_xs,qs.atoms.rounded_sm,a.atoms.bg_contrast_25,i&&[qs.atoms.gap_sm,qs.atoms.py_lg,qs.atoms.mt_xs,qs.atoms.px_xl],(e.hovered||e.pressed)&&a.atoms.bg_contrast_50],children:[(0,bt.jsx)(f.icon,{size:"md",fill:a.atoms.text_contrast_medium.color,style:{marginLeft:-2}}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_left,qs.atoms.font_semi_bold,qs.atoms.leading_snug,i&&[qs.atoms.font_semi_bold],a.atoms.text_contrast_medium,(0,qs.web)({marginBottom:1})],numberOfLines:2,children:g}),!t.noOverride&&(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.leading_snug,i&&[qs.atoms.font_semi_bold],a.atoms.text_contrast_high,(0,qs.web)({marginBottom:1})],children:l?(0,bt.jsx)(dt.Trans,{id:"vLyv1R"}):(0,bt.jsx)(dt.Trans,{id:"8vETh9"})})]})}),f.source&&"label"===p.type&&!l&&(0,bt.jsx)(ao.Button,{onPress:e=>{e.preventDefault(),e.stopPropagation(),d.open()},label:r({id:"dyp7Hm"}),style:[qs.atoms.pt_sm],children:e=>(0,bt.jsxs)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_sm,qs.atoms.font_normal,qs.atoms.leading_snug,a.atoms.text_contrast_medium,qs.atoms.text_left],children:["user"===f.sourceType?(0,bt.jsx)(dt.Trans,{id:"WeiD66"}):(0,bt.jsx)(dt.Trans,{id:"CaKI7F",values:{0:(0,Ma.sanitizeDisplayName)(f.source)}})," ",(0,bt.jsx)(co.Text,{style:[{color:a.palette.primary_500},qs.atoms.text_sm,e.hovered&&[(0,qs.web)({textDecoration:"underline"})]],children:(0,bt.jsx)(dt.Trans,{id:"F6TdXL"})})]})}),l&&(0,bt.jsx)(Fs.default,{style:o,children:n})]})}var Ku=s(77585);function Zu(e){const t=(0,n.c)(7);let s,o,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={preventExpansion:!0},o=(0,bt.jsx)(Qs.Handle,{}),t[0]=s,t[1]=o):(s=t[0],o=t[1]),t[2]!==e?(a=(0,bt.jsx)(Yu,Object.assign({},e)),t[2]=e,t[3]=a):a=t[3],t[4]!==e.control||t[5]!==a?(r=(0,bt.jsxs)(Qs.Outer,{control:e.control,nativeOptions:s,children:[o,a]}),t[4]=e.control,t[5]=a,t[6]=r):r=t[6],r}function Yu(e){const t=(0,n.c)(19),{_:s}=(0,dt.useLingui)(),{currentAccount:o}=(0,Gt.useSession)(),[a,r]=lt.useState(void 0),{labels:i}=e,l="account"===e.type;let c;if(o?.did,t[0]!==o?.did||t[1]!==i){let e;t[3]!==o?.did?(e=e=>e.src===o?.did,t[3]=o?.did,t[4]=e):e=t[4],c=i.some(e),t[0]=o?.did,t[1]=i,t[2]=c}else c=t[2];const d=c;let u,m,h,p;return t[5]!==s||t[6]!==l?(u=s(l?{id:"yTqCUW"}:{id:"ULB0Ox"}),t[5]=s,t[6]=l,t[7]=u):u=t[7],t[8]!==a||t[9]!==d||t[10]!==o?.did||t[11]!==l||t[12]!==i||t[13]!==e.control?(m=a?(0,bt.jsx)(Xu,{label:a,control:e.control,onPressBack:()=>r(void 0)}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold,qs.atoms.pb_xs,qs.atoms.leading_tight],children:l?(0,bt.jsx)(dt.Trans,{id:"0xXuqM"}):(0,bt.jsx)(dt.Trans,{id:"gLA+uA"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:d?(0,bt.jsx)(dt.Trans,{id:"BUhPgv"}):(0,bt.jsx)(dt.Trans,{id:"EaUwqE"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_lg,qs.atoms.gap_md],children:i.map((t=>(0,bt.jsx)($u,{label:t,isSelfLabel:t.src===o?.did,control:e.control,onPressAppeal:r},`${t.val}-${t.src}`)))})]}),t[8]=a,t[9]=d,t[10]=o?.did,t[11]=l,t[12]=i,t[13]=e.control,t[14]=m):m=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Qs.Close,{}),t[15]=h):h=t[15],t[16]!==u||t[17]!==m?(p=(0,bt.jsxs)(Qs.ScrollableInner,{label:u,children:[m,h]}),t[16]=u,t[17]=m,t[18]=p):p=t[18],p}function $u(e){const t=(0,n.c)(45),{label:s,isSelfLabel:o,control:a,onPressAppeal:r}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),{labeler:c,strings:d}=(0,Gu.useLabelInfo)(s);let u;t[0]!==s||t[1]!==c?(u=c?(0,Fa.sanitizeHandle)(c.creator.handle,"@"):s.src,t[0]=s,t[1]=c,t[2]=u):u=t[2];const m=u;let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={future:!0},t[3]=h):h=t[3];const p=(0,Vu.useGetTimeAgo)(h);let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A;return t[4]!==i.atoms.border_contrast_low?(f=[qs.atoms.border,i.atoms.border_contrast_low,qs.atoms.rounded_sm,qs.atoms.overflow_hidden],t[4]=i.atoms.border_contrast_low,t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.p_md,qs.atoms.gap_sm,qs.atoms.flex_row],t[6]=g):g=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_1,qs.atoms.gap_xs],t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.font_semi_bold,qs.atoms.text_md],t[8]=_):_=t[8],t[9]!==d.name?(y=(0,bt.jsx)(co.Text,{emoji:!0,style:_,children:d.name}),t[9]=d.name,t[10]=y):y=t[10],t[11]!==i.atoms.text_contrast_medium?(b=[i.atoms.text_contrast_medium,qs.atoms.leading_snug],t[11]=i.atoms.text_contrast_medium,t[12]=b):b=t[12],t[13]!==d.description||t[14]!==b?(j=(0,bt.jsx)(co.Text,{emoji:!0,style:b,children:d.description}),t[13]=d.description,t[14]=b,t[15]=j):j=t[15],t[16]!==y||t[17]!==j?(v=(0,bt.jsxs)(Fs.default,{style:x,children:[y,j]}),t[16]=y,t[17]=j,t[18]=v):v=t[18],t[19]!==l||t[20]!==o||t[21]!==s||t[22]!==r?(S=!o&&(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(ao.Button,{variant:"solid",color:"secondary",size:"small",label:l({id:"U0Di/P"}),onPress:()=>r(s),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"U0Di/P"})})})}),t[19]=l,t[20]=o,t[21]=s,t[22]=r,t[23]=S):S=t[23],t[24]!==v||t[25]!==S?(w=(0,bt.jsxs)(Fs.default,{style:g,children:[v,S]}),t[24]=v,t[25]=S,t[26]=w):w=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(yo,{}),t[27]=T):T=t[27],t[28]!==i.atoms.bg_contrast_25?(k=[qs.atoms.px_md,qs.atoms.py_sm,i.atoms.bg_contrast_25],t[28]=i.atoms.bg_contrast_25,t[29]=k):k=t[29],t[30]!==a||t[31]!==o||t[32]!==s||t[33]!==c||t[34]!==m||t[35]!==i.atoms.text_contrast_medium||t[36]!==p?(C=o?(0,bt.jsx)(co.Text,{style:[i.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"cyoHsh"})}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.gap_xl,{paddingBottom:1}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.leading_snug,i.atoms.text_contrast_medium],numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"hINgTt",values:{sourceName:m},components:{0:(0,bt.jsx)(io.InlineLinkText,{label:m,to:(0,Oa.makeProfileLink)(c?c.creator:{did:s.src,handle:""}),onPress:()=>a.close()})}})}),s.exp&&(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_sm,qs.atoms.italic,i.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"p6Htf2",values:{0:p(Date.now(),s.exp)}})})})]}),t[30]=a,t[31]=o,t[32]=s,t[33]=c,t[34]=m,t[35]=i.atoms.text_contrast_medium,t[36]=p,t[37]=C):C=t[37],t[38]!==k||t[39]!==C?(I=(0,bt.jsx)(Fs.default,{style:k,children:C}),t[38]=k,t[39]=C,t[40]=I):I=t[40],t[41]!==w||t[42]!==I||t[43]!==f?(A=(0,bt.jsxs)(Fs.default,{style:f,children:[w,T,I]}),t[41]=w,t[42]=I,t[43]=f,t[44]=A):A=t[44],A}function Xu(e){const t=(0,n.c)(94),{label:s,control:o,onPressBack:a}=e,{_:i}=(0,dt.useLingui)(),{labeler:l,strings:c}=(0,Gu.useLabelInfo)(s),{gtMobile:d}=(0,qs.useBreakpoints)(),[u,m]=lt.useState("");let h;t[0]!==s?(h={label:s},t[0]=s,t[1]=h):h=t[1];const{subject:p}=(0,Wu.useLabelSubject)(h),f="did"in p,g=(0,Gt.useAgent)();let x;t[2]!==s||t[3]!==l?(x=l?(0,Fa.sanitizeHandle)(l.creator.handle,"@"):s.src,t[2]=s,t[3]=l,t[4]=x):x=t[4];const _=x,[y,b]=(0,lt.useState)(null);let j,v,S,w;t[5]!==g||t[6]!==u||t[7]!==f||t[8]!==s||t[9]!==p?(j=async()=>{const e=f?"com.atproto.admin.defs#repoRef":"com.atproto.repo.strongRef";await g.createModerationReport({reasonType:Dn.ToolsOzoneReportDefs.REASONAPPEAL,subject:Object.assign({$type:e},p),reason:u},{encoding:"application/json",headers:{"atproto-proxy":`${s.src}#atproto_labeler`}})},t[5]=g,t[6]=u,t[7]=f,t[8]=s,t[9]=p,t[10]=j):j=t[10],t[11]!==i?(v=e=>{e instanceof Ku.XRPCError&&"AlreadyAppealed"===e.error?b(i({id:"ni3xoj"})):b(i({id:"weFIXk"})),Mt.logger.error("Failed to submit label appeal",{message:e})},t[11]=i,t[12]=v):v=t[12],t[13]!==i||t[14]!==o?(S=()=>{o.close(),Ds.show(i({id:"tk78Wd"}))},t[13]=i,t[14]=o,t[15]=S):S=t[15],t[16]!==j||t[17]!==v||t[18]!==S?(w={mutationFn:j,onError:v,onSuccess:S},t[16]=j,t[17]=v,t[18]=S,t[19]=w):w=t[19];const{mutate:T,isPending:k}=(0,go.useMutation)(w);let C;t[20]!==T?(C=()=>T(),t[20]=T,t[21]=C):C=t[21];const I=C;let A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe;return t[22]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.pb_xs,qs.atoms.leading_tight],t[22]=A):A=t[22],t[23]!==c.name?(P=(0,bt.jsx)(co.Text,{style:A,children:(0,bt.jsx)(dt.Trans,{id:"/AiU3N",values:{0:c.name}})}),t[23]=c.name,t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.text_md,qs.atoms.leading_snug],t[25]=E):E=t[25],t[26]!==_?(L={sourceName:_},t[26]=_,t[27]=L):L=t[27],t[28]!==s||t[29]!==l?(R=l?l.creator:{did:s.src,handle:""},t[28]=s,t[29]=l,t[30]=R):R=t[30],t[31]!==R?(B=(0,Oa.makeProfileLink)(R),t[31]=R,t[32]=B):B=t[32],t[33]!==o?(D=()=>o.close(),t[33]=o,t[34]=D):D=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.text_md,qs.atoms.leading_snug],t[35]=O):O=t[35],t[36]!==_||t[37]!==B||t[38]!==D?(M={0:(0,bt.jsx)(io.InlineLinkText,{label:_,to:B,onPress:D,style:O})},t[36]=_,t[37]=B,t[38]=D,t[39]=M):M=t[39],t[40]!==L||t[41]!==M?(F=(0,bt.jsx)(co.Text,{style:E,children:(0,bt.jsx)(dt.Trans,{id:"0y4vp3",values:L,components:M})}),t[40]=L,t[41]=M,t[42]=F):F=t[42],t[43]!==F||t[44]!==P?(N=(0,bt.jsxs)(Fs.default,{children:[P,F]}),t[43]=F,t[44]=P,t[45]=N):N=t[45],t[46]!==y?(H=y&&(0,bt.jsx)(no.Admonition,{type:"error",style:[qs.atoms.mt_sm],children:y}),t[46]=y,t[47]=H):H=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.my_md],t[48]=V):V=t[48],t[49]!==i?(z=i({id:"p8Iz39"}),t[49]=i,t[50]=z):z=t[50],t[51]!==i||t[52]!==s||t[53]!==l?(U=i({id:"YROfa6",values:{0:l?(0,Fa.sanitizeHandle)(l.creator.handle,"@"):s.src}}),t[51]=i,t[52]=s,t[53]=l,t[54]=U):U=t[54],t[55]!==u||t[56]!==z||t[57]!==U?(W=(0,bt.jsx)(Fs.default,{style:V,children:(0,bt.jsx)(Qs.Input,{label:z,placeholder:U,value:u,onChangeText:m,autoFocus:!0,numberOfLines:3,multiline:!0,maxLength:300})}),t[55]=u,t[56]=z,t[57]=U,t[58]=W):W=t[58],t[59]!==d?(G=d?[qs.atoms.flex_row,qs.atoms.justify_between]:[{flexDirection:"column-reverse"},qs.atoms.gap_sm],t[59]=d,t[60]=G):G=t[60],t[61]!==i?(q=i({id:"iH8pgl"}),t[61]=i,t[62]=q):q=t[62],t[63]!==i?(Q=i({id:"iH8pgl"}),t[63]=i,t[64]=Q):Q=t[64],t[65]!==Q?(K=(0,bt.jsx)(ao.ButtonText,{children:Q}),t[65]=Q,t[66]=K):K=t[66],t[67]!==a||t[68]!==q||t[69]!==K?(Z=(0,bt.jsx)(ao.Button,{testID:"backBtn",variant:"solid",color:"secondary",size:"large",onPress:a,label:q,children:K}),t[67]=a,t[68]=q,t[69]=K,t[70]=Z):Z=t[70],t[71]!==i?(Y=i({id:"hQRttt"}),t[71]=i,t[72]=Y):Y=t[72],t[73]!==i?($=i({id:"hQRttt"}),t[73]=i,t[74]=$):$=t[74],t[75]!==$?(X=(0,bt.jsx)(ao.ButtonText,{children:$}),t[75]=$,t[76]=X):X=t[76],t[77]!==k?(J=k&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[77]=k,t[78]=J):J=t[78],t[79]!==I||t[80]!==Y||t[81]!==X||t[82]!==J?(ee=(0,bt.jsxs)(ao.Button,{testID:"submitBtn",variant:"solid",color:"primary",size:"large",onPress:I,label:Y,children:[X,J]}),t[79]=I,t[80]=Y,t[81]=X,t[82]=J,t[83]=ee):ee=t[83],t[84]!==G||t[85]!==Z||t[86]!==ee?(te=(0,bt.jsxs)(Fs.default,{style:G,children:[Z,ee]}),t[84]=G,t[85]=Z,t[86]=ee,t[87]=te):te=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(se=r.IS_ANDROID&&(0,bt.jsx)(Fs.default,{style:{height:300}}),t[88]=se):se=t[88],t[89]!==N||t[90]!==H||t[91]!==W||t[92]!==te?(oe=(0,bt.jsxs)(bt.Fragment,{children:[N,H,W,te,se]}),t[89]=N,t[90]=H,t[91]=W,t[92]=te,t[93]=oe):oe=t[93],oe}function Ju(e){const t=(0,n.c)(26);let{type:s,labels:o,size:a,style:r}=e;const{_:i}=(0,dt.useLingui)(),{currentAccount:l}=(0,Gt.useSession)(),c=(0,Qs.useDialogControl)();if(!o||!l)return null;let d,u,m;if(t[0]!==o?(d=o.filter(em),t[0]=o,t[1]=d):d=t[1],o=d,!o.length)return null;t[2]!==r?(u=[qs.atoms.flex_row,r],t[2]=r,t[3]=u):u=t[3],t[4]!==c||t[5]!==o||t[6]!==s?(m=(0,bt.jsx)(Zu,{control:c,labels:o,type:s}),t[4]=c,t[5]=o,t[6]=s,t[7]=m):m=t[7];const h=a||"small";let p,f,g,x,_,y,b;return t[8]!==i?(p=i({id:"RTblld"}),t[8]=i,t[9]=p):p=t[9],t[10]!==c?(f=()=>{c.open()},t[10]=c,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ao.ButtonIcon,{position:"left",icon:Cn.CircleInfo_Stroke2_Corner0_Rounded}),t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.leading_snug],t[13]=x):x=t[13],t[14]!==o.length||t[15]!==s?(_=(0,bt.jsx)(ao.ButtonText,{style:x,children:"account"===s?(0,bt.jsx)(dt.Trans,{id:"WpOWPz",values:{0:o.length}}):(0,bt.jsx)(dt.Trans,{id:"lQ9kih",values:{0:o.length}})}),t[14]=o.length,t[15]=s,t[16]=_):_=t[16],t[17]!==h||t[18]!==p||t[19]!==f||t[20]!==_?(y=(0,bt.jsxs)(ao.Button,{variant:"solid",color:"secondary",size:h,label:p,onPress:f,children:[g,_]}),t[17]=h,t[18]=p,t[19]=f,t[20]=_,t[21]=y):y=t[21],t[22]!==y||t[23]!==u||t[24]!==m?(b=(0,bt.jsxs)(Fs.default,{style:u,children:[m,y]}),t[22]=y,t[23]=u,t[24]=m,t[25]=b):b=t[25],b}function em(e){return!e.val.startsWith("!")}function tm(e){const t=(0,n.c)(3),{post:s,style:o}=e,{currentAccount:a}=(0,Gt.useSession)();if(s.author.did!==a?.did)return null;let r;return t[0]!==s.labels||t[1]!==o?(r=(0,bt.jsx)(Ju,{type:"content",labels:s.labels,size:"tiny",style:o}),t[0]=s.labels,t[1]=o,t[2]=r):r=t[2],r}var sm=s(32581);function om(e){const t=(0,n.c)(24),{modui:s,size:o,style:a,additionalCauses:r}=e,i=void 0===o?"sm":o;if(!s.alert&&!s.inform&&!r?.length)return null;let l,c,d,u,m,h;if(t[0]!==i?(l="sm"===i&&{marginLeft:-3},t[0]=i,t[1]=l):l=t[1],t[2]!==a||t[3]!==l?(c=[l,a],t[2]=a,t[3]=l,t[4]=c):c=t[4],t[5]!==s.alerts||t[6]!==i){let e;t[8]!==i?(e=e=>(0,bt.jsx)(sm.Label,{cause:e,size:i,noBg:"sm"===i},(0,Wu.getModerationCauseKey)(e)),t[8]=i,t[9]=e):e=t[9],d=s.alerts.filter(Wu.unique).map(e),t[5]=s.alerts,t[6]=i,t[7]=d}else d=t[7];if(t[10]!==s.informs||t[11]!==i){let e;t[13]!==i?(e=e=>(0,bt.jsx)(sm.Label,{cause:e,size:i,noBg:"sm"===i},(0,Wu.getModerationCauseKey)(e)),t[13]=i,t[14]=e):e=t[14],u=s.informs.filter(Wu.unique).map(e),t[10]=s.informs,t[11]=i,t[12]=u}else u=t[12];return t[15]!==r||t[16]!==i?(m=r?.map((e=>(0,bt.jsx)(sm.Label,{cause:e,size:i,noBg:"sm"===i},(0,Wu.getModerationCauseKey)(e)))),t[15]=r,t[16]=i,t[17]=m):m=t[17],t[18]!==i||t[19]!==c||t[20]!==d||t[21]!==u||t[22]!==m?(h=(0,bt.jsxs)(sm.Row,{size:i,style:c,children:[d,u,m]}),t[18]=i,t[19]=c,t[20]=d,t[21]=u,t[22]=m,t[23]=h):h=t[23],h}var nm=s(50996),am=s(35730),rm=s(50441),im=s(27948),lm=s(64855),cm=s(70930),dm=s(23933);function um(e){const t=(0,n.c)(61),{control:s,source:o,onAccept:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,Bt.useSetExternalEmbedPref)();let l;t[0]!==s||t[1]!==a||t[2]!==i?(l=()=>{for(const e of cm.embedPlayerSources)i(e,"show");a(),s.close()},t[0]=s,t[1]=a,t[2]=i,t[3]=l):l=t[3];const c=l;let d;t[4]!==s||t[5]!==a||t[6]!==i||t[7]!==o?(d=()=>{i(o,"show"),a(),s.close()},t[4]=s,t[5]=a,t[6]=i,t[7]=o,t[8]=d):d=t[8];const u=d;let m;t[9]!==s||t[10]!==i||t[11]!==o?(m=()=>{i(o,"hide"),s.close()},t[9]=s,t[10]=i,t[11]=o,t[12]=m):m=t[12];const h=m;let p,f,g,x,_,y,b;t[13]===Symbol.for("react.memo_cache_sentinel")?(p={preventExpansion:!0},f=(0,bt.jsx)(Qs.Handle,{}),t[13]=p,t[14]=f):(p=t[13],f=t[14]),t[15]!==r?(g=r({id:"aie5G2"}),t[15]=r,t[16]=g):g=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(x=(0,qs.web)({maxWidth:400}),t[17]=x):x=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"aie5G2"})}),t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.mt_sm,qs.atoms.mb_2xl,qs.atoms.gap_lg],t[19]=y):y=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.text_md,qs.atoms.leading_snug],t[20]=b):b=t[20];const j=cm.externalEmbedLabels[o];let v,S,w,T,k,C,I;t[21]!==j?(v=(0,bt.jsx)(co.Text,{style:b,children:(0,bt.jsx)(dt.Trans,{id:"iCR89t",values:{0:j}})}),t[21]=j,t[22]=v):v=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"n+JXGp"})}),t[23]=S):S=t[23],t[24]!==v?(w=(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_sm,children:[_,(0,bt.jsxs)(Fs.default,{style:y,children:[v,S]})]}),t[24]=v,t[25]=w):w=t[25],t[26]!==r?(T=r({id:"Va5mZi"}),t[26]=r,t[27]=T):T=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Va5mZi"})}),t[28]=k):k=t[28],t[29]!==s.close||t[30]!==c||t[31]!==T?(C=(0,bt.jsx)(ao.Button,{label:T,onPress:c,onAccessibilityEscape:s.close,color:"primary",size:"large",children:k}),t[29]=s.close,t[30]=c,t[31]=T,t[32]=C):C=t[32],t[33]!==r?(I=r({id:"EdCVUs"}),t[33]=r,t[34]=I):I=t[34];const A=cm.externalEmbedLabels[o];let P,E,L,R,B,D,O,M,F;return t[35]!==A?(P=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xIKcx6",values:{0:A}})}),t[35]=A,t[36]=P):P=t[36],t[37]!==s.close||t[38]!==u||t[39]!==I||t[40]!==P?(E=(0,bt.jsx)(ao.Button,{label:I,onPress:u,onAccessibilityEscape:s.close,color:"secondary",size:"large",children:P}),t[37]=s.close,t[38]=u,t[39]=I,t[40]=P,t[41]=E):E=t[41],t[42]!==r?(L=r({id:"tA4dAO"}),t[42]=r,t[43]=L):L=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tA4dAO"})}),t[44]=R):R=t[44],t[45]!==s.close||t[46]!==h||t[47]!==L?(B=(0,bt.jsx)(ao.Button,{label:L,onAccessibilityEscape:s.close,onPress:h,color:"secondary",size:"large",variant:"ghost",children:R}),t[45]=s.close,t[46]=h,t[47]=L,t[48]=B):B=t[48],t[49]!==C||t[50]!==E||t[51]!==B?(D=(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_md,children:[C,E,B]}),t[49]=C,t[50]=E,t[51]=B,t[52]=D):D=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(Qs.Close,{}),t[53]=O):O=t[53],t[54]!==w||t[55]!==D||t[56]!==g?(M=(0,bt.jsxs)(Qs.ScrollableInner,{label:g,style:x,children:[w,D,O]}),t[54]=w,t[55]=D,t[56]=g,t[57]=M):M=t[57],t[58]!==s||t[59]!==M?(F=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:p,children:[f,M]}),t[58]=s,t[59]=M,t[60]=F):F=t[60],F}var mm=s(15127);(0,ti.createSinglePathSVG)({path:"M5.507 2.13a1 1 0 0 1 1.008.013l15 9a1 1 0 0 1 0 1.714l-15 9A1 1 0 0 1 5 21V3a1 1 0 0 1 .507-.87ZM7 4.766v14.468L19.056 12 7 4.766Z"});const hm=(0,ti.createSinglePathSVG)({path:"M6.514 2.143A1 1 0 0 0 5 3v18a1 1 0 0 0 1.514.858l15-9a1 1 0 0 0 0-1.716l-15-9Z"}),pm=(0,ti.createSinglePathSVG)({path:"M5 5.086C5 2.736 7.578 1.3 9.576 2.534L20.77 9.448c1.899 1.172 1.899 3.932 0 5.104L9.576 21.466C7.578 22.701 5 21.263 5 18.914V5.086Zm3.525-.85A1 1 0 0 0 7 5.085v13.828a1 1 0 0 0 1.525.85l11.194-6.913a1 1 0 0 0 0-1.702L8.525 4.235Z"});(0,ti.createSinglePathSVG)({path:"M9.576 2.534C7.578 1.299 5 2.737 5 5.086v13.828c0 2.35 2.578 3.787 4.576 2.552l11.194-6.914c1.899-1.172 1.899-3.932 0-5.104L9.576 2.534Z"});function fm(e){const t=(0,n.c)(10),{size:s}=e,o=void 0===s?32:s,a=(0,qs.useTheme)(),r="light"===a.name?a.palette.contrast_25:a.palette.contrast_975,i="light"===a.name?a.palette.contrast_975:a.palette.contrast_25,l=o+o/1.5,c=o+o/1.5;let d,u,m;return t[0]!==r||t[1]!==l||t[2]!==c?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,{backgroundColor:r,shadowColor:"black",shadowRadius:32,shadowOpacity:.5,elevation:24,width:l,height:c,opacity:.7}]}),t[0]=r,t[1]=l,t[2]=c,t[3]=d):d=t[3],t[4]!==i||t[5]!==o?(u=(0,bt.jsx)(hm,{width:o,fill:i,style:qs.atoms.absolute}),t[4]=i,t[5]=o,t[6]=u):u=t[6],t[7]!==d||t[8]!==u?(m=(0,bt.jsxs)(bt.Fragment,{children:[d,u]}),t[7]=d,t[8]=u,t[9]=m):m=t[9],m}function gm(e){const t=(0,n.c)(40),{link:s,params:o}=e,a=(0,qs.useTheme)(),i=(0,Bt.useExternalEmbedsPrefs)(),{_:l}=(0,dt.useLingui)(),c=(0,Qs.useDialogControl)(),[d,u]=lt.useState(!1),[m,h]=lt.useState(!1),[p,f]=lt.useState(!0),g=lt.useRef(null);let x;t[0]!==o.playerUri?(x=()=>{u(!0),cn.Image.prefetch(o.playerUri).then((()=>{h(!0)}))},t[0]=o.playerUri,t[1]=x):x=t[1];const _=x;let y;t[2]!==c||t[3]!==i||t[4]!==d||t[5]!==_||t[6]!==o.source?(y=e=>{e.preventDefault(),void 0!==i?.[o.source]?d?f((e=>e?(r.IS_NATIVE&&g.current?.stopAnimating(),!1):(r.IS_NATIVE&&g.current?.startAnimating(),!0))):_():c.open()},t[2]=c,t[3]=i,t[4]=d,t[5]=_,t[6]=o.source,t[7]=y):y=t[7];const b=y;let j,v,S,w,T;t[8]!==c||t[9]!==_||t[10]!==o.source?(j=(0,bt.jsx)(um,{control:c,source:o.source,onAccept:_}),t[8]=c,t[9]=_,t[10]=o.source,t[11]=j):j=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(v={height:300},t[12]=v):v=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(S=[v,qs.atoms.w_full,qs.atoms.overflow_hidden,{borderBottomLeftRadius:0,borderBottomRightRadius:0}],t[13]=S):S=t[13],t[14]!==l?(w=l({id:"pmtcOG"}),t[14]=l,t[15]=w):w=t[15],t[16]!==l||t[17]!==s.title?(T=l({id:"HL7kZa",values:{0:s.title}}),t[16]=l,t[17]=s.title,t[18]=T):T=t[18];const k=!m||r.IS_WEB&&!p?s.thumb:o.playerUri;let C,I,A,P,E,L;return t[19]!==k?(C={uri:k},t[19]=k,t[20]=C):C=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(I={flex:1},t[21]=I):I=t[21],t[22]!==p||t[23]!==s.title||t[24]!==C?(A=(0,bt.jsx)(cn.Image,{source:C,style:I,ref:g,autoplay:p,contentFit:"contain",accessibilityIgnoresInvertColors:!0,accessibilityLabel:s.title,accessibilityHint:s.title,cachePolicy:r.IS_IOS?"disk":"memory-disk"}),t[22]=p,t[23]=s.title,t[24]=C,t[25]=A):A=t[25],t[26]!==p||t[27]!==d||t[28]!==m||t[29]!==a?(P=(!m||!p)&&(0,bt.jsxs)(mm.Fill,{style:[qs.atoms.align_center,qs.atoms.justify_center],children:[(0,bt.jsx)(mm.Fill,{style:["light"===a.name?a.atoms.bg_contrast_975:a.atoms.bg,{opacity:.3}]}),p&&d?(0,bt.jsx)(vn.default,{size:"large",color:"white"}):(0,bt.jsx)(fm,{})]}),t[26]=p,t[27]=d,t[28]=m,t[29]=a,t[30]=P):P=t[30],t[31]!==b||t[32]!==A||t[33]!==P||t[34]!==w||t[35]!==T?(E=(0,bt.jsxs)(ln.default,{style:S,onPress:b,accessibilityRole:"button",accessibilityHint:w,accessibilityLabel:T,children:[A,P]}),t[31]=b,t[32]=A,t[33]=P,t[34]=w,t[35]=T,t[36]=E):E=t[36],t[37]!==E||t[38]!==j?(L=(0,bt.jsxs)(bt.Fragment,{children:[j,E]}),t[37]=E,t[38]=j,t[39]=L):L=t[39],L}var xm=s(54426);function _m(e){const t=(0,n.c)(4),{children:s,style:o,onKeyDown:a}=e,r=bm,i=void 0===a||a?r:void 0;let l;return t[0]!==s||t[1]!==o||t[2]!==i?(l=(0,bt.jsx)(Fs.default,{onStartShouldSetResponder:ym,onTouchEnd:r,onClick:r,onKeyDown:i,style:o,children:s}),t[0]=s,t[1]=o,t[2]=i,t[3]=l):l=t[3],l}function ym(e){return!0}function bm(e){e.stopPropagation()}function jm(e){const t=(0,n.c)(13),{isLoading:s,isPlayerActive:o,onPress:a}=e,{_:r}=(0,dt.useLingui)();if(o&&!s)return null;let i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.absolute,qs.atoms.inset_0,Tm.overlayLayer],t[0]=i):i=t[0],t[1]!==r?(l=r({id:"Jf3XqA"}),t[1]=r,t[2]=l):l=t[2],t[3]!==r?(c=r({id:"Y+VyL0"}),t[3]=r,t[4]=c):c=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(d=[Tm.overlayContainer],t[5]=d):d=t[5],t[6]!==o?(u=o?(0,bt.jsx)(vn.default,{size:"large",color:"white"}):(0,bt.jsx)(fm,{}),t[6]=o,t[7]=u):u=t[7],t[8]!==a||t[9]!==l||t[10]!==c||t[11]!==u?(m=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsx)(ln.default,{accessibilityRole:"button",accessibilityLabel:l,accessibilityHint:c,onPress:a,style:d,children:u})}),t[8]=a,t[9]=l,t[10]=c,t[11]=u,t[12]=m):m=t[12],m}function vm(e){const t=(0,n.c)(10),{params:s,onLoad:o,isPlayerActive:a}=e;let r;t[0]!==s.playerUri||t[1]!==s.source?(r=e=>e.url===s.playerUri||s.source.startsWith("youtube")&&e.url.includes("www.youtube.com"),t[0]=s.playerUri,t[1]=s.source,t[2]=r):r=t[2];const i=r;if(!a)return null;let l,c,d;return t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.absolute,qs.atoms.inset_0,Tm.playerLayer],t[3]=l):l=t[3],t[4]!==s.playerUri?(c={uri:s.playerUri},t[4]=s.playerUri,t[5]=c):c=t[5],t[6]!==o||t[7]!==i||t[8]!==c?(d=(0,bt.jsx)(_m,{style:l,children:(0,bt.jsx)(xm.WebView,{javaScriptEnabled:!0,onShouldStartLoadWithRequest:i,mediaPlaybackRequiresUserAction:!1,allowsInlineMediaPlayback:!0,bounces:!1,allowsFullscreenVideo:!0,nestedScrollEnabled:!0,source:c,onLoad:o,style:Tm.webview,setSupportMultipleWindows:!1})}),t[6]=o,t[7]=i,t[8]=c,t[9]=d):d=t[9],d}const Sm={code:"function ExternalPlayerTsx1(){const{measure,viewRef,windowDims,IS_NATIVE,insets,runOnJS,setPlayerActive}=this.__closure;const measurement=measure(viewRef);if(!measurement){return;}const{height:winHeight,width:winWidth}=windowDims;const realWinHeight=IS_NATIVE?winHeight>winWidth?winHeight:winWidth:winHeight;const top=measurement.pageY;const bot=measurement.pageY+measurement.height;const isVisible=top<=realWinHeight-insets.bottom&&bot>=insets.top;if(!isVisible){runOnJS(setPlayerActive)(false);}}"};function wm(e){const t=(0,n.c)(43),{link:s,params:o}=e,a=(0,qs.useTheme)(),i=(0,Ns.useNavigation)(),l=(0,ct.useSafeAreaInsets)(),c=(0,Qr.default)(),d=(0,Bt.useExternalEmbedsPrefs)(),u=(0,Qs.useDialogControl)(),[m,h]=lt.useState(!1),[p,f]=lt.useState(!0),g=!!s.thumb;let x;t[0]!==o.type||t[1]!==g||t[2]!==c.width?(x=(0,cm.getPlayerAspect)({type:o.type,width:c.width,hasThumb:g}),t[0]=o.type,t[1]=g,t[2]=c.width,t[3]=x):x=t[3];const _=x,y=(0,yn.useAnimatedRef)(),b=(0,yn.useFrameCallback)(function(){const e=function(){const e=(0,yn.measure)(y);if(!e)return;const{height:t,width:s}=c,o=r.IS_NATIVE?t>s?t:s:t,n=e.pageY,a=e.pageY+e.height;n<=o-l.bottom&&a>=l.top||(0,yn.runOnJS)(h)(!1)};return e.__closure={measure:yn.measure,viewRef:y,windowDims:c,IS_NATIVE:r.IS_NATIVE,insets:l,runOnJS:yn.runOnJS,setPlayerActive:h},e.__workletHash=0xfacfd30f8de,e.__initData=Sm,e}(),!1);let j,v,S;t[4]!==b||t[5]!==m||t[6]!==i?(j=()=>{if(!m)return;const e=i.addListener("blur",(()=>{h(!1)}));return b.setActive(!0),()=>{e(),b.setActive(!1)}},v=[i,m,b],t[4]=b,t[5]=m,t[6]=i,t[7]=j,t[8]=v):(j=t[7],v=t[8]),lt.useEffect(j,v),t[9]===Symbol.for("react.memo_cache_sentinel")?(S=()=>{f(!1)},t[9]=S):S=t[9];const w=S;let T;t[10]!==u||t[11]!==d||t[12]!==o.source?(T=e=>{e.preventDefault(),void 0!==d?.[o.source]?h(!0):u.open()},t[10]=u,t[11]=d,t[12]=o.source,t[13]=T):T=t[13];const k=T;let C;t[14]===Symbol.for("react.memo_cache_sentinel")?(C=()=>{h(!0)},t[14]=C):C=t[14];const I=C;let A,P,E,L,R,B,D;return t[15]!==u||t[16]!==o.source?(A=(0,bt.jsx)(um,{control:u,source:o.source,onAccept:I}),t[15]=u,t[16]=o.source,t[17]=A):A=t[17],t[18]!==_?(P=[_,qs.atoms.overflow_hidden],t[18]=_,t[19]=P):P=t[19],t[20]!==p||t[21]!==m||t[22]!==s.thumb||t[23]!==a.atoms||t[24]!==a.name||t[25]!==a.palette?(E=!s.thumb||m&&!p?(0,bt.jsx)(mm.Fill,{style:[{backgroundColor:"light"===a.name?a.palette.contrast_975:"black",opacity:.3}]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(cn.Image,{style:[qs.atoms.flex_1],source:{uri:s.thumb},accessibilityIgnoresInvertColors:!0,loading:"lazy"}),(0,bt.jsx)(mm.Fill,{style:["light"===a.name?a.atoms.bg_contrast_975:a.atoms.bg,{opacity:.3}]})]}),t[20]=p,t[21]=m,t[22]=s.thumb,t[23]=a.atoms,t[24]=a.name,t[25]=a.palette,t[26]=E):E=t[26],t[27]!==p||t[28]!==m||t[29]!==k?(L=(0,bt.jsx)(jm,{isLoading:p,isPlayerActive:m,onPress:k}),t[27]=p,t[28]=m,t[29]=k,t[30]=L):L=t[30],t[31]!==m||t[32]!==o?(R=(0,bt.jsx)(vm,{isPlayerActive:m,params:o,onLoad:w}),t[31]=m,t[32]=o,t[33]=R):R=t[33],t[34]!==E||t[35]!==L||t[36]!==R||t[37]!==P||t[38]!==y?(B=(0,bt.jsxs)(yn.default.View,{ref:y,collapsable:!1,style:P,children:[E,L,R]}),t[34]=E,t[35]=L,t[36]=R,t[37]=P,t[38]=y,t[39]=B):B=t[39],t[40]!==B||t[41]!==A?(D=(0,bt.jsxs)(bt.Fragment,{children:[A,B]}),t[40]=B,t[41]=A,t[42]=D):D=t[42],D}const Tm=Os.default.create({overlayContainer:{flex:1,justifyContent:"center",alignItems:"center"},overlayLayer:{zIndex:2},playerLayer:{zIndex:3},webview:{backgroundColor:"transparent"},gifContainer:{width:"100%",overflow:"hidden"}});class km extends lt.PureComponent{videoPlayerRef=lt.createRef();isLoaded=!1;constructor(e){super(e)}componentDidUpdate(e){e.autoplay!==this.props.autoplay&&(this.props.autoplay?this.playAsync():this.pauseAsync())}static async prefetchAsync(e){}firePlayerStateChangeEvent=()=>{this.props.onPlayerStateChange?.({nativeEvent:{isPlaying:!this.videoPlayerRef.current?.paused,isLoaded:this.isLoaded}})};onLoad=()=>{this.isLoaded||(this.isLoaded=!0,this.firePlayerStateChangeEvent())};async playAsync(){this.videoPlayerRef.current?.play()}async pauseAsync(){this.videoPlayerRef.current?.pause()}async toggleAsync(){this.videoPlayerRef.current?.paused?await this.playAsync():await this.pauseAsync()}render(){return(0,bt.jsx)("video",{src:this.props.source,autoPlay:this.props.autoplay?"autoplay":void 0,preload:this.props.autoplay?"auto":void 0,playsInline:!0,loop:"loop",muted:"muted",style:Os.default.flatten(this.props.style),onCanPlay:this.onLoad,onPlay:this.firePlayerStateChangeEvent,onPause:this.firePlayerStateChangeEvent,"aria-label":this.props.accessibilityLabel,ref:this.videoPlayerRef})}}function Cm(e){const t=(0,n.c)(24),{onPress:s,isPlaying:o,isLoading:a,altText:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)();let c,d,u,m,h,p,f,g,x;return t[0]!==i||t[1]!==o?(c=i(o?{id:"yXjVig"}:{id:"Xdj7Ao"}),t[0]=i,t[1]=o,t[2]=c):c=t[2],t[3]!==i?(d=i({id:"HBvxx5"}),t[3]=i,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.absolute,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.inset_0,{zIndex:2}],t[5]=u):u=t[5],t[6]!==a||t[7]!==o?(m=a?(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center],children:(0,bt.jsx)(vn.default,{size:"large",color:"white"})}):o?(0,bt.jsx)(bt.Fragment,{}):(0,bt.jsx)(fm,{}),t[6]=a,t[7]=o,t[8]=m):m=t[8],t[9]!==s||t[10]!==c||t[11]!==d||t[12]!==m?(h=(0,bt.jsx)(ao.Button,{label:c,accessibilityHint:d,style:u,onPress:s,children:m}),t[9]=s,t[10]=c,t[11]=d,t[12]=m,t[13]=h):h=t[13],t[14]!==o||t[15]!==l?(p=!o&&(0,bt.jsx)(mm.Fill,{style:["light"===l.name?l.atoms.bg_contrast_975:l.atoms.bg,{opacity:.2,zIndex:1}]}),t[14]=o,t[15]=l,t[16]=p):p=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(Fs.default,{style:Am.gifBadgeContainer,children:(0,bt.jsx)(co.Text,{style:[{color:"white"},qs.atoms.font_bold,qs.atoms.text_xs],children:(0,bt.jsx)(dt.Trans,{id:"wRkP2d"})})}),t[17]=f):f=t[17],t[18]!==r?(g=r&&(0,bt.jsx)(Im,{text:r}),t[18]=r,t[19]=g):g=t[19],t[20]!==h||t[21]!==p||t[22]!==g?(x=(0,bt.jsxs)(bt.Fragment,{children:[h,p,f,g]}),t[20]=h,t[21]=p,t[22]=g,t[23]=x):x=t[23],x}function Im(e){const t=(0,n.c)(24),{text:s}=e,o=Zi.usePromptControl(),{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m,h,p,f,g;return t[0]!==a?(r=a({id:"bBlJ5F"}),t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[{color:"white"},qs.atoms.font_bold,qs.atoms.text_xs],t[2]=i):i=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(co.Text,{style:i,accessible:!1,children:(0,bt.jsx)(dt.Trans,{id:"u2HO/d"})}),t[3]=l):l=t[3],t[4]!==o.open||t[5]!==r?(c=(0,bt.jsx)(wn.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:r,accessibilityHint:"",hitSlop:Vt.HITSLOP_20,onPress:o.open,style:Am.altBadgeContainer,children:l}),t[4]=o.open,t[5]=r,t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(Zi.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"TEAx2g"})}),t[7]=d):d=t[7],t[8]!==s?(u=(0,bt.jsxs)(Zi.Content,{children:[d,(0,bt.jsx)(Zi.DescriptionText,{selectable:!0,children:s})]}),t[8]=s,t[9]=u):u=t[9],t[10]!==o?(m=()=>o.close(),t[10]=o,t[11]=m):m=t[11],t[12]!==a?(h=a({id:"yz7wBu"}),t[12]=a,t[13]=h):h=t[13],t[14]!==m||t[15]!==h?(p=(0,bt.jsx)(Zi.Actions,{children:(0,bt.jsx)(Zi.Action,{onPress:m,cta:h,color:"secondary"})}),t[14]=m,t[15]=h,t[16]=p):p=t[16],t[17]!==o||t[18]!==u||t[19]!==p?(f=(0,bt.jsxs)(Zi.Outer,{control:o,children:[u,p]}),t[17]=o,t[18]=u,t[19]=p,t[20]=f):f=t[20],t[21]!==f||t[22]!==c?(g=(0,bt.jsxs)(bt.Fragment,{children:[c,f]}),t[21]=f,t[22]=c,t[23]=g):g=t[23],g}const Am=Os.default.create({gifBadgeContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:4,paddingVertical:3,position:"absolute",left:6,bottom:6,zIndex:2},altBadgeContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:4,paddingVertical:3,position:"absolute",right:6,bottom:6,zIndex:2}});function Pm(e){const t=(0,n.c)(42),{params:s,thumb:o,altText:a,isPreferredAltText:r,hideAlt:i,style:l}=e;let c;t[0]!==l?(c=void 0===l?{width:"100%"}:l,t[0]=l,t[1]=c):c=t[1];const d=c,u=(0,qs.useTheme)(),{_:m}=(0,dt.useLingui)(),h=(0,Bt.useAutoplayDisabled)(),p=(0,lt.useRef)(null),f=!h;let g;t[2]!==f?(g={isPlaying:f,isLoaded:!1},t[2]=f,t[3]=g):g=t[3];const[x,_]=(0,lt.useState)(g);let y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{_(e.nativeEvent)},t[4]=y):y=t[4];const b=y;let j;t[5]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{p.current?.toggleAsync()},t[5]=j):j=t[5];const v=j;let S,w,T,k,C,I=1;if(s.dimensions){const e=s.dimensions.width/s.dimensions.height;let o;t[6]!==e?(o=Kr(e,.75,4),t[6]=e,t[7]=o):o=t[7],I=o}t[8]!==u.palette.black?(S={backgroundColor:u.palette.black},t[8]=u.palette.black,t[9]=S):S=t[9],t[10]!==I?(w={aspectRatio:I},t[10]=I,t[11]=w):w=t[11],t[12]!==d||t[13]!==S||t[14]!==w?(T=[qs.atoms.rounded_md,qs.atoms.overflow_hidden,S,w,d],t[12]=d,t[13]=S,t[14]=w,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.absolute,{top:-2,bottom:-2,left:-2,right:-2}],C=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[16]=k,t[17]=C):(k=t[16],C=t[17]);const A=!x.isLoaded,P=!i&&r?a:void 0;let E;t[18]!==x.isPlaying||t[19]!==A||t[20]!==P?(E=(0,bt.jsx)(Cm,{onPress:v,isPlaying:x.isPlaying,isLoading:A,altText:P}),t[18]=x.isPlaying,t[19]=A,t[20]=P,t[21]=E):E=t[21];const L=s.playerUri;let R;t[22]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_1],t[22]=R):R=t[22];const B=!h;let D,O,M,F,N;return t[23]!==m?(D=m({id:"vJs+vu"}),t[23]=m,t[24]=D):D=t[24],t[25]!==a||t[26]!==s.playerUri||t[27]!==B||t[28]!==D||t[29]!==o?(O=(0,bt.jsx)(km,{source:L,placeholderSource:o,style:R,autoplay:B,onPlayerStateChange:b,ref:p,accessibilityHint:D,accessibilityLabel:a}),t[25]=a,t[26]=s.playerUri,t[27]=B,t[28]=D,t[29]=o,t[30]=O):O=t[30],t[31]!==x.isPlaying||t[32]!==u.atoms||t[33]!==u.name?(M=!x.isPlaying&&(0,bt.jsx)(mm.Fill,{style:["light"===u.name?u.atoms.bg_contrast_975:u.atoms.bg,{opacity:.3}]}),t[31]=x.isPlaying,t[32]=u.atoms,t[33]=u.name,t[34]=M):M=t[34],t[35]!==E||t[36]!==O||t[37]!==M?(F=(0,bt.jsxs)(Fs.default,{style:k,children:[C,E,O,M]}),t[35]=E,t[36]=O,t[37]=M,t[38]=F):F=t[38],t[39]!==F||t[40]!==T?(N=(0,bt.jsx)(Fs.default,{style:T,children:F}),t[39]=F,t[40]=T,t[41]=N):N=t[41],N}const Em=e=>{const t=(0,n.c)(52),{link:s,onOpen:o,style:a,hideAlt:i}=e,{_:l}=(0,dt.useLingui)(),c=(0,qs.useTheme)(),d=(0,im.useHaptics)(),u=(0,Bt.useExternalEmbedsPrefs)(),m=s.uri;let h,p,f,g,x,_,y,b,j,v;if(t[0]!==l||t[1]!==u||t[2]!==i||t[3]!==s||t[4]!==o||t[5]!==d||t[6]!==a){b=Symbol.for("react.early_return_sentinel");{const e=(0,zt.toNiceDomain)(m);let n,c,j;g=s.thumb;{let e;t[15]!==s.uri?(e=(0,cm.parseEmbedPlayerFromUrl)(s.uri),t[15]=s.uri,t[16]=e):e=t[16];const o=e;o&&"hide"!==u?.[o.source]?n=o:n=void 0}if(p=n,f=Boolean(g||p),t[17]!==o||t[18]!==d?(c=()=>{d("Light"),o?.()},t[17]=o,t[18]=d,t[19]=c):c=t[19],x=c,t[20]!==s.uri||t[21]!==d?(j=()=>{s.uri&&r.IS_NATIVE&&(d("Heavy"),(0,lm.shareUrl)(s.uri))},t[20]=s.uri,t[21]=d,t[22]=j):j=t[22],_=j,"tenor"!==p?.source)h=io.Link,y=s.title||l({id:"YBWMQi",values:{niceUrl:e}});else{let e;t[23]!==s.description?(e=(0,rm.parseAltFromGIFDescription)(s.description),t[23]=s.description,t[24]=e):e=t[24];const o=e;let n,r;t[25]!==p||t[26]!==i||t[27]!==s.thumb||t[28]!==o.alt||t[29]!==o.isPreferred?(n=(0,bt.jsx)(Pm,{params:p,thumb:s.thumb,altText:o.alt,isPreferredAltText:o.isPreferred,hideAlt:i}),t[25]=p,t[26]=i,t[27]=s.thumb,t[28]=o.alt,t[29]=o.isPreferred,t[30]=n):n=t[30],t[31]!==a||t[32]!==n?(r=(0,bt.jsx)(Fs.default,{style:a,children:n}),t[31]=a,t[32]=n,t[33]=r):r=t[33],b=r}}t[0]=l,t[1]=u,t[2]=i,t[3]=s,t[4]=o,t[5]=d,t[6]=a,t[7]=h,t[8]=p,t[9]=f,t[10]=g,t[11]=x,t[12]=_,t[13]=y,t[14]=b}else h=t[7],p=t[8],f=t[9],g=t[10],x=t[11],_=t[12],y=t[13],b=t[14];return b!==Symbol.for("react.early_return_sentinel")?b:(t[34]!==p||t[35]!==f||t[36]!==g||t[37]!==s||t[38]!==a||t[39]!==c.atoms.border_contrast_high||t[40]!==c.atoms.border_contrast_low||t[41]!==c.atoms.text_contrast_high||t[42]!==c.atoms.text_contrast_low||t[43]!==c.atoms.text_contrast_medium?(j=e=>{const{hovered:t}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.transition_color,qs.atoms.flex_col,qs.atoms.rounded_md,qs.atoms.overflow_hidden,qs.atoms.w_full,qs.atoms.border,a,t?c.atoms.border_contrast_high:c.atoms.border_contrast_low],children:[g&&!p?(0,bt.jsx)(cn.Image,{style:[qs.atoms.aspect_card],source:{uri:g},accessibilityIgnoresInvertColors:!0,loading:"lazy"}):void 0,p?.isGif?(0,bt.jsx)(gm,{link:s,params:p}):p?(0,bt.jsx)(wm,{link:s,params:p}):void 0,(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.pt_sm,{gap:3},f&&qs.atoms.border_t,t?c.atoms.border_contrast_high:c.atoms.border_contrast_low],children:[(0,bt.jsxs)(Fs.default,{style:[{gap:3},qs.atoms.pb_xs,qs.atoms.px_md],children:[!p?.isGif&&!p?.dimensions&&(0,bt.jsx)(co.Text,{emoji:!0,numberOfLines:3,style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:s.title||s.uri}),s.description?(0,bt.jsx)(co.Text,{emoji:!0,numberOfLines:s.thumb?2:4,style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:s.description}):void 0]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.px_md],children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_2xs,qs.atoms.pb_sm,{paddingTop:6}],children:[(0,bt.jsx)(dm.Earth_Stroke2_Corner0_Rounded,{size:"xs",style:[qs.atoms.transition_color,t?c.atoms.text_contrast_medium:c.atoms.text_contrast_low]}),(0,bt.jsx)(co.Text,{numberOfLines:1,style:[qs.atoms.transition_color,qs.atoms.text_xs,qs.atoms.leading_snug,t?c.atoms.text_contrast_high:c.atoms.text_contrast_medium],children:(0,zt.toNiceDomain)(s.uri)})]})]})]})]})},t[34]=p,t[35]=f,t[36]=g,t[37]=s,t[38]=a,t[39]=c.atoms.border_contrast_high,t[40]=c.atoms.border_contrast_low,t[41]=c.atoms.text_contrast_high,t[42]=c.atoms.text_contrast_low,t[43]=c.atoms.text_contrast_medium,t[44]=j):j=t[44],t[45]!==h||t[46]!==s.uri||t[47]!==x||t[48]!==_||t[49]!==y||t[50]!==j?(v=(0,bt.jsx)(h,{label:y,to:s.uri,shouldProxy:!0,onPress:x,onLongPress:_,children:j}),t[45]=h,t[46]=s.uri,t[47]=x,t[48]=_,t[49]=y,t[50]=j,t[51]=v):v=t[51],v)};function Lm(e){const t=(0,n.c)(15),{embed:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c;return t[0]!==o.atoms.border_contrast_low?(a=[qs.atoms.border,o.atoms.border_contrast_low,qs.atoms.p_sm,qs.atoms.rounded_md],t[0]=o.atoms.border_contrast_low,t[1]=a):a=t[1],t[2]!==s.view.avatar?(r=(0,bt.jsx)(jl,{src:s.view.avatar,size:48}),t[2]=s.view.avatar,t[3]=r):r=t[3],t[4]!==s.view.creator||t[5]!==s.view.displayName||t[6]!==s.view.uri?(i=(0,bt.jsx)(Sl,{title:s.view.displayName,creator:s.view.creator,uri:s.view.uri}),t[4]=s.view.creator,t[5]=s.view.displayName,t[6]=s.view.uri,t[7]=i):i=t[7],t[8]!==r||t[9]!==i?(l=(0,bt.jsx)(yl,{children:(0,bt.jsxs)(bl,{children:[r,i]})}),t[8]=r,t[9]=i,t[10]=l):l=t[10],t[11]!==s.view||t[12]!==a||t[13]!==l?(c=(0,bt.jsx)(_l,{view:s.view,style:a,children:l}),t[11]=s.view,t[12]=a,t[13]=l,t[14]=c):c=t[14],c}function Rm({embed:e}){const t=(0,ds.useModerationOpts)(),s=(0,lt.useMemo)((()=>t?(0,Dn.moderateFeedGenerator)(e.view,t):void 0),[e.view,t]);return(0,bt.jsx)(qu,{modui:s?.ui("contentList"),childContainerStyle:[qs.atoms.pt_xs],children:(0,bt.jsx)(Lm,{embed:e})})}var Bm=s(55125),Dm=s(7209);const Om=(0,ti.createSinglePathSVG)({path:"M14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14ZM4 13a1 1 0 0 1 1 1v3.586l4.293-4.293a1 1 0 0 1 1.414 1.414L6.414 19H10a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1Z"}),Mm=(0,ti.createSinglePathSVG)({path:"M20.957 3.043a1 1 0 0 1 0 1.414L16.414 9H20a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v3.586l4.543-4.543a1 1 0 0 1 1.414 0ZM3 14a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-3.586l-4.543 4.543a1 1 0 0 1-1.414-1.414L7.586 15H4a1 1 0 0 1-1-1Z"});(0,ti.createSinglePathSVG)({path:"M13 4a1 1 0 0 1 1-1h5a2 2 0 0 1 2 2v5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14a1 1 0 0 1-1-1Zm-9 9a1 1 0 0 1 1 1v3.586l4.293-4.293a1 1 0 0 1 1.414 1.414L6.414 19H10a1 1 0 1 1 0 2H5a2 2 0 0 1-2-2v-5a1 1 0 0 1 1-1Z"}),(0,ti.createSinglePathSVG)({path:"M20.957 3.043a1 1 0 0 1 0 1.414L16.414 9H20a1 1 0 1 1 0 2h-5a2 2 0 0 1-2-2V4a1 1 0 1 1 2 0v3.586l4.543-4.543a1 1 0 0 1 1.414 0ZM3 14a1 1 0 0 1 1-1h5a2 2 0 0 1 2 2v5a1 1 0 1 1-2 0v-3.586l-4.543 4.543a1 1 0 0 1-1.414-1.414L7.586 15H4a1 1 0 0 1-1-1Z"});function Fm(e){const t=(0,n.c)(16),{aspectRatio:s,fullBleed:o,children:a,minMobileAspectRatio:i}=e,l=(0,qs.useTheme)(),c=100*(r.IS_NATIVE?Math.min(1/s,i??1.7777777777777777):Math.min(1/s,1))+"%";let d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.w_full],t[0]=d):d=t[0],t[1]!==c?(u=[qs.atoms.overflow_hidden,{paddingTop:c}],t[1]=c,t[2]=u):u=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.flex_row],t[3]=m):m=t[3],t[4]!==s||t[5]!==o?(h=o?qs.atoms.w_full:{aspectRatio:s},t[4]=s,t[5]=o,t[6]=h):h=t[6],t[7]!==l.atoms.bg_contrast_25||t[8]!==h?(p=[qs.atoms.h_full,qs.atoms.rounded_md,qs.atoms.overflow_hidden,l.atoms.bg_contrast_25,h],t[7]=l.atoms.bg_contrast_25,t[8]=h,t[9]=p):p=t[9],t[10]!==a||t[11]!==p?(f=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(Fs.default,{style:p,children:a})}),t[10]=a,t[11]=p,t[12]=f):f=t[12],t[13]!==u||t[14]!==f?(g=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(Fs.default,{style:u,children:f})}),t[13]=u,t[14]=f,t[15]=g):g=t[15],g}function Nm(e){const t=(0,n.c)(66),{image:s,crop:o,hideBadge:a,onPress:r,onLongPress:i,onPressIn:l}=e,c=void 0===o?"constrained":o,d=(0,qs.useTheme)(),{_:u}=(0,dt.useLingui)(),m=(0,Dm.useLargeAltBadgeEnabled)(),h=(0,yn.useAnimatedRef)(),p=(0,lt.useRef)(null);let f;const g=s.aspectRatio;let x,_,y;g&&(f=g.width/g.height,Number.isNaN(f)&&(f=void 0)),void 0!==f&&(x=Math.max(f,.5),_=Math.max(f,.25),y=f<x);const b="none"===c,j=y&&!b,v=void 0===f,S=!!s.alt;let w;t[0]===Symbol.for("react.memo_cache_sentinel")?(w={flex:1},t[0]=w):w=t[0];const T=v?"contain":"cover";let k,C,I,A,P,E;t[1]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.w_full,qs.atoms.h_full],t[1]=k):k=t[1],t[2]!==v?(C=e=>{v||(p.current={width:e.source.width,height:e.source.height})},t[2]=v,t[3]=C):C=t[3],t[4]!==s.alt||t[5]!==s.thumb||t[6]!==T||t[7]!==C?(I=(0,bt.jsx)(cn.Image,{contentFit:T,style:k,source:s.thumb,accessible:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:s.alt,accessibilityHint:"",onLoad:C,loading:"lazy"}),t[4]=s.alt,t[5]=s.thumb,t[6]=T,t[7]=C,t[8]=I):I=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[9]=A):A=t[9],t[10]!==S||t[11]!==a||t[12]!==j||t[13]!==m||t[14]!==d.atoms.bg_contrast_25||t[15]!==d.atoms.text_contrast_high?(P=!S&&!j||a?null:(0,bt.jsxs)(Fs.default,{accessible:!1,style:[qs.atoms.absolute,qs.atoms.flex_row,{bottom:qs.atoms.p_xs.padding,right:qs.atoms.p_xs.padding,gap:3},m&&[{gap:4}]],children:[j&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,d.atoms.bg_contrast_25,{padding:3,opacity:.8},m&&[{padding:5}]],children:(0,bt.jsx)(Om,{fill:d.atoms.text_contrast_high.color,width:m?18:12})}),S&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.justify_center,qs.atoms.rounded_xs,d.atoms.bg_contrast_25,{padding:3,opacity:.8},m&&[{padding:5}]],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,m?qs.atoms.text_xs:{fontSize:8}],children:"ALT"})})]}),t[10]=S,t[11]=a,t[12]=j,t[13]=m,t[14]=d.atoms.bg_contrast_25,t[15]=d.atoms.text_contrast_high,t[16]=P):P=t[16],t[17]!==h||t[18]!==I||t[19]!==P?(E=(0,bt.jsxs)(yn.default.View,{ref:h,collapsable:!1,style:w,children:[I,A,P]}),t[17]=h,t[18]=I,t[19]=P,t[20]=E):E=t[20];const L=E;if(b){let e;t[21]!==h||t[22]!==r?(e=()=>r?.(h,p.current),t[21]=h,t[22]=r,t[23]=e):e=t[23];const o=s.alt;let n,a,c;t[24]!==u?(n=u({id:"p117IV"}),t[24]=u,t[25]=n):n=t[25],t[26]!==d.atoms.bg.backgroundColor?(a=Wl.utils.alpha(d.atoms.bg.backgroundColor,.2),t[26]=d.atoms.bg.backgroundColor,t[27]=a):a=t[27],t[28]!==a?(c={color:a,foreground:!0},t[28]=a,t[29]=c):c=t[29];const m=_??1;let f,g,x;return t[30]!==m?(f={aspectRatio:m},t[30]=m,t[31]=f):f=t[31],t[32]!==d.atoms.bg_contrast_25||t[33]!==f?(g=[qs.atoms.w_full,qs.atoms.rounded_md,qs.atoms.overflow_hidden,d.atoms.bg_contrast_25,f],t[32]=d.atoms.bg_contrast_25,t[33]=f,t[34]=g):g=t[34],t[35]!==L||t[36]!==s.alt||t[37]!==i||t[38]!==l||t[39]!==e||t[40]!==n||t[41]!==c||t[42]!==g?(x=(0,bt.jsx)(ln.default,{onPress:e,onLongPress:i,onPressIn:l,accessibilityLabel:o,accessibilityHint:n,accessibilityRole:"button",android_ripple:c,style:g,children:L}),t[35]=L,t[36]=s.alt,t[37]=i,t[38]=l,t[39]=e,t[40]=n,t[41]=c,t[42]=g,t[43]=x):x=t[43],x}{const e="square"===c,o=x??1;let n;t[44]!==h||t[45]!==r?(n=()=>r?.(h,p.current),t[44]=h,t[45]=r,t[46]=n):n=t[46];const a=s.alt;let m,f,g,_,y,b;return t[47]!==u?(m=u({id:"p117IV"}),t[47]=u,t[48]=m):m=t[48],t[49]!==d.atoms.bg.backgroundColor?(f=Wl.utils.alpha(d.atoms.bg.backgroundColor,.2),t[49]=d.atoms.bg.backgroundColor,t[50]=f):f=t[50],t[51]!==f?(g={color:f,foreground:!0},t[51]=f,t[52]=g):g=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.h_full],t[53]=_):_=t[53],t[54]!==L||t[55]!==s.alt||t[56]!==i||t[57]!==l||t[58]!==n||t[59]!==m||t[60]!==g?(y=(0,bt.jsx)(ln.default,{onPress:n,onLongPress:i,onPressIn:l,accessibilityLabel:a,accessibilityHint:m,accessibilityRole:"button",android_ripple:g,style:_,children:L}),t[54]=L,t[55]=s.alt,t[56]=i,t[57]=l,t[58]=n,t[59]=m,t[60]=g,t[61]=y):y=t[61],t[62]!==e||t[63]!==o||t[64]!==y?(b=(0,bt.jsx)(Fm,{fullBleed:e,aspectRatio:o,children:y}),t[62]=e,t[63]=o,t[64]=y,t[65]=b):b=t[65],b}}let Hm=function(e){return e.ThreadHighlighted="ThreadHighlighted",e.Feed="Feed",e.FeedEmbedRecordWithMedia="FeedEmbedRecordWithMedia",e}({}),Vm=function(e){return e.FeedEmbedRecordWithMedia="FeedEmbedRecordWithMedia",e}({});function zm(e){const t=(0,n.c)(51),{images:s,index:o,imageStyle:a,onPress:r,onPressIn:i,onLongPress:l,viewContext:c,insetBorderStyle:d,containerRefs:u,thumbDimsRef:m}=e,h=(0,qs.useTheme)(),{_:p}=(0,dt.useLingui)(),f=(0,Dm.useLargeAltBadgeEnabled)(),g=s[o],x=!!g.alt,_=c===Hm.FeedEmbedRecordWithMedia,y=u[o];let b,j,v,S,w,T,k,C,I,A,P,E,L,R,B;return t[0]!==u||t[1]!==o||t[2]!==r||t[3]!==m?(b=r?()=>r(o,u,m.current.slice()):void 0,t[0]=u,t[1]=o,t[2]=r,t[3]=m,t[4]=b):b=t[4],t[5]!==o||t[6]!==i?(j=i?()=>i(o):void 0,t[5]=o,t[6]=i,t[7]=j):j=t[7],t[8]!==o||t[9]!==l?(v=l?()=>l(o):void 0,t[8]=o,t[9]=l,t[10]=v):v=t[10],t[11]!==h.atoms.bg.backgroundColor?(S=Wl.utils.alpha(h.atoms.bg.backgroundColor,.2),t[11]=h.atoms.bg.backgroundColor,t[12]=S):S=t[12],t[13]!==S?(w={color:S,foreground:!0},t[13]=S,t[14]=w):w=t[14],t[15]!==a||t[16]!==h.atoms.bg_contrast_25?(T=[qs.atoms.flex_1,qs.atoms.overflow_hidden,h.atoms.bg_contrast_25,a],t[15]=a,t[16]=h.atoms.bg_contrast_25,t[17]=T):T=t[17],t[18]!==p||t[19]!==g.alt?(k=g.alt||p({id:"hG89Ed"}),t[18]=p,t[19]=g.alt,t[20]=k):k=t[20],t[21]!==g.thumb?(C={uri:g.thumb},t[21]=g.thumb,t[22]=C):C=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.flex_1],t[23]=I):I=t[23],t[24]!==o||t[25]!==m?(A=e=>{m.current[o]={width:e.source.width,height:e.source.height}},t[24]=o,t[25]=m,t[26]=A):A=t[26],t[27]!==g.alt||t[28]!==A||t[29]!==C?(P=(0,bt.jsx)(cn.Image,{source:C,style:I,accessible:!0,accessibilityLabel:g.alt,accessibilityHint:"",accessibilityIgnoresInvertColors:!0,onLoad:A,loading:"lazy"}),t[27]=g.alt,t[28]=A,t[29]=C,t[30]=P):P=t[30],t[31]!==d?(E=(0,bt.jsx)(Mc.MediaInsetBorder,{style:d}),t[31]=d,t[32]=E):E=t[32],t[33]!==P||t[34]!==E||t[35]!==b||t[36]!==j||t[37]!==v||t[38]!==w||t[39]!==T||t[40]!==k?(L=(0,bt.jsxs)(ln.default,{onPress:b,onPressIn:j,onLongPress:v,android_ripple:w,style:T,accessibilityRole:"button",accessibilityLabel:k,accessibilityHint:"",children:[P,E]}),t[33]=P,t[34]=E,t[35]=b,t[36]=j,t[37]=v,t[38]=w,t[39]=T,t[40]=k,t[41]=L):L=t[41],t[42]!==x||t[43]!==_||t[44]!==f||t[45]!==h.atoms.bg_contrast_25?(R=x&&!_?(0,bt.jsx)(Fs.default,{accessible:!1,style:[qs.atoms.absolute,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_xs,h.atoms.bg_contrast_25,{gap:3,padding:3,bottom:qs.atoms.p_xs.padding,right:qs.atoms.p_xs.padding,opacity:.8},f&&[{gap:4,padding:5}]],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,f?qs.atoms.text_xs:{fontSize:8}],children:"ALT"})}):null,t[42]=x,t[43]=_,t[44]=f,t[45]=h.atoms.bg_contrast_25,t[46]=R):R=t[46],t[47]!==y||t[48]!==L||t[49]!==R?(B=(0,bt.jsxs)(Fs.default,{style:qs.atoms.flex_1,ref:y,collapsable:!1,children:[L,R]}),t[47]=y,t[48]=L,t[49]=R,t[50]=B):B=t[50],B}const Um=["style"];function Wm(e){const t=(0,n.c)(14);let s,o;if(t[0]!==e){var a=e;({style:o}=a),s=(0,ta.default)(a,Um),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const{gtMobile:r}=(0,qs.useBreakpoints)(),i=s.viewContext===Hm.FeedEmbedRecordWithMedia?r?qs.atoms.gap_xs:qs.atoms.gap_2xs:qs.atoms.gap_xs;let l,c,d,u;return t[3]!==i?(l=[i,qs.atoms.rounded_md,qs.atoms.overflow_hidden],t[3]=i,t[4]=l):l=t[4],t[5]!==i||t[6]!==s?(c=(0,bt.jsx)(Gm,Object.assign({},s,{gap:i})),t[5]=i,t[6]=s,t[7]=c):c=t[7],t[8]!==l||t[9]!==c?(d=(0,bt.jsx)(Fs.default,{style:l,children:c}),t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==o||t[12]!==d?(u=(0,bt.jsx)(Fs.default,{style:o,children:d}),t[11]=o,t[12]=d,t[13]=u):u=t[13],u}function Gm(e){const t=(0,n.c)(100),s=e.gap,o=e.images.length,a=(0,yn.useAnimatedRef)(),r=(0,yn.useAnimatedRef)(),i=(0,yn.useAnimatedRef)(),l=(0,yn.useAnimatedRef)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[0]=c):c=t[0];const d=(0,lt.useRef)(c);switch(o){case 2:{let o;t[1]!==a||t[2]!==r?(o=[a,r],t[1]=a,t[2]=r,t[3]=o):o=t[3];const n=o;let i,l,c,u,m,h,p,f;return t[4]!==s?(i=[qs.atoms.flex_1,qs.atoms.flex_row,s],t[4]=s,t[5]=i):i=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.flex_1,qs.atoms.aspect_square],t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=qm(["topRight","bottomRight"]),t[7]=c):c=t[7],t[8]!==n||t[9]!==e||t[10]!==c?(u=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsx)(zm,Object.assign({},e,{index:0,insetBorderStyle:c,containerRefs:n,thumbDimsRef:d}))}),t[8]=n,t[9]=e,t[10]=c,t[11]=u):u=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_1,qs.atoms.aspect_square],t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=qm(["topLeft","bottomLeft"]),t[13]=h):h=t[13],t[14]!==n||t[15]!==e||t[16]!==h?(p=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(zm,Object.assign({},e,{index:1,insetBorderStyle:h,containerRefs:n,thumbDimsRef:d}))}),t[14]=n,t[15]=e,t[16]=h,t[17]=p):p=t[17],t[18]!==i||t[19]!==u||t[20]!==p?(f=(0,bt.jsxs)(Fs.default,{style:i,children:[u,p]}),t[18]=i,t[19]=u,t[20]=p,t[21]=f):f=t[21],f}case 3:{let o;t[22]!==a||t[23]!==r||t[24]!==i?(o=[a,r,i],t[22]=a,t[23]=r,t[24]=i,t[25]=o):o=t[25];const n=o;let l,c,u,m,h,p,f,g,x,_,y,b,j;return t[26]!==s?(l=[qs.atoms.flex_1,qs.atoms.flex_row,s],t[26]=s,t[27]=l):l=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.flex_1,qs.atoms.aspect_square],t[28]=c):c=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(u=qm(["topRight","bottomRight"]),t[29]=u):u=t[29],t[30]!==n||t[31]!==e||t[32]!==u?(m=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsx)(zm,Object.assign({},e,{index:0,insetBorderStyle:u,containerRefs:n,thumbDimsRef:d}))}),t[30]=n,t[31]=e,t[32]=u,t[33]=m):m=t[33],t[34]!==s?(h=[qs.atoms.flex_1,qs.atoms.aspect_square,s],t[34]=s,t[35]=h):h=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1],t[36]=p):p=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(f=qm(["topLeft","bottomLeft","bottomRight"]),t[37]=f):f=t[37],t[38]!==n||t[39]!==e||t[40]!==f?(g=(0,bt.jsx)(Fs.default,{style:p,children:(0,bt.jsx)(zm,Object.assign({},e,{index:1,insetBorderStyle:f,containerRefs:n,thumbDimsRef:d}))}),t[38]=n,t[39]=e,t[40]=f,t[41]=g):g=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_1],t[42]=x):x=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(_=qm(["topLeft","bottomLeft","topRight"]),t[43]=_):_=t[43],t[44]!==n||t[45]!==e||t[46]!==_?(y=(0,bt.jsx)(Fs.default,{style:x,children:(0,bt.jsx)(zm,Object.assign({},e,{index:2,insetBorderStyle:_,containerRefs:n,thumbDimsRef:d}))}),t[44]=n,t[45]=e,t[46]=_,t[47]=y):y=t[47],t[48]!==y||t[49]!==h||t[50]!==g?(b=(0,bt.jsxs)(Fs.default,{style:h,children:[g,y]}),t[48]=y,t[49]=h,t[50]=g,t[51]=b):b=t[51],t[52]!==b||t[53]!==l||t[54]!==m?(j=(0,bt.jsxs)(Fs.default,{style:l,children:[m,b]}),t[52]=b,t[53]=l,t[54]=m,t[55]=j):j=t[55],j}case 4:{let o;t[56]!==a||t[57]!==r||t[58]!==i||t[59]!==l?(o=[a,r,i,l],t[56]=a,t[57]=r,t[58]=i,t[59]=l,t[60]=o):o=t[60];const n=o;let c,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k;return t[61]!==s?(c=[qs.atoms.flex_row,s],t[61]=s,t[62]=c):c=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_1,{aspectRatio:1.5}],t[63]=u):u=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(m=qm(["bottomLeft","topRight","bottomRight"]),t[64]=m):m=t[64],t[65]!==n||t[66]!==e||t[67]!==m?(h=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(zm,Object.assign({},e,{index:0,insetBorderStyle:m,containerRefs:n,thumbDimsRef:d}))}),t[65]=n,t[66]=e,t[67]=m,t[68]=h):h=t[68],t[69]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,{aspectRatio:1.5}],t[69]=p):p=t[69],t[70]===Symbol.for("react.memo_cache_sentinel")?(f=qm(["topLeft","bottomLeft","bottomRight"]),t[70]=f):f=t[70],t[71]!==n||t[72]!==e||t[73]!==f?(g=(0,bt.jsx)(Fs.default,{style:p,children:(0,bt.jsx)(zm,Object.assign({},e,{index:1,insetBorderStyle:f,containerRefs:n,thumbDimsRef:d}))}),t[71]=n,t[72]=e,t[73]=f,t[74]=g):g=t[74],t[75]!==c||t[76]!==h||t[77]!==g?(x=(0,bt.jsxs)(Fs.default,{style:c,children:[h,g]}),t[75]=c,t[76]=h,t[77]=g,t[78]=x):x=t[78],t[79]!==s?(_=[qs.atoms.flex_row,s],t[79]=s,t[80]=_):_=t[80],t[81]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1,{aspectRatio:1.5}],t[81]=y):y=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(b=qm(["topLeft","topRight","bottomRight"]),t[82]=b):b=t[82],t[83]!==n||t[84]!==e||t[85]!==b?(j=(0,bt.jsx)(Fs.default,{style:y,children:(0,bt.jsx)(zm,Object.assign({},e,{index:2,insetBorderStyle:b,containerRefs:n,thumbDimsRef:d}))}),t[83]=n,t[84]=e,t[85]=b,t[86]=j):j=t[86],t[87]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_1,{aspectRatio:1.5}],t[87]=v):v=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(S=qm(["topLeft","bottomLeft","topRight"]),t[88]=S):S=t[88],t[89]!==n||t[90]!==e||t[91]!==S?(w=(0,bt.jsx)(Fs.default,{style:v,children:(0,bt.jsx)(zm,Object.assign({},e,{index:3,insetBorderStyle:S,containerRefs:n,thumbDimsRef:d}))}),t[89]=n,t[90]=e,t[91]=S,t[92]=w):w=t[92],t[93]!==_||t[94]!==j||t[95]!==w?(T=(0,bt.jsxs)(Fs.default,{style:_,children:[j,w]}),t[93]=_,t[94]=j,t[95]=w,t[96]=T):T=t[96],t[97]!==T||t[98]!==x?(k=(0,bt.jsxs)(bt.Fragment,{children:[x,T]}),t[97]=T,t[98]=x,t[99]=k):k=t[99],k}default:return null}}function qm(e){const t=[];return e.includes("topLeft")&&t.push({borderTopLeftRadius:0}),e.includes("topRight")&&t.push({borderTopRightRadius:0}),e.includes("bottomLeft")&&t.push({borderBottomLeftRadius:0}),e.includes("bottomRight")&&t.push({borderBottomRightRadius:0}),t}const Qm=["embed"],Km={code:"function ImageEmbedTsx1(){const{refs,measure,runOnJS,_openLightbox,index_0,fetchedDims_0}=this.__closure;const rects=[];for(const r of refs){rects.push(measure(r));}runOnJS(_openLightbox)(index_0,rects,fetchedDims_0);}"};function Zm(e){const t=(0,n.c)(35);let s,o;if(t[0]!==e){var a=e;({embed:s}=a),o=(0,ta.default)(a,Qm),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const{openLightbox:r}=(0,Xt.useLightboxControls)(),{images:i}=s.view;if(i.length>0){let e;t[3]!==i?(e=i.map($m),t[3]=i,t[4]=e):e=t[4];const s=e;let n;if(t[5]!==s||t[6]!==r){const e=(e,t,o)=>{r({images:s.map(((e,s)=>Object.assign({},e,{thumbRect:t[s]??null,thumbDimensions:o[s]??null,type:"image"}))),index:e})};n=(t,s,o)=>{(0,yn.runOnUI)(function(){const n=function(){const n=[];for(const e of s)n.push((0,yn.measure)(e));(0,yn.runOnJS)(e)(t,n,o)};return n.__closure={refs:s,measure:yn.measure,runOnJS:yn.runOnJS,_openLightbox:e,index_0:t,fetchedDims_0:o},n.__workletHash=0xeeb9b57d86,n.__initData=Km,n}())()},t[5]=s,t[6]=r,t[7]=n}else n=t[7];const a=n;let l;t[8]!==s?(l=e=>{Bm.default.runAfterInteractions((()=>{cn.Image.prefetch(s.map(Ym),"memory")}))},t[8]=s,t[9]=l):l=t[9];const c=l;if(1===i.length){const e=i[0];let s;t[10]!==o.style?(s=[qs.atoms.mt_sm,o.style],t[10]=o.style,t[11]=s):s=t[11];const n=o.viewContext===Hm.ThreadHighlighted?"none":o.viewContext===Hm.FeedEmbedRecordWithMedia?"square":"constrained";let r,l;t[12]!==a?(r=(e,t)=>a(0,[e],[t]),t[12]=a,t[13]=r):r=t[13],t[14]!==c?(l=()=>c(0),t[14]=c,t[15]=l):l=t[15];const d=o.viewContext===Hm.FeedEmbedRecordWithMedia;let u,m;return t[16]!==e||t[17]!==n||t[18]!==r||t[19]!==l||t[20]!==d?(u=(0,bt.jsx)(Nm,{crop:n,image:e,onPress:r,onPressIn:l,hideBadge:d}),t[16]=e,t[17]=n,t[18]=r,t[19]=l,t[20]=d,t[21]=u):u=t[21],t[22]!==s||t[23]!==u?(m=(0,bt.jsx)(Fs.default,{style:s,children:u}),t[22]=s,t[23]=u,t[24]=m):m=t[24],m}let d,u,m;return t[25]!==o.style?(d=[qs.atoms.mt_sm,o.style],t[25]=o.style,t[26]=d):d=t[26],t[27]!==i||t[28]!==a||t[29]!==c||t[30]!==o.viewContext?(u=(0,bt.jsx)(Wm,{images:i,onPress:a,onPressIn:c,viewContext:o.viewContext}),t[27]=i,t[28]=a,t[29]=c,t[30]=o.viewContext,t[31]=u):u=t[31],t[32]!==d||t[33]!==u?(m=(0,bt.jsx)(Fs.default,{style:d,children:u}),t[32]=d,t[33]=u,t[34]=m):m=t[34],m}}function Ym(e){return e.uri}function $m(e){return{uri:e.fullsize,thumbUri:e.thumb,alt:e.alt,dimensions:e.aspectRatio??null}}const Xm=["view","children"],Jm="app.bsky.graph.defs#curatelist",eh="app.bsky.graph.defs#modlist";function th(e){const t=(0,n.c)(39),{view:s,showPinButton:o}=e,a=(0,ds.useModerationOpts)();let r,i,l,c,d,u,m,h,p,f,g,x,_,y,b,j;if(t[0]!==a||t[1]!==e||t[2]!==s){const o=a?(0,Dn.moderateUserList)(s,a):void 0;c=sh,f=e,l=yl,i=bl,t[13]!==s.avatar?(p=(0,bt.jsx)(jl,{src:s.avatar}),t[13]=s.avatar,t[14]=p):p=t[14],r=oh,d=s.name,u=s.creator,m=s.purpose,h=o?.ui("contentView"),t[0]=a,t[1]=e,t[2]=s,t[3]=r,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f}else r=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12];return t[15]!==r||t[16]!==d||t[17]!==u||t[18]!==m||t[19]!==h?(g=(0,bt.jsx)(r,{title:d,creator:u,purpose:m,modUi:h}),t[15]=r,t[16]=d,t[17]=u,t[18]=m,t[19]=h,t[20]=g):g=t[20],t[21]!==o||t[22]!==s?(x=o&&s.purpose===Jm&&(0,bt.jsx)(Cl,{view:s,pin:!0}),t[21]=o,t[22]=s,t[23]=x):x=t[23],t[24]!==i||t[25]!==p||t[26]!==g||t[27]!==x?(_=(0,bt.jsxs)(i,{children:[p,g,x]}),t[24]=i,t[25]=p,t[26]=g,t[27]=x,t[28]=_):_=t[28],t[29]!==s.description?(y=(0,bt.jsx)(Tl,{description:s.description}),t[29]=s.description,t[30]=y):y=t[30],t[31]!==l||t[32]!==_||t[33]!==y?(b=(0,bt.jsxs)(l,{children:[_,y]}),t[31]=l,t[32]=_,t[33]=y,t[34]=b):b=t[34],t[35]!==c||t[36]!==b||t[37]!==f?(j=(0,bt.jsx)(c,Object.assign({},f,{children:b})),t[35]=c,t[36]=b,t[37]=f,t[38]=j):j=t[38],j}function sh(e){const t=(0,n.c)(15);let s,o,a;if(t[0]!==e){var r=e;({view:a,children:s}=r),o=(0,ta.default)(r,Xm),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];const i=(0,On.useQueryClient)();let l;t[4]!==a?(l=function({list:e}){const t=new Dn.AtUri(e.uri);return`/profile/${e.creator.handle||e.creator.did}/lists/${t.rkey}`}({list:a}),t[4]=a,t[5]=l):l=t[5];const c=l;let d,u,m;return t[6]!==i||t[7]!==a?(d=()=>{Wr(i,a)},u=[a,i],t[6]=i,t[7]=a,t[8]=d,t[9]=u):(d=t[8],u=t[9]),lt.useEffect(d,u),t[10]!==s||t[11]!==c||t[12]!==o||t[13]!==a.name?(m=(0,bt.jsx)(io.Link,Object.assign({label:a.name,to:c},o,{children:s})),t[10]=s,t[11]=c,t[12]=o,t[13]=a.name,t[14]=m):m=t[14],m}function oh(e){const t=(0,n.c)(19),{title:s,creator:o,purpose:a,modUi:r}=e,i=void 0===a?Jm:a,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)(),{currentAccount:d}=(0,Gt.useSession)();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_1],t[0]=u):u=t[0];const m=o&&d?.did===o.did,h=o&&d?.did===o.did;let p,f,g,x,_,y,b;return t[1]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug,qs.atoms.italic],t[1]=p):p=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(Gc,{children:(0,bt.jsx)(co.Text,{style:p,numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"ould6f"})})}),t[2]=f):f=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[3]=g):g=t[3],t[4]!==s?(x=(0,bt.jsx)(Wc,{children:(0,bt.jsx)(co.Text,{emoji:!0,style:g,numberOfLines:1,children:s})}),t[4]=s,t[5]=x):x=t[5],t[6]!==r||t[7]!==m||t[8]!==h||t[9]!==x?(_=(0,bt.jsxs)(zc,{modui:r,isContentVisibleInitialState:m,allowOverride:h,children:[f,x]}),t[6]=r,t[7]=m,t[8]=h,t[9]=x,t[10]=_):_=t[10],t[11]!==c||t[12]!==o||t[13]!==i||t[14]!==l?(y=o&&(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.leading_snug,l.atoms.text_contrast_medium],numberOfLines:1,children:c(i===eh?{id:"h+3Tua",values:{0:(0,Fa.sanitizeHandle)(o.handle,"@")}}:{id:"munnPn",values:{0:(0,Fa.sanitizeHandle)(o.handle,"@")}})}),t[11]=c,t[12]=o,t[13]=i,t[14]=l,t[15]=y):y=t[15],t[16]!==y||t[17]!==_?(b=(0,bt.jsxs)(Fs.default,{style:u,children:[_,y]}),t[16]=y,t[17]=_,t[18]=b):b=t[18],b}function nh(e){const t=(0,n.c)(5),{embed:s}=e,o=(0,qs.useTheme)();let a,r;return t[0]!==o.atoms.border_contrast_low?(a=[qs.atoms.border,o.atoms.border_contrast_low,qs.atoms.p_md,qs.atoms.rounded_sm],t[0]=o.atoms.border_contrast_low,t[1]=a):a=t[1],t[2]!==s.view||t[3]!==a?(r=(0,bt.jsx)(th,{view:s.view,style:a}),t[2]=s.view,t[3]=a,t[4]=r):r=t[4],r}function ah({embed:e}){const t=(0,ds.useModerationOpts)(),s=(0,lt.useMemo)((()=>t?(0,Dn.moderateUserList)(e.view,t):void 0),[e.view,t]);return(0,bt.jsx)(qu,{modui:s?.ui("contentList"),childContainerStyle:[qs.atoms.pt_xs],children:(0,bt.jsx)(nh,{embed:e})})}function rh(e){const t=(0,n.c)(11),{children:s}=e,o=(0,qs.useTheme)(),a=(0,bn.usePalette)("default");let r,i,l,c;return t[0]!==o.atoms.border_contrast_low?(r=[ih.errorContainer,qs.atoms.border,o.atoms.border_contrast_low],t[0]=o.atoms.border_contrast_low,t[1]=r):r=t[1],t[2]!==a.text?(i=(0,bt.jsx)(ku,{size:18,style:a.text}),t[2]=a.text,t[3]=i):i=t[3],t[4]!==s||t[5]!==a.text?(l=(0,bt.jsx)(ua.Text,{type:"lg",style:a.text,children:s}),t[4]=s,t[5]=a.text,t[6]=l):l=t[6],t[7]!==r||t[8]!==i||t[9]!==l?(c=(0,bt.jsxs)(Fs.default,{style:r,children:[i,l]}),t[7]=r,t[8]=i,t[9]=l,t[10]=c):c=t[10],c}const ih=Os.default.create({errorContainer:{flexDirection:"row",alignItems:"center",gap:4,borderRadius:8,marginTop:8,paddingVertical:14,paddingHorizontal:14,borderWidth:Os.default.hairlineWidth}});function lh(e){const t=(0,n.c)(35),{title:s,message:o,details:a,onPressTryAgain:r,testID:i,showHeader:l}=e,c=(0,qs.useTheme)(),d=(0,bn.usePalette)("default"),{_:u}=(0,dt.useLingui)();let m,h,p,f,g;t[0]!==l?(m=l&&(0,bt.jsxs)(ya.Header.Outer,{children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"SlfejT"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[0]=l,t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.px_xl,qs.atoms.py_2xl],t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.mb_md,qs.atoms.align_center],t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f={width:50,height:50},t[4]=f):f=t[4],t[5]!==c.palette.contrast_950?(g=[qs.atoms.rounded_full,f,qs.atoms.align_center,qs.atoms.justify_center,{backgroundColor:c.palette.contrast_950}],t[5]=c.palette.contrast_950,t[6]=g):g=t[6];const x=d.textInverted;let _,y,b,j,v,S,w,T,k,C;return t[7]!==x?(_=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"exclamation",style:x,size:24}),t[7]=x,t[8]=_):_=t[8],t[9]!==g||t[10]!==_?(y=(0,bt.jsx)(Fs.default,{style:p,children:(0,bt.jsx)(Fs.default,{style:g,children:_})}),t[9]=g,t[10]=_,t[11]=y):y=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.text_center,qs.atoms.font_bold,qs.atoms.text_2xl,qs.atoms.mb_md],t[12]=b):b=t[12],t[13]!==s?(j=(0,bt.jsx)(co.Text,{style:b,children:s}),t[13]=s,t[14]=j):j=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.text_center,qs.atoms.text_md,qs.atoms.mb_xl],t[15]=v):v=t[15],t[16]!==o?(S=(0,bt.jsx)(co.Text,{style:v,children:o}),t[16]=o,t[17]=S):S=t[17],t[18]!==a||t[19]!==c.atoms||t[20]!==i?(w=a&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.border,c.atoms.border_contrast_medium,c.atoms.bg_contrast_25,qs.atoms.mb_xl,qs.atoms.py_sm,qs.atoms.px_lg,qs.atoms.rounded_xs,qs.atoms.overflow_hidden],children:(0,bt.jsx)(co.Text,{testID:`${i}-details`,style:[qs.atoms.text_center,qs.atoms.text_md,c.atoms.text_contrast_high],children:a})}),t[18]=a,t[19]=c.atoms,t[20]=i,t[21]=w):w=t[21],t[22]!==u||t[23]!==r?(T=r&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center],children:(0,bt.jsxs)(ao.Button,{testID:"errorScreenTryAgainButton",onPress:r,variant:"solid",color:"secondary_inverted",size:"small",label:u({id:"6gRgw8"}),accessibilityHint:u({id:"EBzg6u"}),children:[(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"EzJZ6f"})})]})}),t[22]=u,t[23]=r,t[24]=T):T=t[24],t[25]!==j||t[26]!==S||t[27]!==w||t[28]!==T||t[29]!==y?(k=(0,bt.jsxs)(Fs.default,{style:h,children:[y,j,S,w,T]}),t[25]=j,t[26]=S,t[27]=w,t[28]=T,t[29]=y,t[30]=k):k=t[30],t[31]!==m||t[32]!==k||t[33]!==i?(C=(0,bt.jsxs)(ya.Center,{testID:i,children:[m,k]}),t[31]=m,t[32]=k,t[33]=i,t[34]=C):C=t[34],C}class ch extends lt.Component{state={hasError:!1,error:void 0};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){Mt.logger.error(e,{errorInfo:t})}render(){return this.state.hasError?this.props.renderError?this.props.renderError(this.state.error):(0,bt.jsx)(Sa,{style:[{height:"100%",flex:1},this.props.style],children:(0,bt.jsx)(dh,{details:this.state.error.toString()})}):this.props.children}}function dh(e){const t=(0,n.c)(8),{details:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i;return t[0]!==o?(a=o({id:"5GGAqz"}),t[0]=o,t[1]=a):a=t[1],t[2]!==o?(r=o({id:"yUqcy2"}),t[2]=o,t[3]=r):r=t[3],t[4]!==s||t[5]!==a||t[6]!==r?(i=(0,bt.jsx)(lh,{title:a,message:r,details:s}),t[4]=s,t[5]=a,t[6]=r,t[7]=i):i=t[7],i}const uh=lt.createContext(!1);function mh(e){const t=(0,n.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)(uh.Provider,{value:!0,children:s}),t[0]=s,t[1]=o):o=t[1],o}function hh(){return lt.useContext(uh)}function ph(e){return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}function fh(e){const t=(0,n.c)(10);if(!r.IS_WEB)throw new Error("'useFullscreen' is a web-only hook");const s=(0,lt.useSyncExternalStore)(ph,gh),o=(0,lt.useRef)(null),[a,i]=(0,lt.useState)(s);let l;t[0]!==s||t[1]!==e?(l=()=>{if(s)document.exitFullscreen();else{if(!e)throw new Error("No ref provided");if(!e.current)return;o.current=window.scrollY,e.current.requestFullscreen()}},t[0]=s,t[1]=e,t[2]=l):l=t[2];const c=l;let d,u,m;return t[3]!==s||t[4]!==a?(d=()=>{a!==s&&(i(s),!a||r.IS_WEB_FIREFOX||r.IS_WEB_SAFARI||setTimeout((()=>{null!==o.current&&(window.scrollTo(0,o.current),o.current=null)}),100))},u=[s,a],t[3]=s,t[4]=a,t[5]=d,t[6]=u):(d=t[5],u=t[6]),(0,lt.useEffect)(d,u),t[7]!==s||t[8]!==c?(m=[s,c],t[7]=s,t[8]=c,t[9]=m):m=t[9],m}function gh(){return Boolean(document.fullscreenElement)}let xh;uh.displayName="MessageContext";const _h=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm2 1v14h14V5H5Zm10.957 6.293a1 1 0 1 0 0 1.414 1 1 0 0 1 1.414 1.414 3 3 0 1 1 0-4.242 1 1 0 0 1-1.414 1.414Zm-6.331-.22a1 1 0 1 0 .331 1.634 1 1 0 0 1 1.414 1.414 3 3 0 1 1 0-4.242 1 1 0 0 1-1.414 1.414.994.994 0 0 0-.331-.22Z"}),yh=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm11.543 7.293a1 1 0 0 1 1.414 0 1 1 0 0 0 1.414-1.414 3 3 0 1 0 0 4.242 1 1 0 0 0-1.414-1.414 1 1 0 0 1-1.414-1.414Zm-6 0a1 1 0 0 1 1.414 0 1 1 0 0 0 1.414-1.414 3 3 0 1 0 0 4.243 1 1 0 0 0-1.414-1.415 1 1 0 0 1-1.414-1.414Z"}),bh=((0,ti.createSinglePathSVG)({path:"M4 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm2 1v14h2V5H6Zm8-1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V4Zm2 1v14h2V5h-2Z"}),(0,ti.createSinglePathSVG)({path:"M4 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4ZM14 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V4Z"}));(0,ti.createSinglePathSVG)({path:"M4 6a3 3 0 0 1 6 0v12a3 3 0 1 1-6 0V6Zm3-1a1 1 0 0 0-1 1v12a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1Zm7 1a3 3 0 1 1 6 0v12a3 3 0 1 1-6 0V6Zm3-1a1 1 0 0 0-1 1v12a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1Z"}),(0,ti.createSinglePathSVG)({path:"M4 6a3 3 0 0 1 6 0v12a3 3 0 1 1-6 0V6ZM14 6a3 3 0 1 1 6 0v12a3 3 0 1 1-6 0V6Z"});function jh(e){const t=(0,n.c)(19),{time:s,style:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)();if(isNaN(s))return null;const i=Math.floor(s/60),l=String(s%60).padStart(2,"0"),c=Number(s)||0;let d,u,m,h,p,f,g;t[0]!==r||t[1]!==c?(d=r({id:"Brqi8s",values:{0:c}}),t[0]=r,t[1]=c,t[2]=d):d=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u={backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:6,paddingHorizontal:6,paddingVertical:3,left:6,bottom:6,minHeight:21},t[3]=u):u=t[3],t[4]!==o?(m=[u,qs.atoms.absolute,qs.atoms.justify_center,o],t[4]=o,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=["tabular-nums"],t[6]=h):h=t[6],t[7]!==a.palette.white?(p={color:a.palette.white,fontSize:12,fontVariant:h},t[7]=a.palette.white,t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f={lineHeight:1.25},t[9]=f):f=t[9],t[10]!==p?(g=[p,qs.atoms.font_semi_bold,f],t[10]=p,t[11]=g):g=t[11];const x=`${i}:${l}`;let _,y;return t[12]!==g||t[13]!==x?(_=(0,bt.jsx)(co.Text,{style:g,children:x}),t[12]=g,t[13]=x,t[14]=_):_=t[14],t[15]!==_||t[16]!==d||t[17]!==m?(y=(0,bt.jsx)(Fs.default,{pointerEvents:"none",accessibilityLabel:d,accessibilityHint:"",style:m,children:_}),t[15]=_,t[16]=d,t[17]=m,t[18]=y):y=t[18],y}function vh(e){const t=(0,n.c)(11),{active:s,activeLabel:o,inactiveLabel:a,activeIcon:r,inactiveIcon:i,onPress:l}=e,c=(0,qs.useTheme)(),d=s?o:a;let u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.p_xs,qs.atoms.rounded_full,(0,qs.web)({transition:"background-color 0.1s"})],m={backgroundColor:"rgba(255, 255, 255, 0.2)"},t[0]=u,t[1]=m):(u=t[0],m=t[1]),t[2]!==r||t[3]!==i||t[4]!==s||t[5]!==c.palette.white?(h=s?(0,bt.jsx)(r,{fill:c.palette.white,width:20,"aria-hidden":!0}):(0,bt.jsx)(i,{fill:c.palette.white,width:20,"aria-hidden":!0}),t[2]=r,t[3]=i,t[4]=s,t[5]=c.palette.white,t[6]=h):h=t[6],t[7]!==l||t[8]!==d||t[9]!==h?(p=(0,bt.jsx)(da,{accessibilityRole:"button",accessibilityLabel:d,accessibilityHint:"",onPress:l,style:u,hoverStyle:m,children:h}),t[7]=l,t[8]=d,t[9]=h,t[10]=p):p=t[10],p}const Sh=lt.createContext(null);function wh(e){const t=(0,n.c)(6),{children:s}=e,[o,a]=lt.useState(!0),[r,i]=lt.useState(1);let l;t[0]!==o||t[1]!==r?(l={muted:o,setMuted:a,volume:r,setVolume:i},t[0]=o,t[1]=r,t[2]=l):l=t[2];const c=l;let d;return t[3]!==s||t[4]!==c?(d=(0,bt.jsx)(Sh.Provider,{value:c,children:s}),t[3]=s,t[4]=c,t[5]=d):d=t[5],d}function Th(){const e=(0,n.c)(3),t=lt.useContext(Sh);if(!t)throw new Error("useVideoVolumeState must be used within a VideoVolumeProvider");let s;return e[0]!==t.setVolume||e[1]!==t.volume?(s=[t.volume,t.setVolume],e[0]=t.setVolume,e[1]=t.volume,e[2]=s):s=e[2],s}function kh(e){e.message?.includes("The play() request was interrupted by a call to pause()")||Mt.logger.error("Error playing video:",{message:e})}function Ch(e){if(isNaN(e))return"--";e=Math.round(e);return`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`}function Ih(e){const t=(0,n.c)(74),{duration:s,currentTime:o,onSeek:a,onSeekEnd:i,onSeekStart:l,seekLeft:c,seekRight:d,togglePlayPause:u,drawFocus:m}=e,{_:h}=(0,dt.useLingui)(),p=(0,qs.useTheme)(),[f,g]=(0,lt.useState)(!1),{state:x,onIn:_,onOut:y}=(0,la.useInteractionState)(),{state:b,onIn:j,onOut:v}=(0,la.useInteractionState)(),[S,w]=(0,lt.useState)(0),T=(0,lt.useRef)(!1),k=(0,lt.useRef)(null),C=(0,lt.useRef)(null);let I;t[0]!==s||t[1]!==a?(I=e=>{if(!k.current)return;const{left:t,width:o}=k.current.getBoundingClientRect(),n=Kr((e.clientX-t)/o,0,1)*s;a(n),w(n)},t[0]=s,t[1]=a,t[2]=I):I=t[2];const A=I;let P;t[3]!==l||t[4]!==A?(P=e=>{const t=e.target;t instanceof Element&&(e.preventDefault(),t.setPointerCapture(e.pointerId),T.current=!0,A(e),g(!0),l())},t[3]=l,t[4]=A,t[5]=P):P=t[5];const E=P;let L;t[6]!==A?(L=e=>{T.current&&(e.preventDefault(),A(e))},t[6]=A,t[7]=L):L=t[7];const R=L;let B;t[8]!==i?(B=e=>{const t=e.target;T.current&&t instanceof Element&&(e.preventDefault(),t.releasePointerCapture(e.pointerId),T.current=!1,i(),g(!1))},t[8]=i,t[9]=B):B=t[9];const D=B;let O,M,F,N;t[10]!==f?(O=()=>{if(r.IS_WEB_FIREFOX&&f)return document.body.classList.add("force-no-clicks"),Ah},t[10]=f,t[11]=O):O=t[11],t[12]!==i||t[13]!==f?(M=[f,i],t[12]=i,t[13]=f,t[14]=M):M=t[14],(0,lt.useEffect)(O,M),t[15]!==m||t[16]!==b||t[17]!==c||t[18]!==d||t[19]!==u?(F=()=>{if(C.current&&b){const e=new AbortController,{signal:t}=e;return C.current.addEventListener("keydown",(e=>{" "===e.key?(e.preventDefault(),m(),u()):"ArrowLeft"===e.key?(e.preventDefault(),m(),c()):"ArrowRight"===e.key&&(e.preventDefault(),m(),d())}),{signal:t}),()=>e.abort()}},N=[b,c,d,u,m],t[15]=m,t[16]=b,t[17]=c,t[18]=d,t[19]=u,t[20]=F,t[21]=N):(F=t[20],N=t[21]),(0,lt.useEffect)(F,N);const H=(f?S:o)/s*100;if(s<3)return null;let V;t[22]===Symbol.for("react.memo_cache_sentinel")?(V=[{height:r.IS_WEB_TOUCH_DEVICE?32:18,width:"100%"},qs.atoms.flex_shrink_0,qs.atoms.px_xs],t[22]=V):V=t[22];const z=f?"grabbing":"grab";let U,W;t[23]!==z?(U={flex:1,display:"flex",alignItems:"center",position:"relative",cursor:z,padding:"4px 0"},t[23]=z,t[24]=U):U=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(W={backgroundColor:"rgba(255, 255, 255, 0.4)"},t[25]=W):W=t[25];const G=x||f?6:3;let q,Q,K,Z,Y,$,X;t[26]!==G?(q={height:G},t[26]=G,t[27]=q):q=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,qs.web)({transition:"height 0.1s ease"}),t[28]=Q):Q=t[28],t[29]!==q||t[30]!==Q?(K=[qs.atoms.w_full,qs.atoms.rounded_full,qs.atoms.overflow_hidden,W,q,Q],t[29]=q,t[30]=Q,t[31]=K):K=t[31],t[32]!==s||t[33]!==H||t[34]!==p.palette.white?(Z=s>0&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.h_full,{backgroundColor:p.palette.white},{width:`${H}%`}]}),t[32]=s,t[33]=H,t[34]=p.palette.white,t[35]=Z):Z=t[35],t[36]!==K||t[37]!==Z?(Y=(0,bt.jsx)(Fs.default,{style:K,children:Z}),t[36]=K,t[37]=Z,t[38]=Y):Y=t[38],t[39]!==h?($=h({id:"ufWi5/"}),t[39]=h,t[40]=$):$=t[40],t[41]!==h||t[42]!==o||t[43]!==s?(X=h({id:"FGOUAP",values:{0:Ch(o),1:Ch(s)}}),t[41]=h,t[42]=o,t[43]=s,t[44]=X):X=t[44];const J=`calc(${H}% - 8px)`;let ee,te;t[45]!==J?(ee={position:"absolute",height:16,width:16,left:J,borderRadius:8,pointerEvents:"none"},t[45]=J,t[46]=ee):ee=t[46],t[47]!==p.palette.white?(te={backgroundColor:p.palette.white},t[47]=p.palette.white,t[48]=te):te=t[48];const se=x||f||b?f?1:.6:0;let oe,ne,ae,re,ie;return t[49]!==se?(oe={transform:[{scale:se}]},t[49]=se,t[50]=oe):oe=t[50],t[51]!==te||t[52]!==oe?(ne=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.h_full,qs.atoms.rounded_full,te,oe]}),t[51]=te,t[52]=oe,t[53]=ne):ne=t[53],t[54]!==o||t[55]!==s||t[56]!==v||t[57]!==j||t[58]!==$||t[59]!==X||t[60]!==ee||t[61]!==ne?(ae=(0,bt.jsx)("div",{ref:C,"aria-label":$,role:"slider","aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":o,"aria-valuetext":X,tabIndex:0,onFocus:j,onBlur:v,style:ee,children:ne}),t[54]=o,t[55]=s,t[56]=v,t[57]=j,t[58]=$,t[59]=X,t[60]=ee,t[61]=ne,t[62]=ae):ae=t[62],t[63]!==E||t[64]!==R||t[65]!==D||t[66]!==U||t[67]!==Y||t[68]!==ae?(re=(0,bt.jsxs)("div",{ref:k,style:U,onPointerDown:E,onPointerMove:R,onPointerUp:D,onPointerCancel:D,children:[Y,ae]}),t[63]=E,t[64]=R,t[65]=D,t[66]=U,t[67]=Y,t[68]=ae,t[69]=re):re=t[69],t[70]!==y||t[71]!==_||t[72]!==re?(ie=(0,bt.jsx)(Fs.default,{testID:"scrubber",style:V,onPointerEnter:_,onPointerLeave:y,children:re}),t[70]=y,t[71]=_,t[72]=re,t[73]=ie):ie=t[73],ie}function Ah(){document.body.classList.remove("force-no-clicks")}Sh.displayName="VideoVolumeContext";var Ph=s(66087);const Eh=(0,ti.createSinglePathSVG)({path:"M12.472 3.118A1 1 0 0 1 13 4v16a1 1 0 0 1-1.555.832L5.697 17H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3.697l5.748-3.832a1 1 0 0 1 1.027-.05ZM11 5.868 6.555 8.833A1 1 0 0 1 6 9H3v6h3a1 1 0 0 1 .555.168L11 18.131V5.87Zm7.364-1.645a1 1 0 0 1 1.414 0A10.969 10.969 0 0 1 23 12c0 3.037-1.232 5.788-3.222 7.778a1 1 0 1 1-1.414-1.414A8.969 8.969 0 0 0 21 12a8.969 8.969 0 0 0-2.636-6.364 1 1 0 0 1 0-1.414Zm-3.182 3.181a1 1 0 0 1 1.414 0A6.483 6.483 0 0 1 18.5 12a6.483 6.483 0 0 1-1.904 4.597 1 1 0 0 1-1.414-1.415A4.483 4.483 0 0 0 16.5 12a4.483 4.483 0 0 0-1.318-3.182 1 1 0 0 1 0-1.414Z"});function Lh(e){const t=(0,n.c)(32),{muted:s,changeMuted:o,hovered:a,onHover:i,onEndHover:l,drawFocus:c}=e,{_:d}=(0,dt.useLingui)(),[u,m]=Th();let h;t[0]!==o||t[1]!==c||t[2]!==m?(h=e=>{c();const t=(s=Number(e.target.value),Math.pow(s/100,4));var s;m(t),o(0===t)},t[0]=o,t[1]=c,t[2]=m,t[3]=h):h=t[3];const p=h;let f;var g;t[4]!==s||t[5]!==u?(f=s?0:(g=u,Math.round(100*Math.pow(g,1/4))),t[4]=s,t[5]=u,t[6]=f):f=t[6];const x=f,_=0===u;let y;t[7]!==o||t[8]!==c||t[9]!==_||t[10]!==m?(y=()=>{c(),_?(m(1),o(!1)):o(Rh)},t[7]=o,t[8]=c,t[9]=_,t[10]=m,t[11]=y):y=t[11];const b=y;let j,v;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.relative],t[12]=j):j=t[12],t[13]!==d||t[14]!==a||t[15]!==p||t[16]!==x?(v=a&&!r.IS_WEB_TOUCH_DEVICE&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn.duration(100),exiting:yn.FadeOut.duration(100),style:[qs.atoms.absolute,qs.atoms.w_full,{height:100,bottom:"100%"}],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.mb_xs,qs.atoms.px_2xs,qs.atoms.py_xs,{backgroundColor:"rgba(0, 0, 0, 0.6)"},qs.atoms.rounded_xs,qs.atoms.align_center],children:(0,bt.jsx)("input",{type:"range",min:0,max:100,value:x,"aria-label":d({id:"/cF7Rs"}),style:r.IS_WEB_SAFARI?{height:92,minHeight:"100%"}:{height:"100%"},onChange:p,orient:"vertical"})})}),t[13]=d,t[14]=a,t[15]=p,t[16]=x,t[17]=v):v=t[17];const S=s||0===u;let w,T,k,C;return t[18]!==d?(w=d({id:"bIW6kV"}),t[18]=d,t[19]=w):w=t[19],t[20]!==d?(T=d({id:"2/ig/T"}),t[20]=d,t[21]=T):T=t[21],t[22]!==b||t[23]!==S||t[24]!==w||t[25]!==T?(k=(0,bt.jsx)(vh,{active:S,activeLabel:w,inactiveLabel:T,activeIcon:Ph.Mute_Stroke2_Corner0_Rounded,inactiveIcon:Eh,onPress:b}),t[22]=b,t[23]=S,t[24]=w,t[25]=T,t[26]=k):k=t[26],t[27]!==l||t[28]!==i||t[29]!==v||t[30]!==k?(C=(0,bt.jsxs)(Fs.default,{onPointerEnter:i,onPointerLeave:l,style:j,children:[v,k]}),t[27]=l,t[28]=i,t[29]=v,t[30]=k,t[31]=C):C=t[31],C}function Rh(e){return!e}function Bh(e){const t=(0,n.c)(171),{videoRef:s,hlsRef:o,active:a,setActive:i,focused:l,setFocused:c,onScreen:d,fullscreenRef:u,hlsLoading:m,hasSubtitleTrack:h,isGif:p,altText:f}=e,{play:g,pause:x,playing:_,muted:y,changeMuted:b,togglePlayPause:j,currentTime:v,duration:S,buffering:w,error:T,canPlay:k}=function(e){const t=(0,n.c)(30),[s,o]=(0,lt.useState)(!1),[a,i]=(0,lt.useState)(!0),[l,c]=(0,lt.useState)(0),[d,u]=Th(),[m,h]=(0,lt.useState)(0),[p,f]=(0,lt.useState)(!1),[g,x]=(0,lt.useState)(!1),[_,y]=(0,lt.useState)(!1),b=(0,lt.useRef)(!1);let j,v,S,w,T;t[0]!==e||t[1]!==d?(j=()=>{e.current&&(e.current.volume=d)},v=[e,d],t[0]=e,t[1]=d,t[2]=j,t[3]=v):(j=t[2],v=t[3]),(0,lt.useEffect)(j,v),t[4]!==e||t[5]!==u?(S=()=>{if(!e.current)return;let t;const s=function(e){return Math.round(100*e)/100};c(s(e.current.currentTime)||0),h(s(e.current.duration)||0),i(e.current.muted),o(!e.current.paused),u(e.current.volume);const n=new AbortController;return e.current.addEventListener("timeupdate",(()=>{e.current&&(c(s(e.current.currentTime)||0),r.IS_WEB_SAFARI&&(t&&clearTimeout(t),f(!1)))}),{signal:n.signal}),e.current.addEventListener("durationchange",(()=>{e.current&&h(s(e.current.duration)||0)}),{signal:n.signal}),e.current.addEventListener("play",(()=>{o(!0)}),{signal:n.signal}),e.current.addEventListener("pause",(()=>{o(!1)}),{signal:n.signal}),e.current.addEventListener("volumechange",(()=>{e.current&&i(e.current.muted)}),{signal:n.signal}),e.current.addEventListener("error",(()=>{x(!0)}),{signal:n.signal}),e.current.addEventListener("canplay",(async()=>{if(t&&clearTimeout(t),f(!1),y(!0),e.current&&b.current){try{await e.current.play()}catch(T){const t=T;if(!t.message?.includes("The request is not allowed by the user agent")&&!t.message?.includes("The play() request was interrupted by a call to pause()"))throw t}b.current=!1}}),{signal:n.signal}),e.current.addEventListener("canplaythrough",(()=>{t&&clearTimeout(t),f(!1)}),{signal:n.signal}),e.current.addEventListener("waiting",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{f(!0)}),500)}),{signal:n.signal}),e.current.addEventListener("playing",(()=>{t&&clearTimeout(t),f(!1),x(!1)}),{signal:n.signal}),e.current.addEventListener("stalled",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{f(!0)}),500)}),{signal:n.signal}),e.current.addEventListener("ended",(()=>{o(!1),f(!1),x(!1)}),{signal:n.signal}),()=>{n.abort(),clearTimeout(t)}},w=[e,u],t[4]=e,t[5]=u,t[6]=S,t[7]=w):(S=t[6],w=t[7]),(0,lt.useEffect)(S,w),t[8]!==e?(T=()=>{if(e.current)if(e.current.ended&&(e.current.currentTime=0),e.current.readyState<HTMLMediaElement.HAVE_FUTURE_DATA)b.current=!0;else{const t=e.current.play();void 0!==t&&t.catch(kh)}},t[8]=e,t[9]=T):T=t[9];const k=T;let C;t[10]!==e?(C=()=>{e.current&&(e.current.pause(),b.current=!1)},t[10]=e,t[11]=C):C=t[11];const I=C;let A;t[12]!==I||t[13]!==k||t[14]!==e?(A=()=>{e.current&&(e.current.paused?k():I())},t[12]=I,t[13]=k,t[14]=e,t[15]=A):A=t[15];const P=A;let E;t[16]!==e?(E=t=>{if(!e.current)return;const s="function"===typeof t?t(e.current.muted):t;e.current.muted=s},t[16]=e,t[17]=E):E=t[17];const L=E;let R;return t[18]!==p||t[19]!==_||t[20]!==L||t[21]!==l||t[22]!==m||t[23]!==g||t[24]!==a||t[25]!==I||t[26]!==k||t[27]!==s||t[28]!==P?(R={play:k,pause:I,togglePlayPause:P,duration:m,currentTime:l,playing:s,muted:a,changeMuted:L,buffering:p,error:g,canPlay:_},t[18]=p,t[19]=_,t[20]=L,t[21]=l,t[22]=m,t[23]=g,t[24]=a,t[25]=I,t[26]=k,t[27]=s,t[28]=P,t[29]=R):R=t[29],R}(s),C=(0,qs.useTheme)(),{_:I}=(0,dt.useLingui)(),A=(0,Bt.useSubtitlesEnabled)(),P=(0,Bt.useSetSubtitlesEnabled)(),{state:E,onIn:L,onOut:R}=(0,la.useInteractionState)(),[B,D]=fh(u),{state:O,onIn:M,onOut:F}=(0,la.useInteractionState)(),[N,H]=(0,lt.useState)(!1),V=m||w,{state:z,onIn:U,onOut:W}=(0,la.useInteractionState)();let G;t[0]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{H(!0)},t[0]=G):G=t[0];const q=G;let Q,K,Z,Y,$,X;t[1]!==N?(Q=()=>{if(N)return document.addEventListener("click",(()=>H(!1))),()=>{document.removeEventListener("click",(()=>H(!1)))}},K=[N],t[1]=N,t[2]=Q,t[3]=K):(Q=t[2],K=t[3]),(0,lt.useEffect)(Q,K),t[4]!==B?(Z=()=>{if(B)return document.documentElement.style.scrollbarGutter="unset",Dh},Y=[B],t[4]=B,t[5]=Z,t[6]=Y):(Z=t[5],Y=t[6]),(0,lt.useEffect)(Z,Y),t[7]!==a||t[8]!==x||t[9]!==c?($=()=>{a||(x(),c(!1))},X=[a,x,c],t[7]=a,t[8]=x,t[9]=c,t[10]=$,t[11]=X):($=t[10],X=t[11]),(0,lt.useEffect)($,X);const J=hh(),ee=(0,Bt.useAutoplayDisabled)()||J;let te,se,oe,ne,ae,re,ie;t[12]!==a||t[13]!==ee||t[14]!==p||t[15]!==d||t[16]!==x||t[17]!==g?(te=()=>{a&&(d||p?ee||g():x())},se=[d,x,a,g,ee,p],t[12]=a,t[13]=ee,t[14]=p,t[15]=d,t[16]=x,t[17]=g,t[18]=te,t[19]=se):(te=t[18],se=t[19]),(0,lt.useEffect)(te,se),t[20]!==l||t[21]!==o?(oe=()=>{o.current&&(o.current.config.maxMaxBufferLength=l?30:10)},ne=[o,l],t[20]=l,t[21]=o,t[22]=oe,t[23]=ne):(oe=t[22],ne=t[23]),(0,lt.useEffect)(oe,ne),t[24]!==k||t[25]!==h||t[26]!==o||t[27]!==A?(ae=()=>{o.current&&(o.current.subtitleTrack=h&&A&&k?0:-1)},re=[h,A,o,k],t[24]=k,t[25]=h,t[26]=o,t[27]=A,t[28]=ae,t[29]=re):(ae=t[28],re=t[29]),(0,lt.useEffect)(ae,re),t[30]!==a||t[31]!==i||t[32]!==c?(ie=()=>{a||i(),c(!0)},t[30]=a,t[31]=i,t[32]=c,t[33]=ie):ie=t[33];const le=ie;let ce;t[34]!==ee||t[35]!==le||t[36]!==l||t[37]!==g||t[38]!==j?(ce=()=>{l?j():(le(),ee&&g())},t[34]=ee,t[35]=le,t[36]=l,t[37]=g,t[38]=j,t[39]=ce):ce=t[39];const de=ce;let ue;t[40]!==le||t[41]!==j?(ue=()=>{le(),j()},t[40]=le,t[41]=j,t[42]=ue):ue=t[42];const me=ue;let he;t[43]!==le||t[44]!==P||t[45]!==A?(he=()=>{le(),P(!A)},t[43]=le,t[44]=P,t[45]=A,t[46]=he):he=t[46];const pe=he;let fe;t[47]!==le||t[48]!==D?(fe=()=>{le(),D()},t[47]=le,t[48]=D,t[49]=fe):fe=t[49];const ge=fe;let xe;t[50]!==s?(xe=e=>{s.current&&(s.current.fastSeek?s.current.fastSeek(e):s.current.currentTime=e)},t[50]=s,t[51]=xe):xe=t[51];const _e=xe,ye=(0,lt.useRef)(!1);let be;t[52]!==le||t[53]!==x||t[54]!==_?(be=()=>{le(),ye.current=_,x()},t[52]=le,t[53]=x,t[54]=_,t[55]=be):be=t[55];const je=be;let ve;t[56]!==g?(ve=()=>{ye.current&&g()},t[56]=g,t[57]=ve):ve=t[57];const Se=ve;let we;t[58]!==_e||t[59]!==s?(we=()=>{if(!s.current)return;const e=s.current.currentTime,t=s.current.duration||0;_e(Kr(e-5,0,t))},t[58]=_e,t[59]=s,t[60]=we):we=t[60];const Te=we;let ke;t[61]!==_e||t[62]!==s?(ke=()=>{if(!s.current)return;const e=s.current.currentTime,t=s.current.duration||0;_e(Kr(e+5,0,t))},t[61]=_e,t[62]=s,t[63]=ke):ke=t[63];const Ce=ke,[Ie,Ae]=(0,lt.useState)(!0),Pe=(0,lt.useRef)(void 0);let Ee;t[64]!==R?(Ee=()=>{Ae(!0),Pe.current&&clearTimeout(Pe.current),Pe.current=setTimeout((()=>{Ae(!1),R()}),2e3)},t[64]=R,t[65]=Ee):Ee=t[65];const Le=Ee;let Re;t[66]===Symbol.for("react.memo_cache_sentinel")?(Re=()=>{Ae(!1),Pe.current&&clearTimeout(Pe.current)},t[66]=Re):Re=t[66];const Be=Re;let De;t[67]!==E?(De=e=>{"mouse"===e.pointerType||E||e.preventDefault(),clearTimeout(Me.current)},t[67]=E,t[68]=De):De=t[68];const Oe=De,Me=(0,lt.useRef)(void 0);let Fe;t[69]!==L?(Fe=()=>{L(),clearTimeout(Me.current)},t[69]=L,t[70]=Fe):Fe=t[70];const Ne=Fe;let He;t[71]!==R?(He=e=>{"mouse"!==e.pointerType?setTimeout(R,3e3):R()},t[71]=R,t[72]=He):He=t[72];const Ve=He,ze=(l||ee)&&!_||(N?O:E);if(p){let e;return t[73]!==f||t[74]!==me||t[75]!==_||t[76]!==V?(e=(0,bt.jsx)(Cm,{isPlaying:_,isLoading:V,onPress:me,altText:f}),t[73]=f,t[74]=me,t[75]=_,t[76]=V,t[77]=e):e=t[77],e}let Ue,We,Ge;t[78]===Symbol.for("react.memo_cache_sentinel")?(Ue={position:"absolute",inset:0,overflow:"hidden",display:"flex",flexDirection:"column"},We=e=>{e.stopPropagation(),H(!1)},t[78]=Ue,t[79]=We):(Ue=t[78],We=t[79]),t[80]!==I||t[81]!==l||t[82]!==_?(Ge=I(l?_?{id:"cG3912"}:{id:"7TkjAs"}:{id:"Zg5wXO"}),t[80]=I,t[81]=l,t[82]=_,t[83]=Ge):Ge=t[83];const qe=Ie||!_?"pointer":"none";let Qe,Ke,Ze,Ye,$e;t[84]!==qe?(Qe=(0,qs.web)({cursor:qe}),t[84]=qe,t[85]=Qe):Qe=t[85],t[86]!==Qe?(Ke=[qs.atoms.flex_1,Qe],t[86]=Qe,t[87]=Ke):Ke=t[87],t[88]!==Le||t[89]!==de||t[90]!==Ge||t[91]!==Ke?(Ze=(0,bt.jsx)(ln.default,{accessibilityRole:"button",onPointerEnter:Le,onPointerMove:Le,onPointerLeave:Be,accessibilityLabel:Ge,accessibilityHint:"",style:Ke,onPress:de}),t[88]=Le,t[89]=de,t[90]=Ge,t[91]=Ke,t[92]=Ze):Ze=t[92],t[93]!==v||t[94]!==S||t[95]!==l||t[96]!==ze?(Ye=!ze&&!l&&S>0&&(0,bt.jsx)(jh,{time:Math.floor(S-v)}),t[93]=v,t[94]=S,t[95]=l,t[96]=ze,t[97]=Ye):Ye=t[97],t[98]===Symbol.for("react.memo_cache_sentinel")?($e=(0,qs.web)({background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7))"}),t[98]=$e):$e=t[98];const Xe=ze?1:0;let Je,et,tt,st,ot,nt,at,rt,it,ct,ut,mt,ht,pt,ft,gt,xt;return t[99]!==Xe?(Je={opacity:Xe},t[99]=Xe,t[100]=Je):Je=t[100],t[101]===Symbol.for("react.memo_cache_sentinel")?(et={transition:"opacity 0.2s ease-in-out"},t[101]=et):et=t[101],t[102]!==$e||t[103]!==Je?(tt=[qs.atoms.flex_shrink_0,qs.atoms.w_full,qs.atoms.px_xs,$e,Je,et],t[102]=$e,t[103]=Je,t[104]=tt):tt=t[104],t[105]!==v||t[106]!==le||t[107]!==S||t[108]!==_e||t[109]!==Se||t[110]!==je||t[111]!==Te||t[112]!==Ce||t[113]!==j||t[114]!==z?(st=(!z||r.IS_WEB_TOUCH_DEVICE)&&(0,bt.jsx)(Ih,{duration:S,currentTime:v,onSeek:_e,onSeekStart:je,onSeekEnd:Se,seekLeft:Te,seekRight:Ce,togglePlayPause:j,drawFocus:le}),t[105]=v,t[106]=le,t[107]=S,t[108]=_e,t[109]=Se,t[110]=je,t[111]=Te,t[112]=Ce,t[113]=j,t[114]=z,t[115]=st):st=t[115],t[116]===Symbol.for("react.memo_cache_sentinel")?(ot=[qs.atoms.flex_1,qs.atoms.px_xs,qs.atoms.pb_sm,qs.atoms.gap_sm,qs.atoms.flex_row,qs.atoms.align_center],t[116]=ot):ot=t[116],t[117]!==I?(nt=I({id:"IgrLD/"}),t[117]=I,t[118]=nt):nt=t[118],t[119]!==I?(at=I({id:"T91vKp"}),t[119]=I,t[120]=at):at=t[120],t[121]!==me||t[122]!==_||t[123]!==nt||t[124]!==at?(rt=(0,bt.jsx)(vh,{active:_,activeLabel:nt,inactiveLabel:at,activeIcon:bh,inactiveIcon:hm,onPress:me}),t[121]=me,t[122]=_,t[123]=nt,t[124]=at,t[125]=rt):rt=t[125],t[126]===Symbol.for("react.memo_cache_sentinel")?(it=(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1}),t[126]=it):it=t[126],t[127]!==v||t[128]!==S||t[129]!==C?(ct=Math.round(S)>0&&(0,bt.jsxs)(co.Text,{style:[qs.atoms.px_xs,{color:C.palette.white,fontVariant:["tabular-nums"]}],children:[Ch(v)," / ",Ch(S)]}),t[127]=v,t[128]=S,t[129]=C,t[130]=ct):ct=t[130],t[131]!==I||t[132]!==h||t[133]!==pe||t[134]!==A?(ut=h&&(0,bt.jsx)(vh,{active:A,activeLabel:I({id:"LdKJAe"}),inactiveLabel:I({id:"spRatm"}),activeIcon:yh,inactiveIcon:_h,onPress:pe}),t[131]=I,t[132]=h,t[133]=pe,t[134]=A,t[135]=ut):ut=t[135],t[136]!==b||t[137]!==le||t[138]!==y||t[139]!==W||t[140]!==U||t[141]!==z?(mt=(0,bt.jsx)(Lh,{muted:y,changeMuted:b,hovered:z,onHover:U,onEndHover:W,drawFocus:le}),t[136]=b,t[137]=le,t[138]=y,t[139]=W,t[140]=U,t[141]=z,t[142]=mt):mt=t[142],t[143]!==I||t[144]!==B||t[145]!==ge?(ht=!r.IS_WEB_MOBILE_IOS&&(0,bt.jsx)(vh,{active:B,activeLabel:I({id:"sQpDn6"}),inactiveLabel:I({id:"JWj1N3"}),activeIcon:Mm,inactiveIcon:Om,onPress:ge}),t[143]=I,t[144]=B,t[145]=ge,t[146]=ht):ht=t[146],t[147]!==rt||t[148]!==ct||t[149]!==ut||t[150]!==mt||t[151]!==ht?(pt=(0,bt.jsxs)(Fs.default,{style:ot,children:[rt,it,ct,ut,mt,ht]}),t[147]=rt,t[148]=ct,t[149]=ut,t[150]=mt,t[151]=ht,t[152]=pt):pt=t[152],t[153]!==tt||t[154]!==st||t[155]!==pt?(ft=(0,bt.jsxs)(Fs.default,{style:tt,children:[st,pt]}),t[153]=tt,t[154]=st,t[155]=pt,t[156]=ft):ft=t[156],t[157]!==T||t[158]!==V||t[159]!==C?(gt=(V||T)&&(0,bt.jsxs)(Fs.default,{pointerEvents:"none",style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],children:[V&&(0,bt.jsx)(lo.Loader,{fill:C.palette.white,size:"lg"}),T&&(0,bt.jsx)(co.Text,{style:{color:C.palette.white},children:(0,bt.jsx)(dt.Trans,{id:"Vw8l6h"})})]}),t[157]=T,t[158]=V,t[159]=C,t[160]=gt):gt=t[160],t[161]!==F||t[162]!==Ve||t[163]!==M||t[164]!==Ne||t[165]!==Oe||t[166]!==Ze||t[167]!==Ye||t[168]!==ft||t[169]!==gt?(xt=(0,bt.jsxs)("div",{style:Ue,onClick:We,onPointerEnter:Ne,onPointerMove:Ne,onPointerLeave:Ve,onPointerDown:Oe,onFocus:M,onBlur:F,onKeyDown:q,children:[Ze,Ye,ft,gt]}),t[161]=F,t[162]=Ve,t[163]=M,t[164]=Ne,t[165]=Oe,t[166]=Ze,t[167]=Ye,t[168]=ft,t[169]=gt,t[170]=xt):xt=t[170],xt}function Dh(){document.documentElement.style.removeProperty("scrollbar-gutter")}function Oh({embed:e,active:t,setActive:s,onScreen:o,lastKnownTime:n}){const a=(0,lt.useRef)(null),r=(0,lt.useRef)(null),[i,l]=(0,lt.useState)(!1),[c,d]=(0,lt.useState)(!1),[u,m]=(0,lt.useState)(!1),h=(0,lt.useId)(),{_:p}=(0,dt.useLingui)(),[f,g]=(0,lt.useState)(null);if(f)throw f;const{hlsRef:x,loop:_}=function({playlist:e,setHasSubtitleTrack:t,setError:s,videoRef:o,setHlsLoading:n}){const[a,r]=(0,lt.useState)((()=>Nh.value));(0,lt.useEffect)((()=>{a||(n(!0),Nh.then((e=>{r((()=>e)),n(!1)})))}),[a,n]);const i=(0,lt.useRef)(void 0),[l,c]=(0,lt.useState)([]),d=(0,Bn.useNonReactiveCallback)(((e,{frag:t})=>{if(!a)return;if(!i.current)return;const s=i.current;if(s.nextAutoLevel>0){const e=[];for(const o of l)Math.abs(t.start-o.start)<.1||(s.trigger(a.Events.BUFFER_FLUSHING,{startOffset:o.start,endOffset:o.end,type:"video"}),e.push(o));c((t=>t.filter((t=>!e.includes(t)))))}}));(0,lt.useEffect)((()=>{if(!o.current)return;if(!a)return;if(!a.isSupported())throw new Mh;const n=xh,r=new a({maxMaxBufferLength:10,startLevel:void 0===n?-1:a.DefaultConfig.startLevel});return i.current=r,void 0!==n&&(r.bandwidthEstimate=n),r.attachMedia(o.current),r.loadSource(e),r.on(a.Events.FRAG_LOADED,(()=>{var e;e=r.bandwidthEstimate,isNaN(e)||(xh=e)})),r.on(a.Events.SUBTITLE_TRACKS_UPDATED,((e,s)=>{s.subtitleTracks.length>0&&t(!0)})),r.on(a.Events.FRAG_BUFFERED,((e,{frag:t})=>{0===t.level&&c((e=>[...e,t]))})),r.on(a.Events.ERROR,((e,t)=>{t.fatal&&("manifestLoadError"===t.details&&404===t.response?.code?s(new Fh):s(t.error))})),r.on(a.Events.FRAG_CHANGED,d),()=>{i.current=void 0,r.detachMedia(),r.destroy()}}),[e,s,t,o,d,a]);const u=(0,Bn.useNonReactiveCallback)((()=>{if(!a)return;if(!i.current)return;const e=i.current;if(e.nextAutoLevel>0&&1===l.length&&0===l[0].start){const t=l[0];e.trigger(a.Events.BUFFER_FLUSHING,{startOffset:t.start,endOffset:t.end,type:"video"}),c([])}})),m=l.some((e=>0===e.start));return(0,lt.useEffect)((()=>{if(!o.current)return;if(!m)return;const e=new AbortController,{signal:t}=e,s=o.current;return s.addEventListener("ended",(()=>{u(),s.currentTime=0;const e=s.play();e&&e.catch((()=>{}))}),{signal:t}),()=>{e.abort()}}),[o,u,m]),{hlsRef:i,loop:!m}}({playlist:e.playlist,setHasSubtitleTrack:d,setError:g,videoRef:r,setHlsLoading:m});return(0,lt.useEffect)((()=>{n.current&&r.current&&(r.current.currentTime=n.current)}),[n]),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.rounded_md,qs.atoms.overflow_hidden],accessibilityLabel:p({id:"JuSZ7J"}),accessibilityHint:"",children:(0,bt.jsxs)("div",{ref:a,style:{height:"100%",width:"100%"},children:[(0,bt.jsxs)("figure",{style:{margin:0,position:"absolute",inset:0},children:[(0,bt.jsx)("video",{ref:r,poster:e.thumbnail,style:{width:"100%",height:"100%",objectFit:"contain"},playsInline:!0,preload:"none",muted:"gif"===e.presentation||!i,"aria-labelledby":e.alt?h:void 0,onTimeUpdate:e=>{n.current=e.currentTarget.currentTime},loop:_}),e.alt&&(0,bt.jsx)("figcaption",{id:h,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:0},children:e.alt})]}),(0,bt.jsx)(Bh,{videoRef:r,hlsRef:x,active:t,setActive:s,focused:i,setFocused:l,hlsLoading:u,onScreen:o,fullscreenRef:a,hasSubtitleTrack:c,isGif:"gif"===e.presentation,altText:e.alt})]})})}class Mh extends Error{constructor(){super("HLS is not supported")}}class Fh extends Error{constructor(){super("Video not found")}}const Nh=s.e(930).then(s.t.bind(s,48930,23)).then((e=>e.default));Nh.value=void 0,Nh.then((e=>{Nh.value=e}));const Hh=lt.createContext(null);function Vh(e){const t=(0,n.c)(14),{children:s}=e;if(!r.IS_WEB)throw new Error("ActiveVideoWebContext may only be used on web.");const[o,a]=(0,lt.useState)(null),i=(0,lt.useRef)(1/0),{height:l}=(0,Qr.default)(),c=(0,lt.useRef)(!1),d=(0,lt.useRef)(o);let u,m,h;t[0]!==o?(u=()=>{d.current=o},m=[o],t[0]=o,t[1]=u,t[2]=m):(u=t[1],m=t[2]),(0,lt.useEffect)(u,m),t[3]!==l?(h=e=>{a(e),c.current=!0,i.current=l/2},t[3]=l,t[4]=h):h=t[4];const p=h;let f;t[5]!==l?(f=(e,t)=>{var s;if(!r.IS_NATIVE)if(e===d.current)i.current=t;else if(o(t)<o(i.current)){if(c.current&&((s=i.current)>0&&s<l))return;a(e),i.current=t,c.current=!1}function o(e){return Math.abs(e-l/2.5)}},t[5]=l,t[6]=f):f=t[6];const g=f;let x;t[7]!==o||t[8]!==g||t[9]!==p?(x={activeViewId:o,setActiveView:p,sendViewPosition:g},t[7]=o,t[8]=g,t[9]=p,t[10]=x):x=t[10];const _=x;let y;return t[11]!==s||t[12]!==_?(y=(0,bt.jsx)(Hh.Provider,{value:_,children:s}),t[11]=s,t[12]=_,t[13]=y):y=t[13],y}function zh(e){const t=(0,n.c)(6),{children:s}=e,o=(0,qs.useTheme)();let a,r,i;return t[0]!==o.atoms.bg_contrast_25?(a=[qs.atoms.flex_1,o.atoms.bg_contrast_25,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.px_lg,qs.atoms.rounded_md,qs.atoms.overflow_hidden,qs.atoms.gap_lg],t[0]=o.atoms.bg_contrast_25,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[2]=r):r=t[2],t[3]!==s||t[4]!==a?(i=(0,bt.jsxs)(Fs.default,{style:a,children:[s,r]}),t[3]=s,t[4]=a,t[5]=i):i=t[5],i}function Uh(e){const t=(0,n.c)(6),{children:s}=e,o=(0,qs.useTheme)();let a,r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={maxWidth:300},t[0]=a):a=t[0],t[1]!==o.atoms.text_contrast_high?(r=[qs.atoms.text_center,o.atoms.text_contrast_high,qs.atoms.text_md,qs.atoms.leading_snug,a],t[1]=o.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(co.Text,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],i}function Wh(e){const t=(0,n.c)(7),{onPress:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l;return t[0]!==o?(a=o({id:"6gRgw8"}),t[0]=o,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded}),t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),t[3]=i):i=t[3],t[4]!==s||t[5]!==a?(l=(0,bt.jsxs)(ao.Button,{onPress:s,size:"small",color:"secondary_inverted",label:a,children:[r,i]}),t[4]=s,t[5]=a,t[6]=l):l=t[6],l}Hh.displayName="ActiveVideoWebContext";const Gh=()=>{};function qh(e){const t=(0,n.c)(31),{embed:s}=e,o=(0,qs.useTheme)(),a=(0,lt.useRef)(null),{active:i,setActive:l,sendPosition:c,currentActiveView:d}=function(){const e=(0,n.c)(11),t=lt.useContext(Hh);if(!t)throw new Error("useActiveVideoWeb must be used within a ActiveVideoWebProvider");const{activeViewId:s,setActiveView:o,sendViewPosition:a}=t,r=(0,lt.useId)(),i=s===r;let l,c,d;return e[0]!==r||e[1]!==o?(l=()=>{o(r)},e[0]=r,e[1]=o,e[2]=l):l=e[2],e[3]!==r||e[4]!==a?(c=e=>a(r,e),e[3]=r,e[4]=a,e[5]=c):c=e[5],e[6]!==s||e[7]!==i||e[8]!==l||e[9]!==c?(d={active:i,setActive:l,currentActiveView:s,sendPosition:c},e[6]=s,e[7]=i,e[8]=l,e[9]=c,e[10]=d):d=e[10],d}(),[u,m]=(0,lt.useState)(!1),[h]=fh(),p=(0,lt.useRef)(void 0),f="gif"===s.presentation,g=f||i;let x,_;t[0]!==h||t[1]!==f||t[2]!==c?(x=()=>{if(!a.current)return;if(h&&!r.IS_WEB_FIREFOX)return;const e=new IntersectionObserver((e=>{const t=e[0];t&&(m(t.isIntersecting),f||c(t.boundingClientRect.y+t.boundingClientRect.height/2))}),{threshold:.5});return e.observe(a.current),()=>e.disconnect()},_=[c,h,f],t[0]=h,t[1]=f,t[2]=c,t[3]=x,t[4]=_):(x=t[3],_=t[4]),(0,lt.useEffect)(x,_);const[y,b]=(0,lt.useState)(0);let j;t[5]!==y?(j=e=>(0,bt.jsx)(Xh,{error:e,retry:()=>b(y+1)}),t[5]=y,t[6]=j):j=t[6];const v=j;let S;const w=s.aspectRatio;let T;w&&(S=w.width/w.height,Number.isNaN(S)&&(S=void 0)),void 0!==S&&(T=Math.max(S,.5));const k=`url(${s.thumbnail})`;let C,I,A,P;t[7]!==o.palette.black||t[8]!==k?(C={display:"flex",flex:1,cursor:"default",backgroundColor:o.palette.black,backgroundImage:k,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"},t[7]=o.palette.black,t[8]=k,t[9]=C):C=t[9],t[10]!==g||t[11]!==s||t[12]!==u||t[13]!==l?(I=(0,bt.jsx)($h,{children:(0,bt.jsx)(Oh,{embed:s,active:g,setActive:l,onScreen:u,lastKnownTime:p})}),t[10]=g,t[11]=s,t[12]=u,t[13]=l,t[14]=I):I=t[14],t[15]!==y||t[16]!==v||t[17]!==I?(A=(0,bt.jsx)(ch,{renderError:v,children:I},y),t[15]=y,t[16]=v,t[17]=I,t[18]=A):A=t[18],t[19]!==C||t[20]!==A?(P=(0,bt.jsx)("div",{ref:a,style:C,onClick:Qh,children:A}),t[19]=C,t[20]=A,t[21]=P):P=t[21];const E=P;let L;t[22]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.pt_xs],t[22]=L):L=t[22];const R=f?Gh:c,B=null!==d,D=T||1;let O,M,F;return t[23]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[23]=O):O=t[23],t[24]!==E||t[25]!==D?(M=(0,bt.jsxs)(Fm,{fullBleed:!0,aspectRatio:D,minMobileAspectRatio:1.5555555555555556,children:[E,O]}),t[24]=E,t[25]=D,t[26]=M):M=t[26],t[27]!==R||t[28]!==B||t[29]!==M?(F=(0,bt.jsx)(Fs.default,{style:L,children:(0,bt.jsx)(Zh,{sendPosition:R,isAnyViewActive:B,children:M})}),t[27]=R,t[28]=B,t[29]=M,t[30]=F):F=t[30],F}function Qh(e){return e.stopPropagation()}const Kh=(0,lt.createContext)(!1);function Zh(e){const t=(0,n.c)(17),{children:s,sendPosition:o,isAnyViewActive:a}=e,i=(0,lt.useRef)(null),[l,c]=(0,lt.useState)(!1),[d]=fh(),u=hh();let m,h,p,f,g,x,_,y;return t[0]!==d||t[1]!==o?(m=()=>{if(!i.current)return;if(d&&!r.IS_WEB_FIREFOX)return;const e=new IntersectionObserver((e=>{const t=e[0];if(!t)return;const s=t.boundingClientRect.y+t.boundingClientRect.height/2;o(s),c(t.isIntersecting)}),{threshold:Array.from({length:101},Yh)});return e.observe(i.current),()=>e.disconnect()},h=[o,d],t[0]=d,t[1]=o,t[2]=m,t[3]=h):(m=t[2],h=t[3]),(0,lt.useEffect)(m,h),t[4]!==a||t[5]!==o?(p=()=>{if(i.current&&!a){const e=i.current.getBoundingClientRect(),t=e.y+e.height/2;o(t)}},f=[a,o],t[4]=a,t[5]=o,t[6]=p,t[7]=f):(p=t[6],f=t[7]),(0,lt.useEffect)(p,f),t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.flex_1,qs.atoms.flex_row],t[8]=g):g=t[8],t[9]!==s||t[10]!==l?(x=(0,bt.jsx)(Kh.Provider,{value:l,children:s}),t[9]=s,t[10]=l,t[11]=x):x=t[11],t[12]!==u?(_=(0,bt.jsx)("div",{ref:i,style:Object.assign({},u?{top:0,height:"100%"}:{top:"calc(50% - 50vh)",height:"100vh"},{position:"absolute",left:"50%",width:1,pointerEvents:"none"})}),t[12]=u,t[13]=_):_=t[13],t[14]!==x||t[15]!==_?(y=(0,bt.jsxs)(Fs.default,{style:g,children:[x,_]}),t[14]=x,t[15]=_,t[16]=y):y=t[16],y}function Yh(e,t){return t/100}Kh.displayName="VideoNearScreenContext";const $h=e=>{const{children:t}=e;return(0,lt.useContext)(Kh)?t:null};function Xh(e){const t=(0,n.c)(14),{error:s,retry:o}=e,{_:a}=(0,dt.useLingui)();let r,i,l,c,d=!0;if(s instanceof Fh){let e;t[0]!==a?(e=a({id:"n/s0oy"}),t[0]=a,t[1]=e):e=t[1],r=e}else if(s instanceof Mh){let e;d=!1,t[2]!==a?(e=a({id:"Y8f6Xh"}),t[2]=a,t[3]=e):e=t[3],r=e}else{let e;t[4]!==a?(e=a({id:"xNDFpR"}),t[4]=a,t[5]=e):e=t[5],r=e}return t[6]!==r?(i=(0,bt.jsx)(Uh,{children:r}),t[6]=r,t[7]=i):i=t[7],t[8]!==o||t[9]!==d?(l=d&&(0,bt.jsx)(Wh,{onPress:o}),t[8]=o,t[9]=d,t[10]=l):l=t[10],t[11]!==i||t[12]!==l?(c=(0,bt.jsxs)(zh,{children:[i,l]}),t[11]=i,t[12]=l,t[13]=c):c=t[13],c}const Jh=["embed"],ep=["embed"],tp=["embed"];function sp(e){const t=(0,n.c)(21);let s,o,a;if(t[0]!==e){var r=e;({embed:s}=r),o=(0,ta.default)(r,Jh),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];t[3]!==s?(a=(0,am.parseEmbed)(s),t[3]=s,t[4]=a):a=t[4];const i=a;switch(i.type){case"images":case"link":case"video":{let e;return t[5]!==i||t[6]!==o?(e=(0,bt.jsx)(op,Object.assign({embed:i},o)),t[5]=i,t[6]=o,t[7]=e):e=t[7],e}case"feed":case"list":case"starter_pack":case"labeler":case"post":case"post_not_found":case"post_blocked":case"post_detached":{let e;return t[8]!==i||t[9]!==o?(e=(0,bt.jsx)(np,Object.assign({embed:i},o)),t[8]=i,t[9]=o,t[10]=e):e=t[10],e}case"post_with_media":{let e,s,n;return t[11]!==i.media||t[12]!==o?(e=(0,bt.jsx)(op,Object.assign({embed:i.media},o)),t[11]=i.media,t[12]=o,t[13]=e):e=t[13],t[14]!==i.view||t[15]!==o?(s=(0,bt.jsx)(np,Object.assign({embed:i.view},o)),t[14]=i.view,t[15]=o,t[16]=s):s=t[16],t[17]!==o.style||t[18]!==e||t[19]!==s?(n=(0,bt.jsxs)(Fs.default,{style:o.style,children:[e,s]}),t[17]=o.style,t[18]=e,t[19]=s,t[20]=n):n=t[20],n}default:return null}}function op(e){const t=(0,n.c)(10);let s;if(t[0]!==e){s=Symbol.for("react.early_return_sentinel");e:{const{embed:o}=e,n=(0,ta.default)(e,ep);switch(o.type){case"images":{let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.mt_sm],t[2]=e):e=t[2],s=(0,bt.jsx)(qu,{modui:n.moderation?.ui("contentMedia"),activeStyle:e,children:(0,bt.jsx)(Zm,Object.assign({embed:o},n))});break e}case"link":{let e;t[3]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.mt_sm],t[3]=e):e=t[3],s=(0,bt.jsx)(qu,{modui:n.moderation?.ui("contentMedia"),activeStyle:e,children:(0,bt.jsx)(Em,{link:o.view.external,onOpen:n.onOpen,style:[qs.atoms.mt_sm,n.style]})});break e}case"video":{const e=n.moderation?.ui("contentMedia");let a,r,i;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.mt_sm],t[4]=a):a=t[4],t[5]!==o.view?(r=(0,bt.jsx)(qh,{embed:o.view}),t[5]=o.view,t[6]=r):r=t[6],t[7]!==e||t[8]!==r?(i=(0,bt.jsx)(qu,{modui:e,activeStyle:a,children:r}),t[7]=e,t[8]=r,t[9]=i):i=t[9],s=i;break e}default:s=null;break e}}t[0]=e,t[1]=s}else s=t[1];if(s!==Symbol.for("react.early_return_sentinel"))return s}function np(e){const t=(0,n.c)(18);let s,o;if(t[0]!==e){var a=e;({embed:s}=a),o=(0,ta.default)(a,tp),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];switch(s.type){case"feed":{let e;return t[3]!==s||t[4]!==o?(e=(0,bt.jsx)(Fs.default,{style:qs.atoms.mt_sm,children:(0,bt.jsx)(Rm,Object.assign({embed:s},o))}),t[3]=s,t[4]=o,t[5]=e):e=t[5],e}case"list":{let e;return t[6]!==s?(e=(0,bt.jsx)(Fs.default,{style:qs.atoms.mt_sm,children:(0,bt.jsx)(ah,{embed:s})}),t[6]=s,t[7]=e):e=t[7],e}case"starter_pack":{let e;return t[8]!==s.view?(e=(0,bt.jsx)(Fs.default,{style:qs.atoms.mt_sm,children:(0,bt.jsx)(nm.Embed,{starterPack:s.view})}),t[8]=s.view,t[9]=e):e=t[9],e}case"labeler":default:return null;case"post":{if(o.isWithinQuote&&!o.allowNestedQuotes)return null;const e=o.viewContext===Hm.Feed?Vm.FeedEmbedRecordWithMedia:void 0;let n;return t[10]!==s||t[11]!==o||t[12]!==e?(n=(0,bt.jsx)(rp,Object.assign({},o,{embed:s,viewContext:e,isWithinQuote:o.isWithinQuote,allowNestedQuotes:o.allowNestedQuotes})),t[10]=s,t[11]=o,t[12]=e,t[13]=n):n=t[13],n}case"post_not_found":{let e;return t[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(rh,{children:(0,bt.jsx)(dt.Trans,{id:"vGjmyl"})}),t[14]=e):e=t[14],e}case"post_blocked":{let e;return t[15]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(rh,{children:(0,bt.jsx)(dt.Trans,{id:"32TndD"})}),t[15]=e):e=t[15],e}case"post_detached":{let e;return t[16]!==s?(e=(0,bt.jsx)(ap,{embed:s}),t[16]=s,t[17]=e):e=t[17],e}}}function ap(e){const t=(0,n.c)(5),{embed:s}=e,{currentAccount:o}=(0,Gt.useSession)();let a;t[0]!==o||t[1]!==s?(a=!!o?.did&&s.view.uri.includes(o.did),t[0]=o,t[1]=s,t[2]=a):a=t[2];const r=a;let i;return t[3]!==r?(i=(0,bt.jsx)(rh,{children:r?(0,bt.jsx)(dt.Trans,{id:"e8qFwn"}):(0,bt.jsx)(dt.Trans,{id:"W71sdV"})}),t[3]=r,t[4]=i):i=t[4],i}function rp({embed:e,onOpen:t,style:s,isWithinQuote:o,allowNestedQuotes:n}){const a=(0,ds.useModerationOpts)(),r=(0,lt.useMemo)((()=>Object.assign({},e.view,{$type:"app.bsky.feed.defs#postView",record:e.view.value,embed:e.view.embeds?.[0]})),[e]),i=(0,lt.useMemo)((()=>a?(0,Dn.moderatePost)(r,a):void 0),[r,a]),l=(0,qs.useTheme)(),c=(0,On.useQueryClient)(),d=new Dn.AtUri(r.uri),u=(0,Oa.makeProfileLink)(r.author,"post",d.rkey),m=`Post by ${r.author.handle}`,h=(0,lt.useMemo)((()=>{if(!qc.dangerousIsType(r.record,Dn.AppBskyFeedPost.isRecord))return;const{text:e,facets:t}=r.record;return e.trim()?new Dn.RichText({text:e,facets:t}):void 0}),[r.record]),p=(0,lt.useCallback)((()=>{(0,Ut.unstableCacheProfileView)(c,r.author),t?.()}),[c,r.author,t]),{state:f,onIn:g,onOut:x}=(0,la.useInteractionState)(),{state:_,onIn:y,onOut:b}=(0,la.useInteractionState)();return(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_sm],onPointerEnter:g,onPointerLeave:x,children:(0,bt.jsx)(qu,{modui:i?.ui("contentList"),style:[qs.atoms.rounded_md,qs.atoms.border,l.atoms.border_contrast_low,s],activeStyle:[qs.atoms.p_md,qs.atoms.pt_sm],childContainerStyle:[qs.atoms.pt_sm],children:({active:e})=>(0,bt.jsxs)(bt.Fragment,{children:[!e&&(0,bt.jsx)(ju,{native:!0,hover:f||_,style:[qs.atoms.rounded_md]}),(0,bt.jsxs)(fa,{style:[!e&&qs.atoms.p_md],hoverStyle:l.atoms.border_contrast_high,href:u,title:m,onBeforePress:p,onPressIn:y,onPressOut:b,children:[(0,bt.jsx)(Fs.default,{pointerEvents:"none",children:(0,bt.jsx)(Uu,{author:r.author,moderation:i,showAvatar:!0,postHref:u,timestamp:r.indexedAt})}),i?(0,bt.jsx)(om,{modui:i.ui("contentView"),style:[qs.atoms.py_xs]}):null,h?(0,bt.jsx)(Yi.RichText,{value:h,style:qs.atoms.text_md,numberOfLines:20,disableLinks:!0}):null,r.embed&&(0,bt.jsx)(sp,{embed:r.embed,moderation:i,isWithinQuote:o??!0,allowNestedQuotes:!o&&n})]})]})})})}function ip(e){const t=(0,n.c)(16);let s,{did:o,attr:a,failed:r,prefix:i,style:l}=e;a=a||"handle",r=r||"user",t[0]!==o?(s={did:o,staleTime:yt.STALE.INFINITY},t[0]=o,t[1]=s):s=t[1];const{data:c,isError:d}=(0,Ut.useProfileQuery)(s);if(d){let e;return t[2]!==r||t[3]!==l?(e=(0,bt.jsx)(co.Text,{style:l,numberOfLines:1,children:r}),t[2]=r,t[3]=l,t[4]=e):e=t[4],e}if(c){const e=`${i||""}${(0,Ma.sanitizeDisplayName)("string"===typeof c[a]&&c[a]?c[a]:(0,Fa.sanitizeHandle)(c.handle))}`,s=l;let o,n,r;return t[5]!==c?(o=(0,Oa.makeProfileLink)(c),t[5]=c,t[6]=o):o=t[6],t[7]!==l||t[8]!==e?(n=(0,bt.jsx)(co.Text,{emoji:!0,style:l,children:e}),t[7]=l,t[8]=e,t[9]=n):n=t[9],t[10]!==l||t[11]!==o||t[12]!==n||t[13]!==e?(r=(0,bt.jsx)(io.InlineLinkText,{label:e,style:s,numberOfLines:1,to:o,children:n}),t[10]=l,t[11]=o,t[12]=n,t[13]=e,t[14]=r):r=t[14],r}let u;return t[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(mi,{width:80,height:8,style:[qs.atoms.relative,{top:1,left:2}]}),t[15]=u):u=t[15],u}const lp=(0,ti.createSinglePathSVG)({path:"M15.793 10.293a1 1 0 0 1 1.338-.068l.076.068 3.293 3.293a2 2 0 0 1 .138 2.677l-.138.151-3.293 3.293a1 1 0 1 1-1.414-1.414L18.086 16H8a5 5 0 0 1-5-5V5a1 1 0 0 1 2 0v6a3 3 0 0 0 3 3h10.086l-2.293-2.293-.068-.076a1 1 0 0 1 .068-1.338Z"});function cp(e){const t=(0,n.c)(25),{parentAuthor:s,isParentBlocked:o,isParentNotFound:a}=e,r=(0,qs.useTheme)(),{currentAccount:i}=(0,Gt.useSession)();let l;t[0]!==r.atoms.text_contrast_medium?(l=[qs.atoms.text_sm,r.atoms.text_contrast_medium,qs.atoms.leading_snug],t[0]=r.atoms.text_contrast_medium,t[1]=l):l=t[1];const c=l;let d,u,m,h,p,f,g;if(o){let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"+tnbgX"}),t[2]=e):e=t[2],d=e}else if(a){let e;t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"0BWo2g"}),t[3]=e):e=t[3],d=e}else if(s){const e="string"===typeof s?s:s.did;if(i?.did===e){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"wvP61I"}),t[4]=e):e=t[4],d=e}else{let s,o,n;t[5]!==e?(s=(0,bt.jsx)(Fu.ProfileHoverCard,{did:e}),t[5]=e,t[6]=s):s=t[6],t[7]!==e||t[8]!==c?(o=(0,bt.jsx)(ip,{did:e,attr:"displayName",style:c}),t[7]=e,t[8]=c,t[9]=o):o=t[9],t[10]!==s||t[11]!==o?(n=(0,bt.jsx)(dt.Trans,{id:"ifYc6D",components:{0:s,1:o}}),t[10]=s,t[11]=o,t[12]=n):n=t[12],d=n}}return d?(t[13]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.pb_xs,qs.atoms.gap_xs],t[13]=u):u=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(m={top:-1},t[14]=m):m=t[14],t[15]!==r.atoms.text_contrast_medium?(h=(0,bt.jsx)(lp,{size:"xs",style:[r.atoms.text_contrast_medium,m]}),t[15]=r.atoms.text_contrast_medium,t[16]=h):h=t[16],t[17]!==c?(p=[qs.atoms.flex_1,c],t[17]=c,t[18]=p):p=t[18],t[19]!==d||t[20]!==p?(f=(0,bt.jsx)(co.Text,{style:p,numberOfLines:1,children:d}),t[19]=d,t[20]=p,t[21]=f):f=t[21],t[22]!==h||t[23]!==f?(g=(0,bt.jsxs)(Fs.default,{style:u,children:[h,f]}),t[22]=h,t[23]=f,t[24]=g):g=t[24],g):null}function dp(e){const t=(0,n.c)(16),{onPress:s,style:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)();let i;t[0]!==s?(i=()=>{qr.default.configureNext(qr.default.Presets.easeInEaseOut),s()},t[0]=s,t[1]=i):i=t[1];const l=i;let c;t[2]!==o?(c=(0,qs.flatten)([qs.atoms.leading_snug,qs.atoms.text_sm,o]),t[2]=o,t[3]=c):c=t[3];const d=c;let u;t[4]!==r?(u=r({id:"r1B9lp"}),t[4]=r,t[5]=u):u=t[5];const m=d.fontSize/3;let h,p,f;return t[6]!==m?(h=[qs.atoms.self_start,{paddingBottom:m}],t[6]=m,t[7]=h):h=t[7],t[8]!==a.palette.primary_500||t[9]!==d?(p=e=>{const{pressed:t,hovered:s}=e;return(0,bt.jsx)(co.Text,{style:[d,{color:a.palette.primary_500,opacity:t?.6:1,textDecorationLine:s?"underline":void 0}],children:(0,bt.jsx)(dt.Trans,{id:"YHc0+l"})})},t[8]=a.palette.primary_500,t[9]=d,t[10]=p):p=t[10],t[11]!==l||t[12]!==u||t[13]!==h||t[14]!==p?(f=(0,bt.jsx)(ao.Button,{label:u,onPress:l,style:h,hitSlop:Vt.HITSLOP_10,children:p}),t[11]=l,t[12]=u,t[13]=h,t[14]=p,t[15]=f):f=t[15],f}function up(){const e=(0,n.c)(2),{i18n:t}=(0,dt.useLingui)();let s;return e[0]!==t?(s=e=>{const s=e>=1e4;return t.number(e,{notation:"compact",maximumFractionDigits:s?0:1,roundingMode:"trunc"})},e[0]=t,e[1]=s):s=e[1],s}const mp={duration:400,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"},hp=[{opacity:0,transform:"translateY(18px)"},{opacity:1,transform:"translateY(0)"}],pp=[{opacity:0,transform:"translateY(-18px)"},{opacity:1,transform:"translateY(0)"}],fp=[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-18px)"}],gp=[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(18px)"}];function xp(e){const t=(0,n.c)(34),{likeCount:s,big:o,isLiked:a,hasBeenToggled:r}=e,i=(0,qs.useTheme)(),l=!(0,yn.useReducedMotion)()&&r;let c;t[0]!==a||t[1]!==s?(c=function(e,t){let s=!1;if(e||1!==t){if(t>1&&t<1e3)s=!0;else if(t>0){const o=t%100;e&&0===o?s=!0:e||99!==o||(s=!0)}}else s=!0;return s}(a,s),t[0]=a,t[1]=s,t[2]=c):c=t[2];const d=c,u=lt.useRef(null),m=lt.useRef(null),[h,p]=lt.useState(s),f=lt.useRef(a),g=up();let x;t[3]!==g||t[4]!==s?(x=g(s),t[3]=g,t[4]=s,t[5]=x):x=t[5];const _=x;let y;t[6]!==g||t[7]!==h?(y=g(h),t[6]=g,t[7]=h,t[8]=y):y=t[8];const b=y;let j,v;if(t[9]!==a||t[10]!==s||t[11]!==l||t[12]!==d?(j=()=>{if(a===f.current)return;const e=a?s-1:s+1;l&&d&&(u.current?.animate?.(a?hp:pp,mp),m.current?.animate?.(a?fp:gp,mp),p(e)),f.current=a},v=[a,s,l,d],t[9]=a,t[10]=s,t[11]=l,t[12]=d,t[13]=j,t[14]=v):(j=t[13],v=t[14]),lt.useEffect(j,v),s<1)return null;const S=o?qs.atoms.text_md:qs.atoms.text_sm;let w,T,k,C,I;return t[15]!==a||t[16]!==i?(w=a?[qs.atoms.font_semi_bold,kn.s.likeColor]:{color:i.palette.contrast_500},t[15]=a,t[16]=i,t[17]=w):w=t[17],t[18]!==S||t[19]!==w?(T=[S,qs.atoms.user_select_none,w],t[18]=S,t[19]=w,t[20]=T):T=t[20],t[21]!==_||t[22]!==T?(k=(0,bt.jsx)(Fs.default,{ref:u,children:(0,bt.jsx)(ua.Text,{testID:"likeCount",style:T,children:_})}),t[21]=_,t[22]=T,t[23]=k):k=t[23],t[24]!==o||t[25]!==b||t[26]!==a||t[27]!==s||t[28]!==l||t[29]!==i?(C=l&&(s>1||!a)?(0,bt.jsx)(Fs.default,{style:{position:"absolute",opacity:0},"aria-disabled":!0,ref:m,children:(0,bt.jsx)(ua.Text,{style:[o?qs.atoms.text_md:qs.atoms.text_sm,qs.atoms.user_select_none,a?[qs.atoms.font_semi_bold,kn.s.likeColor]:{color:i.palette.contrast_500}],children:b})}):null,t[24]=o,t[25]=b,t[26]=a,t[27]=s,t[28]=l,t[29]=i,t[30]=C):C=t[30],t[31]!==C||t[32]!==k?(I=(0,bt.jsxs)(Fs.default,{children:[k,C]}),t[31]=C,t[32]=k,t[33]=I):I=t[33],I}const _p={duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"},yp=[{transform:"scale(1)"},{transform:"scale(0.7)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],bp=[{opacity:0,transform:"scale(0)"},{opacity:.4},{transform:"scale(1.5)"},{opacity:.4},{opacity:0,transform:"scale(1.5)"}],jp=[{opacity:0,transform:"scale(0)"},{opacity:1},{transform:"scale(0)"},{opacity:1},{opacity:0,transform:"scale(1.5)"}];function vp(e){const t=(0,n.c)(19),{isLiked:s,big:o,hasBeenToggled:a}=e,r=(0,qs.useTheme)(),i=o?22:18,l=!(0,yn.useReducedMotion)()&&a,c=lt.useRef(s),d=lt.useRef(null),u=lt.useRef(null),m=lt.useRef(null);let h,p,f;t[0]!==s||t[1]!==l?(h=()=>{c.current!==s&&(l&&s&&(d.current?.animate?.(yp,_p),u.current?.animate?.(bp,_p),m.current?.animate?.(jp,_p)),c.current=s)},p=[l,s],t[0]=s,t[1]=l,t[2]=h,t[3]=p):(h=t[2],p=t[3]),lt.useEffect(h,p),t[4]!==s||t[5]!==i||t[6]!==r.palette?(f=s?(0,bt.jsx)(Fs.default,{ref:d,children:(0,bt.jsx)(ii,{style:kn.s.likeColor,width:i})}):(0,bt.jsx)(ri,{style:[{color:r.palette.contrast_500},{pointerEvents:"none"}],width:i}),t[4]=s,t[5]=i,t[6]=r.palette,t[7]=f):f=t[7];const g=i/2;let x;t[8]!==i||t[9]!==g?(x=(0,bt.jsx)(Fs.default,{ref:u,style:{position:"absolute",backgroundColor:kn.s.likeColor.color,top:0,left:0,width:i,height:i,zIndex:-1,pointerEvents:"none",borderRadius:g,opacity:0}}),t[8]=i,t[9]=g,t[10]=x):x=t[10];const _=i/2;let y,b;return t[11]!==i||t[12]!==r.atoms.bg.backgroundColor||t[13]!==_?(y=(0,bt.jsx)(Fs.default,{ref:m,style:{position:"absolute",backgroundColor:r.atoms.bg.backgroundColor,top:0,left:0,width:i,height:i,zIndex:-1,pointerEvents:"none",borderRadius:_,opacity:0}}),t[11]=i,t[12]=r.atoms.bg.backgroundColor,t[13]=_,t[14]=y):y=t[14],t[15]!==f||t[16]!==x||t[17]!==y?(b=(0,bt.jsxs)(Fs.default,{children:[f,x,y]}),t[15]=f,t[16]=x,t[17]=y,t[18]=b):b=t[18],b}var Sp=s(87272);const wp=(0,ti.createSinglePathSVG)({path:"M20.002 7a2 2 0 0 0-2-2h-12a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2a1 1 0 0 1 1 1v1.918l3.375-2.7a1 1 0 0 1 .625-.218h5a2 2 0 0 0 2-2V7Zm2 8a4 4 0 0 1-4 4h-4.648l-4.727 3.781A1.001 1.001 0 0 1 7.002 22v-3h-1a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8Z"});(0,ti.createSinglePathSVG)({path:"M22.002 15a4 4 0 0 1-4 4h-4.648l-4.727 3.781A1.001 1.001 0 0 1 7.002 22v-3h-1a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8Z"});var Tp=s(24834);const kp=["width"],Cp=["lineHeight"];function Ip(e){const t=(0,n.c)(22),{blend:s,style:o}=e,{fonts:a,flags:r,theme:i}=(0,qs.useAlf)();let l,c,d,u;if(t[0]!==r||t[1]!==a.family||t[2]!==a.scaleMultiplier||t[3]!==o){const e=(0,qs.flatten)(o),{width:s}=e,n=(0,ta.default)(e,kp);c=s,l=(0,Tp.normalizeTextStyles)([qs.atoms.text_sm,qs.atoms.leading_snug,n],{fontScale:a.scaleMultiplier,fontFamily:a.family,flags:r}),t[0]=r,t[1]=a.family,t[2]=a.scaleMultiplier,t[3]=o,t[4]=l,t[5]=c}else l=t[4],c=t[5];if(t[6]!==l){var m=l;({lineHeight:u}=m),d=(0,ta.default)(m,Cp),t[6]=l,t[7]=d,t[8]=u}else d=t[7],u=t[8];const h=void 0===u?14:u,p=.15*h;let f;t[9]!==p||t[10]!==c?(f=[qs.atoms.flex_1,{maxWidth:c,paddingVertical:p}],t[9]=p,t[10]=c,t[11]=f):f=t[11];const g=.7*h,x=s?.6:1;let _,y,b;return t[12]!==g||t[13]!==x?(_={height:g,opacity:x},t[12]=g,t[13]=x,t[14]=_):_=t[14],t[15]!==d||t[16]!==i.atoms.bg_contrast_50||t[17]!==_?(y=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_md,i.atoms.bg_contrast_50,_,d]}),t[15]=d,t[16]=i.atoms.bg_contrast_50,t[17]=_,t[18]=y):y=t[18],t[19]!==f||t[20]!==y?(b=(0,bt.jsx)(Fs.default,{style:f,children:y}),t[19]=f,t[20]=y,t[21]=b):b=t[21],b}function Ap(e){const t=(0,n.c)(10),{children:s,size:o,blend:a,style:r}=e,i=(0,qs.useTheme)(),l=a?.6:1;let c,d,u;return t[0]!==o||t[1]!==l?(c={width:o,height:o,opacity:l},t[0]=o,t[1]=l,t[2]=c):c=t[2],t[3]!==r||t[4]!==i.atoms.bg_contrast_50||t[5]!==c?(d=[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.rounded_full,i.atoms.bg_contrast_50,c,r],t[3]=r,t[4]=i.atoms.bg_contrast_50,t[5]=c,t[6]=d):d=t[6],t[7]!==s||t[8]!==d?(u=(0,bt.jsx)(Fs.default,{style:d,children:s}),t[7]=s,t[8]=d,t[9]=u):u=t[9],u}function Pp(e){const t=(0,n.c)(8),{size:s,blend:o,style:a}=e,r=(0,qs.useTheme)(),i=1.618*s,l=o?.6:1;let c,d;return t[0]!==s||t[1]!==i||t[2]!==l?(c={width:i,height:s,opacity:l},t[0]=s,t[1]=i,t[2]=l,t[3]=c):c=t[3],t[4]!==a||t[5]!==r.atoms.bg_contrast_50||t[6]!==c?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,r.atoms.bg_contrast_50,c,a]}),t[4]=a,t[5]=r.atoms.bg_contrast_50,t[6]=c,t[7]=d):d=t[7],d}function Ep(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[qs.atoms.flex_1,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(Fs.default,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}function Lp(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[qs.atoms.flex_row,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(Fs.default,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}var Rp=s(37246);function Bp(){const e=(0,n.c)(3),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o={async mutationFn(e){"create"===e.action?((0,Ha.updatePostShadow)(t,e.post.uri,{bookmarked:!0}),await s.app.bsky.bookmark.createBookmark({uri:e.post.uri,cid:e.post.cid})):"delete"===e.action&&((0,Ha.updatePostShadow)(t,e.uri,{bookmarked:!1}),await s.app.bsky.bookmark.deleteBookmark({uri:e.uri}))},onSuccess(e,s){"create"===s.action?(0,Rp.optimisticallySaveBookmark)(t,s.post):"delete"===s.action&&(0,Rp.optimisticallyDeleteBookmark)(t,{uri:s.uri})},onError(e,s){"create"===s.action?(0,Ha.updatePostShadow)(t,s.post.uri,{bookmarked:!1}):"delete"===s.action&&(0,Ha.updatePostShadow)(t,s.uri,{bookmarked:!0}),(0,Tn.isNetworkError)(e)||Mt.logger.error("bookmark mutation failed",{bookmarkAction:s.action,safeMessage:e})}},e[0]=s,e[1]=t,e[2]=o):o=e[2],(0,go.useMutation)(o)}const Dp=(0,ti.createSinglePathSVG)({path:"M9.7 16.895a4 4 0 0 1 4.6 0l3.7 2.6V6.5a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v12.995l3.7-2.6Zm10.3 2.6c0 1.62-1.825 2.567-3.15 1.636l-3.7-2.6a2.001 2.001 0 0 0-2.3 0l-3.7 2.6C5.825 22.062 4 21.115 4 19.495V6.5a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v12.995Z"}),Op=(0,ti.createSinglePathSVG)({path:"M16 2.5a4 4 0 0 1 4 4v12.995c0 1.62-1.825 2.567-3.15 1.636l-3.7-2.6a2.001 2.001 0 0 0-2.3 0l-3.7 2.6C5.825 22.062 4 21.115 4 19.495V6.5a4 4 0 0 1 4-4h8Z"}),Mp=(0,ti.createSinglePathSVG)({path:"M14.2 2.625c.834 0 1.482 0 2.001.042.523.043.949.131 1.331.326.635.324 1.151.84 1.475 1.475.195.382.283.807.326 1.33.042.52.042 1.168.042 2.002v11.09c0 .495 0 .893-.027 1.199-.028.301-.087.585-.26.809-.249.323-.63.518-1.037.533-.282.01-.547-.107-.808-.26-.265-.154-.588-.385-.991-.673l-3.54-2.528c-.36-.258-.461-.322-.559-.347a.626.626 0 0 0-.306 0c-.098.025-.199.09-.559.347l-3.54 2.528c-.403.288-.726.519-.991.674-.261.152-.526.269-.808.259a1.376 1.376 0 0 1-1.038-.534c-.172-.223-.231-.507-.259-.808a7.31 7.31 0 0 1-.024-.528l-.003-.67V7.8c0-.834 0-1.482.042-2.001.043-.523.13-.949.325-1.331a3.376 3.376 0 0 1 1.476-1.475c.382-.195.808-.283 1.33-.326.52-.042 1.168-.042 2.002-.042h4.4Zm-4.4.75c-.846 0-1.458 0-1.94.04-.477.039-.792.114-1.051.246A2.626 2.626 0 0 0 5.66 4.81c-.132.259-.208.574-.247 1.051-.04.482-.039 1.094-.039 1.94v11.09l.003.658c.003.186.01.34.021.473.025.267.07.37.106.418a.626.626 0 0 0 .472.243c.059.002.168-.022.4-.158.23-.133.52-.34.935-.636l3.54-2.529c.308-.22.543-.396.81-.464.222-.056.454-.056.676 0 .267.068.5.244.81.464l3.54 2.529c.414.296.704.503.933.636.233.137.343.16.402.158a.626.626 0 0 0 .472-.243c.036-.048.081-.15.106-.419.024-.263.024-.62.024-1.13V7.8c0-.846 0-1.458-.04-1.94-.039-.477-.114-.792-.246-1.051A2.627 2.627 0 0 0 17.19 3.66c-.259-.132-.575-.207-1.051-.246-.482-.04-1.094-.04-1.94-.04H9.8Zm4.056 4.238a.375.375 0 0 1 .53.53L12.53 10l1.857 1.856a.375.375 0 0 1-.53.53L12 10.53l-1.856 1.857a.375.375 0 0 1-.53-.53L11.47 10 9.613 8.144a.375.375 0 0 1 .53-.53L12 9.47l1.856-1.857Z"}),Fp=["ref","onPress","onLongPress","children","big","active","activeColor"],Np=["icon","style"],Hp=["style"],Vp={top:5,bottom:10,left:10,right:10},zp=(0,lt.createContext)({});function Up(e){const t=(0,n.c)(37);let s,o,a,r,i,l,c,d;if(t[0]!==e){var u=e;({ref:d,onPress:l,onLongPress:i,children:r,big:a,active:s,activeColor:o}=u),c=(0,ta.default)(u,Fp),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l,t[7]=c,t[8]=d}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6],c=t[7],d=t[8];const m=(0,qs.useTheme)(),h=(0,im.useHaptics)(),p=o&&s?o:m.palette.contrast_500;let f,g;t[9]!==p?(f={color:p},t[9]=p,t[10]=f):f=t[10],t[11]!==s||t[12]!==a||t[13]!==f?(g={big:a,active:s,color:f},t[11]=s,t[12]=a,t[13]=f,t[14]=g):g=t[14];const x=g;let _;t[15]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.bg_transparent,{padding:5}],t[15]=_):_=t[15];const y=_;let b;e:{if(!l){b=void 0;break e}let e;t[16]!==l||t[17]!==h?(e=e=>{h("Light"),l(e)},t[16]=l,t[17]=h,t[18]=e):e=t[18],b=e}const j=b;let v;e:{if(!i){v=void 0;break e}let e;t[19]!==i||t[20]!==h?(e=e=>{h("Heavy"),i(e)},t[19]=i,t[20]=h,t[21]=e):e=t[21],v=e}const S=v;let w,T,k,C;return t[22]!==c.hitSlop?(w=c.hitSlop||{},t[22]=c.hitSlop,t[23]=w):w=t[23],t[24]!==w?(T=Object.assign({},Vp,w),t[24]=w,t[25]=T):T=t[25],t[26]!==r||t[27]!==x?(k="function"===typeof r?e=>(0,bt.jsx)(zp.Provider,{value:x,children:r(e)}):(0,bt.jsx)(zp.Provider,{value:x,children:r}),t[26]=r,t[27]=x,t[28]=k):k=t[28],t[29]!==S||t[30]!==j||t[31]!==c||t[32]!==d||t[33]!==m.atoms.bg_contrast_25||t[34]!==T||t[35]!==k?(C=(0,bt.jsx)(ao.Button,Object.assign({ref:d,onPress:j,onLongPress:S,style:y,hoverStyle:m.atoms.bg_contrast_25,shape:"round",variant:"ghost",color:"secondary"},c,{hitSlop:T,children:k})),t[29]=S,t[30]=j,t[31]=c,t[32]=d,t[33]=m.atoms.bg_contrast_25,t[34]=T,t[35]=k,t[36]=C):C=t[36],C}function Wp(e){const t=(0,n.c)(12);let s,o,a;if(t[0]!==e){var r=e;({icon:s,style:a}=r),o=(0,ta.default)(r,Np),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];const{big:i,color:l}=(0,lt.useContext)(zp);let c;t[4]!==l||t[5]!==a?(c=[l,qs.atoms.pointer_events_none,a],t[4]=l,t[5]=a,t[6]=c):c=t[6];const d=i?22:18;let u;return t[7]!==s||t[8]!==o||t[9]!==c||t[10]!==d?(u=(0,bt.jsx)(s,Object.assign({style:c},o,{width:d})),t[7]=s,t[8]=o,t[9]=c,t[10]=d,t[11]=u):u=t[11],u}function Gp(e){const t=(0,n.c)(11);let s,o;if(t[0]!==e){var a=e;({style:o}=a),s=(0,ta.default)(a,Hp),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const{big:r,active:i,color:l}=(0,lt.useContext)(zp),c=r?qs.atoms.text_md:qs.atoms.text_sm,d=i&&qs.atoms.font_semi_bold;let u,m;return t[3]!==l||t[4]!==o||t[5]!==c||t[6]!==d?(u=[l,c,d,o],t[3]=l,t[4]=o,t[5]=c,t[6]=d,t[7]=u):u=t[7],t[8]!==s||t[9]!==u?(m=(0,bt.jsx)(co.Text,Object.assign({style:u},s)),t[8]=s,t[9]=u,t[10]=m):m=t[10],m}zp.displayName="PostControlContext";const qp=(0,lt.memo)((function({post:e,big:t,logContext:s,hitSlop:o}){const n=(0,qs.useTheme)(),a=(0,Xo.useAnalytics)(),{_:r}=(0,dt.useLingui)(),{mutateAsync:i}=Bp(),l=to(),c=(0,Gt.useRequireAuth)(),{feedDescriptor:d}=Fg(),{viewer:u}=e,m=!!u?.bookmarked,h=r({id:"IQEa/P"}),p=async({disableUndo:t}={})=>{try{await i({action:"create",post:e}),a.metric("post:bookmark",{uri:e.uri,authorDid:e.author.did,logContext:s,feedDescriptor:d}),Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{}),(0,bt.jsx)(Pd.Text,{children:(0,bt.jsx)(dt.Trans,{id:"3yJ36z"})}),!t&&(0,bt.jsx)(Pd.Action,{label:h,onPress:()=>f({disableUndo:!0}),children:h})]}),{type:"success"})}catch(o){const{raw:e,clean:t}=l(o);Pd.show(t||e||o,{type:"error"})}},f=async({disableUndo:t}={})=>{try{await i({action:"delete",uri:e.uri}),a.metric("post:unbookmark",{uri:e.uri,authorDid:e.author.did,logContext:s,feedDescriptor:d}),Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{icon:ml.Trash_Stroke2_Corner0_Rounded}),(0,bt.jsx)(Pd.Text,{children:(0,bt.jsx)(dt.Trans,{id:"ronh4s"})}),!t&&(0,bt.jsx)(Pd.Action,{label:h,onPress:()=>p({disableUndo:!0}),children:h})]}))}catch(o){const{raw:e,clean:t}=l(o);Pd.show(t||e||o,{type:"error"})}};return(0,bt.jsx)(Up,{testID:"postBookmarkBtn",big:t,label:r(m?{id:"mmSJsq"}:{id:"yTJ26B"}),onPress:()=>c((async()=>{m?await f():await p()})),hitSlop:o,children:(0,bt.jsx)(Wp,{fill:m?n.palette.primary_500:void 0,icon:m?Op:Dp})})})),Qp=(0,ti.createSinglePathSVG)({path:"M2 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm16 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm-6-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"});var Kp=s(4544),Zp=s(44278);function Yp(e,t){const{text:s,facets:o}=e;if(!o?.length)return s;let n="";for(const a of e.segments()){const e=a.link;if(e&&Dn.AppBskyRichtextFacet.validateLink(e).success){const s=e.uri,o=a.text;n+=(0,zt.linkRequiresWarning)(s,o)?t?`[${o}](${s})`:o:s}else n+=a.text}return n}var $p=s(62820);async function Xp({agent:e,postUri:t}){const s=new Dn.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}try{const{data:t}=await(0,$p.retry)(2,(e=>!e.message.includes("Could not locate record:")),(()=>e.api.com.atproto.repo.getRecord({repo:s.host,collection:Ud,rkey:s.rkey})));return t.value&&qc.validate(t.value,Dn.AppBskyFeedPostgate.validateRecord)?t.value:void 0}catch(o){if(o.message.includes("Could not locate record:"))return;throw o}}async function Jp({agent:e,postUri:t,postgate:s}){const o=new Dn.AtUri(t);await(0,$p.networkRetry)(2,(()=>e.api.com.atproto.repo.putRecord({repo:e.session.did,collection:Ud,rkey:o.rkey,record:s})))}async function ef({agent:e,postUri:t},s){const o=await Xp({agent:e,postUri:t}),n=await s(o);n&&await Jp({agent:e,postUri:t,postgate:n})}const tf=e=>["postgate-record",e];function sf(e){return e??null}function of(){const e=(0,n.c)(5),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)();let o,a;return e[0]!==t?(o=async e=>{const{postUri:s,postgate:o}=e;return Jp({agent:t,postUri:s,postgate:o})},e[0]=t,e[1]=o):o=e[1],e[2]!==s||e[3]!==o?(a={mutationFn:o,onSuccess(e,t){const{postUri:o}=t;s.invalidateQueries({queryKey:tf(o)})}},e[2]=s,e[3]=o,e[4]=a):a=e[4],(0,go.useMutation)(a)}var nf=s(24221),af=s(92434);(0,ti.createSinglePathSVG)({path:"M7.574 4.178a1 1 0 0 1 .43.822v5h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-8c0-2.585 1.162-4.335 2.316-5.417a8.163 8.163 0 0 1 1.569-1.15 7.029 7.029 0 0 1 .738-.36l.016-.005.005-.003h.003v-.001c.001 0 .002 0 .353.936l-.351-.936a1 1 0 0 1 .92.114Zm-1.57 2.588a5.99 5.99 0 0 0-.316.276C4.842 7.835 4.004 9.085 4.004 11v7h5v-6h-2a1 1 0 0 1-1-1V6.766Zm12.57-2.588a1 1 0 0 1 .43.822v5h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-8c0-2.585 1.162-4.335 2.316-5.417a8.166 8.166 0 0 1 1.569-1.15 7.038 7.038 0 0 1 .738-.36l.016-.005.005-.003h.003v-.001c.001 0 .002 0 .353.936l-.351-.936a1 1 0 0 1 .92.114Zm-1.57 2.588c-.105.085-.21.177-.316.276-.846.793-1.684 2.043-1.684 3.958v7h5v-6h-2a1 1 0 0 1-1-1V6.766Z"}),(0,ti.createSinglePathSVG)({path:"M8.004 5a1 1 0 0 0-.43-.822c-.57-.395-1.176-.031-1.685.255-.428.24-.998.614-1.569 1.15C3.166 6.665 2.004 8.415 2.004 11v8a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-2V5ZM19.004 5a1 1 0 0 0-.43-.822c-.57-.395-1.176-.031-1.685.255-.428.24-.998.614-1.569 1.15-1.154 1.082-2.316 2.832-2.316 5.417v8a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-2V5Z"});const rf=(0,ti.createSinglePathSVG)({path:"M2.004 5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v8c0 2.585-1.162 4.335-2.316 5.417-.571.536-1.14.91-1.569 1.15a7.01 7.01 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001L6.004 19l.351.936A1 1 0 0 1 5.004 19v-5h-2a1 1 0 0 1-1-1V5Zm5 12.234c.104-.085.21-.177.316-.276.846-.793 1.684-2.043 1.684-3.958V6h-5v6h2a1 1 0 0 1 1 1v4.234Zm6-12.234a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v8c0 2.585-1.162 4.335-2.316 5.417-.571.536-1.14.91-1.569 1.15a7.018 7.018 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001-.352-.936.351.936A1 1 0 0 1 16.004 19v-5h-2a1 1 0 0 1-1-1V5Zm5 12.234V13a1 1 0 0 0-1-1h-2V6h5v7c0 1.915-.838 3.165-1.684 3.958-.106.1-.212.191-.316.276Z"}),lf=(0,ti.createSinglePathSVG)({path:"M2.003 5.999a2 2 0 0 1 2-1.999h5c1.104 0 2 .893 2 1.999V13c0 2.585-1.16 4.335-2.315 5.417-.571.536-1.14.91-1.569 1.15a7.01 7.01 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001L6.004 19l.351.936a1 1 0 0 1-1.351-.935L5 14H4a2 2 0 0 1-2-2.001l.002-6Zm5 11.236L7 12.999A1 1 0 0 0 6 12H4l.003-6h5v7c0 1.915-.837 3.165-1.683 3.958-.106.1-.213.192-.317.277Zm6-11.235a2 2 0 0 1 2-2h5c1.104 0 2 .893 2 1.999V13c0 2.585-1.16 4.335-2.315 5.417-.571.536-1.14.91-1.569 1.15a7.018 7.018 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001-.352-.936.351.936A1 1 0 0 1 16.004 19v-5h-1a2 2 0 0 1-2-2V6Zm7 0h-5v6h2a1 1 0 0 1 1 1v4.234c.105-.085.211-.177.317-.276.846-.793 1.684-2.043 1.684-3.958V6Z"}),cf=((0,ti.createSinglePathSVG)({path:"M3.004 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2v5a1 1 0 0 0 .43.822c.57.395 1.176.031 1.685-.255.428-.24.998-.614 1.569-1.15 1.154-1.082 2.316-2.832 2.316-5.417V5a1 1 0 0 0-1-1h-7ZM14.004 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2v5a1 1 0 0 0 .43.822c.57.395 1.176.031 1.685-.255.428-.24.998-.614 1.569-1.15 1.154-1.082 2.316-2.832 2.316-5.417V5a1 1 0 0 0-1-1h-7Z"}),["control"]);function df(e){const t=(0,n.c)(19);let s,o;if(t[0]!==e){var a=e;({control:s}=a),o=(0,ta.default)(a,cf),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const r=(0,Xo.useAnalytics)();let i;t[3]!==r||t[4]!==o.isDirty||t[5]!==o.persist||t[6]!==o.postgate?.embeddingRules||t[7]!==o.threadgateAllowUISettings?(i=()=>{r.metric("composer:threadgate:save",{hasChanged:!!o.isDirty,persist:!!o.persist,replyOptions:o.threadgateAllowUISettings?.map(mf)?.join(",")??"",quotesEnabled:!o.postgate?.embeddingRules?.find(uf)})},t[3]=r,t[4]=o.isDirty,t[5]=o.persist,t[6]=o.postgate?.embeddingRules,t[7]=o.threadgateAllowUISettings,t[8]=i):i=t[8];const l=(0,Bn.useNonReactiveCallback)(i),c=o.isDirty&&o.persist;let d,u,m,h;return t[9]!==c?(d={preventExpansion:!0,preventDismiss:c},t[9]=c,t[10]=d):d=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(Qs.Handle,{}),t[11]=u):u=t[11],t[12]!==o?(m=(0,bt.jsx)(hf,Object.assign({},o)),t[12]=o,t[13]=m):m=t[13],t[14]!==s||t[15]!==l||t[16]!==d||t[17]!==m?(h=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:d,onClose:l,children:[u,m]}),t[14]=s,t[15]=l,t[16]=d,t[17]=m,t[18]=h):h=t[18],h}function uf(e){return e.$type===Zd.disableRule.$type}function mf(e){return e.type}function hf(e){const t=(0,n.c)(10),{_:s}=(0,dt.useLingui)();let o,a,r,i,l,c;return t[0]!==s?(o=s({id:"TlT3VC"}),t[0]=s,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=[(0,qs.web)({maxWidth:400}),qs.atoms.w_full],r=(0,bt.jsx)(xf,{}),t[2]=a,t[3]=r):(a=t[2],r=t[3]),t[4]!==e?(i=(0,bt.jsx)(gf,Object.assign({},e)),t[4]=e,t[5]=i):i=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(Qs.Close,{}),t[6]=l):l=t[6],t[7]!==o||t[8]!==i?(c=(0,bt.jsxs)(Qs.ScrollableInner,{label:o,style:a,children:[r,i,l]}),t[7]=o,t[8]=i,t[9]=c):c=t[9],c}function pf(e){const t=(0,n.c)(10),s=(0,nf.usePostThreadContext)();let o,a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={preventExpansion:!0},a=(0,bt.jsx)(Qs.Handle,{}),t[0]=o,t[1]=a):(o=t[0],a=t[1]),t[2]!==e?(r=(0,bt.jsx)(ff,Object.assign({},e)),t[2]=e,t[3]=r):r=t[3],t[4]!==s||t[5]!==r?(i=(0,bt.jsx)(nf.PostThreadContextProvider,{context:s,children:r}),t[4]=s,t[5]=r,t[6]=i):i=t[6],t[7]!==e.control||t[8]!==i?(l=(0,bt.jsxs)(Qs.Outer,{control:e.control,nativeOptions:o,children:[a,i]}),t[7]=e.control,t[8]=i,t[9]=l):l=t[9],l}function ff(e){const t=(0,Xo.useAnalytics)(),{_:s}=(0,dt.useLingui)(),{currentAccount:o}=(0,Gt.useSession)(),[a,r]=(0,lt.useState)(!1),{data:i,isLoading:l}=(0,Yd.useThreadgateViewQuery)({postUri:e.rootPostUri}),{data:c,isLoading:d}=function(e){const t=(0,n.c)(6),{postUri:s}=e,o=(0,Gt.useAgent)();let a,r;return t[0]!==s?(a=tf(s),t[0]=s,t[1]=a):a=t[1],t[2]!==o||t[3]!==s||t[4]!==a?(r={staleTime:yt.STALE.SECONDS.THIRTY,queryKey:a,queryFn:async()=>await Xp({agent:o,postUri:s}).then(sf)},t[2]=o,t[3]=s,t[4]=a,t[5]=r):r=t[5],(0,Zs.useQuery)(r)}({postUri:e.postUri}),{mutateAsync:u}=of(),{mutateAsync:m}=(0,Yd.useSetThreadgateAllowMutation)(),[h,p]=(0,lt.useState)(),[f,g]=(0,lt.useState)(),x=l||d,_=i||e.initialThreadgateView,y=(0,lt.useMemo)((()=>o?.did===new Dn.AtUri(e.rootPostUri).host),[e.rootPostUri,o?.did]),b=(0,lt.useMemo)((()=>h||c||Wd({post:e.postUri})),[c,h,e.postUri]),j=(0,lt.useMemo)((()=>f||(0,Yd.threadgateViewToAllowUISetting)(_)),[_,f]),v=(0,lt.useCallback)((async()=>{if(h||f){r(!0);try{const t=[];h&&t.push(u({postUri:e.postUri,postgate:h})),f&&y&&t.push(m({postUri:e.rootPostUri,allow:f})),await Promise.all(t),e.control.close()}catch(o){t.logger.error("Failed to save post interaction settings",{source:"PostInteractionSettingsDialogControlledInner",safeMessage:o.message}),Ds.show(s({id:"zghcp1"}),"xmark")}finally{r(!1)}}else e.control.close()}),[s,t,e.postUri,e.rootPostUri,e.control,h,f,r,u,m,y]);return(0,bt.jsxs)(Qs.ScrollableInner,{label:s({id:"TlT3VC"}),style:[(0,qs.web)({maxWidth:400}),qs.atoms.w_full],children:[x?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.py_5xl,qs.atoms.gap_md,qs.atoms.align_center,qs.atoms.justify_center],children:[(0,bt.jsx)(lo.Loader,{size:"xl"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"Asos8L"})})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(xf,{}),(0,bt.jsx)(gf,{replySettingsDisabled:!y,isSaving:a,onSave:v,postgate:b,onChangePostgate:p,threadgateAllowUISettings:j,onChangeThreadgateAllowUISettings:g})]}),(0,bt.jsx)(Qs.Close,{})]})}function gf({canSave:e=!0,onSave:t,isSaving:s,postgate:o,onChangePostgate:n,threadgateAllowUISettings:a,onChangeThreadgateAllowUISettings:i,replySettingsDisabled:l,isDirty:c,persist:d,onChangePersist:u}){const m=(0,qs.useTheme)(),{_:h}=(0,dt.useLingui)(),p=(0,im.useHaptics)(),[f,g]=(0,lt.useState)(!1),{data:x,isPending:_,isError:y}=Ja("curate"),[b,j]=(0,lt.useState)(!(o.embeddingRules&&o.embeddingRules.find((e=>e.$type===Zd.disableRule.$type)))),v=(0,lt.useCallback)((e=>{j(e),n(Wd(Object.assign({},o,{embeddingRules:e?[]:[Zd.disableRule]})))}),[j,o,n]),S=!!a.find((e=>"nobody"===e.type)),w=!!a.find((e=>"everybody"===e.type)),T=a.filter((e=>"list"===e.type)).length,k=(0,lt.useMemo)((()=>{const e=[];for(const t of a)switch(t.type){case"everybody":case"nobody":return[];case"followers":e.push("followers");break;case"following":e.push("following");break;case"mention":e.push("mention");break;case"list":e.push(`list:${t.list}`)}return e}),[a]);return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_lg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[l&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.px_md,qs.atoms.py_sm,qs.atoms.rounded_sm,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,m.atoms.bg_contrast_25],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{fill:m.atoms.text_contrast_low.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.leading_snug,m.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"rCcmIR"})})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,{opacity:l?.3:1}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_medium],children:(0,bt.jsx)(dt.Trans,{id:"yvDWMs"})}),(0,bt.jsx)(af.Group,{label:h({id:"8MdIOQ"}),type:"radio",maxSelections:1,disabled:l,values:w?["everyone"]:S?["nobody"]:[],onChange:e=>{e.includes("everyone")?i([{type:"everybody"}]):e.includes("nobody")?i([{type:"nobody"}]):i([{type:"mention"}])},children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm],children:[(0,bt.jsx)(af.Item,{name:"everyone",type:"checkbox",label:h({id:"d0kCIx"}),style:[qs.atoms.flex_1],children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"z64CLa"})})]})}),(0,bt.jsx)(af.Item,{name:"nobody",type:"checkbox",label:h({id:"VLlpbA"}),style:[qs.atoms.flex_1],children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"xpF9po"})})]})})]})}),(0,bt.jsx)(af.Group,{label:h({id:"Z0c5Vk"}),values:k,onChange:e=>{const t=[];if(0===e.length)t.push({type:"everybody"});else for(const s of e)if(s.startsWith("list:")){const e=s.slice(5);t.push({type:"list",list:e})}else t.push({type:s});i(t)},disabled:l,children:(0,bt.jsxs)(af.PanelGroup,{children:[(0,bt.jsx)(af.Item,{name:"followers",type:"checkbox",label:h({id:"TJdzwX"}),hitSlop:0,children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,adjacent:"trailing",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"pnEY+u"})})]})}),(0,bt.jsx)(af.Item,{name:"following",type:"checkbox",label:h({id:"a3XcBm"}),hitSlop:0,children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,adjacent:"both",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"RKtTtU"})})]})}),(0,bt.jsx)(af.Item,{name:"mention",type:"checkbox",label:h({id:"Gpbwcp"}),hitSlop:0,children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,adjacent:"both",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"vW6/4C"})})]})}),(0,bt.jsx)(ao.Button,{label:h(f?{id:"DKqw5l"}:{id:"+3Xo+b"}),accessibilityRole:"togglebutton",hitSlop:0,onPress:()=>{p("Light"),r.IS_IOS&&!f&&qr.default.configureNext(Object.assign({},qr.default.Presets.linear,{duration:175})),g((e=>!e))},children:(0,bt.jsxs)(af.Panel,{active:T>0,adjacent:f?"both":"leading",children:[(0,bt.jsx)(af.PanelText,{children:0===T?(0,bt.jsx)(dt.Trans,{id:"0mcAnU"}):(0,bt.jsx)(dt.Trans,{id:"Mg+hW0",values:{numberOfListsSelected:T},components:{0:(0,bt.jsx)(La.default,{style:[qs.atoms.font_normal,qs.atoms.italic]})}})}),(0,bt.jsx)(af.PanelIcon,{icon:f?mn.ChevronTop_Stroke2_Corner0_Rounded:mn.ChevronBottom_Stroke2_Corner0_Rounded})]})}),f&&(_?(0,bt.jsx)(af.Panel,{children:(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"lao9x9"})})}):y?(0,bt.jsx)(af.Panel,{children:(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"fZ2cjE"})})}):0===x.length?(0,bt.jsx)(af.Panel,{children:(0,bt.jsx)(af.PanelText,{children:(0,bt.jsx)(dt.Trans,{id:"LXP4VB"})})}):x.map(((e,t)=>(0,bt.jsx)(af.Item,{name:`list:${e.uri}`,type:"checkbox",label:h({id:"gfCAw3",values:{0:e.name}}),hitSlop:0,children:({selected:s})=>(0,bt.jsxs)(af.Panel,{active:s,adjacent:t===x.length-1?"leading":"both",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(Gi.UserAvatar,{size:24,type:"list",avatar:e.avatar}),(0,bt.jsx)(af.PanelText,{children:e.name})]})},e.uri))))]})})]})]}),(0,bt.jsx)(af.Item,{name:"quoteposts",type:"checkbox",label:h(b?{id:"RPl1Kg"}:{id:"KJQLjm"}),value:b,onChange:v,children:({selected:e})=>(0,bt.jsxs)(af.Panel,{active:e,children:[(0,bt.jsx)(af.PanelText,{icon:lf,children:(0,bt.jsx)(dt.Trans,{id:"U4vCK0"})}),(0,bt.jsx)(af.Switch,{})]})}),"undefined"!==typeof d&&(0,bt.jsx)(Fs.default,{style:[{minHeight:24},qs.atoms.justify_center],children:c?(0,bt.jsxs)(af.Item,{name:"persist",type:"checkbox",label:h({id:"J9OoMH"}),value:d,onChange:()=>u?.(!d),children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{style:[qs.atoms.text_md,qs.atoms.font_normal,m.atoms.text],children:(0,bt.jsx)(dt.Trans,{id:"J9OoMH"})})]}):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,m.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"L+gxxP"})})}),(0,bt.jsxs)(ao.Button,{disabled:!e||s,label:h({id:"tfDRzk"}),onPress:t,color:"primary",size:"large",children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),s&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})]})}function xf(){const e=(0,n.c)(2);let t,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[qs.atoms.pb_lg],e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(Fs.default,{style:t,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"Q0ToY3"})})}),e[1]=s):s=e[1],s}function _f(e){const t=(0,n.c)(7),{postUri:s,rootPostUri:o}=e,a=(0,Xo.useAnalytics)(),r=(0,On.useQueryClient)(),i=(0,Gt.useAgent)(),l=(0,Sp.useGetPost)();let c;return t[0]!==i||t[1]!==a||t[2]!==l||t[3]!==s||t[4]!==r||t[5]!==o?(c=async()=>{try{await Promise.all([r.prefetchQuery({queryKey:tf(s),queryFn:()=>Xp({agent:i,postUri:s}).then(yf),staleTime:yt.STALE.SECONDS.THIRTY}),r.prefetchQuery({queryKey:(0,Yd.createThreadgateViewQueryKey)(o),queryFn:async()=>(await l({uri:o})).threadgate??null,staleTime:yt.STALE.SECONDS.THIRTY})])}catch(e){const t=e;a.logger.error("Failed to prefetch post interaction settings",{safeMessage:t.message})}},t[0]=i,t[1]=a,t[2]=l,t[3]=s,t[4]=r,t[5]=o,t[6]=c):c=t[6],c}function yf(e){return e??null}const bf=(0,ti.createSinglePathSVG)({path:"M6.17 5.004c-.553-.029-.814.107-.937.23-.122.122-.258.383-.23.936.03.552.222 1.28.611 2.15.282.628.655 1.304 1.112 2.005a28.26 28.26 0 0 1 1.72-1.88 28.258 28.258 0 0 1 1.88-1.719 14.886 14.886 0 0 0-2.007-1.112c-.868-.39-1.597-.581-2.15-.61Zm5.83.44c-.985-.688-1.953-1.247-2.863-1.655-.998-.447-1.978-.736-2.863-.782-.885-.047-1.791.148-2.455.812-.664.664-.859 1.57-.812 2.455.046.885.335 1.865.782 2.863.408.91.967 1.878 1.655 2.863-.688.985-1.247 1.953-1.655 2.863-.447.998-.736 1.978-.782 2.863-.047.885.148 1.791.812 2.455.664.663 1.57.859 2.455.812.885-.046 1.865-.335 2.863-.782.91-.408 1.878-.967 2.863-1.655.985.688 1.952 1.247 2.863 1.655.998.447 1.978.736 2.863.782.885.047 1.791-.148 2.455-.812.663-.664.859-1.57.812-2.455-.046-.885-.335-1.865-.782-2.863-.408-.91-.967-1.878-1.655-2.863.688-.985 1.247-1.952 1.655-2.863.447-.998.736-1.978.782-2.863.047-.885-.148-1.791-.812-2.455-.664-.664-1.57-.859-2.455-.812-.885.046-1.865.335-2.863.782-.91.408-1.878.967-2.863 1.655Zm0 2.497A25.9 25.9 0 0 0 9.86 9.86 25.899 25.899 0 0 0 7.94 12c.569.711 1.211 1.431 1.92 2.14.709.709 1.429 1.351 2.14 1.92a25.925 25.925 0 0 0 2.14-1.92A25.925 25.925 0 0 0 16.06 12a25.921 25.921 0 0 0-1.92-2.14A25.904 25.904 0 0 0 12 7.94Zm5.274 2.384a28.232 28.232 0 0 0-1.72-1.88 28.27 28.27 0 0 0-1.88-1.719 14.89 14.89 0 0 1 2.007-1.112c.868-.39 1.597-.581 2.15-.61.552-.029.813.107.936.23.123.122.258.383.23.936-.03.552-.222 1.28-.611 2.15a14.883 14.883 0 0 1-1.112 2.005Zm0 3.35a28.24 28.24 0 0 1-1.72 1.88 28.24 28.24 0 0 1-1.88 1.719c.702.457 1.378.83 2.007 1.112.868.39 1.597.581 2.15.61.552.03.813-.106.936-.23.123-.122.258-.383.23-.935-.03-.553-.222-1.282-.611-2.15a14.888 14.888 0 0 0-1.112-2.006Zm-6.949 3.599a28.23 28.23 0 0 1-1.88-1.72 28.27 28.27 0 0 1-1.719-1.88 14.89 14.89 0 0 0-1.112 2.007c-.39.868-.581 1.597-.61 2.15-.029.552.107.813.23.936.122.123.383.258.936.23.552-.03 1.28-.222 2.15-.611a14.884 14.884 0 0 0 2.005-1.112Z"}),jf=(0,ti.createSinglePathSVG)({path:"M8.17 4A3.001 3.001 0 0 1 11 2h2c1.306 0 2.418.835 2.83 2H17a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1.17ZM8 6H7a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1v1a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V6Zm6 0V5a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v1h4Z"});var vf=s(73335);const Sf=(0,ti.createSinglePathSVG)({path:"M3.135 12C5.413 16.088 8.77 18 12 18s6.587-1.912 8.865-6C18.587 7.912 15.23 6 12 6c-3.228 0-6.587 1.912-8.865 6ZM12 4c4.24 0 8.339 2.611 10.888 7.54a1 1 0 0 1 0 .92C20.338 17.388 16.24 20 12 20c-4.24 0-8.339-2.611-10.888-7.54a1 1 0 0 1 0-.92C3.662 6.612 7.76 4 12 4Zm0 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),wf=((0,ti.createSinglePathSVG)({path:"M12 6c-3.127 0-6.367 1.79-8.638 5.606a.77.77 0 0 0 0 .788C5.633 16.209 8.873 18 12 18s6.367-1.79 8.638-5.606a.77.77 0 0 0 0-.788C18.367 7.791 15.127 6 12 6Zm0-2c3.952 0 7.79 2.272 10.357 6.583a2.77 2.77 0 0 1 0 2.834C19.79 17.727 15.952 20 12 20s-7.79-2.272-10.357-6.583a2.77 2.77 0 0 1 0-2.834C4.21 6.273 8.048 4 12 4Zm0 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-.293.707L15 14.414V20a1 1 0 0 1-.758.97l-4 1A1 1 0 0 1 9 21v-6.586L3.293 8.707A1 1 0 0 1 3 8V4Zm2 1v2.586l5.707 5.707A1 1 0 0 1 11 14v5.72l2-.5V14a1 1 0 0 1 .293-.707L19 7.586V5H5Z"})),Tf=(0,ti.createSinglePathSVG)({path:"M11.1 2a1 1 0 0 0-.832.445L8.851 4.57 6.6 4.05a1 1 0 0 0-.932.268l-1.35 1.35a1 1 0 0 0-.267.932l.52 2.251-2.126 1.417A1 1 0 0 0 2 11.1v1.8a1 1 0 0 0 .445.832l2.125 1.417-.52 2.251a1 1 0 0 0 .268.932l1.35 1.35a1 1 0 0 0 .932.267l2.251-.52 1.417 2.126A1 1 0 0 0 11.1 22h1.8a1 1 0 0 0 .832-.445l1.417-2.125 2.251.52a1 1 0 0 0 .932-.268l1.35-1.35a1 1 0 0 0 .267-.932l-.52-2.251 2.126-1.417A1 1 0 0 0 22 12.9v-1.8a1 1 0 0 0-.445-.832L19.43 8.851l.52-2.251a1 1 0 0 0-.268-.932l-1.35-1.35a1 1 0 0 0-.932-.267l-2.251.52-1.417-2.126A1 1 0 0 0 12.9 2h-1.8Zm-.968 4.255L11.635 4h.73l1.503 2.255a1 1 0 0 0 1.057.42l2.385-.551.566.566-.55 2.385a1 1 0 0 0 .42 1.057L20 11.635v.73l-2.255 1.503a1 1 0 0 0-.42 1.057l.551 2.385-.566.566-2.385-.55a1 1 0 0 0-1.057.42L12.365 20h-.73l-1.503-2.255a1 1 0 0 0-1.057-.42l-2.385.551-.566-.566.55-2.385a1 1 0 0 0-.42-1.057L4 12.365v-.73l2.255-1.503a1 1 0 0 0 .42-1.057L6.123 6.69l.566-.566 2.385.55a1 1 0 0 0 1.057-.42ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"}),kf=(0,ti.createSinglePathSVG)({path:"M9.996 2.869A1.951 1.951 0 0 1 11.62 2h.76c.653 0 1.262.326 1.624.869l1.141 1.712 1.749-.404a1.951 1.951 0 0 1 1.819.522l.588.589c.476.475.673 1.162.522 1.818l-.404 1.749 1.712 1.141c.543.362.869.971.869 1.624v.76c0 .653-.326 1.262-.869 1.624l-1.712 1.141.404 1.749a1.951 1.951 0 0 1-.522 1.819l-.588.588a1.951 1.951 0 0 1-1.819.522l-1.749-.404-1.141 1.712A1.951 1.951 0 0 1 12.38 22h-.76a1.951 1.951 0 0 1-1.624-.869L8.855 19.42l-1.749.404a1.951 1.951 0 0 1-1.818-.522l-.59-.588a1.951 1.951 0 0 1-.52-1.819l.403-1.749-1.712-1.141A1.951 1.951 0 0 1 2 12.38v-.76c0-.653.326-1.262.869-1.624L4.58 8.855l-.404-1.749A1.951 1.951 0 0 1 4.7 5.288l.589-.59a1.951 1.951 0 0 1 1.818-.52l1.749.403 1.141-1.712ZM8.5 12a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z"});var Cf=s(29596),If=s(98174);let Af=({post:e,postFeedContext:t,postReqId:s,record:o,richText:a,threadgateRecord:i,onShowLess:l,logContext:c})=>{const{hasSession:d,currentAccount:u}=(0,Gt.useSession)(),{_:m}=(0,dt.useLingui)(),h=(0,Xo.useAnalytics)(),p=(0,Bt.useLanguagePrefs)(),{mutateAsync:f}=(0,Sp.usePostDeleteMutation)(),{mutateAsync:g,isPending:x}=function(){const{_:e}=(0,dt.useLingui)(),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)(),o=(0,On.useQueryClient)(),{mutateAsync:n}=(0,Ut.useProfileUpdateMutation)();return(0,go.useMutation)({mutationFn:async({postUri:a,postCid:r,action:i})=>{const l="pin"===i;let c;try{if((0,Ha.updatePostShadow)(o,a,{pinned:l}),!t)throw new Error("Not signed in");const{data:i}=await s.getProfile({actor:t.did});c=i.pinnedPost?.uri,c&&c!==a&&(0,Ha.updatePostShadow)(o,c,{pinned:!1}),await n({profile:i,updates:e=>(e.pinnedPost=l?{uri:a,cid:r}:void 0,e),checkCommitted:e=>l?e.data.pinnedPost?.uri===a:!e.data.pinnedPost}),l?Ds.show(e({id:"mMWAgA"})):Ds.show(e({id:"LQ0OnR"})),o.invalidateQueries({queryKey:(0,Jr.RQKEY)(`author|${t.did}|posts_and_author_threads`)}),o.invalidateQueries({queryKey:(0,Jr.RQKEY)(`author|${t.did}|posts_with_replies`)})}catch(d){Ds.show(e({id:"0nCj3X"})),Mt.logger.error("Failed to pin post",{message:String(d)}),(0,Ha.updatePostShadow)(o,a,{pinned:!l}),c&&c!==a&&(0,Ha.updatePostShadow)(o,c,{pinned:!0})}}})}(),_=(0,Gt.useRequireAuth)(),y=(0,Bt.useHiddenPosts)(),{hidePost:b}=(0,Bt.useHiddenPostsApi)(),j=Fg(),v=(0,na.useOpenLink)(),S=Da(),w=(0,Ns.useNavigation)(),{mutedWordsDialogControl:T}=(0,Ks.useGlobalDialogsControlContext)(),k=(0,Qs.useDialogControl)(),C=(0,If.useReportDialogControl)(),I=(0,Qs.useDialogControl)(),A=(0,Qs.useDialogControl)(),P=(0,Qs.useDialogControl)(),E=(0,Qs.useDialogControl)(),L=(0,Qs.useDialogControl)(),{mutateAsync:R}=(0,Yd.useToggleReplyVisibilityMutation)(),B=e.uri,D=e.cid,O=(0,Va.useProfileShadow)(e.author),M=(0,lt.useMemo)((()=>{if(u&&e.embed)return function({viewerDid:e,post:t}){if(Dn.AppBskyEmbedRecord.isView(t.embed)){if(Dn.AppBskyEmbedRecord.isViewDetached(t.embed.record)){const s=new Dn.AtUri(t.embed.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!0}}if(Dn.AppBskyEmbedRecord.isViewRecord(t.embed.record)){const s=new Dn.AtUri(t.embed.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!1}}}else if(Dn.AppBskyEmbedRecordWithMedia.isView(t.embed)){if(Dn.AppBskyEmbedRecord.isViewDetached(t.embed.record.record)){const s=new Dn.AtUri(t.embed.record.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!0}}if(Dn.AppBskyEmbedRecord.isViewRecord(t.embed.record.record)){const s=new Dn.AtUri(t.embed.record.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!1}}}}({viewerDid:u.did,post:e})}),[e,u]),F=o.reply?.root?.uri||B,N=Boolean(o.reply),[H,V,z]=(0,Sp.useThreadMuteMutationQueue)(e,F),U=y&&y.includes(B),W=O.did===u?.did,G=new Dn.AtUri(F).host===u?.did,q=(0,Bs.useMergedThreadgateHiddenReplies)({threadgateRecord:i}).has(B),Q=e.viewer?.pinned,{mutateAsync:K,isPending:Z}=function(){const e=(0,n.c)(7),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)(),o=(0,Sp.useGetPosts)(),a=lt.useRef(void 0);let r,i;return e[0]!==t||e[1]!==s?(r=async e=>{const{post:o,quoteUri:n,action:r}=e;a.current=o.embed,"detach"===r&&(0,Ha.updatePostShadow)(s,o.uri,{embed:Qd({post:o,quote:void 0,quoteUri:n,detached:!0})}),await ef({agent:t,postUri:n},(async e=>{if(e){if("detach"===r)return Gd(e,{detachedEmbeddingUris:[o.uri]});if("reattach"===r)return Object.assign({},e,{detachedEmbeddingUris:e.detachedEmbeddingUris?.filter((e=>e!==o.uri))||[]})}else if("detach"===r)return Wd({post:n,detachedEmbeddingUris:[o.uri]})}))},e[0]=t,e[1]=s,e[2]=r):r=e[2],e[3]!==o||e[4]!==s||e[5]!==r?(i={mutationFn:r,async onSuccess(e,t){const{post:n,quoteUri:a,action:r}=t;if("reattach"===r)try{const[e]=await o({uris:[a]});(0,Ha.updatePostShadow)(s,n.uri,{embed:Qd({post:n,quote:e,quoteUri:void 0,detached:!1})})}catch(i){const e=i;Mt.logger.error("Postgate: failed to get quote post for re-attachment",{safeMessage:e.message})}},onError(e,t){const{post:o,action:n}=t;"detach"===n&&a.current&&(Dn.AppBskyEmbedRecord.isView(a.current)||Dn.AppBskyEmbedRecordWithMedia.isView(a.current))&&(0,Ha.updatePostShadow)(s,o.uri,{embed:a.current})},onSettled(){a.current=void 0}},e[3]=o,e[4]=s,e[5]=r,e[6]=i):i=e[6],(0,go.useMutation)(i)}(),[Y]=(0,Ut.useProfileBlockMutationQueue)(O),[$,X]=(0,Ut.useProfileMuteMutationQueue)(O),J=_f({postUri:e.uri,rootPostUri:F}),ee=(0,lt.useMemo)((()=>{const e=new Dn.AtUri(B);return(0,Oa.makeProfileLink)(O,"post",e.rkey)}),[B,O]),te=!!O.labels?.find((e=>"!no-unauthenticated"===e.val)),se=async()=>{if(!M)return;const t=M.isDetached?"reattach":"detach",s="detach"===t;try{await K({post:e,quoteUri:M.uri,action:M.isDetached?"reattach":"detach"}),Ds.show(m(s?{id:"fj6x97"}:{id:"6ZPdY1"}))}catch(o){Ds.show(m({id:"JNBh/n"})),Mt.logger.error(`Failed to ${t} quote`,{safeMessage:o.message})}},oe=!W&&!U,ne=!W&&G&&!U&&N,ae=M&&M.isOwnedByViewer,re=async()=>{if(!ne)return;const e=q?"show":"hide",t="hide"===e;try{await R({postUri:F,replyUri:B,action:e}),t&&h.metric("thread:click:hideReplyForEveryone",{}),Ds.show(m(t?{id:"MTaaPI"}:{id:"AF0xm8"}))}catch(s){s instanceof Yd.MaxHiddenRepliesError?Ds.show(m({values:{MAX_HIDDEN_REPLIES:Yd.MAX_HIDDEN_REPLIES},id:"ErKt7C"})):s instanceof Yd.InvalidInteractionSettingsError?Ds.show(m({id:"5ciUVU"})):(Ds.show(m({id:"Ron617"})),Mt.logger.error(`Failed to ${e} reply`,{safeMessage:s.message}))}},ie=r.IS_INTERNAL||Vt.DISCOVER_DEBUG_DIDS[u?.did||""]||h.features.enabled(h.features.DebugFeedContext);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Outer,{children:[W&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{testID:"pinPostBtn",label:m(Q?{id:"XQMQZw"}:{id:"QFR1aH"}),disabled:x,onPress:()=>{h.metric(Q?"post:unpin":"post:pin",{}),g({postUri:B,postCid:D,action:Q?"unpin":"pin"})},children:[(0,bt.jsx)(Kp.ItemText,{children:m(Q?{id:"XQMQZw"}:{id:"QFR1aH"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:x?lo.Loader:Qi,position:"right"})]})}),(0,bt.jsx)(Kp.Divider,{})]}),(0,bt.jsx)(Kp.Group,{children:!te||d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Item,{testID:"postDropdownTranslateBtn",label:m({id:"pi8x/S"}),onPress:()=>{S(o.text,p.primaryLanguage),qc.dangerousIsType(e.record,Dn.AppBskyFeedPost.isRecord)&&h.metric("translate",{sourceLanguages:e.record.langs??[],targetLanguage:p.primaryLanguage,textLength:e.record.text.length})},children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"pi8x/S"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:si,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownCopyTextBtn",label:m({id:"iQgJaz"}),onPress:()=>{const e=Yp(a,!0);Zp.setStringAsync(e),Ds.show(m({id:"FxVG/l"}),"clipboard-check")},children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"iQgJaz"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf,position:"right"})]})]}):(0,bt.jsxs)(Kp.Item,{testID:"postDropdownSignInBtn",label:m({id:"mz9TJF"}),onPress:()=>_((()=>{})),children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"mz9TJF"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Sf,position:"right"})]})}),d&&j.enabled&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{testID:"postDropdownShowMoreBtn",label:m({id:"jW1hzq"}),onPress:()=>{j.sendInteraction({event:"app.bsky.feed.defs#requestMore",item:B,feedContext:t,reqId:s}),h.metric("post:showMore",{uri:B,authorDid:O.did,logContext:c,feedDescriptor:j.feedDescriptor}),Ds.show(m({id:"f9Bcg5"}))},children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"jW1hzq"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:vf.EmojiSmile_Stroke2_Corner0_Rounded,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownShowLessBtn",label:m({id:"CQ/J8K"}),onPress:()=>{j.sendInteraction({event:"app.bsky.feed.defs#requestLess",item:B,feedContext:t,reqId:s}),h.metric("post:showLess",{uri:B,authorDid:O.did,logContext:c,feedDescriptor:j.feedDescriptor}),l?l({item:B,feedContext:t}):Ds.show(m({id:"f9Bcg5"}))},children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"CQ/J8K"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:vf.EmojiSad_Stroke2_Corner0_Rounded,position:"right"})]})]})]}),ie&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownReportMisclassificationBtn",label:m({id:"SjjKyj"}),onPress:()=>{const e=`https://docs.google.com/forms/d/e/1FAIpQLSd0QPqhNFksDQf1YyOos7r1ofCLvmrKAH1lU042TaS3GAZaWQ/viewform?entry.1756031717=${(0,zt.toShareUrl)(ee)}`;v(e)},children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"SjjKyj"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:bf,position:"right"})]})]}),d&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{testID:"postDropdownMuteThreadBtn",label:m(H?{id:"s12/Py"}:{id:"jq7SjD"}),onPress:()=>{try{H?(z(),h.metric("post:unmute",{uri:B,authorDid:O.did,logContext:c,feedDescriptor:j.feedDescriptor}),Ds.show(m({id:"pVj+Jp"}))):(V(),h.metric("post:mute",{uri:B,authorDid:O.did,logContext:c,feedDescriptor:j.feedDescriptor}),Ds.show(m({id:"L1+K6L"})))}catch(e){"AbortError"!==e?.name&&(Mt.logger.error("Failed to toggle thread mute",{message:e}),Ds.show(m({id:"ZfARMq"}),"xmark"))}},children:[(0,bt.jsx)(Kp.ItemText,{children:m(H?{id:"s12/Py"}:{id:"jq7SjD"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:H?Eh:Ph.Mute_Stroke2_Corner0_Rounded,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownMuteWordsBtn",label:m({id:"SLpzWX"}),onPress:()=>T.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"SLpzWX"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:wf,position:"right"})]})]})]}),d&&(ne||ae||oe)&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[oe&&(0,bt.jsxs)(Kp.Item,{testID:"postDropdownHideBtn",label:m(N?{id:"Q8z5/C"}:{id:"vcb5vM"}),onPress:()=>A.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m(N?{id:"Q8z5/C"}:{id:"vcb5vM"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Oc.EyeSlash_Stroke2_Corner0_Rounded,position:"right"})]}),ne&&(0,bt.jsxs)(Kp.Item,{testID:"postDropdownHideBtn",label:m(q?{id:"TPZXdh"}:{id:"pJwDYA"}),onPress:q?re:()=>L.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m(q?{id:"TPZXdh"}:{id:"pJwDYA"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:q?Sf:Oc.EyeSlash_Stroke2_Corner0_Rounded,position:"right"})]}),ae&&(0,bt.jsxs)(Kp.Item,{disabled:Z,testID:"postDropdownHideBtn",label:M.isDetached?m({id:"CA5w+T"}):m({id:"MGP2kL"}),onPress:M.isDetached?se:()=>E.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:M.isDetached?m({id:"CA5w+T"}):m({id:"MGP2kL"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Z?lo.Loader:M.isDetached?Sf:Oc.EyeSlash_Stroke2_Corner0_Rounded,position:"right"})]})]})]}),d&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[!W&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Item,{testID:"postDropdownMuteBtn",label:O.viewer?.muted?m({id:"tGvT9+"}):m({id:"BT9ocQ"}),onPress:async()=>{if(O.viewer?.muted)try{await X(),Ds.show(m({id:"QU/XdG"}))}catch(e){"AbortError"!==e?.name&&(Mt.logger.error("Failed to unmute account",{message:e}),Ds.show(m({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}else try{await $(),Ds.show(m({id:"qWVN11"}))}catch(t){"AbortError"!==t?.name&&(Mt.logger.error("Failed to mute account",{message:t}),Ds.show(m({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},children:[(0,bt.jsx)(Kp.ItemText,{children:O.viewer?.muted?m({id:"tGvT9+"}):m({id:"BT9ocQ"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:O.viewer?.muted?Eh:Ph.Mute_Stroke2_Corner0_Rounded,position:"right"})]}),!O.viewer?.blocking&&(0,bt.jsxs)(Kp.Item,{testID:"postDropdownBlockBtn",label:m({id:"ERffXY"}),onPress:()=>k.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"ERffXY"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:pc.PersonX_Stroke2_Corner0_Rounded,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownReportBtn",label:m({id:"6IcSvC"}),onPress:()=>C.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"6IcSvC"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Cf.Warning_Stroke2_Corner0_Rounded,position:"right"})]})]}),W&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Item,Object.assign({testID:"postDropdownEditPostInteractions",label:m({id:"8I6lte"}),onPress:()=>P.open()},W?{onHoverIn:J}:{},{children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"8I6lte"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Tf,position:"right"})]})),(0,bt.jsxs)(Kp.Item,{testID:"postDropdownDeleteBtn",label:m({id:"04G5Az"}),onPress:()=>I.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:m({id:"04G5Az"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded,position:"right"})]})]})]})]})]}),(0,bt.jsx)(Zi.Basic,{control:I,title:m({id:"FbPNuJ"}),description:m({id:"2QY2bw"}),onConfirm:()=>{f({uri:B}).then((()=>{Ds.show(m({id:"vD6zF/"}));const e=Kn(w.getState());if("PostThread"===e.name){const t=e.params;if(u&&W&&(t.name===u.handle||t.name===u.did)){(0,Oa.makeProfileLink)(O,"post",t.rkey)===ee&&w.canGoBack()&&w.goBack()}}}),(e=>{Mt.logger.error("Failed to delete post",{message:e}),Ds.show(m({id:"ytX9qK"}),"xmark")}))},confirmButtonCta:m({id:"cnGeoo"}),confirmButtonColor:"negative"}),(0,bt.jsx)(Zi.Basic,{control:A,title:m(N?{id:"OzKITz"}:{id:"e0QoQq"}),description:m({id:"V+UxdB"}),onConfirm:()=>{b({uri:B}),h.metric("thread:click:hideReplyForMe",{})},confirmButtonCta:m({id:"vLyv1R"})}),(0,bt.jsx)(If.ReportDialog,{control:C,subject:Object.assign({},e,{$type:"app.bsky.feed.defs#postView"})}),(0,bt.jsx)(pf,{control:P,postUri:e.uri,rootPostUri:F,initialThreadgateView:e.threadgate}),(0,bt.jsx)(Zi.Basic,{control:E,title:m({id:"78rGCh"}),description:m({id:"M71yBf"}),onConfirm:se,confirmButtonCta:m({id:"/2cecn"})}),(0,bt.jsx)(Zi.Basic,{control:L,title:m({id:"OzKITz"}),description:m({id:"qOLU3K"}),onConfirm:re,confirmButtonCta:m({id:"4as9PU"})}),(0,bt.jsx)(Zi.Basic,{control:k,title:m({id:"9CjDMy"}),description:m({id:"HG4qt4"}),onConfirm:async()=>{try{await Y(),Ds.show(m({id:"ZJdD7R"}))}catch(e){"AbortError"!==e?.name&&(Mt.logger.error("Failed to block account",{message:e}),Ds.show(m({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}},confirmButtonCta:m({id:"CJkEfx"}),confirmButtonColor:"negative"})]})};Af=(0,lt.memo)(Af);let Pf=e=>{const t=(0,n.c)(26),{testID:s,post:o,postFeedContext:a,postReqId:r,big:i,record:l,richText:c,timestamp:d,threadgateRecord:u,onShowLess:m,hitSlop:h,logContext:p}=e,{_:f}=(0,dt.useLingui)(),g=(0,Kp.useMenuControl)(),[x,_]=(0,lt.useState)(!1);let y;t[0]!==g?(y=Object.assign({},g,{open(){_(!0),setTimeout(g.open)}}),t[0]=g,t[1]=y):y=t[1];const b=y;let j,v,S,w,T;return t[2]!==f?(j=f({id:"BJ5/tY"}),t[2]=f,t[3]=j):j=t[3],t[4]!==i||t[5]!==h?(v=e=>{const{props:t}=e;return(0,bt.jsx)(Up,Object.assign({testID:"postDropdownBtn",big:i,label:t.accessibilityLabel},t,{hitSlop:h,children:(0,bt.jsx)(Wp,{icon:Qp})}))},t[4]=i,t[5]=h,t[6]=v):v=t[6],t[7]!==j||t[8]!==v?(S=(0,bt.jsx)(Kp.Trigger,{label:j,children:v}),t[7]=j,t[8]=v,t[9]=S):S=t[9],t[10]!==x||t[11]!==p||t[12]!==m||t[13]!==o||t[14]!==a||t[15]!==r||t[16]!==l||t[17]!==c||t[18]!==s||t[19]!==u||t[20]!==d?(w=x&&(0,bt.jsx)(Af,{testID:s,post:o,postFeedContext:a,postReqId:r,record:l,richText:c,timestamp:d,threadgateRecord:u,onShowLess:m,logContext:p}),t[10]=x,t[11]=p,t[12]=m,t[13]=o,t[14]=a,t[15]=r,t[16]=l,t[17]=c,t[18]=s,t[19]=u,t[20]=d,t[21]=w):w=t[21],t[22]!==b||t[23]!==S||t[24]!==w?(T=(0,bt.jsx)(_m,{onKeyDown:!1,children:(0,bt.jsxs)(Kp.Root,{control:b,children:[S,w]})}),t[22]=b,t[23]=S,t[24]=w,t[25]=T):T=t[25],T};Pf=(0,lt.memo)(Pf);const Ef=e=>{const t=(0,n.c)(12),{isReposted:s,repostCount:o,onRepost:a,onQuote:r,big:i,embeddingDisabled:l}=e,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),{hasSession:u}=(0,Gt.useSession)(),m=(0,Gt.useRequireAuth)(),h=up();let p;return t[0]!==d||t[1]!==i||t[2]!==l||t[3]!==h||t[4]!==u||t[5]!==s||t[6]!==r||t[7]!==a||t[8]!==o||t[9]!==m||t[10]!==c.palette.positive_500?(p=u?(0,bt.jsx)(_m,{onKeyDown:!1,children:(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:d({id:"JOV5dR"}),children:e=>{const{props:t}=e;return(0,bt.jsxs)(Up,Object.assign({testID:"repostBtn",active:s,activeColor:c.palette.positive_500,label:t.accessibilityLabel,big:i},t,{children:[(0,bt.jsx)(Wp,{icon:ci}),"undefined"!==typeof o&&o>0&&(0,bt.jsx)(Gp,{testID:"repostCount",children:h(o)})]}))}}),(0,bt.jsxs)(Kp.Outer,{style:{minWidth:170},children:[(0,bt.jsxs)(Kp.Item,{label:d(s?{id:"6pYY4t"}:{id:"4yzs8i"}),testID:"repostDropdownRepostBtn",onPress:a,children:[(0,bt.jsx)(Kp.ItemText,{children:d(s?{id:"6pYY4t"}:{id:"4yzs8i"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:ci,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{disabled:l,label:d(l?{id:"ttKDoG"}:{id:"8HFFRQ"}),testID:"repostDropdownQuoteBtn",onPress:r,children:[(0,bt.jsx)(Kp.ItemText,{children:d(l?{id:"ttKDoG"}:{id:"8HFFRQ"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:lf,position:"right"})]})]})]})}):(0,bt.jsxs)(Up,{onPress:()=>m(Lf),active:s,activeColor:c.palette.positive_500,label:d({id:"JOV5dR"}),big:i,children:[(0,bt.jsx)(Wp,{icon:ci}),"undefined"!==typeof o&&o>0&&(0,bt.jsx)(Gp,{testID:"repostCount",children:h(o)})]}),t[0]=d,t[1]=i,t[2]=l,t[3]=h,t[4]=u,t[5]=s,t[6]=r,t[7]=a,t[8]=o,t[9]=m,t[10]=c.palette.positive_500,t[11]=p):p=t[11],p};function Lf(){}const Rf=(0,ti.createSinglePathSVG)({path:"M11.839 4.744c0-1.488 1.724-2.277 2.846-1.364l.107.094 7.66 7.256.128.134c.558.652.558 1.62 0 2.272l-.128.135-7.66 7.255c-1.115 1.057-2.953.267-2.953-1.27v-2.748c-3.503.055-5.417.41-6.592.97-.997.474-1.525 1.122-2.084 2.14l-.243.46c-.558 1.088-2.09.583-2.08-.515l.015-.748c.111-3.68.777-6.5 2.546-8.415 1.83-1.98 4.63-2.771 8.438-2.884V4.744Zm2 3.256c0 .79-.604 1.41-1.341 1.494l-.149.01c-3.9.057-6.147.813-7.48 2.254-.963 1.043-1.562 2.566-1.842 4.79.38-.327.826-.622 1.361-.877 1.656-.788 4.08-1.14 7.938-1.169l.153.007c.754.071 1.36.704 1.36 1.491v2.675L20.884 12l-7.045-6.676V8Z"});var Bf=s(99363);const Df=(0,ti.createSinglePathSVG)({path:"M14.242 3.03a1 1 0 0 1 .728 1.213l-4 16a1 1 0 1 1-1.94-.485l4-16a1 1 0 0 1 1.213-.728ZM6.707 7.293a1 1 0 0 1 0 1.414L3.414 12l3.293 3.293a1 1 0 1 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0Zm10.586 0a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 1 1-1.414-1.414L20.586 12l-3.293-3.293a1 1 0 0 1 0-1.414Z"}),Of=(0,ti.createSinglePathSVG)({path:"M14.243 3.03a1 1 0 0 1 .727 1.213l-4 16a1 1 0 1 1-1.94-.485l4-16a1 1 0 0 1 1.213-.728ZM6.707 7.293a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 0 0 1.414l2.586 2.586a1 1 0 1 1-1.414 1.414l-2.586-2.586a3 3 0 0 1 0-4.242l2.586-2.586a1 1 0 0 1 1.414 0Zm10.586 0a1 1 0 0 1 1.414 0l2.586 2.586a3 3 0 0 1 0 4.242l-2.586 2.586a1 1 0 1 1-1.414-1.414l2.586-2.586a1 1 0 0 0 0-1.414l-2.586-2.586a1 1 0 0 1 0-1.414Z"}),Mf=["control"];let Ff=e=>{const t=(0,n.c)(9);let s,o,a,r,i;if(t[0]!==e){var l=e;({control:s}=l),o=(0,ta.default)(l,Mf),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];return t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Qs.Handle,{}),t[3]=a):a=t[3],t[4]!==o?(r=(0,bt.jsx)(Nf,Object.assign({},o)),t[4]=o,t[5]=r):r=t[5],t[6]!==s||t[7]!==r?(i=(0,bt.jsxs)(Qs.Outer,{control:s,children:[a,r]}),t[6]=s,t[7]=r,t[8]=i):i=t[8],i};function Nf(e){const t=(0,n.c)(70),{postAuthor:s,postCid:o,postUri:a,record:r,timestamp:i}=e,l=(0,qs.useTheme)(),{_:c,i18n:d}=(0,dt.useLingui)(),[u,m]=(0,lt.useState)(!1),[h,p]=(0,lt.useState)(!1),[f,g]=(0,lt.useState)("system");let x,_;t[0]!==u?(x=()=>{if(u){const e=setTimeout((()=>{m(!1)}),2e3);return()=>clearTimeout(e)}},_=[u],t[0]=u,t[1]=x,t[2]=_):(x=t[1],_=t[2]),(0,lt.useEffect)(x,_);const y=function(e){return(0,zt.toShareUrl)(e)+"?ref_src=embed"},b=r.langs&&r.langs.length>0?r.langs[0]:"",j=y(["/profile",s.did].join("/")),v=new Dn.AtUri(a),S=y(["/profile",s.did,"post",v.rkey].join("/")),w=`<blockquote class="bluesky-embed" data-bluesky-uri="${zf(a)}" data-bluesky-cid="${zf(o)}" data-bluesky-embed-color-mode="${zf(f)}"><p lang="${zf(b)}">${zf(r.text)}${r.embed?`<br><br><a href="${zf(S)}">[image or embed]</a>`:""}</p>&mdash; ${zf(s.displayName||s.handle)} (<a href="${zf(j)}">@${zf(s.handle)}</a>) <a href="${zf(S)}">${zf((0,Na.niceDate)(d,i))}</a></blockquote><script async src="${Vt.EMBED_SCRIPT}" charset="utf-8"><\/script>`;let T,k,C,I,A,P,E,L,R,B,D;t[3]!==c?(T=c({id:"jdVwsS"}),t[3]=c,t[4]=T):T=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(k=[{maxWidth:500}],t[5]=k):k=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.gap_lg],t[6]=C):C=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.gap_sm],t[7]=I):I=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"jdVwsS"})}),t[8]=A):A=t[8],t[9]!==l.atoms.text_contrast_medium?(P=[qs.atoms.text_md,l.atoms.text_contrast_medium,qs.atoms.leading_normal],t[9]=l.atoms.text_contrast_medium,t[10]=P):P=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(dt.Trans,{id:"ZhtGiY"}),t[11]=E):E=t[11],t[12]!==P?(L=(0,bt.jsxs)(Fs.default,{style:I,children:[A,(0,bt.jsx)(co.Text,{style:P,children:E})]}),t[12]=P,t[13]=L):L=t[13],t[14]!==l.atoms.border_contrast_low?(R=[qs.atoms.border,l.atoms.border_contrast_low,qs.atoms.rounded_sm,qs.atoms.overflow_hidden],t[14]=l.atoms.border_contrast_low,t[15]=R):R=t[15],t[16]!==c||t[17]!==h?(B=c(h?{id:"pXvNd4"}:{id:"k1yn1C"}),t[16]=c,t[17]=h,t[18]=B):B=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(D=()=>p(Hf),t[19]=D):D=t[19];const O=h&&l.atoms.bg_contrast_25;let M;t[20]!==O?(M=[qs.atoms.justify_start,O],t[20]=O,t[21]=M):M=t[21];const F=h?mn.ChevronBottom_Stroke2_Corner0_Rounded:mn.ChevronRight_Stroke2_Corner0_Rounded;let N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe;return t[22]!==F?(N=(0,bt.jsx)(ao.ButtonIcon,{icon:F}),t[22]=F,t[23]=N):N=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Vw30se"})}),t[24]=H):H=t[24],t[25]!==B||t[26]!==M||t[27]!==N?(V=(0,bt.jsxs)(ao.Button,{label:B,color:"secondary",variant:"ghost",size:"small",shape:"default",onPress:D,style:M,children:[N,H]}),t[25]=B,t[26]=M,t[27]=N,t[28]=V):V=t[28],t[29]!==c||t[30]!==f||t[31]!==h||t[32]!==l.atoms.text_contrast_medium?(z=h&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.p_md],children:[(0,bt.jsx)(co.Text,{style:[l.atoms.text_contrast_medium,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"rFmBG3"})}),(0,bt.jsxs)(Bf.Root,{label:c({id:"YDWhuY"}),type:"radio",value:f,onChange:g,children:[(0,bt.jsx)(Bf.Item,{value:"system",label:c({id:"D+NlUC"}),children:(0,bt.jsx)(Bf.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"D+NlUC"})})}),(0,bt.jsx)(Bf.Item,{value:"light",label:c({id:"1njn7W"}),children:(0,bt.jsx)(Bf.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"1njn7W"})})}),(0,bt.jsx)(Bf.Item,{value:"dark",label:c({id:"pvnfJD"}),children:(0,bt.jsx)(Bf.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"pvnfJD"})})})]})]}),t[29]=c,t[30]=f,t[31]=h,t[32]=l.atoms.text_contrast_medium,t[33]=z):z=t[33],t[34]!==R||t[35]!==V||t[36]!==z?(U=(0,bt.jsxs)(Fs.default,{style:R,children:[V,z]}),t[34]=R,t[35]=V,t[36]=z,t[37]=U):U=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.flex_row,qs.atoms.gap_sm],t[38]=W):W=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(G=[qs.atoms.flex_1],t[39]=G):G=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(q=(0,bt.jsx)(mo.Icon,{icon:Df}),t[40]=q):q=t[40],t[41]!==c?(Q=c({id:"Ah8XN6"}),t[41]=c,t[42]=Q):Q=t[42],t[43]!==w.length?(K={start:0,end:w.length},t[43]=w.length,t[44]=K):K=t[44],t[45]!==w||t[46]!==Q||t[47]!==K?(Z=(0,bt.jsx)(Fs.default,{style:G,children:(0,bt.jsxs)(mo.Root,{children:[q,(0,bt.jsx)(mo.Input,{label:Q,editable:!1,selection:K,value:w})]})}),t[45]=w,t[46]=Q,t[47]=K,t[48]=Z):Z=t[48],t[49]!==c?(Y=c({id:"NmPNJJ"}),t[49]=c,t[50]=Y):Y=t[50],t[51]!==w?($=()=>{navigator.clipboard.writeText(w),m(!0)},t[51]=w,t[52]=$):$=t[52],t[53]!==u?(X=u?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.ButtonIcon,{icon:ro.Check_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"PiH3UR"})})]}):(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"NmPNJJ"})}),t[53]=u,t[54]=X):X=t[54],t[55]!==Y||t[56]!==$||t[57]!==X?(J=(0,bt.jsx)(ao.Button,{label:Y,color:"primary",variant:"solid",size:"large",onPress:$,children:X}),t[55]=Y,t[56]=$,t[57]=X,t[58]=J):J=t[58],t[59]!==Z||t[60]!==J?(ee=(0,bt.jsxs)(Fs.default,{style:W,children:[Z,J]}),t[59]=Z,t[60]=J,t[61]=ee):ee=t[61],t[62]!==L||t[63]!==U||t[64]!==ee?(te=(0,bt.jsxs)(Fs.default,{style:C,children:[L,U,ee]}),t[62]=L,t[63]=U,t[64]=ee,t[65]=te):te=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(se=(0,bt.jsx)(Qs.Close,{}),t[66]=se):se=t[66],t[67]!==T||t[68]!==te?(oe=(0,bt.jsxs)(Qs.Inner,{label:T,style:k,children:[te,se]}),t[67]=T,t[68]=te,t[69]=oe):oe=t[69],oe}function Hf(e){return!e}Ff=(0,lt.memo)(Ff);const Vf=/["'&<>]/;function zf(e){const t=String(e),s=Vf.exec(t);if(!s)return t;let o,n,a="",r=0;for(n=s.index;n<t.length;n++){switch(t.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==n&&(a+=t.slice(r,n)),r=n+1,a+=o}return r!==n?a+t.slice(r,n):a}const Uf=e=>["convo",e];function Wf(e,t){e.setQueryData(Uf(t.id),t)}function Gf(){const e=(0,n.c)(6),t=(0,ts.useOnMarkAsRead)(),s=(0,On.useQueryClient)(),o=(0,Gt.useAgent)();let a,r;return e[0]!==o?(a=async e=>{const{convoId:t,messageId:s}=e;if(!t)throw new Error("No convoId provided");await o.api.chat.bsky.convo.updateRead({convoId:t,messageId:s},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS})},e[0]=o,e[1]=a):a=e[1],e[2]!==t||e[3]!==s||e[4]!==a?(r={mutationFn:a,onMutate(e){const{convoId:s}=e;if(!s)throw new Error("No convoId provided");t(s)},onSuccess(e,t){const{convoId:o}=t;o&&s.setQueriesData({queryKey:[ts.RQKEY_ROOT]},(e=>{if(!e)return e;return(0,ts.getConvoFromQueryData)(o,e)?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{convos:e.convos.map((e=>e.id===o?Object.assign({},e,{unreadCount:0}):e))})))}):void 0}))}},e[2]=t,e[3]=s,e[4]=a,e[5]=r):r=e[5],(0,go.useMutation)(r)}function qf(e){const t=(0,n.c)(11),{onSuccess:s,onError:o}=e,a=(0,On.useQueryClient)(),r=(0,Gt.useAgent)();let i,l,c,d;return t[0]!==r?(i=async e=>{const{data:t}=await r.chat.bsky.convo.getConvoForMembers({members:e},{headers:Vt.DM_SERVICE_HEADERS});return t},t[0]=r,t[1]=i):i=t[1],t[2]!==s||t[3]!==a?(l=e=>{Wf(a,e.convo),s?.(e)},t[2]=s,t[3]=a,t[4]=l):l=t[4],t[5]!==o?(c=e=>{Mt.logger.error(e),o?.(e)},t[5]=o,t[6]=c):c=t[6],t[7]!==i||t[8]!==l||t[9]!==c?(d={mutationFn:i,onSuccess:l,onError:c},t[7]=i,t[8]=l,t[9]=c,t[10]=d):d=t[10],(0,go.useMutation)(d)}const Qf={userDid:void 0,prefs:xr.DEFAULT_LOGGED_OUT_PREFERENCES.moderationPrefs},Kf=e=>["actor-autocomplete",e];function Zf(e,t,s){const o=(0,ds.useModerationOpts)(),n=(0,Gt.useAgent)();return(e=e.toLowerCase().trim()).endsWith(".")&&(e=e.slice(0,-1)),(0,Zs.useQuery)({staleTime:yt.STALE.MINUTES.ONE,queryKey:Kf(e||""),async queryFn(){const t=e?await n.searchActorsTypeahead({q:e,limit:s||8}):void 0;return t?.data.actors||[]},select:lt.useCallback((t=>Yf({q:e,searched:t,moderationOpts:o||Qf})),[e,o]),placeholderData:t?Ga.keepPreviousData:void 0})}function Yf({q:e,searched:t=[],moderationOpts:s}){let o=[];for(const n of t)o.find((e=>e.handle===n.handle))||o.push(n);return o.filter((t=>{const o=(0,Dn.moderateProfile)(t,s).ui("profileList");return e&&t.handle.toLowerCase()===e&&!(0,Wu.moduiContainsHideableOffense)(o)||!o.filter||(0,Wu.isJustAMute)(o)}))}function $f(e){switch(e.associated?.chat?.allowIncoming){case"none":return!1;case"all":return!0;case"following":case void 0:return Boolean(e.viewer?.followedBy);default:return!1}}function Xf(e){const t=e.getMonth(),s=e.getDate();return`${e.getFullYear()}-${t}-${s}`}function Jf(e,t){if(!e.reactions)return!1;return e.reactions.filter((e=>e.sender.did===t)).length>=Vt.EMOJI_REACTION_LIMIT}function eg({title:e,showRecentConvos:t,sortByMessageDeclaration:s,onSelectChat:o,renderProfileCard:n}){const a=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),l=(0,ds.useModerationOpts)(),c=Qs.useDialogContext(),[d,u]=(0,lt.useState)(0),m=(0,lt.useRef)(null),{currentAccount:h}=(0,Gt.useSession)(),p=(0,lt.useRef)(null),[f,g]=(0,lt.useState)(""),{data:x,isError:_,isFetching:y}=Zf(f,!0,12),{data:b}=(0,hc.useProfileFollowsQuery)(h?.did),{data:j}=(0,ts.useListConvosQuery)({enabled:t,status:"accepted"}),v=(0,lt.useMemo)((()=>{let e=[];if(_)e.push({type:"empty",key:"empty",message:i({id:"zltW1E"})});else if(f.length){if(x?.length){for(const t of x)t.did!==h?.did&&e.push({type:"profile",key:t.did,profile:t});s&&(e=e.sort((e=>"profile"===e.type&&$f(e.profile)?-1:1)))}}else{const o=Array(10).fill(0).map(((e,t)=>({type:"placeholder",key:t+""})));if(t)if(j&&b){const t=new Set;for(const s of j.pages)for(const o of s.convos){const s=o.members.filter((e=>e.did!==h?.did));for(const o of s)t.has(o.did)||(t.add(o.did),e.push({type:"profile",key:o.did,profile:o}))}let o=[];for(const e of b.pages)for(const s of e.follows)t.has(s.did)||o.push({type:"profile",key:s.did,profile:s});s&&(o=o.sort((e=>$f(e.profile)?-1:1))),e.push(...o)}else e.push(...o);else if(b){for(const t of b.pages)for(const s of t.follows)e.push({type:"profile",key:s.did,profile:s});s&&(e=e.sort((e=>"profile"===e.type&&$f(e.profile)?-1:1)))}else e.push(...o)}return e}),[i,f,x,_,h?.did,b,j,t,s]);!f||y||v.length||_||v.push({type:"empty",key:"empty",message:i({id:"Ev2r9A"})});const S=(0,lt.useCallback)((({item:e})=>{switch(e.type){case"profile":return n?(0,bt.jsx)(lt.Fragment,{children:n(e)},e.key):(0,bt.jsx)(tg,{profile:e.profile,moderationOpts:l,onPress:o},e.key);case"placeholder":return(0,bt.jsx)(sg,{},e.key);case"empty":return(0,bt.jsx)(og,{message:e.message},e.key);default:return null}}),[l,o,n]);(0,lt.useLayoutEffect)((()=>{r.IS_WEB&&setImmediate((()=>{p?.current?.focus()}))}),[]);const w=(0,lt.useMemo)((()=>(0,bt.jsxs)(Fs.default,{onLayout:e=>u(e.nativeEvent.layout.height),style:[qs.atoms.relative,(0,qs.web)(qs.atoms.pt_lg),(0,qs.native)(qs.atoms.pt_4xl),(0,qs.android)({borderTopLeftRadius:qs.atoms.rounded_md.borderRadius,borderTopRightRadius:qs.atoms.rounded_md.borderRadius}),qs.atoms.pb_xs,qs.atoms.px_lg,qs.atoms.border_b,a.atoms.border_contrast_low,a.atoms.bg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,(0,qs.native)(qs.atoms.align_center),qs.atoms.justify_center],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.z_10,qs.atoms.text_lg,qs.atoms.font_bold,qs.atoms.leading_tight,a.atoms.text_contrast_high],children:e}),r.IS_WEB?(0,bt.jsx)(ao.Button,{label:i({id:"yz7wBu"}),size:"small",shape:"round",variant:r.IS_WEB?"ghost":"solid",color:"secondary",style:[qs.atoms.absolute,qs.atoms.z_20,(0,qs.web)({right:-4}),(0,qs.native)({right:0}),(0,qs.native)({height:32,width:32,borderRadius:16})],onPress:()=>c.close(),children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"md"})}):null]}),(0,bt.jsx)(Fs.default,{style:(0,qs.web)([qs.atoms.pt_xs]),children:(0,bt.jsx)(ng,{inputRef:p,value:f,onChangeText:e=>{g(e),m.current?.scrollToOffset({offset:0,animated:!1})},onEscape:c.close})})]})),[a.atoms.border_contrast_low,a.atoms.bg,a.atoms.text_contrast_high,i,e,f,c]);return(0,bt.jsx)(Qs.InnerFlatList,{ref:m,data:v,renderItem:S,ListHeaderComponent:w,stickyHeaderIndices:[0],keyExtractor:e=>e.key,style:[(0,qs.web)([qs.atoms.py_0,{height:"100vh",maxHeight:600},qs.atoms.px_0]),(0,qs.native)({height:"100%"})],webInnerContentContainerStyle:qs.atoms.py_0,webInnerStyle:[qs.atoms.py_0,{maxWidth:500,minWidth:200}],scrollIndicatorInsets:{top:d},keyboardDismissMode:"on-drag"})}function tg(e){const t=(0,n.c)(29),{profile:s,moderationOpts:o,onPress:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)();let l;t[0]!==s?(l=$f(s),t[0]=s,t[1]=l):l=t[1];const c=l;let d,u,m,h,p,f,g;if(t[2]!==i||t[3]!==c||t[4]!==o||t[5]!==a||t[6]!==s){const e=(0,Dn.moderateProfile)(s,o);let n;t[12]!==s.handle?(n=(0,Fa.sanitizeHandle)(s.handle,"@"),t[12]=s.handle,t[13]=n):n=t[13],u=n;const r=(0,Ma.sanitizeDisplayName)(s.displayName||(0,Fa.sanitizeHandle)(s.handle),e.ui("displayName"));let l;t[14]!==a||t[15]!==s.did?(l=()=>{a(s.did)},t[14]=a,t[15]=s.did,t[16]=l):l=t[16],m=l,d=ao.Button,h=!c,p=i({id:"C+NEPM",values:{displayName:r}}),t[2]=i,t[3]=c,t[4]=o,t[5]=a,t[6]=s,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p}else d=t[7],u=t[8],m=t[9],h=t[10],p=t[11];return t[17]!==c||t[18]!==u||t[19]!==o||t[20]!==s||t[21]!==r?(f=e=>{const{hovered:t,pressed:n,focused:a}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.py_sm,qs.atoms.px_lg,c?n||a||t?r.atoms.bg_contrast_25:r.atoms.bg:{opacity:.5}],children:(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:o,disabledPreview:!0}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsx)(Rl.Name,{profile:s,moderationOpts:o}),c?(0,bt.jsx)(Rl.Handle,{profile:s}):(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,r.atoms.text_contrast_high],numberOfLines:2,children:(0,bt.jsx)(dt.Trans,{id:"ZBas5k",values:{handle:u}})})]})]})})},t[17]=c,t[18]=u,t[19]=o,t[20]=s,t[21]=r,t[22]=f):f=t[22],t[23]!==d||t[24]!==m||t[25]!==h||t[26]!==p||t[27]!==f?(g=(0,bt.jsx)(d,{disabled:h,label:p,onPress:m,children:f}),t[23]=d,t[24]=m,t[25]=h,t[26]=p,t[27]=f,t[28]=g):g=t[28],g}function sg(){const e=(0,n.c)(17),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.flex_1,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.gap_md,qs.atoms.align_center,qs.atoms.flex_row],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={width:42,height:42},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25?(a=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,o,t.atoms.bg_contrast_25]}),e[2]=t.atoms.bg_contrast_25,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_1,qs.atoms.gap_sm],e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i={width:80,height:14},e[5]=i):i=e[5],e[6]!==t.atoms.bg_contrast_25?(l=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,i,t.atoms.bg_contrast_25]}),e[6]=t.atoms.bg_contrast_25,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c={width:120,height:10},e[8]=c):c=e[8],e[9]!==t.atoms.bg_contrast_25?(d=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,c,t.atoms.bg_contrast_25]}),e[9]=t.atoms.bg_contrast_25,e[10]=d):d=e[10],e[11]!==l||e[12]!==d?(u=(0,bt.jsxs)(Fs.default,{style:r,children:[l,d]}),e[11]=l,e[12]=d,e[13]=u):u=e[13],e[14]!==a||e[15]!==u?(m=(0,bt.jsxs)(Fs.default,{style:s,children:[a,u]}),e[14]=a,e[15]=u,e[16]=m):m=e[16],m}function og(e){const t=(0,n.c)(11),{message:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.p_lg,qs.atoms.py_xl,qs.atoms.align_center,qs.atoms.gap_md],t[0]=a):a=t[0],t[1]!==o.atoms.text_contrast_high?(r=[qs.atoms.text_sm,qs.atoms.italic,o.atoms.text_contrast_high],t[1]=o.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(co.Text,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],t[6]!==o.atoms.text_contrast_low?(l=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,o.atoms.text_contrast_low],children:"(\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b"}),t[6]=o.atoms.text_contrast_low,t[7]=l):l=t[7],t[8]!==i||t[9]!==l?(c=(0,bt.jsxs)(Fs.default,{style:a,children:[i,l]}),t[8]=i,t[9]=l,t[10]=c):c=t[10],c}function ng(e){const t=(0,n.c)(33),{value:s,onChangeText:o,onEscape:a,inputRef:r}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),{state:c,onIn:d,onOut:u}=(0,la.useInteractionState)(),{state:m,onIn:h,onOut:p}=(0,la.useInteractionState)(),f=c||m;let g,x;t[0]!==d||t[1]!==u?(g=(0,qs.web)({onMouseEnter:d,onMouseLeave:u}),t[0]=d,t[1]=u,t[2]=g):g=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[3]=x):x=t[3];const _=f?i.palette.primary_500:i.palette.contrast_300;let y,b,j;t[4]!==_?(y=(0,bt.jsx)(Hl.MagnifyingGlass_Stroke2_Corner0_Rounded,{size:"md",fill:_}),t[4]=_,t[5]=y):y=t[5],t[6]!==l?(b=l({id:"A1taO8"}),t[6]=l,t[7]=b):b=t[7],t[8]!==i.atoms.text?(j=[qs.atoms.flex_1,qs.atoms.py_md,qs.atoms.text_md,i.atoms.text],t[8]=i.atoms.text,t[9]=j):j=t[9];const v=i.palette.contrast_500,S="light"===i.name?"light":"dark";let w,T,k,C,I;return t[10]!==a?(w=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&a()},t[10]=a,t[11]=w):w=t[11],t[12]!==l?(T=l({id:"/r0Dm5"}),t[12]=l,t[13]=T):T=t[13],t[14]!==l?(k=l({id:"XRcrP9"}),t[14]=l,t[15]=k):k=t[15],t[16]!==r||t[17]!==p||t[18]!==o||t[19]!==h||t[20]!==i.palette.contrast_500||t[21]!==T||t[22]!==k||t[23]!==b||t[24]!==j||t[25]!==S||t[26]!==w||t[27]!==s?(C=(0,bt.jsx)(Bl.default,{ref:r,placeholder:b,value:s,onChangeText:o,onFocus:h,onBlur:p,style:j,placeholderTextColor:v,keyboardAppearance:S,returnKeyType:"search",clearButtonMode:"while-editing",maxLength:50,onKeyPress:w,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",autoFocus:!0,accessibilityLabel:T,accessibilityHint:k}),t[16]=r,t[17]=p,t[18]=o,t[19]=h,t[20]=i.palette.contrast_500,t[21]=T,t[22]=k,t[23]=b,t[24]=j,t[25]=S,t[26]=w,t[27]=s,t[28]=C):C=t[28],t[29]!==g||t[30]!==C||t[31]!==y?(I=(0,bt.jsxs)(Fs.default,Object.assign({},g,{style:x,children:[y,C]})),t[29]=g,t[30]=C,t[31]=y,t[32]=I):I=t[32],I}function ag(e){const t=(0,n.c)(7),{control:s,onSelectChat:o}=e;let a,r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Qs.Handle,{}),t[0]=a):a=t[0],t[1]!==s||t[2]!==o?(r=(0,bt.jsx)(rg,{control:s,onSelectChat:o}),t[1]=s,t[2]=o,t[3]=r):r=t[3],t[4]!==s||t[5]!==r?(i=(0,bt.jsxs)(Qs.Outer,{control:s,testID:"sendViaChatChatDialog",children:[a,r]}),t[4]=s,t[5]=r,t[6]=i):i=t[6],i}function rg(e){const t=(0,n.c)(16),{control:s,onSelectChat:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,Xo.useAnalytics)();let i,l,c;t[0]!==r||t[1]!==o?(i=e=>{o(e.convo.id),e.convo.lastMessage||r.metric("chat:create",{logContext:"SendViaChatDialog"}),r.metric("chat:open",{logContext:"SendViaChatDialog"})},t[0]=r,t[1]=o,t[2]=i):i=t[2],t[3]!==a?(l=e=>{Mt.logger.error("Failed to share post to chat",{message:e}),Ds.show(a({id:"axIdRm"}),"xmark")},t[3]=a,t[4]=l):l=t[4],t[5]!==i||t[6]!==l?(c={onSuccess:i,onError:l},t[5]=i,t[6]=l,t[7]=c):c=t[7];const{mutate:d}=qf(c);let u;t[8]!==s||t[9]!==d?(u=e=>{s.close((()=>d([e])))},t[8]=s,t[9]=d,t[10]=u):u=t[10];const m=u;let h,p;return t[11]!==a?(h=a({id:"PjQ1J0"}),t[11]=a,t[12]=h):h=t[12],t[13]!==m||t[14]!==h?(p=(0,bt.jsx)(eg,{title:h,onSelectChat:m,showRecentConvos:!0,sortByMessageDeclaration:!0}),t[13]=m,t[14]=h,t[15]=p):p=t[15],p}const ig=(0,ti.createSinglePathSVG)({path:"M18.535 5.465a5.003 5.003 0 0 0-7.076 0l-.005.005-.752.742a1 1 0 1 1-1.404-1.424l.749-.74a7.003 7.003 0 0 1 9.904 9.905l-.002.003-.737.746a1 1 0 1 1-1.424-1.404l.747-.757a5.003 5.003 0 0 0 0-7.076ZM6.202 9.288a1 1 0 0 1 .01 1.414l-.747.757a5.003 5.003 0 1 0 7.076 7.076l.005-.005.752-.742a1 1 0 1 1 1.404 1.424l-.746.737-.003.002a7.003 7.003 0 0 1-9.904-9.904l.74-.75a1 1 0 0 1 1.413-.009Zm8.505.005a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0Z"});var lg=s(25139);let cg=e=>{const t=(0,n.c)(63),{post:s,record:o,timestamp:a,onShare:i}=e,l=(0,Xo.useAnalytics)(),{hasSession:c}=(0,Gt.useSession)(),{gtMobile:d}=(0,qs.useBreakpoints)(),{_:u}=(0,dt.useLingui)(),m=(0,Ns.useNavigation)(),h=(0,Qs.useDialogControl)(),p=(0,Qs.useDialogControl)(),[f]=(0,tl.useDevMode)(),g=(0,Fi.useAgeAssurance)(),x=s.uri,_=s.cid,y=(0,Va.useProfileShadow)(s.author);let b;if(t[0]!==y||t[1]!==x){const e=new Dn.AtUri(x);b=(0,Oa.makeProfileLink)(y,"post",e.rkey),t[0]=y,t[1]=x,t[2]=b}else b=t[2];const j=b,v=!!y.labels?.find(dg);let S;t[3]!==l||t[4]!==j||t[5]!==i?(S=()=>{l.metric("share:press:copyLink",{});const e=(0,zt.toShareUrl)(j);(0,lm.shareUrl)(e),i()},t[3]=l,t[4]=j,t[5]=i,t[6]=S):S=t[6];const w=S;let T;t[7]!==l||t[8]!==m||t[9]!==x?(T=e=>{l.metric("share:press:dmSelected",{}),m.navigate("MessagesConversation",{conversation:e,embed:x})},t[7]=l,t[8]=m,t[9]=x,t[10]=T):T=t[10];const k=T,C=r.IS_WEB&&d&&!v;let I;t[11]!==x?(I=()=>{(0,lm.shareText)(x)},t[11]=x,t[12]=I):I=t[12];const A=I;let P;t[13]!==y.did?(P=()=>{(0,lm.shareText)(y.did)},t[13]=y.did,t[14]=P):P=t[14];const E=P;let L,R,B,D;t[15]!==u?(L=u({id:"dWsPi5"}),t[15]=u,t[16]=L):L=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"dWsPi5"})}),B=(0,bt.jsx)(Kp.ItemIcon,{icon:ig,position:"right"}),t[17]=R,t[18]=B):(R=t[17],B=t[18]),t[19]!==w||t[20]!==L?(D=(0,bt.jsxs)(Kp.Item,{testID:"postDropdownShareBtn",label:L,onPress:w,children:[R,B]}),t[19]=w,t[20]=L,t[21]=D):D=t[21];const O=D,M=!v&&O;let F,N,H,V,z,U,W,G;return t[22]!==u||t[23]!==g||t[24]!==l||t[25]!==c||t[26]!==p?(F=c&&g.state.access===g.Access.Full&&(0,bt.jsxs)(Kp.Item,{testID:"postDropdownSendViaDMBtn",label:u({id:"VEt6rJ"}),onPress:()=>{l.metric("share:press:openDmSearch",{}),p.open()},children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"VEt6rJ"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:lg.PaperPlane_Stroke2_Corner0_Rounded,position:"right"})]}),t[22]=u,t[23]=g,t[24]=l,t[25]=c,t[26]=p,t[27]=F):F=t[27],t[28]!==u||t[29]!==l||t[30]!==C||t[31]!==h?(N=C&&(0,bt.jsxs)(Kp.Item,{testID:"postDropdownEmbedBtn",label:u({id:"jdVwsS"}),onPress:()=>{l.metric("share:press:embed",{}),h.open()},children:[(0,bt.jsx)(Kp.ItemText,{children:u({id:"jdVwsS"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Df,position:"right"})]}),t[28]=u,t[29]=l,t[30]=C,t[31]=h,t[32]=N):N=t[32],t[33]!==O||t[34]!==c||t[35]!==v?(H=v&&(0,bt.jsxs)(bt.Fragment,{children:[c&&(0,bt.jsx)(Kp.Divider,{}),O,(0,bt.jsx)(Kp.LabelText,{style:{maxWidth:220},children:(0,bt.jsx)(dt.Trans,{id:"dy4Wnq"})})]}),t[33]=O,t[34]=c,t[35]=v,t[36]=H):H=t[36],t[37]!==u||t[38]!==f||t[39]!==A||t[40]!==E?(V=f&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Item,{testID:"postAtUriShareBtn",label:u({id:"MH/15R"}),onPress:A,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"MH/15R"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"postAuthorDIDShareBtn",label:u({id:"tNf3ij"}),onPress:E,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"tNf3ij"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf,position:"right"})]})]}),t[37]=u,t[38]=f,t[39]=A,t[40]=E,t[41]=V):V=t[41],t[42]!==M||t[43]!==F||t[44]!==N||t[45]!==H||t[46]!==V?(z=(0,bt.jsxs)(Kp.Outer,{children:[M,F,N,H,V]}),t[42]=M,t[43]=F,t[44]=N,t[45]=H,t[46]=V,t[47]=z):z=t[47],t[48]!==C||t[49]!==h||t[50]!==y||t[51]!==_||t[52]!==x||t[53]!==o||t[54]!==a?(U=C&&(0,bt.jsx)(Ff,{control:h,postCid:_,postUri:x,record:o,postAuthor:y,timestamp:a}),t[48]=C,t[49]=h,t[50]=y,t[51]=_,t[52]=x,t[53]=o,t[54]=a,t[55]=U):U=t[55],t[56]!==k||t[57]!==p?(W=(0,bt.jsx)(ag,{control:p,onSelectChat:k}),t[56]=k,t[57]=p,t[58]=W):W=t[58],t[59]!==z||t[60]!==U||t[61]!==W?(G=(0,bt.jsxs)(bt.Fragment,{children:[z,U,W]}),t[59]=z,t[60]=U,t[61]=W,t[62]=G):G=t[62],G};function dg(e){return"!no-unauthenticated"===e.val}cg=(0,lt.memo)(cg);let ug=({testID:e,post:t,big:s,record:o,richText:n,timestamp:a,threadgateRecord:r,onShare:i,hitSlop:l,logContext:c})=>{const d=(0,Xo.useAnalytics)(),{_:u}=(0,dt.useLingui)(),{feedDescriptor:m}=Fg(),h=(0,Kp.useMenuControl)(),[p,f]=(0,lt.useState)(!1),g=(0,lt.useMemo)((()=>Object.assign({},h,{open(){f(!0),setTimeout(h.open),d.metric("post:share",{uri:t.uri,authorDid:t.author.did,logContext:c,feedDescriptor:m,postContext:s?"thread":"feed"})}})),[d,h,f,s,c,m,t.uri,t.author.did]),x=()=>{d.metric("share:press:nativeShare",{});const e=new Dn.AtUri(t.uri),s=(0,Oa.makeProfileLink)(t.author,"post",e.rkey),o=(0,zt.toShareUrl)(s);(0,lm.shareUrl)(o),i()};return(0,bt.jsx)(_m,{onKeyDown:!1,children:(0,bt.jsxs)(Kp.Root,{control:g,children:[(0,bt.jsx)(Kp.Trigger,{label:u({id:"KR08Bx"}),children:({props:e})=>(0,bt.jsx)(Up,Object.assign({testID:"postShareBtn",big:s,label:e.accessibilityLabel},e,{onLongPress:(0,qs.native)(x),hitSlop:l,children:(0,bt.jsx)(Wp,{icon:Rf})}))}),p&&(0,bt.jsx)(cg,{testID:e,post:t,record:o,richText:n,timestamp:a,threadgateRecord:r,onShare:i})]})})};ug=(0,lt.memo)(ug);let mg=({big:e,post:t,record:s,richText:o,feedContext:n,reqId:a,style:r,onPressReply:i,onPostReply:l,logContext:c,threadgateRecord:d,onShowLess:u,viaRepost:m,variant:h})=>{const p=(0,Xo.useAnalytics)(),{_:f}=(0,dt.useLingui)(),{openComposer:g}=Wo(),{feedDescriptor:x}=Fg(),[_,y]=(0,Sp.usePostLikeMutationQueue)(t,m,x,c),[b,j]=(0,Sp.usePostRepostMutationQueue)(t,m,x,c),v=(0,Gt.useRequireAuth)(),{sendInteraction:S}=Fg(),{captureAction:w}=(0,Cs.useProgressGuideControls)(),T=(0,im.useHaptics)(),k=Boolean(t.author.viewer?.blocking||t.author.viewer?.blockedBy||t.author.viewer?.blockingByList),C=t.viewer?.replyDisabled,{gtPhone:I}=(0,qs.useBreakpoints)(),A=up(),[P,E]=(0,lt.useState)(!1),L=pg({variant:h,big:e,gtPhone:I});return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,!e&&qs.atoms.pt_2xs,qs.atoms.gap_md,r],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_1,{maxWidth:320}],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_start,{marginLeft:e?-2:-6},C?{opacity:.6}:void 0],children:(0,bt.jsxs)(Up,{testID:"replyBtn",onPress:C?void 0:()=>v((()=>{p.metric("post:clickReply",{uri:t.uri,authorDid:t.author.did,logContext:c,feedDescriptor:x}),i()})),label:f({values:{0:t.replyCount||0},id:"0DZJ7T"}),big:e,children:[(0,bt.jsx)(Wp,{icon:wp}),"undefined"!==typeof t.replyCount&&t.replyCount>0&&(0,bt.jsx)(Gp,{children:A(t.replyCount)})]})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_start],children:(0,bt.jsx)(Ef,{isReposted:!!t.viewer?.repost,repostCount:(t.repostCount??0)+(t.quoteCount??0),onRepost:async()=>{if(k)Ds.show(f({id:"v1v7Ny"}),"exclamation-circle");else try{t.viewer?.repost?await j():(S({item:t.uri,event:"app.bsky.feed.defs#interactionRepost",feedContext:n,reqId:a}),await b())}catch(e){if("AbortError"!==e?.name)throw e}},onQuote:()=>{k?Ds.show(f({id:"v1v7Ny"}),"exclamation-circle"):(S({item:t.uri,event:"app.bsky.feed.defs#interactionQuote",feedContext:n,reqId:a}),p.metric("post:clickQuotePost",{uri:t.uri,authorDid:t.author.did,logContext:c,feedDescriptor:x}),g({quote:t,onPost:l,logContext:"QuotePost"}))},big:e,embeddingDisabled:Boolean(t.viewer?.embeddingDisabled)})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_start],children:(0,bt.jsxs)(Up,{testID:"likeBtn",big:e,onPress:()=>v((()=>(async()=>{if(k)Ds.show(f({id:"v1v7Ny"}),"exclamation-circle");else try{E(!0),t.viewer?.like?await y():(T("Light"),S({item:t.uri,event:"app.bsky.feed.defs#interactionLike",feedContext:n,reqId:a}),w(Cs.ProgressGuideAction.Like),await _())}catch(e){if("AbortError"!==e?.name)throw e}})())),label:t.viewer?.like?f({values:{0:t.likeCount||0},id:"2I4g1V"}):f({values:{0:t.likeCount||0},id:"lFPEpP"}),children:[(0,bt.jsx)(vp,{isLiked:Boolean(t.viewer?.like),big:e,hasBeenToggled:P}),(0,bt.jsx)(xp,{likeCount:t.likeCount??0,big:e,isLiked:Boolean(t.viewer?.like),hasBeenToggled:P})]})}),(0,bt.jsx)(Fs.default,{})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_end,L],children:[(0,bt.jsx)(qp,{post:t,big:e,logContext:c,hitSlop:{right:L.gap/2}}),(0,bt.jsx)(ug,{testID:"postShareBtn",post:t,big:e,record:s,richText:o,timestamp:t.indexedAt,threadgateRecord:d,onShare:()=>{S({item:t.uri,event:"app.bsky.feed.defs#interactionShare",feedContext:n,reqId:a})},hitSlop:{left:L.gap/2,right:L.gap/2},logContext:c}),(0,bt.jsx)(Pf,{testID:"postDropdownBtn",post:t,postFeedContext:n,postReqId:a,big:e,record:s,richText:o,timestamp:t.indexedAt,threadgateRecord:d,onShowLess:u,hitSlop:{left:L.gap/2},logContext:c})]})]})};function hg(e){const t=(0,n.c)(38),{big:s,style:o,variant:a}=e,{gtPhone:r}=(0,qs.useBreakpoints)(),i=(s?32:28)-8;let l;t[0]!==s||t[1]!==r||t[2]!==a?(l={variant:a,big:s,gtPhone:r},t[0]=s,t[1]=r,t[2]=a,t[3]=l):l=t[3];const c=pg(l);let d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={padding:4},t[4]=d):d=t[4];const u=d;let m,h,p,f,g,x,_,y,b,j,v,S,w,T,k;return t[5]!==o?(m=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.gap_md,o],t[5]=o,t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_row,qs.atoms.flex_1,{maxWidth:320}],t[7]=h):h=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(p=[u,qs.atoms.flex_1,qs.atoms.align_start,{marginLeft:-4}],t[8]=p):p=t[8],t[9]!==i?(f=(0,bt.jsx)(Fs.default,{style:p,children:(0,bt.jsx)(Pp,{blend:!0,size:i})}),t[9]=i,t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=[u,qs.atoms.flex_1,qs.atoms.align_start],t[11]=g):g=t[11],t[12]!==i?(x=(0,bt.jsx)(Fs.default,{style:g,children:(0,bt.jsx)(Pp,{blend:!0,size:i})}),t[12]=i,t[13]=x):x=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(_=[u,qs.atoms.flex_1,qs.atoms.align_start],t[14]=_):_=t[14],t[15]!==i?(y=(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsx)(Pp,{blend:!0,size:i})}),t[15]=i,t[16]=y):y=t[16],t[17]!==y||t[18]!==f||t[19]!==x?(b=(0,bt.jsxs)(Fs.default,{style:h,children:[f,x,y]}),t[17]=y,t[18]=f,t[19]=x,t[20]=b):b=t[20],t[21]!==c?(j=[qs.atoms.flex_row,qs.atoms.justify_end,c],t[21]=c,t[22]=j):j=t[22],t[23]!==i?(v=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(Ap,{blend:!0,size:i})}),t[23]=i,t[24]=v):v=t[24],t[25]!==i?(S=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(Ap,{blend:!0,size:i})}),t[25]=i,t[26]=S):S=t[26],t[27]!==i?(w=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(Ap,{blend:!0,size:i})}),t[27]=i,t[28]=w):w=t[28],t[29]!==j||t[30]!==v||t[31]!==S||t[32]!==w?(T=(0,bt.jsxs)(Fs.default,{style:j,children:[v,S,w]}),t[29]=j,t[30]=v,t[31]=S,t[32]=w,t[33]=T):T=t[33],t[34]!==b||t[35]!==T||t[36]!==m?(k=(0,bt.jsxs)(Lp,{style:m,children:[b,T]}),t[34]=b,t[35]=T,t[36]=m,t[37]=k):k=t[37],k}function pg(e){const t=(0,n.c)(2),{variant:s,big:o,gtPhone:a}=e;let r,i=0;return"compact"!==s&&(i=qs.atoms.gap_xs.gap),(o||a)&&(i=qs.atoms.gap_sm.gap),t[0]!==i?(r={gap:i},t[0]=i,t[1]=r):r=t[1],r}function fg(e){const t=(0,n.c)(7),{feedContext:s}=e,o=(0,Xo.useAnalytics)(),{currentAccount:a}=(0,Gt.useSession)();let i;t[0]!==o||t[1]!==a?.did?(i=r.IS_INTERNAL||Vt.DISCOVER_DEBUG_DIDS[a?.did||""]||o.features.enabled(o.features.DebugFeedContext),t[0]=o,t[1]=a?.did,t[2]=i):i=t[2];const l=i,c=(0,qs.useTheme)();let d;return t[3]!==s||t[4]!==l||t[5]!==c?(d=l&&s&&(0,bt.jsx)(ln.default,{accessible:!1,hitSlop:10,style:[qs.atoms.absolute,{zIndex:1e3,maxWidth:65,bottom:-4},qs.atoms.left_0],onPress:e=>{e.stopPropagation(),Zp.setStringAsync(s),Pd.show(Et.i18n._({id:"FxVG/l"}))},children:(0,bt.jsx)(co.Text,{numberOfLines:1,style:{color:c.palette.contrast_400,fontSize:7},children:s})}),t[3]=s,t[4]=l,t[5]=c,t[6]=d):d=t[6],d}function gg(e,t=!1,s){return null!=e.displayName&&""!==e.displayName?(0,Ma.sanitizeDisplayName)(e.displayName,s):(0,Fa.sanitizeHandle)(e.handle,t?"":"@")}function xg(e){const t=(0,n.c)(14),{uri:s,href:o,numberOfLines:a,style:r}=e;let i;t[0]!==s?(i={uri:s},t[0]=s,t[1]=i):i=t[1];const{data:l,isError:c}=wr(i);let d;if(l||c){let e;t[2]!==l?.displayName||t[3]!==s?(e=l?.displayName||s.split("/").pop()||"",t[2]=l?.displayName,t[3]=s,t[4]=e):e=t[4];const n=e;let i,c;t[5]!==n?(i=(0,Ma.sanitizeDisplayName)(n),t[5]=n,t[6]=i):i=t[6],t[7]!==n||t[8]!==o||t[9]!==a||t[10]!==r||t[11]!==i?(c=(0,bt.jsx)(io.WebOnlyInlineLinkText,{to:o,label:n,style:r,numberOfLines:a,emoji:!0,children:i}),t[7]=n,t[8]=o,t[9]=a,t[10]=r,t[11]=i,t[12]=c):c=t[12],d=c}else{let e;t[13]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(mi,{width:80,height:8,style:[qs.atoms.ml_2xs,(0,qs.platform)({native:[qs.atoms.mt_2xs],web:[{top:-1}]})]}),t[13]=e):e=t[13],d=e}return d}function _g(e){const t=(0,n.c)(61),{reason:s,moderation:o,onOpenReposter:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),{currentAccount:l}=(0,Gt.useSession)();if((c=s)&&"object"===typeof c&&"$type"in c&&"reasonFeedSource"===c.$type){let e,o,n,a,l,c;return t[0]!==i?(e=i({id:"kv7xu0"}),t[0]=i,t[1]=e):e=t[1],t[2]!==r.atoms.text_contrast_medium?(o=[r.atoms.text_contrast_medium,qs.atoms.font_medium,qs.atoms.leading_snug,qs.atoms.leading_snug],t[2]=r.atoms.text_contrast_medium,t[3]=o):o=t[3],t[4]!==r.atoms.text_contrast_medium?(n=[r.atoms.text_contrast_medium,qs.atoms.font_medium,qs.atoms.leading_snug],t[4]=r.atoms.text_contrast_medium,t[5]=n):n=t[5],t[6]!==s.href||t[7]!==s.uri||t[8]!==n?(a=(0,bt.jsx)(dt.Trans,{id:"2iYrsp",components:{0:(0,bt.jsx)(xg,{uri:s.uri,href:s.href,style:n,numberOfLines:1})}}),t[6]=s.href,t[7]=s.uri,t[8]=n,t[9]=a):a=t[9],t[10]!==o||t[11]!==a?(l=(0,bt.jsx)(co.Text,{style:o,numberOfLines:1,children:a}),t[10]=o,t[11]=a,t[12]=l):l=t[12],t[13]!==s.href||t[14]!==e||t[15]!==l?(c=(0,bt.jsx)(io.Link,{label:e,to:s.href,children:l}),t[13]=s.href,t[14]=e,t[15]=l,t[16]=c):c=t[16],c}var c;if(Dn.AppBskyFeedDefs.isReasonRepost(s)){const e=s.by.did===l?.did;let n,c,d,u,m,h,p,f,g,x,_,y;return t[17]!==i||t[18]!==e||t[19]!==o||t[20]!==s.by?(c=gg(s.by,!1,o?.ui("displayName")),n=io.Link,d=yg.includeReason,t[26]!==s.by?(u=(0,Oa.makeProfileLink)(s.by),t[26]=s.by,t[27]=u):u=t[27],m=i(e?{id:"2rP2Aj"}:{id:"tonYru",values:{reposter:c}}),t[17]=i,t[18]=e,t[19]=o,t[20]=s.by,t[21]=n,t[22]=c,t[23]=d,t[24]=u,t[25]=m):(n=t[21],c=t[22],d=t[23],u=t[24],m=t[25]),t[28]===Symbol.for("react.memo_cache_sentinel")?(h={marginRight:3},t[28]=h):h=t[28],t[29]!==r.atoms.text_contrast_medium?(p=(0,bt.jsx)(di,{style:[r.atoms.text_contrast_medium,h],width:13,height:13}),t[29]=r.atoms.text_contrast_medium,t[30]=p):p=t[30],t[31]!==r.atoms.text_contrast_medium?(f=[r.atoms.text_contrast_medium,qs.atoms.font_medium,qs.atoms.leading_snug],t[31]=r.atoms.text_contrast_medium,t[32]=f):f=t[32],t[33]!==e||t[34]!==c?(g=e?(0,bt.jsx)(dt.Trans,{id:"2rP2Aj"}):(0,bt.jsx)(dt.Trans,{id:"tonYru",values:{reposter:c}}),t[33]=e,t[34]=c,t[35]=g):g=t[35],t[36]!==f||t[37]!==g?(x=(0,bt.jsx)(co.Text,{style:f,numberOfLines:1,children:g}),t[36]=f,t[37]=g,t[38]=x):x=t[38],t[39]!==s.by.did||t[40]!==x?(_=(0,bt.jsx)(Fu.ProfileHoverCard,{did:s.by.did,children:x}),t[39]=s.by.did,t[40]=x,t[41]=_):_=t[41],t[42]!==n||t[43]!==a||t[44]!==d||t[45]!==u||t[46]!==m||t[47]!==p||t[48]!==_?(y=(0,bt.jsxs)(n,{style:d,to:u,label:m,onPress:a,children:[p,_]}),t[42]=n,t[43]=a,t[44]=d,t[45]=u,t[46]=m,t[47]=p,t[48]=_,t[49]=y):y=t[49],y}if(Dn.AppBskyFeedDefs.isReasonPin(s)){let e,s,o,n,a,i;return t[50]===Symbol.for("react.memo_cache_sentinel")?(e={marginRight:3},t[50]=e):e=t[50],t[51]!==r.atoms.text_contrast_medium?(s=(0,bt.jsx)(Qi,{style:[r.atoms.text_contrast_medium,e],width:13,height:13}),t[51]=r.atoms.text_contrast_medium,t[52]=s):s=t[52],t[53]!==r.atoms.text_contrast_medium?(o=[r.atoms.text_contrast_medium,qs.atoms.font_medium,qs.atoms.leading_snug],t[53]=r.atoms.text_contrast_medium,t[54]=o):o=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(n=(0,bt.jsx)(dt.Trans,{id:"kNiQp6"}),t[55]=n):n=t[55],t[56]!==o?(a=(0,bt.jsx)(co.Text,{style:o,numberOfLines:1,children:n}),t[56]=o,t[57]=a):a=t[57],t[58]!==s||t[59]!==a?(i=(0,bt.jsxs)(Fs.default,{style:yg.includeReason,children:[s,a]}),t[58]=s,t[59]=a,t[60]=i):i=t[60],i}}mg=(0,lt.memo)(mg);const yg=Os.default.create({includeReason:{flexDirection:"row",alignItems:"center",marginBottom:2,marginLeft:-16}});function bg(e){const t=(0,n.c)(22),{post:s,record:o,reason:a,feedContext:r,reqId:i,moderation:l,parentAuthor:c,showReplyTo:d,isThreadChild:u,isThreadLastChild:m,isThreadParent:h,hideTopBorder:p,isParentBlocked:f,isParentNotFound:g,rootPost:x,onShowLess:_,isRead:y}=e,b=void 0!==y&&y,j=(0,Ha.usePostShadow)(s);let v;t[0]!==o.facets||t[1]!==o.text?(v=new Dn.RichText({text:o.text,facets:o.facets}),t[0]=o.facets,t[1]=o.text,t[2]=v):v=t[2];const S=v;if(j===Ha.POST_TOMBSTONE)return null;if(S&&l){let e;return t[3]!==r||t[4]!==p||t[5]!==f||t[6]!==g||t[7]!==b||t[8]!==u||t[9]!==m||t[10]!==h||t[11]!==l||t[12]!==_||t[13]!==c||t[14]!==j||t[15]!==a||t[16]!==o||t[17]!==i||t[18]!==S||t[19]!==x||t[20]!==d?(e=(0,bt.jsx)(jg,{post:j,record:o,reason:a,feedContext:r,reqId:i,richText:S,parentAuthor:c,showReplyTo:d,moderation:l,isThreadChild:u,isThreadLastChild:m,isThreadParent:h,hideTopBorder:p,isParentBlocked:f,isParentNotFound:g,rootPost:x,onShowLess:_,isRead:b},j.uri),t[3]=r,t[4]=p,t[5]=f,t[6]=g,t[7]=b,t[8]=u,t[9]=m,t[10]=h,t[11]=l,t[12]=_,t[13]=c,t[14]=j,t[15]=a,t[16]=o,t[17]=i,t[18]=S,t[19]=x,t[20]=d,t[21]=e):e=t[21],e}return null}let jg=e=>{const t=(0,n.c)(149),{post:s,record:o,reason:a,feedContext:r,reqId:i,richText:l,moderation:c,parentAuthor:d,showReplyTo:u,isThreadChild:m,isThreadLastChild:h,isThreadParent:p,hideTopBorder:f,isParentBlocked:g,isParentNotFound:x,rootPost:_,onShowLess:y,isRead:b}=e,j=void 0!==b&&b,v=(0,Xo.useAnalytics)(),S=(0,On.useQueryClient)(),{openComposer:w}=Wo(),T=(0,bn.usePalette)("default"),k=(0,qs.useTheme)(),[C,I]=(0,lt.useState)(!1);let A,P,E;t[0]!==s.author||t[1]!==s.uri?(P=new Dn.AtUri(s.uri),A=(0,Oa.makeProfileLink)(s.author,"post",P.rkey),t[0]=s.author,t[1]=s.uri,t[2]=A,t[3]=P):(A=t[2],P=t[3]),t[4]!==A||t[5]!==P.rkey?(E=[A,P.rkey],t[4]=A,t[5]=P.rkey,t[6]=E):E=t[6];const[L]=E,{sendInteraction:R,feedSourceInfo:B,feedDescriptor:D}=Fg();let O;t[7]!==r||t[8]!==c||t[9]!==w||t[10]!==s.author||t[11]!==s.cid||t[12]!==s.embed||t[13]!==s.uri||t[14]!==o.langs||t[15]!==o.text||t[16]!==i||t[17]!==R?(O=()=>{R({item:s.uri,event:"app.bsky.feed.defs#interactionReply",feedContext:r,reqId:i}),w({replyTo:{uri:s.uri,cid:s.cid,text:o.text||"",author:s.author,embed:s.embed,moderation:c,langs:o.langs},logContext:"PostReply"})},t[7]=r,t[8]=c,t[9]=w,t[10]=s.author,t[11]=s.cid,t[12]=s.embed,t[13]=s.uri,t[14]=o.langs,t[15]=o.text,t[16]=i,t[17]=R,t[18]=O):O=t[18];const M=O;let F;t[19]!==v||t[20]!==r||t[21]!==D||t[22]!==s.author.did||t[23]!==s.uri||t[24]!==i||t[25]!==R?(F=()=>{R({item:s.uri,event:"app.bsky.feed.defs#clickthroughAuthor",feedContext:r,reqId:i}),v.metric("post:clickthroughAuthor",{uri:s.uri,authorDid:s.author.did,logContext:"FeedItem",feedDescriptor:D})},t[19]=v,t[20]=r,t[21]=D,t[22]=s.author.did,t[23]=s.uri,t[24]=i,t[25]=R,t[26]=F):F=t[26];const N=F;let H;t[27]!==r||t[28]!==s.uri||t[29]!==i||t[30]!==R?(H=()=>{R({item:s.uri,event:"app.bsky.feed.defs#clickthroughReposter",feedContext:r,reqId:i})},t[27]=r,t[28]=s.uri,t[29]=i,t[30]=R,t[31]=H):H=t[31];const V=H;let z;t[32]!==v||t[33]!==r||t[34]!==D||t[35]!==s.author.did||t[36]!==s.uri||t[37]!==i||t[38]!==R?(z=()=>{R({item:s.uri,event:"app.bsky.feed.defs#clickthroughEmbed",feedContext:r,reqId:i}),v.metric("post:clickthroughEmbed",{uri:s.uri,authorDid:s.author.did,logContext:"FeedItem",feedDescriptor:D})},t[32]=v,t[33]=r,t[34]=D,t[35]=s.author.did,t[36]=s.uri,t[37]=i,t[38]=R,t[39]=z):z=t[39];const U=z;let W;t[40]!==v||t[41]!==r||t[42]!==D||t[43]!==B||t[44]!==s||t[45]!==S||t[46]!==a||t[47]!==i||t[48]!==R?(W=()=>{var e,t;R({item:s.uri,event:"app.bsky.feed.defs#clickthroughItem",feedContext:r,reqId:i}),v.metric("post:clickthroughItem",{uri:s.uri,authorDid:s.author.did,logContext:"FeedItem",feedDescriptor:D}),(0,Ut.unstableCacheProfileView)(S,s.author),e=function(e,t){const s=new Dn.AtUri(e);return s.host=t,s.toString()}(s.uri,s.author.handle),t={feedSourceInfo:B,post:{post:s,reason:Dn.AppBskyFeedDefs.isReasonRepost(a)?a:void 0,feedContext:r,reqId:i}},Du(),Lu.debug("set",{key:e,source:t}),Ru.set(e,t)},t[40]=v,t[41]=r,t[42]=D,t[43]=B,t[44]=s,t[45]=S,t[46]=a,t[47]=i,t[48]=R,t[49]=W):W=t[49];const G=W,q=h||!m&&!p?8:void 0,Q=f||m?0:Os.default.hairlineWidth;let K,Z;t[50]!==j||t[51]!==k?(K=j&&{backgroundColor:k.palette.contrast_50},t[50]=j,t[51]=k,t[52]=K):K=t[52],t[53]!==T.colors.border||t[54]!==Q||t[55]!==K||t[56]!==q?(Z=[Sg.outer,Object.assign({borderColor:T.colors.border,paddingBottom:q,borderTopWidth:Q},K)],t[53]=T.colors.border,t[54]=Q,t[55]=K,t[56]=q,t[57]=Z):Z=t[57];const Y=Z,$=qc.dangerousIsType(_.threadgate?.record,Dn.AppBskyFeedThreadgate.isRecord)?_.threadgate.record:void 0,{isActive:X}=(0,Ra.useActorStatus)(s.author);let J;if(Dn.AppBskyFeedDefs.isReasonRepost(a)&&a.uri&&a.cid){let e;t[58]!==a.cid||t[59]!==a.uri?(e={uri:a.uri,cid:a.cid},t[58]=a.cid,t[59]=a.uri,t[60]=e):e=t[60],J=e}else J=void 0;const ee=J,te=`feedItem-by-${s.author.handle}`;let se,oe,ne,ae,re,ie,le,ce,de,ue,me,he;t[61]!==r?(se={feedContext:r},t[61]=r,t[62]=se):se=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(oe=()=>{I(!0)},ne=()=>{I(!1)},t[63]=oe,t[64]=ne):(oe=t[63],ne=t[64]),t[65]!==C?(ae=(0,bt.jsx)(ju,{hover:C}),t[65]=C,t[66]=ae):ae=t[66],t[67]===Symbol.for("react.memo_cache_sentinel")?(re={flexDirection:"row",gap:10,paddingLeft:8},t[67]=re):re=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(ie={width:42},t[68]=ie):ie=t[68],t[69]!==m||t[70]!==T.colors.replyLine?(le=m&&(0,bt.jsx)(Fs.default,{style:[Sg.replyLine,{flexGrow:1,backgroundColor:T.colors.replyLine,marginBottom:4}]}),t[69]=m,t[70]=T.colors.replyLine,t[71]=le):le=t[71],t[72]!==le?(ce=(0,bt.jsx)(Fs.default,{style:ie,children:le}),t[72]=le,t[73]=ce):ce=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(de=[qs.atoms.pt_sm,qs.atoms.flex_shrink],t[74]=de):de=t[74],t[75]!==c||t[76]!==V||t[77]!==a?(ue=a&&(0,bt.jsx)(_g,{reason:a,moderation:c,onOpenReposter:V}),t[75]=c,t[76]=V,t[77]=a,t[78]=ue):ue=t[78],t[79]!==ue?(me=(0,bt.jsx)(Fs.default,{style:de,children:ue}),t[79]=ue,t[80]=me):me=t[80],t[81]!==ce||t[82]!==me?(he=(0,bt.jsxs)(Fs.default,{style:re,children:[ce,me]}),t[81]=ce,t[82]=me,t[83]=he):he=t[83];const pe=s.author;let fe;t[84]!==c?(fe=c.ui("avatar"),t[84]=c,t[85]=fe):fe=t[85];const ge=s.author.associated?.labeler?"labeler":"user";let xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce,Ie;return t[86]!==X||t[87]!==N||t[88]!==s.author||t[89]!==fe||t[90]!==ge?(xe=(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:42,profile:pe,moderation:fe,type:ge,onBeforePress:N,live:X}),t[86]=X,t[87]=N,t[88]=s.author,t[89]=fe,t[90]=ge,t[91]=xe):xe=t[91],t[92]!==p||t[93]!==X||t[94]!==T.colors.replyLine?(_e=p&&(0,bt.jsx)(Fs.default,{style:[Sg.replyLine,{flexGrow:1,backgroundColor:T.colors.replyLine,marginTop:X?8:4}]}),t[92]=p,t[93]=X,t[94]=T.colors.replyLine,t[95]=_e):_e=t[95],t[96]!==xe||t[97]!==_e?(ye=(0,bt.jsxs)(Fs.default,{style:Sg.layoutAvi,children:[xe,_e]}),t[96]=xe,t[97]=_e,t[98]=ye):ye=t[98],t[99]!==L||t[100]!==c||t[101]!==N||t[102]!==s.author||t[103]!==s.indexedAt?(be=(0,bt.jsx)(Uu,{author:s.author,moderation:c,timestamp:s.indexedAt,postHref:L,onOpenAuthor:N}),t[99]=L,t[100]=c,t[101]=N,t[102]=s.author,t[103]=s.indexedAt,t[104]=be):be=t[104],t[105]!==g||t[106]!==x||t[107]!==d||t[108]!==u?(je=u&&(d||g||x)&&(0,bt.jsx)(cp,{parentAuthor:d,isParentBlocked:g,isParentNotFound:x}),t[105]=g,t[106]=x,t[107]=d,t[108]=u,t[109]=je):je=t[109],t[110]!==s?(ve=(0,bt.jsx)(tm,{post:s}),t[110]=s,t[111]=ve):ve=t[111],t[112]!==c||t[113]!==U||t[114]!==s||t[115]!==l||t[116]!==$?(Se=(0,bt.jsx)(vg,{moderation:c,richText:l,postEmbed:s.embed,postAuthor:s.author,onOpenEmbed:U,post:s,threadgateRecord:$}),t[112]=c,t[113]=U,t[114]=s,t[115]=l,t[116]=$,t[117]=Se):Se=t[117],t[118]!==r||t[119]!==M||t[120]!==y||t[121]!==s||t[122]!==o||t[123]!==i||t[124]!==l||t[125]!==$||t[126]!==ee?(we=(0,bt.jsx)(mg,{post:s,record:o,richText:l,onPressReply:M,logContext:"FeedItem",feedContext:r,reqId:i,threadgateRecord:$,onShowLess:y,viaRepost:ee}),t[118]=r,t[119]=M,t[120]=y,t[121]=s,t[122]=o,t[123]=i,t[124]=l,t[125]=$,t[126]=ee,t[127]=we):we=t[127],t[128]!==be||t[129]!==je||t[130]!==ve||t[131]!==Se||t[132]!==we?(Te=(0,bt.jsxs)(Fs.default,{style:Sg.layoutContent,children:[be,je,ve,Se,we]}),t[128]=be,t[129]=je,t[130]=ve,t[131]=Se,t[132]=we,t[133]=Te):Te=t[133],t[134]!==r?(ke=(0,bt.jsx)(fg,{feedContext:r}),t[134]=r,t[135]=ke):ke=t[135],t[136]!==ye||t[137]!==Te||t[138]!==ke?(Ce=(0,bt.jsxs)(Fs.default,{style:Sg.layout,children:[ye,Te,ke]}),t[136]=ye,t[137]=Te,t[138]=ke,t[139]=Ce):Ce=t[139],t[140]!==L||t[141]!==G||t[142]!==Y||t[143]!==te||t[144]!==se||t[145]!==ae||t[146]!==he||t[147]!==Ce?(Ie=(0,bt.jsxs)(fa,{testID:te,style:Y,href:L,noFeedback:!0,accessible:!1,onBeforePress:G,dataSet:se,onPointerEnter:oe,onPointerLeave:ne,children:[ae,he,Ce]}),t[140]=L,t[141]=G,t[142]=Y,t[143]=te,t[144]=se,t[145]=ae,t[146]=he,t[147]=Ce,t[148]=Ie):Ie=t[148],Ie};jg=(0,lt.memo)(jg);let vg=e=>{const t=(0,n.c)(33),{post:s,moderation:o,richText:a,postEmbed:r,postAuthor:i,onOpenEmbed:l,threadgateRecord:c}=e,{currentAccount:d}=(0,Gt.useSession)();let u;t[0]!==a.text?(u=()=>(0,Eu.countLines)(a.text)>=Vt.MAX_POST_LINES,t[0]=a.text,t[1]=u):u=t[1];const[m,h]=(0,lt.useState)(u);let p;t[2]!==c?(p={threadgateRecord:c},t[2]=c,t[3]=p):p=t[3];const f=(0,Bs.useMergedThreadgateHiddenReplies)(p);let g;d?.did,t[4]!==s.uri||t[5]!==f?(g=f.has(s.uri),t[4]=s.uri,t[5]=f,t[6]=g):g=t[6];const x=g,_=qc.dangerousIsType(s.record,Dn.AppBskyFeedPost.isRecord)?s.record?.reply?.root?.uri||s.uri:void 0,y=_&&new Dn.AtUri(_).host===d?.did;let b;t[7]!==d?.did||t[8]!==y||t[9]!==x?(b=y&&x?[{type:"reply-hidden",source:{type:"user",did:d?.did},priority:6}]:[],t[7]=d?.did,t[8]=y,t[9]=x,t[10]=b):b=t[10];const j=b;let v;t[11]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{h(!1)},t[11]=v):v=t[11];const S=v;let w,T,k,C,I,A,P;return t[12]!==o?(w=o.ui("contentList"),t[12]=o,t[13]=w):w=t[13],t[14]!==o?(T=o.ui("contentList"),t[14]=o,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.pb_xs],t[16]=k):k=t[16],t[17]!==j||t[18]!==T?(C=(0,bt.jsx)(om,{modui:T,style:k,additionalCauses:j}),t[17]=j,t[18]=T,t[19]=C):C=t[19],t[20]!==m||t[21]!==i||t[22]!==a?(I=a.text?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mb_2xs],children:[(0,bt.jsx)(Yi.RichText,{enableTags:!0,testID:"postText",value:a,numberOfLines:m?Vt.MAX_POST_LINES:void 0,style:[qs.atoms.flex_1,qs.atoms.text_md],authorHandle:i.handle,shouldProxyLinks:!0}),m&&(0,bt.jsx)(dp,{style:[qs.atoms.text_md],onPress:S})]}):void 0,t[20]=m,t[21]=i,t[22]=a,t[23]=I):I=t[23],t[24]!==o||t[25]!==l||t[26]!==r?(A=r?(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_xs],children:(0,bt.jsx)(sp,{embed:r,moderation:o,onOpen:l,viewContext:Hm.Feed})}):null,t[24]=o,t[25]=l,t[26]=r,t[27]=A):A=t[27],t[28]!==I||t[29]!==A||t[30]!==w||t[31]!==C?(P=(0,bt.jsxs)(qu,{testID:"contentHider-post",modui:w,ignoreMute:!0,childContainerStyle:Sg.contentHiderChild,children:[C,I,A]}),t[28]=I,t[29]=A,t[30]=w,t[31]=C,t[32]=P):P=t[32],P};vg=(0,lt.memo)(vg);const Sg=Os.default.create({outer:{paddingLeft:10,paddingRight:15,cursor:"pointer"},replyLine:{width:2,marginLeft:"auto",marginRight:"auto"},layout:{flexDirection:"row",marginTop:1},layoutAvi:{paddingLeft:8,paddingRight:10,position:"relative",zIndex:999},layoutContent:{position:"relative",flex:1,zIndex:0},alert:{marginTop:6,marginBottom:6},contentHiderChild:{marginTop:6},embed:{marginBottom:6},translateLink:{marginBottom:6}});var wg=s(48983);function Tg(){const e=(0,n.c)(20),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d;return e[0]!==t.atoms.bg_contrast_25||e[1]!==t.atoms.border_contrast_low?(s=[t.atoms.border_contrast_low,qs.atoms.border_t,t.atoms.bg_contrast_25,qs.atoms.p_sm],e[0]=t.atoms.bg_contrast_25,e[1]=t.atoms.border_contrast_low,e[2]=s):s=e[2],e[3]!==t.atoms.bg||e[4]!==t.atoms.border_contrast_low?(o=[t.atoms.bg,t.atoms.border_contrast_low,qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.flex_row,qs.atoms.gap_sm],e[3]=t.atoms.bg,e[4]=t.atoms.border_contrast_low,e[5]=o):o=e[5],e[6]!==t.atoms.text_contrast_low?(a=(0,bt.jsx)(wg.CircleCheck_Stroke2_Corner0_Rounded,{style:[t.atoms.text_contrast_low],size:"sm"}),e[6]=t.atoms.text_contrast_low,e[7]=a):a=e[7],e[8]!==t.atoms.text_contrast_medium?(r=[qs.atoms.flex_1,qs.atoms.text_sm,t.atoms.text_contrast_medium,qs.atoms.leading_snug],e[8]=t.atoms.text_contrast_medium,e[9]=r):r=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"XmAXuG"}),e[10]=i):i=e[10],e[11]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),e[11]=r,e[12]=l):l=e[12],e[13]!==o||e[14]!==a||e[15]!==l?(c=(0,bt.jsxs)(Fs.default,{style:o,children:[a,l]}),e[13]=o,e[14]=a,e[15]=l,e[16]=c):c=e[16],e[17]!==s||e[18]!==c?(d=(0,bt.jsx)(Fs.default,{style:s,children:c}),e[17]=s,e[18]=c,e[19]=d):d=e[19],d}function kg(e){const t=(0,n.c)(32),{uri:s}=e,{state:o,onIn:a,onOut:r}=(0,la.useInteractionState)(),i=(0,bn.usePalette)("default");let l;if(t[0]!==s){const e=new Dn.AtUri(s);l=(0,Oa.makeProfileLink)({did:e.hostname,handle:""},"post",e.rkey),t[0]=s,t[1]=l}else l=t[1];const c=l,{_:d}=(0,dt.useLingui)();let u,m,h,p,f,g,x,_,y,b,j,v,S;return t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[Cg.viewFullThread],t[2]=u):u=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(m={top:8,bottom:-5},t[3]=m):m=t[3],t[4]!==o?(h=(0,bt.jsx)(ju,{hover:o,style:m}),t[4]=o,t[5]=h):h=t[5],t[6]!==i.colors.replyLine?(p=(0,bt.jsx)(Su.Line,{x1:"2",y1:"0",x2:"2",y2:"15",stroke:i.colors.replyLine,strokeWidth:"2"}),t[6]=i.colors.replyLine,t[7]=p):p=t[7],t[8]!==i.colors.replyLineDot?(f=(0,bt.jsx)(Su.Circle,{cx:"2",cy:"22",r:"1.5",fill:i.colors.replyLineDot}),g=(0,bt.jsx)(Su.Circle,{cx:"2",cy:"28",r:"1.5",fill:i.colors.replyLineDot}),x=(0,bt.jsx)(Su.Circle,{cx:"2",cy:"34",r:"1.5",fill:i.colors.replyLineDot}),t[8]=i.colors.replyLineDot,t[9]=f,t[10]=g,t[11]=x):(f=t[9],g=t[10],x=t[11]),t[12]!==p||t[13]!==f||t[14]!==g||t[15]!==x?(_=(0,bt.jsx)(Fs.default,{style:Cg.viewFullThreadDots,children:(0,bt.jsxs)(Su.default,{width:"4",height:"40",children:[p,f,g,x]})}),t[12]=p,t[13]=f,t[14]=g,t[15]=x,t[16]=_):_=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(y={paddingTop:18,paddingBottom:4},t[17]=y):y=t[17],t[18]!==i.link?(b=[i.link,y],t[18]=i.link,t[19]=b):b=t[19],t[20]!==d?(j=d({id:"F3IYDh"}),t[20]=d,t[21]=j):j=t[21],t[22]!==b||t[23]!==j?(v=(0,bt.jsx)(ua.Text,{type:"md",style:b,children:j}),t[22]=b,t[23]=j,t[24]=v):v=t[24],t[25]!==c||t[26]!==a||t[27]!==r||t[28]!==v||t[29]!==h||t[30]!==_?(S=(0,bt.jsxs)(fa,{style:u,href:c,asAnchor:!0,noFeedback:!0,onPointerEnter:a,onPointerLeave:r,children:[h,_,v]}),t[25]=c,t[26]=a,t[27]=r,t[28]=v,t[29]=h,t[30]=_,t[31]=S):S=t[31],S}const Cg=Os.default.create({viewFullThread:{flexDirection:"row",gap:10,paddingLeft:18},viewFullThreadDots:{width:42,alignItems:"center"}});const Ig=yt.STALE.SECONDS.THIRTY;let Ag=({feed:e,feedParams:t,ignoreFilterFor:s,style:o,enabled:n,pollInterval:a,disablePoll:i,scrollElRef:l,onScrolledDownChange:c,onHasNew:d,renderEmptyState:u,renderEndOfFeed:m,testID:h,headerOffset:p=0,progressViewOffset:f,desktopFixedHeightOffset:g,ListHeaderComponent:x,extraData:_,savedFeedConfig:y,initialNumToRender:b,isVideoFeed:j=!1,enableHideReadPosts:v=!1,onHideReadPostsState:S})=>{const w=(0,Xo.useAnalytics)(),{_:T}=(0,dt.useLingui)(),k=(0,On.useQueryClient)(),{currentAccount:C,hasSession:I}=(0,Gt.useSession)(),A=$r(),P=Fg(),[E,L]=(0,lt.useState)(!1),R=(0,lt.useRef)(Date.now()),[B,D,O]=e.split("|"),{gtMobile:M}=(0,qs.useBreakpoints)(),{rightNavVisible:F}=(0,qs.useLayoutBreakpoints)(),N=r.IS_NATIVE,[H,V]=(0,lt.useState)((()=>new Set)),[z,U]=(0,lt.useState)((()=>new Set)),[W,G]=(0,lt.useState)(null),q=(0,lt.useCallback)((()=>{U((e=>(G(new Set(e)),e))),qr.default.configureNext(qr.default.Presets.easeInEaseOut)}),[]),Q=(0,lt.useCallback)((e=>{if(e.item){const t=e.item;V((e=>new Set([...e,t]))),qr.default.configureNext(qr.default.Presets.easeInEaseOut)}}),[]),K=t?.feedCacheKey,Z=(0,lt.useMemo)((()=>({enabled:n,ignoreFilterFor:s})),[n,s]),{data:Y,isFetching:$,isFetched:X,isError:J,error:ee,refetch:te,hasNextPage:se,isFetchingNextPage:oe,fetchNextPage:ne}=(0,Jr.usePostFeedQuery)(e,t,Z),ae=Y?.pages[0].fetchedAt;ae&&(R.current=ae);const re=(0,lt.useMemo)((()=>!$&&!Y?.pages?.some((e=>e.slices.length))),[$,Y]),ie=(0,Bn.useNonReactiveCallback)((async()=>{if(Y?.pages[0]&&!$&&d&&n&&!i){if(D===Vt.DISCOVER_FEED_URI)return d(!0);try{await(0,Jr.pollLatest)(Y.pages[0])&&(re?te():d(!0))}catch(t){(0,Tn.isNetworkError)(t)||Mt.logger.error("Poll latest failed",{feed:e,message:String(t)})}}})),le=C?.did||"",ce=(0,lt.useCallback)((()=>{1!==Y?.pages.length||"following"!==e&&e!==`author|${le}|posts_and_author_threads`||k.invalidateQueries({queryKey:(0,Jr.RQKEY)(e)})}),[k,e,Y,le]);(0,lt.useEffect)((()=>(0,_t.listenPostCreated)(ce)),[ce]),(0,lt.useEffect)((()=>{if(n&&!i){const e=Date.now()-R.current;(re||e>Ig)&&ie()}}),[n,re,i,ie]),(0,lt.useEffect)((()=>{let e,t;const s=ut.default.addEventListener("change",(e=>{"active"===e&&ie()}));if(e=()=>s.remove(),a){const e=setInterval((()=>{ie()}),a);t=()=>clearInterval(e)}return()=>{e?.(),t?.()}}),[a,ie]);const de=(0,Cs.useProgressGuide)("follow-10"),ue=(0,Cs.useProgressGuide)("like-10-and-follow-7"),me=(de||ue)&&!F,{trendingVideoDisabled:he}=(0,Xr.useTrendingSettings)(),pe=Ni(),fe=Ls(),[ge]=(0,lt.useState)(fe===e),xe=(0,Va.usePostAuthorShadowFilter)(e.startsWith("author|")?void 0:Y?.pages),_e=(0,lt.useMemo)((()=>{const t=e=>H.has(e.slice.items[e.indexInSlice]?.uri)?{type:"showLessFollowup",key:e.key}:e;let s;"following"===B?s="following":D===Vt.DISCOVER_FEED_URI?s="discover":"author"!==B||"posts_and_author_threads"!==O&&"posts_with_replies"!==O||(s="profile");let o=[];if(Vt.KNOWN_SHUTDOWN_FEEDS.includes(D)&&o.push({type:"feedShutdownMsg",key:"feedShutdownMsg"}),X){if(J&&re)o.push({type:"error",key:"error"});else if(re)o.push({type:"empty",key:"empty"});else if(Y){let n=-1;if(j){const e=[];for(const s of Y.pages)for(const t of s.slices){const s=t.items.find((e=>e.uri===t.feedPostUri));s&&Dn.AppBskyEmbedVideo.isView(s.post.embed)&&!xe.includes(s.post.author.did)&&e.push({item:s,feedContext:t.feedContext,reqId:t.reqId})}const t=[];for(let s=0;s<e.length;s++){const o=e[s],n=o.item,a=M?3:2,r={item:n,feedContext:o.feedContext,reqId:o.reqId};s%a===0?t.push([r]):t[t.length-1].push(r)}for(const s of t)n++,o.push({type:"videoGridRow",key:s.map((e=>e.item._reactKey)).join("-"),items:s.map((e=>e.item)),sourceFeedUri:D,feedContexts:s.map((e=>e.feedContext)),reqIds:s.map((e=>e.reqId))})}else for(const a of Y?.pages)for(const r of a.slices)if(n++,I&&("discover"===s?0===n?(me?o.push({type:"interstitialProgressGuide",key:"interstitial-"+n+"-"+ae}):ge&&pe.visible&&o.push({type:"ageAssuranceBanner",key:"ageAssuranceBanner-"+n}),o.push({type:"liveEventFeedsAndTrendingBanner",key:"liveEventFeedsAndTrendingBanner-"+n}),!I||D!==Vt.DISCOVER_FEED_URI&&"following"!==e||o.push({type:"composerPrompt",key:"composerPrompt-"+n})):15===n?N&&!he&&o.push({type:"interstitialTrendingVideos",key:"interstitial-"+n+"-"+ae}):30===n&&o.push({type:"interstitialFollows",key:"interstitial-"+n+"-"+ae}):"following"===s?0===n&&I&&o.push({type:"composerPrompt",key:"composerPrompt-"+n}):"profile"===s?5===n&&o.push({type:"interstitialFollows",key:"interstitial-"+n+"-"+ae}):0===n&&ge&&o.push({type:"ageAssuranceBanner",key:"ageAssuranceBanner-"+n})),r.isFallbackMarker)o.push({type:"fallbackMarker",key:"sliceFallbackMarker-"+n+"-"+ae});else if(r.items.some((e=>xe.includes(e.post.author.did))));else if(r.isIncompleteThread&&r.items.length>=3){const e=r.items.length-2,s=r.items.length-1;o.push(t({type:"sliceItem",key:r.items[0]._reactKey,slice:r,indexInSlice:0,showReplyTo:!1})),o.push({type:"sliceViewFullThread",key:r._reactKey+"-viewFullThread",uri:r.items[0].uri}),o.push(t({type:"sliceItem",key:r.items[e]._reactKey,slice:r,indexInSlice:e,showReplyTo:r.items[e].parentAuthor?.did!==r.items[e].post.author.did})),o.push(t({type:"sliceItem",key:r.items[s]._reactKey,slice:r,indexInSlice:s,showReplyTo:!1}))}else for(let e=0;e<r.items.length;e++)o.push(t({type:"sliceItem",key:r.items[e]._reactKey,slice:r,indexInSlice:e,showReplyTo:0===e}))}J&&!re&&o.push({type:"loadMoreError",key:"loadMoreError"})}else j?o.push({type:"videoGridRowPlaceholder",key:"videoGridRowPlaceholder"}):o.push({type:"loading",key:"loading"});return o}),[X,J,re,ae,Y,e,B,D,O,I,me,he,M,j,N,H,pe,ge,xe]),ye=(0,lt.useMemo)((()=>Vt.ENABLE_HIDE_READ_POSTS&&v&&W&&0!==W.size?_e.filter((e=>{if("sliceItem"===e.type){const t=e.slice.items[e.indexInSlice]?.post;return t&&!W.has(t.uri)}if("videoGridRow"===e.type){return e.items.some((e=>e.post&&!W.has(e.post.uri)))}return!0})):_e),[_e,v,W]),be=(0,lt.useCallback)((async()=>{w.metric("feed:refresh",{feedType:B,feedUrl:e,reason:"pull-to-refresh"}),L(!0);try{await te(),d?.(!1)}catch(t){Mt.logger.error("Failed to refresh posts feed",{message:t})}L(!1)}),[w,te,L,d,e,B]),je=(0,lt.useCallback)((async()=>{if(!$&&se&&!J){w.metric("feed:endReached",{feedType:B,feedUrl:e,itemCount:_e.length});try{await ne()}catch(t){Mt.logger.error("Failed to load more posts",{message:t})}}}),[w,$,se,J,ne,e,B,_e.length]),ve=(0,lt.useCallback)((()=>{te(),d?.(!1)}),[te,d]),Se=(0,lt.useCallback)((()=>{ne()}),[ne]),we=(0,lt.useCallback)((({item:t,index:s})=>{if("empty"===t.type)return u();if("error"===t.type)return(0,bt.jsx)(Pu.PostFeedErrorMessage,{feedDesc:e,error:ee??void 0,onPressTryAgain:ve,savedFeedConfig:y});if("loadMoreError"===t.type)return(0,bt.jsx)(ki,{label:T({id:"P7AR2V"}),onPress:Se});if("loading"===t.type)return(0,bt.jsx)(pi,{});if("feedShutdownMsg"===t.type)return(0,bt.jsx)(Iu,{feedUri:D});if("interstitialFollows"===t.type)return(0,bt.jsx)(Tc,{feed:e});if("interstitialProgressGuide"===t.type)return(0,bt.jsx)(Pc,{});if("ageAssuranceBanner"===t.type)return(0,bt.jsx)(Hi,{});if("interstitialTrending"===t.type)return(0,bt.jsx)(jd,{});if("liveEventFeedsAndTrendingBanner"===t.type)return(0,bt.jsx)(Rd,{});if("composerPrompt"===t.type)return(0,bt.jsx)(vu,{});if("interstitialTrendingVideos"===t.type)return(0,bt.jsx)(kd,{});if("fallbackMarker"===t.type)return(0,bt.jsx)(Cu,{});if("sliceItem"===t.type){const e=t.slice,o=t.indexInSlice,n=e.items[o],a=Vt.ENABLE_HIDE_READ_POSTS&&v&&z.has(n.post.uri);return(0,bt.jsx)(bg,{post:n.post,record:n.record,reason:0===o?e.reason:void 0,feedContext:e.feedContext,reqId:e.reqId,moderation:n.moderation,parentAuthor:n.parentAuthor,showReplyTo:t.showReplyTo,isThreadParent:Eg(e.items,o),isThreadChild:Lg(e.items,o),isThreadLastChild:Lg(e.items,o)&&e.items.length===o+1,isParentBlocked:n.isParentBlocked,isParentNotFound:n.isParentNotFound,hideTopBorder:0===s&&0===o,rootPost:e.items[0].post,onShowLess:Q,isRead:a})}if("sliceViewFullThread"===t.type)return(0,bt.jsx)(kg,{uri:t.uri});if("videoGridRowPlaceholder"===t.type)return(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(sd,{}),(0,bt.jsx)(sd,{}),(0,bt.jsx)(sd,{})]});if("videoGridRow"===t.type){let e;return e="author"===B?{type:"author",did:D,filter:O}:{type:"feedgen",uri:t.sourceFeedUri,sourceInterstitial:K??"none"},(0,bt.jsx)(Jc,{items:t.items,sourceContext:e})}return"showLessFollowup"===t.type?(0,bt.jsx)(Tg,{}):null}),[u,e,ee,ve,y,T,Se,B,D,O,K,Q,v,z]),Te=!se&&!re&&!$&&!J&&!!m,ke=(0,lt.useCallback)((()=>{const e=Math.max(p,32)*(r.IS_WEB?1:2);return oe?(0,bt.jsxs)(Fs.default,{style:[Pg.feedFooter],children:[(0,bt.jsx)(vn.default,{}),(0,bt.jsx)(Fs.default,{style:{height:e}})]}):Te?(0,bt.jsx)(Fs.default,{style:{minHeight:e},children:m()}):(0,bt.jsx)(Fs.default,{style:{height:e}})}),[oe,Te,m,p]),Ce=(0,Wt.useLiveNowConfig)(),Ie=(0,lt.useRef)(new Set),Ae=(0,lt.useRef)(new Set),Pe=(0,Bn.useNonReactiveCallback)(((e,t)=>{const s=_e.findIndex((e=>"sliceItem"===e.type&&e.key===t));if(s>=0){let e=0;for(let t=0;t<s&&t<_e.length;t++){const s=_e[t];"sliceItem"===s.type?0===s.indexInSlice&&e++:"videoGridRow"===s.type&&(e+=s.items.length)}return e}})),Ee=(0,lt.useCallback)((t=>{if(P.onItemSeen(t),"sliceItem"===t.type){const s=t.slice,o=t.indexInSlice,n=s.items[o].post;if(0===o&&!Ae.current.has(n.uri)){Ae.current.add(n.uri),Vt.ENABLE_HIDE_READ_POSTS&&v&&U((e=>e.has(n.uri)?e:new Set(e).add(n.uri)));const s=Pe("sliceItem",t.key);w.metric("post:view",{uri:n.uri,authorDid:n.author.did,logContext:"FeedItem",feedDescriptor:P.feedDescriptor||e,position:s})}const a=n.author;a.status&&(0,Ra.isStatusValidForViewers)(a.status,Ce)&&(0,Ra.isStatusStillActive)(a.status.expiresAt)&&(Ie.current.has(a.did)||(Ie.current.add(a.did),w.metric("live:view:post",{subject:a.did,feed:e})))}else if("videoGridRow"===t.type)for(let s=0;s<t.items.length;s++){const o=t.items[s].post;if(!Ae.current.has(o.uri)){Ae.current.add(o.uri),Vt.ENABLE_HIDE_READ_POSTS&&v&&U((e=>e.has(o.uri)?e:new Set(e).add(o.uri)));const s=Pe("videoGridRow",t.key);w.metric("post:view",{uri:o.uri,authorDid:o.author.did,logContext:"FeedItem",feedDescriptor:P.feedDescriptor||e,position:s})}}}),[P,e,Ce,Pe,v]);return(0,lt.useEffect)((()=>{if(!Vt.ENABLE_HIDE_READ_POSTS||!v||!S)return;const e=z.size>0;S({showButton:e,readCount:z.size,onPress:q})}),[v,S,z.size,q]),(0,bt.jsx)(Fs.default,{testID:h,style:o,children:(0,bt.jsx)(ei.List,{testID:h?`${h}-flatlist`:void 0,ref:l,data:ye,keyExtractor:e=>e.key,renderItem:we,ListFooterComponent:ke,ListHeaderComponent:x,refreshing:E,onRefresh:be,headerOffset:p,progressViewOffset:f,contentContainerStyle:{minHeight:1.5*Gr.default.get("window").height},onScrolledDownChange:c,onEndReached:je,onEndReachedThreshold:2,removeClippedSubviews:!0,extraData:_,desktopFixedHeight:g||!0,initialNumToRender:b??A,windowSize:9,maxToRenderPerBatch:r.IS_IOS?5:1,updateCellsBatchingPeriod:40,onItemSeen:Ee,onItemSeenWhen:"exit"})})};Ag=(0,lt.memo)(Ag);const Pg=Os.default.create({feedFooter:{paddingTop:20}});function Eg(e,t){return 1!==e.length&&t<e.length-1}function Lg(e,t){return 1!==e.length&&t>0}const Rg=[...Vt.PROD_FEEDS,...Vt.STAGING_FEEDS],Bg=new Set(["app.bsky.feed.defs#requestLess","app.bsky.feed.defs#requestMore","app.bsky.feed.defs#interactionLike","app.bsky.feed.defs#interactionQuote","app.bsky.feed.defs#interactionReply","app.bsky.feed.defs#interactionRepost","app.bsky.feed.defs#interactionSeen"]),Dg=(0,lt.createContext)({enabled:!1,onItemSeen:e=>{},sendInteraction:e=>{},feedDescriptor:void 0,feedSourceInfo:void 0});function Og(e,t){const s=(0,Xo.useAnalytics)(),o=s.logger.useChild(s.logger.Context.FeedFeedback),n=(0,Gt.useAgent)(),a=e&&function(e){return"feed"===e.type}(e)?e:void 0,r=Ng(a?.feedDescriptor),i=Boolean(r||a?.acceptsInteractions),l=a?.view?.did,c=Boolean(a)&&Boolean(l)&&i&&t,d=(0,lt.useRef)(new Set),u=(0,lt.useRef)(new WeakSet),m=(0,lt.useCallback)(((e,t)=>{null!==e&&(e.clickthroughCount>0&&(s.metric("feed:clickthrough",{count:e.clickthroughCount,feed:t}),e.clickthroughCount=0),e.engagedCount>0&&(s.metric("feed:engaged",{count:e.engagedCount,feed:t}),e.engagedCount=0),e.seenCount>0&&(s.metric("feed:seen",{count:e.seenCount,feed:t}),e.seenCount=0))}),[s]),h=(0,lt.useRef)(null),p=(0,lt.useMemo)((()=>Ua()((()=>m(h.current,a?.feedDescriptor??"unknown")),45e3,{leading:!0,trailing:!0})),[a?.feedDescriptor,m]),f=(0,lt.useCallback)((()=>{const e=Array.from(d.current).map(Vg);d.current.clear();const t=e.filter((e=>e.event&&function(e,t,s){if(!e||!t)return!1;const o=Ng(t.feedDescriptor);return!!o||Bg.has(s)}(c,a,e.event)));0!==t.length&&(n.app.bsky.feed.sendInteractions({interactions:t},{encoding:"application/json",headers:{"atproto-proxy":`${l}#bsky_fg`}}).catch((()=>{})),null===h.current&&(h.current={clickthroughCount:0,engagedCount:0,seenCount:0}),function(e,t){for(let s of t)switch(s.event){case"app.bsky.feed.defs#clickthroughAuthor":case"app.bsky.feed.defs#clickthroughEmbed":case"app.bsky.feed.defs#clickthroughItem":case"app.bsky.feed.defs#clickthroughReposter":e.clickthroughCount++;break;case"app.bsky.feed.defs#interactionLike":case"app.bsky.feed.defs#interactionQuote":case"app.bsky.feed.defs#interactionReply":case"app.bsky.feed.defs#interactionRepost":case"app.bsky.feed.defs#interactionShare":e.engagedCount++;break;case"app.bsky.feed.defs#interactionSeen":e.seenCount++}}(h.current,t),p(),o.debug("flushed"))}),[n,p,l,c,a]),g=(0,lt.useMemo)((()=>Ua()(f,1e4,{leading:!1,trailing:!0})),[f]);(0,lt.useEffect)((()=>{if(!c)return;const e=ut.default.addEventListener("change",(e=>{"background"===e&&g.flush()}));return()=>e.remove()}),[c,g]);const x=(0,lt.useCallback)((e=>{if(!c)return;const t="sliceItem"===(s=e).type?s.slice.items.map((e=>({item:e,feedContext:s.slice.feedContext,reqId:s.slice.reqId}))):"videoGridRow"===s.type?s.items.map(((e,t)=>({item:e,feedContext:s.feedContexts[t],reqId:s.reqIds[t]}))):[];var s;for(const{item:o,feedContext:n,reqId:a}of t)u.current.has(o)||(u.current.add(o),d.current.add(Hg({item:o.uri,event:"app.bsky.feed.defs#interactionSeen",feedContext:n,reqId:a})),g())}),[c,g]),_=(0,lt.useCallback)((e=>{c&&(o.debug("sendInteraction",Object.assign({},e)),u.current.has(e)||(u.current.add(e),d.current.add(Hg(e)),g()))}),[c,g]);return(0,lt.useMemo)((()=>({enabled:c,onItemSeen:x,sendInteraction:_,feedDescriptor:a?.feedDescriptor,feedSourceInfo:"object"===typeof a?a:void 0})),[c,x,_,a])}Dg.displayName="FeedFeedbackContext";const Mg=Dg.Provider;function Fg(){return(0,lt.useContext)(Dg)}function Ng(e){return!!e&&Rg.includes(e)}function Hg(e){return`${e.item}|${e.event}|${e.feedContext||""}|${e.reqId||""}`}function Vg(e){const[t,s,o,n]=e.split("|");return{item:t,event:s,feedContext:o,reqId:n}}var zg=s(4557),Ug=s(6928),Wg=s(24655);const Gg=["fill","size","style","gradient"],qg=(0,ti.createSinglePathSVG)({path:"M6.335 4.212c2.293 1.76 4.76 5.327 5.665 7.241.906-1.914 3.372-5.482 5.665-7.241C19.319 2.942 22 1.96 22 5.086c0 .624-.35 5.244-.556 5.994-.713 2.608-3.315 3.273-5.629 2.87 4.045.704 5.074 3.035 2.852 5.366-4.22 4.426-6.066-1.111-6.54-2.53-.086-.26-.126-.382-.127-.278 0-.104-.041.018-.128.278-.473 1.419-2.318 6.956-6.539 2.53-2.222-2.331-1.193-4.662 2.852-5.366-2.314.403-4.916-.262-5.63-2.87C2.35 10.33 2 5.71 2 5.086c0-3.126 2.68-2.144 4.335-.874Z"});function Qg(e){const t=(0,n.c)(20),s=(0,Wg.useCommonSVGProps)(e);let o,a,r,i,l;if(t[0]!==s){var c=s;({fill:o,size:i,style:l,gradient:a}=c),r=(0,ta.default)(c,Gg),t[0]=s,t[1]=o,t[2]=a,t[3]=r,t[4]=i,t[5]=l}else o=t[1],a=t[2],r=t[3],i=t[4],l=t[5];const d=.22162162162162163*i;let u;t[6]!==l?(u=[l],t[6]=l,t[7]=u):u=t[7];const m=e.markFill??o;let h;t[8]!==m?(h=(0,bt.jsx)(Su.Path,{fill:m,fillRule:"evenodd",clipRule:"evenodd",d:"M101.821 7.673C112.575-.367 130-6.589 130 13.21c0 3.953-2.276 33.214-3.611 37.965-4.641 16.516-21.549 20.729-36.591 18.179 26.292 4.457 32.979 19.218 18.535 33.98-27.433 28.035-39.428-7.034-42.502-16.02-.563-1.647-.827-2.418-.831-1.763-.004-.655-.268.116-.831 1.763-3.074 8.986-15.07 44.055-42.502 16.02C7.223 88.571 13.91 73.81 40.202 69.353c-15.041 2.55-31.95-1.663-36.59-18.179C2.275 46.424 0 17.162 0 13.21 0-6.59 17.426-.368 28.18 7.673 43.084 18.817 59.114 41.413 65 53.54c5.886-12.125 21.917-34.722 36.821-45.866Z"}),t[8]=m,t[9]=h):h=t[9];const p=e.textFill??o;let f,g;return t[10]!==p?(f=(0,bt.jsx)(Su.Path,{fill:p,fillRule:"evenodd",clipRule:"evenodd",d:"m454.459 63.823 24.128-25.056h32.638l4.825 15.104c3.561 11.357 6.664 22.598 9.422 33.72 2.527-9.6 5.744-20.84 9.536-33.603l4.826-15.221H555l-22.864 65.335c-2.413 6.673-5.4 11.475-9.192 14.168-3.791 2.693-9.192 3.98-16.315 3.98-2.413 0-4.481-.117-6.319-.352v-11.59h5.514c6.549 0 9.767-4.099 9.767-9.719 0-2.81-.92-6.908-2.758-12.177l-17.177-49.478-22.239 22.665L497.2 99.184h-16.545l-17.234-28.101-8.962 9.133v18.968h-14.246V15.817h14.246v48.006Zm-48.373-26.46c16.889 0 25.622 6.79 26.196 20.49h-13.673c-.344-7.377-4.595-9.954-12.523-9.954-6.894 0-10.341 2.342-10.341 7.026 0 4.215 2.987 6.089 9.881 7.377l7.469 1.17c14.361 2.694 20.566 8.08 20.566 18.384 0 12.176-9.652 18.967-26.311 18.967-17.235 0-26.311-6.908-27.116-20.842h14.132c.804 7.494 4.481 10.304 13.213 10.304 7.813 0 11.72-2.459 11.72-7.26 0-4.332-2.758-6.44-11.605-7.962l-6.778-1.17c-12.983-2.224-19.418-8.313-19.418-18.265 0-11.358 8.847-18.266 24.588-18.266ZM270.534 76.351c0 7.61 3.677 11.474 11.145 11.474 7.008 0 13.212-5.268 13.213-15.22v-33.84h14.476v60.418h-14.016v-8.782c-4.481 6.791-10.686 10.187-18.614 10.187-12.523 0-20.68-7.728-20.68-21.778V38.767h14.476v37.585Zm75.432-38.99c8.961 0 16.085 3.045 21.37 9.016s7.928 13.933 7.928 23.651v3.513h-44.35c1.034 10.42 6.664 15.572 15.396 15.572 6.663 0 11.144-2.927 13.557-8.664h13.903c-3.103 12.294-13.443 20.139-27.575 20.139-8.847 0-15.971-2.927-21.371-8.664-5.4-5.737-8.157-13.348-8.157-22.95 0-9.483 2.643-17.094 8.043-22.949 5.4-5.737 12.409-8.664 21.256-8.664ZM195.628 15.817c17.809 0 26.426 9.251 26.426 21.545 0 8.196-3.677 14.168-10.915 17.914 9.306 3.396 14.247 11.24 14.247 20.022 0 14.87-9.767 23.886-28.494 23.886h-38.26V15.817h36.996Zm51.264 83.367h-14.477V15.817h14.477v83.367ZM174.143 86.07h21.944c8.732 0 13.443-4.098 13.443-11.474 0-7.728-4.481-11.592-13.443-11.592h-21.944V86.07Zm171.708-37.233c-7.928 0-13.443 4.683-14.822 14.401h29.758c-1.264-8.781-6.549-14.401-14.936-14.401Zm-171.708 1.756h20.336c7.927 0 12.178-4.215 12.178-11.24 0-6.44-4.366-10.539-12.178-10.539h-20.336v21.779Z"}),t[10]=p,t[11]=f):f=t[11],t[12]!==a||t[13]!==r||t[14]!==i||t[15]!==d||t[16]!==u||t[17]!==h||t[18]!==f?(g=(0,bt.jsxs)(Su.default,Object.assign({fill:"none"},r,{viewBox:"0 0 555 123",width:i,height:d,style:u,children:[a,h,f]})),t[12]=a,t[13]=r,t[14]=i,t[15]=d,t[16]=u,t[17]=h,t[18]=f,t[19]=g):g=t[19],g}const Kg="xl";function Zg(e){const t=(0,n.c)(24),{children:s,align:o}=e,a=void 0===o?"right":o,i=(0,qs.useTheme)(),[l,c]=(0,lt.useState)(void 0),d=(0,$i.useAppState)();if(!r.IS_IOS||"active"!==d)return s;const u="right"===a?qs.atoms.align_end:qs.atoms.align_start,m=l??Wg.sizes[Kg];let h,p,f,g,x,_,y,b,j,v,S,w;return t[0]!==m?(h={minWidth:m},t[0]=m,t[1]=h):h=t[1],t[2]!==u||t[3]!==h?(p=[qs.atoms.relative,qs.atoms.justify_center,u,h],t[2]=u,t[3]=h,t[4]=p):p=t[4],t[5]!==a?(f="right"===a?[qs.atoms.right_0,qs.atoms.align_end]:[qs.atoms.left_0,qs.atoms.align_start],t[5]=a,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g={width:1e3},t[7]=g):g=t[7],t[8]!==f?(x=[qs.atoms.absolute,qs.atoms.z_10,qs.atoms.flex_col,f,g,qs.atoms.pointer_events_box_none],t[8]=f,t[9]=x):x=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(_=e=>c(e.nativeEvent.layout.width),t[10]=_):_=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(y={minWidth:Wg.sizes[Kg],minHeight:Wg.sizes[Kg]},t[11]=y):y=t[11],t[12]!==i.atoms.bg?(b=[i.atoms.bg,y],t[12]=i.atoms.bg,t[13]=b):b=t[13],t[14]!==s||t[15]!==b?(j=(0,bt.jsx)(Fs.default,{onLayout:_,style:b,children:s}),t[14]=s,t[15]=b,t[16]=j):j=t[16],t[17]!==j||t[18]!==x?(v=(0,bt.jsx)(Ug.PrivacySensitive,{style:x,children:j}),t[17]=j,t[18]=x,t[19]=v):v=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(qg,{size:Kg}),t[20]=S):S=t[20],t[21]!==v||t[22]!==p?(w=(0,bt.jsxs)(Fs.default,{style:p,children:[v,S]}),t[21]=v,t[22]=p,t[23]=w):w=t[23],w}function Yg(e){const t=(0,n.c)(6),{did:s,enabled:o}=e,a=void 0===o||o;if(r.IS_IOS){let e;return t[0]!==s||t[1]!==a?(e=(0,bt.jsx)(Zg,{children:(0,bt.jsx)($g,{did:s,enabled:a})}),t[0]=s,t[1]=a,t[2]=e):e=t[2],e}let i;return t[3]!==s||t[4]!==a?(i=(0,bt.jsx)($g,{did:s,enabled:a}),t[3]=s,t[4]=a,t[5]=i):i=t[5],i}function $g(e){const t=(0,n.c)(4),{did:s,enabled:o}=e,a=void 0===o||o;let r;t[0]!==s?(r={did:s},t[0]=s,t[1]=r):r=t[1];const{data:i,isLoading:l}=(0,Ut.useProfileQuery)(r);if(!a||l||!i)return null;let c;return t[2]!==i?(c=(0,bt.jsx)(Xg,{profile:i}),t[2]=i,t[3]=c):c=t[3],c}function Xg(e){const t=(0,n.c)(27),{profile:s}=e,o=(0,Ns.useNavigation)(),{_:a}=(0,dt.useLingui)(),{gtMobile:r}=(0,qs.useBreakpoints)(),i=(0,Va.useProfileShadow)(s),[l,c]=(0,Ut.useProfileFollowMutationQueue)(i,"PostThreadItem"),d=(0,Gt.useRequireAuth)(),u=!!i.viewer?.following,m=!!i.viewer?.followedBy,[h,p]=lt.useState(u),f=!u||!h;let g,x,_;t[0]!==u||t[1]!==o||t[2]!==h?(g=()=>{const e=()=>{h!==u&&p(u)},t=o.addListener("focus",e),s=o.addListener("blur",e);return()=>{t(),s()}},x=[u,h,o],t[0]=u,t[1]=o,t[2]=h,t[3]=g,t[4]=x):(g=t[3],x=t[4]),lt.useEffect(g,x),t[5]!==a||t[6]!==u||t[7]!==l||t[8]!==c||t[9]!==d?(_=()=>{d(u?async()=>{try{await c()}catch(j){const t=j;"AbortError"!==t?.name&&(Mt.logger.error("Failed to unfollow",{message:String(t)}),Ds.show(a({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}}:async()=>{try{await l()}catch(b){const t=b;"AbortError"!==t?.name&&(Mt.logger.error("Failed to follow",{message:String(t)}),Ds.show(a({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}})},t[5]=a,t[6]=u,t[7]=l,t[8]=c,t[9]=d,t[10]=_):_=t[10];const y=_;if(!f)return null;let b;t[11]!==a||t[12]!==i.handle?(b=a({id:"bjYkUM",values:{0:i.handle}}),t[11]=a,t[12]=i.handle,t[13]=b):b=t[13];const j=u?"secondary":"secondary_inverted";let v,S,w,T;return t[14]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.rounded_full],t[14]=v):v=t[14],t[15]!==r||t[16]!==u?(S=r&&(0,bt.jsx)(ao.ButtonIcon,{icon:u?ro.Check_Stroke2_Corner0_Rounded:zg.PlusLarge_Stroke2_Corner0_Rounded,size:"sm"}),t[15]=r,t[16]=u,t[17]=S):S=t[17],t[18]!==m||t[19]!==u?(w=(0,bt.jsx)(ao.ButtonText,{children:u?(0,bt.jsx)(dt.Trans,{id:"y6sq5j"}):m?(0,bt.jsx)(dt.Trans,{id:"W/YewJ"}):(0,bt.jsx)(dt.Trans,{id:"MKEPCY"})}),t[18]=m,t[19]=u,t[20]=w):w=t[20],t[21]!==y||t[22]!==b||t[23]!==j||t[24]!==S||t[25]!==w?(T=(0,bt.jsxs)(ao.Button,{testID:"followBtn",label:b,onPress:y,size:"small",color:j,style:v,children:[S,w]}),t[21]=y,t[22]=b,t[23]=j,t[24]=S,t[25]=w,t[26]=T):T=t[26],T}const Jg=qs.tokens.space.lg,ex=24,tx=42,sx=2,ox=qs.tokens.space.lg;function nx(e){const t=(0,n.c)(35),{subject:s}=e,o=(0,qs.useTheme)(),[a]=(0,tl.useDevMode)(),r=Zi.usePromptControl();if(!a)return;if(!s.debug)return;let i,l,c,d,u,m,h,p,f,g,x,_,y,b,j;return t[0]!==s.debug?(i=JSON.stringify(s.debug,null,2),t[0]=s.debug,t[1]=i):i=t[1],t[2]!==s.debug?(l=()=>{Zp.setStringAsync(JSON.stringify(s.debug,null,2)),Pd.show("Copied to clipboard",{type:"success"})},t[2]=s.debug,t[3]=l):l=t[3],t[4]!==r||t[5]!==i||t[6]!==l?(c=(0,bt.jsx)(Zi.Basic,{control:r,title:"Debug",description:i,cancelButtonCta:"Close",confirmButtonCta:"Copy",onConfirm:l}),t[4]=r,t[5]=i,t[6]=l,t[7]=c):c=t[7],t[8]!==r?(d=e=>(e.preventDefault(),e.stopPropagation(),r.open(),!1),t[8]=r,t[9]=d):d=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.pt_sm,qs.atoms.pb_xs],t[10]=u):u=t[10],t[11]!==o.atoms.bg_contrast_25?(m=[qs.atoms.py_xs,qs.atoms.px_sm,qs.atoms.rounded_sm,o.atoms.bg_contrast_25],t[11]=o.atoms.bg_contrast_25,t[12]=m):m=t[12],t[13]!==o.atoms.text_contrast_medium?(h=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_xs,o.atoms.text_contrast_medium],children:"Debug"}),t[13]=o.atoms.text_contrast_medium,t[14]=h):h=t[14],t[15]!==m||t[16]!==h?(p=(0,bt.jsx)(Fs.default,{style:m,children:h}),t[15]=m,t[16]=h,t[17]=p):p=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(f={fontFamily:"monospace"},t[18]=f):f=t[18],t[19]!==o.atoms.text_contrast_low?(g=[qs.atoms.flex_1,qs.atoms.text_xs,qs.atoms.leading_tight,f,o.atoms.text_contrast_low],t[19]=o.atoms.text_contrast_low,t[20]=g):g=t[20],t[21]!==s.debug?(x=JSON.stringify(s.debug),t[21]=s.debug,t[22]=x):x=t[22],t[23]!==g||t[24]!==x?(_=(0,bt.jsx)(co.Text,{numberOfLines:1,style:g,children:x}),t[23]=g,t[24]=x,t[25]=_):_=t[25],t[26]!==_||t[27]!==p?(y=(0,bt.jsxs)(Fs.default,{style:u,children:[p,_]}),t[26]=_,t[27]=p,t[28]=y):y=t[28],t[29]!==y||t[30]!==d?(b=(0,bt.jsx)(Ms.default,{accessibilityRole:"button",onPress:d,children:y}),t[29]=y,t[30]=d,t[31]=b):b=t[31],t[32]!==b||t[33]!==c?(j=(0,bt.jsxs)(bt.Fragment,{children:[c,b]}),t[32]=b,t[33]=c,t[34]=j):j=t[34],j}const ax=(0,ti.createSinglePathSVG)({path:"M15.439 3.148a1 1 0 0 1 .41.645l.568 3.22a7 7 0 1 1-6.174 10.97L4.32 19.027a1 1 0 0 1-1.159-.811L1.078 6.398a1 1 0 0 1 .81-1.158l12.803-2.258a1 1 0 0 1 .748.166ZM9.325 16.114A7 7 0 0 1 9 14c0-1.56.51-3 1.372-4.164l-6.456 1.139 1.041 5.909 4.368-.77ZM3.568 9.005l10.833-1.91-.347-1.97L3.22 7.036l.347 1.97ZM16 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm0 2a1 1 0 0 1 1 1v1.586l1.374 1.374a1 1 0 0 1-1.414 1.414l-1.667-1.667A1 1 0 0 1 15 14v-2a1 1 0 0 1 1-1Z"});function rx(e){return(0,Ma.sanitizeDisplayName)(e.displayName||(0,Fa.sanitizeHandle)(e.handle,"@"))}var ix=s(2158);function lx(e){return e.uri}function cx(e){const t=(0,n.c)(15),{control:s,profile:o,verifications:a,onConfirm:r}=e,{_:i}=(0,dt.useLingui)(),{mutateAsync:l}=function(){const e=(0,n.c)(5),t=(0,Xo.useAnalytics)(),s=(0,Gt.useAgent)(),{currentAccount:o}=(0,Gt.useSession)(),a=(0,ix.useUpdateProfileVerificationCache)();let r;return e[0]!==s||e[1]!==t||e[2]!==o||e[3]!==a?(r={async mutationFn(e){const{profile:t,verifications:n}=e;if(!o)throw new Error("User not logged in");const a=n.map(lx);await Promise.all(a.map((e=>s.app.bsky.graph.verification.delete({repo:o.did,rkey:new Dn.AtUri(e).rkey})))),await(0,Za.until)(5,1e3,(e=>{const{data:t}=e;return!t.verification?.verifications.some((e=>a.includes(e.uri)))}),(()=>s.getProfile({actor:t.did??""})))},async onSuccess(e,s){const{profile:o}=s;t.metric("verification:revoke",{}),await a({profile:o})}},e[0]=s,e[1]=t,e[2]=o,e[3]=a,e[4]=r):r=e[4],(0,go.useMutation)(r)}();let c;t[0]!==i||t[1]!==r||t[2]!==o||t[3]!==l||t[4]!==a?(c=async()=>{r?.();try{await l({profile:o,verifications:a}),Ds.show(i({id:"ei0H7Q"}))}catch(u){const t=u;Ds.show(i({id:"aGdU9/"}),"xmark"),Mt.logger.error("Failed to remove verification",{safeMessage:t})}},t[0]=i,t[1]=r,t[2]=o,t[3]=l,t[4]=a,t[5]=c):c=t[5];const d=c;let u,m,h;return t[6]!==i?(u=i({id:"rFr1fb"}),t[6]=i,t[7]=u):u=t[7],t[8]!==i?(m=i({id:"ivOnDk"}),t[8]=i,t[9]=m):m=t[9],t[10]!==s||t[11]!==d||t[12]!==u||t[13]!==m?(h=(0,bt.jsx)(Zi.Basic,{control:s,title:u,onConfirm:d,confirmButtonCta:m,confirmButtonColor:"negative"}),t[10]=s,t[11]=d,t[12]=u,t[13]=m,t[14]=h):h=t[14],h}function dx(e){const t=(0,n.c)(9),{control:s,profile:o,verificationState:a}=e;let r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={preventExpansion:!0},i=(0,bt.jsx)(Qs.Handle,{}),t[0]=r,t[1]=i):(r=t[0],i=t[1]),t[2]!==s||t[3]!==o||t[4]!==a?(l=(0,bt.jsx)(ux,{control:s,profile:o,verificationState:a}),t[2]=s,t[3]=o,t[4]=a,t[5]=l):l=t[5],t[6]!==s||t[7]!==l?(c=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:r,children:[i,l]}),t[6]=s,t[7]=l,t[8]=c):c=t[8],c}function ux(e){const t=(0,n.c)(54),{profile:s,control:o,verificationState:a}=e,r=(0,qs.useTheme)(),i=(0,Xo.useAnalytics)(),{_:l}=(0,dt.useLingui)(),{gtMobile:c}=(0,qs.useBreakpoints)();let d;if(t[0]!==l||t[1]!==s||t[2]!==a.profile.isVerified||t[3]!==a.profile.isViewer){const e=rx(s);d=a.profile.isViewer?a.profile.isVerified?l({id:"vwim0K"}):l({id:"71CMMD"}):a.profile.isVerified?l({id:"zD2NvH",values:{userName:e}}):l({values:{userName:e},id:"eOZCDf"}),t[0]=l,t[1]=s,t[2]=a.profile.isVerified,t[3]=a.profile.isViewer,t[4]=d}else d=t[4];const u=d;let m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;return t[5]!==c?(m=c?{width:"auto",maxWidth:400,minWidth:200}:qs.atoms.w_full,t[5]=c,t[6]=m):m=t[6],t[7]!==m?(h=[m],t[7]=m,t[8]=h):h=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.gap_sm,qs.atoms.pb_lg],t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.pr_4xl,qs.atoms.leading_tight],t[10]=f):f=t[10],t[11]!==u?(g=(0,bt.jsx)(co.Text,{style:f,children:u}),t[11]=u,t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.text_md,qs.atoms.leading_snug],t[13]=x):x=t[13],t[14]!==a.profile.isVerified?(_=(0,bt.jsx)(co.Text,{style:x,children:a.profile.isVerified?(0,bt.jsx)(dt.Trans,{id:"mQ2u23"}):(0,bt.jsx)(dt.Trans,{id:"O2i+Sg"})}),t[14]=a.profile.isVerified,t[15]=_):_=t[15],t[16]!==g||t[17]!==_?(y=(0,bt.jsxs)(Fs.default,{style:p,children:[g,_]}),t[16]=g,t[17]=_,t[18]=y):y=t[18],t[19]!==o||t[20]!==s||t[21]!==a.profile.isViewer||t[22]!==r?(b=s.verification?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_xl,qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,r.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"+qipyn"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.gap_lg],children:s.verification.verifications.map((e=>(0,bt.jsx)(hx,{verification:e,subject:s,outerDialogControl:o},e.uri)))}),s.verification.verifications.some(mx)&&a.profile.isViewer&&(0,bt.jsx)(no.Admonition,{type:"warning",style:[qs.atoms.mt_xs],children:(0,bt.jsx)(dt.Trans,{id:"AV2ZDR"})})]}):null,t[19]=o,t[20]=s,t[21]=a.profile.isViewer,t[22]=r,t[23]=b):b=t[23],t[24]!==c?(j=[qs.atoms.w_full,qs.atoms.gap_sm,qs.atoms.justify_end,c?[qs.atoms.flex_row,qs.atoms.flex_row_reverse,qs.atoms.justify_start]:[qs.atoms.flex_col]],t[24]=c,t[25]=j):j=t[25],t[26]!==l?(v=l({id:"cu6iol"}),t[26]=l,t[27]=v):v=t[27],t[28]!==o?(S=()=>{o.close()},t[28]=o,t[29]=S):S=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})}),t[30]=w):w=t[30],t[31]!==v||t[32]!==S?(T=(0,bt.jsx)(ao.Button,{label:v,size:"small",variant:"solid",color:"primary",onPress:S,children:w}),t[31]=v,t[32]=S,t[33]=T):T=t[33],t[34]!==l?(k=l({id:"J9OB+F"}),t[34]=l,t[35]=k):k=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.justify_center],t[36]=C):C=t[36],t[37]!==i?(I=()=>{i.metric("verification:learn-more",{location:"verificationsDialog"})},t[37]=i,t[38]=I):I=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"XCWG6Q"})}),t[39]=A):A=t[39],t[40]!==k||t[41]!==I?(P=(0,bt.jsx)(io.Link,{overridePresentation:!0,to:Vt.urls.website.blog.initialVerificationAnnouncement,label:k,size:"small",variant:"solid",color:"secondary",style:C,onPress:I,children:A}),t[40]=k,t[41]=I,t[42]=P):P=t[42],t[43]!==j||t[44]!==T||t[45]!==P?(E=(0,bt.jsxs)(Fs.default,{style:j,children:[T,P]}),t[43]=j,t[44]=T,t[45]=P,t[46]=E):E=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(L=(0,bt.jsx)(Qs.Close,{}),t[47]=L):L=t[47],t[48]!==u||t[49]!==b||t[50]!==E||t[51]!==h||t[52]!==y?(R=(0,bt.jsxs)(Qs.ScrollableInner,{label:u,style:h,children:[y,b,E,L]}),t[48]=u,t[49]=b,t[50]=E,t[51]=h,t[52]=y,t[53]=R):R=t[53],R}function mx(e){return!e.isValid}function hx(e){const t=(0,n.c)(29),{verification:s,subject:o,outerDialogControl:a}=e,r=(0,qs.useTheme)(),{_:i,i18n:l}=(0,dt.useLingui)(),{currentAccount:c}=(0,Gt.useSession)(),d=(0,ds.useModerationOpts)();let u;t[0]!==s.issuer?(u={did:s.issuer},t[0]=s.issuer,t[1]=u):u=t[1];const{data:m,error:h}=(0,Ut.useProfileQuery)(u),p=(0,Qs.useDialogControl)(),f=s.issuer===c?.did,g=s.isValid?1:.5;let x,_,y,b,j,v;return t[2]!==g?(x={opacity:g},t[2]=g,t[3]=x):x=t[3],t[4]!==i||t[5]!==f||t[6]!==h||t[7]!==l||t[8]!==d||t[9]!==a||t[10]!==m||t[11]!==r||t[12]!==s.createdAt||t[13]!==s.issuer||t[14]!==p?(_=(0,bt.jsx)(Rl.Outer,{children:(0,bt.jsx)(Rl.Header,{children:h?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Rl.AvatarPlaceholder,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"VL5IC6"})}),(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.leading_snug,r.atoms.text_contrast_medium],numberOfLines:1,children:s.issuer})]})]}):m&&d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Rl.Link,{profile:m,style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.flex_1],onPress:()=>{a.close()},children:[(0,bt.jsx)(Rl.Avatar,{profile:m,moderationOpts:d,disabledPreview:!0}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsx)(Rl.Name,{profile:m,moderationOpts:d}),(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.leading_snug,r.atoms.text_contrast_medium],numberOfLines:1,children:l.date(new Date(s.createdAt),{dateStyle:"long"})})]})]}),f&&(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(ao.Button,{label:i({id:"ivOnDk"}),size:"small",variant:"outline",color:"negative",shape:"round",onPress:()=>{p.open()},children:(0,bt.jsx)(ao.ButtonIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded})})})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Rl.AvatarPlaceholder,{}),(0,bt.jsx)(Rl.NameAndHandlePlaceholder,{})]})})}),t[4]=i,t[5]=f,t[6]=h,t[7]=l,t[8]=d,t[9]=a,t[10]=m,t[11]=r,t[12]=s.createdAt,t[13]=s.issuer,t[14]=p,t[15]=_):_=t[15],t[16]!==s?(y=[s],t[16]=s,t[17]=y):y=t[17],t[18]!==a?(b=()=>a.close(),t[18]=a,t[19]=b):b=t[19],t[20]!==o||t[21]!==y||t[22]!==b||t[23]!==p?(j=(0,bt.jsx)(cx,{control:p,profile:o,verifications:y,onConfirm:b}),t[20]=o,t[21]=y,t[22]=b,t[23]=p,t[24]=j):j=t[24],t[25]!==x||t[26]!==_||t[27]!==j?(v=(0,bt.jsxs)(Fs.default,{style:x,children:[_,j]}),t[25]=x,t[26]=_,t[27]=j,t[28]=v):v=t[28],v}var px=s(29678);function fx(e){const t=(0,n.c)(10),{control:s,profile:o,verificationState:a}=e;let r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={preventExpansion:!0},i=(0,bt.jsx)(Qs.Handle,{}),t[0]=r,t[1]=i):(r=t[0],i=t[1]),t[2]!==s||t[3]!==o||t[4]!==a?(l=(0,bt.jsx)(gx,{control:s,profile:o,verificationState:a}),t[2]=s,t[3]=o,t[4]=a,t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Qs.Close,{}),t[6]=c):c=t[6],t[7]!==s||t[8]!==l?(d=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:r,children:[i,l,c]}),t[7]=s,t[8]=l,t[9]=d):d=t[9],d}function gx(e){const t=(0,n.c)(60),{profile:o,control:a}=e,r=(0,qs.useTheme)(),i=(0,Xo.useAnalytics)(),{_:l}=(0,dt.useLingui)(),{gtMobile:c}=(0,qs.useBreakpoints)(),{currentAccount:d}=(0,Gt.useSession)(),u=o.did===d?.did;let m;if(t[0]!==l||t[1]!==u||t[2]!==o){const e=rx(o);m=l(u?{id:"2+MNOY"}:{id:"/vLQQC",values:{userName:e}}),t[0]=l,t[1]=u,t[2]=o,t[3]=m}else m=t[3];const h=m;let p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return t[4]!==c?(p=c?{width:"auto",maxWidth:400,minWidth:200}:qs.atoms.w_full,t[4]=c,t[5]=p):p=t[5],t[6]!==p?(f=[p],t[6]=p,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.gap_lg],t[8]=g):g=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x={minHeight:100},t[9]=x):x=t[9],t[10]!==r.atoms.bg_contrast_25?(_=[qs.atoms.w_full,qs.atoms.rounded_md,qs.atoms.overflow_hidden,r.atoms.bg_contrast_25,x],t[10]=r.atoms.bg_contrast_25,t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y=s(51620),b=[{aspectRatio:2.20625}],t[12]=y,t[13]=b):(y=t[12],b=t[13]),t[14]!==l?(j=l({id:"e/MhYH"}),t[14]=l,t[15]=j):j=t[15],t[16]!==j?(v=(0,bt.jsx)(cn.Image,{accessibilityIgnoresInvertColors:!0,source:y,style:b,alt:j}),t[16]=j,t[17]=v):v=t[17],t[18]!==v||t[19]!==_?(S=(0,bt.jsx)(Fs.default,{style:_,children:v}),t[18]=v,t[19]=_,t[20]=S):S=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_sm],t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.pr_4xl,qs.atoms.leading_tight],t[22]=T):T=t[22],t[23]!==h?(k=(0,bt.jsx)(co.Text,{style:T,children:h}),t[23]=h,t[24]=k):k=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.text_md,qs.atoms.leading_snug],t[25]=C):C=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(co.Text,{style:C,children:(0,bt.jsx)(dt.Trans,{id:"C5mG5F",components:{0:(0,bt.jsx)(La.default,{}),1:(0,bt.jsx)(px.VerifierCheck,{width:14})}})}),t[26]=I):I=t[26],t[27]!==k?(A=(0,bt.jsxs)(Fs.default,{style:w,children:[k,I]}),t[27]=k,t[28]=A):A=t[28],t[29]!==c?(P=[qs.atoms.w_full,qs.atoms.gap_sm,qs.atoms.justify_end,c?[qs.atoms.flex_row,qs.atoms.justify_end]:[qs.atoms.flex_col]],t[29]=c,t[30]=P):P=t[30],t[31]!==l?(E=l({id:"J9OB+F"}),t[31]=l,t[32]=E):E=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.justify_center],t[33]=L):L=t[33],t[34]!==i?(R=()=>{i.metric("verification:learn-more",{location:"verifierDialog"})},t[34]=i,t[35]=R):R=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"XCWG6Q"})}),t[36]=B):B=t[36],t[37]!==E||t[38]!==R?(D=(0,bt.jsx)(io.Link,{overridePresentation:!0,to:Vt.urls.website.blog.initialVerificationAnnouncement,label:E,size:"small",color:"primary",style:L,onPress:R,children:B}),t[37]=E,t[38]=R,t[39]=D):D=t[39],t[40]!==l?(O=l({id:"cu6iol"}),t[40]=l,t[41]=O):O=t[41],t[42]!==a?(M=()=>{a.close()},t[42]=a,t[43]=M):M=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})}),t[44]=F):F=t[44],t[45]!==O||t[46]!==M?(N=(0,bt.jsx)(ao.Button,{label:O,size:"small",color:"secondary",onPress:M,children:F}),t[45]=O,t[46]=M,t[47]=N):N=t[47],t[48]!==P||t[49]!==D||t[50]!==N?(H=(0,bt.jsxs)(Fs.default,{style:P,children:[D,N]}),t[48]=P,t[49]=D,t[50]=N,t[51]=H):H=t[51],t[52]!==S||t[53]!==A||t[54]!==H?(V=(0,bt.jsxs)(Fs.default,{style:g,children:[S,A,H]}),t[52]=S,t[53]=A,t[54]=H,t[55]=V):V=t[55],t[56]!==h||t[57]!==V||t[58]!==f?(z=(0,bt.jsx)(Qs.ScrollableInner,{label:h,style:f,children:V}),t[56]=h,t[57]=V,t[58]=f,t[59]=z):z=t[59],z}function xx(e){let t=!1;return"default"===e.profile.role?(e.profile.isVerified||e.profile.isViewer&&e.profile.wasVerified||"verifier"===e.viewer.role&&e.viewer.hasIssuedVerification)&&(t=!0):"verifier"===e.profile.role&&(e.profile.isViewer||e.profile.isVerified)&&(t=!0),e.profile.showBadge||e.profile.isViewer||"verifier"===e.viewer.role&&e.viewer.hasIssuedVerification||(t=!1),t}function _x(e){const t=(0,n.c)(6),{profile:s,size:o}=e;let a;t[0]!==s?(a={profile:s},t[0]=s,t[1]=a):a=t[1];const r=(0,Nu.useFullVerificationState)(a);if(xx(r)){let e;return t[2]!==s||t[3]!==o||t[4]!==r?(e=(0,bt.jsx)(yx,{profile:s,verificationState:r,size:o}),t[2]=s,t[3]=o,t[4]=r,t[5]=e):e=t[5],e}return null}function yx(e){const t=(0,n.c)(34),{profile:s,verificationState:o,size:a}=e,r=(0,qs.useTheme)(),i=(0,Xo.useAnalytics)(),{_:l}=(0,dt.useLingui)(),c=(0,Qs.useDialogControl)(),d=(0,Qs.useDialogControl)(),{gtPhone:u}=(0,qs.useBreakpoints)();let m;t[0]!==u||t[1]!==a?(m=12,"lg"===a?m=u?20:18:"md"===a&&(m=14),t[0]=u,t[1]=a,t[2]=m):m=t[2];const h=!o.profile.showBadge&&o.profile.isViewer;let p,f,g,x,_,y,b;return t[3]!==l||t[4]!==o.profile.isViewer?(p=o.profile.isViewer?l({id:"M8hO9W"}):l({id:"j0O1By"}),t[3]=l,t[4]=o.profile.isViewer,t[5]=p):p=t[5],t[6]!==i||t[7]!==o.profile.role||t[8]!==c||t[9]!==d?(f=e=>{e.preventDefault(),i.metric("verification:badge:click",{}),"verifier"===o.profile.role?d.open():c.open()},t[6]=i,t[7]=o.profile.role,t[8]=c,t[9]=d,t[10]=f):f=t[10],t[11]!==m||t[12]!==o.profile.isVerified||t[13]!==o.profile.role||t[14]!==r.atoms||t[15]!==r.palette||t[16]!==h?(g=e=>{const{hovered:t}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.justify_end,qs.atoms.align_end,qs.atoms.transition_transform,{width:m,height:m,transform:[{scale:t?1.1:1}]}],children:(0,bt.jsx)(Hu.VerificationCheck,{width:m,fill:h?r.atoms.bg_contrast_100.backgroundColor:o.profile.isVerified?r.palette.primary_500:r.atoms.bg_contrast_100.backgroundColor,verifier:"verifier"===o.profile.role})})},t[11]=m,t[12]=o.profile.isVerified,t[13]=o.profile.role,t[14]=r.atoms,t[15]=r.palette,t[16]=h,t[17]=g):g=t[17],t[18]!==p||t[19]!==f||t[20]!==g?(x=(0,bt.jsx)(ao.Button,{label:p,hitSlop:20,onPress:f,children:g}),t[18]=p,t[19]=f,t[20]=g,t[21]=x):x=t[21],t[22]!==s||t[23]!==o||t[24]!==c?(_=(0,bt.jsx)(dx,{control:c,profile:s,verificationState:o}),t[22]=s,t[23]=o,t[24]=c,t[25]=_):_=t[25],t[26]!==s||t[27]!==o||t[28]!==d?(y=(0,bt.jsx)(fx,{control:d,profile:s,verificationState:o}),t[26]=s,t[27]=o,t[28]=d,t[29]=y):y=t[29],t[30]!==x||t[31]!==_||t[32]!==y?(b=(0,bt.jsxs)(bt.Fragment,{children:[x,_,y]}),t[30]=x,t[31]=_,t[32]=y,t[33]=b):b=t[33],b}var bx=s(38906);const jx=(0,ti.createSinglePathSVG)({path:"M8 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM4 7a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm13-1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Zm5.826 7.376c-.919-.779-2.052-1.03-3.1-.787a1 1 0 0 1-.451-1.949c1.671-.386 3.45.028 4.844 1.211 1.397 1.185 2.348 3.084 2.524 5.579a1 1 0 0 1-.997 1.07H18a1 1 0 1 1 0-2h3.007c-.29-1.47-.935-2.49-1.681-3.124ZM3.126 19h9.747c-.61-3.495-2.867-5-4.873-5-2.006 0-4.263 1.505-4.873 5ZM8 12c3.47 0 6.64 2.857 6.998 7.93A1 1 0 0 1 14 21H2a1 1 0 0 1-.998-1.07C1.36 14.857 4.53 12 8 12Z"});function vx({post:e,isThreadAuthor:t,style:s}){const o=(0,qs.useTheme)(),n=(0,Xo.useAnalytics)(),{_:a}=(0,dt.useLingui)(),i=(0,Qs.useDialogControl)(),l=(0,Qs.useDialogControl)(),c=qc.dangerousIsType(e.record,Dn.AppBskyFeedPost.isRecord)&&e.record.reply?.root?e.record.reply.root.uri:e.uri,d=(0,lt.useMemo)((()=>(0,Yd.threadgateViewToAllowUISetting)(e.threadgate)),[e.threadgate]),u=_f({postUri:e.uri,rootPostUri:c}),m=(0,lt.useRef)(Promise.resolve()),h=1===d.length&&"everybody"===d[0].type,p=1===d.length&&"nobody"===d[0].type,f=a(h?{id:"RRRRK3"}:p?{id:"eY3hzv"}:{id:"LrO8R3"});return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,Object.assign({label:a(t?{id:"4EiV1O"}:{id:"yvDWMs"}),onPress:()=>{r.IS_NATIVE&&Ws.default.isVisible()&&Ws.default.dismiss(),t?(n.metric("thread:click:editOwnThreadgate",{}),Promise.race([m.current,new Promise((e=>setTimeout(e,200)))]).finally((()=>{l.open()}))):(n.metric("thread:click:viewSomeoneElsesThreadgate",{}),i.open())}},t?{onHoverIn:()=>{m.current=u()}}:{},{hitSlop:Vt.HITSLOP_10,children:({hovered:e,focused:n,pressed:a})=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,(e||n||a)&&(0,qs.native)({opacity:.5}),s],children:[(0,bt.jsx)(Sx,{color:t?o.palette.primary_500:o.palette.contrast_400,width:16,settings:d}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_tight,t?{color:o.palette.primary_500}:o.atoms.text_contrast_medium,(e||n||a)&&(0,qs.web)(qs.atoms.underline)],children:f}),t&&(0,bt.jsx)(mn.TinyChevronBottom_Stroke2_Corner0_Rounded,{width:8,fill:o.palette.primary_500})]})})),t?(0,bt.jsx)(pf,{postUri:e.uri,rootPostUri:c,control:l,initialThreadgateView:e.threadgate}):(0,bt.jsx)(kx,{control:i,post:e,settings:d,embeddingDisabled:Boolean(e.viewer?.embeddingDisabled)})]})}function Sx(e){const t=(0,n.c)(4),{color:s,width:o,settings:a}=e,r=0===a.length||a.every(Tx),i=!!a.find(wx),l=r?dm.Earth_Stroke2_Corner0_Rounded:i?bx.CircleBanSign_Stroke2_Corner0_Rounded:jx;let c;return t[0]!==l||t[1]!==s||t[2]!==o?(c=(0,bt.jsx)(l,{fill:s,width:o}),t[0]=l,t[1]=s,t[2]=o,t[3]=c):c=t[3],c}function wx(e){return"nobody"===e.type}function Tx(e){return"everybody"===e.type}function kx(e){const t=(0,n.c)(22),{control:s,post:o,settings:a,embeddingDisabled:i}=e,{_:l}=(0,dt.useLingui)();let c,d,u,m,h,p,f,g,x,_,y;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c={preventExpansion:!0},d=(0,bt.jsx)(Qs.Handle,{}),t[0]=c,t[1]=d):(c=t[0],d=t[1]),t[2]!==l?(u=l({id:"S2SV1Z"}),t[2]=l,t[3]=u):u=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,qs.web)({maxWidth:400}),t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_sm],t[5]=h):h=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xl,qs.atoms.pb_sm],children:(0,bt.jsx)(dt.Trans,{id:"U/GUHF"})}),t[6]=p):p=t[6],t[7]!==i||t[8]!==o||t[9]!==a?(f=(0,bt.jsxs)(Fs.default,{style:h,children:[p,(0,bt.jsx)(Cx,{post:o,settings:a,embeddingDisabled:i})]}),t[7]=i,t[8]=o,t[9]=a,t[10]=f):f=t[10],t[11]!==l||t[12]!==s?(g=r.IS_NATIVE&&(0,bt.jsx)(ao.Button,{label:l({id:"yz7wBu"}),onPress:()=>s.close(),size:"small",variant:"solid",color:"secondary",style:[qs.atoms.mt_5xl],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})}),t[11]=l,t[12]=s,t[13]=g):g=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Qs.Close,{}),t[14]=x):x=t[14],t[15]!==u||t[16]!==f||t[17]!==g?(_=(0,bt.jsxs)(Qs.ScrollableInner,{label:u,style:m,children:[f,g,x]}),t[15]=u,t[16]=f,t[17]=g,t[18]=_):_=t[18],t[19]!==s||t[20]!==_?(y=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:c,children:[d,_]}),t[19]=s,t[20]=_,t[21]=y):y=t[21],y}function Cx(e){const t=(0,n.c)(14),{post:s,settings:o,embeddingDisabled:a}=e,r=(0,qs.useTheme)();let i,l,c,d,u;return t[0]!==r.atoms.text_contrast_medium?(i=[qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.flex_wrap,r.atoms.text_contrast_medium],t[0]=r.atoms.text_contrast_medium,t[1]=i):i=t[1],t[2]!==s||t[3]!==o?(l=0===o.length?(0,bt.jsx)(dt.Trans,{id:"HC7BQk"}):"everybody"===o[0].type?(0,bt.jsx)(dt.Trans,{id:"+hUsMV"}):"nobody"===o[0].type?(0,bt.jsx)(dt.Trans,{id:"TYeoUg"}):(0,bt.jsx)(dt.Trans,{id:"Kq2/SU",values:{0:o.map(((e,t)=>(0,bt.jsxs)(lt.Fragment,{children:[(0,bt.jsx)(Ix,{rule:e,post:s,lists:s.threadgate.lists}),(0,bt.jsx)(Ax,{i:t,length:o.length})]},`rule-${t}`)))}}),t[2]=s,t[3]=o,t[4]=l):l=t[4],t[5]!==i||t[6]!==l?(c=(0,bt.jsxs)(co.Text,{style:i,children:[l," "]}),t[5]=i,t[6]=l,t[7]=c):c=t[7],t[8]!==a||t[9]!==r.atoms.text_contrast_medium?(d=a&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.flex_wrap,r.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"/yF5Q/"})}),t[8]=a,t[9]=r.atoms.text_contrast_medium,t[10]=d):d=t[10],t[11]!==c||t[12]!==d?(u=(0,bt.jsxs)(bt.Fragment,{children:[c,d]}),t[11]=c,t[12]=d,t[13]=u):u=t[13],u}function Ix(e){const t=(0,n.c)(29),{rule:s,post:o,lists:a}=e;if("mention"===s.type){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"S9V0C/"}),t[0]=e):e=t[0],e}if("followers"===s.type){let e;t[1]!==o.author.handle?(e={0:o.author.handle},t[1]=o.author.handle,t[2]=e):e=t[2];const s=`@${o.author.handle}`;let n,a,r,i;return t[3]!==o.author?(n=(0,Oa.makeProfileLink)(o.author),t[3]=o.author,t[4]=n):n=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.text_sm,qs.atoms.leading_snug],t[5]=a):a=t[5],t[6]!==s||t[7]!==n?(r={0:(0,bt.jsx)(io.InlineLinkText,{label:s,to:n,style:a})},t[6]=s,t[7]=n,t[8]=r):r=t[8],t[9]!==e||t[10]!==r?(i=(0,bt.jsx)(dt.Trans,{id:"sDwobD",values:e,components:r}),t[9]=e,t[10]=r,t[11]=i):i=t[11],i}if("following"===s.type){let e;t[12]!==o.author.handle?(e={0:o.author.handle},t[12]=o.author.handle,t[13]=e):e=t[13];const s=`@${o.author.handle}`;let n,a,r,i;return t[14]!==o.author?(n=(0,Oa.makeProfileLink)(o.author),t[14]=o.author,t[15]=n):n=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.text_sm,qs.atoms.leading_snug],t[16]=a):a=t[16],t[17]!==s||t[18]!==n?(r={0:(0,bt.jsx)(io.InlineLinkText,{label:s,to:n,style:a})},t[17]=s,t[18]=n,t[19]=r):r=t[19],t[20]!==e||t[21]!==r?(i=(0,bt.jsx)(dt.Trans,{id:"/t+8XK",values:e,components:r}),t[20]=e,t[21]=r,t[22]=i):i=t[22],i}if("list"===s.type){let e;if(t[23]!==a||t[24]!==s.list){e=Symbol.for("react.early_return_sentinel");{const o=a?.find((e=>e.uri===s.list));if(o){const s=new Dn.AtUri(o.uri);let n;t[26]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.text_sm,qs.atoms.leading_snug],t[26]=n):n=t[26];const a=(0,bt.jsx)(io.InlineLinkText,{label:o.name,to:(0,Oa.makeListLink)(s.hostname,s.rkey),style:n});let r;t[27]!==a?(r={0:a},t[27]=a,t[28]=r):r=t[28],e=(0,bt.jsx)(dt.Trans,{id:"a4TDv7",values:{0:o.name},components:r})}else;}t[23]=a,t[24]=s.list,t[25]=e}else e=t[25];if(e!==Symbol.for("react.early_return_sentinel"))return e}}function Ax(e){const t=(0,n.c)(4),{i:s,length:o}=e;if(o<2||s===o-1)return null;if(s===o-2){const e=o>2?",":"";let s,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(dt.Trans,{id:"HZFm5R"}),t[0]=s):s=t[0],t[1]!==e?(n=(0,bt.jsxs)(bt.Fragment,{children:[e," ",s," "]}),t[1]=e,t[2]=n):n=t[2],n}let a;return t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(bt.Fragment,{children:", "}),t[3]=a):a=t[3],a}function Px(e){const t=(0,n.c)(9),{item:s,onPostSuccess:o,threadgateRecord:a,postSource:r}=e,i=(0,Ha.usePostShadow)(s.value.post),l=(s.value.post.record.reply?.root?.uri||s.uri)===s.uri;if(i===Ha.POST_TOMBSTONE){let e;return t[0]!==l?(e=(0,bt.jsx)(Ex,{isRoot:l}),t[0]=l,t[1]=e):e=t[1],e}let c;return t[2]!==l||t[3]!==s||t[4]!==o||t[5]!==i||t[6]!==r||t[7]!==a?(c=(0,bt.jsx)(Rx,{item:s,isRoot:l,postShadow:i,onPostSuccess:o,threadgateRecord:a,postSource:r},i.uri),t[2]=l,t[3]=s,t[4]=o,t[5]=i,t[6]=r,t[7]=a,t[8]=c):c=t[8],c}function Ex(e){const t=(0,n.c)(27),{isRoot:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m,h,p,f,g,x;return t[0]!==s?(a=(0,bt.jsx)(Lx,{isRoot:s}),t[0]=s,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r={paddingHorizontal:ox,paddingBottom:ox},t[2]=r):r=t[2],t[3]!==s?(i=s&&[qs.atoms.pt_lg],t[3]=s,t[4]=i):i=t[4],t[5]!==i?(l=[r,i],t[5]=i,t[6]=l):l=t[6],t[7]!==o.atoms.bg_contrast_25?(c=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.py_md,qs.atoms.rounded_sm,o.atoms.bg_contrast_25],t[7]=o.atoms.bg_contrast_25,t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,{width:tx}],t[9]=d):d=t[9],t[10]!==o.atoms.text_contrast_medium?(u=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(ml.Trash_Stroke2_Corner0_Rounded,{style:[o.atoms.text_contrast_medium]})}),t[10]=o.atoms.text_contrast_medium,t[11]=u):u=t[11],t[12]!==o.atoms.text_contrast_medium?(m=[qs.atoms.text_md,qs.atoms.font_semi_bold,o.atoms.text_contrast_medium],t[12]=o.atoms.text_contrast_medium,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"Po0oPy"}),t[14]=h):h=t[14],t[15]!==m?(p=(0,bt.jsx)(co.Text,{style:m,children:h}),t[15]=m,t[16]=p):p=t[16],t[17]!==p||t[18]!==c||t[19]!==u?(f=(0,bt.jsxs)(Fs.default,{style:c,children:[u,p]}),t[17]=p,t[18]=c,t[19]=u,t[20]=f):f=t[20],t[21]!==f||t[22]!==l?(g=(0,bt.jsx)(Fs.default,{style:l,children:f}),t[21]=f,t[22]=l,t[23]=g):g=t[23],t[24]!==a||t[25]!==g?(x=(0,bt.jsxs)(bt.Fragment,{children:[a,g]}),t[24]=a,t[25]=g,t[26]=x):x=t[26],x}function Lx(e){const t=(0,n.c)(3),{isRoot:s}=e,o=(0,qs.useTheme)();let a;return t[0]!==s||t[1]!==o?(a=s?null:(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_lg,qs.atoms.flex_row,qs.atoms.pb_xs,{height:qs.atoms.pt_lg.paddingTop}],children:(0,bt.jsx)(Fs.default,{style:{width:42},children:(0,bt.jsx)(Fs.default,{style:[{width:sx,marginLeft:"auto",marginRight:"auto",flexGrow:1,backgroundColor:o.atoms.border_contrast_low.borderColor}]})})}),t[0]=s,t[1]=o,t[2]=a):a=t[2],a}const Rx=(0,lt.memo)((function(e){const t=(0,n.c)(183),{item:s,isRoot:o,postShadow:a,onPostSuccess:r,threadgateRecord:i,postSource:l}=e,c=(0,qs.useTheme)(),d=(0,Xo.useAnalytics)(),{_:u}=(0,dt.useLingui)(),{openComposer:m}=Wo(),{currentAccount:h,hasSession:p}=(0,Gt.useSession)(),f=Og(l?.feedSourceInfo,p),g=up(),x=a,_=s.value.post.record,y=s.moderation,b=(0,Va.useProfileShadow)(x.author),{isActive:j}=(0,Ra.useActorStatus)(x.author);let v;t[0]!==_.facets||t[1]!==_.text?(v=new Dn.RichText({text:_.text,facets:_.facets}),t[0]=_.facets,t[1]=_.text,t[2]=v):v=t[2];const S=v,w=_.reply?.root?.uri||x.uri;let T;t[3]!==x.author?(T=(0,Oa.makeProfileLink)(x.author),t[3]=x.author,t[4]=T):T=t[4];const k=T,C=function(e,t){if(!t.reply)return e.author.did;try{return new Dn.AtUri(t.reply.root.uri).host}catch{return""}}(x,_)===h?.did;let I;if(t[5]!==x.author||t[6]!==x.uri){const e=new Dn.AtUri(x.uri);I=(0,Oa.makeProfileLink)(x.author,"post",e.rkey,"liked-by"),t[5]=x.author,t[6]=x.uri,t[7]=I}else I=t[7];const A=I;let P;if(t[8]!==x.author||t[9]!==x.uri){const e=new Dn.AtUri(x.uri);P=(0,Oa.makeProfileLink)(x.author,"post",e.rkey,"reposted-by"),t[8]=x.author,t[9]=x.uri,t[10]=P}else P=t[10];const E=P;let L;if(t[11]!==x.author||t[12]!==x.uri){const e=new Dn.AtUri(x.uri);L=(0,Oa.makeProfileLink)(x.author,"post",e.rkey,"quotes"),t[11]=x.author,t[12]=x.uri,t[13]=L}else L=t[13];const R=L;let B;t[14]!==i?(B={threadgateRecord:i},t[14]=i,t[15]=B):B=t[15];const D=(0,Bs.useMergedThreadgateHiddenReplies)(B);let O,M;t[16]!==h?.did||t[17]!==x.uri||t[18]!==w||t[19]!==D?(O=()=>{const e=D.has(x.uri);return new Dn.AtUri(w).host===h?.did&&e?[{type:"reply-hidden",source:{type:"user",did:h?.did},priority:6}]:[]},t[16]=h?.did,t[17]=x.uri,t[18]=w,t[19]=D,t[20]=O):O=t[20],h?.did,t[21]!==O?(M=O(),t[21]=O,t[22]=M):M=t[22];const F=M,N=!!i?.allow?.find(Fx),H=h?.did!==x.author.did&&!N;let V;{const e=l?.post.reason;if(Dn.AppBskyFeedDefs.isReasonRepost(e)&&e.uri&&e.cid){let s;t[23]!==e.cid||t[24]!==e.uri?(s={uri:e.uri,cid:e.cid},t[23]=e.cid,t[24]=e.uri,t[25]=s):s=t[25],V=s}else V=void 0}const z=V;let U;t[26]!==f||t[27]!==y||t[28]!==r||t[29]!==m||t[30]!==x.author||t[31]!==x.cid||t[32]!==x.embed||t[33]!==x.uri||t[34]!==l||t[35]!==_.langs||t[36]!==_.text?(U=()=>{m({replyTo:{uri:x.uri,cid:x.cid,text:_.text,author:x.author,embed:x.embed,moderation:y,langs:_.langs},onPostSuccess:r,logContext:"PostReply"}),l&&f.sendInteraction({item:x.uri,event:"app.bsky.feed.defs#interactionReply",feedContext:l.post.feedContext,reqId:l.post.reqId})},t[26]=f,t[27]=y,t[28]=r,t[29]=m,t[30]=x.author,t[31]=x.cid,t[32]=x.embed,t[33]=x.uri,t[34]=l,t[35]=_.langs,t[36]=_.text,t[37]=U):U=t[37];const W=U;let G;t[38]!==d||t[39]!==f||t[40]!==x.author.did||t[41]!==x.uri||t[42]!==l?(G=()=>{d.metric("post:clickthroughAuthor",{uri:x.uri,authorDid:x.author.did,logContext:"PostThreadItem",feedDescriptor:f.feedDescriptor}),l&&f.sendInteraction({item:x.uri,event:"app.bsky.feed.defs#clickthroughAuthor",feedContext:l.post.feedContext,reqId:l.post.reqId})},t[38]=d,t[39]=f,t[40]=x.author.did,t[41]=x.uri,t[42]=l,t[43]=G):G=t[43];const q=G;let Q;t[44]!==d||t[45]!==f||t[46]!==x.author.did||t[47]!==x.uri||t[48]!==l?(Q=()=>{d.metric("post:clickthroughEmbed",{uri:x.uri,authorDid:x.author.did,logContext:"PostThreadItem",feedDescriptor:f.feedDescriptor}),l&&f.sendInteraction({item:x.uri,event:"app.bsky.feed.defs#clickthroughEmbed",feedContext:l.post.feedContext,reqId:l.post.reqId})},t[44]=d,t[45]=f,t[46]=x.author.did,t[47]=x.uri,t[48]=l,t[49]=Q):Q=t[49];const K=Q;let Z;t[50]!==o?(Z=(0,bt.jsx)(Lx,{isRoot:o}),t[50]=o,t[51]=Z):Z=t[51];const Y=`postThreadItem-by-${x.author.handle}`;let $,X,J,ee;t[52]===Symbol.for("react.memo_cache_sentinel")?($={paddingHorizontal:ox},t[52]=$):$=t[52],t[53]!==o?(X=o&&[qs.atoms.pt_lg],t[53]=o,t[54]=X):X=t[54],t[55]!==X?(J=[$,X],t[55]=X,t[56]=J):J=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(ee=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.pb_md],t[57]=ee):ee=t[57];const te=x.author;let se;t[58]!==y?(se=y.ui("avatar"),t[58]=y,t[59]=se):se=t[59];const oe=x.author.associated?.labeler?"labeler":"user";let ne,ae,re,ie;t[60]!==j||t[61]!==q||t[62]!==x.author||t[63]!==se||t[64]!==oe?(ne=(0,bt.jsx)(Fs.default,{collapsable:!1,children:(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:42,profile:te,moderation:se,type:oe,live:j,onBeforePress:q})}),t[60]=j,t[61]=q,t[62]=x.author,t[63]=se,t[64]=oe,t[65]=ne):ne=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(ae=[qs.atoms.flex_1],t[66]=ae):ae=t[66],t[67]!==y||t[68]!==x.author.displayName||t[69]!==x.author.handle?(re=(0,Ma.sanitizeDisplayName)(x.author.displayName||(0,Fa.sanitizeHandle)(x.author.handle),y.ui("displayName")),t[67]=y,t[68]=x.author.displayName,t[69]=x.author.handle,t[70]=re):re=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(ie=[qs.atoms.flex_1,qs.atoms.align_start],t[71]=ie):ie=t[71];const le=x.author.did;let ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce,Ie,Ae,Pe,Ee,Le,Re,Be,De,Oe,Me,Fe;t[72]===Symbol.for("react.memo_cache_sentinel")?(ce=[qs.atoms.w_full],t[72]=ce):ce=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(de=[qs.atoms.flex_row,qs.atoms.align_center],t[73]=de):de=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(ue=[qs.atoms.flex_shrink,qs.atoms.text_lg,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[74]=ue):ue=t[74],t[75]!==y||t[76]!==x.author.displayName||t[77]!==x.author.handle?(me=(0,Ma.sanitizeDisplayName)(x.author.displayName||(0,Fa.sanitizeHandle)(x.author.handle),y.ui("displayName")),t[75]=y,t[76]=x.author.displayName,t[77]=x.author.handle,t[78]=me):me=t[78],t[79]!==me?(he=(0,bt.jsx)(co.Text,{emoji:!0,style:ue,numberOfLines:1,children:me}),t[79]=me,t[80]=he):he=t[80],t[81]===Symbol.for("react.memo_cache_sentinel")?(pe=[qs.atoms.pl_xs],t[81]=pe):pe=t[81],t[82]!==b?(fe=(0,bt.jsx)(Fs.default,{style:pe,children:(0,bt.jsx)(_x,{profile:b,size:"md"})}),t[82]=b,t[83]=fe):fe=t[83],t[84]!==he||t[85]!==fe?(ge=(0,bt.jsxs)(Fs.default,{style:de,children:[he,fe]}),t[84]=he,t[85]=fe,t[86]=ge):ge=t[86],t[87]!==c.atoms.text_contrast_medium?(xe=[qs.atoms.text_md,qs.atoms.leading_snug,c.atoms.text_contrast_medium],t[87]=c.atoms.text_contrast_medium,t[88]=xe):xe=t[88],t[89]!==x.author.handle?(_e=(0,Fa.sanitizeHandle)(x.author.handle,"@"),t[89]=x.author.handle,t[90]=_e):_e=t[90],t[91]!==xe||t[92]!==_e?(ye=(0,bt.jsx)(co.Text,{style:xe,numberOfLines:1,children:_e}),t[91]=xe,t[92]=_e,t[93]=ye):ye=t[93],t[94]!==x.author.did||t[95]!==ge||t[96]!==ye?(be=(0,bt.jsx)(Fs.default,{style:ie,children:(0,bt.jsxs)(Fu.ProfileHoverCard,{did:le,style:ce,children:[ge,ye]})}),t[94]=x.author.did,t[95]=ge,t[96]=ye,t[97]=be):be=t[97],t[98]!==k||t[99]!==q||t[100]!==re||t[101]!==be?(je=(0,bt.jsx)(io.Link,{to:k,style:ae,label:re,onPress:q,children:be}),t[98]=k,t[99]=q,t[100]=re,t[101]=be,t[102]=je):je=t[102],t[103]===Symbol.for("react.memo_cache_sentinel")?(ve=[qs.atoms.self_center],t[103]=ve):ve=t[103],t[104]!==x.author.did||t[105]!==H?(Se=(0,bt.jsx)(Fs.default,{collapsable:!1,style:ve,children:(0,bt.jsx)(Yg,{did:x.author.did,enabled:H})}),t[104]=x.author.did,t[105]=H,t[106]=Se):Se=t[106],t[107]!==ne||t[108]!==je||t[109]!==Se?(we=(0,bt.jsxs)(Fs.default,{style:ee,children:[ne,je,Se]}),t[107]=ne,t[108]=je,t[109]=Se,t[110]=we):we=t[110],t[111]===Symbol.for("react.memo_cache_sentinel")?(Te=[qs.atoms.pb_sm],t[111]=Te):Te=t[111],t[112]===Symbol.for("react.memo_cache_sentinel")?(ke=[qs.atoms.pb_sm],t[112]=ke):ke=t[112],t[113]!==x?(Ce=(0,bt.jsx)(tm,{post:x,style:ke}),t[113]=x,t[114]=Ce):Ce=t[114],t[115]!==y?(Ie=y.ui("contentView"),t[115]=y,t[116]=Ie):Ie=t[116],t[117]===Symbol.for("react.memo_cache_sentinel")?(Ae=[qs.atoms.pt_sm],t[117]=Ae):Ae=t[117],t[118]!==y?(Pe=y.ui("contentView"),t[118]=y,t[119]=Pe):Pe=t[119],t[120]===Symbol.for("react.memo_cache_sentinel")?(Ee=[qs.atoms.pb_sm],t[120]=Ee):Ee=t[120],t[121]!==F||t[122]!==Pe?(Le=(0,bt.jsx)(om,{modui:Pe,size:"lg",includeMute:!0,style:Ee,additionalCauses:F}),t[121]=F,t[122]=Pe,t[123]=Le):Le=t[123],t[124]!==x.author.handle||t[125]!==S?(Re=S?.text?(0,bt.jsx)(Yi.RichText,{enableTags:!0,selectable:!0,value:S,style:[qs.atoms.flex_1,qs.atoms.text_lg],authorHandle:x.author.handle,shouldProxyLinks:!0}):void 0,t[124]=x.author.handle,t[125]=S,t[126]=Re):Re=t[126],t[127]!==y||t[128]!==K||t[129]!==x.embed?(Be=x.embed&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xs],children:(0,bt.jsx)(sp,{embed:x.embed,moderation:y,viewContext:Hm.ThreadHighlighted,onOpen:K})}),t[127]=y,t[128]=K,t[129]=x.embed,t[130]=Be):Be=t[130],t[131]!==Ie||t[132]!==Le||t[133]!==Re||t[134]!==Be?(De=(0,bt.jsxs)(qu,{modui:Ie,ignoreMute:!0,childContainerStyle:Ae,children:[Le,Re,Be]}),t[131]=Ie,t[132]=Le,t[133]=Re,t[134]=Be,t[135]=De):De=t[135],t[136]!==C||t[137]!==s.value.post?(Oe=(0,bt.jsx)(Bx,{post:s.value.post,isThreadAuthor:C}),t[136]=C,t[137]=s.value.post,t[138]=Oe):Oe=t[138],t[139]!==u||t[140]!==g||t[141]!==A||t[142]!==x.bookmarkCount||t[143]!==x.likeCount||t[144]!==x.quoteCount||t[145]!==x.repostCount||t[146]!==x.viewer?.embeddingDisabled||t[147]!==R||t[148]!==E||t[149]!==c.atoms.border_contrast_low||t[150]!==c.atoms.text||t[151]!==c.atoms.text_contrast_medium?(Me=0!==x.repostCount||0!==x.likeCount||0!==x.quoteCount||0!==x.bookmarkCount?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.align_center,{rowGap:qs.atoms.gap_sm.gap,columnGap:qs.atoms.gap_lg.gap},qs.atoms.border_t,qs.atoms.border_b,qs.atoms.mt_md,qs.atoms.py_md,c.atoms.border_contrast_low],children:[null!=x.repostCount&&0!==x.repostCount?(0,bt.jsx)(io.Link,{to:E,label:u({id:"zbE/c9"}),children:(0,bt.jsxs)(co.Text,{testID:"repostCount-expanded",style:[qs.atoms.text_md,c.atoms.text_contrast_medium],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,c.atoms.text],children:g(x.repostCount)})," ",(0,bt.jsx)(dt.Trans,{id:"e+A73X",values:{0:x.repostCount}})]})}):null,null==x.quoteCount||0===x.quoteCount||x.viewer?.embeddingDisabled?null:(0,bt.jsx)(io.Link,{to:R,label:u({id:"Nzo3Va"}),children:(0,bt.jsxs)(co.Text,{testID:"quoteCount-expanded",style:[qs.atoms.text_md,c.atoms.text_contrast_medium],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,c.atoms.text],children:g(x.quoteCount)})," ",(0,bt.jsx)(dt.Trans,{id:"7v0+cj",values:{0:x.quoteCount}})]})}),null!=x.likeCount&&0!==x.likeCount?(0,bt.jsx)(io.Link,{to:A,label:u({id:"hKCvor"}),children:(0,bt.jsxs)(co.Text,{testID:"likeCount-expanded",style:[qs.atoms.text_md,c.atoms.text_contrast_medium],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,c.atoms.text],children:g(x.likeCount)})," ",(0,bt.jsx)(dt.Trans,{id:"zOYN4l",values:{0:x.likeCount}})]})}):null,null!=x.bookmarkCount&&0!==x.bookmarkCount?(0,bt.jsxs)(co.Text,{testID:"bookmarkCount-expanded",style:[qs.atoms.text_md,c.atoms.text_contrast_medium],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,c.atoms.text],children:g(x.bookmarkCount)})," ",(0,bt.jsx)(dt.Trans,{id:"eqetGT",values:{0:x.bookmarkCount}})]}):null]}):null,t[139]=u,t[140]=g,t[141]=A,t[142]=x.bookmarkCount,t[143]=x.likeCount,t[144]=x.quoteCount,t[145]=x.repostCount,t[146]=x.viewer?.embeddingDisabled,t[147]=R,t[148]=E,t[149]=c.atoms.border_contrast_low,t[150]=c.atoms.text,t[151]=c.atoms.text_contrast_medium,t[152]=Me):Me=t[152],t[153]===Symbol.for("react.memo_cache_sentinel")?(Fe=[qs.atoms.pt_sm,qs.atoms.pb_2xs,{marginLeft:-5}],t[153]=Fe):Fe=t[153];const Ne=l?.post?.feedContext,He=l?.post?.reqId;let Ve,ze,Ue,We,Ge,qe;return t[154]!==W||t[155]!==a||t[156]!==_||t[157]!==S||t[158]!==Ne||t[159]!==He||t[160]!==i||t[161]!==z?(Ve=(0,bt.jsx)(mg,{big:!0,post:a,record:_,richText:S,onPressReply:W,logContext:"PostThreadItem",threadgateRecord:i,feedContext:Ne,reqId:He,viaRepost:z}),t[154]=W,t[155]=a,t[156]=_,t[157]=S,t[158]=Ne,t[159]=He,t[160]=i,t[161]=z,t[162]=Ve):Ve=t[162],t[163]!==f||t[164]!==Ve?(ze=(0,bt.jsx)(Fs.default,{style:Fe,children:(0,bt.jsx)(Mg,{value:f,children:Ve})}),t[163]=f,t[164]=Ve,t[165]=ze):ze=t[165],t[166]!==x?(Ue=(0,bt.jsx)(nx,{subject:x}),t[166]=x,t[167]=Ue):Ue=t[167],t[168]!==Ce||t[169]!==De||t[170]!==Oe||t[171]!==Me||t[172]!==ze||t[173]!==Ue?(We=(0,bt.jsxs)(Fs.default,{style:Te,children:[Ce,De,Oe,Me,ze,Ue]}),t[168]=Ce,t[169]=De,t[170]=Oe,t[171]=Me,t[172]=ze,t[173]=Ue,t[174]=We):We=t[174],t[175]!==Y||t[176]!==J||t[177]!==we||t[178]!==We?(Ge=(0,bt.jsxs)(Fs.default,{testID:Y,style:J,children:[we,We]}),t[175]=Y,t[176]=J,t[177]=we,t[178]=We,t[179]=Ge):Ge=t[179],t[180]!==Z||t[181]!==Ge?(qe=(0,bt.jsxs)(bt.Fragment,{children:[Z,Ge]}),t[180]=Z,t[181]=Ge,t[182]=qe):qe=t[182],qe}));function Bx(e){const t=(0,n.c)(38),{post:s,isThreadAuthor:o}=e,a=(0,qs.useTheme)(),r=(0,Xo.useAnalytics)(),{_:i,i18n:l}=(0,dt.useLingui)(),c=Da(),d=!("reply"in s.record),u=(0,Bt.useLanguagePrefs)();let m;t[0]!==u.primaryLanguage||t[1]!==s?(m=u.primaryLanguage&&!(0,Lt.isPostInLanguage)(s,[u.primaryLanguage]),t[0]=u.primaryLanguage,t[1]=s,t[2]=m):m=t[2];const h=Boolean(m);let p;t[3]!==r||t[4]!==u.primaryLanguage||t[5]!==s.record||t[6]!==c?(p=e=>(e.preventDefault(),c(s.record.text||"",u.primaryLanguage),qc.dangerousIsType(s.record,Dn.AppBskyFeedPost.isRecord)&&r.metric("translate",{sourceLanguages:s.record.langs??[],targetLanguage:u.primaryLanguage,textLength:s.record.text.length}),!1),t[3]=r,t[4]=u.primaryLanguage,t[5]=s.record,t[6]=c,t[7]=p):p=t[7];const f=p;let g,x,_,y,b,j,v,S,w,T;return t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.gap_md,qs.atoms.pt_md,qs.atoms.align_start],t[8]=g):g=t[8],t[9]!==s?(x=(0,bt.jsx)(Dx,{post:s}),t[9]=s,t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.flex_wrap,qs.atoms.gap_sm],t[11]=_):_=t[11],t[12]!==a.atoms.text_contrast_medium?(y=[qs.atoms.text_sm,a.atoms.text_contrast_medium],t[12]=a.atoms.text_contrast_medium,t[13]=y):y=t[13],t[14]!==l||t[15]!==s.indexedAt?(b=(0,Na.niceDate)(l,s.indexedAt,"dot separated"),t[14]=l,t[15]=s.indexedAt,t[16]=b):b=t[16],t[17]!==y||t[18]!==b?(j=(0,bt.jsx)(co.Text,{style:y,children:b}),t[17]=y,t[18]=b,t[19]=j):j=t[19],t[20]!==d||t[21]!==o||t[22]!==s?(v=d&&(0,bt.jsx)(vx,{post:s,isThreadAuthor:o}),t[20]=d,t[21]=o,t[22]=s,t[23]=v):v=t[23],t[24]!==i||t[25]!==u.primaryLanguage||t[26]!==h||t[27]!==f||t[28]!==s.record.text||t[29]!==a.atoms.text_contrast_medium?(S=h&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,a.atoms.text_contrast_medium],children:"\xb7"}),(0,bt.jsx)(io.InlineLinkText,{to:(0,Lt.getTranslatorLink)(s.record.text,u.primaryLanguage),label:i({id:"pi8x/S"}),style:[qs.atoms.text_sm],onPress:f,children:(0,bt.jsx)(dt.Trans,{id:"pi8x/S"})})]}),t[24]=i,t[25]=u.primaryLanguage,t[26]=h,t[27]=f,t[28]=s.record.text,t[29]=a.atoms.text_contrast_medium,t[30]=S):S=t[30],t[31]!==S||t[32]!==j||t[33]!==v?(w=(0,bt.jsxs)(Fs.default,{style:_,children:[j,v,S]}),t[31]=S,t[32]=j,t[33]=v,t[34]=w):w=t[34],t[35]!==w||t[36]!==x?(T=(0,bt.jsxs)(Fs.default,{style:g,children:[x,w]}),t[35]=w,t[36]=x,t[37]=T):T=t[37],T}function Dx(e){const t=(0,n.c)(67),{post:s}=e,o=(0,qs.useTheme)(),{_:a,i18n:r}=(0,dt.useLingui)(),i=Zi.usePromptControl(),l=s.indexedAt;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P;if(t[0]!==a||t[1]!==i||t[2]!==r||t[3]!==s.indexedAt||t[4]!==s.record||t[5]!==o){y=Symbol.for("react.early_return_sentinel");e:{const e=new Date(l),n=qc.dangerousIsType(s.record,Dn.AppBskyFeedPost.isRecord)?new Date(s.record.createdAt):new Date(s.indexedAt);if(!(e.getTime()-n.getTime()>864e5)){y=null;break e}const b=no.colors.warning;let j,v,S,w;t[17]!==a?(j=a({id:"EjUStI"}),t[17]=a,t[18]=j):j=t[18],t[19]!==a?(v=a({id:"RguqUs"}),t[19]=a,t[20]=v):v=t[20],t[21]!==i?(S=e=>{e.preventDefault(),e.stopPropagation(),i.open()},t[21]=i,t[22]=S):S=t[22],t[23]!==n||t[24]!==r||t[25]!==o.atoms.bg_contrast_25||t[26]!==o.atoms.bg_contrast_50||t[27]!==o.atoms.text_contrast_medium?(w=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_full,o.atoms.bg_contrast_25,(t||s)&&o.atoms.bg_contrast_50,{gap:3,paddingHorizontal:6,paddingVertical:3}],children:[(0,bt.jsx)(ax,{fill:b,size:"sm","aria-hidden":!0}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,qs.atoms.font_semi_bold,qs.atoms.leading_tight,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"DaAIfw",values:{0:(0,Na.niceDate)(r,n,"medium")}})})]})},t[23]=n,t[24]=r,t[25]=o.atoms.bg_contrast_25,t[26]=o.atoms.bg_contrast_50,t[27]=o.atoms.text_contrast_medium,t[28]=w):w=t[28],t[29]!==v||t[30]!==S||t[31]!==w||t[32]!==j?(_=(0,bt.jsx)(ao.Button,{label:j,accessibilityHint:v,onPress:S,children:w}),t[29]=v,t[30]=S,t[31]=w,t[32]=j,t[33]=_):_=t[33],m=Zi.Outer,x=i,u=Zi.Content,t[34]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Zi.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"EjUStI"})}),t[34]=g):g=t[34],d=Zi.DescriptionText,c=dt.Trans,f="QPZ2Bk",t[35]!==n||t[36]!==r?(h=(0,Na.niceDate)(r,n),t[35]=n,t[36]=r,t[37]=h):h=t[37],p=(0,Na.niceDate)(r,e)}t[0]=a,t[1]=i,t[2]=r,t[3]=s.indexedAt,t[4]=s.record,t[5]=o,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f,t[13]=g,t[14]=x,t[15]=_,t[16]=y}else c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12],g=t[13],x=t[14],_=t[15],y=t[16];return y!==Symbol.for("react.early_return_sentinel")?y:(t[38]!==h||t[39]!==p?(b={0:h,1:p},t[38]=h,t[39]=p,t[40]=b):b=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(La.default,{style:[qs.atoms.font_semi_bold]}),t[41]=j):j=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(v={0:j,1:(0,bt.jsx)(La.default,{style:[qs.atoms.font_semi_bold]})},t[42]=v):v=t[42],t[43]!==c||t[44]!==f||t[45]!==b?(S=(0,bt.jsx)(c,{id:f,values:b,components:v}),t[43]=c,t[44]=f,t[45]=b,t[46]=S):S=t[46],t[47]!==d||t[48]!==S?(w=(0,bt.jsx)(d,{children:S}),t[47]=d,t[48]=S,t[49]=w):w=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"f4olkV"})}),t[50]=T):T=t[50],t[51]!==u||t[52]!==w||t[53]!==g?(k=(0,bt.jsxs)(u,{children:[g,w,T]}),t[51]=u,t[52]=w,t[53]=g,t[54]=k):k=t[54],t[55]!==a?(C=a({id:"UaXeX3"}),t[55]=a,t[56]=C):C=t[56],t[57]!==C?(I=(0,bt.jsx)(Zi.Actions,{children:(0,bt.jsx)(Zi.Action,{cta:C,onPress:Ox})}),t[57]=C,t[58]=I):I=t[58],t[59]!==m||t[60]!==k||t[61]!==I||t[62]!==x?(A=(0,bt.jsxs)(m,{control:x,children:[k,I]}),t[59]=m,t[60]=k,t[61]=I,t[62]=x,t[63]=A):A=t[63],t[64]!==A||t[65]!==_?(P=(0,bt.jsxs)(bt.Fragment,{children:[_,A]}),t[64]=A,t[65]=_,t[66]=P):P=t[66],P)}function Ox(){}function Mx(){const e=(0,n.c)(8);let t,s,o,a,r,i,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[qs.atoms.p_lg,qs.atoms.gap_md],e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.align_center,qs.atoms.gap_md],o=(0,bt.jsx)(Ap,{size:42}),e[1]=s,e[2]=o):(s=e[1],o=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Ip,{style:[qs.atoms.text_lg,{width:"20%"}]}),e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(Lp,{style:s,children:[o,(0,bt.jsxs)(Ep,{children:[a,(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"40%"}]})]})]}),e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Ip,{style:[qs.atoms.text_xl,{width:"100%"}]}),e[5]=i):i=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(Fs.default,{children:[i,(0,bt.jsx)(Ip,{style:[qs.atoms.text_xl,{width:"60%"}]})]}),e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(Fs.default,{style:t,children:[r,l,(0,bt.jsx)(Ip,{style:[qs.atoms.text_sm,{width:"50%"}]}),(0,bt.jsx)(hg,{big:!0})]}),e[7]=c):c=e[7],c}function Fx(e){return"app.bsky.feed.threadgate#followerRule"===e.$type}var Nx=s(29976);const Hx=["testID","href","disabled","modui","style","hiderStyle","children","iconSize","iconStyles","profile","interpretFilterAsBlur"];function Vx(e){const t=(0,n.c)(42);let s,o,a,r,i,l,c,d,u,m,h,p;if(t[0]!==e){var f=e;({testID:p,href:r,disabled:o,modui:d,style:h,hiderStyle:a,children:s,iconSize:i,iconStyles:l,profile:u,interpretFilterAsBlur:c}=f),m=(0,ta.default)(f,Hx),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h,t[12]=p}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6],c=t[7],d=t[8],u=t[9],m=t[10],h=t[11],p=t[12];const g=(0,On.useQueryClient)(),x=(0,qs.useTheme)(),{_:_}=(0,dt.useLingui)(),[y,b]=(0,lt.useState)(!1),j=(0,Nc.useModerationDetailsDialogControl)();let v;t[13]!==c||t[14]!==d?(v=d.blurs[0]||(c?function(e){return e.filters.find((e=>!e.downgraded))}(d):void 0),t[13]=c,t[14]=d,t[15]=v):v=t[15];const S=v,w=(0,Fc.useModerationCauseDescription)(S);let T;t[16]!==u||t[17]!==g?(T=()=>{(0,Nx.unstableCacheProfileView)(g,u)},t[16]=u,t[17]=g,t[18]=T):T=t[18];const k=T;if(!S||o&&!d.noOverride){let e;return t[19]!==s||t[20]!==r||t[21]!==k||t[22]!==m||t[23]!==h||t[24]!==p?(e=(0,bt.jsx)(fa,Object.assign({testID:p,style:h,href:r,accessible:!1,onBeforePress:k},m,{children:s})),t[19]=s,t[20]=r,t[21]=k,t[22]=m,t[23]=h,t[24]=p,t[25]=e):e=t[25],e}let C;return t[26]!==_||t[27]!==S||t[28]!==s||t[29]!==j||t[30]!==w||t[31]!==a||t[32]!==r||t[33]!==i||t[34]!==l||t[35]!==d.noOverride||t[36]!==y||t[37]!==m||t[38]!==h||t[39]!==x||t[40]!==p?(C=y?(0,bt.jsx)(fa,Object.assign({testID:p,style:(0,kn.addStyle)(h,Ux.child),href:r,accessible:!1},m,{children:s})):(0,bt.jsxs)(ln.default,{onPress:()=>{d.noOverride||(qr.default.configureNext(qr.default.Presets.easeInEaseOut),b(zx))},accessibilityRole:"button",accessibilityLabel:_(y?{id:"IbbZpm"}:{id:"X8XK4K"}),accessibilityHint:"",style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.py_md,{paddingLeft:6,paddingRight:18},y?{paddingBottom:0}:void 0,x.atoms.bg,a],children:[(0,bt.jsx)(Nc.ModerationDetailsDialog,{control:j,modcause:S}),(0,bt.jsx)(ln.default,{onPress:()=>{j.open()},accessibilityRole:"button",accessibilityLabel:_({id:"rj0Lke"}),accessibilityHint:"",children:(0,bt.jsx)(Fs.default,{style:[x.atoms.bg_contrast_25,qs.atoms.align_center,qs.atoms.justify_center,{width:i,height:i,borderRadius:i},l],children:(0,bt.jsx)(w.icon,{size:"sm",fill:x.atoms.text_contrast_medium.color})})}),(0,bt.jsx)(co.Text,{style:[x.atoms.text_contrast_medium,qs.atoms.flex_1,qs.atoms.leading_snug],numberOfLines:1,children:w.name}),!d.noOverride&&(0,bt.jsx)(co.Text,{style:[{color:x.palette.primary_500}],children:y?(0,bt.jsx)(dt.Trans,{id:"vLyv1R"}):(0,bt.jsx)(dt.Trans,{id:"8vETh9"})})]}),t[26]=_,t[27]=S,t[28]=s,t[29]=j,t[30]=w,t[31]=a,t[32]=r,t[33]=i,t[34]=l,t[35]=d.noOverride,t[36]=y,t[37]=m,t[38]=h,t[39]=x,t[40]=p,t[41]=C):C=t[41],C}function zx(e){return!e}const Ux=Os.default.create({child:{borderWidth:0,borderTopWidth:0,borderRadius:8}});function Wx(e){const t=(0,n.c)(9),{item:s,overrides:o,onPostSuccess:a,threadgateRecord:r}=e,i=(0,Ha.usePostShadow)(s.value.post);if(i===Ha.POST_TOMBSTONE){let e;return t[0]!==s||t[1]!==o?(e=(0,bt.jsx)(Gx,{item:s,overrides:o}),t[0]=s,t[1]=o,t[2]=e):e=t[2],e}let l;return t[3]!==s||t[4]!==a||t[5]!==o||t[6]!==i||t[7]!==r?(l=(0,bt.jsx)(Kx,{item:s,postShadow:i,threadgateRecord:r,overrides:o,onPostSuccess:a}),t[3]=s,t[4]=a,t[5]=o,t[6]=i,t[7]=r,t[8]=l):l=t[8],l}function Gx(e){const t=(0,n.c)(22),{item:s,overrides:o}=e,a=(0,qs.useTheme)();let r,i,l,c,d,u,m,h,p,f;return t[0]!==s?(r=(0,bt.jsx)(Qx,{item:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==a.atoms.bg_contrast_25?(i=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.py_md,qs.atoms.rounded_sm,a.atoms.bg_contrast_25],t[2]=a.atoms.bg_contrast_25,t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,{width:tx}],t[4]=l):l=t[4],t[5]!==a.atoms.text_contrast_medium?(c=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsx)(ml.Trash_Stroke2_Corner0_Rounded,{style:[a.atoms.text_contrast_medium]})}),t[5]=a.atoms.text_contrast_medium,t[6]=c):c=t[6],t[7]!==a.atoms.text_contrast_medium?(d=[qs.atoms.text_md,qs.atoms.font_semi_bold,a.atoms.text_contrast_medium],t[7]=a.atoms.text_contrast_medium,t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"Po0oPy"}),t[9]=u):u=t[9],t[10]!==d?(m=(0,bt.jsx)(co.Text,{style:d,children:u}),t[10]=d,t[11]=m):m=t[11],t[12]!==i||t[13]!==c||t[14]!==m?(h=(0,bt.jsxs)(Fs.default,{style:i,children:[c,m]}),t[12]=i,t[13]=c,t[14]=m,t[15]=h):h=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(Fs.default,{style:[{height:4}]}),t[16]=p):p=t[16],t[17]!==s||t[18]!==o||t[19]!==r||t[20]!==h?(f=(0,bt.jsxs)(qx,{item:s,overrides:o,children:[r,h,p]}),t[17]=s,t[18]=o,t[19]=r,t[20]=h,t[21]=f):f=t[21],f}const qx=(0,lt.memo)((function(e){const t=(0,n.c)(13),{item:s,overrides:o,children:a}=e,r=(0,qs.useTheme)(),i=!s.ui.showParentReplyLine&&!0!==o?.topBorder;let l,c,d,u,m;return t[0]!==i||t[1]!==r?(l=i&&[qs.atoms.border_t,r.atoms.border_contrast_low],t[0]=i,t[1]=r,t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c={paddingHorizontal:ox},t[3]=c):c=t[3],t[4]!==s.ui.precedesChildReadMore||t[5]!==s.ui.showChildReplyLine?(d=!s.ui.showChildReplyLine&&!s.ui.precedesChildReadMore&&{paddingBottom:ox/2},t[4]=s.ui.precedesChildReadMore,t[5]=s.ui.showChildReplyLine,t[6]=d):d=t[6],t[7]!==l||t[8]!==d?(u=[l,c,d],t[7]=l,t[8]=d,t[9]=u):u=t[9],t[10]!==a||t[11]!==u?(m=(0,bt.jsx)(Fs.default,{style:u,children:a}),t[10]=a,t[11]=u,t[12]=m):m=t[12],m})),Qx=(0,lt.memo)((function(e){const t=(0,n.c)(7),{item:s}=e,o=(0,qs.useTheme)();let a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_row,{height:12}],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r={width:tx},t[1]=r):r=t[1],t[2]!==s.ui.showParentReplyLine||t[3]!==o?(i=s.ui.showParentReplyLine&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mx_auto,qs.atoms.flex_1,qs.atoms.mb_xs,{width:sx,backgroundColor:o.atoms.border_contrast_low.borderColor}]}),t[2]=s.ui.showParentReplyLine,t[3]=o,t[4]=i):i=t[4],t[5]!==i?(l=(0,bt.jsx)(Fs.default,{style:a,children:(0,bt.jsx)(Fs.default,{style:r,children:i})}),t[5]=i,t[6]=l):l=t[6],l})),Kx=(0,lt.memo)((function(e){const t=(0,n.c)(103),{item:s,postShadow:o,overrides:a,onPostSuccess:r,threadgateRecord:i}=e,l=(0,qs.useTheme)(),{openComposer:c}=Wo(),{currentAccount:d}=(0,Gt.useSession)(),u=s.value.post,m=s.value.post.record,h=s.moderation;let p;t[0]!==m.facets||t[1]!==m.text?(p=new Dn.RichText({text:m.text,facets:m.facets}),t[0]=m.facets,t[1]=m.text,t[2]=p):p=t[2];const f=p;let g;t[3]!==f?.text?(g=()=>(0,Eu.countLines)(f?.text)>=Vt.MAX_POST_LINES,t[3]=f?.text,t[4]=g):g=t[4];const[x,_]=(0,lt.useState)(g),y=m.reply?.root?.uri||u.uri;let b;if(t[5]!==u.author||t[6]!==u.uri){const e=new Dn.AtUri(u.uri);b=(0,Oa.makeProfileLink)(u.author,"post",e.rkey),t[5]=u.author,t[6]=u.uri,t[7]=b}else b=t[7];const j=b;let v;t[8]!==i?(v={threadgateRecord:i},t[8]=i,t[9]=v):v=t[9];const S=(0,Bs.useMergedThreadgateHiddenReplies)(v);let w,T;t[10]!==d?.did||t[11]!==u.uri||t[12]!==y||t[13]!==S?(w=()=>{const e=S.has(u.uri);return new Dn.AtUri(y).host===d?.did&&e?[{type:"reply-hidden",source:{type:"user",did:d?.did},priority:6}]:[]},t[10]=d?.did,t[11]=u.uri,t[12]=y,t[13]=S,t[14]=w):w=t[14],d?.did,t[15]!==w?(T=w(),t[15]=w,t[16]=T):T=t[16];const k=T;let C;t[17]!==h||t[18]!==r||t[19]!==c||t[20]!==u.author||t[21]!==u.cid||t[22]!==u.embed||t[23]!==u.record.langs||t[24]!==u.uri||t[25]!==m.text?(C=()=>{c({replyTo:{uri:u.uri,cid:u.cid,text:m.text,author:u.author,embed:u.embed,moderation:h,langs:u.record.langs},onPostSuccess:r,logContext:"PostReply"})},t[17]=h,t[18]=r,t[19]=c,t[20]=u.author,t[21]=u.cid,t[22]=u.embed,t[23]=u.record.langs,t[24]=u.uri,t[25]=m.text,t[26]=C):C=t[26];const I=C;let A;t[27]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{_(!1)},t[27]=A):A=t[27];const P=A,{isActive:E}=(0,Ra.useActorStatus)(u.author),L=`postThreadItem-by-${u.author.handle}`,R=!0===a?.moderation;let B,D,O;t[28]!==h?(B=h.ui("contentList"),t[28]=h,t[29]=B):B=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.pl_0,qs.atoms.pr_2xs,qs.atoms.bg_transparent],t[30]=D):D=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.mr_xs],t[31]=O):O=t[31];const M=u.author;let F,N;t[32]!==s?(F=(0,bt.jsx)(Qx,{item:s}),t[32]=s,t[33]=F):F=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(N=[qs.atoms.flex_row,qs.atoms.gap_md],t[34]=N):N=t[34];const H=u.author;let V;t[35]!==h?(V=h.ui("avatar"),t[35]=h,t[36]=V):V=t[36];const z=u.author.associated?.labeler?"labeler":"user";let U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie;return t[37]!==E||t[38]!==u.author||t[39]!==V||t[40]!==z?(U=(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:tx,profile:H,moderation:V,type:z,live:E}),t[37]=E,t[38]=u.author,t[39]=V,t[40]=z,t[41]=U):U=t[41],t[42]!==s.ui.precedesChildReadMore||t[43]!==s.ui.showChildReplyLine||t[44]!==l?(W=(s.ui.showChildReplyLine||s.ui.precedesChildReadMore)&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mx_auto,qs.atoms.mt_xs,qs.atoms.flex_1,{width:sx,backgroundColor:l.atoms.border_contrast_low.borderColor}]}),t[42]=s.ui.precedesChildReadMore,t[43]=s.ui.showChildReplyLine,t[44]=l,t[45]=W):W=t[45],t[46]!==U||t[47]!==W?(G=(0,bt.jsxs)(Fs.default,{children:[U,W]}),t[46]=U,t[47]=W,t[48]=G):G=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(q=[qs.atoms.flex_1],t[49]=q):q=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(Q=[qs.atoms.pb_xs],t[50]=Q):Q=t[50],t[51]!==h||t[52]!==u.author||t[53]!==u.indexedAt||t[54]!==j?(K=(0,bt.jsx)(Uu,{author:u.author,moderation:h,timestamp:u.indexedAt,postHref:j,style:Q}),t[51]=h,t[52]=u.author,t[53]=u.indexedAt,t[54]=j,t[55]=K):K=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(Z=[qs.atoms.pb_xs],t[56]=Z):Z=t[56],t[57]!==u?(Y=(0,bt.jsx)(tm,{post:u,style:Z}),t[57]=u,t[58]=Y):Y=t[58],t[59]!==h?($=h.ui("contentList"),t[59]=h,t[60]=$):$=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(X=[qs.atoms.pb_2xs],t[61]=X):X=t[61],t[62]!==k||t[63]!==$?(J=(0,bt.jsx)(om,{modui:$,style:X,additionalCauses:k}),t[62]=k,t[63]=$,t[64]=J):J=t[64],t[65]!==x||t[66]!==u.author.handle||t[67]!==f?(ee=f?.text?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mb_2xs],children:[(0,bt.jsx)(Yi.RichText,{enableTags:!0,value:f,style:[qs.atoms.flex_1,qs.atoms.text_md],numberOfLines:x?Vt.MAX_POST_LINES:void 0,authorHandle:u.author.handle,shouldProxyLinks:!0}),x&&(0,bt.jsx)(dp,{style:[qs.atoms.text_md],onPress:P})]}):void 0,t[65]=x,t[66]=u.author.handle,t[67]=f,t[68]=ee):ee=t[68],t[69]!==h||t[70]!==u.embed?(te=u.embed&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_xs],children:(0,bt.jsx)(sp,{embed:u.embed,moderation:h,viewContext:Hm.Feed})}),t[69]=h,t[70]=u.embed,t[71]=te):te=t[71],t[72]!==I||t[73]!==o||t[74]!==m||t[75]!==f||t[76]!==i?(se=(0,bt.jsx)(mg,{post:o,record:m,richText:f,onPressReply:I,logContext:"PostThreadItem",threadgateRecord:i}),t[72]=I,t[73]=o,t[74]=m,t[75]=f,t[76]=i,t[77]=se):se=t[77],t[78]!==u?(oe=(0,bt.jsx)(nx,{subject:u}),t[78]=u,t[79]=oe):oe=t[79],t[80]!==K||t[81]!==Y||t[82]!==J||t[83]!==ee||t[84]!==te||t[85]!==se||t[86]!==oe?(ne=(0,bt.jsxs)(Fs.default,{style:q,children:[K,Y,J,ee,te,se,oe]}),t[80]=K,t[81]=Y,t[82]=J,t[83]=ee,t[84]=te,t[85]=se,t[86]=oe,t[87]=ne):ne=t[87],t[88]!==G||t[89]!==ne?(ae=(0,bt.jsxs)(Fs.default,{style:N,children:[G,ne]}),t[88]=G,t[89]=ne,t[90]=ae):ae=t[90],t[91]!==u.author||t[92]!==j||t[93]!==R||t[94]!==B||t[95]!==F||t[96]!==ae||t[97]!==L?(re=(0,bt.jsxs)(Vx,{testID:L,href:j,disabled:R,modui:B,hiderStyle:D,iconSize:tx,iconStyles:O,profile:M,interpretFilterAsBlur:!0,children:[F,ae]}),t[91]=u.author,t[92]=j,t[93]=R,t[94]=B,t[95]=F,t[96]=ae,t[97]=L,t[98]=re):re=t[98],t[99]!==s||t[100]!==a||t[101]!==re?(ie=(0,bt.jsx)(Zx,{children:(0,bt.jsx)(qx,{item:s,overrides:a,children:re})}),t[99]=s,t[100]=a,t[101]=re,t[102]=ie):ie=t[102],ie}));function Zx(e){const t=(0,n.c)(7),{children:s}=e,{state:o,onIn:a,onOut:r}=(0,la.useInteractionState)();let i,l;return t[0]!==o?(i=(0,bt.jsx)(ju,{hover:o}),t[0]=o,t[1]=i):i=t[1],t[2]!==s||t[3]!==a||t[4]!==r||t[5]!==i?(l=(0,bt.jsxs)(Fs.default,{onPointerEnter:a,onPointerLeave:r,style:qs.atoms.pointer,children:[i,s]}),t[2]=s,t[3]=a,t[4]=r,t[5]=i,t[6]=l):l=t[6],l}function Yx(e){const t=(0,n.c)(12),{index:s}=e,o=s%2===0;let a,r,i,l,c,d,u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{paddingHorizontal:ox,paddingVertical:ox/1.5},qs.atoms.gap_md],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.align_start,qs.atoms.gap_md],i=(0,bt.jsx)(Ap,{size:tx}),t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.gap_xs],t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.gap_sm],t[4]=c):c=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(Ip,{style:[qs.atoms.text_md,{width:"20%"}]}),t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(Lp,{style:c,children:[d,(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"30%"}]})]}),t[6]=u):u=t[6],t[7]!==o?(m=(0,bt.jsx)(Ep,{children:o?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"100%"}]}),(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"60%"}]})]}):(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"60%"}]})}),t[7]=o,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(hg,{}),t[9]=h):h=t[9],t[10]!==m?(p=(0,bt.jsx)(Fs.default,{style:a,children:(0,bt.jsxs)(Lp,{style:r,children:[i,(0,bt.jsxs)(Ep,{style:l,children:[u,m,h]})]})}),t[10]=m,t[11]=p):p=t[11],p}var $x=s(75972),Xx=s(57598);const Jx=1e3,e_=100,t_=()=>["list-memberships"];function s_(){const e=(0,n.c)(4),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)();let o,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t_(),e[0]=o):o=e[0],e[1]!==s||e[2]!==t?(a={staleTime:yt.STALE.MINUTES.FIVE,queryKey:o,async queryFn(){if(!t)return[];let e,o=[];for(let n=0;n<Jx;n++){const n=await s.app.bsky.graph.listitem.list({repo:t.did,limit:e_,cursor:e});if(o=o.concat(n.records.map(o_)),e=n.cursor,!e)break}return o}},e[1]=s,e[2]=t,e[3]=a):a=e[3],(0,Zs.useQuery)(a)}function o_(e){return{membershipUri:e.uri,listUri:e.value.list,actorDid:e.value.subject}}function n_(e,t,s){if(!e)return;const o=e.find((e=>e.listUri===t&&e.actorDid===s));return!!o&&o.membershipUri}function a_(e){const t=(0,n.c)(13);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{subject:o,onSuccess:a,onError:r}=s,{currentAccount:i}=(0,Gt.useSession)(),l=(0,Gt.useAgent)(),c=(0,On.useQueryClient)();let d,u,m;return t[2]!==l||t[3]!==i?(d=async e=>{const{listUri:t,actorDid:s}=e;if(!i)throw new Error("Not signed in");return await l.app.bsky.graph.listitem.create({repo:i.did},{subject:s,list:t,createdAt:(new Date).toISOString()})},t[2]=l,t[3]=i,t[4]=d):d=t[4],t[5]!==a||t[6]!==c||t[7]!==o?(u=(e,t)=>{let s=c.getQueryData(t_());s&&(s=s.filter((e=>!(e.actorDid===t.actorDid&&e.listUri===t.listUri))).concat([Object.assign({},t,{membershipUri:e.uri})]),c.setQueryData(t_(),s)),setTimeout((()=>{c.invalidateQueries({queryKey:(0,Xx.RQKEY)(t.listUri)})}),1e3),o&&c.setQueryData((0,$x.RQKEY_WITH_MEMBERSHIP)(t.actorDid),(s=>s?Object.assign({},s,{pages:s.pages.map((s=>Object.assign({},s,{starterPacksWithMembership:s.starterPacksWithMembership.map((s=>s.starterPack.list&&s.starterPack.list?.uri===t.listUri?Object.assign({},s,{starterPack:Object.assign({},s.starterPack,{listItemsSample:[{uri:e.uri,subject:o},...s.starterPack.listItemsSample?.filter((e=>e.subject.did!==t.actorDid))??[]],list:Object.assign({},s.starterPack.list,{listItemCount:(s.starterPack.list.listItemCount??0)+1})}),listItem:{uri:e.uri,subject:o}}):s))})))}):s)),a?.(e)},t[5]=a,t[6]=c,t[7]=o,t[8]=u):u=t[8],t[9]!==r||t[10]!==d||t[11]!==u?(m={mutationFn:d,onSuccess:u,onError:r},t[9]=r,t[10]=d,t[11]=u,t[12]=m):m=t[12],(0,go.useMutation)(m)}function r_(e){const t=(0,n.c)(12);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{onSuccess:o,onError:a}=s,{currentAccount:r}=(0,Gt.useSession)(),i=(0,Gt.useAgent)(),l=(0,On.useQueryClient)();let c,d,u;return t[2]!==i||t[3]!==r?(c=async e=>{const{membershipUri:t}=e;if(!r)throw new Error("Not signed in");const s=new Dn.AtUri(t);await i.app.bsky.graph.listitem.delete({repo:r.did,rkey:s.rkey})},t[2]=i,t[3]=r,t[4]=c):c=t[4],t[5]!==o||t[6]!==l?(d=(e,t)=>{let s=l.getQueryData(t_());s&&(s=s.filter((e=>!(e.actorDid===t.actorDid&&e.listUri===t.listUri))),l.setQueryData(t_(),s)),setTimeout((()=>{l.invalidateQueries({queryKey:(0,Xx.RQKEY)(t.listUri)})}),1e3),l.setQueryData((0,$x.RQKEY_WITH_MEMBERSHIP)(t.actorDid),(e=>e?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{starterPacksWithMembership:e.starterPacksWithMembership.map((e=>e.starterPack.list&&e.starterPack.list.uri===t.listUri?Object.assign({},e,{starterPack:Object.assign({},e.starterPack,{listItemsSample:e.starterPack.listItemsSample?.filter((e=>e.subject.did!==t.actorDid)),list:Object.assign({},e.starterPack.list,{listItemCount:Math.max(0,(e.starterPack.list.listItemCount??1)-1)})}),listItem:void 0}):e))})))}):e)),o?.(e)},t[5]=o,t[6]=l,t[7]=d):d=t[7],t[8]!==a||t[9]!==c||t[10]!==d?(u={mutationFn:c,onSuccess:d,onError:a},t[8]=a,t[9]=c,t[10]=d,t[11]=u):u=t[11],(0,go.useMutation)(u)}function i_(e){const t=(0,n.c)(16),{profiles:s,size:o,numPending:a,backgroundColor:r}=e,i=void 0===o?26:o,l=i/3,c=(0,qs.useTheme)(),d=(0,ds.useModerationOpts)(),u=a&&0===s.length||!d;let m;if(t[0]!==r||t[1]!==u||t[2]!==d||t[3]!==a||t[4]!==s||t[5]!==i||t[6]!==c||t[7]!==l){const e=u?Array.from({length:a??s.length}).map(l_):s.map((e=>({key:e.did,profile:e,moderation:(0,Dn.moderateProfile)(e,d)}))),o=i+(e.length-1)*(i-l);let n,h;t[9]!==o?(n=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.relative,{width:o}],t[9]=o,t[10]=n):n=t[10],t[11]!==r||t[12]!==i||t[13]!==c||t[14]!==l?(h=(e,t)=>(0,bt.jsx)(Fs.default,{style:[c.atoms.bg_contrast_25,qs.atoms.relative,{width:i,height:i,left:t*-l,borderWidth:1,borderColor:r??c.atoms.bg.backgroundColor,borderRadius:999,zIndex:3-t}],children:e.profile&&(0,bt.jsx)(Gi.UserAvatar,{size:i-2,avatar:e.profile.avatar,type:e.profile.associated?.labeler?"labeler":"user",moderation:e.moderation.ui("avatar")})},e.key),t[11]=r,t[12]=i,t[13]=c,t[14]=l,t[15]=h):h=t[15],m=(0,bt.jsx)(Fs.default,{style:n,children:e.map(h)}),t[0]=r,t[1]=u,t[2]=d,t[3]=a,t[4]=s,t[5]=i,t[6]=c,t[7]=l,t[8]=m}else m=t[8];return m}function l_(e,t){return{key:t,profile:null,moderation:null}}function c_(e){const t=(0,n.c)(9),{profiles:s,size:o,backgroundColor:a}=e;let r;t[0]!==s?(r={handles:s},t[0]=s,t[1]=r):r=t[1];const{data:i,error:l}=(0,Ut.useProfilesQuery)(r);if(l)return"AbortError"!==l.name&&Mt.logger.error("Error fetching profiles for AvatarStack",{safeMessage:l}),null;let c,d;return t[2]!==i?.profiles?(c=i?.profiles||[],t[2]=i?.profiles,t[3]=c):c=t[3],t[4]!==a||t[5]!==s.length||t[6]!==o||t[7]!==c?(d=(0,bt.jsx)(i_,{numPending:s.length,profiles:c,size:o,backgroundColor:a}),t[4]=a,t[5]=s.length,t[6]=o,t[7]=c,t[8]=d):d=t[8],d}function d_(e){const t=(0,n.c)(16),{control:s,targetDid:o,enabled:a}=e,r=(0,Ns.useNavigation)(),i=Uo();let l;t[0]!==s||t[1]!==r||t[2]!==o?(l=()=>{s.close(),r.navigate("StarterPackWizard",{fromDialog:!0,targetDid:o,onSuccess:()=>{setTimeout((()=>{s.isOpen||s.open()}),0)}})},t[0]=s,t[1]=r,t[2]=o,t[3]=l):l=t[3];const c=l;let d,u;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dt.Trans,{id:"KDnS5B"},"nav"),t[4]=d):d=t[4],t[5]!==c||t[6]!==i?(u=i(c,{instructions:[d]}),t[5]=c,t[6]=i,t[7]=u):u=t[7];const m=u;let h,p,f;return t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Qs.Handle,{}),t[8]=h):h=t[8],t[9]!==a||t[10]!==o||t[11]!==m?(p=(0,bt.jsx)(m_,{onStartWizard:m,targetDid:o,enabled:a}),t[9]=a,t[10]=o,t[11]=m,t[12]=p):p=t[12],t[13]!==s||t[14]!==p?(f=(0,bt.jsxs)(Qs.Outer,{control:s,children:[h,p]}),t[13]=s,t[14]=p,t[15]=f):f=t[15],f}function u_(e){const t=(0,n.c)(18),{onStartWizard:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)();let i,l,c,d,u,m,h,p,f,g,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.gap_2xl,{paddingTop:r.IS_WEB?100:64}],t[0]=i):i=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.gap_xs,qs.atoms.align_center],t[1]=l):l=t[1],t[2]!==a.atoms.border_contrast_medium.borderColor?(c=(0,bt.jsx)(fd.StarterPack,{width:48,fill:a.atoms.border_contrast_medium.borderColor}),t[2]=a.atoms.border_contrast_medium.borderColor,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"SXyc7B"})}),t[4]=d):d=t[4],t[5]!==c?(u=(0,bt.jsxs)(Fs.default,{style:l,children:[c,d]}),t[5]=c,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.align_center],t[7]=m):m=t[7],t[8]!==o?(h=o({id:"z6aSOW"}),t[8]=o,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hYgDIe"})}),f=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),t[10]=p,t[11]=f):(p=t[10],f=t[11]),t[12]!==s||t[13]!==h?(g=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsxs)(ao.Button,{label:h,color:"secondary_inverted",size:"small",onPress:s,children:[p,f]})}),t[12]=s,t[13]=h,t[14]=g):g=t[14],t[15]!==g||t[16]!==u?(x=(0,bt.jsxs)(Fs.default,{style:i,children:[u,g]}),t[15]=g,t[16]=u,t[17]=x):x=t[17],x}function m_(e){const t=(0,n.c)(49),{onStartWizard:s,targetDid:o,enabled:a}=e,r=Qs.useDialogContext(),{_:i}=(0,dt.useLingui)();let l;t[0]!==o?(l={did:o},t[0]=o,t[1]=l):l=t[1];const{data:c}=(0,Ut.useProfileQuery)(l);let d;t[2]!==a||t[3]!==o?(d={did:o,enabled:a},t[2]=a,t[3]=o,t[4]=d):d=t[4];const{data:u,isError:m,isLoading:h,hasNextPage:p,isFetchingNextPage:f,fetchNextPage:g}=(0,$x.useActorStarterPacksWithMembershipsQuery)(d);let x;t[5]!==u?.pages?(x=u?.pages.flatMap(g_)||[],t[5]=u?.pages,t[6]=x):x=t[6];const _=x;let y;t[7]!==g||t[8]!==p||t[9]!==m||t[10]!==f?(y=async()=>{if(!f&&p&&!m)try{await g()}catch(j){}},t[7]=g,t[8]=p,t[9]=m,t[10]=f,t[11]=y):y=t[11];const b=y;let j;t[12]!==c||t[13]!==o?(j=e=>{const{item:t}=e;return(0,bt.jsx)(x_,{starterPackWithMembership:t,targetDid:o,subject:c})},t[12]=c,t[13]=o,t[14]=j):j=t[14];const v=j;let S;t[15]!==r?(S=()=>{r.close()},t[15]=r,t[16]=S):S=t[16];const w=S;let T,k,C,I,A,P,E,L;t[17]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.flex_row,qs.atoms.pb_lg,(0,qs.native)(qs.atoms.pt_lg)],t[17]=T):T=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"V9dskt"})}),t[18]=k):k=t[18],t[19]!==i?(C=i({id:"yz7wBu"}),t[19]=i,t[20]=C):C=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(I={margin:-8},A=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded}),t[21]=I,t[22]=A):(I=t[21],A=t[22]),t[23]!==w||t[24]!==C?(P=(0,bt.jsxs)(Fs.default,{style:T,children:[k,(0,bt.jsx)(ao.Button,{label:C,onPress:w,variant:"ghost",color:"secondary",size:"small",shape:"round",style:I,children:A})]}),t[23]=w,t[24]=C,t[25]=P):P=t[25],t[26]!==i||t[27]!==_.length||t[28]!==s?(E=_.length>0&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.py_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"DSX5n2"})}),(0,bt.jsxs)(ao.Button,{label:i({id:"z6aSOW"}),color:"secondary_inverted",size:"small",onPress:s,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hYgDIe"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded})]})]}),(0,bt.jsx)(yo,{})]}),t[26]=i,t[27]=_.length,t[28]=s,t[29]=E):E=t[29],t[30]!==P||t[31]!==E?(L=(0,bt.jsxs)(bt.Fragment,{children:[P,E]}),t[30]=P,t[31]=E,t[32]=L):L=t[32];const R=L;let B,D;t[33]!==h||t[34]!==_?(B=h?[{}]:_,t[33]=h,t[34]=_,t[35]=B):B=t[35],t[36]!==h||t[37]!==v?(D=h?f_:v,t[36]=h,t[37]=v,t[38]=D):D=t[38];const O=h?p_:h_;let M,F,N;return t[39]!==s?(M=(0,bt.jsx)(u_,{onStartWizard:s}),t[39]=s,t[40]=M):M=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(F=(0,qs.platform)({web:[qs.atoms.px_2xl,{minHeight:500}],native:[qs.atoms.px_2xl,qs.atoms.pt_lg]}),t[41]=F):F=t[41],t[42]!==R||t[43]!==b||t[44]!==B||t[45]!==D||t[46]!==O||t[47]!==M?(N=(0,bt.jsx)(Qs.InnerFlatList,{data:B,renderItem:D,keyExtractor:O,onEndReached:b,onEndReachedThreshold:.1,ListHeaderComponent:R,ListEmptyComponent:M,style:F}),t[42]=R,t[43]=b,t[44]=B,t[45]=D,t[46]=O,t[47]=M,t[48]=N):N=t[48],N}function h_(e){return e.starterPack.uri}function p_(){return"starter_pack_dialog_loader"}function f_(){return(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.py_2xl],children:(0,bt.jsx)(lo.Loader,{size:"xl"})})}function g_(e){return e.starterPacksWithMembership}function x_(e){const t=(0,n.c)(50),{starterPackWithMembership:s,targetDid:o,subject:a}=e,r=(0,qs.useTheme)(),i=(0,Xo.useAnalytics)(),{_:l}=(0,dt.useLingui)(),c=s.starterPack,d=!!s.listItem;let u,m,h;t[0]!==l?(u=()=>{Pd.show(l({id:"PxXu/g"}))},m=e=>{(0,Tn.isNetworkError)(e)||Mt.logger.error("Failed to add to starter pack",{safeMessage:e}),Pd.show(l({id:"OUg4cu"}),{type:"error"})},t[0]=l,t[1]=u,t[2]=m):(u=t[1],m=t[2]),t[3]!==a||t[4]!==u||t[5]!==m?(h={subject:a,onSuccess:u,onError:m},t[3]=a,t[4]=u,t[5]=m,t[6]=h):h=t[6];const{mutate:p,isPending:f}=a_(h);let g;t[7]!==l?(g={onSuccess:()=>{Pd.show(l({id:"h3V4Mx"}))},onError:e=>{(0,Tn.isNetworkError)(e)||Mt.logger.error("Failed to remove from starter pack",{safeMessage:e}),Pd.show(l({id:"Et6dbB"}),{type:"error"})}},t[7]=l,t[8]=g):g=t[8];const{mutate:x,isPending:_}=r_(g),y=f||_;let b;t[9]!==p||t[10]!==i||t[11]!==d||t[12]!==y||t[13]!==x||t[14]!==c.list||t[15]!==c.uri||t[16]!==s.listItem||t[17]!==o?(b=()=>{if(!c.list?.uri||y)return;const e=c.list.uri,t=c.uri;if(d){if(!s.listItem?.uri)return;x({listUri:e,actorDid:o,membershipUri:s.listItem.uri}),i.metric("starterPack:removeUser",{starterPack:t})}else p({listUri:e,actorDid:o}),i.metric("starterPack:addUser",{starterPack:t})},t[9]=p,t[10]=i,t[11]=d,t[12]=y,t[13]=x,t[14]=c.list,t[15]=c.uri,t[16]=s.listItem,t[17]=o,t[18]=b):b=t[18];const j=b,{record:v}=c;if(!qc.dangerousIsType(v,Dn.AppBskyGraphStarterpack.isRecord))return null;let S,w,T,k,C,I,A,P;t[19]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.py_md],t[19]=S):S=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.text_md,qs.atoms.font_semi_bold],t[20]=w):w=t[20],t[21]!==v.name?(T=(0,bt.jsx)(co.Text,{emoji:!0,style:w,numberOfLines:1,children:v.name}),t[21]=v.name,t[22]=T):T=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.mt_xs],t[23]=k):k=t[23],t[24]!==c.list||t[25]!==c.listItemsSample||t[26]!==r?(C=c.listItemsSample&&c.listItemsSample.length>0&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(i_,{size:24,profiles:c.listItemsSample?.slice(0,4).map(__)}),c.list?.listItemCount&&c.list.listItemCount>4&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,r.atoms.text_contrast_medium,qs.atoms.ml_xs],children:(0,bt.jsx)(dt.Trans,{id:"kdGbuC",values:{0:c.list.listItemCount-4}})})]}),t[24]=c.list,t[25]=c.listItemsSample,t[26]=r,t[27]=C):C=t[27],t[28]!==C?(I=(0,bt.jsx)(Fs.default,{style:k,children:C}),t[28]=C,t[29]=I):I=t[29],t[30]!==I||t[31]!==T?(A=(0,bt.jsxs)(Fs.default,{children:[T,I]}),t[30]=I,t[31]=T,t[32]=A):A=t[32],t[33]!==l||t[34]!==d?(P=l(d?{id:"t/YqKh"}:{id:"m16xKo"}),t[33]=l,t[34]=d,t[35]=P):P=t[35];const E=d?"secondary":"primary_subtle";let L,R,B,D;return t[36]!==y?(L=y&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[36]=y,t[37]=L):L=t[37],t[38]!==d?(R=(0,bt.jsx)(ao.ButtonText,{children:d?(0,bt.jsx)(dt.Trans,{id:"t/YqKh"}):(0,bt.jsx)(dt.Trans,{id:"m16xKo"})}),t[38]=d,t[39]=R):R=t[39],t[40]!==j||t[41]!==y||t[42]!==P||t[43]!==E||t[44]!==L||t[45]!==R?(B=(0,bt.jsxs)(ao.Button,{label:P,color:E,size:"tiny",disabled:y,onPress:j,children:[L,R]}),t[40]=j,t[41]=y,t[42]=P,t[43]=E,t[44]=L,t[45]=R,t[46]=B):B=t[46],t[47]!==A||t[48]!==B?(D=(0,bt.jsxs)(Fs.default,{style:S,children:[A,B]}),t[47]=A,t[48]=B,t[49]=D):D=t[49],D}function __(e){return e.subject}(0,ti.createSinglePathSVG)({path:"M12.707 3.293a1 1 0 0 0-1.414 0l-4.5 4.5a1 1 0 0 0 1.414 1.414L11 6.414v8.836a1 1 0 1 0 2 0V6.414l2.793 2.793a1 1 0 1 0 1.414-1.414l-4.5-4.5ZM5 12.75a1 1 0 1 0-2 0V20a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-7.25a1 1 0 1 0-2 0V19H5v-6.25Z"});const y_=(0,ti.createSinglePathSVG)({path:"M20 13.75a1 1 0 0 1 1 1V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-3.25a1 1 0 1 1 2 0V18a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.25a1 1 0 0 1 1-1ZM12 3a1 1 0 0 1 .707.293l4.5 4.5a1 1 0 1 1-1.414 1.414L13 6.414v8.836a1 1 0 1 1-2 0V6.414L8.207 9.207a1 1 0 1 1-1.414-1.414l4.5-4.5A1 1 0 0 1 12 3Z"});var b_=s(26628);const j_=(0,ti.createSinglePathSVG)({path:"M4 4a2 2 0 0 1 2-2h13.131c1.598 0 2.55 1.78 1.665 3.11L18.202 9l2.594 3.89c.886 1.33-.067 3.11-1.665 3.11H6v5a1 1 0 1 1-2 0V4Zm2 10h13.131l-2.593-3.89a2 2 0 0 1 0-2.22L19.13 4H6v10Z"}),v_=(0,ti.createSinglePathSVG)({path:"M4 5a1 1 0 0 0 0 2h16a1 1 0 1 0 0-2H4Zm0 12a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H4Zm-1-5a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm14-3a1 1 0 0 1 .92.606l1.342 3.132 3.132 1.343a1 1 0 0 1 0 1.838l-3.132 1.343-1.343 3.132a1 1 0 0 1-1.838 0l-1.343-3.132-3.132-1.343a1 1 0 0 1 0-1.838l3.132-1.343 1.343-3.132A1 1 0 0 1 17 9Zm0 3.539-.58 1.355a1 1 0 0 1-.526.525L14.539 15l1.355.58a1 1 0 0 1 .525.526L17 17.461l.58-1.355a1 1 0 0 1 .526-.525L19.461 15l-1.355-.58a1 1 0 0 1-.525-.526L17 12.539Z"}),S_=(0,ti.createSinglePathSVG)({viewBox:"-15 0 65 64",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",path:"M20.603 46.333H3.532c-1.572 0-2.816-1.358-2.472-2.891 2.033-9.046 9.421-15.775 19.543-15.775q1.367 0 2.666.16m18.667 7.84L36.603 41m0 0-5.334 5.333M36.603 41l-5.334-5.333M36.603 41l5.333 5.333m-12-36A9.333 9.333 0 1 1 20.603 1a9.333 9.333 0 0 1 9.333 9.333Z"}),w_=(0,ti.createSinglePathSVG)({path:"M10 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM5.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM16 11a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1ZM3.678 19h12.644c-.71-2.909-3.092-5-6.322-5s-5.613 2.091-6.322 5Zm-2.174.906C1.917 15.521 5.242 12 10 12c4.758 0 8.083 3.521 8.496 7.906A1 1 0 0 1 17.5 21h-15a1 1 0 0 1-.996-1.094Z"});var T_=s(40311);const k_=(0,ti.createSinglePathSVG)({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm1 6a1 1 0 1 0-2 0v4a1 1 0 0 0 .293.707l2.5 2.5a1 1 0 0 0 1.414-1.414L13 11.586V8Z"});function C_(e){const t=(0,n.c)(25),{linkMeta:s,loading:o}=e,a=(0,qs.useTheme)(),[r,i]=(0,lt.useState)(!1);if(!s&&!o)return null;let l,c,d,u,m,h,p,f,g;return t[0]!==a.atoms.bg||t[1]!==a.atoms.border_contrast_low?(l=[qs.atoms.w_full,qs.atoms.border,a.atoms.border_contrast_low,a.atoms.bg,qs.atoms.flex_row,qs.atoms.rounded_sm,qs.atoms.overflow_hidden,qs.atoms.align_stretch],t[0]=a.atoms.bg,t[1]=a.atoms.border_contrast_low,t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c={minHeight:64,width:114},t[3]=c):c=t[3],t[4]!==a.atoms.bg_contrast_25?(d=[a.atoms.bg_contrast_25,c,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.gap_xs],t[4]=a.atoms.bg_contrast_25,t[5]=d):d=t[5],t[6]!==s?(u=s?.image&&(0,bt.jsx)(cn.Image,{source:s.image,accessibilityIgnoresInvertColors:!0,transition:200,style:[qs.atoms.absolute,qs.atoms.inset_0],contentFit:"cover",onLoad:()=>i(!1),onError:()=>i(!0)}),t[6]=s,t[7]=u):u=t[7],t[8]!==r||t[9]!==s||t[10]!==a.atoms.text_contrast_low?(m=s&&(!s.image||r)&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(bu,{style:[a.atoms.text_contrast_low]}),(0,bt.jsx)(co.Text,{style:[a.atoms.text_contrast_low,qs.atoms.text_xs,qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"2fhoKU"})})]}),t[8]=r,t[9]=s,t[10]=a.atoms.text_contrast_low,t[11]=m):m=t[11],t[12]!==d||t[13]!==u||t[14]!==m?(h=(0,bt.jsxs)(Fs.default,{style:d,children:[u,m]}),t[12]=d,t[13]=u,t[14]=m,t[15]=h):h=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.py_sm,qs.atoms.gap_xs,qs.atoms.px_md],t[16]=p):p=t[16],t[17]!==s||t[18]!==a.atoms.text_contrast_low||t[19]!==a.atoms.text_contrast_medium?(f=(0,bt.jsx)(Fs.default,{style:p,children:s?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{numberOfLines:2,style:[qs.atoms.leading_snug,qs.atoms.font_semi_bold,qs.atoms.text_md],children:s.title||s.url}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_2xs],children:[(0,bt.jsx)(dm.Globe_Stroke2_Corner0_Rounded,{size:"xs",style:[a.atoms.text_contrast_low]}),(0,bt.jsx)(co.Text,{numberOfLines:1,style:[qs.atoms.text_xs,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,zt.toNiceDomain)(s.url)})]})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(mi,{height:16,width:128}),(0,bt.jsx)(mi,{height:12,width:72})]})}),t[17]=s,t[18]=a.atoms.text_contrast_low,t[19]=a.atoms.text_contrast_medium,t[20]=f):f=t[20],t[21]!==l||t[22]!==h||t[23]!==f?(g=(0,bt.jsxs)(Fs.default,{style:l,children:[h,f]}),t[21]=l,t[22]=h,t[23]=f,t[24]=g):g=t[24],g}var I_=s(22198),A_=s(40852),P_=s(21258);function E_(e,t){const s=Math.round(t),o=Math.floor(s/60),n=s%60,a=e._(e._({id:"Pfatg8",values:{minutes:n}}));return o>0?e._(n>0?e._({id:"n/VY0o",values:{hours:o,minutesString:a}}):e._({id:"tkDYSE",values:{hours:o}})):a}function L_(e,t){const s=(0,n.c)(4),[o,a]=(0,lt.useState)(e);let r,i;return s[0]!==t||s[1]!==e?(r=()=>{const s=setTimeout((()=>a(e)),t);return()=>clearTimeout(s)},i=[e,t],s[0]=t,s[1]=e,s[2]=r,s[3]=i):(r=s[2],i=s[3]),(0,lt.useEffect)(r,i),o}const R_={"twitch.tv":"Twitch","www.twitch.tv":"Twitch","youtube.com":"YouTube","www.youtube.com":"YouTube","youtu.be":"YouTube","nba.com":"NBA","www.nba.com":"NBA","nba.smart.link":"nba.smart.link","espn.com":"ESPN","www.espn.com":"ESPN","stream.place":"Streamplace","skylight.social":"Skylight","bluecast.app":"Bluecast","www.bluecast.app":"Bluecast"};function B_(e){const t=Array.from(new Set(Array.from(e.values()).map((e=>R_[e]||e))));return{names:t,formatted:t.join(", ")}}function D_(e){const t=(0,n.c)(11),s=(0,Wt.useLiveNowConfig)(),{_:o}=(0,dt.useLingui)(),a=(0,Gt.useAgent)(),r=!!e;let i,l,c;return t[0]!==e?(i=["link-meta",e],t[0]=e,t[1]=i):i=t[1],t[2]!==o||t[3]!==a||t[4]!==s||t[5]!==e?(l=async()=>{if(!e)return;const t=new URL(e);if(!s.currentAccountAllowedHosts.has(t.hostname)){const{formatted:e}=B_(s.currentAccountAllowedHosts);throw new Error(o({id:"RSMXx0",values:{formatted:e}}))}return await(0,P_.getLinkMeta)(a,e)},t[2]=o,t[3]=a,t[4]=s,t[5]=e,t[6]=l):l=t[6],t[7]!==r||t[8]!==i||t[9]!==l?(c={enabled:r,queryKey:i,queryFn:l},t[7]=r,t[8]=i,t[9]=l,t[10]=c):c=t[10],(0,Zs.useQuery)(c)}function O_(e,t,s){const o=(0,n.c)(22),a=(0,Xo.useAnalytics)(),{currentAccount:r}=(0,Gt.useSession)(),i=(0,Gt.useAgent)(),l=(0,On.useQueryClient)(),c=(0,Qs.useDialogContext)(),{_:d}=(0,dt.useLingui)();let u,m,h,p;return o[0]!==i||o[1]!==a||o[2]!==s||o[3]!==r||o[4]!==e||o[5]!==t?(u=async()=>{if(!r)throw new Error("Not logged in");let o;if(t){let e;if(t.image)try{const s=await(0,A_.imageToThumb)(t.image);if(s){e=(await(0,Ka.uploadBlob)(i,s.source.path,s.source.mime)).data.blob}}catch(m){const s=m;a.logger.error("Failed to upload thumbnail for live status",{url:t.url,image:t.image,safeMessage:s})}o={$type:"app.bsky.embed.external",external:{$type:"app.bsky.embed.external#external",title:t.title??"",description:t.description??"",uri:t.url,thumb:e}}}const n={$type:"app.bsky.actor.status",createdAt:s??(new Date).toISOString(),status:"app.bsky.actor.status#live",durationMinutes:e,embed:o};return await(0,I_.retry)((async()=>{const e=r.did,t=await i.com.atproto.repo.getRecord({repo:e,collection:"app.bsky.actor.status",rkey:"self"}).catch(F_);await i.com.atproto.repo.putRecord({repo:e,collection:"app.bsky.actor.status",rkey:"self",record:n,swapRecord:t?.data.cid||null})}),{maxRetries:5,retryable:M_}),{record:n,image:t?.image}},o[0]=i,o[1]=a,o[2]=s,o[3]=r,o[4]=e,o[5]=t,o[6]=u):u=o[6],o[7]!==a||o[8]!==t?.image||o[9]!==t?.url?(m=e=>{a.logger.error("Failed to upsert live status",{url:t?.url,image:t?.image,safeMessage:e})},o[7]=a,o[8]=t?.image,o[9]=t?.url,o[10]=m):m=o[10],o[11]!==d||o[12]!==a||o[13]!==c||o[14]!==s||o[15]!==r||o[16]!==l?(h=e=>{const{record:t,image:o}=e;s?a.metric("live:edit",{duration:t.durationMinutes}):a.metric("live:create",{duration:t.durationMinutes}),Ds.show(d({id:"PjVEZ1"})),c.close((()=>{if(!r)return;const e=new Date(t.createdAt);e.setMinutes(e.getMinutes()+t.durationMinutes),(0,Va.updateProfileShadow)(l,r.did,{status:{$type:"app.bsky.actor.defs#statusView",status:"app.bsky.actor.status#live",isActive:!0,expiresAt:e.toISOString(),embed:t.embed&&o?{$type:"app.bsky.embed.external#view",external:Object.assign({},t.embed.external,{$type:"app.bsky.embed.external#viewExternal",thumb:o})}:void 0,record:t}})}))},o[11]=d,o[12]=a,o[13]=c,o[14]=s,o[15]=r,o[16]=l,o[17]=h):h=o[17],o[18]!==u||o[19]!==m||o[20]!==h?(p={mutationFn:u,onError:m,onSuccess:h},o[18]=u,o[19]=m,o[20]=h,o[21]=p):p=o[21],(0,go.useMutation)(p)}function M_(e){return e instanceof Dn.ComAtprotoRepoPutRecord.InvalidSwapError}function F_(e){}function N_(e){const t=(0,n.c)(8),{control:s,status:o,embed:a}=e;let r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={preventExpansion:!0},i=(0,bt.jsx)(Qs.Handle,{}),t[0]=r,t[1]=i):(r=t[0],i=t[1]),t[2]!==a||t[3]!==o?(l=(0,bt.jsx)(H_,{status:o,embed:a}),t[2]=a,t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==l?(c=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:r,children:[i,l]}),t[5]=s,t[6]=l,t[7]=c):c=t[7],c}function H_({status:e,embed:t}){const s=Qs.useDialogContext(),{_:o,i18n:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)(),[i,l]=(0,lt.useState)(t.external.uri),[c,d]=(0,lt.useState)(""),u=(0,hs.useTickEveryMinute)(),m=(0,zt.definitelyUrl)(i),h=L_(m,500),p=m!==t.external.uri,{data:f,isSuccess:g,isLoading:x,error:_}=D_(h),y=(0,lt.useMemo)((()=>{if(!Dn.AppBskyActorStatus.isRecord(e.record))return null;const t=Dn.AppBskyActorStatus.validateRecord(e.record);return t.success?t.value:null}),[e]),{mutate:b,isPending:j,error:v}=O_(y?.durationMinutes??0,f,y?.createdAt),{mutate:S,isPending:w,error:T}=function(){const e=(0,n.c)(15),t=(0,Xo.useAnalytics)(),{currentAccount:s}=(0,Gt.useSession)(),o=(0,Gt.useAgent)(),a=(0,On.useQueryClient)(),r=(0,Qs.useDialogContext)(),{_:i}=(0,dt.useLingui)();let l,c,d,u;return e[0]!==o||e[1]!==s?(l=async()=>{if(!s)throw new Error("Not logged in");await o.app.bsky.actor.status.delete({repo:s.did,rkey:"self"})},e[0]=o,e[1]=s,e[2]=l):l=e[2],e[3]!==t?(c=e=>{t.logger.error("Failed to remove live status",{safeMessage:e})},e[3]=t,e[4]=c):c=e[4],e[5]!==i||e[6]!==t||e[7]!==r||e[8]!==s||e[9]!==a?(d=()=>{t.metric("live:remove",{}),Ds.show(i({id:"BNlq+K"})),r.close((()=>{s&&(0,Va.updateProfileShadow)(a,s.did,{status:void 0})}))},e[5]=i,e[6]=t,e[7]=r,e[8]=s,e[9]=a,e[10]=d):d=e[10],e[11]!==l||e[12]!==c||e[13]!==d?(u={mutationFn:l,onError:c,onSuccess:d},e[11]=l,e[12]=c,e[13]=d,e[14]=u):u=e[14],(0,go.useMutation)(u)}(),{minutesUntilExpiry:k,expiryDateTime:C}=(0,lt.useMemo)((()=>{const t=new Date(e.expiresAt??new Date);return{expiryDateTime:t,minutesUntilExpiry:(0,T_.default)(t,new Date)}}),[u,e.expiresAt]),I=j||!g||h!==m||w;return(0,bt.jsxs)(Qs.ScrollableInner,{label:o({id:"gCDT1O"}),style:(0,qs.web)({maxWidth:420}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"gCDT1O"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(k_,{style:[r.atoms.text_contrast_high],size:"sm"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,r.atoms.text_contrast_high],children:"number"===typeof y?.durationMinutes?(0,bt.jsx)(dt.Trans,{id:"D65DE9",values:{0:E_(a,k),1:a.date(C,{hour:"numeric",minute:"2-digit",hour12:!0})}}):(0,bt.jsx)(dt.Trans,{id:"9TQT4m"})})]})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"95yofQ"})}),(0,bt.jsx)(mo.Root,{isInvalid:!!c||!!_,children:(0,bt.jsx)(mo.Input,{label:o({id:"95yofQ"}),placeholder:o({id:"CcfyuL"}),value:i,onChangeText:l,onFocus:()=>d(""),onBlur:()=>{(0,zt.definitelyUrl)(i)||d("Invalid URL")},returnKeyType:"done",autoCapitalize:"none",autoComplete:"url",autoCorrect:!1,onSubmitEditing:()=>{p&&!I&&b()}})})]}),(c||_)&&(0,bt.jsx)(no.Admonition,{type:"error",children:c?(0,bt.jsx)(dt.Trans,{id:"0sRQCz"}):(0,Tn.cleanError)(_)}),(0,bt.jsx)(C_,{linkMeta:f,loading:x})]}),v&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,Tn.cleanError)(v)}),T&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,Tn.cleanError)(T)}),(0,bt.jsxs)(Fs.default,{style:(0,qs.platform)({native:[qs.atoms.gap_md,qs.atoms.pt_lg],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_md,qs.atoms.align_center]}),children:[p?(0,bt.jsxs)(ao.Button,{label:o({id:"tfDRzk"}),size:(0,qs.platform)({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>b(),disabled:I,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),j&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}):(0,bt.jsx)(ao.Button,{label:o({id:"yz7wBu"}),size:(0,qs.platform)({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>s.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})}),(0,bt.jsxs)(ao.Button,{label:o({id:"JZnNw8"}),onPress:()=>S(),size:(0,qs.platform)({native:"large",web:"small"}),color:"negative_subtle",variant:"solid",disabled:w||j,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"JZnNw8"})}),w&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})]})]}),(0,bt.jsx)(Qs.Close,{})]})}var V_=s(81826);function z_(e){const t=(0,n.c)(7),{control:s,profile:o}=e;let a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={preventExpansion:!0},r=(0,bt.jsx)(Qs.Handle,{}),t[0]=a,t[1]=r):(a=t[0],r=t[1]),t[2]!==o?(i=(0,bt.jsx)(W_,{profile:o}),t[2]=o,t[3]=i):i=t[3],t[4]!==s||t[5]!==i?(l=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:a,children:[r,i]}),t[4]=s,t[5]=i,t[6]=l):l=t[6],l}const U_=Array.from({length:48}).map(((e,t)=>5*(t+1)));function W_(e){const t=(0,n.c)(92),{profile:s}=e,o=Qs.useDialogContext(),{_:a,i18n:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),[l,c]=(0,lt.useState)(""),[d,u]=(0,lt.useState)(""),[m,h]=(0,lt.useState)(60),p=(0,ds.useModerationOpts)(),f=((0,hs.useTickEveryMinute)(),(0,Wt.useLiveNowConfig)());let g;t[0]!==f.currentAccountAllowedHosts?(g=B_(f.currentAccountAllowedHosts),t[0]=f.currentAccountAllowedHosts,t[1]=g):g=t[1];const{formatted:x}=g;let _;t[2]!==r?(_=e=>{const t=new Date;return t.setMinutes(t.getMinutes()+e),r.date(t,{hour:"numeric",minute:"2-digit",hour12:!0})},t[2]=r,t[3]=_):_=t[3];const y=_;let b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{h(Number(e))},t[4]=b):b=t[4];const j=b;let v;t[5]!==l?(v=(0,zt.definitelyUrl)(l),t[5]=l,t[6]=v):v=t[6];const S=v,w=L_(S,500),{data:T,isSuccess:k,isLoading:C,error:I}=D_(w),{mutate:A,isPending:P,error:E}=O_(m,T),L=!!d||!!I,R=!!w&&!L;let B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he;return t[7]!==a?(B=a({id:"XOGcfV"}),t[7]=a,t[8]=B):B=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(D=(0,qs.web)({maxWidth:420}),t[9]=D):D=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.gap_xl],t[10]=O):O=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.gap_sm],t[11]=M):M=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"XOGcfV"})}),t[12]=F):F=t[12],t[13]!==i.atoms.text_contrast_high?(N=[qs.atoms.text_md,qs.atoms.leading_snug,i.atoms.text_contrast_high],t[13]=i.atoms.text_contrast_high,t[14]=N):N=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(dt.Trans,{id:"P04SBf"}),t[15]=H):H=t[15],t[16]!==N?(V=(0,bt.jsxs)(Fs.default,{style:M,children:[F,(0,bt.jsx)(co.Text,{style:N,children:H})]}),t[16]=N,t[17]=V):V=t[17],t[18]!==p||t[19]!==s?(z=p&&(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:p,liveOverride:!0,disabledPreview:!0}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:p})]}),t[18]=p,t[19]=s,t[20]=z):z=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(U=[qs.atoms.gap_sm],t[21]=U):U=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(W=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"95yofQ"})}),t[22]=W):W=t[22],t[23]!==a?(G=a({id:"95yofQ"}),t[23]=a,t[24]=G):G=t[24],t[25]!==a?(q=a({id:"CcfyuL"}),t[25]=a,t[26]=q):q=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>u(""),t[27]=Q):Q=t[27],t[28]!==l?(K=()=>{(0,zt.definitelyUrl)(l)||u("Invalid URL")},t[28]=l,t[29]=K):K=t[29],t[30]!==l||t[31]!==G||t[32]!==q||t[33]!==K?(Z=(0,bt.jsx)(mo.Input,{label:G,placeholder:q,value:l,onChangeText:c,onFocus:Q,onBlur:K,returnKeyType:"done",autoCapitalize:"none",autoComplete:"url",autoCorrect:!1}),t[30]=l,t[31]=G,t[32]=q,t[33]=K,t[34]=Z):Z=t[34],t[35]!==L||t[36]!==Z?(Y=(0,bt.jsxs)(Fs.default,{children:[W,(0,bt.jsx)(mo.Root,{isInvalid:L,children:Z})]}),t[35]=L,t[36]=Z,t[37]=Y):Y=t[37],t[38]!==x||t[39]!==I||t[40]!==d?($=d||I?(0,bt.jsx)(no.Admonition,{type:"error",children:d?(0,bt.jsx)(dt.Trans,{id:"0sRQCz"}):(0,Tn.cleanError)(I)}):(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"di/liP",values:{allowedServices:x}})}),t[38]=x,t[39]=I,t[40]=d,t[41]=$):$=t[41],t[42]!==T||t[43]!==C?(X=(0,bt.jsx)(C_,{linkMeta:T,loading:C}),t[42]=T,t[43]=C,t[44]=X):X=t[44],t[45]!==Y||t[46]!==$||t[47]!==X?(J=(0,bt.jsxs)(Fs.default,{style:U,children:[Y,$,X]}),t[45]=Y,t[46]=$,t[47]=X,t[48]=J):J=t[48],t[49]!==a||t[50]!==m||t[51]!==R||t[52]!==r||t[53]!==i.atoms.text_contrast_low||t[54]!==i.atoms.text_contrast_medium||t[55]!==y?(ee=R&&(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"NrLAPd"})}),(0,bt.jsxs)(V_.Root,{value:String(m),onValueChange:j,children:[(0,bt.jsxs)(V_.Trigger,{label:a({id:"hfVenA"}),children:[(0,bt.jsxs)(co.Text,{style:[(0,qs.ios)(qs.atoms.py_xs)],children:[E_(r,m),"  ",(0,bt.jsx)(co.Text,{style:[i.atoms.text_contrast_low],children:y(m)})]}),(0,bt.jsx)(V_.Icon,{})]}),(0,bt.jsx)(V_.Content,{renderItem:(e,t,s)=>{const o=E_(r,e);return(0,bt.jsxs)(V_.Item,{value:String(e),label:o,children:[(0,bt.jsx)(V_.ItemIndicator,{}),(0,bt.jsxs)(V_.ItemText,{children:[o,"  ",(0,bt.jsx)(co.Text,{style:[(0,qs.native)(qs.atoms.text_md),(0,qs.web)(qs.atoms.ml_xs),s===String(e)?i.atoms.text_contrast_medium:i.atoms.text_contrast_low,qs.atoms.font_normal],children:y(e)})]})]})},items:U_,valueExtractor:G_})]})]}),t[49]=a,t[50]=m,t[51]=R,t[52]=r,t[53]=i.atoms.text_contrast_low,t[54]=i.atoms.text_contrast_medium,t[55]=y,t[56]=ee):ee=t[56],t[57]!==E?(te=E&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,Tn.cleanError)(E)}),t[57]=E,t[58]=te):te=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(se=(0,qs.platform)({native:[qs.atoms.gap_md,qs.atoms.pt_lg],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_md,qs.atoms.align_center]}),t[59]=se):se=t[59],t[60]!==a||t[61]!==w||t[62]!==A||t[63]!==R||t[64]!==k||t[65]!==P||t[66]!==S?(oe=R&&(0,bt.jsxs)(ao.Button,{label:a({id:"XOGcfV"}),size:(0,qs.platform)({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>A(),disabled:P||!k||w!==S,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"XOGcfV"})}),P&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),t[60]=a,t[61]=w,t[62]=A,t[63]=R,t[64]=k,t[65]=P,t[66]=S,t[67]=oe):oe=t[67],t[68]!==a?(ne=a({id:"dEgA5A"}),t[68]=a,t[69]=ne):ne=t[69],t[70]!==o?(ae=()=>o.close(),t[70]=o,t[71]=ae):ae=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(re=(0,qs.platform)({native:"large",web:"small"}),t[72]=re):re=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,qs.platform)({native:"solid",web:"ghost"}),t[73]=ie):ie=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(le=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})}),t[74]=le):le=t[74],t[75]!==ne||t[76]!==ae?(ce=(0,bt.jsx)(ao.Button,{label:ne,onPress:ae,size:re,color:"secondary",variant:ie,children:le}),t[75]=ne,t[76]=ae,t[77]=ce):ce=t[77],t[78]!==oe||t[79]!==ce?(de=(0,bt.jsxs)(Fs.default,{style:se,children:[oe,ce]}),t[78]=oe,t[79]=ce,t[80]=de):de=t[80],t[81]!==V||t[82]!==z||t[83]!==J||t[84]!==ee||t[85]!==te||t[86]!==de?(ue=(0,bt.jsxs)(Fs.default,{style:O,children:[V,z,J,ee,te,de]}),t[81]=V,t[82]=z,t[83]=J,t[84]=ee,t[85]=te,t[86]=de,t[87]=ue):ue=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(me=(0,bt.jsx)(Qs.Close,{}),t[88]=me):me=t[88],t[89]!==ue||t[90]!==B?(he=(0,bt.jsxs)(Qs.ScrollableInner,{label:B,style:D,children:[ue,me]}),t[89]=ue,t[90]=B,t[91]=he):he=t[91],he}function G_(e){return String(e)}function q_(e){const t=(0,n.c)(8),{control:s,status:o}=e;let a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={preventExpansion:!0},r=(0,bt.jsx)(Qs.Handle,{}),t[0]=a,t[1]=r):(a=t[0],r=t[1]),t[2]!==s||t[3]!==o?(i=(0,bt.jsx)(Q_,{control:s,status:o}),t[2]=s,t[3]=o,t[4]=i):i=t[4],t[5]!==s||t[6]!==i?(l=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:a,children:[r,i]}),t[5]=s,t[6]=i,t[7]=l):l=t[7],l}function Q_(e){const t=(0,n.c)(52),{control:s,status:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,Gt.useAgent)(),[i,l]=(0,lt.useState)("");let c,d,u,m;t[0]!==r||t[1]!==i||t[2]!==o?(c=async()=>{if(!r.session?.did)throw new Error("Not logged in");if(!o.uri||!o.cid)throw new Error("Status is missing uri or cid");await r.createModerationReport({reasonType:Dn.ToolsOzoneReportDefs.REASONAPPEAL,subject:{$type:"com.atproto.repo.strongRef",uri:o.uri,cid:o.cid},reason:i},{encoding:"application/json",headers:Vt.BLUESKY_MOD_SERVICE_HEADERS})},t[0]=r,t[1]=i,t[2]=o,t[3]=c):c=t[3],t[4]!==a?(d=()=>{Pd.show(a({id:"weFIXk"}),{type:"error"})},t[4]=a,t[5]=d):d=t[5],t[6]!==a||t[7]!==s?(u=()=>{s.close(),Pd.show(a({id:"tk78Wd"}),{type:"success"})},t[6]=a,t[7]=s,t[8]=u):u=t[8],t[9]!==c||t[10]!==d||t[11]!==u?(m={mutationFn:c,onError:d,onSuccess:u},t[9]=c,t[10]=d,t[11]=u,t[12]=m):m=t[12];const{mutate:h,isPending:p}=(0,go.useMutation)(m);let f;t[13]!==h?(f=()=>h(),t[13]=h,t[14]=f):f=t[14];const g=f;let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D;return t[15]!==a?(x=a({id:"faLll1"}),t[15]=a,t[16]=x):x=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(_=[(0,qs.web)({maxWidth:400})],t[17]=_):_=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.gap_lg],t[18]=y):y=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_md],t[19]=b):b=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.leading_snug,qs.atoms.pr_4xl],children:(0,bt.jsx)(dt.Trans,{id:"Tl7TLx"})}),t[20]=j):j=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"axcQzP"})}),t[21]=v):v=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsxs)(Fs.default,{style:b,children:[j,v,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"u7I+xA"})})]}),t[22]=S):S=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_md],t[23]=w):w=t[23],t[24]!==a?(T=a({id:"p8Iz39"}),t[24]=a,t[25]=T):T=t[25],t[26]!==a?(k=a({id:"16oQ+b"}),t[26]=a,t[27]=k):k=t[27],t[28]!==i||t[29]!==T||t[30]!==k?(C=(0,bt.jsx)(Qs.Input,{label:T,placeholder:k,value:i,onChangeText:l,autoFocus:!0,numberOfLines:3,multiline:!0,maxLength:300}),t[28]=i,t[29]=T,t[30]=k,t[31]=C):C=t[31],t[32]!==a?(I=a({id:"hQRttt"}),t[32]=a,t[33]=I):I=t[33],t[34]!==a?(A=a({id:"hQRttt"}),t[34]=a,t[35]=A):A=t[35],t[36]!==A?(P=(0,bt.jsx)(ao.ButtonText,{children:A}),t[36]=A,t[37]=P):P=t[37],t[38]!==p?(E=p&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[38]=p,t[39]=E):E=t[39],t[40]!==g||t[41]!==I||t[42]!==P||t[43]!==E?(L=(0,bt.jsxs)(ao.Button,{testID:"submitBtn",variant:"solid",color:"primary",size:"large",onPress:g,label:I,children:[P,E]}),t[40]=g,t[41]=I,t[42]=P,t[43]=E,t[44]=L):L=t[44],t[45]!==C||t[46]!==L?(R=(0,bt.jsxs)(Fs.default,{style:y,children:[S,(0,bt.jsxs)(Fs.default,{style:w,children:[C,L]})]}),t[45]=C,t[46]=L,t[47]=R):R=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(Qs.Close,{}),t[48]=B):B=t[48],t[49]!==R||t[50]!==x?(D=(0,bt.jsxs)(Qs.ScrollableInner,{label:x,style:_,children:[R,B]}),t[49]=R,t[50]=x,t[51]=D):D=t[51],D}var K_=s(46012);function Z_(e){const t=(0,n.c)(36),{control:s,profile:o}=e,{_:a}=(0,dt.useLingui)(),{gtMobile:r}=(0,qs.useBreakpoints)(),i=(0,ds.useModerationOpts)(),{mutateAsync:l,isPending:c}=function(){const e=(0,n.c)(5),t=(0,Xo.useAnalytics)(),s=(0,Gt.useAgent)(),{currentAccount:o}=(0,Gt.useSession)(),a=(0,ix.useUpdateProfileVerificationCache)();let r;return e[0]!==s||e[1]!==t||e[2]!==o||e[3]!==a?(r={async mutationFn(e){const{profile:t}=e;if(!o)throw new Error("User not logged in");const{uri:n}=await s.app.bsky.graph.verification.create({repo:o.did},{subject:t.did,createdAt:(new Date).toISOString(),handle:t.handle,displayName:t.displayName||""});await(0,Za.until)(5,1e3,(e=>{const{data:t}=e;return!(!t.verification||!t.verification.verifications.find((e=>e.uri===n)))}),(()=>s.getProfile({actor:t.did??""})))},async onSuccess(e,s){const{profile:o}=s;t.metric("verification:create",{}),await a({profile:o})}},e[0]=s,e[1]=t,e[2]=o,e[3]=a,e[4]=r):r=e[4],(0,go.useMutation)(r)}(),[d,u]=(0,lt.useState)("");let m;t[0]!==a||t[1]!==s||t[2]!==l||t[3]!==o?(m=async()=>{try{await l({profile:o}),Ds.show(a({id:"PZVWL9"})),s.close()}catch(p){const t=p;u(a({id:"/dHeoe"})),Mt.logger.error("Failed to create a verification",{safeMessage:t})}},t[0]=a,t[1]=s,t[2]=l,t[3]=o,t[4]=m):m=t[4];const h=m;let p,f,g,x,_,y,b,j,v,S,w,T,k;return t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pb_sm],f=(0,bt.jsx)(K_.VerifiedCheck,{width:18}),t[5]=p,t[6]=f):(p=t[5],f=t[6]),t[7]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.pb_0],t[7]=g):g=t[7],t[8]!==a?(x=a({id:"fmDr0U"}),t[8]=a,t[9]=x):x=t[9],t[10]!==x?(_=(0,bt.jsxs)(Fs.default,{style:p,children:[f,(0,bt.jsx)(Zi.TitleText,{style:g,children:x})]}),t[10]=x,t[11]=_):_=t[11],t[12]!==a?(y=a({id:"UoCEA0"}),t[12]=a,t[13]=y):y=t[13],t[14]!==y?(b=(0,bt.jsx)(Zi.DescriptionText,{children:y}),t[14]=y,t[15]=b):b=t[15],t[16]!==i||t[17]!==o?(j=i?(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:o,moderationOpts:i}),(0,bt.jsx)(Rl.NameAndHandle,{profile:o,moderationOpts:i})]}):null,t[16]=i,t[17]=o,t[18]=j):j=t[18],t[19]!==d?(v=d&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pt_lg],children:(0,bt.jsx)(no.Admonition,{type:"error",children:d})}),t[19]=d,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.pt_xl],t[21]=S):S=t[21],t[22]!==a||t[23]!==r||t[24]!==c||t[25]!==h||t[26]!==o.displayName?(w=(0,bt.jsx)(Fs.default,{style:S,children:o.displayName?(0,bt.jsxs)(Zi.Actions,{children:[(0,bt.jsxs)(ao.Button,{variant:"solid",color:"primary",size:r?"small":"large",label:a({id:"nSd1HP"}),onPress:h,children:[(0,bt.jsx)(ao.ButtonText,{children:a({id:"nSd1HP"})}),c&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(Zi.Cancel,{})]}):(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"kLJ1ch"})})}),t[22]=a,t[23]=r,t[24]=c,t[25]=h,t[26]=o.displayName,t[27]=w):w=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(Qs.Close,{}),t[28]=T):T=t[28],t[29]!==s||t[30]!==v||t[31]!==w||t[32]!==_||t[33]!==b||t[34]!==j?(k=(0,bt.jsxs)(Zi.Outer,{control:s,children:[_,b,j,v,w,T]}),t[29]=s,t[30]=v,t[31]=w,t[32]=_,t[33]=b,t[34]=j,t[35]=k):k=t[35],k}function Y_(e){const t=(0,n.c)(10),{top:s,bottom:o,left:a,right:r}=e,i=(0,qs.useTheme)();let l,c,d;return t[0]!==o||t[1]!==a||t[2]!==r||t[3]!==s?(l=[qs.atoms.absolute,{top:s,bottom:o,left:a,right:r}],t[0]=o,t[1]=a,t[2]=r,t[3]=s,t[4]=l):l=t[4],t[5]!==i.palette.primary_500?(c=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,{height:8,width:8,backgroundColor:i.palette.primary_500}]}),t[5]=i.palette.primary_500,t[6]=c):c=t[6],t[7]!==l||t[8]!==c?(d=(0,bt.jsx)(Fs.default,{style:l,children:c}),t[7]=l,t[8]=c,t[9]=d):d=t[9],d}function $_(e){const t=(0,n.c)(15),{style:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m;return t[0]!==o.palette.primary_500?(a=qs.utils.alpha(o.palette.primary_500,.2),t[0]=o.palette.primary_500,t[1]=a):a=t[1],t[2]!==o.palette.primary_500?(r=qs.utils.alpha(o.palette.primary_500,.1),t[2]=o.palette.primary_500,t[3]=r):r=t[3],t[4]!==a||t[5]!==r?(i=[a,r],t[4]=a,t[5]=r,t[6]=i):i=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(l=[0,1],c={x:0,y:0},d={x:1,y:0},t[7]=l,t[8]=c,t[9]=d):(l=t[7],c=t[8],d=t[9]),t[10]!==s?(u=[qs.atoms.absolute,qs.atoms.inset_0,s],t[10]=s,t[11]=u):u=t[11],t[12]!==i||t[13]!==u?(m=(0,bt.jsx)(Lo.LinearGradient,{colors:i,locations:l,start:c,end:d,style:u}),t[12]=i,t[13]=u,t[14]=m):m=t[14],m}let X_=({profile:e})=>{const t=(0,qs.useTheme)(),s=(0,Xo.useAnalytics)(),{_:o}=(0,dt.useLingui)(),{currentAccount:n,hasSession:a}=(0,Gt.useSession)(),{openModal:i}=(0,is.useModalControls)(),l=(0,If.useReportDialogControl)(),c=(0,On.useQueryClient)(),d=(0,Ns.useNavigation)(),u=n?.did===e.did,m=e.viewer?.following,h=e.viewer?.blocking||e.viewer?.blockedBy,p=m&&h,f=!!e.associated?.labeler&&!h,[g]=(0,tl.useDevMode)(),x=(0,Nu.useFullVerificationState)({profile:e}),_=(0,Wt.useCanGoLive)(),y=(0,Ra.useActorStatus)(e),b=Di(Ii.LiveNowBetaNudge),j=u&&_&&"ready"===b.status&&!b.nux?.completed,{mutate:v}=Oi(),[S,w]=(0,Ut.useProfileMuteMutationQueue)(e),[T,k]=(0,Ut.useProfileBlockMutationQueue)(e),[C,I]=(0,Ut.useProfileFollowMutationQueue)(e,"ProfileMenu"),A=Zi.usePromptControl(),P=Zi.usePromptControl(),E=(0,Qs.useDialogControl)(),L=(0,Qs.useDialogControl)(),R=(0,Qs.useDialogControl)(),B=lt.useMemo((()=>e.did!==n?.did&&!!e.labels?.find((e=>"!no-unauthenticated"===e.val))),[n,e]),D=lt.useCallback((()=>{c.invalidateQueries({queryKey:(0,Ut.RQKEY)(e.did)})}),[c,e.did]),O=lt.useCallback((()=>{s.metric("profile:addToStarterPack",{}),R.open()}),[R]),M=lt.useCallback((()=>{(0,lm.shareUrl)((0,zt.toShareUrl)((0,Oa.makeProfileLink)(e)))}),[e]),F=lt.useCallback((()=>{i({name:"user-add-remove-lists",subject:e.did,handle:e.handle,displayName:e.displayName||e.handle,onAdd:D,onRemove:D})}),[e,i,D]),N=lt.useCallback((async()=>{if(e.viewer?.muted)try{await w(),Ds.show(o({id:"QU/XdG"}))}catch(t){"AbortError"!==t?.name&&(s.logger.error("Failed to unmute account",{message:t}),Ds.show(o({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}else try{await S(),Ds.show(o({id:"qWVN11"}))}catch(n){"AbortError"!==n?.name&&(s.logger.error("Failed to mute account",{message:n}),Ds.show(o({id:"HTQWov",values:{0:n.toString()}}),"xmark"))}}),[s,e.viewer?.muted,w,o,S]),H=lt.useCallback((async()=>{if(e.viewer?.blocking)try{await k(),Ds.show(o({id:"AGD0Zy"}))}catch(t){"AbortError"!==t?.name&&(s.logger.error("Failed to unblock account",{message:t}),Ds.show(o({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}else try{await T(),Ds.show(o({id:"ZJdD7R"}))}catch(n){"AbortError"!==n?.name&&(s.logger.error("Failed to block account",{message:n}),Ds.show(o({id:"HTQWov",values:{0:n.toString()}}),"xmark"))}}),[s,e.viewer?.blocking,o,k,T]),V=lt.useCallback((async()=>{try{await C(),Ds.show(o({id:"HwDuzV"}))}catch(e){"AbortError"!==e?.name&&(s.logger.error("Failed to follow account",{message:e}),Ds.show(o({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}}),[o,s,C]),z=lt.useCallback((async()=>{try{await I(),Ds.show(o({id:"hMTut3"}))}catch(e){"AbortError"!==e?.name&&(s.logger.error("Failed to unfollow account",{message:e}),Ds.show(o({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}}),[o,s,I]),U=lt.useCallback((()=>{l.open()}),[l]),W=lt.useCallback((()=>{(0,lm.shareText)(`at://${e.did}`)}),[e.did]),G=lt.useCallback((()=>{(0,lm.shareText)(e.did)}),[e.did]),q=lt.useCallback((()=>{d.navigate("ProfileSearch",{name:e.handle})}),[d,e.handle]),Q=Zi.usePromptControl(),K=Zi.usePromptControl(),Z=e.verification?.verifications?.filter((e=>e.issuer===n?.did))??[];return(0,bt.jsxs)(_m,{onKeyDown:!1,children:[(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:o({id:"3Siwmw"}),children:({props:e})=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(ao.Button,Object.assign({},e,{testID:"profileHeaderDropdownBtn",label:o({id:"3Siwmw"}),hitSlop:Vt.HITSLOP_20,variant:"solid",color:"secondary",size:"small",shape:"round",children:[j&&(0,bt.jsx)($_,{style:[qs.atoms.rounded_full]}),(0,bt.jsx)(ao.ButtonIcon,{icon:Qp,size:"sm"})]})),j&&(0,bt.jsx)(Y_,{top:1,right:1})]})}),(0,bt.jsxs)(Kp.Outer,{style:{minWidth:170},children:[(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownShareBtn",label:r.IS_WEB?o({id:"jw+abr"}):o({id:"tz4YI4"}),onPress:()=>{B?P.open():M()},children:[(0,bt.jsx)(Kp.ItemText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"jw+abr"}):(0,bt.jsx)(dt.Trans,{id:"tz4YI4"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:r.IS_WEB?ig:y_})]}),(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownSearchBtn",label:o({id:"mjIwNK"}),onPress:q,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"mjIwNK"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Hl.MagnifyingGlass_Stroke2_Corner0_Rounded})]})]}),a&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[!u&&(0,bt.jsx)(bt.Fragment,{children:(f||p)&&(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownFollowBtn",label:o(m?{id:"3dmJaw"}:{id:"sTlPtW"}),onPress:m?z:V,children:[(0,bt.jsx)(Kp.ItemText,{children:m?(0,bt.jsx)(dt.Trans,{id:"3dmJaw"}):(0,bt.jsx)(dt.Trans,{id:"sTlPtW"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:m?w_:zg.PlusLarge_Stroke2_Corner0_Rounded})]})}),!u&&(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownStarterPackAddRemoveBtn",label:o({id:"V9dskt"}),onPress:O,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"V9dskt"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:fd.StarterPack})]}),(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownListAddRemoveBtn",label:o({id:"MGrqgd"}),onPress:F,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"MGrqgd"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:v_})]}),u&&_&&(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownListAddRemoveBtn",label:y.isDisabled?o({id:"1IPrZa"}):y.isActive?o({id:"pv/ObD"}):o({id:"2qtCQl"}),onPress:()=>{y.isDisabled?L.open():E.open(),v({id:Ii.LiveNowBetaNudge,data:void 0,completed:!0})},children:[j&&(0,bt.jsx)($_,{}),(0,bt.jsx)(Kp.ItemText,{children:y.isDisabled?(0,bt.jsx)(dt.Trans,{id:"1IPrZa"}):y.isActive?(0,bt.jsx)(dt.Trans,{id:"pv/ObD"}):(0,bt.jsx)(dt.Trans,{id:"2qtCQl"})}),j&&(0,bt.jsx)(Kp.ItemText,{style:[qs.atoms.flex_0,{color:t.palette.primary_500,right:r.IS_WEB?-8:-4}],children:(0,bt.jsx)(dt.Trans,{id:"isRobC"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:qi,fill:j?()=>t.palette.primary_500:void 0})]}),"verifier"===x.viewer.role&&!x.profile.isViewer&&(x.viewer.hasIssuedVerification?(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownVerificationRemoveButton",label:o({id:"ivOnDk"}),onPress:()=>K.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ivOnDk"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:b_.CircleX_Stroke2_Corner0_Rounded})]}):(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownVerificationCreateButton",label:o({id:"nSd1HP"}),onPress:()=>Q.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"nSd1HP"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:wg.CircleCheck_Stroke2_Corner0_Rounded})]})),!u&&(0,bt.jsxs)(bt.Fragment,{children:[!e.viewer?.blocking&&!e.viewer?.mutedByList&&(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownMuteBtn",label:e.viewer?.muted?o({id:"tGvT9+"}):o({id:"BT9ocQ"}),onPress:N,children:[(0,bt.jsx)(Kp.ItemText,{children:e.viewer?.muted?(0,bt.jsx)(dt.Trans,{id:"tGvT9+"}):(0,bt.jsx)(dt.Trans,{id:"BT9ocQ"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:e.viewer?.muted?Eh:Ph.Mute_Stroke2_Corner0_Rounded})]}),!e.viewer?.blockingByList&&(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownBlockBtn",label:e.viewer?o({id:"lRjoxo"}):o({id:"ERffXY"}),onPress:()=>A.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:e.viewer?.blocking?(0,bt.jsx)(dt.Trans,{id:"lRjoxo"}):(0,bt.jsx)(dt.Trans,{id:"ERffXY"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:e.viewer?.blocking?pc.PersonCheck_Stroke2_Corner0_Rounded:pc.PersonX_Stroke2_Corner0_Rounded})]}),(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownReportBtn",label:o({id:"DYqMcU"}),onPress:U,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"DYqMcU"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:j_})]})]})]})]}),g?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownShareATURIBtn",label:o({id:"PHIlqm"}),onPress:W,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"PHIlqm"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf})]}),(0,bt.jsxs)(Kp.Item,{testID:"profileHeaderDropdownShareDIDBtn",label:o({id:"f56KS4"}),onPress:G,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"f56KS4"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf})]})]})]}):null]})]}),(0,bt.jsx)(d_,{control:R,targetDid:e.did}),(0,bt.jsx)(If.ReportDialog,{control:l,subject:Object.assign({},e,{$type:"app.bsky.actor.defs#profileViewDetailed"})}),(0,bt.jsx)(Zi.Basic,{control:A,title:e.viewer?.blocking?o({id:"tw0xVB"}):o({id:"9CjDMy"}),description:e.viewer?.blocking?o({id:"GlPXQJ"}):e.associated?.labeler?o({id:"/+OmFR"}):o({id:"HG4qt4"}),onConfirm:H,confirmButtonCta:e.viewer?.blocking?o({id:"tuS5Jz"}):o({id:"CJkEfx"}),confirmButtonColor:e.viewer?.blocking?void 0:"negative"}),(0,bt.jsx)(Zi.Basic,{control:P,title:o({id:"wILD8d"}),description:o({id:"mt5ls7"}),onConfirm:M,confirmButtonCta:o({id:"AnSqOp"})}),(0,bt.jsx)(Z_,{control:Q,profile:e}),(0,bt.jsx)(cx,{control:K,profile:e,verifications:Z}),y.isDisabled?(0,bt.jsx)(q_,{control:L,status:y}):y.isActive?(0,bt.jsx)(N_,{control:E,status:y,embed:y.embed}):(0,bt.jsx)(z_,{control:E,profile:e})]})};X_=(0,lt.memo)(X_);const J_=(0,ti.createSinglePathSVG)({path:"M12 2a1 1 0 0 1 0 2 5.85 5.85 0 0 0-5.802 5.08L5.143 17h13.715l-.382-2.868-.01-.102a1 1 0 0 1 1.973-.262l.02.1.532 4a1 1 0 0 1-.99 1.132h-3.357c-.905 1.747-2.606 3-4.644 3s-3.74-1.253-4.643-3H4a1 1 0 0 1-.991-1.132l1.207-9.053A7.85 7.85 0 0 1 12 2ZM9.78 19c.61.637 1.397 1 2.22 1s1.611-.363 2.22-1H9.78ZM17 2.5a1 1 0 0 1 1 1V6h2.5a1 1 0 0 1 0 2H18v2.5a1 1 0 0 1-2 0V8h-2.5a1 1 0 1 1 0-2H16V3.5a1 1 0 0 1 1-1Z"});var ey=s(56876),ty=s(14457);const sy=240,oy=12,ny=qs.atoms.px_lg.paddingLeft;const ay=(0,lt.createContext)({position:"bottom"});function ry(e){const t=(0,n.c)(9),{children:s,position:o,visible:a,onVisibleChange:r}=e,i=void 0===o?"bottom":o;let l;t[0]!==i?(l={position:i},t[0]=i,t[1]=l):l=t[1];const c=l;let d,u;return t[2]!==s||t[3]!==c?(d=(0,bt.jsx)(ay.Provider,{value:c,children:s}),t[2]=s,t[3]=c,t[4]=d):d=t[4],t[5]!==r||t[6]!==d||t[7]!==a?(u=(0,bt.jsx)(ty.Root,{open:a,onOpenChange:r,children:d}),t[5]=r,t[6]=d,t[7]=a,t[8]=u):u=t[8],u}function iy(e){const t=(0,n.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)(ty.Trigger,{asChild:!0,children:(0,bt.jsx)(Fs.default,{collapsable:!1,children:s})}),t[0]=s,t[1]=o):o=t[1],o}function ly(e){const t=(0,n.c)(20),{children:s,label:o}=e,a=(0,qs.useTheme)(),{position:r}=(0,lt.useContext)(ay);let i,l,c,d,u,m;return t[0]!==a.atoms.bg||t[1]!==a.atoms.bg_contrast_100||t[2]!==a.name||t[3]!==a.palette.black?(i=(0,qs.flatten)([qs.atoms.rounded_sm,(0,qs.select)(a.name,{light:a.atoms.bg,dark:a.atoms.bg_contrast_100,dim:a.atoms.bg_contrast_100}),{minWidth:"max-content",boxShadow:(0,qs.select)(a.name,{light:`0 0 24px ${Wl.utils.alpha(a.palette.black,.2)}`,dark:`0 0 24px ${Wl.utils.alpha(a.palette.black,.2)}`,dim:`0 0 24px ${Wl.utils.alpha(a.palette.black,.2)}`})}]),t[0]=a.atoms.bg,t[1]=a.atoms.bg_contrast_100,t[2]=a.name,t[3]=a.palette.black,t[4]=i):i=t[4],t[5]!==a.atoms.bg.backgroundColor||t[6]!==a.atoms.bg_contrast_100.backgroundColor||t[7]!==a.name?(l=(0,qs.select)(a.name,{light:a.atoms.bg.backgroundColor,dark:a.atoms.bg_contrast_100.backgroundColor,dim:a.atoms.bg_contrast_100.backgroundColor}),t[5]=a.atoms.bg.backgroundColor,t[6]=a.atoms.bg_contrast_100.backgroundColor,t[7]=a.name,t[8]=l):l=t[8],t[9]!==l?(c=(0,bt.jsx)(ty.Arrow,{width:oy,height:oy/2,fill:l}),t[9]=l,t[10]=c):c=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.px_md,qs.atoms.py_sm,{maxWidth:sy}],t[11]=d):d=t[11],t[12]!==s?(u=(0,bt.jsx)(Fs.default,{style:d,children:s}),t[12]=s,t[13]=u):u=t[13],t[14]!==o||t[15]!==r||t[16]!==i||t[17]!==c||t[18]!==u?(m=(0,bt.jsx)(ty.Portal,{children:(0,bt.jsxs)(ty.Content,{className:"radix-popover-content","aria-label":o,side:r,sideOffset:4,collisionPadding:ny,onInteractOutside:cy,style:i,children:[c,u]})}),t[14]=o,t[15]=r,t[16]=i,t[17]=c,t[18]=u,t[19]=m):m=t[19],m}function cy(e){"dismissableLayer.focusOutside"===e.type&&e.preventDefault()}function dy(e){const t=(0,n.c)(15),{children:s}=e;let o,a,r,i,l,c,d;if(t[0]!==s){const e=lt.Children.toArray(s);a=ly,l=e.join(" "),o=Fs.default,t[6]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.gap_xs],t[6]=r):r=t[6],i=e.map(uy),t[0]=s,t[1]=o,t[2]=a,t[3]=r,t[4]=i,t[5]=l}else o=t[1],a=t[2],r=t[3],i=t[4],l=t[5];return t[7]!==o||t[8]!==r||t[9]!==i?(c=(0,bt.jsx)(o,{style:r,children:i}),t[7]=o,t[8]=r,t[9]=i,t[10]=c):c=t[10],t[11]!==a||t[12]!==l||t[13]!==c?(d=(0,bt.jsx)(a,{label:l,children:c}),t[11]=a,t[12]=l,t[13]=c,t[14]=d):d=t[14],d}function uy(e,t){return(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:e},t)}function my(){const e=(0,n.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["activitySubscriptionsNudged"],e[0]=t):t=e[0];const[s,o]=(0,Is.useStorage)(Is.device,t),a=void 0!==s&&s;let r;return e[1]!==a||e[2]!==o?(r=[a,o],e[1]=a,e[2]=o,e[3]=r):r=e[3],r}ay.displayName="TooltipContext";var hy=s(15893);function py(e){const t=(0,n.c)(9),{control:s,profile:o,moderationOpts:a,includeProfile:r}=e;let i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i={preventExpansion:!0},l=(0,bt.jsx)(Qs.Handle,{}),t[0]=i,t[1]=l):(i=t[0],l=t[1]),t[2]!==r||t[3]!==a||t[4]!==o?(c=(0,bt.jsx)(fy,{profile:o,moderationOpts:a,includeProfile:r}),t[2]=r,t[3]=a,t[4]=o,t[5]=c):c=t[5],t[6]!==s||t[7]!==c?(d=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:i,children:[l,c]}),t[6]=s,t[7]=c,t[8]=d):d=t[8],d}function fy({profile:e,moderationOpts:t,includeProfile:s}){const o=(0,Xo.useAnalytics)(),{_:n}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),i=(0,Gt.useAgent)(),l=Qs.useDialogContext(),c=(0,On.useQueryClient)(),d=function(e){if(!e)return{post:!1,reply:!1};const{post:t,reply:s}=e;return{post:t,reply:s}}(e.viewer?.activitySubscription),[u,m]=(0,lt.useState)(d),h=(0,lt.useMemo)((()=>{const{post:e,reply:t}=u,s=[];return e&&s.push("post"),t&&s.push("reply"),s}),[u]),{mutate:p,isPending:f,error:g}=(0,go.useMutation)({mutationFn:async t=>{await i.app.bsky.notification.putActivitySubscription({subject:e.did,activitySubscription:t})},onSuccess:(t,s)=>{l.close((()=>{(0,Va.updateProfileShadow)(c,e.did,{activitySubscription:s}),s.post||s.reply?(o.metric("activitySubscription:enable",{setting:s.reply?"posts_and_replies":"posts"}),d.post||d.reply?Ds.show(n({id:"3YC/uf"}),"check"):Ds.show(n({id:"Slq1HU",values:{0:(0,Fa.sanitizeHandle)(e.handle,"@")}}),"check")):(o.metric("activitySubscription:disable",{}),Ds.show(n({id:"BlZ5vK",values:{0:(0,Fa.sanitizeHandle)(e.handle,"@")}}),"check"),c.setQueryData(hy.RQKEY_getActivitySubscriptions,(t=>t?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{subscriptions:t.subscriptions.filter((t=>t.did!==e.did))})))}):t)))}))},onError:e=>{o.logger.error("Could not save activity subscription",{message:e})}}),x=(0,lt.useMemo)((()=>{const e=u.post!==d.post||u.reply!==d.reply,t=u.post||u.reply;return e?{label:n({id:"y3aU20"}),color:t?"primary":"negative",onPress:()=>p(u),disabled:f}:r.IS_WEB?{label:n({id:"y3aU20"}),color:"secondary",disabled:!0}:{label:n({id:"dEgA5A"}),color:"secondary",onPress:()=>l.close()}}),[u,d,l,n,f,p]),_=gg(e,!1);return(0,bt.jsxs)(Qs.ScrollableInner,{style:(0,qs.web)({maxWidth:400}),label:n({id:"uFvdCL",values:{name:_}}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xs],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"C2cAez"})}),(0,bt.jsx)(co.Text,{style:[a.atoms.text_contrast_medium,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"lvtP1N"})})]}),s&&(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:e,moderationOpts:t,disabledPreview:!0}),(0,bt.jsx)(Rl.NameAndHandle,{profile:e,moderationOpts:t})]}),(0,bt.jsx)(af.Group,{label:n({id:"cJTYO5"}),values:h,onChange:e=>{m((t=>!t.reply&&e.includes("reply")?{post:!0,reply:!0}:t.post&&!e.includes("post")?{post:!1,reply:!1}:{post:e.includes("post"),reply:e.includes("reply")}))},children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(af.Item,{label:n({id:"+owNNn"}),name:"post",style:[qs.atoms.flex_1,qs.atoms.py_xs,(0,qs.platform)({native:[qs.atoms.justify_between],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_sm]})],children:[(0,bt.jsx)(af.LabelText,{style:[a.atoms.text,qs.atoms.font_normal,qs.atoms.text_md,qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"+owNNn"})}),(0,bt.jsx)(af.Switch,{})]}),(0,bt.jsxs)(af.Item,{label:n({id:"N8UzTV"}),name:"reply",style:[qs.atoms.flex_1,qs.atoms.py_xs,(0,qs.platform)({native:[qs.atoms.justify_between],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_sm]})],children:[(0,bt.jsx)(af.LabelText,{style:[a.atoms.text,qs.atoms.font_normal,qs.atoms.text_md,qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"N8UzTV"})}),(0,bt.jsx)(af.Switch,{})]})]})}),g&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"7n3w/1",values:{0:(0,Tn.cleanError)(g)}})}),(0,bt.jsxs)(ao.Button,Object.assign({},x,{size:"large",variant:"solid",children:[(0,bt.jsx)(ao.ButtonText,{children:x.label}),f&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}))]}),(0,bt.jsx)(Qs.Close,{})]})}function gy(e){const t=(0,n.c)(57),{profile:s,moderationOpts:o,disableHint:a}=e,{_:r}=(0,dt.useLingui)(),i=Uo(),l=(0,Qs.useDialogControl)(),[c,d]=my(),[u,m]=(0,lt.useState)(!1);let h,p,f;t[0]!==c?(h=()=>{if(!c){const e=setTimeout((()=>{m(!0)}),500);return()=>clearTimeout(e)}},p=[c],t[0]=c,t[1]=h,t[2]=p):(h=t[1],p=t[2]),(0,lt.useEffect)(h,p),t[3]!==d?(f=e=>{e||(m(!1),d(!0))},t[3]=d,t[4]=f):f=t[4];const g=f;let x;t[5]!==l?(x=()=>{l.open()},t[5]=l,t[6]=x):x=t[6];const _=x;let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N;if(t[7]!==r||t[8]!==a||t[9]!==g||t[10]!==_||t[11]!==s||t[12]!==i||t[13]!==u){const e=gg(s,!0);L=i(_,{instructions:[(0,bt.jsx)(dt.Trans,{id:"VRI2ZG",values:{name:e}},"message")]});y=s.viewer?.activitySubscription?.post||s.viewer?.activitySubscription?.reply?ey.BellRinging_Filled_Corner0_Rounded:J_;const o=u&&!a;v=ry,w=o,T=g,k="bottom",j=iy,b=ao.Button,C="button",I="dmBtn",A="small",P=o?"primary_subtle":"secondary",E="round",S=r({id:"jlbqsN",values:{name:e}}),t[7]=r,t[8]=a,t[9]=g,t[10]=_,t[11]=s,t[12]=i,t[13]=u,t[14]=y,t[15]=b,t[16]=j,t[17]=v,t[18]=S,t[19]=w,t[20]=T,t[21]=k,t[22]=C,t[23]=I,t[24]=A,t[25]=P,t[26]=E,t[27]=L}else y=t[14],b=t[15],j=t[16],v=t[17],S=t[18],w=t[19],T=t[20],k=t[21],C=t[22],I=t[23],A=t[24],P=t[25],E=t[26],L=t[27];return t[28]!==y?(R=(0,bt.jsx)(ao.ButtonIcon,{icon:y,size:"md"}),t[28]=y,t[29]=R):R=t[29],t[30]!==b||t[31]!==S||t[32]!==R||t[33]!==C||t[34]!==I||t[35]!==A||t[36]!==P||t[37]!==E||t[38]!==L?(B=(0,bt.jsx)(b,{accessibilityRole:C,testID:I,size:A,color:P,shape:E,label:S,onPress:L,children:R}),t[30]=b,t[31]=S,t[32]=R,t[33]=C,t[34]=I,t[35]=A,t[36]=P,t[37]=E,t[38]=L,t[39]=B):B=t[39],t[40]!==j||t[41]!==B?(D=(0,bt.jsx)(j,{children:B}),t[40]=j,t[41]=B,t[42]=D):D=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(dy,{children:(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"/h4lnX"})})}),t[43]=O):O=t[43],t[44]!==v||t[45]!==w||t[46]!==T||t[47]!==k||t[48]!==D?(M=(0,bt.jsxs)(v,{visible:w,onVisibleChange:T,position:k,children:[D,O]}),t[44]=v,t[45]=w,t[46]=T,t[47]=k,t[48]=D,t[49]=M):M=t[49],t[50]!==o||t[51]!==s||t[52]!==l?(F=(0,bt.jsx)(py,{control:l,profile:s,moderationOpts:o}),t[50]=o,t[51]=s,t[52]=l,t[53]=F):F=t[53],t[54]!==M||t[55]!==F?(N=(0,bt.jsxs)(bt.Fragment,{children:[M,F]}),t[54]=M,t[55]=F,t[56]=N):N=t[56],N}const xy=e=>["convo-availability",e];const _y=(0,ti.createSinglePathSVG)({viewBox:"0 0 51 51",strokeWidth:2,strokeLinecap:"square",strokeLinejoin:"round",path:"M9 1h32a8 8 0 0 1 8 8v21.333a8 8 0 0 1-8 8H27.667L14.333 49V38.333H9a8 8 0 0 1-8-8V9a8 8 0 0 1 8-8Z"}),yy=(0,ti.createSinglePathSVG)({path:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.968 9.968 0 0 1-4.136-.893l-4.68.876a1 1 0 0 1-1.164-1.184l.931-4.537A9.965 9.965 0 0 1 2 12Zm4.25 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm4.5 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm5.75 1.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"}),by=(0,ti.createSinglePathSVG)({path:"M4 12a8 8 0 1 1 4.445 7.169 1 1 0 0 0-.629-.088l-3.537.662.7-3.415a1 1 0 0 0-.09-.66A7.961 7.961 0 0 1 4 12Zm8-10C6.477 2 2 6.477 2 12c0 1.523.341 2.968.951 4.262l-.93 4.537a1 1 0 0 0 1.163 1.184l4.68-.876A9.968 9.968 0 0 0 12 22c5.523 0 10-4.477 10-10S17.523 2 12 2ZM7.5 13.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"});function jy(e){const t=(0,n.c)(35),{profile:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),r=(0,Xo.useAnalytics)(),i=(0,Ns.useNavigation)(),l=Uo(),{data:c}=function(e){const t=(0,n.c)(8),s=(0,Gt.useAgent)();let o,a,r;return t[0]!==e?(o=xy(e),t[0]=e,t[1]=o):o=t[1],t[2]!==s||t[3]!==e?(a=async()=>{const{data:t}=await s.chat.bsky.convo.getConvoAvailability({members:[e]},{headers:Vt.DM_SERVICE_HEADERS});return t},t[2]=s,t[3]=e,t[4]=a):a=t[4],t[5]!==o||t[6]!==a?(r={queryKey:o,queryFn:a,staleTime:yt.STALE.INFINITY},t[5]=o,t[6]=a,t[7]=r):r=t[7],(0,Zs.useQuery)(r)}(s.did);let d,u,m;t[0]!==r||t[1]!==i?(d=e=>{const{convo:t}=e;r.metric("chat:open",{logContext:"ProfileHeader"}),i.navigate("MessagesConversation",{conversation:t.id})},t[0]=r,t[1]=i,t[2]=d):d=t[2],t[3]!==o?(u=()=>{Ds.show(o({id:"reI+LT"}))},t[3]=o,t[4]=u):u=t[4],t[5]!==d||t[6]!==u?(m={onSuccess:d,onError:u},t[5]=d,t[6]=u,t[7]=m):m=t[7];const{mutate:h}=qf(m);let p;t[8]!==r||t[9]!==c||t[10]!==h||t[11]!==i||t[12]!==s.did?(p=()=>{c?.canChat&&(c.convo?(r.metric("chat:open",{logContext:"ProfileHeader"}),i.navigate("MessagesConversation",{conversation:c.convo.id})):(r.metric("chat:create",{logContext:"ProfileHeader"}),h([s.did])))},t[8]=r,t[9]=c,t[10]=h,t[11]=i,t[12]=s.did,t[13]=p):p=t[13];const f=p;let g,x;t[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(dt.Trans,{id:"oYqWde"},"message"),t[14]=g):g=t[14],t[15]!==f||t[16]!==l?(x=l(f,{instructions:[g]}),t[15]=f,t[16]=l,t[17]=x):x=t[17];const _=x;if(!c){if($f(s)){let e,s,o,n,r;return t[18]===Symbol.for("react.memo_cache_sentinel")?(e={width:33,height:33},t[18]=e):e=t[18],t[19]!==a.atoms.bg_contrast_25?(s=[qs.atoms.justify_center,qs.atoms.align_center,a.atoms.bg_contrast_25,qs.atoms.rounded_full,e],t[19]=a.atoms.bg_contrast_25,t[20]=s):s=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(o={opacity:.3},t[21]=o):o=t[21],t[22]!==a.atoms.text?(n=(0,bt.jsx)(by,{style:[a.atoms.text,o],size:"md"}),t[22]=a.atoms.text,t[23]=n):n=t[23],t[24]!==n||t[25]!==s?(r=(0,bt.jsx)(Fs.default,{testID:"dmBtnLoading","aria-hidden":!0,style:s,children:n}),t[24]=n,t[25]=s,t[26]=r):r=t[26],r}return null}if(c.canChat){let e,n,a,r;return t[27]!==o||t[28]!==s.handle?(e=o({id:"pqr+oY",values:{0:s.handle}}),t[27]=o,t[28]=s.handle,t[29]=e):e=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.justify_center],t[30]=n):n=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ao.ButtonIcon,{icon:by,size:"md"}),t[31]=a):a=t[31],t[32]!==e||t[33]!==_?(r=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(ao.Button,{accessibilityRole:"button",testID:"dmBtn",size:"small",color:"secondary",variant:"solid",shape:"round",label:e,style:n,onPress:_,children:a})}),t[32]=e,t[33]=_,t[34]=r):r=t[34],r}return null}var vy=s(81566);function Sy(){const e=(0,n.c)(9),{linkWarningDialogControl:t}=(0,Ks.useGlobalDialogsControlContext)();let s,o,a,r,i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={preventExpansion:!0},o={alignCenter:!0},e[0]=s,e[1]=o):(s=e[0],o=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Qs.Handle,{}),e[2]=a):a=e[2],e[3]!==t.value?(r=(0,bt.jsx)(Ty,{link:t.value}),e[3]=t.value,e[4]=r):r=e[4],e[5]!==t.clear||e[6]!==t.control||e[7]!==r?(i=(0,bt.jsxs)(Qs.Outer,{control:t.control,nativeOptions:s,webOptions:o,onClose:t.clear,children:[a,r]}),e[5]=t.clear,e[6]=t.control,e[7]=r,e[8]=i):i=e[8],i}function wy(e){const t=(0,n.c)(7),{control:s,link:o}=e;let a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={preventExpansion:!0},r=(0,bt.jsx)(Qs.Handle,{}),t[0]=a,t[1]=r):(a=t[0],r=t[1]),t[2]!==o?(i=(0,bt.jsx)(Ty,{link:o}),t[2]=o,t[3]=i):i=t[3],t[4]!==s||t[5]!==i?(l=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:a,children:[r,i]}),t[4]=s,t[5]=i,t[6]=l):l=t[6],l}function Ty(e){const t=(0,n.c)(67),{link:s}=e,o=Qs.useDialogContext(),{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)(),i=(0,na.useOpenLink)(),{gtMobile:l}=(0,qs.useBreakpoints)();let c;t[0]!==s?(c=s&&(0,zt.isPossiblyAUrl)(s.displayText),t[0]=s,t[1]=c):c=t[1];const d=c;let u;t[2]!==o||t[3]!==s||t[4]!==i?(u=()=>{o.close((()=>{s&&(s.share?(0,lm.shareUrl)(s.href):i(s.href,void 0,!0))}))},t[2]=o,t[3]=s,t[4]=i,t[5]=u):u=t[5];const m=u;let h;t[6]!==o?(h=()=>{o.close()},t[6]=o,t[7]=h):h=t[7];const p=h;let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,qs.web)({maxWidth:450}),t[8]=f):f=t[8],t[9]!==a||t[10]!==d?(g=a(d?{id:"PLdSnX"}:{id:"QfDITI"}),t[9]=a,t[10]=d,t[11]=g):g=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.gap_2xl],t[12]=x):x=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.gap_sm],t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.font_bold,qs.atoms.text_2xl],t[14]=y):y=t[14],t[15]!==d?(b=(0,bt.jsx)(co.Text,{style:y,children:d?(0,bt.jsx)(dt.Trans,{id:"GUJAH2"}):(0,bt.jsx)(dt.Trans,{id:"QfDITI"})}),t[15]=d,t[16]=b):b=t[16],t[17]!==r.atoms.text_contrast_high?(j=[r.atoms.text_contrast_high,qs.atoms.text_md,qs.atoms.leading_snug],t[17]=r.atoms.text_contrast_high,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"CvX8qs"}),t[19]=v):v=t[19],t[20]!==j?(S=(0,bt.jsx)(co.Text,{style:j,children:v}),t[20]=j,t[21]=S):S=t[21],t[22]!==s?(w=s&&(0,bt.jsx)(ky,{href:s.href}),t[22]=s,t[23]=w):w=t[23],t[24]!==d||t[25]!==r.atoms.text_contrast_high?(T=d&&(0,bt.jsx)(co.Text,{style:[r.atoms.text_contrast_high,qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"2U/gDT"})}),t[24]=d,t[25]=r.atoms.text_contrast_high,t[26]=T):T=t[26],t[27]!==S||t[28]!==w||t[29]!==T||t[30]!==b?(k=(0,bt.jsxs)(Fs.default,{style:_,children:[b,S,w,T]}),t[27]=S,t[28]=w,t[29]=T,t[30]=b,t[31]=k):k=t[31],t[32]!==l?(C=l&&[qs.atoms.flex_row_reverse,qs.atoms.justify_start],t[32]=l,t[33]=C):C=t[33],t[34]!==C?(I=[qs.atoms.flex_1,qs.atoms.gap_sm,C],t[34]=C,t[35]=I):I=t[35],t[36]!==a||t[37]!==s?.share?(A=a(s?.share?{id:"uIZ2tg"}:{id:"HWcRyK"}),t[36]=a,t[37]=s?.share,t[38]=A):A=t[38];const P=s?.href??"";let E;t[39]!==a||t[40]!==P?(E=a({id:"HTjfo/",values:{0:P}}),t[39]=a,t[40]=P,t[41]=E):E=t[41];const L=d?"secondary_inverted":"primary";let R,B,D,O,M,F,N,H,V;return t[42]!==s?.share?(R=(0,bt.jsx)(ao.ButtonText,{children:s?.share?(0,bt.jsx)(dt.Trans,{id:"uIZ2tg"}):(0,bt.jsx)(dt.Trans,{id:"HWcRyK"})}),t[42]=s?.share,t[43]=R):R=t[43],t[44]!==m||t[45]!==A||t[46]!==E||t[47]!==L||t[48]!==R?(B=(0,bt.jsx)(ao.Button,{label:A,accessibilityHint:E,onPress:m,size:"large",variant:"solid",color:L,children:R}),t[44]=m,t[45]=A,t[46]=E,t[47]=L,t[48]=R,t[49]=B):B=t[49],t[50]!==a?(D=a({id:"CKyk7Q"}),t[50]=a,t[51]=D):D=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"CKyk7Q"})}),t[52]=O):O=t[52],t[53]!==p||t[54]!==D?(M=(0,bt.jsx)(ao.Button,{label:D,onPress:p,size:"large",variant:"ghost",color:"secondary",children:O}),t[53]=p,t[54]=D,t[55]=M):M=t[55],t[56]!==I||t[57]!==B||t[58]!==M?(F=(0,bt.jsxs)(Fs.default,{style:I,children:[B,M]}),t[56]=I,t[57]=B,t[58]=M,t[59]=F):F=t[59],t[60]!==k||t[61]!==F?(N=(0,bt.jsxs)(Fs.default,{style:x,children:[k,F]}),t[60]=k,t[61]=F,t[62]=N):N=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(Qs.Close,{}),t[63]=H):H=t[63],t[64]!==N||t[65]!==g?(V=(0,bt.jsxs)(Qs.ScrollableInner,{style:f,label:g,children:[N,H]}),t[64]=N,t[65]=g,t[66]=V):V=t[66],V}function ky({href:e}){const t=(0,qs.useTheme)(),[s,o,n]=(0,lt.useMemo)((()=>{try{const t=new URL(e),[s,o]=(0,zt.splitApexDomain)(t.hostname);return[t.protocol+"//"+s,o,t.pathname.replace(/\/$/,"")+t.search+t.hash]}catch{return["",e,""]}}),[e]);return(0,bt.jsx)(Fs.default,{style:[t.atoms.bg,t.atoms.border_contrast_medium,qs.atoms.px_md,{paddingVertical:10},qs.atoms.rounded_sm,qs.atoms.border],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,t.atoms.text_contrast_medium],children:[s,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,t.atoms.text,qs.atoms.font_semi_bold],children:o}),n]})})}function Cy(e){const t=(0,n.c)(33),{germ:s,profile:o}=e,a=(0,qs.useTheme)(),r=(0,Xo.useAnalytics)(),{_:i}=(0,dt.useLingui)(),{currentAccount:l}=(0,Gt.useSession)(),c=Qs.useDialogControl();if("everyone"!==s.showButtonTo&&"usersIFollow"!==s.showButtonTo)return null;if(l?.did===o.did){let e;return t[0]!==l.did?(e=(0,bt.jsx)(Ay,{did:l.did}),t[0]=l.did,t[1]=e):e=t[1],e}if("usersIFollow"===s.showButtonTo&&!o.viewer?.followedBy)return null;const d=l?.did;let u;t[2]!==s||t[3]!==o||t[4]!==d?(u=function(e,t,s){try{const o=new URL(e.messageMeUrl);return o.pathname.endsWith("/")&&(o.pathname=o.pathname.slice(0,-1)),o.pathname+="/web",o.hash=s?`#${t.did}+${s}`:`#${t.did}`,o.toString()}catch{return null}}(s,o,d),t[2]=s,t[3]=o,t[4]=d,t[5]=u):u=t[5];const m=u;if(!m)return null;let h,p,f,g,x,_,y,b,j,v,S;return t[6]!==r||t[7]!==c||t[8]!==m?(h=e=>{if(r.metric("profile:associated:germ:click-to-chat",{}),function(e){try{return"landing.ger.mx"!==new URL(e).hostname}catch{return!1}}(m))return e.preventDefault(),c.open(),!1},t[6]=r,t[7]=c,t[8]=m,t[9]=h):h=t[9],t[10]!==i?(p=i({id:"6qL5c1"}),t[10]=i,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f={padding:6},t[12]=f):f=t[12],t[13]!==a.atoms.bg_contrast_50?(g=[a.atoms.bg_contrast_50,qs.atoms.rounded_full,qs.atoms.self_start,f],t[13]=a.atoms.bg_contrast_50,t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Iy,{size:"small"}),t[15]=x):x=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_medium,qs.atoms.ml_xs],children:(0,bt.jsx)(dt.Trans,{id:"Fb8kfb"})}),t[16]=_):_=t[16],t[17]!==a.atoms.text?(y=(0,bt.jsx)(Al.ArrowTopRight_Stroke2_Corner0_Rounded,{style:[a.atoms.text,qs.atoms.mx_2xs],width:14}),t[17]=a.atoms.text,t[18]=y):y=t[18],t[19]!==h||t[20]!==p||t[21]!==g||t[22]!==y||t[23]!==m?(b=(0,bt.jsxs)(io.Link,{to:m,onPress:h,label:p,overridePresentation:!1,shouldProxy:!1,style:g,children:[x,_,y]}),t[19]=h,t[20]=p,t[21]=g,t[22]=y,t[23]=m,t[24]=b):b=t[24],t[25]!==m?(j={href:m,displayText:"",share:!1},t[25]=m,t[26]=j):j=t[26],t[27]!==c||t[28]!==j?(v=(0,bt.jsx)(wy,{control:c,link:j}),t[27]=c,t[28]=j,t[29]=v):v=t[29],t[30]!==b||t[31]!==v?(S=(0,bt.jsxs)(bt.Fragment,{children:[b,v]}),t[30]=b,t[31]=v,t[32]=S):S=t[32],S}function Iy(e){const t=(0,n.c)(3),{size:o}=e;let a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s(24488),t[0]=a):a=t[0],t[1]!==o?(r=(0,bt.jsx)(cn.Image,{source:a,accessibilityIgnoresInvertColors:!1,contentFit:"cover",style:[qs.atoms.rounded_full,"large"===o?{width:32,height:32}:{width:16,height:16}]}),t[1]=o,t[2]=r):r=t[2],r}function Ay(e){const t=(0,n.c)(73),{did:s}=e,o=(0,qs.useTheme)(),a=(0,Xo.useAnalytics)(),{_:r}=(0,dt.useLingui)(),i=Qs.useDialogControl(),l=(0,Gt.useAgent)(),c=(0,On.useQueryClient)();let d,u,m,h;t[0]!==l||t[1]!==s?(d=async()=>{const e=await l.com.germnetwork.declaration.get({repo:s,rkey:"self"}).then(Ry).catch(Ly);return await l.com.germnetwork.declaration.delete({repo:s,rkey:"self"}),await By(l,s,Ey),e},t[0]=l,t[1]=s,t[2]=d):d=t[2],t[3]!==r||t[4]!==l||t[5]!==a||t[6]!==s||t[7]!==c||t[8]!==i?(u=e=>{a.metric("profile:associated:germ:self-disconnect",{});i.close((()=>{c.refetchQueries({queryKey:(0,Ut.RQKEY)(s)}),Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{}),(0,bt.jsx)(Pd.Text,{children:(0,bt.jsx)(dt.Trans,{id:"7zj53V"})}),e&&(0,bt.jsx)(Pd.Action,{label:r({id:"9uI/rE"}),onPress:()=>{!async function(){if(e)try{await l.com.germnetwork.declaration.put({repo:s,rkey:"self"},e),await By(l,s,Py),await c.refetchQueries({queryKey:(0,Ut.RQKEY)(s)}),Pd.show(r({id:"NOwHTQ"})),a.metric("profile:associated:germ:self-reconnect",{})}catch(m){const t=m;Pd.show(r({id:"NNZ396",values:{0:t?.message}}),{type:"error"}),(0,Tn.isNetworkError)(t)||a.logger.error("Failed to reconnect Germ DM link",{safeMessage:t})}}()},children:(0,bt.jsx)(dt.Trans,{id:"9uI/rE"})})]}))}))},t[3]=r,t[4]=l,t[5]=a,t[6]=s,t[7]=c,t[8]=i,t[9]=u):u=t[9],t[10]!==r||t[11]!==a.logger?(m=e=>{Pd.show(r({id:"MwoKFU",values:{0:e?.message}}),{type:"error"}),(0,Tn.isNetworkError)(e)||a.logger.error("Failed to disconnect Germ DM link",{safeMessage:e})},t[10]=r,t[11]=a.logger,t[12]=m):m=t[12],t[13]!==d||t[14]!==u||t[15]!==m?(h={mutationFn:d,onSuccess:u,onError:m},t[13]=d,t[14]=u,t[15]=m,t[16]=h):h=t[16];const{mutate:p,isPending:f}=(0,go.useMutation)(h);let g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W;return t[17]!==r?(g=r({id:"UdmxP+"}),t[17]=r,t[18]=g):g=t[18],t[19]!==a||t[20]!==i?(x=()=>{a.metric("profile:associated:germ:click-self-info",{}),i.open()},t[19]=a,t[20]=i,t[21]=x):x=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(_={padding:6,paddingRight:10},t[22]=_):_=t[22],t[23]!==o.atoms.bg_contrast_50?(y=[o.atoms.bg_contrast_50,qs.atoms.rounded_full,qs.atoms.self_start,_],t[23]=o.atoms.bg_contrast_50,t[24]=y):y=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(Iy,{size:"small"}),t[25]=b):b=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_medium,qs.atoms.ml_xs],children:(0,bt.jsx)(dt.Trans,{id:"Fb8kfb"})}),t[26]=j):j=t[26],t[27]!==g||t[28]!==x||t[29]!==y?(v=(0,bt.jsxs)(ao.Button,{label:g,onPress:x,style:y,children:[b,j]}),t[27]=g,t[28]=x,t[29]=y,t[30]=v):v=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(S={preventExpansion:!0},w=(0,bt.jsx)(Qs.Handle,{}),t[31]=S,t[32]=w):(S=t[31],w=t[32]),t[33]!==r?(T=r({id:"ayoSYg"}),t[33]=r,t[34]=T):T=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(k=(0,qs.web)([{maxWidth:400,borderRadius:36}]),t[35]=k):k=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.flex_row,qs.atoms.align_center,{gap:6}],I=(0,bt.jsx)(Iy,{size:"large"}),t[36]=C,t[37]=I):(C=t[36],I=t[37]),t[38]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsxs)(Fs.default,{style:C,children:[I,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"ayoSYg"})})]}),t[38]=A):A=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.mt_sm],children:(0,bt.jsx)(dt.Trans,{id:"Hbpkge"})}),t[39]=P):P=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.mt_2xl,qs.atoms.gap_md],t[40]=E):E=t[40],t[41]!==r?(L=r({id:"76gPWk"}),t[41]=r,t[42]=L):L=t[42],t[43]!==i?(R=()=>i.close(),t[43]=i,t[44]=R):R=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"76gPWk"})}),t[45]=B):B=t[45],t[46]!==L||t[47]!==R?(D=(0,bt.jsx)(ao.Button,{label:L,size:"large",color:"primary",onPress:R,children:B}),t[46]=L,t[47]=R,t[48]=D):D=t[48],t[49]!==r?(O=r({id:"CVoWn6"}),t[49]=r,t[50]=O):O=t[50],t[51]!==p?(M=()=>p(),t[51]=p,t[52]=M):M=t[52],t[53]!==f?(F=f&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[53]=f,t[54]=F):F=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"CVoWn6"})}),t[55]=N):N=t[55],t[56]!==f||t[57]!==O||t[58]!==M||t[59]!==F?(H=(0,bt.jsxs)(ao.Button,{label:O,size:"large",color:"secondary",onPress:M,disabled:f,children:[F,N]}),t[56]=f,t[57]=O,t[58]=M,t[59]=F,t[60]=H):H=t[60],t[61]!==D||t[62]!==H?(V=(0,bt.jsxs)(Fs.default,{style:E,children:[D,H]}),t[61]=D,t[62]=H,t[63]=V):V=t[63],t[64]!==T||t[65]!==V?(z=(0,bt.jsxs)(Qs.ScrollableInner,{label:T,style:k,children:[A,P,V]}),t[64]=T,t[65]=V,t[66]=z):z=t[66],t[67]!==i||t[68]!==z?(U=(0,bt.jsxs)(Qs.Outer,{control:i,nativeOptions:S,children:[w,z]}),t[67]=i,t[68]=z,t[69]=U):U=t[69],t[70]!==v||t[71]!==U?(W=(0,bt.jsxs)(bt.Fragment,{children:[v,U]}),t[70]=v,t[71]=U,t[72]=W):W=t[72],W}function Py(e){return!!e.data.associated?.germ}function Ey(e){return!e.data.associated?.germ}function Ly(){return null}function Ry(e){return e.value}async function By(e,t,s){await(0,Za.until)(5,1e3,s,(()=>e.app.bsky.actor.getProfile({actor:t})))}var Dy=s(1453),Oy=s(37879),My=s(53994),Fy=s(90326);function Ny({type:e,banner:t,moderation:s,onSelectNewBanner:o}){const n=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{requestCameraAccessIfNeeded:i}=(0,Od.useCameraPermission)(),{requestPhotoAccessIfNeeded:l}=(0,Od.usePhotoLibraryPermission)(),c=(0,xu.useSheetWrapper)(),[d,u]=(0,lt.useState)(),m=(0,Qs.useDialogControl)(),h=(0,lt.useCallback)((async()=>{await i()&&o?.(await(0,Oy.compressIfNeeded)(await(0,Md.openCamera)({aspect:[3,1]})))}),[o,i]),p=(0,lt.useCallback)((async()=>{if(!await l())return;const e=await c((0,Md.openPicker)());if(e[0])try{r.IS_NATIVE?o?.(await(0,Oy.compressIfNeeded)(await(0,Md.openCropper)({imageUri:e[0].path,aspectRatio:3}))):(u(await(0,zd.createComposerImage)(e[0])),m.open())}catch(t){(0,Tn.isCancelledError)(t)||Mt.logger.error("Failed to crop banner",{error:t})}}),[o,l,c,m]),f=(0,lt.useCallback)((()=>{o?.(null)}),[o]),g=(0,lt.useCallback)((async e=>{const t=await(0,zd.compressImage)(e);o?.(t)}),[o]);return o?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(_m,{onKeyDown:!0,children:(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:a({id:"PUv/ZC"}),children:({props:e})=>(0,bt.jsxs)(ln.default,Object.assign({},e,{testID:"changeBannerBtn",children:[t?(0,bt.jsx)(cn.Image,{testID:"userBannerImage",style:Hy.bannerImage,source:{uri:t},accessible:!0,accessibilityIgnoresInvertColors:!0}):(0,bt.jsx)(Fs.default,{testID:"userBannerFallback",style:[Hy.bannerImage,n.atoms.bg_contrast_25]}),(0,bt.jsx)(Fs.default,{style:[Hy.editButtonContainer,n.atoms.bg_contrast_25,qs.atoms.border,n.atoms.border_contrast_low],children:(0,bt.jsx)(_u.Camera_Filled_Stroke2_Corner0_Rounded,{height:14,width:14,style:n.atoms.text})})]}))}),(0,bt.jsxs)(Kp.Outer,{showCancel:!0,children:[(0,bt.jsxs)(Kp.Group,{children:[r.IS_NATIVE&&(0,bt.jsxs)(Kp.Item,{testID:"changeBannerCameraBtn",label:a({id:"87sqdq"}),onPress:h,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"87sqdq"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:_u.Camera_Stroke2_Corner0_Rounded})]}),(0,bt.jsxs)(Kp.Item,{testID:"changeBannerLibraryBtn",label:a({id:"gF0jGM"}),onPress:p,children:[(0,bt.jsx)(Kp.ItemText,{children:r.IS_NATIVE?(0,bt.jsx)(dt.Trans,{id:"gF0jGM"}):(0,bt.jsx)(dt.Trans,{id:"8ssRu1"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Fy.StreamingLive_Stroke2_Corner0_Rounded})]})]}),!!t&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{testID:"changeBannerRemoveBtn",label:a({id:"LYtujw"}),onPress:f,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"LYtujw"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded})]})})]})]})]})}),(0,bt.jsx)(My.EditImageDialog,{control:m,image:d,onChange:g,aspectRatio:3})]}):!t||s?.blur&&r.IS_ANDROID?(0,bt.jsx)(Fs.default,{testID:"userBannerFallback",style:[Hy.bannerImage,"labeler"===e?Hy.labelerBanner:n.atoms.bg_contrast_25]}):(0,bt.jsx)(cn.Image,{testID:"userBannerImage",style:[Hy.bannerImage,n.atoms.bg_contrast_25],contentFit:"cover",source:{uri:t},blurRadius:s?.blur?100:0,accessible:!0,accessibilityIgnoresInvertColors:!0})}const Hy=Os.default.create({editButtonContainer:{position:"absolute",width:24,height:24,bottom:8,right:24,borderRadius:12,alignItems:"center",justifyContent:"center"},bannerImage:{width:"100%",height:150},labelerBanner:{backgroundColor:qs.tokens.color.temp_purple}}),Vy=64,zy=256;function Uy(e){const t=(0,n.c)(35),{profile:s,control:o,onUpdate:a}=e,{_:r}=(0,dt.useLingui)(),i=Qs.useDialogControl(),[l,c]=(0,lt.useState)(!1),{height:d}=(0,Qr.default)();let u;t[0]!==i||t[1]!==o||t[2]!==l?(u=()=>{l?i.open():o.close()},t[0]=i,t[1]=o,t[2]=l,t[3]=u):u=t[3];const m=u;let h,p,f,g,x,_,y,b,j;return t[4]!==l||t[5]!==d?(h={preventDismiss:l,minHeight:d},t[4]=l,t[5]=d,t[6]=h):h=t[6],t[7]!==i||t[8]!==o||t[9]!==l?(p={onBackgroundPress:()=>{l?i.open():o.close()}},t[7]=i,t[8]=o,t[9]=l,t[10]=p):p=t[10],t[11]!==m||t[12]!==a||t[13]!==s?(f=(0,bt.jsx)(Wy,{profile:s,onUpdate:a,setDirty:c,onPressCancel:m}),t[11]=m,t[12]=a,t[13]=s,t[14]=f):f=t[14],t[15]!==r?(g=r({id:"0EcUWz"}),t[15]=r,t[16]=g):g=t[16],t[17]!==r?(x=r({id:"fgo0YE"}),t[17]=r,t[18]=x):x=t[18],t[19]!==o?(_=()=>o.close(),t[19]=o,t[20]=_):_=t[20],t[21]!==r?(y=r({id:"bzSI52"}),t[21]=r,t[22]=y):y=t[22],t[23]!==i||t[24]!==g||t[25]!==x||t[26]!==_||t[27]!==y?(b=(0,bt.jsx)(Zi.Basic,{control:i,title:g,description:x,onConfirm:_,confirmButtonCta:y,confirmButtonColor:"negative"}),t[23]=i,t[24]=g,t[25]=x,t[26]=_,t[27]=y,t[28]=b):b=t[28],t[29]!==o||t[30]!==h||t[31]!==p||t[32]!==f||t[33]!==b?(j=(0,bt.jsxs)(Qs.Outer,{control:o,nativeOptions:h,webOptions:p,testID:"editProfileModal",children:[f,b]}),t[29]=o,t[30]=h,t[31]=p,t[32]=f,t[33]=b,t[34]=j):j=t[34],j}function Wy(e){const t=(0,n.c)(113),{profile:s,onUpdate:o,setDirty:a,onPressCancel:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)(),c=Qs.useDialogContext();let d;t[0]!==s?(d={profile:s},t[0]=s,t[1]=d):d=t[1];const u=(0,Nu.useSimpleVerificationState)(d),{mutateAsync:m,error:h,isError:p,isPending:f}=(0,Ut.useProfileUpdateMutation)(),[g,x]=(0,lt.useState)(""),_=s.displayName||"",[y,b]=(0,lt.useState)(_),j=s.description||"",[v,S]=(0,lt.useState)(j),[w,T]=(0,lt.useState)(s.banner),[k,C]=(0,lt.useState)(s.avatar),[I,A]=(0,lt.useState)(),[P,E]=(0,lt.useState)(),L=y!==_||v!==j||k!==s.avatar||w!==s.banner;let R,B,D;t[2]!==L||t[3]!==a?(R=()=>{a(L)},B=[L,a],t[2]=L,t[3]=a,t[4]=R,t[5]=B):(R=t[4],B=t[5]),(0,lt.useEffect)(R,B),t[6]===Symbol.for("react.memo_cache_sentinel")?(D=e=>{if(x(""),null===e)return E(null),void C(null);try{E(e),C(e.path)}catch(M){const t=M;x((0,Tn.cleanError)(t))}},t[6]=D):D=t[6];const O=D;let M;t[7]===Symbol.for("react.memo_cache_sentinel")?(M=e=>{if(x(""),!e)return A(null),void T(null);try{A(e),T(e.path)}catch(N){const t=N;x((0,Tn.cleanError)(t))}},t[7]=M):M=t[7];const F=M;let N;t[8]!==i||t[9]!==c||t[10]!==v||t[11]!==y||t[12]!==P||t[13]!==I||t[14]!==o||t[15]!==s||t[16]!==m?(N=async()=>{x("");try{await m({profile:s,updates:{displayName:y.trimEnd(),description:v.trimEnd()},newUserAvatar:P,newUserBanner:I}),c.close((()=>o?.())),Ds.show(i({id:"oHq9L3"}))}catch(V){const t=V;Mt.logger.error("Failed to update user profile",{message:String(t)})}},t[8]=i,t[9]=c,t[10]=v,t[11]=y,t[12]=P,t[13]=I,t[14]=o,t[15]=s,t[16]=m,t[17]=N):N=t[17];const H=N;let V;t[18]!==y?(V=(0,Eu.isOverMaxGraphemeCount)({text:y,maxCount:Vy}),t[18]=y,t[19]=V):V=t[19];const z=V;let U;t[20]!==v?(U=(0,Eu.isOverMaxGraphemeCount)({text:v,maxCount:zy}),t[20]=v,t[21]=U):U=t[21];const W=U;let G;t[22]!==i||t[23]!==r?(G=()=>(0,bt.jsx)(ao.Button,{label:i({id:"dEgA5A"}),onPress:r,size:"small",color:"primary",variant:"ghost",style:[qs.atoms.rounded_full],testID:"editProfileCancelBtn",children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})}),t[22]=i,t[23]=r,t[24]=G):G=t[24];const q=G;let Q;t[25]!==i||t[26]!==W||t[27]!==L||t[28]!==z||t[29]!==f||t[30]!==H||t[31]!==l.atoms.text_contrast_low?(Q=()=>(0,bt.jsxs)(ao.Button,{label:i({id:"tfDRzk"}),onPress:H,disabled:!L||f||z||W,size:"small",color:"primary",variant:"ghost",style:[qs.atoms.rounded_full],testID:"editProfileSaveBtn",children:[(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md,!L&&l.atoms.text_contrast_low],children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),f&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),t[25]=i,t[26]=W,t[27]=L,t[28]=z,t[29]=f,t[30]=H,t[31]=l.atoms.text_contrast_low,t[32]=Q):Q=t[32];const K=Q;let Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te;return t[33]!==i?(Z=i({id:"9OpVZg"}),t[33]=i,t[34]=Z):Z=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(Y=[qs.atoms.overflow_hidden],$=[qs.atoms.px_0,qs.atoms.pt_0],t[35]=Y,t[36]=$):(Y=t[35],$=t[36]),t[37]===Symbol.for("react.memo_cache_sentinel")?(X=(0,bt.jsx)(Qs.HeaderText,{children:(0,bt.jsx)(dt.Trans,{id:"9OpVZg"})}),t[37]=X):X=t[37],t[38]!==q||t[39]!==K?(J=(0,bt.jsx)(Qs.Header,{renderLeft:q,renderRight:K,children:X}),t[38]=q,t[39]=K,t[40]=J):J=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(ee=[qs.atoms.relative],t[41]=ee):ee=t[41],t[42]!==w?(te=(0,bt.jsx)(Ny,{banner:w,onSelectNewBanner:F}),t[42]=w,t[43]=te):te=t[43],t[44]!==l.atoms.bg.backgroundColor?(se=[qs.atoms.absolute,{top:80,left:20,width:84,height:84,borderWidth:2,borderRadius:42,borderColor:l.atoms.bg.backgroundColor}],t[44]=l.atoms.bg.backgroundColor,t[45]=se):se=t[45],t[46]!==k?(oe=(0,bt.jsx)(Gi.EditableUserAvatar,{size:80,avatar:k,onSelectNewAvatar:O}),t[46]=k,t[47]=oe):oe=t[47],t[48]!==se||t[49]!==oe?(ne=(0,bt.jsx)(Fs.default,{style:se,children:oe}),t[48]=se,t[49]=oe,t[50]=ne):ne=t[50],t[51]!==te||t[52]!==ne?(ae=(0,bt.jsxs)(Fs.default,{style:ee,children:[te,ne]}),t[51]=te,t[52]=ne,t[53]=ae):ae=t[53],t[54]!==p||t[55]!==h?(re=p&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_xl],children:(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(h)})}),t[54]=p,t[55]=h,t[56]=re):re=t[56],t[57]!==g?(ie=""!==g&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_xl],children:(0,bt.jsx)(Dy.ErrorMessage,{message:g})}),t[57]=g,t[58]=ie):ie=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(le=[qs.atoms.mt_4xl,qs.atoms.px_xl,qs.atoms.gap_xl],t[59]=le):le=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"pfa8F0"})}),t[60]=ce):ce=t[60],t[61]!==i?(de=i({id:"pfa8F0"}),t[61]=i,t[62]=de):de=t[62],t[63]!==i?(ue=i({id:"fYOMol"}),t[63]=i,t[64]=ue):ue=t[64],t[65]!==y||t[66]!==de||t[67]!==ue?(me=(0,bt.jsx)(Qs.Input,{defaultValue:y,onChangeText:b,label:de,placeholder:ue,testID:"editProfileDisplayNameInput"}),t[65]=y,t[66]=de,t[67]=ue,t[68]=me):me=t[68],t[69]!==z||t[70]!==me?(he=(0,bt.jsx)(mo.Root,{isInvalid:z,children:me}),t[69]=z,t[70]=me,t[71]=he):he=t[71],t[72]!==z||t[73]!==l.palette?(pe=z&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.mt_xs,qs.atoms.font_semi_bold,{color:l.palette.negative_400}],children:(0,bt.jsx)(dt.Trans,{id:"tx45L5",values:{DISPLAY_NAME_MAX_GRAPHEMES:Vy}})}),t[72]=z,t[73]=l.palette,t[74]=pe):pe=t[74],t[75]!==he||t[76]!==pe?(fe=(0,bt.jsxs)(Fs.default,{children:[ce,he,pe]}),t[75]=he,t[76]=pe,t[77]=fe):fe=t[77],t[78]!==i||t[79]!==y||t[80]!==_||t[81]!==u.isVerified||t[82]!==u.role?(ge=u.isVerified&&"default"===u.role&&y!==_&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"YApPSH",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:i({id:"XCWG6Q"}),to:Vt.urls.website.blog.initialVerificationAnnouncement})}})}),t[78]=i,t[79]=y,t[80]=_,t[81]=u.isVerified,t[82]=u.role,t[83]=ge):ge=t[83],t[84]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"Nu4oKW"})}),t[84]=xe):xe=t[84],t[85]!==i?(_e=i({id:"Nu4oKW"}),t[85]=i,t[86]=_e):_e=t[86],t[87]!==i?(ye=i({id:"HgALhk"}),t[87]=i,t[88]=ye):ye=t[88],t[89]!==v||t[90]!==_e||t[91]!==ye?(be=(0,bt.jsx)(Qs.Input,{defaultValue:v,onChangeText:S,multiline:!0,label:_e,placeholder:ye,testID:"editProfileDescriptionInput"}),t[89]=v,t[90]=_e,t[91]=ye,t[92]=be):be=t[92],t[93]!==W||t[94]!==be?(je=(0,bt.jsx)(mo.Root,{isInvalid:W,children:be}),t[93]=W,t[94]=be,t[95]=je):je=t[95],t[96]!==W||t[97]!==l.palette?(ve=W&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.mt_xs,qs.atoms.font_semi_bold,{color:l.palette.negative_400}],children:(0,bt.jsx)(dt.Trans,{id:"z+VcXS",values:{DESCRIPTION_MAX_GRAPHEMES:zy}})}),t[96]=W,t[97]=l.palette,t[98]=ve):ve=t[98],t[99]!==je||t[100]!==ve?(Se=(0,bt.jsxs)(Fs.default,{children:[xe,je,ve]}),t[99]=je,t[100]=ve,t[101]=Se):Se=t[101],t[102]!==fe||t[103]!==ge||t[104]!==Se?(we=(0,bt.jsxs)(Fs.default,{style:le,children:[fe,ge,Se]}),t[102]=fe,t[103]=ge,t[104]=Se,t[105]=we):we=t[105],t[106]!==Z||t[107]!==J||t[108]!==ae||t[109]!==re||t[110]!==ie||t[111]!==we?(Te=(0,bt.jsxs)(Qs.ScrollableInner,{label:Z,style:Y,contentContainerStyle:$,header:J,children:[ae,re,ie,we]}),t[106]=Z,t[107]=J,t[108]=ae,t[109]=re,t[110]=ie,t[111]=we,t[112]=Te):Te=t[112],Te}var Gy=s(59857);function qy(e){const t=(0,n.c)(73),{profile:s}=e,o=(0,qs.useTheme)(),{_:a,i18n:r}=(0,dt.useLingui)(),i=s.followsCount||0;let l;t[0]!==r||t[1]!==i?(l=(0,Bc.formatCount)(r,i),t[0]=r,t[1]=i,t[2]=l):l=t[2];const c=l,d=s.followersCount||0;let u;t[3]!==r||t[4]!==d?(u=(0,Bc.formatCount)(r,d),t[3]=r,t[4]=d,t[5]=u):u=t[5];const m=u;let h;t[6]!==r||t[7]!==s.followersCount?(h=r._({id:"h2wkpN",values:{0:s.followersCount||0}}),t[6]=r,t[7]=s.followersCount,t[8]=h):h=t[8];const p=h;let f;t[9]!==r||t[10]!==s.followsCount?(f=r._({id:"DabnlM",values:{0:s.followsCount||0}}),t[9]=r,t[10]=s.followsCount,t[11]=f):f=t[11];const g=f;let x,_,y;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],t[12]=x):x=t[12],t[13]!==o.atoms.text?(_=[qs.atoms.flex_row,o.atoms.text],t[13]=o.atoms.text,t[14]=_):_=t[14],t[15]!==s?(y=(0,Oa.makeProfileLink)(s,"followers"),t[15]=s,t[16]=y):y=t[16];const b=`${s.followersCount||0} ${p}`;let j,v,S,w,T,k,C;t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.font_semi_bold,qs.atoms.text_md],t[17]=j):j=t[17],t[18]!==m?(v=(0,bt.jsxs)(co.Text,{style:j,children:[m," "]}),t[18]=m,t[19]=v):v=t[19],t[20]!==o.atoms.text_contrast_medium?(S=[o.atoms.text_contrast_medium,qs.atoms.text_md],t[20]=o.atoms.text_contrast_medium,t[21]=S):S=t[21],t[22]!==p||t[23]!==S?(w=(0,bt.jsx)(co.Text,{style:S,children:p}),t[22]=p,t[23]=S,t[24]=w):w=t[24],t[25]!==b||t[26]!==v||t[27]!==w||t[28]!==_||t[29]!==y?(T=(0,bt.jsxs)(io.InlineLinkText,{testID:"profileHeaderFollowersButton",style:_,to:y,label:b,children:[v,w]}),t[25]=b,t[26]=v,t[27]=w,t[28]=_,t[29]=y,t[30]=T):T=t[30],t[31]!==o.atoms.text?(k=[qs.atoms.flex_row,o.atoms.text],t[31]=o.atoms.text,t[32]=k):k=t[32],t[33]!==s?(C=(0,Oa.makeProfileLink)(s,"follows"),t[33]=s,t[34]=C):C=t[34];const I=s.followsCount||0;let A,P,E,L,R,B,D;t[35]!==a||t[36]!==I?(A=a({id:"q5Y+QK",values:{0:I}}),t[35]=a,t[36]=I,t[37]=A):A=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.font_semi_bold,qs.atoms.text_md],t[38]=P):P=t[38],t[39]!==c?(E=(0,bt.jsxs)(co.Text,{style:P,children:[c," "]}),t[39]=c,t[40]=E):E=t[40],t[41]!==o.atoms.text_contrast_medium?(L=[o.atoms.text_contrast_medium,qs.atoms.text_md],t[41]=o.atoms.text_contrast_medium,t[42]=L):L=t[42],t[43]!==g||t[44]!==L?(R=(0,bt.jsx)(co.Text,{style:L,children:g}),t[43]=g,t[44]=L,t[45]=R):R=t[45],t[46]!==k||t[47]!==C||t[48]!==A||t[49]!==E||t[50]!==R?(B=(0,bt.jsxs)(io.InlineLinkText,{testID:"profileHeaderFollowsButton",style:k,to:C,label:A,children:[E,R]}),t[46]=k,t[47]=C,t[48]=A,t[49]=E,t[50]=R,t[51]=B):B=t[51],t[52]!==o.atoms.text?(D=[qs.atoms.font_semi_bold,o.atoms.text,qs.atoms.text_md],t[52]=o.atoms.text,t[53]=D):D=t[53];const O=s.postsCount||0;let M,F,N,H,V,z;return t[54]!==r||t[55]!==O?(M=(0,Bc.formatCount)(r,O),t[54]=r,t[55]=O,t[56]=M):M=t[56],t[57]!==o.atoms.text_contrast_medium?(F=[o.atoms.text_contrast_medium,qs.atoms.font_normal,qs.atoms.text_md],t[57]=o.atoms.text_contrast_medium,t[58]=F):F=t[58],t[59]!==r||t[60]!==s.postsCount?(N=r._({id:"4e0yr3",values:{0:s.postsCount||0}}),t[59]=r,t[60]=s.postsCount,t[61]=N):N=t[61],t[62]!==F||t[63]!==N?(H=(0,bt.jsx)(co.Text,{style:F,children:N}),t[62]=F,t[63]=N,t[64]=H):H=t[64],t[65]!==D||t[66]!==M||t[67]!==H?(V=(0,bt.jsxs)(co.Text,{style:D,children:[M," ",H]}),t[65]=D,t[66]=M,t[67]=H,t[68]=V):V=t[68],t[69]!==T||t[70]!==B||t[71]!==V?(z=(0,bt.jsxs)(Fs.default,{style:x,pointerEvents:"box-none",children:[T,B,V]}),t[69]=T,t[70]=B,t[71]=V,t[72]=z):z=t[72],z}var Qy=s(2763),Ky=s(21934);function Zy(e){const t=(0,n.c)(14),{moderation:s,style:o}=e;let a,r,i,l,c,d,u;if(t[0]!==s||t[1]!==o){d=Symbol.for("react.early_return_sentinel");{const e=s.ui("profileView");e.alert||e.inform?(a=sm.Row,r="lg",i=o,l=e.alerts.filter(Wu.unique).map($y),c=e.informs.filter(Wu.unique).map(Yy)):d=null}t[0]=s,t[1]=o,t[2]=a,t[3]=r,t[4]=i,t[5]=l,t[6]=c,t[7]=d}else a=t[2],r=t[3],i=t[4],l=t[5],c=t[6],d=t[7];return d!==Symbol.for("react.early_return_sentinel")?d:(t[8]!==a||t[9]!==r||t[10]!==i||t[11]!==l||t[12]!==c?(u=(0,bt.jsxs)(a,{size:r,style:i,children:[l,c]}),t[8]=a,t[9]=r,t[10]=i,t[11]=l,t[12]=c,t[13]=u):u=t[13],u)}function Yy(e){return(0,bt.jsx)(sm.Label,{size:"lg",cause:e},(0,Wu.getModerationCauseKey)(e))}function $y(e){return(0,bt.jsx)(sm.Label,{size:"lg",cause:e},(0,Wu.getModerationCauseKey)(e))}const Xy=lt.createContext(null);function Jy(){const e=(0,lt.useContext)(Xy);if(r.IS_NATIVE){if(!e)throw new Error("usePagerHeaderContext must be used within a HeaderProvider");return e}return null}function eb(e){const t=(0,n.c)(7),{children:s,style:o}=e,a=Jy();if(!a||!r.IS_IOS){let e;return t[0]!==s||t[1]!==o?(e=(0,bt.jsx)(Fs.default,{style:o,children:s}),t[0]=s,t[1]=o,t[2]=e):e=t[2],e}const{scrollY:i}=a;let l;return t[3]!==s||t[4]!==i||t[5]!==o?(l=(0,bt.jsx)(sb,{scrollY:i,style:o,children:s}),t[3]=s,t[4]=i,t[5]=o,t[6]=l):l=t[6],l}Xy.displayName="PagerHeaderContext";const tb={code:"function GrowableAvatarTsx1(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{scale:interpolate(scrollY.get(),[-150,0],[1.2,1],{extrapolateRight:Extrapolation.CLAMP})}]};}"};function sb(e){const t=(0,n.c)(7),{scrollY:s,children:o,style:a}=e,r=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:(0,yn.interpolate)(s.get(),[-150,0],[1.2,1],{extrapolateRight:yn.Extrapolation.CLAMP})}]});return e.__closure={interpolate:yn.interpolate,scrollY:s,Extrapolation:yn.Extrapolation},e.__workletHash=5068968475228,e.__initData=tb,e}());let i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i={transformOrigin:"bottom left"},t[0]=i):i=t[0],t[1]!==r||t[2]!==a?(l=[a,i,r],t[1]=r,t[2]=a,t[3]=l):l=t[3],t[4]!==o||t[5]!==l?(c=(0,bt.jsx)(yn.default.View,{style:l,children:o}),t[4]=o,t[5]=l,t[6]=c):c=t[6],c}var ob=s(51949),nb=s(82465);const ab=50,rb="profile-feedgens",ib=e=>[rb,e];function lb(e){return e.cursor}function cb(e,t){return(t.likeCount||0)-(e.likeCount||0)}const db=yn.default.createAnimatedComponent(ob.default);function ub(e){const t=(0,n.c)(15),{backButton:s,children:o,onPress:a,bannerRef:i}=e,l=Jy();if(!l||!r.IS_IOS){let e,n,r,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.w_full,qs.atoms.h_full],t[0]=e):e=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.w_full,qs.atoms.h_full],t[1]=n):n=t[1],t[2]!==i||t[3]!==o?(r=(0,bt.jsx)(yn.default.View,{ref:i,style:n,children:o}),t[2]=i,t[3]=o,t[4]=r):r=t[4],t[5]!==s||t[6]!==a||t[7]!==r?(l=(0,bt.jsxs)(ln.default,{onPress:a,accessibilityRole:"image",style:e,children:[r,s]}),t[5]=s,t[6]=a,t[7]=r,t[8]=l):l=t[8],l}const{scrollY:c}=l;let d;return t[9]!==s||t[10]!==i||t[11]!==o||t[12]!==a||t[13]!==c?(d=(0,bt.jsx)(gb,{scrollY:c,backButton:s,onPress:a,bannerRef:i,children:o}),t[9]=s,t[10]=i,t[11]=o,t[12]=a,t[13]=c,t[14]=d):d=t[14],d}const mb={code:"function GrowableBannerTsx1(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{scale:interpolate(scrollY.get(),[-150,0],[2,1],{extrapolateRight:Extrapolation.CLAMP})}]};}"},hb={code:"function GrowableBannerTsx2(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{intensity:interpolate(scrollY.get(),[-300,-65,-15],[50,40,0],Extrapolation.CLAMP)};}"},pb={code:'function GrowableBannerTsx3(){const{scrollY,interpolate,Extrapolation}=this.__closure;const scrollYValue=scrollY.get();return{display:scrollYValue<0?"flex":"none",opacity:interpolate(scrollYValue,[-60,-15],[1,0],Extrapolation.CLAMP),transform:[{translateY:interpolate(scrollYValue,[-150,0],[-75,0])},{rotate:"90deg"}]};}'},fb={code:"function GrowableBannerTsx4(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{translateY:interpolate(scrollY.get(),[-150,10],[-150,10],{extrapolateRight:Extrapolation.CLAMP})}]};}"};function gb(e){const t=(0,n.c)(45),{scrollY:s,backButton:o,children:a,onPress:i,bannerRef:l}=e,{top:c}=(0,ct.useSafeAreaInsets)(),d=function(){const e=(0,n.c)(4);let t,s,o,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:[Jr.RQKEY_ROOT]},e[0]=t):t=e[0];e[1]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:[rb]},e[1]=s):s=e[1];e[2]===Symbol.for("react.memo_cache_sentinel")?(o={queryKey:[ar]},e[2]=o):o=e[2];e[3]===Symbol.for("react.memo_cache_sentinel")?(a={queryKey:[$x.RQKEY_ROOT]},e[3]=a):a=e[3];return[(0,nb.useIsFetching)(t),(0,nb.useIsFetching)(s),(0,nb.useIsFetching)(o),(0,nb.useIsFetching)(a)].some(xb)}();let u;t[0]!==d||t[1]!==s?(u={isFetching:d,scrollY:s},t[0]=d,t[1]=s,t[2]=u):u=t[2];const m=function(e){const{isFetching:t,scrollY:s}=e,[o,a]=(0,lt.useState)(!1),r=function(e,t){const s=(0,n.c)(4),[o,a]=(0,lt.useState)(e),[r,i]=(0,lt.useState)(!1);let l,c;s[0]!==t||s[1]!==r?(l=()=>{if(r){const e=setTimeout((()=>i(!1)),t);return()=>clearTimeout(e)}},c=[r,t],s[0]=t,s[1]=r,s[2]=l,s[3]=c):(l=s[2],c=s[3]);if((0,lt.useEffect)(l,c),e!==o)return i(o),a(e),!!o||e;return!!r||e}(o,10);(0,yn.useAnimatedReaction)(function(){const e=()=>s.get()<-5;return e.__closure={scrollY:s},e.__workletHash=0xe0bb91e94cb,e.__initData=_b,e}(),function(){const e=function(e,t){e!==t&&(0,yn.runOnJS)(a)(e)};return e.__closure={runOnJS:yn.runOnJS,setIsOverscrolled:a},e.__workletHash=5183372298461,e.__initData=yb,e}(),[s]);const[i,l]=(0,lt.useState)(t);t&&!i&&l(!0);t||!i||r||l(!1);return i}(u),h=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:(0,yn.interpolate)(s.get(),[-150,0],[2,1],{extrapolateRight:yn.Extrapolation.CLAMP})}]});return e.__closure={interpolate:yn.interpolate,scrollY:s,Extrapolation:yn.Extrapolation},e.__workletHash=0xcfee82811e6,e.__initData=mb,e}()),p=(0,yn.useAnimatedProps)(function(){const e=()=>({intensity:(0,yn.interpolate)(s.get(),[-300,-65,-15],[50,40,0],yn.Extrapolation.CLAMP)});return e.__closure={interpolate:yn.interpolate,scrollY:s,Extrapolation:yn.Extrapolation},e.__workletHash=8363104268195,e.__initData=hb,e}()),f=(0,yn.useAnimatedStyle)(function(){const e=function(){const e=s.get();return{display:e<0?"flex":"none",opacity:(0,yn.interpolate)(e,[-60,-15],[1,0],yn.Extrapolation.CLAMP),transform:[{translateY:(0,yn.interpolate)(e,[-150,0],[-75,0])},{rotate:"90deg"}]}};return e.__closure={scrollY:s,interpolate:yn.interpolate,Extrapolation:yn.Extrapolation},e.__workletHash=0xc87bf69ccad,e.__initData=pb,e}()),g=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:(0,yn.interpolate)(s.get(),[-150,10],[-150,10],{extrapolateRight:yn.Extrapolation.CLAMP})}]});return e.__closure={interpolate:yn.interpolate,scrollY:s,Extrapolation:yn.Extrapolation},e.__workletHash=1954760959182,e.__initData=fb,e}());let x,_,y,b,j,v,S,w,T,k,C;t[3]===Symbol.for("react.memo_cache_sentinel")?(x={left:0,right:0,bottom:0},_={height:150},y={transformOrigin:"bottom"},t[3]=x,t[4]=_,t[5]=y):(x=t[3],_=t[4],y=t[5]),t[6]!==h?(b=[qs.atoms.absolute,x,_,y,h],t[6]=h,t[7]=b):b=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.w_full,qs.atoms.h_full],t[8]=j):j=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.w_full,qs.atoms.h_full],t[9]=v):v=t[9],t[10]!==l||t[11]!==a?(S=(0,bt.jsx)(yn.default.View,{ref:l,collapsable:!1,style:v,children:a}),t[10]=l,t[11]=a,t[12]=S):S=t[12],t[13]!==i||t[14]!==S?(w=(0,bt.jsx)(ln.default,{onPress:i,accessibilityRole:"image",style:j,children:S}),t[13]=i,t[14]=S,t[15]=w):w=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.absolute,qs.atoms.inset_0],t[16]=T):T=t[16],t[17]!==p?(k=(0,bt.jsx)(db,{pointerEvents:"none",style:T,tint:"dark",animatedProps:p}),t[17]=p,t[18]=k):k=t[18],t[19]!==k||t[20]!==b||t[21]!==w?(C=(0,bt.jsxs)(yn.default.View,{style:b,children:[w,k]}),t[19]=k,t[20]=b,t[21]=w,t[22]=C):C=t[22];const I=c-(r.IS_IOS?15:0);let A,P;t[23]!==I?(A=[qs.atoms.absolute,qs.atoms.inset_0,{top:I},qs.atoms.justify_center,qs.atoms.align_center],t[23]=I,t[24]=A):A=t[24],t[25]!==f?(P=[f],t[25]=f,t[26]=P):P=t[26];const E=m?"spin":"stop";let L,R,B,D,O,M;return t[27]!==m||t[28]!==E?(L=(0,bt.jsx)(vn.default,{size:"large",color:"white",animating:m,hidesWhenStopped:!1},E),t[27]=m,t[28]=E,t[29]=L):L=t[29],t[30]!==P||t[31]!==L?(R=(0,bt.jsx)(yn.default.View,{style:P,children:L}),t[30]=P,t[31]=L,t[32]=R):R=t[32],t[33]!==A||t[34]!==R?(B=(0,bt.jsx)(Fs.default,{pointerEvents:"none",style:A,children:R}),t[33]=A,t[34]=R,t[35]=B):B=t[35],t[36]!==g?(D=[g],t[36]=g,t[37]=D):D=t[37],t[38]!==o||t[39]!==D?(O=(0,bt.jsx)(yn.default.View,{style:D,children:o}),t[38]=o,t[39]=D,t[40]=O):O=t[40],t[41]!==C||t[42]!==B||t[43]!==O?(M=(0,bt.jsxs)(bt.Fragment,{children:[C,B,O]}),t[41]=C,t[42]=B,t[43]=O,t[44]=M):M=t[44],M}function xb(e){return e}const _b={code:"function GrowableBannerTsx5(){const{scrollY}=this.__closure;return scrollY.get()<-5;}"},yb={code:"function GrowableBannerTsx6(value,prevValue){const{runOnJS,setIsOverscrolled}=this.__closure;if(value!==prevValue){runOnJS(setIsOverscrolled)(value);}}"};function bb(){return null}const jb={code:"function ShellTsx1(){const{measure,aviRef,runOnJS,_openLightbox,avatar,type_0}=this.__closure;const rect=measure(aviRef);runOnJS(_openLightbox)(avatar,rect,type_0);}"},vb={code:'function ShellTsx2(){const{measure,bannerRef,runOnJS,_openLightbox,banner}=this.__closure;const rect_0=measure(bannerRef);runOnJS(_openLightbox)(banner,rect_0,"image");}'};let Sb=e=>{const t=(0,n.c)(90),{children:s,profile:o,moderation:a,hideBackButton:i,isPlaceholderProfile:l}=e,c=void 0!==i&&i,d=(0,qs.useTheme)(),u=(0,Xo.useAnalytics)(),{currentAccount:m}=(0,Gt.useSession)(),{_:h}=(0,dt.useLingui)(),{openLightbox:p}=(0,Xt.useLightboxControls)(),f=(0,Ns.useNavigation)(),{top:g}=(0,ct.useSafeAreaInsets)(),x=(0,im.useHaptics)(),_=(0,Qs.useDialogControl)(),y=(0,yn.useAnimatedRef)(),b=(0,yn.useAnimatedRef)();let j;t[0]!==f?(j=()=>{f.canGoBack()?f.goBack():f.navigate("Home")},t[0]=f,t[1]=j):j=t[1];const v=j;let S;t[2]!==p?(S=(e,t,s)=>{const o=void 0===s?"circle-avi":s;p({images:[{uri:e,thumbUri:e,thumbRect:t,dimensions:"circle-avi"===o||"rect-avi"===o?{height:1e3,width:1e3}:{width:3e3,height:1e3},thumbDimensions:null,type:o}],index:0})},t[2]=p,t[3]=S):S=t[3];const w=S,T=m?.did===o.did,k=(0,Ra.useActorStatus)(o);let C,I,A;t[4]!==u||t[5]!==k.isActive||t[6]!==o.did?(C=()=>{k.isActive&&u.metric("live:view:profile",{subject:o.did})},I=[u,k.isActive,o.did],t[4]=u,t[5]=k.isActive,t[6]=o.did,t[7]=C,t[8]=I):(C=t[7],I=t[8]),(0,lt.useEffect)(C,I),t[9]!==w||t[10]!==y||t[11]!==u||t[12]!==k.isActive||t[13]!==_||t[14]!==a||t[15]!==x||t[16]!==o.associated?.labeler||t[17]!==o.avatar||t[18]!==o.did?(A=()=>{if(k.isActive)x("Light"),u.metric("live:card:open",{subject:o.did,from:"profile"}),_.open();else{const e=a.ui("avatar"),t=o.avatar,s=o.associated?.labeler?"rect-avi":"circle-avi";!t||e.blur&&e.noOverride||(0,yn.runOnUI)(function(){const e=function(){const e=(0,yn.measure)(y);(0,yn.runOnJS)(w)(t,e,s)};return e.__closure={measure:yn.measure,aviRef:y,runOnJS:yn.runOnJS,_openLightbox:w,avatar:t,type_0:s},e.__workletHash=0xe8513060f7b,e.__initData=jb,e}())()}},t[9]=w,t[10]=y,t[11]=u,t[12]=k.isActive,t[13]=_,t[14]=a,t[15]=x,t[16]=o.associated?.labeler,t[17]=o.avatar,t[18]=o.did,t[19]=A):A=t[19];const P=A;let E;t[20]!==w||t[21]!==b||t[22]!==a||t[23]!==o.banner?(E=()=>{const e=a.ui("banner"),t=o.banner;!t||e.blur&&e.noOverride||(0,yn.runOnUI)(function(){const e=function(){const e=(0,yn.measure)(b);(0,yn.runOnJS)(w)(t,e,"image")};return e.__closure={measure:yn.measure,bannerRef:b,runOnJS:yn.runOnJS,_openLightbox:w,banner:t},e.__workletHash=0xf6737710b13,e.__initData=vb,e}())()},t[20]=w,t[21]=b,t[22]=a,t[23]=o.banner,t[24]=E):E=t[24];const L=E,R=d.atoms.bg;let B,D;t[25]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.relative,{height:150}],B=(0,bt.jsx)(bb,{}),t[25]=B,t[26]=D):(B=t[25],D=t[26]);const O=l?void 0:L;let M,F,N,H,V,z;t[27]!==h||t[28]!==c||t[29]!==v||t[30]!==g?(M=!c&&(0,bt.jsx)(ao.Button,{testID:"profileHeaderBackBtn",onPress:v,hitSlop:Vt.BACK_HITSLOP,label:h({id:"iH8pgl"}),style:[qs.atoms.absolute,qs.atoms.pointer,{top:(0,qs.platform)({web:10,default:g}),left:(0,qs.platform)({web:18,default:12})}],children:wb}),t[27]=h,t[28]=c,t[29]=v,t[30]=g,t[31]=M):M=t[31],t[32]!==l||t[33]!==a||t[34]!==o.associated?.labeler||t[35]!==o.banner?(F=l?(0,bt.jsx)(mi,{width:"100%",height:"100%",style:{borderRadius:0}}):(0,bt.jsx)(Ny,{type:o.associated?.labeler?"labeler":"default",banner:o.banner,moderation:a.ui("banner")}),t[32]=l,t[33]=a,t[34]=o.associated?.labeler,t[35]=o.banner,t[36]=F):F=t[36],t[37]!==b||t[38]!==O||t[39]!==M||t[40]!==F?(N=(0,bt.jsxs)(Fs.default,{pointerEvents:r.IS_IOS?"auto":"box-none",style:D,children:[B,(0,bt.jsx)(ub,{onPress:O,bannerRef:b,backButton:M,children:F})]}),t[37]=b,t[38]=O,t[39]=M,t[40]=F,t[41]=N):N=t[41],t[42]!==T||t[43]!==l||t[44]!==a||t[45]!==o.labels?(H=!l&&(T?(0,bt.jsx)(Ju,{type:"account",labels:o.labels,style:[qs.atoms.px_lg,qs.atoms.pt_xs,qs.atoms.pb_sm,r.IS_IOS?qs.atoms.pointer_events_auto:{pointerEvents:"box-none"}]}):(0,bt.jsx)(Zy,{moderation:a,style:[qs.atoms.px_lg,qs.atoms.pt_xs,qs.atoms.pb_sm,r.IS_IOS?qs.atoms.pointer_events_auto:{pointerEvents:"box-none"}]})),t[42]=T,t[43]=l,t[44]=a,t[45]=o.labels,t[46]=H):H=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.absolute,{top:104,left:10}],t[47]=V):V=t[47],t[48]!==h||t[49]!==o.handle?(z=h({id:"gVbPjF",values:{0:o.handle}}),t[48]=h,t[49]=o.handle,t[50]=z):z=t[50];const U=k.isActive?3:2,W=k.isActive?d.palette.negative_500:d.atoms.bg.backgroundColor;let G;t[51]!==U||t[52]!==W?(G={width:94,height:94,borderWidth:U,borderColor:W},t[51]=U,t[52]=W,t[53]=G):G=t[53];const q=o.associated?.labeler&&qs.atoms.rounded_md;let Q;t[54]!==d.atoms.bg||t[55]!==G||t[56]!==q?(Q=[d.atoms.bg,qs.atoms.rounded_full,G,q],t[54]=d.atoms.bg,t[55]=G,t[56]=q,t[57]=Q):Q=t[57];const K=o.associated?.labeler?"labeler":"user",Z=k.isActive?88:90,Y=o.avatar;let $,X,J,ee,te,se,oe,ne;return t[58]!==a?($=a.ui("avatar"),t[58]=a,t[59]=$):$=t[59],t[60]!==o.avatar||t[61]!==K||t[62]!==Z||t[63]!==$?(X=(0,bt.jsx)(Gi.UserAvatar,{type:K,size:Z,avatar:Y,moderation:$,noBorder:!0}),t[60]=o.avatar,t[61]=K,t[62]=Z,t[63]=$,t[64]=X):X=t[64],t[65]!==k.isActive?(J=k.isActive&&(0,bt.jsx)(Qy.LiveIndicator,{size:"large"}),t[65]=k.isActive,t[66]=J):J=t[66],t[67]!==y||t[68]!==X||t[69]!==J?(ee=(0,bt.jsxs)(yn.default.View,{ref:y,collapsable:!1,children:[X,J]}),t[67]=y,t[68]=X,t[69]=J,t[70]=ee):ee=t[70],t[71]!==Q||t[72]!==ee?(te=(0,bt.jsx)(Fs.default,{style:Q,children:ee}),t[71]=Q,t[72]=ee,t[73]=te):te=t[73],t[74]!==P||t[75]!==z||t[76]!==te?(se=(0,bt.jsx)(eb,{style:V,children:(0,bt.jsx)(ln.default,{testID:"profileHeaderAviButton",onPress:P,accessibilityRole:"image",accessibilityLabel:z,accessibilityHint:"",children:te})}),t[74]=P,t[75]=z,t[76]=te,t[77]=se):se=t[77],t[78]!==T||t[79]!==k||t[80]!==_||t[81]!==o?(oe=k.isActive&&(T?(0,bt.jsx)(N_,{control:_,status:k,embed:k.embed}):(0,bt.jsx)(Ky.LiveStatusDialog,{control:_,status:k,embed:k.embed,profile:o})),t[78]=T,t[79]=k,t[80]=_,t[81]=o,t[82]=oe):oe=t[82],t[83]!==s||t[84]!==d.atoms.bg||t[85]!==N||t[86]!==H||t[87]!==se||t[88]!==oe?(ne=(0,bt.jsxs)(Fs.default,{style:R,pointerEvents:r.IS_IOS?"auto":"box-none",children:[N,s,H,se,oe]}),t[83]=s,t[84]=d.atoms.bg,t[85]=N,t[86]=H,t[87]=se,t[88]=oe,t[89]=ne):ne=t[89],ne};function wb(e){const{hovered:t}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,{width:31,height:31,backgroundColor:Wl.utils.alpha("#000",.5)},t&&{backgroundColor:Wl.utils.alpha("#000",.75)}],children:(0,bt.jsx)(Al.ArrowLeft_Stroke2_Corner0_Rounded,{size:"lg",fill:"white"})})}Sb=(0,lt.memo)(Sb);const Tb={code:'function AccordionAnimationTsx1(){const{isExpanded,heightValue,withTiming,duration,Easing}=this.__closure;const targetHeight=isExpanded?heightValue.get():0;return{height:withTiming(targetHeight,{duration:duration,easing:Easing.out(Easing.cubic)}),overflow:"hidden"};}'};function kb(e){const t=(0,n.c)(11),{isExpanded:s,duration:o,style:a,children:r}=e,i=void 0===o?300:o,l=(0,yn.useSharedValue)(0),c=(0,yn.useAnimatedStyle)(function(){const e=function(){const e=s?l.get():0;return{height:(0,yn.withTiming)(e,{duration:i,easing:yn.Easing.out(yn.Easing.cubic)}),overflow:"hidden"}};return e.__closure={isExpanded:s,heightValue:l,withTiming:yn.withTiming,duration:i,Easing:yn.Easing},e.__workletHash=0xd1e69606963,e.__initData=Tb,e}());let d;t[0]!==l?(d=e=>{0===l.get()&&l.set(e.nativeEvent.layout.height)},t[0]=l,t[1]=d):d=t[1];const u=d;let m,h,p;return t[2]!==c||t[3]!==a?(m=[c,a],t[2]=c,t[3]=a,t[4]=m):m=t[4],t[5]!==r||t[6]!==u?(h=(0,bt.jsx)(Fs.default,{onLayout:u,children:r}),t[5]=r,t[6]=u,t[7]=h):h=t[7],t[8]!==m||t[9]!==h?(p=(0,bt.jsx)(yn.default.View,{style:m,children:h}),t[8]=m,t[9]=h,t[10]=p):p=t[10],p}function Cb(e){const t=(0,n.c)(9),{isExpanded:s,duration:o,style:a,children:i}=e,l=void 0===o?200:o;if(!s)return null;let c,d,u;return t[0]!==l?(c=yn.FadeInUp.duration(l),t[0]=l,t[1]=c):c=t[1],t[2]!==l?(d=yn.FadeOutUp.duration(l/2),t[2]=l,t[3]=d):d=t[3],t[4]!==i||t[5]!==a||t[6]!==c||t[7]!==d?(u=(0,bt.jsx)(yn.default.View,{style:a,entering:c,exiting:d,pointerEvents:r.IS_IOS?"auto":"box-none",children:i}),t[4]=i,t[5]=a,t[6]=c,t[7]=d,t[8]=u):u=t[8],u}function Ib(e){const t=(0,n.c)(2);let s;return t[0]!==e?(s=r.IS_WEB?(0,bt.jsx)(kb,Object.assign({},e)):(0,bt.jsx)(Cb,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}function Ab(e){const t=(0,n.c)(10),{isExpanded:s,actorDid:o}=e,{allProfiles:a,filteredProfiles:i,onDismiss:l,isLoading:c,error:d}=function(e){const{gtMobile:t}=(0,qs.useBreakpoints)(),s=(0,ds.useModerationOpts)(),o=t?4:12,{isLoading:n,data:a,error:r}=(0,zi.useSuggestedFollowsByActorQuery)({did:e}),{data:i,fetchNextPage:l,hasNextPage:c,isFetchingNextPage:d}=(0,zi.useSuggestedFollowsQuery)({limit:25}),[u,m]=(0,lt.useState)(new Set),h=(0,lt.useCallback)((e=>{m((t=>new Set(t).add(e)))}),[]),p=(0,lt.useMemo)((()=>{const t=a?.suggestions??[],s=i?.pages.flatMap((e=>e.actors.map((t=>({actor:t,recId:e.recId})))))??[],o=new Set,n=[];for(const e of t)o.has(e.did)||(o.add(e.did),n.push({actor:e,recId:a?.recId}));for(const a of s)o.has(a.actor.did)||a.actor.did===e||(o.add(a.actor.did),n.push(a));return n}),[a?.suggestions,i?.pages,e,a?.recId]),f=(0,lt.useMemo)((()=>p.filter((e=>!u.has(e.actor.did)))),[p,u]);return(0,lt.useEffect)((()=>{s&&f.length<o&&c&&!d&&l()}),[f.length,o,c,d,l,s]),{allProfiles:p,filteredProfiles:f,onDismiss:h,isLoading:n,error:r}}(o);if(!a.length&&!c)return null;if(r.IS_ANDROID)return null;let u,m;return t[0]!==a.length||t[1]!==d||t[2]!==i||t[3]!==s||t[4]!==c||t[5]!==l?(u=(0,bt.jsx)(Ic,{isSuggestionsLoading:c,profiles:i,totalProfileCount:a.length,error:d,viewContext:"profileHeader",onDismiss:l,isVisible:s}),t[0]=a.length,t[1]=d,t[2]=i,t[3]=s,t[4]=c,t[5]=l,t[6]=u):u=t[6],t[7]!==s||t[8]!==u?(m=(0,bt.jsx)(Ib,{isExpanded:s,children:u}),t[7]=s,t[8]=u,t[9]=m):m=t[9],m}let Pb=e=>{const t=(0,n.c)(78),{profile:s,descriptionRT:o,moderationOpts:a,hideBackButton:i,isPlaceholderProfile:l}=e,c=void 0!==i&&i,d=(0,qs.useTheme)(),{gtMobile:u}=(0,qs.useBreakpoints)(),m=(0,Va.useProfileShadow)(s),{currentAccount:h}=(0,Gt.useSession)(),{_:p}=(0,dt.useLingui)();let f;t[0]!==a||t[1]!==m?(f=(0,Dn.moderateProfile)(m,a),t[0]=a,t[1]=m,t[2]=f):f=t[2];const g=f,[,x]=(0,Ut.useProfileBlockMutationQueue)(m),_=Zi.usePromptControl(),[y,b]=(0,lt.useState)(!1),j=m.viewer?.blocking||m.viewer?.blockedBy||m.viewer?.blockingByList;let v;t[3]!==p||t[4]!==x?(v=async()=>{try{await x(),Pd.show(p({id:"AGD0Zy"}))}catch(k){const t=k;"AbortError"!==t?.name&&(Mt.logger.error("Failed to unblock account",{message:t}),Pd.show(p({id:"HTQWov",values:{0:t.toString()}}),{type:"error"}))}},t[3]=p,t[4]=x,t[5]=v):v=t[5];const S=v,w=h?.did===m.did,{isActive:T}=(0,Ra.useActorStatus)(m);let k,C,I,A,P;t[6]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.px_lg,qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.overflow_hidden],t[6]=k):k=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(C=[{paddingLeft:90},qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_end,qs.atoms.gap_xs,qs.atoms.pb_sm,qs.atoms.flex_wrap],t[7]=C):C=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(I=()=>b(!0),A=()=>b(!1),t[8]=I,t[9]=A):(I=t[8],A=t[9]),t[10]!==g||t[11]!==a||t[12]!==m?(P=(0,bt.jsx)(Fs.default,{style:C,pointerEvents:r.IS_IOS?"auto":"box-none",children:(0,bt.jsx)(Eb,{profile:m,moderation:g,moderationOpts:a,onFollow:I,onUnfollow:A})}),t[10]=g,t[11]=a,t[12]=m,t[13]=P):P=t[13];const E=T?qs.atoms.pt_sm:qs.atoms.pt_2xs;let L,R;t[14]!==E?(L=[qs.atoms.flex_col,qs.atoms.gap_xs,qs.atoms.pb_sm,E],t[14]=E,t[15]=L):L=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.flex_1],t[16]=R):R=t[16];const B=u?qs.atoms.text_4xl:qs.atoms.text_3xl;let D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$;return t[17]!==d.atoms.text||t[18]!==B?(D=[d.atoms.text,B,qs.atoms.self_start,qs.atoms.font_bold,qs.atoms.leading_tight],t[17]=d.atoms.text,t[18]=B,t[19]=D):D=t[19],t[20]!==g||t[21]!==m.displayName||t[22]!==m.handle?(O=(0,Ma.sanitizeDisplayName)(m.displayName||(0,Fa.sanitizeHandle)(m.handle),g.ui("displayName")),t[20]=g,t[21]=m.displayName,t[22]=m.handle,t[23]=O):O=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.pl_xs,{marginTop:(0,qs.platform)({ios:2})}],t[24]=M):M=t[24],t[25]!==m?(F=(0,bt.jsx)(Fs.default,{style:M,children:(0,bt.jsx)(_x,{profile:m,size:"lg"})}),t[25]=m,t[26]=F):F=t[26],t[27]!==D||t[28]!==O||t[29]!==F?(N=(0,bt.jsx)(Fs.default,{style:R,children:(0,bt.jsxs)(co.Text,{emoji:!0,testID:"profileHeaderDisplayName",style:D,children:[O,F]})}),t[27]=D,t[28]=O,t[29]=F,t[30]=N):N=t[30],t[31]!==m?(H=(0,bt.jsx)(Gy.ProfileHeaderHandle,{profile:m}),t[31]=m,t[32]=H):H=t[32],t[33]!==L||t[34]!==N||t[35]!==H?(V=(0,bt.jsxs)(Fs.default,{style:L,children:[N,H]}),t[33]=L,t[34]=N,t[35]=H,t[36]=V):V=t[36],t[37]!==o||t[38]!==j||t[39]!==w||t[40]!==l||t[41]!==g||t[42]!==a||t[43]!==m?(z=!l&&!j&&(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_md,children:[(0,bt.jsx)(qy,{profile:m}),o&&!g.ui("profileView").blur?(0,bt.jsx)(Fs.default,{pointerEvents:"auto",children:(0,bt.jsx)(Yi.RichText,{testID:"profileHeaderDescription",style:[qs.atoms.text_md],numberOfLines:15,value:o,enableTags:!0,authorHandle:m.handle})}):void 0,m.associated?.germ&&(0,bt.jsx)(Cy,{germ:m.associated.germ,profile:m}),!w&&!j&&(0,vy.shouldShowKnownFollowers)(m.viewer?.knownFollowers)&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:(0,bt.jsx)(vy.KnownFollowers,{profile:m,moderationOpts:a})})]}),t[37]=o,t[38]=j,t[39]=w,t[40]=l,t[41]=g,t[42]=a,t[43]=m,t[44]=z):z=t[44],t[45]!==m?(U=(0,bt.jsx)(nx,{subject:m}),t[45]=m,t[46]=U):U=t[46],t[47]!==V||t[48]!==z||t[49]!==U||t[50]!==P?(W=(0,bt.jsxs)(Fs.default,{style:k,pointerEvents:r.IS_IOS?"auto":"box-none",children:[P,V,z,U]}),t[47]=V,t[48]=z,t[49]=U,t[50]=P,t[51]=W):W=t[51],t[52]!==p?(G=p({id:"tw0xVB"}),t[52]=p,t[53]=G):G=t[53],t[54]!==p?(q=p({id:"GlPXQJ"}),t[54]=p,t[55]=q):q=t[55],t[56]!==p||t[57]!==m.viewer?.blocking?(Q=m.viewer?.blocking?p({id:"tuS5Jz"}):p({id:"CJkEfx"}),t[56]=p,t[57]=m.viewer?.blocking,t[58]=Q):Q=t[58],t[59]!==G||t[60]!==q||t[61]!==Q||t[62]!==S||t[63]!==_?(K=(0,bt.jsx)(Zi.Basic,{control:_,title:G,description:q,onConfirm:S,confirmButtonCta:Q,confirmButtonColor:"negative"}),t[59]=G,t[60]=q,t[61]=Q,t[62]=S,t[63]=_,t[64]=K):K=t[64],t[65]!==c||t[66]!==l||t[67]!==g||t[68]!==m||t[69]!==W||t[70]!==K?(Z=(0,bt.jsxs)(Sb,{profile:m,moderation:g,hideBackButton:c,isPlaceholderProfile:l,children:[W,K]}),t[65]=c,t[66]=l,t[67]=g,t[68]=m,t[69]=W,t[70]=K,t[71]=Z):Z=t[71],t[72]!==m.did||t[73]!==y?(Y=(0,bt.jsx)(Ab,{isExpanded:y,actorDid:m.did}),t[72]=m.did,t[73]=y,t[74]=Y):Y=t[74],t[75]!==Z||t[76]!==Y?($=(0,bt.jsxs)(bt.Fragment,{children:[Z,Y]}),t[75]=Z,t[76]=Y,t[77]=$):$=t[77],$};function Eb({profile:e,moderation:t,moderationOpts:s,onFollow:o,onUnfollow:n,minimal:a}){const{_:r}=(0,dt.useLingui)(),{hasSession:i,currentAccount:l}=(0,Gt.useSession)(),c=(0,im.useHaptics)(),d=(0,Gt.useRequireAuth)(),[u,m]=(0,Ut.useProfileFollowMutationQueue)(e,"ProfileHeader"),[,h]=(0,Ut.useProfileBlockMutationQueue)(e),p=(0,Qs.useDialogControl)(),f=Zi.usePromptControl(),g=l?.did===e.did,x=(0,lt.useMemo)((()=>{switch(e.associated?.activitySubscription?.allowSubscriptions){case"followers":case void 0:return!!e.viewer?.following;case"mutuals":return!!e.viewer?.following&&!!e.viewer.followedBy;default:return!1}}),[e]);return(0,bt.jsxs)(bt.Fragment,{children:[g?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{testID:"profileHeaderEditProfileButton",size:"small",color:"secondary",onPress:()=>{c("Light"),p.open()},label:r({id:"9OpVZg"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"QJQd1J"})})}),(0,bt.jsx)(Uy,{profile:e,control:p})]}):e.viewer?.blocking?e.viewer?.blockingByList?null:(0,bt.jsx)(ao.Button,{testID:"unblockBtn",size:"small",color:"secondary",label:r({id:"tuS5Jz"}),disabled:!i,onPress:()=>f.open(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6bv+qy"})})}):e.viewer?.blockedBy?null:(0,bt.jsxs)(bt.Fragment,{children:[i&&(!a||e.viewer?.following)&&(0,bt.jsxs)(bt.Fragment,{children:[x&&(0,bt.jsx)(gy,{profile:e,moderationOpts:s,disableHint:a}),(0,bt.jsx)(jy,{profile:e})]}),(!a||!e.viewer?.following)&&(0,bt.jsxs)(ao.Button,{testID:e.viewer?.following?"unfollowBtn":"followBtn",size:"small",color:e.viewer?.following?"secondary":"primary",label:e.viewer?.following?r({id:"5fbwQz",values:{0:e.handle}}):r({id:"bjYkUM",values:{0:e.handle}}),onPress:e.viewer?.following?()=>{c(),d((async()=>{try{await m(),n?.(),Pd.show(r({id:"breD6O",values:{0:(0,Ma.sanitizeDisplayName)(e.displayName||e.handle,t.ui("displayName"))}}),{type:"default"})}catch(s){"AbortError"!==s?.name&&(Mt.logger.error("Failed to unfollow",{message:String(s)}),Pd.show(r({id:"HTQWov",values:{0:s.toString()}}),{type:"error"}))}}))}:()=>{c(),d((async()=>{try{await u(),o?.(),Pd.show(r({id:"qrhIYl",values:{0:(0,Ma.sanitizeDisplayName)(e.displayName||e.handle,t.ui("displayName"))}}))}catch(s){"AbortError"!==s?.name&&(Mt.logger.error("Failed to follow",{message:String(s)}),Pd.show(r({id:"HTQWov",values:{0:s.toString()}}),{type:"error"}))}}))},children:[!e.viewer?.following&&(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:e.viewer?.following?(0,bt.jsx)(dt.Trans,{id:"y6sq5j"}):e.viewer?.followedBy?(0,bt.jsx)(dt.Trans,{id:"W/YewJ"}):(0,bt.jsx)(dt.Trans,{id:"MKEPCY"})})]})]}),(0,bt.jsx)(X_,{profile:e}),(0,bt.jsx)(Zi.Basic,{control:f,title:r({id:"tw0xVB"}),description:r({id:"GlPXQJ"}),onConfirm:async()=>{try{await h(),Pd.show(r({id:"AGD0Zy"}))}catch(e){"AbortError"!==e?.name&&(Mt.logger.error("Failed to unblock account",{message:e}),Pd.show(r({id:"HTQWov",values:{0:e.toString()}}),{type:"error"}))}},confirmButtonCta:r({id:"tuS5Jz"}),confirmButtonColor:"negative"})]})}Pb=(0,lt.memo)(Pb);var Lb=s(70824);function Rb(e){const t=(0,n.c)(64),{testID:s,screenDescription:o,modui:a,style:r,containerStyle:i,children:l}=e,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),[u,m]=lt.useState(!1),h=(0,Ns.useNavigation)(),{isMobile:p}=(0,jn.useWebMediaQueries)(),f=(0,Nc.useModerationDetailsDialogControl)(),g=a.blurs[0],x=(0,Fc.useModerationCauseDescription)(g);if(!g||u){let e;return t[0]!==l||t[1]!==r||t[2]!==s?(e=(0,bt.jsx)(Fs.default,{testID:s,style:r,children:l}),t[0]=l,t[1]=r,t[2]=s,t[3]=e):e=t[3],e}const _=!!a.blurs.find(Db);let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V;return t[4]===Symbol.for("react.memo_cache_sentinel")?(y={paddingTop:100,paddingBottom:150},t[4]=y):y=t[4],t[5]!==i||t[6]!==c.atoms.bg?(b=[qs.atoms.flex_1,y,c.atoms.bg,i],t[5]=i,t[6]=c.atoms.bg,t[7]=b):b=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.align_center,qs.atoms.mb_md],t[8]=j):j=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(v={borderRadius:25,width:50,height:50},t[9]=v):v=t[9],t[10]!==c.atoms.bg_contrast_975?(S=[c.atoms.bg_contrast_975,qs.atoms.align_center,qs.atoms.justify_center,v],t[10]=c.atoms.bg_contrast_975,t[11]=S):S=t[11],t[12]!==x.icon||t[13]!==c.atoms.bg.backgroundColor?(w=(0,bt.jsx)(x.icon,{width:24,fill:c.atoms.bg.backgroundColor}),t[12]=x.icon,t[13]=c.atoms.bg.backgroundColor,t[14]=w):w=t[14],t[15]!==S||t[16]!==w?(T=(0,bt.jsx)(Fs.default,{style:j,children:(0,bt.jsx)(Fs.default,{style:S,children:w})}),t[15]=S,t[16]=w,t[17]=T):T=t[17],t[18]!==c.atoms.text?(k=[qs.atoms.text_4xl,qs.atoms.font_semi_bold,qs.atoms.text_center,qs.atoms.mb_md,c.atoms.text],t[18]=c.atoms.text,t[19]=k):k=t[19],t[20]!==_?(C=_?(0,bt.jsx)(dt.Trans,{id:"E47zv9"}):(0,bt.jsx)(dt.Trans,{id:"cogwXi"}),t[20]=_,t[21]=C):C=t[21],t[22]!==k||t[23]!==C?(I=(0,bt.jsx)(co.Text,{style:k,children:C}),t[22]=k,t[23]=C,t[24]=I):I=t[24],t[25]!==c.atoms.text_contrast_medium?(A=[qs.atoms.text_lg,qs.atoms.mb_md,qs.atoms.px_lg,qs.atoms.text_center,qs.atoms.leading_snug,c.atoms.text_contrast_medium],t[25]=c.atoms.text_contrast_medium,t[26]=A):A=t[26],t[27]!==d||t[28]!==g||t[29]!==f||t[30]!==x.name||t[31]!==_||t[32]!==o||t[33]!==c.atoms.text||t[34]!==c.palette?(P=_?(0,bt.jsx)(dt.Trans,{id:"rpPvUb"}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(dt.Trans,{id:"KRYn8w",values:{screenDescription:o}})," ",(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold,qs.atoms.leading_snug,c.atoms.text,qs.atoms.ml_xs],children:[x.name,"."," "]}),(0,bt.jsx)(Ms.default,{onPress:()=>{f.open()},accessibilityRole:"button",accessibilityLabel:d({id:"rj0Lke"}),accessibilityHint:"",children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.leading_snug,{color:c.palette.primary_500},(0,qs.web)({cursor:"pointer"})],children:(0,bt.jsx)(dt.Trans,{id:"NgeSlx"})})}),(0,bt.jsx)(Nc.ModerationDetailsDialog,{control:f,modcause:g})]}),t[27]=d,t[28]=g,t[29]=f,t[30]=x.name,t[31]=_,t[32]=o,t[33]=c.atoms.text,t[34]=c.palette,t[35]=P):P=t[35],t[36]!==A||t[37]!==P?(E=(0,bt.jsxs)(co.Text,{style:A,children:[P," "]}),t[36]=A,t[37]=P,t[38]=E):E=t[38],t[39]!==p?(L=p&&(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1}),t[39]=p,t[40]=L):L=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.my_md,qs.atoms.gap_md],t[41]=R):R=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.rounded_full],t[42]=B):B=t[42],t[43]!==d?(D=d({id:"CKyk7Q"}),t[43]=d,t[44]=D):D=t[44],t[45]!==h?(O=()=>{h.canGoBack()?h.goBack():h.navigate("Home")},t[45]=h,t[46]=O):O=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"CKyk7Q"})}),t[47]=M):M=t[47],t[48]!==D||t[49]!==O?(F=(0,bt.jsx)(ao.Button,{variant:"solid",color:"primary",size:"large",style:B,label:D,onPress:O,children:M}),t[48]=D,t[49]=O,t[50]=F):F=t[50],t[51]!==d||t[52]!==a.noOverride?(N=!a.noOverride&&(0,bt.jsx)(ao.Button,{variant:"solid",color:"secondary",size:"large",style:[qs.atoms.rounded_full],label:d({id:"aWAdCb"}),onPress:()=>m(Bb),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"aWAdCb"})})}),t[51]=d,t[52]=a.noOverride,t[53]=N):N=t[53],t[54]!==F||t[55]!==N?(H=(0,bt.jsxs)(Fs.default,{style:R,children:[F,N]}),t[54]=F,t[55]=N,t[56]=H):H=t[56],t[57]!==I||t[58]!==E||t[59]!==L||t[60]!==b||t[61]!==H||t[62]!==T?(V=(0,bt.jsxs)(Sa,{style:b,sideBorders:!0,children:[T,I,E,L,H]}),t[57]=I,t[58]=E,t[59]=L,t[60]=b,t[61]=H,t[62]=T,t[63]=V):V=t[63],V}function Bb(e){return!e}function Db(e){return"label"===e.type&&"!no-unauthenticated"===e.labelDef.identifier}var Ob=s(6740);function Mb(e){const t=(0,n.c)(51),{style:s,hideTopBorder:o,uri:a,error:i}=e,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)(),d=Qs.useDialogControl();let u;t[0]!==a?(u=Sr(a),t[0]=a,t[1]=u):u=t[1];const m=u;let h,p;t[2]!==c||t[3]!==m?(h=c("feed"===m?{id:"M2kjYf"}:{id:"Og2rCj"}),t[2]=c,t[3]=m,t[4]=h):h=t[4],t[5]!==c?(p=c({id:"ozyANW"}),t[5]=c,t[6]=p):p=t[6];const f=!o&&!qs.atoms.border_t;let g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D;return t[7]!==s||t[8]!==l.atoms.border_contrast_low||t[9]!==f?(g=[qs.atoms.flex_1,qs.atoms.p_lg,qs.atoms.gap_md,f,l.atoms.border_contrast_low,qs.atoms.justify_start,s],t[7]=s,t[8]=l.atoms.border_contrast_low,t[9]=f,t[10]=g):g=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_center],t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_={width:36,height:36},t[12]=_):_=t[12],t[13]!==l.atoms.bg_contrast_25?(y=[_,l.atoms.bg_contrast_25,qs.atoms.rounded_sm,qs.atoms.mr_md,qs.atoms.align_center,qs.atoms.justify_center],t[13]=l.atoms.bg_contrast_25,t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(Cf.Warning_Stroke2_Corner0_Rounded,{size:"lg"}),t[15]=b):b=t[15],t[16]!==y?(j=(0,bt.jsx)(Fs.default,{style:y,children:b}),t[16]=y,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_1],t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.text_sm,qs.atoms.font_semi_bold,qs.atoms.leading_snug,qs.atoms.italic],t[19]=S):S=t[19],t[20]!==m?(w=(0,bt.jsx)(co.Text,{emoji:!0,style:S,numberOfLines:1,children:"feed"===m?(0,bt.jsx)(dt.Trans,{id:"jB9TcI"}):(0,bt.jsx)(dt.Trans,{id:"Og2rCj"})}),t[20]=m,t[21]=w):w=t[21],t[22]!==l.atoms.text_contrast_medium?(T=[qs.atoms.text_sm,l.atoms.text_contrast_medium,qs.atoms.leading_snug,qs.atoms.italic],t[22]=l.atoms.text_contrast_medium,t[23]=T):T=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(k=r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"BN7j0h"}):(0,bt.jsx)(dt.Trans,{id:"Yb4ycS"}),t[24]=k):k=t[24],t[25]!==T?(C=(0,bt.jsx)(co.Text,{style:T,numberOfLines:1,children:k}),t[25]=T,t[26]=C):C=t[26],t[27]!==w||t[28]!==C?(I=(0,bt.jsxs)(Fs.default,{style:v,children:[w,C]}),t[27]=w,t[28]=C,t[29]=I):I=t[29],t[30]!==j||t[31]!==I?(A=(0,bt.jsxs)(Fs.default,{style:x,children:[j,I]}),t[30]=j,t[31]=I,t[32]=A):A=t[32],t[33]!==d.open||t[34]!==A||t[35]!==h||t[36]!==p||t[37]!==g?(P=(0,bt.jsx)(ao.Button,{label:h,accessibilityHint:p,onPress:d.open,style:g,children:A}),t[33]=d.open,t[34]=A,t[35]=h,t[36]=p,t[37]=g,t[38]=P):P=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(E={preventExpansion:!0},L=(0,bt.jsx)(Qs.Handle,{}),t[39]=E,t[40]=L):(E=t[39],L=t[40]),t[41]!==i||t[42]!==m||t[43]!==a?(R=(0,bt.jsx)(Fb,{uri:a,type:m,error:i}),t[41]=i,t[42]=m,t[43]=a,t[44]=R):R=t[44],t[45]!==d||t[46]!==R?(B=(0,bt.jsxs)(Qs.Outer,{control:d,nativeOptions:E,children:[L,R]}),t[45]=d,t[46]=R,t[47]=B):B=t[47],t[48]!==P||t[49]!==B?(D=(0,bt.jsxs)(bt.Fragment,{children:[P,B]}),t[48]=P,t[49]=B,t[50]=D):D=t[50],D}function Fb(e){const t=(0,n.c)(57),{uri:s,type:o,error:a}=e,i=Qs.useDialogContext(),l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)();let d;t[0]!==s?(d=new Dn.AtUri(s),t[0]=s,t[1]=d):d=t[1];const u=d;let m;t[2]!==u.host?(m={did:u.host},t[2]=u.host,t[3]=m):m=t[3];const{data:h,isError:p}=(0,Ut.useProfileQuery)(m),f=(0,ds.useModerationOpts)();let g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D;return t[4]!==c||t[5]!==o?(g=c("feed"===o?{id:"+KrM7i"}:{id:"Og2rCj"}),t[4]=c,t[5]=o,t[6]=g):g=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x=(0,qs.web)({maxWidth:500}),t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.gap_sm],t[8]=_):_=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.font_bold,qs.atoms.text_2xl],t[9]=y):y=t[9],t[10]!==o?(b=(0,bt.jsx)(co.Text,{style:y,children:"feed"===o?(0,bt.jsx)(dt.Trans,{id:"2Ltdpo"}):(0,bt.jsx)(dt.Trans,{id:"Og2rCj"})}),t[10]=o,t[11]=b):b=t[11],t[12]!==l.atoms.text_contrast_high?(j=[l.atoms.text_contrast_high,qs.atoms.leading_snug],t[12]=l.atoms.text_contrast_high,t[13]=j):j=t[13],t[14]!==o?(v="feed"===o?(0,bt.jsx)(dt.Trans,{id:"NPZPto"}):(0,bt.jsx)(dt.Trans,{id:"QUDmpa"}),t[14]=o,t[15]=v):v=t[15],t[16]!==j||t[17]!==v?(S=(0,bt.jsx)(co.Text,{style:j,children:v}),t[16]=j,t[17]=v,t[18]=S):S=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(yo,{style:[qs.atoms.my_md]}),t[19]=w):w=t[19],t[20]!==l.atoms.text_contrast_high?(T=[qs.atoms.font_semi_bold,l.atoms.text_contrast_high],t[20]=l.atoms.text_contrast_high,t[21]=T):T=t[21],t[22]!==o?(k="feed"===o?(0,bt.jsx)(dt.Trans,{id:"ViGNai"}):(0,bt.jsx)(dt.Trans,{id:"R2p1wD"}),t[22]=o,t[23]=k):k=t[23],t[24]!==T||t[25]!==k?(C=(0,bt.jsx)(co.Text,{style:T,children:k}),t[24]=T,t[25]=k,t[26]=C):C=t[26],t[27]!==i||t[28]!==f||t[29]!==h?(I=h&&f&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_start],children:(0,bt.jsx)(Rl.Link,{profile:h,onPress:()=>i.close(),children:(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:h,moderationOpts:f,disabledPreview:!0}),(0,bt.jsx)(Rl.NameAndHandle,{profile:h,moderationOpts:f})]})})}),t[27]=i,t[28]=f,t[29]=h,t[30]=I):I=t[30],t[31]!==p||t[32]!==l.atoms.text_contrast_high?(A=p&&(0,bt.jsx)(co.Text,{style:[l.atoms.text_contrast_high,qs.atoms.italic,qs.atoms.text_center,qs.atoms.w_full],children:(0,bt.jsx)(dt.Trans,{id:"nsvtym"})}),t[31]=p,t[32]=l.atoms.text_contrast_high,t[33]=A):A=t[33],t[34]!==u.rkey||t[35]!==l.atoms.text_contrast_high||t[36]!==o?(P="feed"===o&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,l.atoms.text_contrast_high,qs.atoms.mt_md],children:(0,bt.jsx)(dt.Trans,{id:"XHl+mC"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,l.atoms.text_contrast_high,qs.atoms.italic],children:u.rkey})]}),t[34]=u.rkey,t[35]=l.atoms.text_contrast_high,t[36]=o,t[37]=P):P=t[37],t[38]!==a||t[39]!==l.atoms.text_contrast_high?(E=a instanceof Error&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,l.atoms.text_contrast_high,qs.atoms.mt_md],children:(0,bt.jsx)(dt.Trans,{id:"xi4nE2"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,l.atoms.text_contrast_high,qs.atoms.italic],children:(0,Tn.cleanError)(a.message)})]}),t[38]=a,t[39]=l.atoms.text_contrast_high,t[40]=E):E=t[40],t[41]!==S||t[42]!==C||t[43]!==I||t[44]!==A||t[45]!==P||t[46]!==E||t[47]!==b?(L=(0,bt.jsxs)(Fs.default,{style:_,children:[b,S,w,C,I,A,P,E]}),t[41]=S,t[42]=C,t[43]=I,t[44]=A,t[45]=P,t[46]=E,t[47]=b,t[48]=L):L=t[48],t[49]!==c||t[50]!==i?(R=r.IS_NATIVE&&(0,bt.jsx)(ao.Button,{label:c({id:"yz7wBu"}),onPress:()=>i.close(),size:"small",variant:"solid",color:"secondary",style:[qs.atoms.mt_5xl],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})}),t[49]=c,t[50]=i,t[51]=R):R=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(Qs.Close,{}),t[52]=B):B=t[52],t[53]!==L||t[54]!==R||t[55]!==g?(D=(0,bt.jsxs)(Qs.ScrollableInner,{label:g,style:x,children:[L,R,B]}),t[53]=L,t[54]=R,t[55]=g,t[56]=D):D=t[56],D}const Nb=["feedUri","feedData"],Hb=["feedUri"];function Vb(e){const t=(0,n.c)(15);let s,o,a;if(t[0]!==e){var r=e;({feedUri:o,feedData:s}=r),a=(0,ta.default)(r,Nb),t[0]=e,t[1]=s,t[2]=o,t[3]=a}else s=t[1],o=t[2],a=t[3];if(s){let e,n;if(Dn.AppBskyFeedDefs.isGeneratorView(s)){let o;t[4]!==s?(o=jr(s),t[4]=s,t[5]=o):o=t[5],e=o}else{let o;t[6]!==s?(o=vr(s),t[6]=s,t[7]=o):o=t[7],e=o}return t[8]!==e||t[9]!==o||t[10]!==a?(n=(0,bt.jsx)(Ub,Object.assign({feedUri:o,feed:e},a)),t[8]=e,t[9]=o,t[10]=a,t[11]=n):n=t[11],n}{let e;return t[12]!==o||t[13]!==a?(e=(0,bt.jsx)(zb,Object.assign({feedUri:o},a)),t[12]=o,t[13]=a,t[14]=e):e=t[14],e}}function zb(e){const t=(0,n.c)(10);let s,o,a;if(t[0]!==e){var r=e;({feedUri:s}=r),o=(0,ta.default)(r,Hb),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];t[3]!==s?(a={uri:s},t[3]=s,t[4]=a):a=t[4];const{data:i,error:l}=wr(a);let c;return t[5]!==l||t[6]!==i||t[7]!==s||t[8]!==o?(c=(0,bt.jsx)(Ub,Object.assign({feedUri:s,feed:i,error:l},o)),t[5]=l,t[6]=i,t[7]=s,t[8]=o,t[9]=c):c=t[9],c}function Ub(e){const t=(0,n.c)(78),{feedUri:s,feed:o,style:a,showDescription:r,showLikes:i,showMinimalPlaceholder:l,hideTopBorder:c,link:d,error:u}=e,m=void 0!==r&&r,h=void 0!==i&&i,p=void 0===d||d,f=(0,qs.useTheme)(),{_:g}=(0,dt.useLingui)();if(!o){if(u){let e;return t[0]!==u||t[1]!==s||t[2]!==c||t[3]!==a?(e=(0,bt.jsx)(Mb,{uri:s,style:a,hideTopBorder:c,error:u}),t[0]=u,t[1]=s,t[2]=c,t[3]=a,t[4]=e):e=t[4],e}const e=!(l||c)&&qs.atoms.border_t;let o;t[5]!==a||t[6]!==f.atoms.border_contrast_low||t[7]!==e?(o=[f.atoms.border_contrast_low,e,qs.atoms.flex_1,a],t[5]=a,t[6]=f.atoms.border_contrast_low,t[7]=e,t[8]=o):o=t[8];const n=!l;let r;return t[9]!==o||t[10]!==n?(r=(0,bt.jsx)(yi,{style:o,showTopBorder:!1,showLowerPlaceholder:n}),t[9]=o,t[10]=n,t[11]=r):r=t[11],r}let x,_,y,b,j,v,S,w,T,k,C,I,A,P;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_center],t[12]=x):x=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.mr_md],t[13]=_):_=t[13],t[14]!==o.avatar?(y=(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsx)(Gi.UserAvatar,{type:"algo",size:36,avatar:o.avatar})}),t[14]=o.avatar,t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_1],t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_sm,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[17]=j):j=t[17],t[18]!==o.displayName?(v=(0,bt.jsx)(co.Text,{emoji:!0,style:j,numberOfLines:1,children:o.displayName}),t[18]=o.displayName,t[19]=v):v=t[19],t[20]!==f.atoms.text_contrast_medium?(S=[qs.atoms.text_sm,f.atoms.text_contrast_medium,qs.atoms.leading_snug],t[20]=f.atoms.text_contrast_medium,t[21]=S):S=t[21],t[22]!==o.creatorHandle||t[23]!==o.type?(w="feed"===o.type?(0,bt.jsx)(dt.Trans,{id:"8BFAg0",values:{0:(0,Fa.sanitizeHandle)(o.creatorHandle,"@")}}):(0,bt.jsx)(dt.Trans,{id:"munnPn",values:{0:(0,Fa.sanitizeHandle)(o.creatorHandle,"@")}}),t[22]=o.creatorHandle,t[23]=o.type,t[24]=w):w=t[24],t[25]!==S||t[26]!==w?(T=(0,bt.jsx)(co.Text,{style:S,numberOfLines:1,children:w}),t[25]=S,t[26]=w,t[27]=T):T=t[27],t[28]!==T||t[29]!==v?(k=(0,bt.jsxs)(Fs.default,{style:b,children:[v,T]}),t[28]=T,t[29]=v,t[30]=k):k=t[30],t[31]!==k||t[32]!==y?(C=(0,bt.jsxs)(Fs.default,{style:x,children:[y,k]}),t[31]=k,t[32]=y,t[33]=C):C=t[33],t[34]!==o.description||t[35]!==m||t[36]!==f.atoms.text_contrast_high?(I=m&&o.description?(0,bt.jsx)(Yi.RichText,{style:[f.atoms.text_contrast_high,qs.atoms.flex_1,qs.atoms.flex_wrap],value:o.description,numberOfLines:3}):null,t[34]=o.description,t[35]=m,t[36]=f.atoms.text_contrast_high,t[37]=I):I=t[37],t[38]!==o.likeCount||t[39]!==o.type||t[40]!==h||t[41]!==f.atoms.text_contrast_medium?(A=h&&"feed"===o.type?(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_semi_bold,f.atoms.text_contrast_medium,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"J0wwLX",values:{0:o.likeCount||0}})}):null,t[38]=o.likeCount,t[39]=o.type,t[40]=h,t[41]=f.atoms.text_contrast_medium,t[42]=A):A=t[42],t[43]!==C||t[44]!==I||t[45]!==A?(P=(0,bt.jsxs)(bt.Fragment,{children:[C,I,A]}),t[43]=C,t[44]=I,t[45]=A,t[46]=P):P=t[46];const E=P;if(p){const e=`feed-${o.displayName}`;let s;t[47]!==g||t[48]!==o.creatorHandle||t[49]!==o.displayName||t[50]!==o.likeCount||t[51]!==o.type?(s="feed"===o.type?g({id:"uxLxcr",values:{0:o.displayName,1:(0,Fa.sanitizeHandle)(o.creatorHandle,"@"),2:o.likeCount||0}}):g({id:"rAQ0Wz",values:{0:o.displayName,1:(0,Fa.sanitizeHandle)(o.creatorHandle,"@")}}),t[47]=g,t[48]=o.creatorHandle,t[49]=o.displayName,t[50]=o.likeCount,t[51]=o.type,t[52]=s):s=t[52];const n="feed"===o.type?"ProfileFeed":"ProfileList";let r,i,l;t[53]!==o.uri?(r=new Dn.AtUri(o.uri),t[53]=o.uri,t[54]=r):r=t[54],t[55]!==o.creatorDid||t[56]!==r.rkey?(i={name:o.creatorDid,rkey:r.rkey},t[55]=o.creatorDid,t[56]=r.rkey,t[57]=i):i=t[57],t[58]!==n||t[59]!==i?(l={screen:n,params:i},t[58]=n,t[59]=i,t[60]=l):l=t[60];const d=!c&&!qs.atoms.border_t;let u,m;return t[61]!==a||t[62]!==f.atoms.border_contrast_low||t[63]!==d?(u=[qs.atoms.flex_1,qs.atoms.p_lg,qs.atoms.gap_md,d,f.atoms.border_contrast_low,a],t[61]=a,t[62]=f.atoms.border_contrast_low,t[63]=d,t[64]=u):u=t[64],t[65]!==E||t[66]!==e||t[67]!==s||t[68]!==l||t[69]!==u?(m=(0,bt.jsx)(io.Link,{testID:e,label:s,to:l,style:u,children:E}),t[65]=E,t[66]=e,t[67]=s,t[68]=l,t[69]=u,t[70]=m):m=t[70],m}{const e=!c&&!qs.atoms.border_t;let s,o;return t[71]!==a||t[72]!==f.atoms.border_contrast_low||t[73]!==e?(s=[qs.atoms.flex_1,qs.atoms.p_lg,qs.atoms.gap_md,e,f.atoms.border_contrast_low,a],t[71]=a,t[72]=f.atoms.border_contrast_low,t[73]=e,t[74]=s):s=t[74],t[75]!==E||t[76]!==s?(o=(0,bt.jsx)(Fs.default,{style:s,children:E}),t[75]=E,t[76]=s,t[77]=o):o=t[77],o}}function Wb(e){const t=(0,n.c)(14),{post:s,showReplyLine:o,hideTopBorder:a,style:r,onBeforePress:i}=e,l=(0,ds.useModerationOpts)(),c=qc.validate(s.record,Dn.AppBskyFeedPost.validateRecord)?s.record:void 0,d=(0,Ha.usePostShadow)(s);let u;t[0]!==c?(u=c?new Dn.RichText({text:c.text,facets:c.facets}):void 0,t[0]=c,t[1]=u):u=t[1];const m=u;let h;t[2]!==l||t[3]!==s?(h=l?(0,Dn.moderatePost)(s,l):void 0,t[2]=l,t[3]=s,t[4]=h):h=t[4];const p=h;if(d===Ha.POST_TOMBSTONE)return null;if(c&&m&&p){let e;return t[5]!==a||t[6]!==p||t[7]!==i||t[8]!==d||t[9]!==c||t[10]!==m||t[11]!==o||t[12]!==r?(e=(0,bt.jsx)(Gb,{post:d,record:c,richText:m,moderation:p,showReplyLine:o,hideTopBorder:a,style:r,onBeforePress:i}),t[5]=a,t[6]=p,t[7]=i,t[8]=d,t[9]=c,t[10]=m,t[11]=o,t[12]=r,t[13]=e):e=t[13],e}return null}function Gb(e){const t=(0,n.c)(88),{post:s,record:o,richText:a,moderation:r,showReplyLine:i,hideTopBorder:l,style:c,onBeforePress:d}=e,u=(0,On.useQueryClient)(),m=(0,bn.usePalette)("default"),{openComposer:h}=Wo();let p;t[0]!==a.text?(p=()=>(0,Eu.countLines)(a?.text)>=Vt.MAX_POST_LINES,t[0]=a.text,t[1]=p):p=t[1];const[f,g]=(0,lt.useState)(p);let x;if(t[2]!==s.author||t[3]!==s.uri){const e=new Dn.AtUri(s.uri);x=(0,Oa.makeProfileLink)(s.author,"post",e.rkey),t[2]=s.author,t[3]=s.uri,t[4]=x}else x=t[4];const _=x;let y,b="";if(o.reply){const e=o.reply.parent?.uri||o.reply.root.uri;let s;t[5]!==e?(s=new Dn.AtUri(e),t[5]=e,t[6]=s):s=t[6];b=s.hostname}t[7]!==r||t[8]!==h||t[9]!==s.author||t[10]!==s.cid||t[11]!==s.embed||t[12]!==s.uri||t[13]!==o.langs||t[14]!==o.text?(y=()=>{h({replyTo:{uri:s.uri,cid:s.cid,text:o.text,author:s.author,embed:s.embed,moderation:r,langs:o.langs},logContext:"PostReply"})},t[7]=r,t[8]=h,t[9]=s.author,t[10]=s.cid,t[11]=s.embed,t[12]=s.uri,t[13]=o.langs,t[14]=o.text,t[15]=y):y=t[15];const j=y;let v;t[16]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{g(!1)},t[16]=v):v=t[16];const S=v;let w;t[17]!==d||t[18]!==s.author||t[19]!==u?(w=()=>{(0,Ut.unstableCacheProfileView)(u,s.author),d?.()},t[17]=d,t[18]=s.author,t[19]=u,t[20]=w):w=t[20];const T=w,[k,C]=(0,lt.useState)(!1);let I,A,P,E,L,R;t[21]!==l?(I=!l&&{borderTopWidth:Os.default.hairlineWidth},t[21]=l,t[22]=I):I=t[22],t[23]!==m.border||t[24]!==c||t[25]!==I?(A=[qb.outer,m.border,I,c],t[23]=m.border,t[24]=c,t[25]=I,t[26]=A):A=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(P=()=>{C(!0)},E=()=>{C(!1)},t[27]=P,t[28]=E):(P=t[27],E=t[28]),t[29]!==k?(L=(0,bt.jsx)(ju,{hover:k}),t[29]=k,t[30]=L):L=t[30],t[31]!==i?(R=i&&(0,bt.jsx)(Fs.default,{style:qb.replyLine}),t[31]=i,t[32]=R):R=t[32];const B=s.author;let D;t[33]!==r?(D=r.ui("avatar"),t[33]=r,t[34]=D):D=t[34];const O=s.author.associated?.labeler?"labeler":"user";let M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$;return t[35]!==s.author||t[36]!==D||t[37]!==O?(M=(0,bt.jsx)(Fs.default,{style:qb.layoutAvi,children:(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:42,profile:B,moderation:D,type:O})}),t[35]=s.author,t[36]=D,t[37]=O,t[38]=M):M=t[38],t[39]!==_||t[40]!==r||t[41]!==s.author||t[42]!==s.indexedAt?(F=(0,bt.jsx)(Uu,{author:s.author,moderation:r,timestamp:s.indexedAt,postHref:_}),t[39]=_,t[40]=r,t[41]=s.author,t[42]=s.indexedAt,t[43]=F):F=t[43],t[44]!==b?(N=""!==b&&(0,bt.jsx)(cp,{parentAuthor:b}),t[44]=b,t[45]=N):N=t[45],t[46]!==s?(H=(0,bt.jsx)(tm,{post:s}),t[46]=s,t[47]=H):H=t[47],t[48]!==r?(V=r.ui("contentView"),t[48]=r,t[49]=V):V=t[49],t[50]!==r?(z=r.ui("contentView"),t[50]=r,t[51]=z):z=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(U=[qs.atoms.pb_xs],t[52]=U):U=t[52],t[53]!==z?(W=(0,bt.jsx)(om,{modui:z,style:U}),t[53]=z,t[54]=W):W=t[54],t[55]!==f||t[56]!==s.author.handle||t[57]!==a?(G=a.text?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mb_2xs],children:[(0,bt.jsx)(Yi.RichText,{enableTags:!0,testID:"postText",value:a,numberOfLines:f?Vt.MAX_POST_LINES:void 0,style:[qs.atoms.flex_1,qs.atoms.text_md],authorHandle:s.author.handle,shouldProxyLinks:!0}),f&&(0,bt.jsx)(dp,{style:[qs.atoms.text_md],onPress:S})]}):void 0,t[55]=f,t[56]=s.author.handle,t[57]=a,t[58]=G):G=t[58],t[59]!==r||t[60]!==s.embed?(q=s.embed?(0,bt.jsx)(sp,{embed:s.embed,moderation:r,viewContext:Hm.Feed}):null,t[59]=r,t[60]=s.embed,t[61]=q):q=t[61],t[62]!==V||t[63]!==W||t[64]!==G||t[65]!==q?(Q=(0,bt.jsxs)(qu,{modui:V,style:qb.contentHider,childContainerStyle:qb.contentHiderChild,children:[W,G,q]}),t[62]=V,t[63]=W,t[64]=G,t[65]=q,t[66]=Q):Q=t[66],t[67]!==j||t[68]!==s||t[69]!==o||t[70]!==a?(K=(0,bt.jsx)(mg,{post:s,record:o,richText:a,onPressReply:j,logContext:"Post"}),t[67]=j,t[68]=s,t[69]=o,t[70]=a,t[71]=K):K=t[71],t[72]!==F||t[73]!==N||t[74]!==H||t[75]!==Q||t[76]!==K?(Z=(0,bt.jsxs)(Fs.default,{style:qb.layoutContent,children:[F,N,H,Q,K]}),t[72]=F,t[73]=N,t[74]=H,t[75]=Q,t[76]=K,t[77]=Z):Z=t[77],t[78]!==M||t[79]!==Z?(Y=(0,bt.jsxs)(Fs.default,{style:qb.layout,children:[M,Z]}),t[78]=M,t[79]=Z,t[80]=Y):Y=t[80],t[81]!==_||t[82]!==T||t[83]!==L||t[84]!==R||t[85]!==Y||t[86]!==A?($=(0,bt.jsxs)(fa,{href:_,style:A,onBeforePress:T,onPointerEnter:P,onPointerLeave:E,children:[L,R,Y]}),t[81]=_,t[82]=T,t[83]=L,t[84]=R,t[85]=Y,t[86]=A,t[87]=$):$=t[87],$}const qb=Os.default.create({outer:{paddingTop:10,paddingRight:15,paddingBottom:5,paddingLeft:10,cursor:"pointer"},layout:{flexDirection:"row",gap:10},layoutAvi:{paddingLeft:8},layoutContent:{flex:1},alert:{marginBottom:6},replyLine:{position:"absolute",left:36,top:70,bottom:0,borderLeftWidth:2,borderLeftColor:kn.colors.gray2},contentHider:{marginBottom:2},contentHiderChild:{marginTop:6}}),Qb=(0,ti.createSinglePathSVG)({path:"M7 4a1 1 0 0 0-1 1v12.05q.243-.05.5-.05H18V4H7Zm5 7c.894 0 1.57.188 2.068.513.445.29.683.647.806.937l.046.12c.285.836-.43 1.43-1.03 1.43h-3.78c-.6 0-1.315-.594-1.03-1.43l.046-.12c.123-.29.361-.647.806-.937C10.43 11.188 11.106 11 12 11Zm0-4a1.75 1.75 0 1 1 0 3.5A1.75 1.75 0 0 1 12 7Zm8 11a1 1 0 0 1-1 1H6.5a.5.5 0 0 0 0 1H19a1 1 0 1 1 0 2H6.5A2.5 2.5 0 0 1 4 19.5V5a3 3 0 0 1 3-3h11a2 2 0 0 1 2 2v14Z"}),Kb=(0,ti.createSinglePathSVG)({path:"M7 2a3 3 0 0 0-3 3v14.5A2.5 2.5 0 0 0 6.5 22H19a1 1 0 1 0 0-2H6.5a.5.5 0 0 1 0-1H19a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2H7Zm5 5a1.75 1.75 0 1 0 0 3.5A1.75 1.75 0 0 0 12 7Zm0 4c-.894 0-1.57.188-2.068.512a2.07 2.07 0 0 0-.852 1.058c-.286.838.432 1.43 1.03 1.43h3.78c.598 0 1.316-.592 1.03-1.43a2.07 2.07 0 0 0-.852-1.058C13.57 11.189 12.894 11 12 11Z"});function Zb(e){const t=(0,n.c)(14),{embed:s,style:o}=e;let a;if(t[0]!==s||t[1]!==o){a=Symbol.for("react.early_return_sentinel");e:{const e=qc.post.parseEmbed(s);if(e)if("images"!==e.type)if("link"!==e.type)if("video"!==e.type)if("post_with_media"!==e.type||"post_with_media"===e.media.type||null===e.media.view);else{let s;t[11]!==e||t[12]!==o?(s=(0,bt.jsx)(Zb,{embed:e.media.view,style:o}),t[11]=e,t[12]=o,t[13]=s):s=t[13],a=s}else{const s="gif"===e.view.presentation?(0,bt.jsx)(Jb,{thumbnail:e.view.thumbnail,alt:e.view.alt}):(0,bt.jsx)(ej,{thumbnail:e.view.thumbnail,alt:e.view.alt});let n;t[8]!==o||t[9]!==s?(n=(0,bt.jsx)($b,{style:o,children:s}),t[8]=o,t[9]=s,t[10]=n):n=t[10],a=n}else{if(!e.view.external.thumb){a=null;break e}if(!(0,cm.isTenorGifUri)(e.view.external.uri)){a=null;break e}let s,n;t[3]!==e?(s=(0,bt.jsx)(Jb,{thumbnail:e.view.external.thumb,alt:e.view.external.title}),t[3]=e,t[4]=s):s=t[4],t[5]!==o||t[6]!==s?(n=(0,bt.jsx)($b,{style:o,children:s}),t[5]=o,t[6]=s,t[7]=n):n=t[7],a=n}else a=(0,bt.jsx)($b,{style:o,children:e.view.images.map(Yb)});else a=null}t[0]=s,t[1]=o,t[2]=a}else a=t[2];return a!==Symbol.for("react.early_return_sentinel")?a:null}function Yb(e){return(0,bt.jsx)(Xb,{thumbnail:e.thumb,alt:e.alt},e.thumb)}function $b(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[qs.atoms.flex_row,qs.atoms.gap_xs,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(Fs.default,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}function Xb(e){const t=(0,n.c)(19),{thumbnail:s,alt:o,children:a}=e,r=(0,qs.useTheme)();if(!s){let e,s,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={backgroundColor:"black"},t[0]=e):e=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(s=[e,qs.atoms.flex_1,qs.atoms.aspect_square,{maxWidth:100},qs.atoms.rounded_xs],t[1]=s):s=t[1],t[2]!==o||t[3]!==a?(n=(0,bt.jsx)(Fs.default,{style:s,accessibilityLabel:o,accessibilityHint:"",children:a}),t[2]=o,t[3]=a,t[4]=n):n=t[4],n}let i,l,c,d,u,m;return t[5]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.relative,qs.atoms.flex_1,qs.atoms.aspect_square,{maxWidth:100}],t[5]=i):i=t[5],t[6]!==s?(l={uri:s},t[6]=s,t[7]=l):l=t[7],t[8]!==r.atoms.bg_contrast_25?(c=[qs.atoms.flex_1,qs.atoms.rounded_xs,r.atoms.bg_contrast_25],t[8]=r.atoms.bg_contrast_25,t[9]=c):c=t[9],t[10]!==o||t[11]!==l||t[12]!==c||t[13]!==s?(d=(0,bt.jsx)(cn.Image,{source:l,alt:o,style:c,contentFit:"cover",accessible:!0,accessibilityIgnoresInvertColors:!0},s),t[10]=o,t[11]=l,t[12]=c,t[13]=s,t[14]=d):d=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(Mc.MediaInsetBorder,{style:[qs.atoms.rounded_xs]}),t[15]=u):u=t[15],t[16]!==a||t[17]!==d?(m=(0,bt.jsxs)(Fs.default,{style:i,children:[d,u,a]}),t[16]=a,t[17]=d,t[18]=m):m=t[18],m}function Jb(e){const t=(0,n.c)(5),{thumbnail:s,alt:o}=e;let a,r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(fm,{size:24})}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Fs.default,{style:tj.altContainer,children:(0,bt.jsx)(co.Text,{style:tj.alt,children:(0,bt.jsx)(dt.Trans,{id:"wRkP2d"})})}),t[1]=r):r=t[1],t[2]!==o||t[3]!==s?(i=(0,bt.jsxs)(Xb,{thumbnail:s,alt:o,children:[a,r]}),t[2]=o,t[3]=s,t[4]=i):i=t[4],i}function ej(e){const t=(0,n.c)(4),{thumbnail:s,alt:o}=e;let a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(fm,{size:24})}),t[0]=a):a=t[0],t[1]!==o||t[2]!==s?(r=(0,bt.jsx)(Xb,{thumbnail:s,alt:o,children:a}),t[1]=o,t[2]=s,t[3]=r):r=t[3],r}const tj=Os.default.create({altContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:6,paddingVertical:3,position:"absolute",left:5,bottom:5,zIndex:2},alt:{color:"white",fontSize:7,fontWeight:"600"}});let sj=({item:e,moderationOpts:t,highlightUnread:s,hideTopBorder:o})=>{const n=(0,On.useQueryClient)(),a=(0,bn.usePalette)("default"),r=(0,qs.useTheme)(),{_:i,i18n:l}=(0,dt.useLingui)(),[c,d]=(0,lt.useState)(!1),u=(0,lt.useMemo)((()=>{switch(e.type){case"post-like":case"repost":case"like-via-repost":case"repost-via-repost":if(e.subjectUri){const t=new Dn.AtUri(e.subjectUri);return`/profile/${t.host}/post/${t.rkey}`}break;case"follow":case"contact-match":case"verified":case"unverified":return(0,Oa.makeProfileLink)(e.notification.author);case"reply":case"mention":case"quote":{const t=new Dn.AtUri(e.notification.uri);return`/profile/${t.host}/post/${t.rkey}`}case"feedgen-like":case"starterpack-joined":if(e.subjectUri){const t=new Dn.AtUri(e.subjectUri);return`/profile/${t.host}/feed/${t.rkey}`}break;case"subscribed-post":{const t=[];for(const s of[e.notification,...e.additional??[]])t.push(s.uri);return`/notifications/activity?posts=${encodeURIComponent(t.slice(0,25).join(","))}`}}return""}),[e]),m=e=>{e&&(e.preventDefault(),e.stopPropagation()),d((e=>!e))},h=(0,lt.useCallback)((()=>{(0,Nx.unstableCacheProfileView)(n,e.notification.author)}),[n,e.notification.author]),p=(0,lt.useMemo)((()=>[{profile:e.notification.author,href:(0,Oa.makeProfileLink)(e.notification.author),moderation:(0,Dn.moderateProfile)(e.notification.author,t)},...e.additional?.map((({author:e})=>({profile:e,href:(0,Oa.makeProfileLink)(e),moderation:(0,Dn.moderateProfile)(e,t)})))||[]].filter(((e,t,s)=>s.findIndex((t=>t.profile.did===e.profile.did))===t))),[e,t]),f=(0,Na.niceDate)(l,e.notification.indexedAt),g=p[0],x=(0,Nu.useSimpleVerificationState)({profile:g.profile}),_=(0,Ma.sanitizeDisplayName)(g.profile.displayName||g.profile.handle),y=(0,lt.useMemo)((()=>{if("follow"!==e.type)return!1;if(e.notification.author.viewer?.following&&qc.dangerousIsType(e.notification.record,Dn.AppBskyGraphFollow.isRecord)){let s;try{const t=new Dn.AtUri(e.notification.author.viewer.following).rkey;s=I_.TID.fromStr(t).timestamp()}catch(t){return!1}if(s){return 1e3*new Date(e.notification.record.createdAt).getTime()>s}}return!1}),[e]);if(e.subjectUri&&!e.subject&&"feedgen-like"!==e.type)return(0,bt.jsx)(Fs.default,{});if("reply"===e.type||"mention"===e.type||"quote"===e.type){if(!e.subject)return null;const t=s&&!e.notification.isRead;return(0,bt.jsx)(Fs.default,{testID:`feedItem-by-${e.notification.author.handle}`,children:(0,bt.jsx)(Wb,{post:e.subject,style:t&&{backgroundColor:a.colors.unreadNotifBg,borderColor:a.colors.unreadNotifBorder},hideTopBorder:o})})}const b=(0,bt.jsx)(Fu.ProfileHoverCard,{did:g.profile.did,inline:!0,children:(0,bt.jsxs)(io.InlineLinkText,{style:[r.atoms.text,qs.atoms.font_semi_bold,qs.atoms.text_md,qs.atoms.leading_tight],to:g.href,disableMismatchWarning:!0,emoji:!0,label:i({id:"B70faV",values:{firstAuthorName:_}}),children:[(0,Ou.forceLTR)(_),x.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.relative,{paddingTop:(0,qs.platform)({android:2}),marginBottom:(0,qs.platform)({ios:-7}),top:(0,qs.platform)({web:1}),paddingLeft:3,paddingRight:2}],children:(0,bt.jsx)(Hu.VerificationCheck,{width:14,verifier:"verifier"===x.role})})]},g.href)}),j=p.length-1,v=j>0,S=v?(0,Bc.formatCount)(l,j):"";let w,T="",k=(0,bt.jsx)(ii,{size:"xl",style:[kn.s.likeColor]});if("post-like"===e.type)T=i(v?{id:"1oayLJ",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"7pwEEM",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"Nb5tHi",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"goN6m3",values:{firstAuthorLink:b}});else if("repost"===e.type)T=i(v?{id:"HbVwZG",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"HXp+Ic",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"SHE2gD",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"h+VoCB",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(di,{size:"xl",style:{color:r.palette.positive_500}});else if("follow"===e.type)y&&!v?(T=i({id:"CA5xov",values:{firstAuthorName:_}}),w=(0,bt.jsx)(dt.Trans,{id:"gX2bMs",values:{firstAuthorLink:b}})):(T=i(v?{id:"9weqpT",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"P3dp6k",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"pRv8UW",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"ikWqP4",values:{firstAuthorLink:b}})),k=(0,bt.jsx)(pc.PersonPlus_Filled_Stroke2_Corner0_Rounded,{size:"xl",style:{color:r.palette.primary_500}});else if("contact-match"===e.type)T=i({id:"4bbQsQ",values:{firstAuthorName:_}}),w=(0,bt.jsx)(dt.Trans,{id:"AgLgDA",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(Kb,{size:"xl",style:{color:r.palette.primary_500}});else if("feedgen-like"===e.type)T=i(v?{id:"M3PXAW",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"hyDBEW",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"Ah6OCl",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"j6gy2F",values:{firstAuthorLink:b}});else if("starterpack-joined"===e.type)T=i(v?{id:"QsYggP",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"QzRFdE",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"ickTSn",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"5+TlP6",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(Fs.default,{style:{height:30,width:30},children:(0,bt.jsx)(fd.StarterPack,{width:30,gradient:"sky"})});else if("verified"===e.type)T=i(v?{id:"4ykJmj",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"Q09dtK",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"sd/rq4",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"ZxSZvT",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(K_.VerifiedCheck,{size:"xl"});else if("unverified"===e.type)T=i(v?{id:"aLeqkJ",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"21X78t",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"D8a3JF",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"Y5AVN1",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(K_.VerifiedCheck,{size:"xl",fill:r.palette.contrast_500});else if("like-via-repost"===e.type)T=i(v?{id:"lKSwAS",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"gw/BX0",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"3ZEc/D",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"aJWJsp",values:{firstAuthorLink:b}});else if("repost-via-repost"===e.type)T=i(v?{id:"EOGhjr",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"RuT41o",values:{firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"MbbLnZ",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"SWlrji",values:{firstAuthorLink:b}}),k=(0,bt.jsx)(di,{size:"xl",style:{color:r.palette.positive_500}});else{if("subscribed-post"!==e.type)return null;{const t=1+(e.additional?.length||0);T=i(v?{id:"1eQNfl",values:{firstAuthorName:_,additionalAuthorsCount:j,formattedAuthorsCount:S}}:{id:"xVR1tG",values:{postsCount:t,firstAuthorName:_}}),w=v?(0,bt.jsx)(dt.Trans,{id:"Obk0OS",values:{firstAuthorLink:b,additionalAuthorsCount:j,formattedAuthorsCount:S},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug]})}}):(0,bt.jsx)(dt.Trans,{id:"3XJzYA",values:{postsCount:t,firstAuthorLink:b}}),k=(0,bt.jsx)(ey.BellRinging_Filled_Corner0_Rounded,{size:"xl",style:{color:r.palette.primary_500}})}}return T+=` \xb7 ${f}`,(0,bt.jsx)(io.Link,{label:T,testID:`feedItem-by-${e.notification.author.handle}`,style:[qs.atoms.flex_row,qs.atoms.align_start,{padding:10},qs.atoms.pr_lg,r.atoms.border_contrast_low,e.notification.isRead?void 0:{backgroundColor:a.colors.unreadNotifBg,borderColor:a.colors.unreadNotifBorder},!o&&qs.atoms.border_t,qs.atoms.overflow_hidden],to:u,accessible:!c,accessibilityActions:v?[{name:"toggleAuthorsExpanded",label:i(c?{id:"61lH2O"}:{id:"AUIc6G"})}]:[{name:"viewProfile",label:i({id:"tBW0ZQ",values:{0:p[0].profile.displayName||p[0].profile.handle}})}],onAccessibilityAction:e=>{"activate"===e.nativeEvent.actionName&&h(),"toggleAuthorsExpanded"===e.nativeEvent.actionName&&m()},children:({hovered:t})=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ju,{hover:t}),(0,bt.jsx)(Fs.default,{style:[mj.layoutIcon,qs.atoms.pr_sm],children:k}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsxs)(oj,{hasMultipleAuthors:v,onToggleAuthorsExpanded:m,children:[(0,bt.jsx)(rj,{visible:!c,authors:p,onToggleAuthorsExpanded:m,showDmButton:"starterpack-joined"===e.type}),(0,bt.jsx)(lj,{visible:c,authors:p}),(0,bt.jsxs)(co.Text,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,{paddingTop:6},qs.atoms.self_start,qs.atoms.text_md,qs.atoms.leading_snug],accessibilityHint:"",accessibilityLabel:T,children:[w,(0,bt.jsx)(zu,{timestamp:e.notification.indexedAt,children:({timeElapsed:e})=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md,r.atoms.text_contrast_medium],children:[" ","\xb7"," "]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,r.atoms.text_contrast_medium],title:f,children:e})]})})]})]}),"follow"===e.type&&!v&&!y||"contact-match"===e.type&&!e.notification.author.viewer?.following?(0,bt.jsx)(nj,{profile:e.notification.author}):null,"post-like"===e.type||"repost"===e.type||"like-via-repost"===e.type||"repost-via-repost"===e.type||"subscribed-post"===e.type?(0,bt.jsx)(Fs.default,{style:[qs.atoms.pt_2xs],children:(0,bt.jsx)(uj,{post:e.subject})}):null,"feedgen-like"===e.type&&e.subjectUri?(0,bt.jsx)(Vb,{feedUri:e.subjectUri,link:!1,style:[r.atoms.bg,r.atoms.border_contrast_low,qs.atoms.border,qs.atoms.p_md,mj.feedcard],showLikes:!0}):null,"starterpack-joined"===e.type?(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.border,qs.atoms.p_sm,qs.atoms.rounded_sm,qs.atoms.mt_sm,r.atoms.border_contrast_low],children:(0,bt.jsx)(nm.Notification,{starterPack:e.subject})})}):null]})]})})};function oj(e){const t=(0,n.c)(6),{hasMultipleAuthors:s,children:o,onToggleAuthorsExpanded:a}=e;if(s){let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[mj.expandedAuthorsTrigger],t[0]=e):e=t[0],t[1]!==o||t[2]!==a?(s=(0,bt.jsx)(ln.default,{onPress:a,style:e,accessible:!1,children:o}),t[1]=o,t[2]=a,t[3]=s):s=t[3],s}{let e;return t[4]!==o?(e=(0,bt.jsx)(bt.Fragment,{children:o}),t[4]=o,t[5]=e):e=t[5],e}}function nj({profile:e}){const{_:t}=(0,dt.useLingui)(),{currentAccount:s,hasSession:o}=(0,Gt.useSession)(),n=(0,Va.useProfileShadow)(e),[a,r]=(0,Ut.useProfileFollowMutationQueue)(n,"ProfileCard");if(!o||e.did===s?.did)return null;if(!n.viewer)return null;if(n.viewer.blockedBy||n.viewer.blocking||n.viewer.blockingByList)return null;const i=n.viewer.following,l=n.viewer.followedBy,c=t({id:"y6sq5j"});return(0,bt.jsx)(Fs.default,{style:[qs.atoms.pt_sm],children:i?(0,bt.jsxs)(ao.Button,{label:c,color:"secondary",size:"small",style:[qs.atoms.self_start],onPress:async s=>{s.preventDefault(),s.stopPropagation();try{await r(),Ds.show(t({id:"breD6O",values:{0:(0,Ma.sanitizeDisplayName)(e.displayName||e.handle)}}))}catch(o){"AbortError"!==o?.name&&Ds.show(t({id:"4mbOSx"}),"xmark")}},children:[(0,bt.jsx)(ao.ButtonIcon,{icon:ro.Check_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"y6sq5j"})})]}):(0,bt.jsxs)(ao.Button,{label:t(l?{id:"W/YewJ"}:{id:"MKEPCY"}),color:"primary",size:"small",style:[qs.atoms.self_start],onPress:async s=>{s.preventDefault(),s.stopPropagation();try{await a(),Ds.show(t({id:"qrhIYl",values:{0:(0,Ma.sanitizeDisplayName)(e.displayName||e.handle)}}))}catch(o){"AbortError"!==o?.name&&Ds.show(t({id:"4mbOSx"}),"xmark")}},children:[(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:l?(0,bt.jsx)(dt.Trans,{id:"W/YewJ"}):(0,bt.jsx)(dt.Trans,{id:"MKEPCY"})})]})})}function aj({profile:e}){const{_:t}=(0,dt.useLingui)(),s=(0,Gt.useAgent)(),o=(0,Ns.useNavigation)(),[n,a]=(0,lt.useState)(!1);return"none"===e.associated?.chat?.allowIncoming||"following"===e.associated?.chat?.allowIncoming&&!e.viewer?.followedBy?null:(0,bt.jsx)(ao.Button,{label:t({id:"z0lIxU"}),variant:"ghost",color:"primary",size:"small",style:[qs.atoms.self_center,{marginLeft:"auto"}],disabled:n,onPress:async()=>{try{a(!0);const t=await s.api.chat.bsky.convo.getConvoForMembers({members:[e.did,s.session.did]},{headers:Vt.DM_SERVICE_HEADERS});o.navigate("MessagesConversation",{conversation:t.data.convo.id})}catch(t){Mt.logger.error("Failed to get conversation",{safeMessage:t})}finally{a(!1)}},children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"z0lIxU"})})})}function rj(e){const t=(0,n.c)(46),{visible:s,authors:o,onToggleAuthorsExpanded:a,showDmButton:r}=e,i=void 0===r||r,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)();if(!s){let e,s,o,n,r,i,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.flex_row,qs.atoms.align_center],t[0]=e):e=t[0],t[1]!==c?(s=c({id:"qdOx2q"}),t[1]=c,t[2]=s):s=t[2],t[3]!==c?(o=c({id:"Fhl0A4"}),t[3]=c,t[4]=o):o=t[4],t[5]!==l.atoms.text_contrast_high?(n=(0,bt.jsx)(mn.ChevronTop_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.ml_xs,qs.atoms.mr_md,l.atoms.text_contrast_high]}),t[5]=l.atoms.text_contrast_high,t[6]=n):n=t[6],t[7]!==l.atoms.text_contrast_high?(r=[qs.atoms.text_md,l.atoms.text_contrast_high],t[7]=l.atoms.text_contrast_high,t[8]=r):r=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"8QCYhn"}),t[9]=i):i=t[9],t[10]!==r?(d=(0,bt.jsx)(co.Text,{style:r,children:i}),t[10]=r,t[11]=d):d=t[11],t[12]!==a||t[13]!==s||t[14]!==o||t[15]!==n||t[16]!==d?(u=(0,bt.jsx)(Fs.default,{style:e,children:(0,bt.jsxs)(wn.default,{style:mj.expandedAuthorsCloseBtn,onPress:a,accessibilityRole:"button",accessibilityLabel:s,accessibilityHint:o,children:[n,d]})}),t[12]=a,t[13]=s,t[14]=o,t[15]=n,t[16]=d,t[17]=u):u=t[17],u}if(1===o.length){let e;t[18]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.flex_row,qs.atoms.align_center],t[18]=e):e=t[18];const s=o[0].profile;let n;t[19]!==o[0].moderation?(n=o[0].moderation.ui("avatar"),t[19]=o[0].moderation,t[20]=n):n=t[20];const a=o[0].profile.associated?.labeler?"labeler":"user";let r,l,c;return t[21]!==o[0].profile||t[22]!==n||t[23]!==a?(r=(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:35,profile:s,moderation:n,type:a}),t[21]=o[0].profile,t[22]=n,t[23]=a,t[24]=r):r=t[24],t[25]!==o[0].profile||t[26]!==i?(l=i?(0,bt.jsx)(aj,{profile:o[0].profile}):null,t[25]=o[0].profile,t[26]=i,t[27]=l):l=t[27],t[28]!==r||t[29]!==l?(c=(0,bt.jsxs)(Fs.default,{style:e,children:[r,l]}),t[28]=r,t[29]=l,t[30]=c):c=t[30],c}let d,u,m,h,p,f;return t[31]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.flex_row,qs.atoms.align_center],t[31]=d):d=t[31],t[32]!==o?(u=o.slice(0,5).map(ij),t[32]=o,t[33]=u):u=t[33],t[34]!==o.length||t[35]!==l.atoms.text_contrast_medium?(m=o.length>5?(0,bt.jsxs)(co.Text,{style:[qs.atoms.font_semi_bold,{paddingLeft:6},l.atoms.text_contrast_medium],children:["+",o.length-5]}):void 0,t[34]=o.length,t[35]=l.atoms.text_contrast_medium,t[36]=m):m=t[36],t[37]!==l.atoms.text_contrast_medium?(h=(0,bt.jsx)(mn.ChevronBottom_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.mx_xs,l.atoms.text_contrast_medium]}),t[37]=l.atoms.text_contrast_medium,t[38]=h):h=t[38],t[39]!==u||t[40]!==m||t[41]!==h?(p=(0,bt.jsxs)(Fs.default,{style:d,children:[u,m,h]}),t[39]=u,t[40]=m,t[41]=h,t[42]=p):p=t[42],t[43]!==a||t[44]!==p?(f=(0,bt.jsx)(wn.default,{accessibilityRole:"none",onPress:a,children:p}),t[43]=a,t[44]=p,t[45]=f):f=t[45],f}function ij(e){return(0,bt.jsx)(Fs.default,{style:kn.s.mr5,children:(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:35,profile:e.profile,moderation:e.moderation.ui("avatar"),type:e.profile.associated?.labeler?"labeler":"user"})},e.href)}function lj(e){const t=(0,n.c)(17),{visible:s,authors:o}=e,a=function(e){const t=lt.useRef(void 0);return void 0===t.current&&(t.current=new Ob.default.Value(e)),t.current}(s?1:0),r=45*o.length;let i,l;t[0]!==a||t[1]!==r?(i=Ob.default.multiply(a,r),t[0]=a,t[1]=r,t[2]=i):i=t[2],t[3]!==i?(l={height:i},t[3]=i,t[4]=l):l=t[4];const c=l;let d,u,m,h,p;return t[5]!==a||t[6]!==s?(d=()=>{Ob.default.timing(a,{toValue:s?1:0,duration:200,useNativeDriver:!1}).start()},u=[a,s],t[5]=a,t[6]=s,t[7]=d,t[8]=u):(d=t[7],u=t[8]),(0,lt.useEffect)(d,u),t[9]!==c?(m=[qs.atoms.overflow_hidden,c],t[9]=c,t[10]=m):m=t[10],t[11]!==o||t[12]!==s?(h=s&&o.map(cj),t[11]=o,t[12]=s,t[13]=h):h=t[13],t[14]!==m||t[15]!==h?(p=(0,bt.jsx)(Ob.default.View,{style:m,children:h}),t[14]=m,t[15]=h,t[16]=p):p=t[16],p}function cj(e){return(0,bt.jsx)(dj,{author:e},e.profile.did)}function dj(e){const t=(0,n.c)(45),{author:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r;t[0]!==s.profile?(r={profile:s.profile},t[0]=s.profile,t[1]=r):r=t[1];const i=(0,Nu.useSimpleVerificationState)(r),l=s.profile.did,c=s.profile.displayName||s.profile.handle;let d,u,m;t[2]!==a?(d=a({id:"0xfAvQ"}),t[2]=a,t[3]=d):d=t[3],t[4]!==s.profile.did||t[5]!==s.profile.handle?(u=(0,Oa.makeProfileLink)({did:s.profile.did,handle:s.profile.handle}),t[4]=s.profile.did,t[5]=s.profile.handle,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.mr_sm],t[7]=m):m=t[7];const h=s.profile.did,p=s.profile.avatar;let f;t[8]!==s.moderation?(f=s.moderation.ui("avatar"),t[8]=s.moderation,t[9]=f):f=t[9];const g=s.profile.associated?.labeler?"labeler":"user";let x,_,y,b,j;t[10]!==s.profile.avatar||t[11]!==g||t[12]!==f?(x=(0,bt.jsx)(Gi.UserAvatar,{size:35,avatar:p,moderation:f,type:g}),t[10]=s.profile.avatar,t[11]=g,t[12]=f,t[13]=x):x=t[13],t[14]!==s.profile.did||t[15]!==x?(_=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(Fu.ProfileHoverCard,{did:h,children:x})}),t[14]=s.profile.did,t[15]=x,t[16]=_):_=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1],t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_row,qs.atoms.align_end],t[18]=b):b=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_tight,{maxWidth:"70%"}],t[19]=j):j=t[19];const v=s.profile.displayName||s.profile.handle;let S,w,T,k,C,I,A,P;return t[20]!==v?(S=(0,Ma.sanitizeDisplayName)(v),t[20]=v,t[21]=S):S=t[21],t[22]!==S?(w=(0,bt.jsx)(co.Text,{numberOfLines:1,emoji:!0,style:j,children:S}),t[22]=S,t[23]=w):w=t[23],t[24]!==i.role||t[25]!==i.showBadge?(T=i.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_xs,qs.atoms.self_center],children:(0,bt.jsx)(Hu.VerificationCheck,{width:14,verifier:"verifier"===i.role})}),t[24]=i.role,t[25]=i.showBadge,t[26]=T):T=t[26],t[27]!==o.atoms.text_contrast_medium?(k=[qs.atoms.pl_xs,qs.atoms.text_md,qs.atoms.leading_tight,qs.atoms.flex_shrink,o.atoms.text_contrast_medium],t[27]=o.atoms.text_contrast_medium,t[28]=k):k=t[28],t[29]!==s.profile.handle?(C=(0,Fa.sanitizeHandle)(s.profile.handle,"@"),t[29]=s.profile.handle,t[30]=C):C=t[30],t[31]!==k||t[32]!==C?(I=(0,bt.jsx)(co.Text,{numberOfLines:1,style:k,children:C}),t[31]=k,t[32]=C,t[33]=I):I=t[33],t[34]!==w||t[35]!==T||t[36]!==I?(A=(0,bt.jsx)(Fs.default,{style:y,children:(0,bt.jsxs)(Fs.default,{style:b,children:[w,T,I]})}),t[34]=w,t[35]=T,t[36]=I,t[37]=A):A=t[37],t[38]!==s.profile.did||t[39]!==_||t[40]!==A||t[41]!==c||t[42]!==d||t[43]!==u?(P=(0,bt.jsxs)(io.Link,{label:c,accessibilityHint:d,to:u,style:mj.expandedAuthor,children:[_,A]},l),t[38]=s.profile.did,t[39]=_,t[40]=A,t[41]=c,t[42]=d,t[43]=u,t[44]=P):P=t[44],P}function uj(e){const t=(0,n.c)(8),{post:s}=e,o=(0,qs.useTheme)();if(s&&qc.dangerousIsType(s?.record,Dn.AppBskyFeedPost.isRecord)){const e=s.record.text;let n,a,r;return t[0]!==o||t[1]!==e?(n=e?.length>0&&(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_sm,qs.atoms.leading_snug,o.atoms.text_contrast_medium],numberOfLines:Vt.MAX_POST_LINES,children:e}),t[0]=o,t[1]=e,t[2]=n):n=t[2],t[3]!==s.embed?(a=(0,bt.jsx)(Zb,{embed:s.embed,style:mj.additionalPostImages}),t[3]=s.embed,t[4]=a):a=t[4],t[5]!==n||t[6]!==a?(r=(0,bt.jsxs)(bt.Fragment,{children:[n,a]}),t[5]=n,t[6]=a,t[7]=r):r=t[7],r}}sj=(0,lt.memo)(sj);const mj=Os.default.create({layoutIcon:{width:60,alignItems:"flex-end",paddingTop:2},icon:{marginRight:10,marginTop:4},additionalPostImages:{marginTop:5,marginLeft:2,opacity:.8},feedcard:{borderRadius:8,marginTop:6},addedContainer:{paddingTop:4,paddingLeft:36},expandedAuthorsTrigger:{zIndex:1},expandedAuthorsCloseBtn:{flexDirection:"row",alignItems:"center",paddingTop:10,paddingBottom:6},expandedAuthor:{flexDirection:"row",alignItems:"center",marginTop:10,height:35}}),hj=Object.keys(Dn.LABELS),pj=({})=>{const e=(0,qs.useTheme)(),[t,s]=lt.useState(["label"]),[o,n]=lt.useState([]),[a,r]=lt.useState([hj[0]]),[i,l]=lt.useState(["account"]),[c,d]=lt.useState(["warn"]),[u,m]=lt.useState({identifier:"custom",blurs:"content",severity:"alert",defaultSetting:"warn",locales:[{lang:"en",name:"Custom label",description:"A custom label created in this test environment"}]}),[h,p]=lt.useState(["post"]),f=(0,Aa.useGlobalLabelStrings)(),{currentAccount:g}=(0,Gt.useSession)(),x="label"===t[0]&&o.includes("targetMe"),_="label"===t[0]&&o.includes("selfLabel"),y="label"===t[0]&&o.includes("noAdult"),b="label"===t[0]&&o.includes("loggedOut"),j=o.includes("following"),v=x&&g?g.did:"did:web:bob.test",S=lt.useMemo((()=>{const e=Dn.mock.profileViewBasic({handle:"bob.test",displayName:"Bob Robertson",description:"User with this as their bio",labels:"label"===t[0]&&"account"===i[0]?[Dn.mock.label({src:_?v:void 0,val:a[0],uri:`at://${v}/`})]:"label"===t[0]&&"profile"===i[0]?[Dn.mock.label({src:_?v:void 0,val:a[0],uri:`at://${v}/app.bsky.actor.profile/self`})]:void 0,viewer:Dn.mock.actorViewerState({following:j?`at://${g?.did||""}/app.bsky.graph.follow/1234`:void 0,muted:"mute"===t[0],mutedByList:void 0,blockedBy:void 0,blocking:"block"===t[0]?"at://did:web:alice.test/app.bsky.actor.block/fake":void 0,blockingByList:void 0})});return e.did=v,e.avatar="https://bsky.social/about/images/favicon-32x32.png",e.banner="https://bsky.social/about/images/social-card-default-gradient.png",e}),[t,i,a,_,v,j,g]),w=lt.useMemo((()=>Dn.mock.postView({record:Dn.mock.post({text:"This is the body of the post. It's where the text goes. You get the idea."}),author:S,labels:"label"===t[0]&&"post"===i[0]?[Dn.mock.label({src:_?v:void 0,val:a[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0,embed:"embed"===i[0]?Dn.mock.embedRecordView({record:Dn.mock.post({text:"Embed"}),labels:"label"===t[0]&&"embed"===i[0]?[Dn.mock.label({src:_?v:void 0,val:a[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0,author:S}):{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/images/social-card-default-gradient.png",fullsize:"https://bsky.social/about/images/social-card-default-gradient.png",alt:""}]}})),[t,a,i,S,_,v]),T=lt.useMemo((()=>{const e=Dn.mock.replyNotification({record:Dn.mock.post({text:"This is the body of the post. It's where the text goes. You get the idea.",reply:{parent:{uri:`at://${v}/app.bsky.feed.post/fake-parent`,cid:"bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq"},root:{uri:`at://${v}/app.bsky.feed.post/fake-parent`,cid:"bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq"}}}),author:S,labels:"label"===t[0]&&"post"===i[0]?[Dn.mock.label({src:_?v:void 0,val:a[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0}),[s]=(0,Pa.groupNotifications)([e]);return s.subject=Dn.mock.postView({record:e.record,author:S,labels:e.labels}),s}),[t,a,i,S,_,v]),k=lt.useMemo((()=>{const e=Dn.mock.followNotification({author:S,subjectDid:g?.did||""}),[t]=(0,Pa.groupNotifications)([e]);return t}),[S,g]),C=lt.useMemo((()=>({userDid:b?"":x?v:"did:web:alice.test",prefs:{adultContentEnabled:!y,labels:{[a[0]]:c[0]},labelers:[{did:"did:plc:fake-labeler",labels:{[a[0]]:c[0]}}],mutedWords:[],hiddenPosts:[]},labelDefs:{"did:plc:fake-labeler":[(0,Dn.interpretLabelValueDefinition)(u,"did:plc:fake-labeler")]}})),[a,c,y,b,x,v,u]),I=lt.useMemo((()=>(0,Dn.moderateProfile)(S,C)),[S,C]),A=lt.useMemo((()=>(0,Dn.moderatePost)(w,C)),[w,C]);return(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(ds.moderationOptsOverrideContext.Provider,{value:C,children:(0,bt.jsx)(wa,{children:(0,bt.jsxs)(Sa,{style:[e.atoms.bg,qs.atoms.px_lg,qs.atoms.py_lg],children:[(0,bt.jsx)(co.H1,{style:[qs.atoms.text_5xl,qs.atoms.font_semi_bold,qs.atoms.pb_lg],children:"Moderation states"}),(0,bt.jsx)(fj,{title:"",subtitle:"Scenario"}),(0,bt.jsxs)(Lb.Group,{label:"Scenario",values:t,onChange:s,children:[(0,bt.jsx)(Lb.Button,{name:"label",label:"Label",children:(0,bt.jsx)(Lb.ButtonText,{children:"Label"})}),(0,bt.jsx)(Lb.Button,{name:"block",label:"Block",children:(0,bt.jsx)(Lb.ButtonText,{children:"Block"})}),(0,bt.jsx)(Lb.Button,{name:"mute",label:"Mute",children:(0,bt.jsx)(Lb.ButtonText,{children:"Mute"})})]}),"label"===t[0]&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.mt_lg,qs.atoms.mb_lg,qs.atoms.p_lg,e.atoms.border_contrast_medium],children:[(0,bt.jsx)(af.Group,{label:"Toggle",type:"radio",values:a,onChange:r,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap],children:[hj.map((e=>{let t=i[0];"account"!==t&&"profile"!==t&&(t="content");const s=_&&Dn.LABELS[e].flags.includes("no-self");return(0,bt.jsxs)(af.Item,{name:e,label:f[e].name,disabled:s,style:s?{opacity:.5}:void 0,children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:e})]},e)})),(0,bt.jsxs)(af.Item,{name:"custom",label:"Custom label",disabled:_,style:_?{opacity:.5}:void 0,children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Custom label"})]})]})}),"custom"===a[0]?(0,bt.jsx)(gj,{def:u,setDef:m}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:{height:10}}),(0,bt.jsx)(yo,{})]}),(0,bt.jsx)(Fs.default,{style:{height:10}}),(0,bt.jsxs)(_j,{label:"Advanced",children:[(0,bt.jsx)(af.Group,{label:"Toggle",type:"checkbox",values:o,onChange:n,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.pt_md],children:[(0,bt.jsxs)(af.Item,{name:"targetMe",label:"Target is me",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{children:"Target is me"})]}),(0,bt.jsxs)(af.Item,{name:"following",label:"Following target",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{children:"Following target"})]}),(0,bt.jsxs)(af.Item,{name:"selfLabel",label:"Self label",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{children:"Self label"})]}),(0,bt.jsxs)(af.Item,{name:"noAdult",label:"Adult disabled",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{children:"Adult disabled"})]}),(0,bt.jsxs)(af.Item,{name:"loggedOut",label:"Signed out",children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{children:"Signed out"})]})]})}),!1!==Dn.LABELS[a[0]]?.configurable&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mt_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xs,e.atoms.text,qs.atoms.pb_sm],children:"Preference"}),(0,bt.jsx)(af.Group,{label:"Preference",type:"radio",values:c,onChange:d,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap,qs.atoms.align_center],children:[(0,bt.jsxs)(af.Item,{name:"hide",label:"Hide",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Hide"})]}),(0,bt.jsxs)(af.Item,{name:"warn",label:"Warn",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Warn"})]}),(0,bt.jsxs)(af.Item,{name:"ignore",label:"Ignore",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Ignore"})]})]})})]})]})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_md],children:(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xs,e.atoms.text,qs.atoms.pl_md,qs.atoms.pb_xs],children:"Target"}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.border,qs.atoms.rounded_full,qs.atoms.px_md,qs.atoms.py_sm,e.atoms.border_contrast_medium,e.atoms.bg],children:(0,bt.jsx)(af.Group,{label:"Target",type:"radio",values:i,onChange:l,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap],children:[(0,bt.jsxs)(af.Item,{name:"account",label:"Account",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Account"})]}),(0,bt.jsxs)(af.Item,{name:"profile",label:"Profile",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Profile"})]}),(0,bt.jsxs)(af.Item,{name:"post",label:"Post",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Post"})]}),(0,bt.jsxs)(af.Item,{name:"embed",label:"Embed",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Embed"})]})]})})})]})})]}),(0,bt.jsx)(jj,{}),(0,bt.jsx)(fj,{title:"",subtitle:"Results"}),(0,bt.jsxs)(Lb.Group,{label:"Results",values:h,onChange:p,children:[(0,bt.jsx)(Lb.Button,{name:"post",label:"Post",children:(0,bt.jsx)(Lb.ButtonText,{children:"Post"})}),(0,bt.jsx)(Lb.Button,{name:"notifications",label:"Notifications",children:(0,bt.jsx)(Lb.ButtonText,{children:"Notifications"})}),(0,bt.jsx)(Lb.Button,{name:"account",label:"Account",children:(0,bt.jsx)(Lb.ButtonText,{children:"Account"})}),(0,bt.jsx)(Lb.Button,{name:"data",label:"Data",children:(0,bt.jsx)(Lb.ButtonText,{children:"Data"})})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.mt_lg,qs.atoms.p_md,e.atoms.border_contrast_medium],children:["post"===h[0]&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fj,{title:"Post",subtitle:"in feed"}),(0,bt.jsx)(vj,{post:w,moderation:A}),(0,bt.jsx)(fj,{title:"Post",subtitle:"viewed directly"}),(0,bt.jsx)(Sj,{post:w,moderationOpts:C}),(0,bt.jsx)(fj,{title:"Post",subtitle:"reply in thread"}),(0,bt.jsx)(Sj,{post:w,moderationOpts:C,isReply:!0})]}),"notifications"===h[0]&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fj,{title:"Notification",subtitle:"quote or reply"}),(0,bt.jsx)(wj,{notif:T,moderationOpts:C}),(0,bt.jsx)(Fs.default,{style:{height:20}}),(0,bt.jsx)(fj,{title:"Notification",subtitle:"follow or like"}),(0,bt.jsx)(wj,{notif:k,moderationOpts:C})]}),"account"===h[0]&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fj,{title:"Account",subtitle:"in listing"}),(0,bt.jsx)(Tj,{profile:S,moderation:I}),(0,bt.jsx)(fj,{title:"Account",subtitle:"viewing directly"}),(0,bt.jsx)(kj,{profile:S,moderation:I,moderationOpts:C})]}),"data"===h[0]&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(bj,{label:"Profile Moderation UI",mod:I}),(0,bt.jsx)(bj,{label:"Post Moderation UI",mod:A}),(0,bt.jsx)(yj,{label:a[0],data:Dn.LABELS[a[0]]}),(0,bt.jsx)(yj,{label:"Profile Moderation Data",data:I}),(0,bt.jsx)(yj,{label:"Post Moderation Data",data:A})]})]}),(0,bt.jsx)(Fs.default,{style:{height:400}})]})})})})};function fj(e){const t=(0,n.c)(7),{title:s,subtitle:o}=e,a=(0,qs.useTheme)();let r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.text_3xl,qs.atoms.font_semi_bold,qs.atoms.pb_md],t[0]=r):r=t[0],t[1]!==o||t[2]!==a?(i=!!o&&(0,bt.jsx)(co.H3,{style:[a.atoms.text_contrast_medium,qs.atoms.text_lg],children:o}),t[1]=o,t[2]=a,t[3]=i):i=t[3],t[4]!==i||t[5]!==s?(l=(0,bt.jsxs)(co.H3,{style:r,children:[s," ",i]}),t[4]=i,t[5]=s,t[6]=l):l=t[6],l}function gj(e){const t=(0,n.c)(50),{def:s,setDef:o}=e,a=(0,qs.useTheme)();let r,i,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A;return t[0]!==a.atoms.bg_contrast_25?(r=[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_md,a.atoms.bg_contrast_25,qs.atoms.rounded_md,qs.atoms.p_md,qs.atoms.mt_md],t[0]=a.atoms.bg_contrast_25,t[1]=r):r=t[1],t[2]!==a.atoms.text?(i=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xs,a.atoms.text,qs.atoms.pl_md,qs.atoms.pb_xs],children:"Blurs"}),t[2]=a.atoms.text,t[3]=i):i=t[3],t[4]!==a.atoms.bg||t[5]!==a.atoms.border_contrast_medium?(l=[qs.atoms.border,qs.atoms.rounded_full,qs.atoms.px_md,qs.atoms.py_sm,a.atoms.border_contrast_medium,a.atoms.bg],t[4]=a.atoms.bg,t[5]=a.atoms.border_contrast_medium,t[6]=l):l=t[6],t[7]!==s.blurs?(c=[s.blurs],t[7]=s.blurs,t[8]=c):c=t[8],t[9]!==o?(d=e=>o((t=>Object.assign({},t,{blurs:e[0]}))),t[9]=o,t[10]=d):d=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap],t[11]=u):u=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsxs)(af.Item,{name:"content",label:"Content",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Content"})]}),t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsxs)(af.Item,{name:"media",label:"Media",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Media"})]}),t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsxs)(Fs.default,{style:u,children:[m,h,(0,bt.jsxs)(af.Item,{name:"none",label:"None",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"None"})]})]}),t[14]=p):p=t[14],t[15]!==c||t[16]!==d?(f=(0,bt.jsx)(af.Group,{label:"Blurs",type:"radio",values:c,onChange:d,children:p}),t[15]=c,t[16]=d,t[17]=f):f=t[17],t[18]!==f||t[19]!==l?(g=(0,bt.jsx)(Fs.default,{style:l,children:f}),t[18]=f,t[19]=l,t[20]=g):g=t[20],t[21]!==g||t[22]!==i?(x=(0,bt.jsxs)(Fs.default,{children:[i,g]}),t[21]=g,t[22]=i,t[23]=x):x=t[23],t[24]!==a.atoms.text?(_=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xs,a.atoms.text,qs.atoms.pl_md,qs.atoms.pb_xs],children:"Severity"}),t[24]=a.atoms.text,t[25]=_):_=t[25],t[26]!==a.atoms.bg||t[27]!==a.atoms.border_contrast_medium?(y=[qs.atoms.border,qs.atoms.rounded_full,qs.atoms.px_md,qs.atoms.py_sm,a.atoms.border_contrast_medium,a.atoms.bg],t[26]=a.atoms.bg,t[27]=a.atoms.border_contrast_medium,t[28]=y):y=t[28],t[29]!==s.severity?(b=[s.severity],t[29]=s.severity,t[30]=b):b=t[30],t[31]!==o?(j=e=>o((t=>Object.assign({},t,{severity:e[0]}))),t[31]=o,t[32]=j):j=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap,qs.atoms.align_center],t[33]=v):v=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsxs)(af.Item,{name:"alert",label:"Alert",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Alert"})]}),t[34]=S):S=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsxs)(af.Item,{name:"inform",label:"Inform",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"Inform"})]}),t[35]=w):w=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsxs)(Fs.default,{style:v,children:[S,w,(0,bt.jsxs)(af.Item,{name:"none",label:"None",children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{children:"None"})]})]}),t[36]=T):T=t[36],t[37]!==b||t[38]!==j?(k=(0,bt.jsx)(af.Group,{label:"Severity",type:"radio",values:b,onChange:j,children:T}),t[37]=b,t[38]=j,t[39]=k):k=t[39],t[40]!==y||t[41]!==k?(C=(0,bt.jsx)(Fs.default,{style:y,children:k}),t[40]=y,t[41]=k,t[42]=C):C=t[42],t[43]!==_||t[44]!==C?(I=(0,bt.jsxs)(Fs.default,{children:[_,C]}),t[43]=_,t[44]=C,t[45]=I):I=t[45],t[46]!==r||t[47]!==x||t[48]!==I?(A=(0,bt.jsxs)(Fs.default,{style:r,children:[x,I]}),t[46]=r,t[47]=x,t[48]=I,t[49]=A):A=t[49],A}function xj(e){const t=(0,n.c)(16),{label:s,children:o}=e,a=(0,qs.useTheme)(),[r,i]=lt.useState(!1);let l,c,d;t[0]!==a.atoms.border_contrast_medium?(l=[a.atoms.border_contrast_medium,qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.p_xs],t[0]=a.atoms.border_contrast_medium,t[1]=l):l=t[1],t[2]!==r?(c=()=>i(!r),t[2]=r,t[3]=c):c=t[3],t[4]!==s?(d=(0,bt.jsx)(ao.ButtonText,{children:s}),t[4]=s,t[5]=d):d=t[5];const u=r?mn.ChevronTop_Stroke2_Corner0_Rounded:mn.ChevronBottom_Stroke2_Corner0_Rounded;let m,h;t[6]!==u?(m=(0,bt.jsx)(ao.ButtonIcon,{icon:u,position:"right"}),t[6]=u,t[7]=m):m=t[7],t[8]!==c||t[9]!==d||t[10]!==m?(h=(0,bt.jsxs)(ao.Button,{variant:"solid",color:"secondary",label:"Toggle visibility",size:"small",onPress:c,children:[d,m]}),t[8]=c,t[9]=d,t[10]=m,t[11]=h):h=t[11];const p=r&&o;let f;return t[12]!==l||t[13]!==h||t[14]!==p?(f=(0,bt.jsx)(Fs.default,{style:qs.atoms.mb_md,children:(0,bt.jsxs)(Fs.default,{style:l,children:[h,p]})}),t[12]=l,t[13]=h,t[14]=p,t[15]=f):f=t[15],f}function _j(e){const t=(0,n.c)(14),{label:s,children:o}=e,[a,r]=lt.useState(!1);let i,l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_row],t[0]=i):i=t[0],t[1]!==a?(l=()=>r(!a),t[1]=a,t[2]=l):l=t[2],t[3]!==s?(c=(0,bt.jsx)(ao.ButtonText,{children:s}),t[3]=s,t[4]=c):c=t[4];const d=a?mn.ChevronTop_Stroke2_Corner0_Rounded:mn.ChevronBottom_Stroke2_Corner0_Rounded;let u,m;t[5]!==d?(u=(0,bt.jsx)(ao.ButtonIcon,{icon:d,position:"right"}),t[5]=d,t[6]=u):u=t[6],t[7]!==l||t[8]!==c||t[9]!==u?(m=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsxs)(ao.Button,{variant:"ghost",color:"secondary",label:"Toggle visibility",size:"tiny",onPress:l,children:[c,u]})}),t[7]=l,t[8]=c,t[9]=u,t[10]=m):m=t[10];const h=a&&o;let p;return t[11]!==m||t[12]!==h?(p=(0,bt.jsxs)(Fs.default,{children:[m,h]}),t[11]=m,t[12]=h,t[13]=p):p=t[13],p}function yj(e){const t=(0,n.c)(8),{label:s,data:o}=e;let a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{fontFamily:"monospace"},qs.atoms.p_md],t[0]=a):a=t[0],t[1]!==o?(r=JSON.stringify(o,null,2),t[1]=o,t[2]=r):r=t[2],t[3]!==r?(i=(0,bt.jsx)(co.Text,{style:a,children:r}),t[3]=r,t[4]=i):i=t[4],t[5]!==s||t[6]!==i?(l=(0,bt.jsx)(xj,{label:s,children:i}),t[5]=s,t[6]=i,t[7]=l):l=t[7],l}function bj(e){const t=(0,n.c)(5),{mod:s,label:o}=e;let a,r;return t[0]!==s?(a=(0,bt.jsx)(Fs.default,{style:qs.atoms.p_lg,children:["profileList","profileView","avatar","banner","displayName","contentList","contentView","contentMedia"].map((e=>{const t=s.ui(e);return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,{width:100}],children:e}),(0,bt.jsx)(Cj,{v:t.filter,label:"Filter"}),(0,bt.jsx)(Cj,{v:t.blur,label:"Blur"}),(0,bt.jsx)(Cj,{v:t.alert,label:"Alert"}),(0,bt.jsx)(Cj,{v:t.inform,label:"Inform"}),(0,bt.jsx)(Cj,{v:t.noOverride,label:"No-override"})]},e)}))}),t[0]=s,t[1]=a):a=t[1],t[2]!==o||t[3]!==a?(r=(0,bt.jsx)(xj,{label:o,children:a}),t[2]=o,t[3]=a,t[4]=r):r=t[4],r}function jj(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(Fs.default,{style:{height:30}}),e[0]=t):t=e[0],t}function vj(e){const t=(0,n.c)(6),{post:s,moderation:o}=e,a=(0,qs.useTheme)();if(o.ui("contentList").filter){let e;return t[0]!==a.atoms.bg_contrast_25?(e=(0,bt.jsx)(co.P,{style:[a.atoms.bg_contrast_25,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.mb_lg],children:"Filtered from the feed"}),t[0]=a.atoms.bg_contrast_25,t[1]=e):e=t[1],e}const r=s.record;let i;return t[2]!==o||t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(bg,{post:s,record:r,moderation:o,parentAuthor:void 0,showReplyTo:!1,reason:void 0,feedContext:"",reqId:void 0,rootPost:s}),t[2]=o,t[3]=s,t[4]=r,t[5]=i):i=t[5],i}function Sj(e){const t=(0,n.c)(7),{post:s,moderationOpts:o,isReply:a}=e,r=a?1:0;let i;t[0]!==o||t[1]!==s||t[2]!==r?(i=(0,Ea.threadPost)({uri:s.uri,depth:r,value:{$type:"app.bsky.unspecced.defs#threadItemPost",post:s,moreParents:!1,moreReplies:0,opThread:!1,hiddenByThreadgate:!1,mutedByViewer:!1},moderationOpts:o,threadgateHiddenReplies:new Set}),t[0]=o,t[1]=s,t[2]=r,t[3]=i):i=t[3];const l=i;let c;return t[4]!==a||t[5]!==l?(c=a?(0,bt.jsx)(Wx,{item:l}):(0,bt.jsx)(Px,{item:l}),t[4]=a,t[5]=l,t[6]=c):c=t[6],c}function wj(e){const t=(0,n.c)(5),{notif:s,moderationOpts:o}=e,a=(0,qs.useTheme)();if((0,Pa.shouldFilterNotif)(s.notification,o)){let e;return t[0]!==a.atoms.bg_contrast_25?(e=(0,bt.jsx)(co.P,{style:[a.atoms.bg_contrast_25,qs.atoms.px_lg,qs.atoms.py_md],children:"Filtered from the feed"}),t[0]=a.atoms.bg_contrast_25,t[1]=e):e=t[1],e}let r;return t[2]!==o||t[3]!==s?(r=(0,bt.jsx)(sj,{item:s,moderationOpts:o,highlightUnread:!0}),t[2]=o,t[3]=s,t[4]=r):r=t[4],r}function Tj(e){const t=(0,n.c)(5),{profile:s,moderation:o}=e,a=(0,qs.useTheme)(),r=(0,ds.useModerationOpts)();if(!r)return null;if(o.ui("profileList").filter){let e;return t[0]!==a.atoms.bg_contrast_25?(e=(0,bt.jsx)(co.P,{style:[a.atoms.bg_contrast_25,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.mb_lg],children:"Filtered from the listing"}),t[0]=a.atoms.bg_contrast_25,t[1]=e):e=t[1],e}let i;return t[2]!==r||t[3]!==s?(i=(0,bt.jsx)(Rl.Card,{profile:s,moderationOpts:r}),t[2]=r,t[3]=s,t[4]=i):i=t[4],i}function kj(e){const t=(0,n.c)(20),{profile:s,moderation:o,moderationOpts:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)();let l,c,d,u;t[0]!==r.atoms.border_contrast_medium?(l=[r.atoms.border_contrast_medium,qs.atoms.border,qs.atoms.mb_md],t[0]=r.atoms.border_contrast_medium,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c={},t[2]=c):c=t[2],t[3]!==i?(d=i({id:"bbvfbr"}),t[3]=i,t[4]=d):d=t[4],t[5]!==o?(u=o.ui("profileView"),t[5]=o,t[6]=u):u=t[6];const m=s.description;let h,p,f,g;return t[7]!==m?(h=new Dn.RichText({text:m}),t[7]=m,t[8]=h):h=t[8],t[9]!==a||t[10]!==s||t[11]!==h?(p=(0,bt.jsx)(Pb,{profile:s,moderationOpts:a,descriptionRT:h}),t[9]=a,t[10]=s,t[11]=h,t[12]=p):p=t[12],t[13]!==d||t[14]!==u||t[15]!==p?(f=(0,bt.jsx)(Rb,{style:c,screenDescription:d,modui:u,children:p}),t[13]=d,t[14]=u,t[15]=p,t[16]=f):f=t[16],t[17]!==l||t[18]!==f?(g=(0,bt.jsx)(Fs.default,{style:l,children:f}),t[17]=l,t[18]=f,t[19]=g):g=t[19],g}function Cj(e){const t=(0,n.c)(17),{v:s,label:o}=e,a=(0,qs.useTheme)();let r,i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],t[0]=r):r=t[0],t[1]!==a.palette.contrast_25?(i={backgroundColor:a.palette.contrast_25,width:14,height:14},t[1]=a.palette.contrast_25,t[2]=i):i=t[2],t[3]!==a.atoms.border_contrast_medium||t[4]!==i?(l=[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.rounded_xs,qs.atoms.border,a.atoms.border_contrast_medium,i],t[3]=a.atoms.border_contrast_medium,t[4]=i,t[5]=l):l=t[5],t[6]!==a.palette.contrast_900||t[7]!==s?(c=s&&(0,bt.jsx)(ro.Check_Stroke2_Corner0_Rounded,{size:"xs",fill:a.palette.contrast_900}),t[6]=a.palette.contrast_900,t[7]=s,t[8]=c):c=t[8],t[9]!==l||t[10]!==c?(d=(0,bt.jsx)(Fs.default,{style:l,children:c}),t[9]=l,t[10]=c,t[11]=d):d=t[11],t[12]!==o?(u=(0,bt.jsx)(co.P,{style:qs.atoms.text_xs,children:o}),t[12]=o,t[13]=u):u=t[13],t[14]!==d||t[15]!==u?(m=(0,bt.jsxs)(Fs.default,{style:r,children:[d,u]}),t[14]=d,t[15]=u,t[16]=m):m=t[16],m}var Ij=s(73432),Aj=s.n(Ij),Pj=s(28724),Ej=s(11600);const Lj={code:'function useMinimalShellTransformTs1(){const{headerMode,interpolate,headerHeight}=this.__closure;const headerModeValue=headerMode.get();return{pointerEvents:headerModeValue===0?"auto":"none",opacity:Math.pow(1-headerModeValue,2),transform:[{translateY:interpolate(headerModeValue,[0,1],[0,-headerHeight.get()])}]};}'};const Rj={code:'function useMinimalShellTransformTs2(){const{footerMode,interpolate,footerHeight}=this.__closure;const footerModeValue=footerMode.get();return{pointerEvents:footerModeValue===0?"auto":"none",opacity:Math.pow(1-footerModeValue,2),transform:[{translateY:interpolate(footerModeValue,[0,1],[0,footerHeight.get()])}]};}'};function Bj(){const{footerMode:e}=(0,Pj.useMinimalShellMode)(),{footerHeight:t}=(0,Ej.useShellLayout)();return(0,yn.useAnimatedStyle)(function(){const s=function(){const s=e.get();return{pointerEvents:0===s?"auto":"none",opacity:Math.pow(1-s,2),transform:[{translateY:(0,yn.interpolate)(s,[0,1],[0,t.get()])}]}};return s.__closure={footerMode:e,interpolate:yn.interpolate,footerHeight:t},s.__workletHash=2541385304907,s.__initData=Rj,s}())}const Dj={code:"function useMinimalShellTransformTs3(){const{interpolate,footerMode}=this.__closure;return{transform:[{translateY:interpolate(footerMode.get(),[0,1],[-44,0])}]};}"};function Oj(){const{footerMode:e}=(0,Pj.useMinimalShellMode)();return(0,yn.useAnimatedStyle)(function(){const t=()=>({transform:[{translateY:(0,yn.interpolate)(e.get(),[0,1],[-44,0])}]});return t.__closure={interpolate:yn.interpolate,footerMode:e},t.__workletHash=0xffaf6ceb2b4,t.__initData=Dj,t}())}const Mj=["testID","icon","onPress","style"];function Fj(e){const t=(0,n.c)(38);let s,o,a,r,i;if(t[0]!==e){var l=e;({testID:i,icon:s,onPress:o,style:r}=l),a=(0,ta.default)(l,Mj),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5];const c=(0,ct.useSafeAreaInsets)(),{gtMobile:d}=(0,qs.useBreakpoints)(),u=(0,qs.useTheme)(),m=(0,im.useHaptics)(),h=Oj(),p=d?Nj.sizeLarge:Nj.sizeRegular;let f;t[6]!==d||t[7]!==c?(f=d?{right:50,bottom:50}:{right:24,bottom:Kr(c.bottom,15,60)+15},t[6]=d,t[7]=c,t[8]=f):f=t[8];const g=f,x=!d&&h;let _,y,b,j,v,S,w,T;return t[9]!==p||t[10]!==x||t[11]!==g?(_=[Nj.outer,p,g,x],t[9]=p,t[10]=x,t[11]=g,t[12]=_):_=t[12],t[13]!==m?(y=(0,qs.ios)((()=>m("Light"))),t[13]=m,t[14]=y):y=t[14],t[15]!==o||t[16]!==m?(b=e=>{o?.(e),m("Light")},t[15]=o,t[16]=m,t[17]=b):b=t[17],t[18]!==o||t[19]!==m?(j=(0,qs.ios)((e=>{o?.(e),m("Heavy")})),t[18]=o,t[19]=m,t[20]=j):j=t[20],t[21]!==u.palette.primary_500?(v={backgroundColor:u.palette.primary_500},t[21]=u.palette.primary_500,t[22]=v):v=t[22],t[23]!==p||t[24]!==r||t[25]!==v?(S=[qs.atoms.rounded_full,p,v,qs.atoms.align_center,qs.atoms.justify_center,r],t[23]=p,t[24]=r,t[25]=v,t[26]=S):S=t[26],t[27]!==s||t[28]!==a||t[29]!==y||t[30]!==b||t[31]!==j||t[32]!==S||t[33]!==i?(w=(0,bt.jsx)(hd,Object.assign({testID:i,onPressIn:y,onPress:b,onLongPress:j,targetScale:.9,style:S},a,{children:s})),t[27]=s,t[28]=a,t[29]=y,t[30]=b,t[31]=j,t[32]=S,t[33]=i,t[34]=w):w=t[34],t[35]!==_||t[36]!==w?(T=(0,bt.jsx)(yn.default.View,{style:_,children:w}),t[35]=_,t[36]=w,t[37]=T):T=t[37],T}const Nj=Os.default.create({sizeRegular:{width:56,height:56,borderRadius:30},sizeLarge:{width:70,height:70,borderRadius:35},outer:{position:r.IS_WEB?"fixed":"absolute",zIndex:1,cursor:"pointer"}}),Hj=e=>{const t=(0,n.c)(3),{isDesktop:s}=(0,jn.useWebMediaQueries)();if(!s){let s;return t[0]!==e?(s=(0,bt.jsx)(Fj,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}let o;return t[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(Fs.default,{}),t[2]=o):o=t[2],o};function Vj(e){const t=(0,n.c)(15),{onAddFeed:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{mutateAsync:r}=(0,xr.useAddSavedFeedsMutation)();let i;t[0]!==r||t[1]!==s?(i=e=>(e.preventDefault(),r([Object.assign({},Vt.TIMELINE_SAVED_FEED,{pinned:!0})]),s?.(),!1),t[0]=r,t[1]=s,t[2]=i):i=t[2];const l=i;let c,d,u,m,h,p;return t[3]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.align_center,qs.atoms.py_md,qs.atoms.px_lg],t[3]=c):c=t[3],t[4]!==o.atoms.text_contrast_medium?(d=[qs.atoms.leading_snug,o.atoms.text_contrast_medium],t[4]=o.atoms.text_contrast_medium,t[5]=d):d=t[5],t[6]!==a?(u=a({id:"4ob45l"}),t[6]=a,t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.leading_snug],t[8]=m):m=t[8],t[9]!==l||t[10]!==u?(h=(0,bt.jsx)(dt.Trans,{id:"SmZpBz",components:{0:(0,bt.jsx)(io.InlineLinkText,{to:"#",label:u,onPress:l,style:m})}}),t[9]=l,t[10]=u,t[11]=h):h=t[11],t[12]!==d||t[13]!==h?(p=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsx)(co.Text,{style:d,children:h})}),t[12]=d,t[13]=h,t[14]=p):p=t[14],p}function zj(e){const t=(0,n.c)(25),{onAddRecommendedFeeds:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{isPending:r,mutateAsync:i}=(0,xr.useOverwriteSavedFeedsMutation)();let l;t[0]!==s||t[1]!==i?(l=async()=>{s?.(),await i(Vt.RECOMMENDED_SAVED_FEEDS.map(Uj))},t[0]=s,t[1]=i,t[2]=l):l=t[2];const c=l;let d,u,m,h,p,f,g,x,_,y,b;return t[3]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.justify_between,qs.atoms.p_xl,qs.atoms.gap_md],t[3]=d):d=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(u={maxWidth:310},t[4]=u):u=t[4],t[5]!==o.atoms.text_contrast_medium?(m=[qs.atoms.leading_snug,o.atoms.text_contrast_medium,u],t[5]=o.atoms.text_contrast_medium,t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"MlaGL7"}),t[7]=h):h=t[7],t[8]!==m?(p=(0,bt.jsx)(co.Text,{style:m,children:h}),t[8]=m,t[9]=p):p=t[9],t[10]!==a?(f=a({id:"d9Y8Uw"}),t[10]=a,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),t[12]=g):g=t[12],t[13]!==a?(x=a({id:"GEQ5Mf"}),t[13]=a,t[14]=x):x=t[14],t[15]!==x?(_=(0,bt.jsx)(ao.ButtonText,{children:x}),t[15]=x,t[16]=_):_=t[16],t[17]!==c||t[18]!==r||t[19]!==_||t[20]!==f?(y=(0,bt.jsxs)(ao.Button,{disabled:r,label:f,size:"small",color:"primary_subtle",onPress:c,children:[g,_]}),t[17]=c,t[18]=r,t[19]=_,t[20]=f,t[21]=y):y=t[21],t[22]!==y||t[23]!==p?(b=(0,bt.jsxs)(Fs.default,{style:d,children:[p,y]}),t[22]=y,t[23]=p,t[24]=b):b=t[24],b}function Uj(e){return Object.assign({},e,{id:I_.TID.nextStr()})}const Wj=["value","label","onClearText"],Gj=lt.forwardRef((function(e,t){const s=(0,n.c)(29);let o,a,i,l;if(s[0]!==e){var c=e;({value:l,label:o,onClearText:a}=c),i=(0,ta.default)(c,Wj),s[0]=e,s[1]=o,s[2]=a,s[3]=i,s[4]=l}else o=s[1],a=s[2],i=s[3],l=s[4];const d=(0,qs.useTheme)(),{_:u}=(0,dt.useLingui)(),m=l&&l.length>0;let h,p,f,g,x,_,y,b;return s[5]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.w_full,qs.atoms.relative],s[5]=h):h=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(mo.Icon,{icon:Hl.MagnifyingGlass_Stroke2_Corner0_Rounded}),s[6]=p):p=s[6],s[7]!==u||s[8]!==o?(f=o||u({id:"A1taO8"}),s[7]=u,s[8]=o,s[9]=f):f=s[9],s[10]!==u?(g=u({id:"A1taO8"}),s[10]=u,s[11]=g):g=s[11],s[12]!==m?(x=[m?{paddingRight:24}:{}],s[12]=m,s[13]=x):x=s[13],s[14]!==t||s[15]!==i||s[16]!==d.scheme||s[17]!==f||s[18]!==g||s[19]!==x||s[20]!==l?(_=(0,bt.jsxs)(mo.Root,{children:[p,(0,bt.jsx)(mo.Input,Object.assign({inputRef:t,label:f,value:l,placeholder:g,returnKeyType:"search",keyboardAppearance:d.scheme,selectTextOnFocus:r.IS_NATIVE,autoFocus:!1,accessibilityRole:"search",autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",style:x},i))]}),s[14]=t,s[15]=i,s[16]=d.scheme,s[17]=f,s[18]=g,s[19]=x,s[20]=l,s[21]=_):_=s[21],s[22]!==u||s[23]!==a||s[24]!==m?(y=m&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.z_20,qs.atoms.my_auto,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.pr_sm,{left:"auto"}],children:(0,bt.jsx)(ao.Button,{testID:"searchTextInputClearBtn",onPress:a,label:u({id:"QbvBNV"}),hitSlop:Vt.HITSLOP_10,size:"tiny",shape:"round",variant:"ghost",color:"secondary",children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"xs"})})}),s[22]=u,s[23]=a,s[24]=m,s[25]=y):y=s[25],s[26]!==_||s[27]!==y?(b=(0,bt.jsxs)(Fs.default,{style:h,children:[_,y]}),s[26]=_,s[27]=y,s[28]=b):b=s[28],b}));function qj(e){const t=(0,n.c)(19),{icon:s,size:o,style:a,iconStyle:r}=e,i=void 0===o?"xl":o,l=(0,qs.useTheme)(),c="lg"===i?52:64,d="lg"===i?52:64;let u,m,h,p,f,g;return t[0]!==l.palette.primary_50||t[1]!==c||t[2]!==d?(u={width:c,height:d,backgroundColor:l.palette.primary_50},t[0]=l.palette.primary_50,t[1]=c,t[2]=d,t[3]=u):u=t[3],t[4]!==a||t[5]!==u?(m=[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.rounded_full,u,a],t[4]=a,t[5]=u,t[6]=m):m=t[6],t[7]!==l.palette.primary_500?(h={color:l.palette.primary_500},t[7]=l.palette.primary_500,t[8]=h):h=t[8],t[9]!==r||t[10]!==h?(p=[h,r],t[9]=r,t[10]=h,t[11]=p):p=t[11],t[12]!==s||t[13]!==i||t[14]!==p?(f=(0,bt.jsx)(s,{size:i,style:p}),t[12]=s,t[13]=i,t[14]=p,t[15]=f):f=t[15],t[16]!==m||t[17]!==f?(g=(0,bt.jsx)(Fs.default,{style:m,children:f}),t[16]=m,t[17]=f,t[18]=g):g=t[18],g}const Qj=(0,ti.createSinglePathSVG)({path:"M7.002 5a1 1 0 0 0-2 0v11.587l-1.295-1.294a1 1 0 0 0-1.414 1.414l3.002 3a1 1 0 0 0 1.414 0l2.998-3a1 1 0 0 0-1.414-1.414l-1.291 1.292V5ZM16 16a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-4Zm-3-4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1Zm-1-6a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-8Z"}),Kj=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h13a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm1 4a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2H4Zm-1 7a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h13a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm9-8a4 4 0 1 1 7.446 2.032l.99.989a1 1 0 1 1-1.415 1.414l-.99-.989A4 4 0 0 1 12 12Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"});function Zj(e){const t=(0,bn.usePalette)("default"),{openComposer:s}=Wo(),{isMobile:o}=(0,jn.useWebMediaQueries)(),[a,i]=lt.useState(""),[l,c]=lt.useState(!1),{data:d,isPlaceholderData:u,error:m,refetch:h}=Fr(),{data:p,isFetching:f,error:g,refetch:x,fetchNextPage:_,isFetchingNextPage:y,hasNextPage:b}=kr(),{_:j}=(0,dt.useLingui)(),v=(0,hs.useSetMinimalShellMode)(),{data:S,mutate:w,reset:T,isPending:k,error:C}=function(){const e=(0,n.c)(3),t=(0,Gt.useAgent)(),s=(0,ds.useModerationOpts)();let o;return e[0]!==t||e[1]!==s?(o={mutationFn:async e=>{const o=await t.app.bsky.unspecced.getPopularFeedGenerators({limit:10,query:e});return s?o.data.feeds.filter((e=>!(0,Dn.moderateFeedGenerator)(e,s).ui("contentMedia").blur)):o.data.feeds}},e[0]=t,e[1]=s,e[2]=o):o=e[2],(0,go.useMutation)(o)}(),{hasSession:I}=(0,Gt.useSession)(),A=lt.useRef(null),P=a.length>1,E=lt.useMemo((()=>Aj()((e=>w(e)),500)),[w]),L=lt.useCallback((()=>{s({logContext:"Fab"})}),[s]),R=lt.useCallback((e=>{i(e),e.length>1?E(e):(x(),T())}),[i,x,E,T]),B=lt.useCallback((()=>{i(""),x(),T()}),[x,i,T]),D=lt.useCallback((()=>{E(a)}),[a,E]),O=lt.useCallback((async()=>{c(!0),await Promise.all([h().catch((e=>{})),x().catch((e=>{}))]),c(!1)}),[c,h,x]),M=lt.useCallback((()=>{f||P||!b||g||_()}),[f,P,g,b,_]);(0,Ns.useFocusEffect)(lt.useCallback((()=>{v(!1)}),[v]));const F=lt.useMemo((()=>{let e=[];const t=!I||I&&(!u||u&&(d?.count||0)>0);if(I)if(e.push({key:"savedFeedsHeader",type:"savedFeedsHeader"}),m)e.push({key:"savedFeedsError",type:"error",error:(0,Tn.cleanError)(m.toString())});else if(u&&!d?.feeds.length){const t=8,s=d?0===d.count?t:d.count:t;Array(s).fill(0).forEach(((t,s)=>{e.push({key:"savedFeedPlaceholder"+s,type:"savedFeedPlaceholder"})}))}else if(d?.feeds?.length){const t=d.feeds.every((e=>"timeline"!==e.type));e=e.concat(d.feeds.filter((e=>e.config.pinned)).map((e=>({key:`savedFeed:${e.view?.uri}:${e.config.id}`,type:"savedFeed",savedFeed:e})))),e=e.concat(d.feeds.filter((e=>!e.config.pinned)).map((e=>({key:`savedFeed:${e.view?.uri}:${e.config.id}`,type:"savedFeed",savedFeed:e})))),t&&e.push({key:"noFollowingFeed",type:"noFollowingFeed"})}else e.push({key:"savedFeedNoResults",type:"savedFeedNoResults"});if(!I||I&&t)if(e.push({key:"popularFeedsHeader",type:"popularFeedsHeader"}),g||C)e.push({key:"popularFeedsError",type:"error",error:(0,Tn.cleanError)(g?.toString()??C?.toString()??"")});else if(P)k||!S?e.push({key:"popularFeedsLoading",type:"popularFeedsLoading"}):S&&0!==S?.length?e=e.concat(S.map((e=>({key:`popularFeed:${e.uri}`,type:"popularFeed",feedUri:e.uri,feed:e})))):e.push({key:"popularFeedsNoResults",type:"popularFeedsNoResults"});else if(f&&!p?.pages)e.push({key:"popularFeedsLoading",type:"popularFeedsLoading"});else if(p?.pages){for(const t of p.pages||[])e=e.concat(t.feeds.map((e=>({key:`popularFeed:${e.uri}`,type:"popularFeed",feedUri:e.uri,feed:e}))));y&&e.push({key:"popularFeedsLoadingMore",type:"popularFeedsLoadingMore"})}else e.push({key:"popularFeedsNoResults",type:"popularFeedsNoResults"});return e}),[I,d,u,m,p,f,g,y,S,k,C,P]),N=F.findIndex((e=>"popularFeedsHeader"===e.type)),H=lt.useCallback((e=>{if(e&&N>-1)if(r.IS_NATIVE)A.current?.scrollToIndex({index:N,animated:!0});else{const e=o?43:53,t=o?49:58;A.current?.scrollToOffset({offset:N*t-e,animated:!0})}}),[N,o]),V=lt.useCallback((({item:e})=>"error"===e.type?(0,bt.jsx)(Dy.ErrorMessage,{message:e.error}):"popularFeedsLoadingMore"===e.type?(0,bt.jsx)(Fs.default,{style:kn.s.p10,children:(0,bt.jsx)(vn.default,{size:"large"})}):"savedFeedsHeader"===e.type?(0,bt.jsx)(ev,{}):"savedFeedNoResults"===e.type?(0,bt.jsx)(Fs.default,{style:[t.border,{borderBottomWidth:1}],children:(0,bt.jsx)(zj,{})}):"savedFeedPlaceholder"===e.type?(0,bt.jsx)(Jj,{}):"savedFeed"===e.type?(0,bt.jsx)(Yj,{savedFeed:e.savedFeed}):"popularFeedsHeader"===e.type?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(tv,{}),(0,bt.jsx)(Fs.default,{style:{paddingHorizontal:12,paddingBottom:4},children:(0,bt.jsx)(Gj,{placeholder:j({id:"X3ibUG"}),value:a,onChangeText:R,onClearText:B,onSubmitEditing:D,onFocus:()=>H(!0),onBlur:()=>H(!1)})})]}):"popularFeedsLoading"===e.type?(0,bt.jsx)(bi,{}):"popularFeed"===e.type?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_lg,qs.atoms.gap_lg],children:[(0,bt.jsx)(xl,{view:e.feed}),(0,bt.jsx)(yo,{})]}):"popularFeedsNoResults"===e.type?(0,bt.jsx)(Fs.default,{style:{paddingHorizontal:16,paddingTop:10,paddingBottom:"150%"},children:(0,bt.jsx)(ua.Text,{type:"lg",style:t.textLight,children:(0,bt.jsx)(dt.Trans,{id:"fOlAiK",values:{query:a}})})}):"noFollowingFeed"===e.type?(0,bt.jsx)(Fs.default,{style:[t.border,{borderBottomWidth:1}],children:(0,bt.jsx)(Vj,{})}):null),[j,t.border,t.textLight,a,R,B,D,H]);return(0,bt.jsxs)(ya.Screen,{testID:"FeedsScreen",children:[(0,bt.jsxs)(ya.Center,{children:[(0,bt.jsxs)(ya.Header.Outer,{children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"2DoBvq"})})}),(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(io.Link,{testID:"editFeedsBtn",to:"/settings/saved-feeds",label:j({id:"cLmurE"}),size:"small",variant:"ghost",color:"secondary",shape:"round",style:[qs.atoms.justify_center,{right:-3}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:Tf,size:"lg"})})})]}),(0,bt.jsx)(ei.List,{ref:A,data:F,keyExtractor:e=>e.key,contentContainerStyle:sv.contentContainer,renderItem:V,refreshing:l,onRefresh:P?void 0:O,initialNumToRender:10,onEndReached:M,desktopFixedHeight:!0,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",sideBorders:!1})]}),I&&(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:L,icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:kn.s.white}),accessibilityRole:"button",accessibilityLabel:j({id:"2B7HLH"}),accessibilityHint:""})]})}function Yj(e){const t=(0,n.c)(2),{savedFeed:s}=e;let o;return t[0]!==s?(o="timeline"===s.type?(0,bt.jsx)($j,{}):(0,bt.jsx)(Xj,{savedFeed:s}),t[0]=s,t[1]=o):o=t[1],o}function $j(){const e=(0,n.c)(20),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)();let o,a,r,i,l,c,d,u,m;return e[0]!==t.atoms.border_contrast_low?(o=[qs.atoms.flex_1,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=o):o=e[1],e[2]!==t.palette.primary_500?(a=[qs.atoms.align_center,qs.atoms.justify_center,{width:28,height:28,borderRadius:3,backgroundColor:t.palette.primary_500}],e[2]=t.palette.primary_500,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[{width:18,height:18}],e[4]=r):r=e[4],e[5]!==t.palette.white?(i=(0,bt.jsx)(Qj,{style:r,fill:t.palette.white}),e[5]=t.palette.white,e[6]=i):i=e[6],e[7]!==a||e[8]!==i?(l=(0,bt.jsx)(Fs.default,{style:a,children:i}),e[7]=a,e[8]=i,e[9]=l):l=e[9],e[10]!==s?(c=s({id:"CF9uW8"}),e[10]=s,e[11]=c):c=e[11],e[12]!==c?(d=(0,bt.jsx)(Sl,{title:c}),e[12]=c,e[13]=d):d=e[13],e[14]!==l||e[15]!==d?(u=(0,bt.jsxs)(bl,{children:[l,d]}),e[14]=l,e[15]=d,e[16]=u):u=e[16],e[17]!==o||e[18]!==u?(m=(0,bt.jsx)(Fs.default,{style:o,children:u}),e[17]=o,e[18]=u,e[19]=m):m=e[19],m}function Xj(e){const t=(0,n.c)(7),{savedFeed:s}=e,o=(0,qs.useTheme)();let a;t[0]!==o.atoms.border_contrast_low?(a=[qs.atoms.w_full,qs.atoms.flex_1,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.border_b,o.atoms.border_contrast_low],t[0]=o.atoms.border_contrast_low,t[1]=a):a=t[1];const r=a;let i;return t[2]!==r||t[3]!==s||t[4]!==o.atoms.bg_contrast_25||t[5]!==o.atoms.text_contrast_low.color?(i="feed"===s.type?(0,bt.jsx)(_l,Object.assign({testID:`saved-feed-${s.view.displayName}`},s,{children:e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsx)(Fs.default,{style:[r,(t||n)&&o.atoms.bg_contrast_25],children:(0,bt.jsxs)(bl,{children:[(0,bt.jsx)(jl,{src:s.view.avatar,size:28}),(0,bt.jsx)(Sl,{title:s.view.displayName}),(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"sm",fill:o.atoms.text_contrast_low.color})]})})}})):(0,bt.jsx)(sh,Object.assign({testID:`saved-feed-${s.view.name}`},s,{children:e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsx)(Fs.default,{style:[r,(t||n)&&o.atoms.bg_contrast_25],children:(0,bt.jsxs)(bl,{children:[(0,bt.jsx)(jl,{src:s.view.avatar,size:28}),(0,bt.jsx)(oh,{title:s.view.name}),(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"sm",fill:o.atoms.text_contrast_low.color})]})})}})),t[2]=r,t[3]=s,t[4]=o.atoms.bg_contrast_25,t[5]=o.atoms.text_contrast_low.color,t[6]=i):i=t[6],i}function Jj(){const e=(0,n.c)(5),t=(0,qs.useTheme)();let s,o,a;return e[0]!==t.atoms.border_contrast_low?(s=[qs.atoms.flex_1,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsxs)(bl,{children:[(0,bt.jsx)(vl,{size:28}),(0,bt.jsx)(wl,{})]}),e[2]=o):o=e[2],e[3]!==s?(a=(0,bt.jsx)(Fs.default,{style:s,children:o}),e[3]=s,e[4]=a):a=e[4],a}function ev(){const e=(0,n.c)(20),t=(0,qs.useTheme)();let s,o,a,i,l,c,d,u,m,h,p;return e[0]!==t.atoms.border_contrast_low?(s=r.IS_WEB?[qs.atoms.flex_row,qs.atoms.px_md,qs.atoms.py_lg,qs.atoms.gap_md,qs.atoms.border_b,t.atoms.border_contrast_low]:[{flexDirection:"row-reverse"},qs.atoms.p_lg,qs.atoms.gap_md,qs.atoms.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(qj,{icon:v_,size:"lg"}),e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1,qs.atoms.gap_xs],e[3]=a):a=e[3],e[4]!==t.atoms.text?(i=[qs.atoms.flex_1,qs.atoms.text_2xl,qs.atoms.font_bold,t.atoms.text],e[4]=t.atoms.text,e[5]=i):i=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"6MBNS/"}),e[6]=l):l=e[6],e[7]!==i?(c=(0,bt.jsx)(ua.Text,{style:i,children:l}),e[7]=i,e[8]=c):c=e[8],e[9]!==t.atoms.text_contrast_high?(d=[t.atoms.text_contrast_high],e[9]=t.atoms.text_contrast_high,e[10]=d):d=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"OMY6Uw"}),e[11]=u):u=e[11],e[12]!==d?(m=(0,bt.jsx)(ua.Text,{style:d,children:u}),e[12]=d,e[13]=m):m=e[13],e[14]!==c||e[15]!==m?(h=(0,bt.jsxs)(Fs.default,{style:a,children:[c,m]}),e[14]=c,e[15]=m,e[16]=h):h=e[16],e[17]!==s||e[18]!==h?(p=(0,bt.jsxs)(Fs.default,{style:s,children:[o,h]}),e[17]=s,e[18]=h,e[19]=p):p=e[19],p}function tv(){const e=(0,n.c)(16),t=(0,qs.useTheme)();let s,o,a,i,l,c,d,u,m,h;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=r.IS_WEB?[qs.atoms.flex_row,qs.atoms.px_md,qs.atoms.pt_lg,qs.atoms.pb_lg,qs.atoms.gap_md]:[{flexDirection:"row-reverse"},qs.atoms.p_lg,qs.atoms.gap_md],o=(0,bt.jsx)(qj,{icon:Kj,size:"lg"}),e[0]=s,e[1]=o):(s=e[0],o=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1,qs.atoms.gap_sm],e[2]=a):a=e[2],e[3]!==t.atoms.text?(i=[qs.atoms.flex_1,qs.atoms.text_2xl,qs.atoms.font_bold,t.atoms.text],e[3]=t.atoms.text,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"j89vnL"}),e[5]=l):l=e[5],e[6]!==i?(c=(0,bt.jsx)(ua.Text,{style:i,children:l}),e[6]=i,e[7]=c):c=e[7],e[8]!==t.atoms.text_contrast_high?(d=[t.atoms.text_contrast_high],e[8]=t.atoms.text_contrast_high,e[9]=d):d=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"kFJxcC"}),e[10]=u):u=e[10],e[11]!==d?(m=(0,bt.jsx)(ua.Text,{style:d,children:u}),e[11]=d,e[12]=m):m=e[12],e[13]!==c||e[14]!==m?(h=(0,bt.jsxs)(Fs.default,{style:s,children:[o,(0,bt.jsxs)(Fs.default,{style:a,children:[c,m]})]}),e[13]=c,e[14]=m,e[15]=h):h=e[15],h}const sv=Os.default.create({contentContainer:{paddingBottom:100},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:16,paddingHorizontal:18,paddingVertical:12},savedFeed:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:14,gap:12,borderBottomWidth:Os.default.hairlineWidth},savedFeedMobile:{paddingVertical:10},offlineSlug:{borderWidth:Os.default.hairlineWidth,borderRadius:4,paddingHorizontal:4,paddingVertical:2},headerBtnGroup:{flexDirection:"row",gap:15,alignItems:"center"}});function ov(e){const t=(0,n.c)(5),s=(0,Ns.useNavigation)(),o=(0,us.useUnreadNotifications)();let a,r;t[0]!==s||t[1]!==o||t[2]!==e?(a=()=>{e&&s.setOptions({title:Jn(e,o)})},r=[e,s,o],t[0]=s,t[1]=o,t[2]=e,t[3]=a,t[4]=r):(a=t[3],r=t[4]),(0,lt.useEffect)(a,r)}var nv=s(59786);function av(){const{isDesktop:e,isTablet:t}=(0,jn.useWebMediaQueries)(),{fontScale:s}=(0,Qr.default)();if(e||t)return 0;return 75+20*s-4}var rv=s(76603);function iv(e){const t=(0,n.c)(29),{onPress:s,label:o}=e,{hasSession:a}=(0,Gt.useSession)(),{isDesktop:r,isTablet:i,isMobile:l,isTabletOrMobile:c}=(0,jn.useWebMediaQueries)(),{centerColumnOffset:d}=(0,qs.useLayoutBreakpoints)(),u=Oj(),m=(0,ct.useSafeAreaInsets)(),h=(0,qs.useTheme)(),{state:p,onIn:f,onOut:g}=(0,la.useInteractionState)();let x;t[0]===Symbol.for("react.memo_cache_sentinel")?(x={minHeight:700},t[0]=x):x=t[0];const _=(0,rv.useMediaQuery)(x),y=a?l:c,b=(i?50:Kr(m.bottom,15,60)+15)+54;let j;t[1]!==b?(j={bottom:b},t[1]=b,t[2]=j):j=t[2];const v=j;let S;t[3]===Symbol.for("react.memo_cache_sentinel")?(S={left:18},t[3]=S):S=t[3];const w=r&&(_?lv.hideReadOutOfLine:lv.hideReadInline),T=i&&(d?lv.hideReadInlineOffset:lv.hideReadInline),k=y&&u;let C,I,A,P,E,L,R,B;return t[4]!==v||t[5]!==w||t[6]!==T||t[7]!==k?(C=[qs.atoms.fixed,qs.atoms.z_20,S,w,T,v,k],t[4]=v,t[5]=w,t[6]=T,t[7]=k,t[8]=C):C=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(I={width:42,height:42},t[9]=I):I=t[9],t[10]!==h.atoms.bg||t[11]!==h.atoms.border_contrast_low?(A=[I,qs.atoms.rounded_full,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.border,h.atoms.border_contrast_low,h.atoms.bg],t[10]=h.atoms.bg,t[11]=h.atoms.border_contrast_low,t[12]=A):A=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.rounded_full],t[13]=P):P=t[13],t[14]!==p?(E=(0,bt.jsx)(ju,{hover:p,style:P}),t[14]=p,t[15]=E):E=t[15],t[16]!==h.atoms.text_contrast_medium?(L=(0,bt.jsx)(Oc.EyeSlash_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.z_10,h.atoms.text_contrast_medium]}),t[16]=h.atoms.text_contrast_medium,t[17]=L):L=t[17],t[18]!==o||t[19]!==f||t[20]!==g||t[21]!==s||t[22]!==A||t[23]!==E||t[24]!==L?(R=(0,bt.jsxs)(hd,{style:A,onPress:s,hitSlop:Vt.HITSLOP_20,accessibilityLabel:o,accessibilityHint:"",targetScale:.9,onPointerEnter:f,onPointerLeave:g,children:[E,L]}),t[18]=o,t[19]=f,t[20]=g,t[21]=s,t[22]=A,t[23]=E,t[24]=L,t[25]=R):R=t[25],t[26]!==R||t[27]!==C?(B=(0,bt.jsx)(yn.default.View,{testID:"hideReadPostsBtn",style:C,children:R}),t[26]=R,t[27]=C,t[28]=B):B=t[28],B}const lv=Os.default.create({hideReadInline:{left:(0,qs.web)("calc(50vw - 282px)")},hideReadInlineOffset:{left:(0,qs.web)(`calc(50vw - 282px + ${ya.CENTER_COLUMN_OFFSET}px)`)},hideReadOutOfLine:{left:(0,qs.web)("calc(50vw - 382px)")}});function cv(e){const t=(0,n.c)(38),{onPress:s,label:o,showIndicator:a}=e,{hasSession:r}=(0,Gt.useSession)(),{isDesktop:i,isTablet:l,isMobile:c,isTabletOrMobile:d}=(0,jn.useWebMediaQueries)(),{centerColumnOffset:u}=(0,qs.useLayoutBreakpoints)(),m=Oj(),h=(0,ct.useSafeAreaInsets)(),p=(0,qs.useTheme)(),{state:f,onIn:g,onOut:x}=(0,la.useInteractionState)();let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={minHeight:700},t[0]=_):_=t[0];const y=(0,rv.useMediaQuery)(_),b=r?c:d;let j;t[1]!==h||t[2]!==l?(j=l?{bottom:50}:{bottom:Kr(h.bottom,15,60)+15},t[1]=h,t[2]=l,t[3]=j):j=t[3];const v=j;let S;t[4]===Symbol.for("react.memo_cache_sentinel")?(S={left:18},t[4]=S):S=t[4];const w=i&&(y?dv.loadLatestOutOfLine:dv.loadLatestInline),T=l&&(u?dv.loadLatestInlineOffset:dv.loadLatestInline),k=b&&m;let C,I,A,P,E,L,R,B,D,O;return t[5]!==v||t[6]!==w||t[7]!==T||t[8]!==k?(C=[qs.atoms.fixed,qs.atoms.z_20,S,w,T,v,k],t[5]=v,t[6]=w,t[7]=T,t[8]=k,t[9]=C):C=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(I={width:42,height:42},t[10]=I):I=t[10],t[11]!==a||t[12]!==p.atoms.bg||t[13]!==p.palette?(A=a?{backgroundColor:p.palette.primary_50}:p.atoms.bg,t[11]=a,t[12]=p.atoms.bg,t[13]=p.palette,t[14]=A):A=t[14],t[15]!==p.atoms.border_contrast_low||t[16]!==A?(P=[I,qs.atoms.rounded_full,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.border,p.atoms.border_contrast_low,A],t[15]=p.atoms.border_contrast_low,t[16]=A,t[17]=P):P=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.rounded_full],t[18]=E):E=t[18],t[19]!==f?(L=(0,bt.jsx)(ju,{hover:f,style:E}),t[19]=f,t[20]=L):L=t[20],t[21]!==a||t[22]!==p.atoms.text_contrast_medium||t[23]!==p.palette?(R=a?{color:p.palette.primary_500}:p.atoms.text_contrast_medium,t[21]=a,t[22]=p.atoms.text_contrast_medium,t[23]=p.palette,t[24]=R):R=t[24],t[25]!==R?(B=(0,bt.jsx)(Al.ArrowTop_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.z_10,R]}),t[25]=R,t[26]=B):B=t[26],t[27]!==o||t[28]!==g||t[29]!==x||t[30]!==s||t[31]!==P||t[32]!==L||t[33]!==B?(D=(0,bt.jsxs)(hd,{style:P,onPress:s,hitSlop:Vt.HITSLOP_20,accessibilityLabel:o,accessibilityHint:"",targetScale:.9,onPointerEnter:g,onPointerLeave:x,children:[L,B]}),t[27]=o,t[28]=g,t[29]=x,t[30]=s,t[31]=P,t[32]=L,t[33]=B,t[34]=D):D=t[34],t[35]!==D||t[36]!==C?(O=(0,bt.jsx)(yn.default.View,{testID:"loadLatestBtn",style:C,children:D}),t[35]=D,t[36]=C,t[37]=O):O=t[37],O}const dv=Os.default.create({loadLatestInline:{left:(0,qs.web)("calc(50vw - 282px)")},loadLatestInlineOffset:{left:(0,qs.web)(`calc(50vw - 282px + ${ya.CENTER_COLUMN_OFFSET}px)`)},loadLatestOutOfLine:{left:(0,qs.web)("calc(50vw - 382px)")}});var uv=s(15082);const mv=200,hv={code:"function MainScrollProviderTsx1(v){const{headerMode,withSpring}=this.__closure;headerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});}"},pv={code:"function MainScrollProviderTsx2(e){const{IS_NATIVE,startDragOffset,startMode,headerHeight,setMode,headerMode}=this.__closure;const offsetY=Math.max(0,e.contentOffset.y);if(IS_NATIVE){const startDragOffsetValue=startDragOffset.get();if(startDragOffsetValue===null){return;}const didScrollDown=offsetY>startDragOffsetValue;startDragOffset.set(null);startMode.set(null);if(offsetY<headerHeight.get()){setMode(false);}else{if(didScrollDown){setMode(true);}else{setMode(Math.round(headerMode.get())===1);}}}}"},fv={code:"function MainScrollProviderTsx3(e_0){const{IS_NATIVE,startDragOffset,startMode,headerMode}=this.__closure;const offsetY_0=Math.max(0,e_0.contentOffset.y);if(IS_NATIVE){startDragOffset.set(offsetY_0);startMode.set(headerMode.get());}}"},gv={code:"function MainScrollProviderTsx4(e_1){const{IS_NATIVE,snapToClosestState}=this.__closure;if(IS_NATIVE){if(e_1.velocity&&e_1.velocity.y!==0){return;}snapToClosestState(e_1);}}"},xv={code:"function MainScrollProviderTsx5(e_2){const{IS_NATIVE,snapToClosestState}=this.__closure;if(IS_NATIVE){snapToClosestState(e_2);}}"},_v={code:"function MainScrollProviderTsx6(e_3){const{IS_NATIVE,startDragOffset,startMode,headerMode,headerHeight,setMode,interpolate,clamp,didJustRestoreScroll,WEB_HIDE_SHELL_THRESHOLD}=this.__closure;const offsetY_1=Math.max(0,e_3.contentOffset.y);if(IS_NATIVE){const startDragOffsetValue_0=startDragOffset.get();const startModeValue=startMode.get();if(startDragOffsetValue_0===null||startModeValue===null){if(headerMode.get()!==0&&offsetY_1<headerHeight.get()){setMode(false);}return;}const dy=offsetY_1-startDragOffsetValue_0;const dProgress=interpolate(dy,[-headerHeight.get(),headerHeight.get()],[-1,1]);const newValue=clamp(startModeValue+dProgress,0,1);if(newValue!==headerMode.get()){headerMode.set(newValue);}}else{var _startDragOffset$get;if(didJustRestoreScroll.get()){didJustRestoreScroll.set(false);return;}const dy_0=offsetY_1-((_startDragOffset$get=startDragOffset.get())!==null&&_startDragOffset$get!==void 0?_startDragOffset$get:0);startDragOffset.set(offsetY_1);if(dy_0<0||offsetY_1<WEB_HIDE_SHELL_THRESHOLD){setMode(false);}else{if(dy_0>0){setMode(true);}}}}"};function yv(e){const t=(0,n.c)(33),{children:s}=e,{headerHeight:o}=(0,Ej.useShellLayout)(),{headerMode:a}=(0,hs.useMinimalShellMode)(),i=(0,yn.useSharedValue)(null),l=(0,yn.useSharedValue)(null),c=(0,yn.useSharedValue)(!1);let d;t[0]!==a?(d=function(){const e=function(e){a.set((()=>(0,yn.withSpring)(e?1:0,{overshootClamping:!0})))};return e.__closure={headerMode:a,withSpring:yn.withSpring},e.__workletHash=0x9bbfcc12608,e.__initData=hv,e}(),t[0]=a,t[1]=d):d=t[1];const u=d;let m,h;t[2]!==c||t[3]!==i||t[4]!==l?(m=()=>{if(r.IS_WEB)return e=()=>{i.set(null),l.set(null),c.set(!0)},bv.addListener("forced-scroll",e),()=>{bv.removeListener("forced-scroll",e)};var e},t[2]=c,t[3]=i,t[4]=l,t[5]=m):m=t[5],(0,lt.useEffect)(m),t[6]!==o||t[7]!==a||t[8]!==u||t[9]!==i||t[10]!==l?(h=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);if(r.IS_NATIVE){const e=i.get();if(null===e)return;const s=t>e;i.set(null),l.set(null),t<o.get()?u(!1):u(!!s||1===Math.round(a.get()))}};return e.__closure={IS_NATIVE:r.IS_NATIVE,startDragOffset:i,startMode:l,headerHeight:o,setMode:u,headerMode:a},e.__workletHash=0xf49d7d7f9a2,e.__initData=pv,e}(),t[6]=o,t[7]=a,t[8]=u,t[9]=i,t[10]=l,t[11]=h):h=t[11];const p=h;let f;t[12]!==a||t[13]!==i||t[14]!==l?(f=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);r.IS_NATIVE&&(i.set(t),l.set(a.get()))};return e.__closure={IS_NATIVE:r.IS_NATIVE,startDragOffset:i,startMode:l,headerMode:a},e.__workletHash=2912549818593,e.__initData=fv,e}(),t[12]=a,t[13]=i,t[14]=l,t[15]=f):f=t[15];const g=f;let x;t[16]!==p?(x=function(){const e=function(e){if(r.IS_NATIVE){if(e.velocity&&0!==e.velocity.y)return;p(e)}};return e.__closure={IS_NATIVE:r.IS_NATIVE,snapToClosestState:p},e.__workletHash=7194165848339,e.__initData=gv,e}(),t[16]=p,t[17]=x):x=t[17];const _=x;let y;t[18]!==p?(y=function(){const e=function(e){r.IS_NATIVE&&p(e)};return e.__closure={IS_NATIVE:r.IS_NATIVE,snapToClosestState:p},e.__workletHash=1885806100333,e.__initData=xv,e}(),t[18]=p,t[19]=y):y=t[19];const b=y;let j;t[20]!==c||t[21]!==o||t[22]!==a||t[23]!==u||t[24]!==i||t[25]!==l?(j=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);if(r.IS_NATIVE){const e=i.get(),s=l.get();if(null===e||null===s)return void(0!==a.get()&&t<o.get()&&u(!1));const n=t-e,r=(0,yn.interpolate)(n,[-o.get(),o.get()],[-1,1]),c=(0,yn.clamp)(s+r,0,1);c!==a.get()&&a.set(c)}else{if(c.get())return void c.set(!1);const e=t-(i.get()??0);i.set(t),e<0||t<mv?u(!1):e>0&&u(!0)}};return e.__closure={IS_NATIVE:r.IS_NATIVE,startDragOffset:i,startMode:l,headerMode:a,headerHeight:o,setMode:u,interpolate:yn.interpolate,clamp:yn.clamp,didJustRestoreScroll:c,WEB_HIDE_SHELL_THRESHOLD:mv},e.__workletHash=3905362816210,e.__initData=_v,e}(),t[20]=c,t[21]=o,t[22]=a,t[23]=u,t[24]=i,t[25]=l,t[26]=j):j=t[26];const v=j;let S;return t[27]!==s||t[28]!==g||t[29]!==_||t[30]!==b||t[31]!==v?(S=(0,bt.jsx)(uv.ScrollProvider,{onBeginDrag:g,onEndDrag:_,onScroll:v,onMomentumEnd:b,children:s}),t[27]=s,t[28]=g,t[29]=_,t[30]=b,t[31]=v,t[32]=S):S=t[32],S}const bv=new Ys.default;if(r.IS_WEB){const e=window.scroll;window.scroll=function(){return bv.emit("forced-scroll"),e.apply(this,arguments)};const t=window.scrollTo;window.scrollTo=function(){return bv.emit("forced-scroll"),t.apply(this,arguments)}}const jv=6e4;function vv(e){const t=(0,n.c)(63),{testID:s,isPageFocused:o,isPageAdjacent:a,feed:i,feedParams:l,renderEmptyState:c,renderEndOfFeed:d,savedFeedConfig:u,feedInfo:m}=e,h=(0,Xo.useAnalytics)(),{hasSession:p}=(0,Gt.useSession)(),{_:f}=(0,dt.useLingui)(),g=(0,Ns.useNavigation)(),x=(0,On.useQueryClient)(),{openComposer:_}=Wo(),[y,b]=(0,lt.useState)(!1),j=(0,hs.useSetMinimalShellMode)(),v=av(),S=Og(m,p),w=(0,lt.useRef)(null),[T,k]=(0,lt.useState)(!1),C=lt.useContext(Yt),[I,A]=(0,lt.useState)(null);let P;t[0]!==m.uri?(P=Vt.VIDEO_FEED_URIS.includes(m.uri),t[0]=m.uri,t[1]=P):P=t[1];const E=P,L=m.contentMode===Dn.AppBskyFeedDefs.CONTENTMODEVIDEO,R=E||L,B=r.IS_NATIVE&&R;let D,O,M;t[2]!==T||t[3]!==o||t[4]!==C?(D=()=>{o&&C(T)},O=[o,T,C],t[2]=T,t[3]=o,t[4]=C,t[5]=D,t[6]=O):(D=t[5],O=t[6]),(0,lt.useEffect)(D,O),t[7]!==v||t[8]!==j?(M=()=>{w.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-v}),j(!1)},t[7]=v,t[8]=j,t[9]=M):M=t[9];const F=M;let N;t[10]!==h||t[11]!==i||t[12]!==o||t[13]!==g||t[14]!==x||t[15]!==F?(N=()=>{$n(function(e){for(;e.getParent();)e=e.getParent();return e}(g).getState(),"Home")===Yn.InsideAtRoot&&o&&(F(),(0,Nn.truncateAndInvalidate)(x,(0,Jr.RQKEY)(i)),k(!1),h.metric("feed:refresh",{feedType:i.split("|")[0],feedUrl:i,reason:"soft-reset"}))},t[10]=h,t[11]=i,t[12]=o,t[13]=g,t[14]=x,t[15]=F,t[16]=N):N=t[16];const H=N;let V,z,U;t[17]!==o||t[18]!==H?(V=()=>{if(o)return(0,_t.listenSoftReset)(H)},z=[H,o],t[17]=o,t[18]=H,t[19]=V,t[20]=z):(V=t[19],z=t[20]),(0,lt.useEffect)(V,z),t[21]!==_?(U=()=>{_({logContext:"Fab"})},t[21]=_,t[22]=U):U=t[22];const W=U;let G;t[23]!==h||t[24]!==i||t[25]!==x||t[26]!==F?(G=()=>{F(),(0,Nn.truncateAndInvalidate)(x,(0,Jr.RQKEY)(i)),k(!1),h.metric("feed:refresh",{feedType:i.split("|")[0],feedUrl:i,reason:"load-latest"})},t[23]=h,t[24]=i,t[25]=x,t[26]=F,t[27]=G):G=t[27];const q=G,Q=r.IS_NATIVE&&a,K=m.uri===Vt.DISCOVER_FEED_URI?"":void 0;let Z;t[28]!==K?(Z={nosnippet:K},t[28]=K,t[29]=Z):Z=t[29];const Y=s?`${s}-feed`:void 0,$=o||Q,X=T||!o;let J,ee,te,se,oe,ne;return t[30]!==i||t[31]!==l||t[32]!==v||t[33]!==B||t[34]!==c||t[35]!==d||t[36]!==u||t[37]!==Y||t[38]!==$||t[39]!==X?(J=(0,bt.jsx)(Ag,{testID:Y,enabled:$,feed:i,feedParams:l,pollInterval:jv,disablePoll:X,scrollElRef:w,onScrolledDownChange:b,onHasNew:k,renderEmptyState:c,renderEndOfFeed:d,headerOffset:v,savedFeedConfig:u,isVideoFeed:B,enableHideReadPosts:Vt.ENABLE_HIDE_READ_POSTS,onHideReadPostsState:A}),t[30]=i,t[31]=l,t[32]=v,t[33]=B,t[34]=c,t[35]=d,t[36]=u,t[37]=Y,t[38]=$,t[39]=X,t[40]=J):J=t[40],t[41]!==S||t[42]!==J?(ee=(0,bt.jsx)(yv,{children:(0,bt.jsx)(Mg,{value:S,children:J})}),t[41]=S,t[42]=J,t[43]=ee):ee=t[43],t[44]!==f||t[45]!==T||t[46]!==y||t[47]!==q?(te=(y||T)&&(0,bt.jsx)(cv,{onPress:q,label:f({id:"VkLESX"}),showIndicator:T}),t[44]=f,t[45]=T,t[46]=y,t[47]=q,t[48]=te):te=t[48],t[49]!==f||t[50]!==I?(se=Vt.ENABLE_HIDE_READ_POSTS&&I?.showButton&&I.readCount>0&&(0,bt.jsx)(iv,{onPress:I.onPress,label:f(Et.i18n._({id:"UGd79S",values:{0:I.readCount}})),readCount:I.readCount}),t[49]=f,t[50]=I,t[51]=se):se=t[51],t[52]!==f||t[53]!==p||t[54]!==W?(oe=p&&(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:W,icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:kn.s.white}),accessibilityRole:"button",accessibilityLabel:f({id:"49SEhe"}),accessibilityHint:""}),t[52]=f,t[53]=p,t[54]=W,t[55]=oe):oe=t[55],t[56]!==Z||t[57]!==ee||t[58]!==te||t[59]!==se||t[60]!==oe||t[61]!==s?(ne=(0,bt.jsxs)(Fs.default,{testID:s,dataSet:Z,children:[ee,te,se,oe]}),t[56]=Z,t[57]=ee,t[58]=te,t[59]=se,t[60]=oe,t[61]=s,t[62]=ne):ne=t[62],ne}const Sv=20;function wv(e){const t=(0,n.c)(38),{testID:s,selectedPage:o,items:a,onSelect:r,onPressSelected:i}=e,l=(0,qs.useTheme)(),c=(0,lt.useRef)(null);let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[0]=d):d=t[0];const u=(0,lt.useRef)(d),{gtMobile:m}=(0,qs.useBreakpoints)(),h=m?Tv:kv;let p,f,g;t[1]!==o?(p=()=>{const e=c?.current?.getScrollableNode?.();if(!e)return;const t=e.getBoundingClientRect();if(!t)return;const{left:s,right:n,width:a}=t,r=u.current[o];if(!r)return;const i=r.getBoundingClientRect?.();if(!i)return;const{left:l,right:d,width:m}=i;let h=0;d>=n?(h=d-n+0,h+=a-m-Sv):l<=s&&(h=0-(s-l),h-=a-m-Sv);let p=e.scrollLeft+h;p=Math.max(0,p),p=Math.min(p,e.scrollWidth-a),0!==h&&e.scroll({left:p,behavior:"smooth"})},t[1]=o,t[2]=p):p=t[2],t[3]!==o||t[4]!==h?(f=[c,o,h],t[3]=o,t[4]=h,t[5]=f):f=t[5],(0,lt.useEffect)(p,f),t[6]!==i||t[7]!==r||t[8]!==o?(g=e=>{r?.(e),e===o&&i?.(e)},t[6]=i,t[7]=r,t[8]=o,t[9]=g):g=t[9];const x=g;let _;t[10]!==h.outer||t[11]!==l.atoms.bg?(_=[l.atoms.bg,h.outer],t[10]=h.outer,t[11]=l.atoms.bg,t[12]=_):_=t[12];const y=`${s}-selector`,b=h.contentContainer;let j,v,S,w;return t[13]!==a||t[14]!==x||t[15]!==o||t[16]!==h.item||t[17]!==h.itemIndicator||t[18]!==h.itemInner||t[19]!==h.itemText||t[20]!==l.atoms.bg_contrast_25||t[21]!==l.atoms.text||t[22]!==l.atoms.text_contrast_medium||t[23]!==l.palette||t[24]!==s?(j=a.map(((e,t)=>{const n=t===o;return(0,bt.jsx)(da,{testID:`${s}-selector-${t}`,ref:e=>{u.current[t]=e},style:h.item,hoverStyle:l.atoms.bg_contrast_25,onPress:()=>x(t),accessibilityRole:"tab",children:(0,bt.jsx)(Fs.default,{style:h.itemInner,children:(0,bt.jsxs)(co.Text,{emoji:!0,testID:s?`${s}-${e}`:void 0,style:[h.itemText,n?l.atoms.text:l.atoms.text_contrast_medium,qs.atoms.text_md,qs.atoms.font_semi_bold,{lineHeight:20}],children:[e,(0,bt.jsx)(Fs.default,{style:[h.itemIndicator,n&&{backgroundColor:l.palette.primary_500}]})]})})},`${e}-${t}`)})),t[13]=a,t[14]=x,t[15]=o,t[16]=h.item,t[17]=h.itemIndicator,t[18]=h.itemInner,t[19]=h.itemText,t[20]=l.atoms.bg_contrast_25,t[21]=l.atoms.text,t[22]=l.atoms.text_contrast_medium,t[23]=l.palette,t[24]=s,t[25]=j):j=t[25],t[26]!==h.contentContainer||t[27]!==y||t[28]!==j?(v=(0,bt.jsx)(Ul,{testID:y,horizontal:!0,showsHorizontalScrollIndicator:!1,ref:c,contentContainerStyle:b,children:j}),t[26]=h.contentContainer,t[27]=y,t[28]=j,t[29]=v):v=t[29],t[30]!==h.outerBottomBorder||t[31]!==l.atoms.border_contrast_low?(S=(0,bt.jsx)(Fs.default,{style:[l.atoms.border_contrast_low,h.outerBottomBorder]}),t[30]=h.outerBottomBorder,t[31]=l.atoms.border_contrast_low,t[32]=S):S=t[32],t[33]!==S||t[34]!==_||t[35]!==v||t[36]!==s?(w=(0,bt.jsxs)(Fs.default,{testID:s,style:_,accessibilityRole:"tablist",children:[v,S]}),t[33]=S,t[34]=_,t[35]=v,t[36]=s,t[37]=w):w=t[37],w}const Tv=Os.default.create({outer:{flexDirection:"row",width:600},contentContainer:{flexGrow:1,paddingHorizontal:0,backgroundColor:"transparent"},item:{flexGrow:1,alignItems:"stretch",paddingTop:14,paddingHorizontal:14,justifyContent:"center"},itemInner:Object.assign({alignItems:"center"},(0,qs.web)({overflowX:"hidden"})),itemText:{textAlign:"center",paddingBottom:13},itemIndicator:{position:"absolute",bottom:0,height:3,left:"50%",transform:"translateX(-50%)",minWidth:45,width:"100%"},outerBottomBorder:{position:"absolute",left:0,right:0,top:"100%",borderBottomWidth:Os.default.hairlineWidth}}),kv=Os.default.create({outer:{flexDirection:"row"},contentContainer:{flexGrow:1,backgroundColor:"transparent",paddingHorizontal:6},item:{flexGrow:1,alignItems:"stretch",paddingTop:10,paddingHorizontal:10,justifyContent:"center"},itemInner:Object.assign({flexGrow:1,alignItems:"center"},(0,qs.web)({overflowX:"hidden"})),itemText:{textAlign:"center",paddingBottom:13},itemIndicator:{position:"absolute",bottom:0,height:3,left:"50%",transform:"translateX(-50%)",minWidth:45,width:"100%"},outerBottomBorder:{position:"absolute",left:0,right:0,top:"100%",borderBottomWidth:Os.default.hairlineWidth}});var Cv=s(72383);const Iv=["fill"],Av=lt.forwardRef((function(e,t){const o=(0,n.c)(28),a=(0,qs.useTheme)();let r,i;if(o[0]!==e){var l=e;({fill:r}=l),i=(0,ta.default)(l,Iv),o[0]=e,o[1]=r,o[2]=i}else r=o[1],i=o[2];const c="sky"===r;let d;o[3]!==e.style?(d=(0,qs.flatten)(e.style),o[3]=e.style,o[4]=d):d=o[4];const u=d,m=c?"url(#sky)":r||u?.color||a.palette.primary_500,h=parseInt(i.width||32,10);if((0,Cv.useKawaiiMode)()){let e,t,n;return o[5]!==h?(e=s(h>100?99044:51805),o[5]=h,o[6]=e):e=o[6],o[7]!==h?(t=[{height:h,aspectRatio:1.4}],o[7]=h,o[8]=t):t=o[8],o[9]!==e||o[10]!==t?(n=(0,bt.jsx)(cn.Image,{source:e,accessibilityLabel:"Bluesky",accessibilityHint:"",accessibilityIgnoresInvertColors:!0,style:t}),o[9]=e,o[10]=t,o[11]=n):n=o[11],n}const p=.890625*h;let f,g,x,_,y;return o[12]!==h||o[13]!==p?(f={width:h,height:p},o[12]=h,o[13]=p,o[14]=f):f=o[14],o[15]!==u||o[16]!==f?(g=[f,u],o[15]=u,o[16]=f,o[17]=g):g=o[17],o[18]!==c?(x=c&&(0,bt.jsx)(Su.Defs,{children:(0,bt.jsxs)(Su.LinearGradient,{id:"sky",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,bt.jsx)(Su.Stop,{offset:"0",stopColor:"#0A7AFF",stopOpacity:"1"}),(0,bt.jsx)(Su.Stop,{offset:"1",stopColor:"#59B9FF",stopOpacity:"1"})]})}),o[18]=c,o[19]=x):x=o[19],o[20]!==m?(_=(0,bt.jsx)(Su.Path,{fill:m,d:"M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805ZM50.127 3.805C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745Z"}),o[20]=m,o[21]=_):_=o[21],o[22]!==t||o[23]!==i||o[24]!==g||o[25]!==x||o[26]!==_?(y=(0,bt.jsxs)(Su.default,Object.assign({fill:"none",ref:t,viewBox:"0 0 64 57"},i,{style:g,children:[x,_]})),o[22]=t,o[23]=i,o[24]=g,o[25]=x,o[26]=_,o[27]=y):y=o[27],y}));function Pv(e){const t=(0,n.c)(26),{children:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{headerHeight:r}=(0,Ej.useShellLayout)(),i=function(){const{headerMode:e}=(0,Pj.useMinimalShellMode)(),{headerHeight:t}=(0,Ej.useShellLayout)();return(0,yn.useAnimatedStyle)(function(){const s=function(){const s=e.get();return{pointerEvents:0===s?"auto":"none",opacity:Math.pow(1-s,2),transform:[{translateY:(0,yn.interpolate)(s,[0,1],[0,-t.get()])}]}};return s.__closure={headerMode:e,interpolate:yn.interpolate,headerHeight:t},s.__workletHash=0xc8f9ad3e745,s.__initData=Lj,s}())}(),{hasSession:l}=(0,Gt.useSession)(),c=(0,im.useHaptics)();let d,u,m,h,p,f,g,x,_,y,b,j;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d={top:0,left:0,right:0},t[0]=d):d=t[0],t[1]!==i||t[2]!==o.atoms.bg?(u=[qs.atoms.fixed,qs.atoms.z_10,o.atoms.bg,d,i],t[1]=i,t[2]=o.atoms.bg,t[3]=u):u=t[3],t[4]!==r?(m=e=>{r.set(e.nativeEvent.layout.height)},t[4]=r,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(ya.Header.MenuButton,{})}),t[6]=h):h=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,qs.atoms.align_center],t[7]=p):p=t[7],t[8]!==c?(f=()=>{c("Light"),(0,_t.emitSoftReset)()},t[8]=c,t[9]=f):f=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Av,{width:30}),t[10]=g):g=t[10],t[11]!==f?(x=(0,bt.jsx)(Fs.default,{style:p,children:(0,bt.jsx)(hd,{targetScale:.9,onPress:f,children:g})}),t[11]=f,t[12]=x):x=t[12],t[13]!==a||t[14]!==l?(_=l&&(0,bt.jsx)(io.Link,{testID:"viewHeaderHomeFeedPrefsBtn",to:{screen:"Feeds"},hitSlop:Vt.HITSLOP_10,label:a({id:"/5HcOy"}),size:"small",variant:"ghost",color:"secondary",shape:"square",style:[qs.atoms.justify_center,{marginRight:-ya.BUTTON_VISUAL_ALIGNMENT_OFFSET},qs.atoms.bg_transparent],children:(0,bt.jsx)(ao.ButtonIcon,{icon:El,size:"lg"})}),t[13]=a,t[14]=l,t[15]=_):_=t[15],t[16]!==_?(y=(0,bt.jsx)(ya.Header.Slot,{children:_}),t[16]=_,t[17]=y):y=t[17],t[18]!==y||t[19]!==x?(b=(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,children:[h,x,y]}),t[18]=y,t[19]=x,t[20]=b):b=t[20],t[21]!==s||t[22]!==b||t[23]!==u||t[24]!==m?(j=(0,bt.jsxs)(yn.default.View,{style:u,onLayout:m,children:[b,s]}),t[21]=s,t[22]=b,t[23]=u,t[24]=m,t[25]=j):j=t[25],j}function Ev(e){const t=(0,n.c)(4),{gtMobile:s}=(0,qs.useBreakpoints)();if(s){let s;return t[2]!==e?(s=(0,bt.jsx)(Lv,Object.assign({},e)),t[2]=e,t[3]=s):s=t[3],s}{let s;return t[0]!==e?(s=(0,bt.jsx)(Pv,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}}function Lv(e){const t=(0,n.c)(20),{children:s,tabBarAnchor:o}=e,a=(0,qs.useTheme)(),{headerHeight:r}=(0,Ej.useShellLayout)(),{hasSession:i}=(0,Gt.useSession)(),{_:l}=(0,dt.useLingui)(),c=(0,Cv.useKawaiiMode)();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[0,"base"],t[0]=d):d=t[0];const u=(0,qs.useGutters)(d);let m,h,p,f,g,x;return t[1]!==l||t[2]!==u||t[3]!==i||t[4]!==c||t[5]!==a.atoms.bg?(m=i&&(0,bt.jsx)(ya.Center,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,u,qs.atoms.pt_md,a.atoms.bg],children:[(0,bt.jsx)(Fs.default,{style:{width:34}}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.justify_center],children:(0,bt.jsx)(Av,{width:c?60:28})}),(0,bt.jsx)(io.Link,{to:"/feeds",hitSlop:10,label:l({id:"/5HcOy"}),size:"small",variant:"ghost",color:"secondary",shape:"square",style:[qs.atoms.justify_center],children:(0,bt.jsx)(ao.ButtonIcon,{icon:El,size:"lg"})})]})}),t[1]=l,t[2]=u,t[3]=i,t[4]=c,t[5]=a.atoms.bg,t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h={top:0},t[7]=h):h=t[7],t[8]!==a.atoms.bg?(p=[qs.atoms.sticky,qs.atoms.z_10,qs.atoms.align_center,a.atoms.bg,h],t[8]=a.atoms.bg,t[9]=p):p=t[9],t[10]!==r?(f=e=>{r.set(e.nativeEvent.layout.height)},t[10]=r,t[11]=f):f=t[11],t[12]!==s||t[13]!==p||t[14]!==f?(g=(0,bt.jsx)(ya.Center,{style:p,onLayout:f,children:s}),t[12]=s,t[13]=p,t[14]=f,t[15]=g):g=t[15],t[16]!==m||t[17]!==g||t[18]!==o?(x=(0,bt.jsxs)(bt.Fragment,{children:[m,o,g]}),t[16]=m,t[17]=g,t[18]=o,t[19]=x):x=t[19],x}function Rv(e){const{feeds:t,onSelect:s}=e,{hasSession:o}=(0,Gt.useSession)(),n=(0,Ns.useNavigation)(),a=lt.useMemo((()=>!!o&&t.some((e=>!("following"===e.uri)))),[t,o]),r=lt.useMemo((()=>{const e=t.map((e=>e.displayName));return a?e:e.concat("Feeds \u2728")}),[a,t]),i=lt.useCallback((()=>{n.navigate("Feeds")}),[n]),l=lt.useCallback((e=>{a||e!==r.length-1?s&&s(e):i()}),[r.length,i,s,a]);return(0,bt.jsx)(Ev,{tabBarAnchor:e.tabBarAnchor,children:(0,bt.jsx)(wv,{onPressSelected:e.onPressSelected,selectedPage:e.selectedPage,onSelect:l,testID:e.testID,items:r,dragProgress:e.dragProgress,dragState:e.dragState,transparent:!0},r.join(","))})}var Bv=s(79153);const Dv=50,Ov=1.5;function Mv({ref:e,children:t,initialPage:s=0,renderTabBar:o,onPageSelected:n}){const[a,r]=(0,lt.useState)(s),i=(0,lt.useRef)([]),l=(0,lt.useRef)(null),c=(0,lt.useRef)(null),d=(0,lt.useCallback)((e=>{const t=window.scrollY;let s=l.current?l.current.getBoundingClientRect().top:-t;const o=s<=5;if(i.current[a]=o?window.scrollY:null,(0,Bv.flushSync)((()=>{r(e),n?.(e)})),o){const o=i.current[e];null!=o?window.scrollTo(0,o):window.scrollTo(0,t+s)}}),[a,r,n]);(0,lt.useImperativeHandle)(e,(()=>({setPage:e=>{d(e)}})));const u=(0,lt.useCallback)((e=>{const t=e.nativeEvent.touches[0];t&&(c.current={x:t.pageX,y:t.pageY})}),[]),m=(0,lt.useCallback)((e=>{const s=e.nativeEvent.changedTouches[0],o=c.current;if(c.current=null,!s||!o)return;const n=lt.Children.toArray(t);if(n.length<=1)return;const r=s.pageX-o.x,i=s.pageY-o.y,l=Math.abs(r),u=Math.abs(i);if(!(l<Dv||l<u*Ov))if(r<0){const e=Math.min(a+1,n.length-1);e!==a&&d(e)}else{const e=Math.max(a-1,0);e!==a&&d(e)}}),[t,a,d]);return(0,bt.jsxs)(Fs.default,{style:[kn.s.hContentRegion,(0,qs.web)({touchAction:"pan-x pan-y"})],onTouchStart:u,onTouchEnd:m,children:[o({selectedPage:a,tabBarAnchor:(0,bt.jsx)(Fs.default,{ref:l}),onSelect:e=>d(e)}),lt.Children.map(t,((e,t)=>(0,bt.jsx)(Fs.default,{style:a===t?qs.atoms.flex_1:qs.atoms.hidden,children:e},`page-${t}`)))]})}function Fv(){const e=(0,n.c)(29),t=(0,Xo.useAnalytics)(),s=Fg(),{currentAccount:o}=(0,Gt.useSession)(),a=lt.useRef(!1);let i;e[0]!==t||e[1]!==o||e[2]!==s.feedSourceInfo?(i=()=>{if(s.feedSourceInfo&&o?.did){s.feedSourceInfo.uri!==Vt.DISCOVER_FEED_URI||a.current||(a.current=!0,t.metric("feed:discover:emptyError",{userDid:o.did}))}},e[0]=t,e[1]=o,e[2]=s.feedSourceInfo,e[3]=i):i=e[3];const l=o?.did;let c;e[4]!==s.feedSourceInfo||e[5]!==l?(c=[s.feedSourceInfo,l],e[4]=s.feedSourceInfo,e[5]=l,e[6]=c):c=e[6],(0,lt.useEffect)(i,c);const d=(0,bn.usePalette)("default"),u=(0,bn.usePalette)("inverted"),m=(0,Ns.useNavigation)();let h;e[7]!==m?(h=()=>{r.IS_WEB?m.navigate("Search",{}):(m.navigate("SearchTab"),m.popToTop())},e[7]=m,e[8]=h):h=e[8];const p=h;let f,g,x,_,y,b;e[9]!==d.text?(f=(0,bt.jsx)(Fs.default,{style:Nv.emptyIconContainer,children:(0,bt.jsx)(wu,{style:[Nv.emptyIcon,d.text],size:62})}),e[9]=d.text,e[10]=f):f=e[10],e[11]!==d.text?(g=[kn.s.textCenter,d.text],e[11]=d.text,e[12]=g):g=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(dt.Trans,{id:"DH9pth"}),e[13]=x):x=e[13],e[14]!==g?(_=(0,bt.jsx)(ua.Text,{type:"xl-medium",style:g,children:x}),e[14]=g,e[15]=_):_=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(dt.Trans,{id:"vrCFbA"}),e[16]=y):y=e[16],e[17]!==u.text?(b=(0,bt.jsx)(ua.Text,{type:"lg-medium",style:u.text,children:y}),e[17]=u.text,e[18]=b):b=e[18];const j=u.text;let v,S,w;return e[19]!==j?(v=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"angle-right",style:j,size:14}),e[19]=j,e[20]=v):v=e[20],e[21]!==p||e[22]!==v||e[23]!==b?(S=(0,bt.jsxs)(Ti.Button,{type:"inverted",style:Nv.emptyBtn,onPress:p,children:[b,v]}),e[21]=p,e[22]=v,e[23]=b,e[24]=S):S=e[24],e[25]!==S||e[26]!==f||e[27]!==_?(w=(0,bt.jsxs)(Fs.default,{style:Nv.emptyContainer,children:[f,_,S]}),e[25]=S,e[26]=f,e[27]=_,e[28]=w):w=e[28],w}const Nv=Os.default.create({emptyContainer:{height:"100%",paddingVertical:40,paddingHorizontal:30},emptyIconContainer:{marginBottom:16},emptyIcon:{marginLeft:"auto",marginRight:"auto"},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30},feedsTip:{position:"absolute",left:22},feedsTipArrow:{marginLeft:32,marginTop:8}});function Hv(){const e=(0,n.c)(41),t=(0,bn.usePalette)("default"),s=(0,bn.usePalette)("inverted"),o=(0,Ns.useNavigation)();let a;e[0]!==o?(a=()=>{r.IS_WEB?o.navigate("Search",{}):(o.navigate("SearchTab"),o.popToTop())},e[0]=o,e[1]=a):a=e[1];const i=a;let l;e[2]!==o?(l=()=>{o.navigate("Feeds")},e[2]=o,e[3]=l):l=e[3];const c=l;let d,u,m,h,p,f;e[4]!==t.text?(d=(0,bt.jsx)(Fs.default,{style:Vv.iconContainer,children:(0,bt.jsx)(wu,{style:[Vv.icon,t.text],size:62})}),e[4]=t.text,e[5]=d):d=e[5],e[6]!==t.text?(u=[kn.s.textCenter,t.text],e[6]=t.text,e[7]=u):u=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(dt.Trans,{id:"J6KOqm"}),e[8]=m):m=e[8],e[9]!==u?(h=(0,bt.jsx)(ua.Text,{type:"xl-medium",style:u,children:m}),e[9]=u,e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(dt.Trans,{id:"vrCFbA"}),e[11]=p):p=e[11],e[12]!==s.text?(f=(0,bt.jsx)(ua.Text,{type:"lg-medium",style:s.text,children:p}),e[12]=s.text,e[13]=f):f=e[13];const g=s.text;let x,_,y,b,j,v,S,w;e[14]!==g?(x=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"angle-right",style:g,size:14}),e[14]=g,e[15]=x):x=e[15],e[16]!==i||e[17]!==f||e[18]!==x?(_=(0,bt.jsxs)(Ti.Button,{type:"inverted",style:Vv.emptyBtn,onPress:i,children:[f,x]}),e[16]=i,e[17]=f,e[18]=x,e[19]=_):_=e[19],e[20]!==t.text?(y=[kn.s.textCenter,t.text,kn.s.mt20],e[20]=t.text,e[21]=y):y=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(dt.Trans,{id:"jrtslv"}),e[22]=b):b=e[22],e[23]!==y?(j=(0,bt.jsx)(ua.Text,{type:"xl-medium",style:y,children:b}),e[23]=y,e[24]=j):j=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(v=[Vv.emptyBtn,kn.s.mt10],e[25]=v):v=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(dt.Trans,{id:"7qCVEX"}),e[26]=S):S=e[26],e[27]!==s.text?(w=(0,bt.jsx)(ua.Text,{type:"lg-medium",style:s.text,children:S}),e[27]=s.text,e[28]=w):w=e[28];const T=s.text;let k,C,I;return e[29]!==T?(k=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"angle-right",style:T,size:14}),e[29]=T,e[30]=k):k=e[30],e[31]!==c||e[32]!==w||e[33]!==k?(C=(0,bt.jsxs)(Ti.Button,{type:"inverted",style:v,onPress:c,children:[w,k]}),e[31]=c,e[32]=w,e[33]=k,e[34]=C):C=e[34],e[35]!==_||e[36]!==j||e[37]!==C||e[38]!==d||e[39]!==h?(I=(0,bt.jsx)(Fs.default,{style:Vv.container,children:(0,bt.jsxs)(Fs.default,{style:Vv.inner,children:[d,h,_,j,C]})}),e[35]=_,e[36]=j,e[37]=C,e[38]=d,e[39]=h,e[40]=I):I=e[40],I}const Vv=Os.default.create({container:{height:"100%",flexDirection:"row",justifyContent:"center",paddingVertical:40,paddingHorizontal:30},inner:{width:"100%",maxWidth:460},iconContainer:{marginBottom:16},icon:{marginLeft:"auto",marginRight:"auto"},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30}});function zv(){const e=(0,n.c)(44),t=(0,bn.usePalette)("default"),s=(0,bn.usePalette)("inverted"),o=(0,Ns.useNavigation)();let a;e[0]!==o?(a=()=>{r.IS_WEB?o.navigate("Search",{}):(o.navigate("SearchTab"),o.popToTop())},e[0]=o,e[1]=a):a=e[1];const i=a;let l;e[2]!==o?(l=()=>{o.navigate("Feeds")},e[2]=o,e[3]=l):l=e[3];const c=l;let d,u,m,h,p,f,g;e[4]===Symbol.for("react.memo_cache_sentinel")?(d={minHeight:.75*Gr.default.get("window").height},e[4]=d):d=e[4],e[5]!==t.border?(u=[Uv.container,t.border,d],e[5]=t.border,e[6]=u):u=e[6],e[7]!==t.text?(m=[kn.s.textCenter,t.text],e[7]=t.text,e[8]=m):m=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"wEboyp"}),e[9]=h):h=e[9],e[10]!==m?(p=(0,bt.jsx)(ua.Text,{type:"xl-medium",style:m,children:h}),e[10]=m,e[11]=p):p=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(dt.Trans,{id:"vrCFbA"}),e[12]=f):f=e[12],e[13]!==s.text?(g=(0,bt.jsx)(ua.Text,{type:"lg-medium",style:s.text,children:f}),e[13]=s.text,e[14]=g):g=e[14];const x=s.text;let _,y,b,j,v,S,w,T;e[15]!==x?(_=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"angle-right",style:x,size:14}),e[15]=x,e[16]=_):_=e[16],e[17]!==i||e[18]!==_||e[19]!==g?(y=(0,bt.jsxs)(Ti.Button,{type:"inverted",style:Uv.emptyBtn,onPress:i,children:[g,_]}),e[17]=i,e[18]=_,e[19]=g,e[20]=y):y=e[20],e[21]!==t.text?(b=[kn.s.textCenter,t.text,kn.s.mt20],e[21]=t.text,e[22]=b):b=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(dt.Trans,{id:"jrtslv"}),e[23]=j):j=e[23],e[24]!==b?(v=(0,bt.jsx)(ua.Text,{type:"xl-medium",style:b,children:j}),e[24]=b,e[25]=v):v=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(S=[Uv.emptyBtn,kn.s.mt10],e[26]=S):S=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(dt.Trans,{id:"7qCVEX"}),e[27]=w):w=e[27],e[28]!==s.text?(T=(0,bt.jsx)(ua.Text,{type:"lg-medium",style:s.text,children:w}),e[28]=s.text,e[29]=T):T=e[29];const k=s.text;let C,I,A,P;return e[30]!==k?(C=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"angle-right",style:k,size:14}),e[30]=k,e[31]=C):C=e[31],e[32]!==c||e[33]!==T||e[34]!==C?(I=(0,bt.jsxs)(Ti.Button,{type:"inverted",style:S,onPress:c,children:[T,C]}),e[32]=c,e[33]=T,e[34]=C,e[35]=I):I=e[35],e[36]!==y||e[37]!==v||e[38]!==I||e[39]!==p?(A=(0,bt.jsxs)(Fs.default,{style:Uv.inner,children:[p,y,v,I]}),e[36]=y,e[37]=v,e[38]=I,e[39]=p,e[40]=A):A=e[40],e[41]!==A||e[42]!==u?(P=(0,bt.jsx)(Fs.default,{style:u,children:A}),e[41]=A,e[42]=u,e[43]=P):P=e[43],P}const Uv=Os.default.create({container:{flexDirection:"row",justifyContent:"center",paddingTop:40,paddingBottom:80,paddingHorizontal:30,borderTopWidth:1},inner:{width:"100%",maxWidth:460},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30}});function Wv(e){const t=(0,n.c)(38),{preferences:s}=e,{_:o}=(0,dt.useLingui)(),a=av(),{isPending:r,mutateAsync:i}=(0,xr.useOverwriteSavedFeedsMutation)();let l;t[0]!==i||t[1]!==s.savedFeeds?(l=async()=>{let e=!1,t=!1;const o=[];for(const a of s.savedFeeds)"timeline"!==a.type||e?a.value!==Vt.DISCOVER_SAVED_FEED.value||t?o.push(a):t=!0:e=!0;const n=[Object.assign({},Vt.DISCOVER_SAVED_FEED,{pinned:!0,id:I_.TID.nextStr()}),Object.assign({},Vt.TIMELINE_SAVED_FEED,{pinned:!0,id:I_.TID.nextStr()}),...o];await i(n)},t[0]=i,t[1]=s.savedFeeds,t[2]=l):l=t[2];const c=l;let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.h_full_vh],t[3]=d):d=t[3];const u=a+qs.atoms.py_3xl.paddingTop;let m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I;return t[4]!==u?(m=[qs.atoms.align_center,qs.atoms.h_full_vh,qs.atoms.py_3xl,qs.atoms.px_xl,{paddingTop:u}],t[4]=u,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pb_xl],t[6]=h):h=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"wXgOPE"})}),t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsxs)(Fs.default,{style:h,children:[p,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.text_center,qs.atoms.leading_snug,{maxWidth:340}],children:(0,bt.jsx)(dt.Trans,{id:"+TxFN1"})})]}),t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.justify_center,qs.atoms.flex_wrap],t[9]=g):g=t[9],t[10]!==o?(x=o({id:"d9Y8Uw"}),t[10]=o,t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded,position:"left"}),t[12]=_):_=t[12],t[13]!==o?(y=o({id:"S2UXDg"}),t[13]=o,t[14]=y):y=t[14],t[15]!==y?(b=(0,bt.jsx)(ao.ButtonText,{children:y}),t[15]=y,t[16]=b):b=t[16],t[17]!==c||t[18]!==r||t[19]!==b||t[20]!==x?(j=(0,bt.jsxs)(ao.Button,{disabled:r,label:x,size:"large",variant:"solid",color:"primary",onPress:c,children:[_,b]}),t[17]=c,t[18]=r,t[19]=b,t[20]=x,t[21]=j):j=t[21],t[22]!==o?(v=o({id:"T2htj5"}),t[22]=o,t[23]=v):v=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(ao.ButtonIcon,{icon:v_,position:"left"}),t[24]=S):S=t[24],t[25]!==o?(w=o({id:"T2htj5"}),t[25]=o,t[26]=w):w=t[26],t[27]!==w?(T=(0,bt.jsx)(ao.ButtonText,{children:w}),t[27]=w,t[28]=T):T=t[28],t[29]!==v||t[30]!==T?(k=(0,bt.jsxs)(io.Link,{label:v,to:"/feeds",size:"large",variant:"solid",color:"secondary",children:[S,T]}),t[29]=v,t[30]=T,t[31]=k):k=t[31],t[32]!==j||t[33]!==k?(C=(0,bt.jsxs)(Fs.default,{style:g,children:[j,k]}),t[32]=j,t[33]=k,t[34]=C):C=t[34],t[35]!==C||t[36]!==m?(I=(0,bt.jsx)(Sa,{sideBorders:!0,style:d,children:(0,bt.jsxs)(Fs.default,{style:m,children:[f,C]})}),t[35]=C,t[36]=m,t[37]=I):I=t[37],I}function Gv(){const e=(0,n.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["demoMode"],e[0]=t):t=e[0];const[s,o]=(0,Is.useStorage)(Is.device,t),a=void 0!==s&&s;let r;return e[1]!==a||e[2]!==o?(r=[a,o],e[1]=a,e[2]=o,e[3]=r):r=e[3],r}function qv(e){const t=(0,n.c)(12),{setShowLoggedOut:s}=Ts(),{data:o}=(0,xr.usePreferencesQuery)(),{currentAccount:a}=(0,Gt.useSession)(),{data:i,isLoading:l}=Lr();let c,d;if(t[0]!==a||t[1]!==e.navigation||t[2]!==e.route.name||t[3]!==e.route.params||t[4]!==s?(c=()=>{if(r.IS_WEB&&!a){if("true"===new URLSearchParams(window.location.search).get("splash"))return void s(!0)}const t=e.route.params;a&&"Start"===e.route.name&&t?.name&&t?.rkey&&e.navigation.navigate("StarterPack",{rkey:t.rkey,name:t.name})},d=[a,e.navigation,e.route.name,e.route.params,s],t[0]=a,t[1]=e.navigation,t[2]=e.route.name,t[3]=e.route.params,t[4]=s,t[5]=c,t[6]=d):(c=t[5],d=t[6]),lt.useEffect(c,d),o&&i&&!l){let s;return t[7]!==i||t[8]!==o||t[9]!==e?(s=(0,bt.jsx)(ya.Screen,{testID:"HomeScreen",children:(0,bt.jsx)(Kv,Object.assign({},e,{preferences:o,pinnedFeedInfos:i}))}),t[7]=i,t[8]=o,t[9]=e,t[10]=s):s=t[10],s}{let e;return t[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(ya.Center,{style:Zv.loading,children:(0,bt.jsx)(vn.default,{size:"large"})})}),t[11]=e):e=t[11],e}}const Qv={code:"function HomeTsx1(state){const{setMinimalShellMode}=this.__closure;if(state==='dragging'){setMinimalShellMode(false);}}"};function Kv({preferences:e,pinnedFeedInfos:t}){const s=(0,Xo.useAnalytics)(),o=lt.useMemo((()=>t.map((e=>e.feedDescriptor))),[t]),n=Ls()??o[0],a=Rs(),r=o.indexOf(n),i=Math.max(0,r),l=o[i],c=(0,nv.useRequestNotificationsPermission)();ov(t[i]?.displayName),lt.useEffect((()=>{c("Home")}),[c]);const d=lt.useRef(null),u=lt.useRef(i);lt.useLayoutEffect((()=>{i!==u.current&&(u.current=i,d.current?.setPage(i))}),[i]);const{hasSession:m}=(0,Gt.useSession)(),h=(0,hs.useSetMinimalShellMode)();(0,Ns.useFocusEffect)(lt.useCallback((()=>{h(!1)}),[h])),(0,Ns.useFocusEffect)((0,Bn.useNonReactiveCallback)((()=>{l&&s.metric("home:feedDisplayed",{index:i,feedType:l.split("|")[0],feedUrl:l,reason:"focus"})})));const p=lt.useCallback((e=>{h(!1);const t=o[e];u.current=e,a(t),t&&s.metric("home:feedDisplayed",{index:e,feedType:t.split("|")[0],feedUrl:t})}),[s,a,h,o]),f=lt.useCallback((()=>{(0,_t.emitSoftReset)()}),[]),g=lt.useCallback(function(){const e=function(e){"dragging"===e&&h(!1)};return e.__closure={setMinimalShellMode:h},e.__workletHash=0xa7baf82e93a,e.__initData=Qv,e}(),[h]),[x]=Gv(),_=lt.useCallback((e=>x?(0,bt.jsx)(Rv,Object.assign({},e,{testID:"homeScreenFeedTabs",onPressSelected:f,feeds:[{displayName:"Following"},{displayName:"Discover"}]}),"FEEDS_TAB_BAR"):(0,bt.jsx)(Rv,Object.assign({},e,{testID:"homeScreenFeedTabs",onPressSelected:f,feeds:t}),"FEEDS_TAB_BAR")),[f,t,x]),y=lt.useCallback((()=>(0,bt.jsx)(Hv,{})),[]),b=lt.useCallback((()=>(0,bt.jsx)(Fv,{})),[]),j=lt.useMemo((()=>({mergeFeedEnabled:Boolean(e.feedViewPrefs.lab_mergeFeedEnabled),mergeFeedSources:e.feedViewPrefs.lab_mergeFeedEnabled?e.savedFeeds.filter((e=>"feed"===e.type||"list"===e.type)).map((e=>e.value)):[]})),[e]);return x?(0,bt.jsxs)(Mv,{ref:d,testID:"homeScreen",onPageSelected:p,onPageScrollStateChanged:g,renderTabBar:_,initialPage:i,children:[(0,bt.jsx)(vv,{testID:"demoFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:"demo",renderEmptyState:b,feedInfo:t[0]}),(0,bt.jsx)(vv,{testID:"customFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:`feedgen|${(0,Vt.PROD_DEFAULT_FEED)("whats-hot")}`,renderEmptyState:b,feedInfo:t[0]})]}):m?(0,bt.jsx)(Mv,{ref:d,testID:"homeScreen",initialPage:i,onPageSelected:p,onPageScrollStateChanged:g,renderTabBar:_,children:t.length?t.map(((e,t)=>{const s=e.feedDescriptor;if("following"===s)return(0,bt.jsx)(vv,{testID:"followingFeedPage",isPageFocused:l===s,isPageAdjacent:1===Math.abs(i-t),feed:s,feedParams:j,renderEmptyState:y,renderEndOfFeed:zv,feedInfo:e},s);const o=e.savedFeed;return(0,bt.jsx)(vv,{testID:"customFeedPage",isPageFocused:l===s,isPageAdjacent:1===Math.abs(i-t),feed:s,renderEmptyState:b,savedFeedConfig:o,feedInfo:e},s)})):(0,bt.jsx)(Wv,{preferences:e})},o.join(",")):(0,bt.jsx)(Mv,{testID:"homeScreen",onPageSelected:p,onPageScrollStateChanged:g,renderTabBar:_,children:(0,bt.jsx)(vv,{testID:"customFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:`feedgen|${(0,Vt.PROD_DEFAULT_FEED)("whats-hot")}`,renderEmptyState:b,feedInfo:t[0]})})}const Zv=Os.default.create({loading:{height:"100%",alignContent:"center",justifyContent:"center",paddingBottom:100}});var Yv=s(33057),$v=s(80346);const Xv=(0,ti.createSinglePathSVG)({viewBox:"0 0 47 38",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,path:"M22.333 31.667H45M22.333 6.333H45m-33.333 0A5.333 5.333 0 1 1 1 6.333a5.333 5.333 0 0 1 10.667 0Zm0 25.334a5.333 5.333 0 1 1-10.667 0 5.333 5.333 0 0 1 10.667 0Z"}),Jv=(0,ti.createSinglePathSVG)({path:"M6 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM3 7a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm9 0a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Zm-6 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-3 1a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm9 0a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),eS=(0,ti.createSinglePathSVG)({path:"M3 7a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm0 10a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm10-1a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2h-7Zm-1-9a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),tS={_reactKey:"__loading__"},sS={_reactKey:"__empty__"},oS={_reactKey:"__error__"};function nS(e){const t=(0,n.c)(43),{filter:s,inline:o,style:a,renderItem:r,testID:i}=e,l=(0,bn.usePalette)("default"),c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),u=(0,ds.useModerationOpts)(),[m,h]=lt.useState(!1),{data:p,isFetching:f,isFetched:g,isError:x,error:_,refetch:y}=Ja(s),b=!f&&!p?.length;let j;t[0]===Symbol.for("react.memo_cache_sentinel")?(j=[],t[0]=j):j=t[0];let v=j;if(x&&b){let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e=v.concat([oS]),t[1]=e):e=t[1],v=e}if(!g&&f||!u){let e;if(t[2]!==v){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[tS],t[4]=s):s=t[4],e=v.concat(s),t[2]=v,t[3]=e}else e=t[3];v=e}else if(b){let e;if(t[5]!==v){let s;t[7]===Symbol.for("react.memo_cache_sentinel")?(s=[sS],t[7]=s):s=t[7],e=v.concat(s),t[5]=v,t[6]=e}else e=t[6];v=e}else{let e;t[8]!==p||t[9]!==v?(e=v.concat(p),t[8]=p,t[9]=v,t[10]=e):e=t[10],v=e}const S=v;let w,T;if(t[11]!==d||t[12]!==s){e:switch(s){case"curate":w=d({id:"QMt9nd"});break e;case"mod":w=d({id:"JU9+bQ"});break e;default:w=d({id:"tCLJ9E"})}t[11]=d,t[12]=s,t[13]=w}else w=t[13];t[14]!==y?(T=async()=>{h(!0);try{await y()}catch(C){const t=C;Mt.logger.error("Failed to refresh lists",{message:t})}h(!1)},t[14]=y,t[15]=T):T=t[15];const k=T;let C;t[16]!==w||t[17]!==_||t[18]!==k||t[19]!==r||t[20]!==c?(C=e=>{const{item:t,index:s}=e;return t===sS?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.px_xl,qs.atoms.pt_3xl],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,{width:64,height:64}],children:(0,bt.jsx)(Xv,{size:"2xl",fill:c.atoms.text_contrast_medium.color})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,qs.atoms.flex_1,qs.atoms.text_sm,qs.atoms.leading_snug,c.atoms.text_contrast_medium,{maxWidth:200}],children:w})]}):t===oS?(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(_),onPressTryAgain:k}):t===tS?(0,bt.jsx)(Fs.default,{style:{padding:20},children:(0,bt.jsx)(vn.default,{})}):r?r(t,s):(0,bt.jsx)(Fs.default,{style:[0!==s&&qs.atoms.border_t,c.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg],children:(0,bt.jsx)(th,{view:t})})},t[16]=w,t[17]=_,t[18]=k,t[19]=r,t[20]=c,t[21]=C):C=t[21];const I=C;if(o){let e,s;return t[22]!==m||t[23]!==S||t[24]!==k||t[25]!==l||t[26]!==I||t[27]!==i?(e=S.length>0&&(0,bt.jsx)(Yv.default,{testID:i?`${i}-flatlist`:void 0,data:S,keyExtractor:rS,renderItem:I,refreshControl:(0,bt.jsx)($v.default,{refreshing:m,onRefresh:k,tintColor:l.colors.text,titleColor:l.colors.text}),contentContainerStyle:[kn.s.contentContainer],removeClippedSubviews:!0}),t[22]=m,t[23]=S,t[24]=k,t[25]=l,t[26]=I,t[27]=i,t[28]=e):e=t[28],t[29]!==a||t[30]!==e||t[31]!==i?(s=(0,bt.jsx)(Fs.default,{testID:i,style:a,children:e}),t[29]=a,t[30]=e,t[31]=i,t[32]=s):s=t[32],s}{let e,s;return t[33]!==m||t[34]!==S||t[35]!==k||t[36]!==I||t[37]!==i?(e=S.length>0&&(0,bt.jsx)(ei.List,{testID:i?`${i}-flatlist`:void 0,data:S,keyExtractor:aS,renderItem:I,refreshing:m,onRefresh:k,contentContainerStyle:[kn.s.contentContainer],removeClippedSubviews:!0,desktopFixedHeight:!0,sideBorders:!1}),t[33]=m,t[34]=S,t[35]=k,t[36]=I,t[37]=i,t[38]=e):e=t[38],t[39]!==a||t[40]!==e||t[41]!==i?(s=(0,bt.jsx)(Fs.default,{testID:i,style:a,children:e}),t[39]=a,t[40]=e,t[41]=i,t[42]=s):s=t[42],s}}function aS(e){return e.uri?e.uri:e._reactKey}function rS(e){return e.uri?e.uri:e._reactKey}const iS=64,lS=300;function cS(e){const t=(0,n.c)(34),{control:s,list:o,purpose:a,onSave:i}=e,{_:l}=(0,dt.useLingui)(),c=Qs.useDialogControl(),[d,u]=(0,lt.useState)(!1),{height:m}=(0,Qr.default)();let h,p,f;t[0]!==d?(h=()=>{if(r.IS_WEB&&d){const e=new AbortController,{signal:t}=e;return window.addEventListener("beforeunload",dS,{signal:t}),()=>{e.abort()}}},p=[d],t[0]=d,t[1]=h,t[2]=p):(h=t[1],p=t[2]),(0,lt.useEffect)(h,p),t[3]!==c||t[4]!==s||t[5]!==d?(f=()=>{d?c.open():s.close()},t[3]=c,t[4]=s,t[5]=d,t[6]=f):f=t[6];const g=f;let x,_,y,b,j,v,S,w;return t[7]!==d||t[8]!==m?(x={preventDismiss:d,minHeight:m},t[7]=d,t[8]=m,t[9]=x):x=t[9],t[10]!==o||t[11]!==g||t[12]!==i||t[13]!==a?(_=(0,bt.jsx)(uS,{list:o,purpose:a,onSave:i,setDirty:u,onPressCancel:g}),t[10]=o,t[11]=g,t[12]=i,t[13]=a,t[14]=_):_=t[14],t[15]!==l?(y=l({id:"0EcUWz"}),t[15]=l,t[16]=y):y=t[16],t[17]!==l?(b=l({id:"fgo0YE"}),t[17]=l,t[18]=b):b=t[18],t[19]!==s?(j=()=>s.close(),t[19]=s,t[20]=j):j=t[20],t[21]!==l?(v=l({id:"bzSI52"}),t[21]=l,t[22]=v):v=t[22],t[23]!==c||t[24]!==y||t[25]!==b||t[26]!==j||t[27]!==v?(S=(0,bt.jsx)(Zi.Basic,{control:c,title:y,description:b,onConfirm:j,confirmButtonCta:v,confirmButtonColor:"negative"}),t[23]=c,t[24]=y,t[25]=b,t[26]=j,t[27]=v,t[28]=S):S=t[28],t[29]!==s||t[30]!==S||t[31]!==x||t[32]!==_?(w=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:x,testID:"createOrEditListDialog",children:[_,S]}),t[29]=s,t[30]=S,t[31]=x,t[32]=_,t[33]=w):w=t[33],w}function dS(e){return e.preventDefault()}function uS({list:e,purpose:t,onSave:s,setDirty:o,onPressCancel:a}){const r=(0,lt.useMemo)((()=>e?.purpose?e.purpose:t||"app.bsky.graph.defs#curatelist"),[e,t]),i="app.bsky.graph.defs#curatelist"===r,{_:l}=(0,dt.useLingui)(),c=(0,qs.useTheme)(),d=(0,Gt.useAgent)(),u=Qs.useDialogContext(),{mutateAsync:m,error:h,isError:p,isPending:f}=function(){const e=(0,n.c)(4),{currentAccount:t}=(0,Gt.useSession)(),s=(0,On.useQueryClient)(),o=(0,Gt.useAgent)();let a;return e[0]!==o||e[1]!==t||e[2]!==s?(a={async mutationFn(e){const{purpose:s,name:n,description:a,descriptionFacets:r,avatar:i}=e;if(!t)throw new Error("Not signed in");if("app.bsky.graph.defs#curatelist"!==s&&"app.bsky.graph.defs#modlist"!==s)throw new Error("Invalid list purpose: must be curatelist or modlist");const l={purpose:s,name:n,description:a,descriptionFacets:r,avatar:void 0,createdAt:(new Date).toISOString()};if(i){const e=await(0,Ka.uploadBlob)(o,i.path,i.mime);l.avatar=e.data.blob}const c=await o.app.bsky.graph.list.create({repo:t.did},l);return await gr(o,c.uri,dr),c},onSuccess(){or(s),s.invalidateQueries({queryKey:rr(t.did)})}},e[0]=o,e[1]=t,e[2]=s,e[3]=a):a=e[3],(0,go.useMutation)(a)}(),{mutateAsync:g,error:x,isError:_,isPending:y}=function(){const e=(0,n.c)(4),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)(),o=(0,On.useQueryClient)();let a;return e[0]!==s||e[1]!==t||e[2]!==o?(a={async mutationFn(e){const{uri:o,name:n,description:a,descriptionFacets:r,avatar:i}=e,{hostname:l,rkey:c}=new Dn.AtUri(o);if(!t)throw new Error("Not signed in");if(t.did!==l)throw new Error("You do not own this list");const{value:d}=await s.app.bsky.graph.list.get({repo:t.did,rkey:c});if(d.name=n,d.description=a,d.descriptionFacets=r,i){const e=await(0,Ka.uploadBlob)(s,i.path,i.mime);d.avatar=e.data.blob}else null===i&&(d.avatar=void 0);const u=(await s.com.atproto.repo.putRecord({repo:t.did,collection:"app.bsky.graph.list",rkey:c,record:d})).data;return await gr(s,u.uri,(e=>{const t=e.data.list;return t.name===d.name&&t.description===d.description})),u},onSuccess(e,s){or(o),o.invalidateQueries({queryKey:rr(t.did)}),o.invalidateQueries({queryKey:cr(s.uri)})}},e[0]=s,e[1]=t,e[2]=o,e[3]=a):a=e[3],(0,go.useMutation)(a)}(),[b,j]=(0,lt.useState)(""),[v,S]=(0,lt.useState)(!1),w=e?.name||"",[T,k]=(0,lt.useState)(w),C=e?.description||"",[I,A]=(0,lt.useState)((()=>{const t=e?.description,s=e?.descriptionFacets;if(!t||!s)return new Dn.RichText({text:t||""});const o=Yp(new Dn.RichText({text:t,facets:s}),!1),n=new Dn.RichText({text:o});return n.detectFacetsWithoutResolution(),n})),[P,E]=(0,lt.useState)(e?.avatar),[L,R]=(0,lt.useState)(),B=T!==w||I.text!==C||P!==e?.avatar;(0,lt.useEffect)((()=>{o(B)}),[B,o]);const D=(0,lt.useCallback)((e=>{if(j(""),null===e)return R(null),void E(null);try{R(e),E(e.path)}catch(t){j((0,Tn.cleanError)(t))}}),[R,E,j]),O=(0,lt.useCallback)((async()=>{j(""),S(!1);try{if(0===T.length)return void S(!0);let t=new Dn.RichText({text:I.text.trimEnd()},{cleanNewlines:!0});if(await t.detectFacets(d),t=(0,Vd.shortenLinks)(t),t=(0,Vd.stripInvalidMentions)(t),e)await g({uri:e.uri,name:T,description:t.text,descriptionFacets:t.facets,avatar:L}),Ds.show(l(i?{id:"BrnSTz"}:{id:"K70wIO"})),u.close((()=>s?.(e.uri)));else{const{uri:e}=await m({purpose:r,name:T,description:t.text,descriptionFacets:t.facets,avatar:L});Ds.show(l(i?{id:"4oHkb+"}:{id:"atbRxA"})),u.close((()=>s?.(e)))}}catch(t){Mt.logger.error("Failed to create/edit list",{message:String(t)})}}),[e,m,g,s,u,T,I,L,j,r,i,d,l]),M=(0,Eu.isOverMaxGraphemeCount)({text:T,maxCount:iS}),F=(0,Eu.isOverMaxGraphemeCount)({text:I,maxCount:lS}),N=(0,lt.useCallback)((()=>(0,bt.jsx)(ao.Button,{label:l({id:"dEgA5A"}),onPress:a,size:"small",color:"primary",variant:"ghost",style:[qs.atoms.rounded_full],testID:"editProfileCancelBtn",children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})})),[a,l]),H=(0,lt.useCallback)((()=>(0,bt.jsxs)(ao.Button,{label:l({id:"tfDRzk"}),onPress:O,disabled:!B||f||y||M||F,size:"small",color:"primary",variant:"ghost",style:[qs.atoms.rounded_full],testID:"editProfileSaveBtn",children:[(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md,!B&&c.atoms.text_contrast_low],children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),(f||y)&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})),[l,c,B,O,f,y,M,F]),V=(0,lt.useCallback)((e=>{k(e),e.length>0&&v&&S(!1)}),[v]),z=(0,lt.useCallback)((e=>{const t=new Dn.RichText({text:e});t.detectFacetsWithoutResolution(),A(t)}),[A]),U=l(e?i?{id:"HFEnv3"}:{id:"IUTW5h"}:i?{id:"GbMJOc"}:{id:"/xk/6y"}),W=l(i?{id:"DftLaa"}:{id:"2eix82"}),G=l(i?{id:"4dTsmA"}:{id:"b9x+Vj"});return(0,bt.jsxs)(Qs.ScrollableInner,{label:U,style:[qs.atoms.overflow_hidden,(0,qs.web)({maxWidth:500})],contentContainerStyle:[qs.atoms.px_0,qs.atoms.pt_0],header:(0,bt.jsx)(Qs.Header,{renderLeft:N,renderRight:H,children:(0,bt.jsx)(Qs.HeaderText,{children:U})}),children:[_&&(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(x)}),p&&(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(h)}),""!==b&&(0,bt.jsx)(Dy.ErrorMessage,{message:b}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_xl,qs.atoms.px_xl,qs.atoms.gap_xl],children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"JWKzBK"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_start],children:(0,bt.jsx)(Gi.EditableUserAvatar,{size:80,avatar:P,onSelectNewAvatar:D,type:"list"})})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"zQX5Dj"})}),(0,bt.jsx)(mo.Root,{isInvalid:M||v,children:(0,bt.jsx)(Qs.Input,{defaultValue:T,onChangeText:V,label:l({id:"6YtxFj"}),placeholder:W,testID:"editListNameInput"})}),(M||v)&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.mt_xs,qs.atoms.font_bold,{color:c.palette.negative_400}],children:M?(0,bt.jsx)(dt.Trans,{id:"FTZjCD",values:{DISPLAY_NAME_MAX_GRAPHEMES:iS}}):v?(0,bt.jsx)(dt.Trans,{id:"PbChqR"}):null})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"Y5fsGT"})}),(0,bt.jsx)(mo.Root,{isInvalid:F,children:(0,bt.jsx)(Qs.Input,{defaultValue:I.text,onChangeText:z,multiline:!0,label:l({id:"Nu4oKW"}),placeholder:G,testID:"editListDescriptionInput"})}),F&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.mt_xs,qs.atoms.font_bold,{color:c.palette.negative_400}],children:(0,bt.jsx)(dt.Trans,{id:"ioKApL",values:{DESCRIPTION_MAX_GRAPHEMES:lS}})})]})]})]})}function mS(e){const t=(0,n.c)(26),{_:s}=(0,dt.useLingui)(),o=(0,hs.useSetMinimalShellMode)(),a=(0,Ns.useNavigation)(),r=Uo(),i=(0,Qs.useDialogControl)();let l,c;t[0]!==o?(l=()=>{o(!1)},t[0]=o,t[1]=l):l=t[1],(0,Ns.useFocusEffect)(l),t[2]!==i?(c=()=>{i.open()},t[2]=i,t[3]=c):c=t[3];const d=c;let u,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"ggPpXZ"},"lists"),t[4]=u):u=t[4],t[5]!==d||t[6]!==r?(m=r(d,{instructions:[u]}),t[5]=d,t[6]=r,t[7]=m):m=t[7];const h=m;let p;t[8]!==a?(p=e=>{try{const t=new Dn.AtUri(e);a.navigate("ProfileList",{name:t.hostname,rkey:t.rkey})}catch{}},t[8]=a,t[9]=p):p=t[9];const f=p;let g,x,_,y,b,j,v,S,w;return t[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ya.Header.BackButton,{}),t[10]=g):g=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"h16FyT"})})}),t[11]=x):x=t[11],t[12]!==s?(_=s({id:"Sb2gYF"}),t[12]=s,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"EM0Ehn"})}),t[15]=b):b=t[15],t[16]!==_||t[17]!==h?(j=(0,bt.jsxs)(ya.Header.Outer,{children:[g,x,(0,bt.jsxs)(ao.Button,{label:_,testID:"newUserListBtn",color:"secondary",size:"small",onPress:h,children:[y,b]})]}),t[16]=_,t[17]=h,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(nS,{filter:"curate",style:qs.atoms.flex_grow}),t[19]=v):v=t[19],t[20]!==i||t[21]!==f?(S=(0,bt.jsx)(cS,{purpose:"app.bsky.graph.defs#curatelist",control:i,onSave:f}),t[20]=i,t[21]=f,t[22]=S):S=t[22],t[23]!==j||t[24]!==S?(w=(0,bt.jsxs)(ya.Screen,{testID:"listsScreen",children:[j,v,S]}),t[23]=j,t[24]=S,t[25]=w):w=t[25],w}var hS=s(20533),pS=s(29945);function fS(e){const t=(0,n.c)(3),s=(0,Ns.useNavigation)();let o;return t[0]!==s||t[1]!==e?(o=()=>{e?.(),s.canGoBack()?s.goBack():(s.navigate("HomeTab"),s.getState()?.routes?s.dispatch(Ns.StackActions.push(...Hn.router.matchPath("/"))):(s.navigate("HomeTab"),s.dispatch(Ns.StackActions.popToTop())))},t[0]=s,t[1]=e,t[2]=o):o=t[2],o}function gS(e){const t=(0,n.c)(41),{title:s,message:o,onRetry:a,onGoBack:r,hideBackButton:i,sideBorders:l}=e,c=void 0===l||l,{_:d}=(0,dt.useLingui)(),u=(0,qs.useTheme)(),{gtMobile:m}=(0,qs.useBreakpoints)(),h=fS(r),p=!m&&qs.atoms.justify_between;let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P;return t[0]===Symbol.for("react.memo_cache_sentinel")?(f={paddingTop:175,paddingBottom:110},t[0]=f):f=t[0],t[1]!==u.atoms.border_contrast_low||t[2]!==p?(g=[qs.atoms.h_full_vh,qs.atoms.align_center,qs.atoms.gap_5xl,p,u.atoms.border_contrast_low,f],t[1]=u.atoms.border_contrast_low,t[2]=p,t[3]=g):g=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.gap_lg],t[4]=x):x=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.font_semi_bold,qs.atoms.text_3xl],t[5]=_):_=t[5],t[6]!==s?(y=(0,bt.jsx)(co.Text,{style:_,children:s}),t[6]=s,t[7]=y):y=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(b={lineHeight:1.4},t[8]=b):b=t[8],t[9]!==m?(j=m?{width:450}:[qs.atoms.w_full,qs.atoms.px_lg],t[9]=m,t[10]=j):j=t[10],t[11]!==u.atoms.text_contrast_high||t[12]!==j?(v=[qs.atoms.text_md,qs.atoms.text_center,u.atoms.text_contrast_high,b,j],t[11]=u.atoms.text_contrast_high,t[12]=j,t[13]=v):v=t[13],t[14]!==o||t[15]!==v?(S=(0,bt.jsx)(co.Text,{style:v,children:o}),t[14]=o,t[15]=v,t[16]=S):S=t[16],t[17]!==S||t[18]!==y?(w=(0,bt.jsxs)(Fs.default,{style:x,children:[y,S]}),t[17]=S,t[18]=y,t[19]=w):w=t[19],t[20]!==m?(T=m?{width:350}:[qs.atoms.w_full,qs.atoms.px_lg],t[20]=m,t[21]=T):T=t[21],t[22]!==T?(k=[qs.atoms.gap_md,T],t[22]=T,t[23]=k):k=t[23],t[24]!==d||t[25]!==a?(C=a&&(0,bt.jsx)(ao.Button,{variant:"solid",color:"primary",label:d({id:"Mey1Kb"}),onPress:a,size:"large",style:[qs.atoms.rounded_sm,qs.atoms.overflow_hidden,{paddingVertical:10}],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})})}),t[24]=d,t[25]=a,t[26]=C):C=t[26],t[27]!==d||t[28]!==h||t[29]!==i||t[30]!==a?(I=!i&&(0,bt.jsx)(ao.Button,{variant:"solid",color:a?"secondary":"primary",label:d({id:"/lgEIe"}),onPress:h,size:"large",style:[qs.atoms.rounded_sm,qs.atoms.overflow_hidden,{paddingVertical:10}],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"sr0UJD"})})}),t[27]=d,t[28]=h,t[29]=i,t[30]=a,t[31]=I):I=t[31],t[32]!==k||t[33]!==C||t[34]!==I?(A=(0,bt.jsxs)(Fs.default,{style:k,children:[C,I]}),t[32]=k,t[33]=C,t[34]=I,t[35]=A):A=t[35],t[36]!==c||t[37]!==w||t[38]!==A||t[39]!==g?(P=(0,bt.jsxs)(Sa,{style:g,sideBorders:c,children:[w,A]}),t[36]=c,t[37]=w,t[38]=A,t[39]=g,t[40]=P):P=t[40],P}function xS(e){const t=(0,n.c)(18),{isFetchingNextPage:s,hasNextPage:o,error:a,onRetry:r,height:i,style:l,showEndMessage:c,endMessageText:d,renderEndMessage:u}=e,m=void 0!==c&&c,h=(0,qs.useTheme)(),p=i??180;let f,g,x,_;return t[0]!==p?(f={height:p,paddingTop:30},t[0]=p,t[1]=f):f=t[1],t[2]!==l||t[3]!==h.atoms.border_contrast_low||t[4]!==f?(g=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.border_t,qs.atoms.pb_lg,h.atoms.border_contrast_low,f,l],t[2]=l,t[3]=h.atoms.border_contrast_low,t[4]=f,t[5]=g):g=t[5],t[6]!==d||t[7]!==a||t[8]!==o||t[9]!==s||t[10]!==r||t[11]!==u||t[12]!==m||t[13]!==h.atoms.text_contrast_low?(x=s?(0,bt.jsx)(lo.Loader,{size:"xl"}):a?(0,bt.jsx)(_S,{error:a,onRetry:r}):!o&&m?u?u():(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,h.atoms.text_contrast_low],children:d??(0,bt.jsx)(dt.Trans,{id:"dxlMS+"})}):null,t[6]=d,t[7]=a,t[8]=o,t[9]=s,t[10]=r,t[11]=u,t[12]=m,t[13]=h.atoms.text_contrast_low,t[14]=x):x=t[14],t[15]!==g||t[16]!==x?(_=(0,bt.jsx)(Fs.default,{style:g,children:x}),t[15]=g,t[16]=x,t[17]=_):_=t[17],_}function _S(e){const t=(0,n.c)(21),{error:s,onRetry:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)();if(!s)return null;let i,l,c,d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.w_full,qs.atoms.px_lg],t[0]=i):i=t[0],t[1]!==a.atoms.bg_contrast_25?(l=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.p_md,qs.atoms.rounded_sm,qs.atoms.align_center,a.atoms.bg_contrast_25],t[1]=a.atoms.bg_contrast_25,t[2]=l):l=t[2],t[3]!==a.atoms.text_contrast_medium?(c=[qs.atoms.flex_1,qs.atoms.text_sm,a.atoms.text_contrast_medium],t[3]=a.atoms.text_contrast_medium,t[4]=c):c=t[4],t[5]!==s?(d=s?(0,Tn.cleanError)(s):(0,bt.jsx)(dt.Trans,{id:"Wnz/MU"}),t[5]=s,t[6]=d):d=t[6],t[7]!==c||t[8]!==d?(u=(0,bt.jsx)(co.Text,{style:c,numberOfLines:2,children:d}),t[7]=c,t[8]=d,t[9]=u):u=t[9],t[10]!==r?(m=r({id:"Mey1Kb"}),t[10]=r,t[11]=m):m=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_sm,qs.atoms.overflow_hidden,qs.atoms.px_md,qs.atoms.py_sm],t[12]=h):h=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),t[13]=p):p=t[13],t[14]!==o||t[15]!==m?(f=(0,bt.jsx)(ao.Button,{variant:"solid",label:m,style:h,onPress:o,children:p}),t[14]=o,t[15]=m,t[16]=f):f=t[16],t[17]!==l||t[18]!==u||t[19]!==f?(g=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsxs)(Fs.default,{style:l,children:[u,f]})}),t[17]=l,t[18]=u,t[19]=f,t[20]=g):g=t[20],g}let yS=e=>{const t=(0,n.c)(50),{isLoading:s,noEmpty:o,isError:a,emptyTitle:r,emptyMessage:i,errorTitle:l,errorMessage:c,emptyType:d,onRetry:u,onGoBack:m,hideBackButton:h,sideBorders:p,topBorder:f,emptyStateIcon:g,emptyStateButton:x,useEmptyState:_}=e,y=void 0===d?"page":d,b=void 0!==f&&f,j=void 0!==_&&_,v=(0,qs.useTheme)(),{_:S}=(0,dt.useLingui)(),{gtMobile:w,gtTablet:T}=(0,qs.useBreakpoints)();if(s){const e=w?qs.atoms.gap_5xl:qs.atoms.justify_between;let s,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={paddingTop:175,paddingBottom:110},t[0]=s):s=t[0],t[1]!==v.atoms.border_contrast_low||t[2]!==e?(o=[qs.atoms.h_full_vh,qs.atoms.align_center,e,v.atoms.border_contrast_low,s],t[1]=v.atoms.border_contrast_low,t[2]=e,t[3]=o):o=t[3];const n=p??w,a=b&&!T;let r,i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_center,{top:100}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[4]=r):r=t[4],t[5]!==o||t[6]!==n||t[7]!==a?(i=(0,bt.jsx)(Sa,{style:o,sideBorders:n,topBorder:a,children:r}),t[5]=o,t[6]=n,t[7]=a,t[8]=i):i=t[8],i}if(a){let e,s,o;return t[9]!==S||t[10]!==l?(e=l??S({id:"5yIPLp"}),t[9]=S,t[10]=l,t[11]=e):e=t[11],t[12]!==S||t[13]!==c?(s=c??S({id:"ywDBfs"}),t[12]=S,t[13]=c,t[14]=s):s=t[14],t[15]!==h||t[16]!==m||t[17]!==u||t[18]!==p||t[19]!==e||t[20]!==s?(o=(0,bt.jsx)(gS,{title:e,message:s,onRetry:u,onGoBack:m,sideBorders:p,hideBackButton:h}),t[15]=h,t[16]=m,t[17]=u,t[18]=p,t[19]=e,t[20]=s,t[21]=o):o=t[21],o}if(j){let e;t[22]!==v.atoms.border_contrast_low?(e=[v.atoms.border_contrast_low],t[22]=v.atoms.border_contrast_low,t[23]=e):e=t[23];const s=p??w;let o,n,a;return t[24]!==S||t[25]!==i||t[26]!==y?(o=i??S("results"===y?{id:"AxPAXW"}:{id:"8F1i42"}),t[24]=S,t[25]=i,t[26]=y,t[27]=o):o=t[27],t[28]!==x||t[29]!==g||t[30]!==o?(n=(0,bt.jsx)(pS.EmptyState,{icon:g,message:o,button:x}),t[28]=x,t[29]=g,t[30]=o,t[31]=n):n=t[31],t[32]!==e||t[33]!==s||t[34]!==n?(a=(0,bt.jsx)(Sa,{style:e,sideBorders:s,children:n}),t[32]=e,t[33]=s,t[34]=n,t[35]=a):a=t[35],a}if(!o){let e,s,o;return t[36]!==S||t[37]!==r||t[38]!==y?(e=r??S("results"===y?{id:"AxPAXW"}:{id:"8F1i42"}),t[36]=S,t[37]=r,t[38]=y,t[39]=e):e=t[39],t[40]!==S||t[41]!==i?(s=i??S({id:"/mVVX2"}),t[40]=S,t[41]=i,t[42]=s):s=t[42],t[43]!==h||t[44]!==m||t[45]!==u||t[46]!==p||t[47]!==e||t[48]!==s?(o=(0,bt.jsx)(gS,{title:e,message:s,onRetry:u,onGoBack:m,hideBackButton:h,sideBorders:p}),t[43]=h,t[44]=m,t[45]=u,t[46]=p,t[47]=e,t[48]=s,t[49]=o):o=t[49],o}return null};function bS(e){const t=(0,n.c)(30),s=(0,qs.useTheme)(),o=(0,hs.useSetMinimalShellMode)(),a=(0,ds.useModerationOpts)(),[r,i]=(0,lt.useState)(!1),{data:l,isFetching:c,isError:d,error:u,refetch:m,hasNextPage:h,fetchNextPage:p,isFetchingNextPage:f}=(0,hS.useMyBlockedAccountsQuery)(),g=!c&&!l?.pages[0]?.blocks.length;let x;e:{if(l?.pages){let e;t[0]!==l.pages?(e=l.pages.flatMap(vS),t[0]=l.pages,t[1]=e):e=t[1],x=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],x=e}const _=x;let y,b;t[3]!==o?(y=()=>{o(!1)},t[3]=o,t[4]=y):y=t[4],(0,Ns.useFocusEffect)(y),t[5]!==m?(b=async()=>{i(!0);try{await m()}catch(v){const t=v;Mt.logger.error("Failed to refresh my muted accounts",{message:t})}i(!1)},t[5]=m,t[6]=b):b=t[6];const j=b;let v;t[7]!==p||t[8]!==h||t[9]!==d||t[10]!==c?(v=async()=>{if(!c&&h&&!d)try{await p()}catch(w){const t=w;Mt.logger.error("Failed to load more of my muted accounts",{message:t})}},t[7]=p,t[8]=h,t[9]=d,t[10]=c,t[11]=v):v=t[11];const S=v;let w;t[12]!==a||t[13]!==s?(w=e=>{const{item:t,index:o}=e;return a?(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,s.atoms.border_contrast_low],children:(0,bt.jsx)(Rl.Default,{testID:`blockedAccount-${o}`,profile:t,moderationOpts:a})},t.did):null},t[12]=a,t[13]=s,t[14]=w):w=t[14];const T=w;let k,C,I;return t[15]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(ya.Header.BackButton,{}),t[15]=k):k=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsxs)(ya.Header.Outer,{children:[k,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"JuqQpF"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[16]=C):C=t[16],t[17]!==u||t[18]!==p||t[19]!==h||t[20]!==g||t[21]!==d||t[22]!==f||t[23]!==r||t[24]!==S||t[25]!==j||t[26]!==_||t[27]!==m||t[28]!==T?(I=(0,bt.jsx)(ya.Screen,{testID:"blockedAccountsScreen",children:(0,bt.jsxs)(ya.Center,{children:[C,g?(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(wS,{style:[qs.atoms.border_b]}),d?(0,bt.jsx)(lh,{title:"Oops!",message:(0,Tn.cleanError)(u),onPressTryAgain:m}):(0,bt.jsx)(SS,{})]}):(0,bt.jsx)(ei.List,{data:_,keyExtractor:jS,refreshing:r,onRefresh:j,onEndReached:S,renderItem:T,initialNumToRender:15,ListHeaderComponent:wS,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:f,hasNextPage:h,error:(0,Tn.cleanError)(u),onRetry:p})})]})}),t[17]=u,t[18]=p,t[19]=h,t[20]=g,t[21]=d,t[22]=f,t[23]=r,t[24]=S,t[25]=j,t[26]=_,t[27]=m,t[28]=T,t[29]=I):I=t[29],I}function jS(e){return e.did}function vS(e){return e.blocks}function SS(){const e=(0,n.c)(13),t=(0,qs.useTheme)();let s,o,a,r,i,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.pt_2xl,qs.atoms.px_xl,qs.atoms.align_center],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={maxWidth:400},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25||e[3]!==t.atoms.border_contrast_low?(a=[qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_sm,t.atoms.bg_contrast_25,qs.atoms.border,t.atoms.border_contrast_low,o],e[2]=t.atoms.bg_contrast_25,e[3]=t.atoms.border_contrast_low,e[4]=a):a=e[4],e[5]!==t.atoms.text_contrast_high?(r=[qs.atoms.text_sm,qs.atoms.text_center,t.atoms.text_contrast_high],e[5]=t.atoms.text_contrast_high,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"NzoLJ0"}),e[7]=i):i=e[7],e[8]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),e[8]=r,e[9]=l):l=e[9],e[10]!==a||e[11]!==l?(c=(0,bt.jsx)(Fs.default,{style:s,children:(0,bt.jsx)(Fs.default,{style:a,children:l})}),e[10]=a,e[11]=l,e[12]=c):c=e[12],c}function wS(e){const t=(0,n.c)(13),{style:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={marginTop:-1*qs.atoms.border.borderWidth},t[0]=a):a=t[0],t[1]!==s||t[2]!==o.atoms.bg_contrast_25||t[3]!==o.atoms.border_contrast_low?(r=[qs.atoms.w_full,o.atoms.bg_contrast_25,qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,a,o.atoms.border_contrast_low,s],t[1]=s,t[2]=o.atoms.bg_contrast_25,t[3]=o.atoms.border_contrast_low,t[4]=r):r=t[4],t[5]!==o.atoms.text_contrast_high?(i=[qs.atoms.text_center,qs.atoms.text_sm,o.atoms.text_contrast_high],t[5]=o.atoms.text_contrast_high,t[6]=i):i=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"8LNSUt"}),t[7]=l):l=t[7],t[8]!==i?(c=(0,bt.jsx)(co.Text,{style:i,children:l}),t[8]=i,t[9]=c):c=t[9],t[10]!==r||t[11]!==c?(d=(0,bt.jsx)(Fs.default,{style:r,children:c}),t[10]=r,t[11]=c,t[12]=d):d=t[12],d}function TS(e){const t=(0,n.c)(26),{_:s}=(0,dt.useLingui)(),o=(0,hs.useSetMinimalShellMode)(),a=(0,Ns.useNavigation)(),r=Uo(),i=(0,Qs.useDialogControl)();let l,c;t[0]!==o?(l=()=>{o(!1)},t[0]=o,t[1]=l):l=t[1],(0,Ns.useFocusEffect)(l),t[2]!==i?(c=()=>{i.open()},t[2]=i,t[3]=c):c=t[3];const d=c;let u,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"ggPpXZ"},"modlist"),t[4]=u):u=t[4],t[5]!==d||t[6]!==r?(m=r(d,{instructions:[u]}),t[5]=d,t[6]=r,t[7]=m):m=t[7];const h=m;let p;t[8]!==a?(p=e=>{try{const t=new Dn.AtUri(e);a.navigate("ProfileList",{name:t.hostname,rkey:t.rkey})}catch{}},t[8]=a,t[9]=p):p=t[9];const f=p;let g,x,_,y,b,j,v,S,w;return t[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ya.Header.BackButton,{}),t[10]=g):g=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"3j2OjF"})})}),t[11]=x):x=t[11],t[12]!==s?(_=s({id:"Sb2gYF"}),t[12]=s,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"EM0Ehn"})}),t[15]=b):b=t[15],t[16]!==_||t[17]!==h?(j=(0,bt.jsxs)(ya.Header.Outer,{children:[g,x,(0,bt.jsxs)(ao.Button,{label:_,testID:"newModListBtn",color:"secondary",variant:"solid",size:"small",onPress:h,children:[y,b]})]}),t[16]=_,t[17]=h,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(nS,{filter:"mod",style:qs.atoms.flex_grow}),t[19]=v):v=t[19],t[20]!==i||t[21]!==f?(S=(0,bt.jsx)(cS,{purpose:"app.bsky.graph.defs#modlist",control:i,onSave:f}),t[20]=i,t[21]=f,t[22]=S):S=t[22],t[23]!==j||t[24]!==S?(w=(0,bt.jsxs)(ya.Screen,{testID:"moderationModlistsScreen",children:[j,v,S]}),t[23]=j,t[24]=S,t[25]=w):w=t[25],w}yS=(0,lt.memo)(yS);var kS=s(91154);function CS(e){const t=(0,n.c)(30),s=(0,qs.useTheme)(),o=(0,ds.useModerationOpts)(),a=(0,hs.useSetMinimalShellMode)(),[r,i]=(0,lt.useState)(!1),{data:l,isFetching:c,isError:d,error:u,refetch:m,hasNextPage:h,fetchNextPage:p,isFetchingNextPage:f}=(0,kS.useMyMutedAccountsQuery)(),g=!c&&!l?.pages[0]?.mutes.length;let x;e:{if(l?.pages){let e;t[0]!==l.pages?(e=l.pages.flatMap(AS),t[0]=l.pages,t[1]=e):e=t[1],x=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],x=e}const _=x;let y,b;t[3]!==a?(y=()=>{a(!1)},t[3]=a,t[4]=y):y=t[4],(0,Ns.useFocusEffect)(y),t[5]!==m?(b=async()=>{i(!0);try{await m()}catch(v){const t=v;Mt.logger.error("Failed to refresh my muted accounts",{message:t})}i(!1)},t[5]=m,t[6]=b):b=t[6];const j=b;let v;t[7]!==p||t[8]!==h||t[9]!==d||t[10]!==c?(v=async()=>{if(!c&&h&&!d)try{await p()}catch(w){const t=w;Mt.logger.error("Failed to load more of my muted accounts",{message:t})}},t[7]=p,t[8]=h,t[9]=d,t[10]=c,t[11]=v):v=t[11];const S=v;let w;t[12]!==o||t[13]!==s?(w=e=>{const{item:t,index:n}=e;return o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,s.atoms.border_contrast_low],children:(0,bt.jsx)(Rl.Link,{profile:t,testID:`mutedAccount-${n}`,children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:t,moderationOpts:o}),(0,bt.jsx)(Rl.NameAndHandle,{profile:t,moderationOpts:o})]}),(0,bt.jsx)(Rl.Labels,{profile:t,moderationOpts:o}),(0,bt.jsx)(Rl.Description,{profile:t})]})})},t.did):null},t[12]=o,t[13]=s,t[14]=w):w=t[14];const T=w;let k,C,I;return t[15]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(ya.Header.BackButton,{}),t[15]=k):k=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsxs)(ya.Header.Outer,{children:[k,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"qUa+lV"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[16]=C):C=t[16],t[17]!==u||t[18]!==p||t[19]!==h||t[20]!==g||t[21]!==d||t[22]!==f||t[23]!==r||t[24]!==S||t[25]!==j||t[26]!==_||t[27]!==m||t[28]!==T?(I=(0,bt.jsxs)(ya.Screen,{testID:"mutedAccountsScreen",children:[C,(0,bt.jsx)(ya.Center,{children:g?(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(ES,{style:[qs.atoms.border_b]}),d?(0,bt.jsx)(lh,{title:"Oops!",message:(0,Tn.cleanError)(u),onPressTryAgain:m}):(0,bt.jsx)(PS,{})]}):(0,bt.jsx)(ei.List,{data:_,keyExtractor:IS,refreshing:r,onRefresh:j,onEndReached:S,renderItem:T,initialNumToRender:15,ListHeaderComponent:ES,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:f,hasNextPage:h,error:(0,Tn.cleanError)(u),onRetry:p})})})]}),t[17]=u,t[18]=p,t[19]=h,t[20]=g,t[21]=d,t[22]=f,t[23]=r,t[24]=S,t[25]=j,t[26]=_,t[27]=m,t[28]=T,t[29]=I):I=t[29],I}function IS(e){return e.did}function AS(e){return e.mutes}function PS(){const e=(0,n.c)(13),t=(0,qs.useTheme)();let s,o,a,r,i,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.pt_2xl,qs.atoms.px_xl,qs.atoms.align_center],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={maxWidth:400},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25||e[3]!==t.atoms.border_contrast_low?(a=[qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_sm,t.atoms.bg_contrast_25,qs.atoms.border,t.atoms.border_contrast_low,o],e[2]=t.atoms.bg_contrast_25,e[3]=t.atoms.border_contrast_low,e[4]=a):a=e[4],e[5]!==t.atoms.text_contrast_high?(r=[qs.atoms.text_sm,qs.atoms.text_center,t.atoms.text_contrast_high],e[5]=t.atoms.text_contrast_high,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"1cGBmf"}),e[7]=i):i=e[7],e[8]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),e[8]=r,e[9]=l):l=e[9],e[10]!==a||e[11]!==l?(c=(0,bt.jsx)(Fs.default,{style:s,children:(0,bt.jsx)(Fs.default,{style:a,children:l})}),e[10]=a,e[11]=l,e[12]=c):c=e[12],c}function ES(e){const t=(0,n.c)(13),{style:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={marginTop:-1*qs.atoms.border.borderWidth},t[0]=a):a=t[0],t[1]!==s||t[2]!==o.atoms.bg_contrast_25||t[3]!==o.atoms.border_contrast_low?(r=[qs.atoms.w_full,o.atoms.bg_contrast_25,qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,a,o.atoms.border_contrast_low,s],t[1]=s,t[2]=o.atoms.bg_contrast_25,t[3]=o.atoms.border_contrast_low,t[4]=r):r=t[4],t[5]!==o.atoms.text_contrast_high?(i=[qs.atoms.text_center,qs.atoms.text_sm,o.atoms.text_contrast_high],t[5]=o.atoms.text_contrast_high,t[6]=i):i=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"gA0D9A"}),t[7]=l):l=t[7],t[8]!==i?(c=(0,bt.jsx)(co.Text,{style:i,children:l}),t[8]=i,t[9]=c):c=t[9],t[10]!==r||t[11]!==c?(d=(0,bt.jsx)(Fs.default,{style:r,children:c}),t[10]=r,t[11]=c,t[12]=d):d=t[12],d}const LS=()=>{const e=(0,n.c)(42),t=(0,bn.usePalette)("default"),{_:s}=(0,dt.useLingui)(),o=(0,Ns.useNavigation)(),a=(0,hs.useSetMinimalShellMode)();let r,i;e[0]!==a?(r=()=>{a(!1)},e[0]=a,e[1]=r):r=e[1],(0,Ns.useFocusEffect)(r),e[2]!==o?(i=o.canGoBack(),e[2]=o,e[3]=i):i=e[3];const l=i;let c;e[4]!==l||e[5]!==o?(c=()=>{l?o.goBack():(o.navigate("HomeTab"),o.dispatch(Ns.StackActions.popToTop()))},e[4]=l,e[5]=o,e[6]=c):c=e[6];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,S,w;return e[7]!==s?(u=s({id:"boJlGf"}),e[7]=s,e[8]=u):u=e[8],e[9]!==u?(m=(0,bt.jsx)(ka,{title:u}),e[9]=u,e[10]=m):m=e[10],e[11]!==t.text?(h=[t.text,kn.s.mb10],e[11]=t.text,e[12]=h):h=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(dt.Trans,{id:"8F1i42"}),e[13]=p):p=e[13],e[14]!==h?(f=(0,bt.jsx)(ua.Text,{type:"title-2xl",style:h,children:p}),e[14]=h,e[15]=f):f=e[15],e[16]!==t.text?(g=[t.text,kn.s.mb10],e[16]=t.text,e[17]=g):g=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(dt.Trans,{id:"/mVVX2"}),e[18]=x):x=e[18],e[19]!==g?(_=(0,bt.jsx)(ua.Text,{type:"md",style:g,children:x}),e[19]=g,e[20]=_):_=e[20],e[21]!==s||e[22]!==l?(y=s(l?{id:"sr0UJD"}:{id:"7eMo+U"}),e[21]=s,e[22]=l,e[23]=y):y=e[23],e[24]!==s||e[25]!==l?(b=s(l?{id:"CKyk7Q"}:{id:"iWpEwy"}),e[24]=s,e[25]=l,e[26]=b):b=e[26],e[27]!==s||e[28]!==l?(j=s(l?{id:"wpAjsg"}:{id:"I22o1c"}),e[27]=s,e[28]=l,e[29]=j):j=e[29],e[30]!==d||e[31]!==y||e[32]!==b||e[33]!==j?(v=(0,bt.jsx)(Ti.Button,{type:"primary",label:y,accessibilityLabel:b,accessibilityHint:j,onPress:d}),e[30]=d,e[31]=y,e[32]=b,e[33]=j,e[34]=v):v=e[34],e[35]!==_||e[36]!==v||e[37]!==f?(S=(0,bt.jsxs)(Fs.default,{style:RS.container,children:[f,_,v]}),e[35]=_,e[36]=v,e[37]=f,e[38]=S):S=e[38],e[39]!==S||e[40]!==m?(w=(0,bt.jsxs)(ya.Screen,{testID:"notFoundView",children:[m,S]}),e[39]=S,e[40]=m,e[41]=w):w=e[41],w},RS=Os.default.create({container:{paddingTop:100,paddingHorizontal:20,alignItems:"center",height:"100%"}}),BS=["notification-settings"];function DS(e){const t=(0,n.c)(7);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{enabled:o}=s,a=(0,Gt.useAgent)();let r,i;return t[2]!==a?(r=async()=>(await a.app.bsky.notification.getPreferences()).data.preferences,t[2]=a,t[3]=r):r=t[3],t[4]!==o||t[5]!==r?(i={queryKey:BS,queryFn:r,enabled:o},t[4]=o,t[5]=r,t[6]=i):i=t[6],(0,Zs.useQuery)(i)}function OS(){const e=(0,n.c)(9),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)();let o,a,r,i;return e[0]!==t?(o=async e=>(await t.app.bsky.notification.putPreferencesV2(e)).data.preferences,e[0]=t,e[1]=o):o=e[1],e[2]!==s?(a=e=>{!function(e,t){e.setQueryData(BS,(e=>e?Object.assign({},e,t):e))}(s,e)},r=e=>{Mt.logger.error("Could not update notification settings",{message:e}),s.invalidateQueries({queryKey:BS}),Ds.show(Et.i18n._({id:"IhRdlu"}),"xmark")},e[2]=s,e[3]=a,e[4]=r):(a=e[3],r=e[4]),e[5]!==o||e[6]!==a||e[7]!==r?(i={mutationFn:o,onMutate:a,onError:r},e[5]=o,e[6]=a,e[7]=r,e[8]=i):i=e[8],(0,go.useMutation)(i)}function MS(e){const t=(0,n.c)(4),s=(0,Xo.useAnalytics)();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Set,t[0]=o):o=t[0];const a=(0,lt.useRef)(o);let r;t[1]!==s||t[2]!==e?(r=t=>{a.current.has(t.uri)||(a.current.add(t.uri),s.metric("post:view",{uri:t.uri,authorDid:t.author.did,logContext:e}))},t[1]=s,t[2]=e,t[3]=r):r=t[3];return r}const FS=(0,ti.createSinglePathSVG)({path:"M4.216 8.815a7.853 7.853 0 0 1 15.568 0l1.207 9.053A1 1 0 0 1 20 19h-3.354c-.904 1.748-2.607 3-4.646 3-2.039 0-3.742-1.252-4.646-3H4a1 1 0 0 1-.991-1.132l1.207-9.053ZM9.778 19c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1H9.778ZM12 4a5.853 5.853 0 0 0-5.802 5.08L5.142 17h13.716l-1.056-7.92A5.853 5.853 0 0 0 12 4Z"}),NS=(0,ti.createSinglePathSVG)({path:"M12 2a7.853 7.853 0 0 0-7.784 6.815l-1.207 9.053A1 1 0 0 0 4 19h3.354c.904 1.748 2.607 3 4.646 3 2.039 0 3.742-1.252 4.646-3H20a1 1 0 0 0 .991-1.132l-1.207-9.053A7.853 7.853 0 0 0 12 2Zm2.222 17H9.778c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1Z"}),HS={_reactKey:"__empty__"},VS={_reactKey:"__load_more_error__"},zS={_reactKey:"__loading__"};function US({filter:e,enabled:t,scrollElRef:s,onPressTryAgain:o,onScrolledDownChange:n,ListHeaderComponent:a,refreshNotifications:r}){const i=$r(),[l,c]=lt.useState(!1),{_:d}=(0,dt.useLingui)(),u=(0,ds.useModerationOpts)(),m=MS("Notifications"),{data:h,isFetching:p,isFetched:f,isError:g,error:x,hasNextPage:_,isFetchingNextPage:y,fetchNextPage:b}=(0,Fn.useNotificationFeedQuery)({enabled:t&&!!u,filter:e}),j=!p&&!h?.pages.find((e=>e.items.length>0)),v=lt.useMemo((()=>{let e=[];if(f){if(j)e=e.concat([HS]);else if(h)for(const t of h?.pages)e=e.concat(t.items);g&&!j&&(e=e.concat([VS]))}else e.push(zS);return e}),[f,g,j,h]),S=lt.useCallback((async()=>{try{c(!0),await r()}catch(e){Mt.logger.error("Failed to refresh notifications feed",{message:e})}finally{c(!1)}}),[r,c]),w=lt.useCallback((async()=>{if(!p&&_&&!g)try{await b()}catch(e){Mt.logger.error("Failed to load more notifications",{message:e})}}),[p,_,g,b]),T=lt.useCallback((()=>{b()}),[b]),k=lt.useCallback((({item:t,index:s})=>t===HS?(0,bt.jsx)(pS.EmptyState,{icon:FS,message:d({id:"YRa4bw"}),style:WS.emptyState}):t===VS?(0,bt.jsx)(ki,{label:d({id:"UDDYdf"}),onPress:T}):t===zS?(0,bt.jsx)(gi,{}):(0,bt.jsx)(sj,{highlightUnread:"all"===e,item:t,moderationOpts:u,hideTopBorder:0===s})),[u,d,T,e]),C=lt.useCallback((()=>y?(0,bt.jsx)(Fs.default,{style:WS.feedFooter,children:(0,bt.jsx)(vn.default,{})}):(0,bt.jsx)(Fs.default,{})),[y]);return(0,bt.jsxs)(Fs.default,{style:kn.s.hContentRegion,children:[x&&(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(x),onPressTryAgain:o}),(0,bt.jsx)(ei.List,{testID:"notifsFeed",ref:s,data:v,keyExtractor:e=>e._reactKey,renderItem:k,ListHeaderComponent:a,ListFooterComponent:C,refreshing:l,onRefresh:S,onEndReached:w,onEndReachedThreshold:2,onScrolledDownChange:n,onItemSeen:e=>{"reply"!==e.type&&"mention"!==e.type&&"quote"!==e.type||!e.subject||m(e.subject)},contentContainerStyle:kn.s.contentContainer,desktopFixedHeight:!0,initialNumToRender:i,windowSize:11,sideBorders:!1,removeClippedSubviews:!0})]})}const WS=Os.default.create({feedFooter:{paddingTop:20},emptyState:{paddingVertical:40}});let GS=0;function qS(e){const t=(0,n.c)(55),{_:s}=(0,dt.useLingui)(),{openComposer:o}=Wo(),a=!!(0,us.useUnreadNotifications)(),{checkUnread:r}=(0,us.useUnreadNotificationsApi)(),[i,l]=(0,lt.useState)(!1),[c,d]=(0,lt.useState)(!1),[u,m]=(0,lt.useState)(GS),h=0===u?i:c;let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{m(e),GS=e},t[0]=p):p=t[0];const f=p,g=(0,On.useQueryClient)();let x;t[1]!==g?(x=async e=>{const{invalidate:t}=e;if(t)return(0,Nn.truncateAndInvalidate)(g,(0,Fn.RQKEY)("mentions"))},t[1]=g,t[2]=x):x=t[2];const _=x;let y;t[3]!==s?(y=s({id:"N40H+G"}),t[3]=s,t[4]=y):y=t[4];const b=0===u;let j,v,S;t[5]!==r||t[6]!==a||t[7]!==i||t[8]!==b?(j=(0,bt.jsx)(YS,{filter:"all",isActive:b,isLoading:i,hasNew:a,setIsLoadingLatest:l,checkUnread:r}),t[5]=r,t[6]=a,t[7]=i,t[8]=b,t[9]=j):j=t[9],t[10]!==y||t[11]!==j?(v={title:y,component:j},t[10]=y,t[11]=j,t[12]=v):v=t[12],t[13]!==s?(S=s({id:"/bZzdR"}),t[13]=s,t[14]=S):S=t[14];const w=1===u;let T,k,C;t[15]!==_||t[16]!==c||t[17]!==w?(T=(0,bt.jsx)(YS,{filter:"mentions",isActive:w,isLoading:c,hasNew:!1,setIsLoadingLatest:d,checkUnread:_}),t[15]=_,t[16]=c,t[17]=w,t[18]=T):T=t[18],t[19]!==S||t[20]!==T?(k={title:S,component:T},t[19]=S,t[20]=T,t[21]=k):k=t[21],t[22]!==k||t[23]!==v?(C=[v,k],t[22]=k,t[23]=v,t[24]=C):C=t[24];const I=C;let A,P,E,L,R;t[25]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(ya.Header.MenuButton,{}),t[25]=A):A=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),t[26]=P):P=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(E={screen:"NotificationSettings"},t[27]=E):E=t[27],t[28]!==s?(L=s({id:"qqzVv6"}),t[28]=s,t[29]=L):L=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.justify_center],t[30]=R):R=t[30];const B=h?lo.Loader:Tf;let D,O,M,F,N,H,V,z,U,W;return t[31]!==B?(D=(0,bt.jsx)(ao.ButtonIcon,{icon:B,size:"lg"}),t[31]=B,t[32]=D):D=t[32],t[33]!==L||t[34]!==D?(O=(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,sticky:!1,children:[A,P,(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(io.Link,{to:E,label:L,size:"small",variant:"ghost",color:"secondary",shape:"round",style:R,children:D})})]}),t[33]=L,t[34]=D,t[35]=O):O=t[35],t[36]!==I?(M=e=>(0,bt.jsx)(ya.Center,{style:[qs.atoms.z_10,(0,qs.web)([qs.atoms.sticky,{top:0}])],children:(0,bt.jsx)(wv,Object.assign({},e,{items:I.map(ZS),onPressSelected:KS}))}),t[36]=I,t[37]=M):M=t[37],t[38]!==I?(F=I.map(QS),t[38]=I,t[39]=F):F=t[39],t[40]!==M||t[41]!==F?(N=(0,bt.jsx)(Mv,{onPageSelected:f,renderTabBar:M,initialPage:GS,children:F}),t[40]=M,t[41]=F,t[42]=N):N=t[42],t[43]!==o?(H=()=>o({logContext:"Fab"}),t[43]=o,t[44]=H):H=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(V=(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:kn.s.white}),t[45]=V):V=t[45],t[46]!==s?(z=s({id:"2B7HLH"}),t[46]=s,t[47]=z):z=t[47],t[48]!==H||t[49]!==z?(U=(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:H,icon:V,accessibilityRole:"button",accessibilityLabel:z,accessibilityHint:""}),t[48]=H,t[49]=z,t[50]=U):U=t[50],t[51]!==O||t[52]!==N||t[53]!==U?(W=(0,bt.jsxs)(ya.Screen,{testID:"notificationsScreen",children:[O,N,U]}),t[51]=O,t[52]=N,t[53]=U,t[54]=W):W=t[54],W}function QS(e,t){return(0,bt.jsx)(Fs.default,{children:e.component},t)}function KS(){return(0,_t.emitSoftReset)()}function ZS(e){return e.title}function YS(e){const t=(0,n.c)(39),{filter:s,isActive:o,isLoading:a,hasNew:i,checkUnread:l,setIsLoadingLatest:c}=e,{_:d}=(0,dt.useLingui)(),u=(0,hs.useSetMinimalShellMode)(),[m,h]=(0,lt.useState)(!1),p=(0,lt.useRef)(null),f=(0,On.useQueryClient)(),g=(0,Ns.useIsFocused)()&&o;let x;t[0]!==u?(x=()=>{p.current?.scrollToOffset({animated:r.IS_NATIVE,offset:0}),u(!1)},t[0]=u,t[1]=x):x=t[1];const _=x;let y;t[2]!==l||t[3]!==s||t[4]!==i||t[5]!==a||t[6]!==f||t[7]!==_||t[8]!==c?(y=()=>{_(),i?(0,Nn.truncateAndInvalidate)(f,(0,Fn.RQKEY)(s)):a||(c(!0),l({invalidate:!0}).catch($S).then((()=>c(!1))))},t[2]=l,t[3]=s,t[4]=i,t[5]=a,t[6]=f,t[7]=_,t[8]=c,t[9]=y):y=t[9];const b=y;let j;t[10]!==l||t[11]!==m?(j=()=>{let e;e=r.IS_NATIVE?m:window.scrollY>200,l({invalidate:!e})},t[10]=l,t[11]=m,t[12]=j):j=t[12];const v=(0,Bn.useNonReactiveCallback)(j);let S,w,T,k,C,I,A,P;return t[13]!==g||t[14]!==v||t[15]!==u?(S=()=>{g&&(u(!1),Mt.logger.debug("NotificationsScreen: Focus"),v())},t[13]=g,t[14]=v,t[15]=u,t[16]=S):S=t[16],(0,Ns.useFocusEffect)(S),t[17]!==g||t[18]!==b?(w=()=>{if(g)return(0,_t.listenSoftReset)(b)},T=[b,g],t[17]=g,t[18]=b,t[19]=w,t[20]=T):(w=t[19],T=t[20]),(0,lt.useEffect)(w,T),t[21]!==l?(k=()=>l({invalidate:!0}),t[21]=l,t[22]=k):k=t[22],t[23]!==s||t[24]!==g?(C="mentions"===s?(0,bt.jsx)(XS,{active:g}):null,t[23]=s,t[24]=g,t[25]=C):C=t[25],t[26]!==s||t[27]!==g||t[28]!==k||t[29]!==C?(I=(0,bt.jsx)(yv,{children:(0,bt.jsx)(US,{enabled:g,filter:s,refreshNotifications:k,onScrolledDownChange:h,scrollElRef:p,ListHeaderComponent:C})}),t[26]=s,t[27]=g,t[28]=k,t[29]=C,t[30]=I):I=t[30],t[31]!==d||t[32]!==i||t[33]!==m||t[34]!==b?(A=(m||i)&&(0,bt.jsx)(cv,{onPress:b,label:d({id:"7EHsGr"}),showIndicator:i}),t[31]=d,t[32]=i,t[33]=m,t[34]=b,t[35]=A):A=t[35],t[36]!==A||t[37]!==I?(P=(0,bt.jsxs)(bt.Fragment,{children:[I,A]}),t[36]=A,t[37]=I,t[38]=P):P=t[38],P}function $S(){}function XS(e){const t=(0,n.c)(12),{active:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r;t[0]!==s?(r={enabled:s},t[0]=s,t[1]=r):r=t[1];const{data:i}=DS(r);if(!i)return null;if(!i.reply.list&&!i.quote.list&&!i.mention.list){let e,s,n,r,i;return t[2]!==o.atoms.border_contrast_low?(e=[qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.border_b,o.atoms.border_contrast_low],t[2]=o.atoms.border_contrast_low,t[3]=e):e=t[3],t[4]!==a?(s=a({id:"N4WTK5"}),t[4]=a,t[5]=s):s=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(n={screen:"NotificationSettings"},t[6]=n):n=t[6],t[7]!==s?(r=(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"GrinYg",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:s,to:n})}})}),t[7]=s,t[8]=r):r=t[8],t[9]!==e||t[10]!==r?(i=(0,bt.jsx)(Fs.default,{style:e,children:r}),t[9]=e,t[10]=r,t[11]=i):i=t[11],i}return null}const JS=(0,ti.createSinglePathSVG)({path:"M7 3a1 1 0 0 1 1 1v1.126a4 4 0 0 1 0 7.748V20a1 1 0 1 1-2 0v-7.126a4 4 0 0 1 0-7.748V4a1 1 0 0 1 1-1Zm10 0a1 1 0 0 1 1 1v9.126a4 4 0 1 1-2 0V4a1 1 0 0 1 1-1ZM7 7a2 2 0 1 0 0 4 2 2 0 1 0 0-4Zm10 8a2 2 0 1 0 0 4 2 2 0 1 0 0-4Z"}),ew=["onPress"];function tw(e){const t=(0,n.c)(79),{sort:s,view:o,setSort:a,setView:r}=e,i=(0,Xo.useAnalytics)(),{_:l}=(0,dt.useLingui)();let c,d,u,m,h,p,f;t[0]!==l?(c=l({id:"CtmGxM"}),t[0]=l,t[1]=c):c=t[1],t[2]!==l||t[3]!==i?(d=e=>{const{props:t}=e,{onPress:s}=t,o=(0,ta.default)(t,ew);return(0,bt.jsx)(ao.Button,Object.assign({label:l({id:"CtmGxM"}),size:"small",variant:"ghost",color:"secondary",shape:"round",hitSlop:Vt.HITSLOP_10,onPress:()=>{i.metric("thread:click:headerMenuOpen",{}),s()}},o,{children:(0,bt.jsx)(ao.ButtonIcon,{icon:JS,size:"md"})}))},t[2]=l,t[3]=i,t[4]=d):d=t[4],t[5]!==c||t[6]!==d?(u=(0,bt.jsx)(Kp.Trigger,{label:c,children:d}),t[5]=c,t[6]=d,t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(Kp.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"EhPeAC"})}),t[8]=m):m=t[8],t[9]!==l?(h=l({id:"ih+n6S"}),t[9]=l,t[10]=h):h=t[10],t[11]!==r?(p=()=>{r("linear")},t[11]=r,t[12]=p):p=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ih+n6S"})}),t[13]=f):f=t[13];const g="linear"===o;let x,_,y,b,j;t[14]!==g?(x=(0,bt.jsx)(Kp.ItemRadio,{selected:g}),t[14]=g,t[15]=x):x=t[15],t[16]!==h||t[17]!==p||t[18]!==x?(_=(0,bt.jsxs)(Kp.Item,{label:h,onPress:p,children:[f,x]}),t[16]=h,t[17]=p,t[18]=x,t[19]=_):_=t[19],t[20]!==l?(y=l({id:"+7vrMN"}),t[20]=l,t[21]=y):y=t[21],t[22]!==r?(b=()=>{r("tree")},t[22]=r,t[23]=b):b=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"+7vrMN"})}),t[24]=j):j=t[24];const v="tree"===o;let S,w,T,k,C,I,A,P;t[25]!==v?(S=(0,bt.jsx)(Kp.ItemRadio,{selected:v}),t[25]=v,t[26]=S):S=t[26],t[27]!==y||t[28]!==b||t[29]!==S?(w=(0,bt.jsxs)(Kp.Item,{label:y,onPress:b,children:[j,S]}),t[27]=y,t[28]=b,t[29]=S,t[30]=w):w=t[30],t[31]!==_||t[32]!==w?(T=(0,bt.jsxs)(Kp.Group,{children:[_,w]}),t[31]=_,t[32]=w,t[33]=T):T=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(Kp.Divider,{}),t[34]=k):k=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(Kp.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ivnZD1"})}),t[35]=C):C=t[35],t[36]!==l?(I=l({id:"VVy3h4"}),t[36]=l,t[37]=I):I=t[37],t[38]!==a?(A=()=>{a("top")},t[38]=a,t[39]=A):A=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"VVy3h4"})}),t[40]=P):P=t[40];const E="top"===s;let L,R,B,D,O;t[41]!==E?(L=(0,bt.jsx)(Kp.ItemRadio,{selected:E}),t[41]=E,t[42]=L):L=t[42],t[43]!==I||t[44]!==A||t[45]!==L?(R=(0,bt.jsxs)(Kp.Item,{label:I,onPress:A,children:[P,L]}),t[43]=I,t[44]=A,t[45]=L,t[46]=R):R=t[46],t[47]!==l?(B=l({id:"wuAcR7"}),t[47]=l,t[48]=B):B=t[48],t[49]!==a?(D=()=>{a("oldest")},t[49]=a,t[50]=D):D=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"wuAcR7"})}),t[51]=O):O=t[51];const M="oldest"===s;let F,N,H,V,z;t[52]!==M?(F=(0,bt.jsx)(Kp.ItemRadio,{selected:M}),t[52]=M,t[53]=F):F=t[53],t[54]!==B||t[55]!==D||t[56]!==F?(N=(0,bt.jsxs)(Kp.Item,{label:B,onPress:D,children:[O,F]}),t[54]=B,t[55]=D,t[56]=F,t[57]=N):N=t[57],t[58]!==l?(H=l({id:"l8y6yR"}),t[58]=l,t[59]=H):H=t[59],t[60]!==a?(V=()=>{a("newest")},t[60]=a,t[61]=V):V=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"l8y6yR"})}),t[62]=z):z=t[62];const U="newest"===s;let W,G,q,Q,K;return t[63]!==U?(W=(0,bt.jsx)(Kp.ItemRadio,{selected:U}),t[63]=U,t[64]=W):W=t[64],t[65]!==H||t[66]!==V||t[67]!==W?(G=(0,bt.jsxs)(Kp.Item,{label:H,onPress:V,children:[z,W]}),t[65]=H,t[66]=V,t[67]=W,t[68]=G):G=t[68],t[69]!==R||t[70]!==N||t[71]!==G?(q=(0,bt.jsxs)(Kp.Group,{children:[R,N,G]}),t[69]=R,t[70]=N,t[71]=G,t[72]=q):q=t[72],t[73]!==T||t[74]!==q?(Q=(0,bt.jsxs)(Kp.Outer,{children:[m,T,k,C,q]}),t[73]=T,t[74]=q,t[75]=Q):Q=t[75],t[76]!==u||t[77]!==Q?(K=(0,bt.jsxs)(Kp.Root,{children:[u,Q]}),t[76]=u,t[77]=Q,t[78]=K):K=t[78],K}const sw=(0,lt.createContext)(!1);sw.displayName="HideBottomBarBorderContext";const ow=(0,lt.createContext)(null);function nw(){const e=(0,n.c)(2),t=function(){const e=(0,lt.useContext)(ow);if(!e)throw new Error("useHideBottomBarBorderSetter must be used within a HideBottomBarBorderProvider");return e}();let s;e[0]!==t?(s=()=>{const e=t();return()=>e()},e[0]=t,e[1]=s):s=e[1],(0,Ns.useFocusEffect)(s)}function aw(){return(0,lt.useContext)(sw)}function rw(e){const t=(0,n.c)(4),{children:s}=e,[o,a]=(0,lt.useState)(0);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>(a(lw),()=>a(iw)),t[0]=r):r=t[0];const i=r,l=o>0;let c;return t[1]!==s||t[2]!==l?(c=(0,bt.jsx)(ow.Provider,{value:i,children:(0,bt.jsx)(sw.Provider,{value:l,children:s})}),t[1]=s,t[2]=l,t[3]=c):c=t[3],c}function iw(e){return e-1}function lw(e){return e+1}function cw(e){const t=(0,n.c)(50),{onPressCompose:s,style:o}=e,{currentAccount:a}=(0,Gt.useSession)(),r=a?.did;let i;t[0]!==r?(i={did:r},t[0]=r,t[1]=i):i=t[1];const{data:l}=(0,Ut.useProfileQuery)(i),{_:c}=(0,dt.useLingui)(),{gtMobile:d}=(0,qs.useBreakpoints)(),u=(0,qs.useTheme)(),m=(0,im.useHaptics)(),{state:h,onIn:p,onOut:f}=(0,la.useInteractionState)();let g,x,_,y,b,j,v;nw(),t[2]!==d||t[3]!==u.atoms.bg||t[4]!==u.atoms.border_contrast_low?(g=d?[qs.atoms.py_xs,qs.atoms.border_t,u.atoms.border_contrast_low,u.atoms.bg]:[qs.atoms.pb_2xs],t[2]=d,t[3]=u.atoms.bg,t[4]=u.atoms.border_contrast_low,t[5]=g):g=t[5],t[6]!==o||t[7]!==g?(x=[qs.atoms.px_sm,g,o],t[6]=o,t[7]=g,t[8]=x):x=t[8],t[9]!==d||t[10]!==u.atoms.bg||t[11]!==u.name?(_=!d&&(0,bt.jsx)(Lo.LinearGradient,{start:[.5,0],end:[.5,1],colors:[ql(u.atoms.bg.backgroundColor,0),u.atoms.bg.backgroundColor],locations:[.15,.4],style:[qs.atoms.absolute,qs.atoms.inset_0]},u.name),t[9]=d,t[10]=u.atoms.bg,t[11]=u.name,t[12]=_):_=t[12],t[13]!==c?(y=c({id:"o8UUti"}),t[13]=c,t[14]=y):y=t[14],t[15]!==c?(b=c({id:"SY0R9B"}),t[15]=c,t[16]=b):b=t[16],t[17]!==s||t[18]!==m?(j=()=>{s(),m("Light")},t[17]=s,t[18]=m,t[19]=j):j=t[19],t[20]!==s||t[21]!==m?(v=(0,qs.ios)((()=>{s(),m("Heavy")})),t[20]=s,t[21]=m,t[22]=v):v=t[22];const S=(!d||h)&&u.atoms.bg_contrast_25;let w,T;t[23]!==u.atoms.border_contrast_low?(w=(0,qs.native)([qs.atoms.border,u.atoms.border_contrast_low]),t[23]=u.atoms.border_contrast_low,t[24]=w):w=t[24],t[25]!==S||t[26]!==w?(T=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.p_sm,qs.atoms.gap_sm,qs.atoms.rounded_full,S,w,qs.atoms.transition_color],t[25]=S,t[26]=w,t[27]=T):T=t[27];const k=l?.avatar,C=l?.associated?.labeler?"labeler":"user";let I,A,P,E,L,R;return t[28]!==k||t[29]!==C?(I=(0,bt.jsx)(Gi.UserAvatar,{size:24,avatar:k,type:C}),t[28]=k,t[29]=C,t[30]=I):I=t[30],t[31]!==u.atoms.text_contrast_medium?(A=[qs.atoms.text_md,u.atoms.text_contrast_medium],t[31]=u.atoms.text_contrast_medium,t[32]=A):A=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(dt.Trans,{id:"6ckZRB"}),t[33]=P):P=t[33],t[34]!==A?(E=(0,bt.jsx)(co.Text,{style:A,children:P}),t[34]=A,t[35]=E):E=t[35],t[36]!==p||t[37]!==f||t[38]!==T||t[39]!==I||t[40]!==E||t[41]!==y||t[42]!==b||t[43]!==j||t[44]!==v?(L=(0,bt.jsxs)(hd,{accessibilityRole:"button",accessibilityLabel:y,accessibilityHint:b,onPress:j,onLongPress:v,onHoverIn:p,onHoverOut:f,style:T,children:[I,E]}),t[36]=p,t[37]=f,t[38]=T,t[39]=I,t[40]=E,t[41]=y,t[42]=b,t[43]=j,t[44]=v,t[45]=L):L=t[45],t[46]!==L||t[47]!==x||t[48]!==_?(R=(0,bt.jsxs)(Fs.default,{style:x,children:[_,L]}),t[46]=L,t[47]=x,t[48]=_,t[49]=R):R=t[49],R}function dw(e){const t=(0,n.c)(36),{error:s,onRetry:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=to();let l;t[0]!==r?(l=r({id:"FYicLi"}),t[0]=r,t[1]=l):l=t[1];let c,d=l;t[2]!==r?(c=r({id:"rn69xj"}),t[2]=r,t[3]=c):c=t[3];let u,m=c;t[4]!==i||t[5]!==s?(u=i(s),t[4]=i,t[5]=s,t[6]=u):u=t[6];const{raw:h,clean:p}=u;if(s.message.startsWith("Post not found")){let e;t[7]!==r?(e=r({id:"tJFPmV"}),t[7]=r,t[8]=e):e=t[8],d=e,m=p||h||m}let f;t[9]!==m||t[10]!==d?(f={title:d,message:m},t[9]=m,t[10]=d,t[11]=f):f=t[11];const{title:g,message:x}=f;let _,y,b,j,v,S,w,T,k,C,I,A,P;return t[12]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.w_full,qs.atoms.align_center,{padding:ox,paddingTop:2*ox}],t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.gap_xl,{maxWidth:260}],t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_xs],t[14]=b):b=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_center,qs.atoms.text_lg,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[15]=j):j=t[15],t[16]!==g?(v=(0,bt.jsx)(co.Text,{style:j,children:g}),t[16]=g,t[17]=v):v=t[17],t[18]!==a.atoms.text_contrast_medium?(S=[qs.atoms.text_center,qs.atoms.text_sm,qs.atoms.leading_snug,a.atoms.text_contrast_medium],t[18]=a.atoms.text_contrast_medium,t[19]=S):S=t[19],t[20]!==x||t[21]!==S?(w=(0,bt.jsx)(co.Text,{style:S,children:x}),t[20]=x,t[21]=S,t[22]=w):w=t[22],t[23]!==w||t[24]!==v?(T=(0,bt.jsxs)(Fs.default,{style:b,children:[v,w]}),t[23]=w,t[24]=v,t[25]=T):T=t[25],t[26]!==r?(k=r({id:"6gRgw8"}),t[26]=r,t[27]=k):k=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),I=(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded,position:"right"}),t[28]=C,t[29]=I):(C=t[28],I=t[29]),t[30]!==o||t[31]!==k?(A=(0,bt.jsxs)(ao.Button,{label:k,size:"small",variant:"solid",color:"secondary_inverted",onPress:o,children:[C,I]}),t[30]=o,t[31]=k,t[32]=A):A=t[32],t[33]!==T||t[34]!==A?(P=(0,bt.jsx)(ya.Center,{children:(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsxs)(Fs.default,{style:y,children:[T,A]})})}),t[33]=T,t[34]=A,t[35]=P):P=t[35],P}ow.displayName="HideBottomBarBorderSetterContext";const uw=(0,ti.createSinglePathSVG)({path:"M7 7a5 5 0 0 1 10 0v2h1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h1V7Zm-1 4v9h12v-9H6Zm9-2H9V7a3 3 0 1 1 6 0v2Zm-3 4a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"}),mw=(0,ti.createSinglePathSVG)({path:"M7 7a5 5 0 0 1 10 0v2a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-7a3 3 0 0 1 3-3V7Zm0 4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H7Zm8-2H9V7a3 3 0 1 1 6 0v2Zm-3 4a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"});function hw(){const e=(0,n.c)(17),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d,u,m,h;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.p_lg,qs.atoms.gap_md],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.align_center,qs.atoms.gap_md],e[1]=o):o=e[1],e[2]!==t.atoms.text_contrast_medium.color?(a=(0,bt.jsx)(Ap,{size:42,children:(0,bt.jsx)(uw,{size:"md",fill:t.atoms.text_contrast_medium.color})}),e[2]=t.atoms.text_contrast_medium.color,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Ip,{style:[qs.atoms.text_lg,{width:"20%"}]}),e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsxs)(Ep,{children:[r,(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"40%"}]})]}),e[5]=i):i=e[5],e[6]!==a?(l=(0,bt.jsxs)(Lp,{style:o,children:[a,i]}),e[6]=a,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.py_sm],e[8]=c):c=e[8],e[9]!==t.atoms.text_contrast_medium?(d=[qs.atoms.text_xl,qs.atoms.italic,t.atoms.text_contrast_medium],e[9]=t.atoms.text_contrast_medium,e[10]=d):d=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"7ByOPy"}),e[11]=u):u=e[11],e[12]!==d?(m=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsx)(co.Text,{style:d,children:u})}),e[12]=d,e[13]=m):m=e[13],e[14]!==l||e[15]!==m?(h=(0,bt.jsxs)(Fs.default,{style:s,children:[l,m]}),e[14]=l,e[15]=m,e[16]=h):h=e[16],h}function pw(e){const t=(0,n.c)(29),{item:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m,h,p,f,g,x,_,y;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{paddingHorizontal:ox}],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_row,{height:12}],t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i={width:tx},t[2]=i):i=t[2],t[3]!==s.ui.showParentReplyLine||t[4]!==o.atoms.border_contrast_low?(l=s.ui.showParentReplyLine&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mx_auto,qs.atoms.flex_1,qs.atoms.mb_xs,{width:sx,backgroundColor:o.atoms.border_contrast_low.borderColor}]}),t[3]=s.ui.showParentReplyLine,t[4]=o.atoms.border_contrast_low,t[5]=l):l=t[5],t[6]!==l?(c=(0,bt.jsx)(Fs.default,{style:r,children:(0,bt.jsx)(Fs.default,{style:i,children:l})}),t[6]=l,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.align_center,qs.atoms.gap_md],t[8]=d):d=t[8],t[9]!==o.atoms.text_contrast_medium.color?(u=(0,bt.jsx)(Ap,{size:tx,children:(0,bt.jsx)(uw,{size:"md",fill:o.atoms.text_contrast_medium.color})}),t[9]=o.atoms.text_contrast_medium.color,t[10]=u):u=t[10],t[11]!==o.atoms.text_contrast_medium?(m=[qs.atoms.text_md,qs.atoms.italic,o.atoms.text_contrast_medium],t[11]=o.atoms.text_contrast_medium,t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"7ByOPy"}),t[13]=h):h=t[13],t[14]!==m?(p=(0,bt.jsx)(co.Text,{style:m,children:h}),t[14]=m,t[15]=p):p=t[15],t[16]!==p||t[17]!==u?(f=(0,bt.jsxs)(Lp,{style:d,children:[u,p]}),t[16]=p,t[17]=u,t[18]=f):f=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.flex_row,qs.atoms.justify_center,{height:ox/1.5,width:tx}],t[19]=g):g=t[19],t[20]!==s.ui.showChildReplyLine||t[21]!==o.atoms.border_contrast_low?(x=s.ui.showChildReplyLine&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_xs,qs.atoms.h_full,{width:sx,backgroundColor:o.atoms.border_contrast_low.borderColor}]}),t[20]=s.ui.showChildReplyLine,t[21]=o.atoms.border_contrast_low,t[22]=x):x=t[22],t[23]!==x?(_=(0,bt.jsx)(Fs.default,{style:g,children:x}),t[23]=x,t[24]=_):_=t[24],t[25]!==f||t[26]!==_||t[27]!==c?(y=(0,bt.jsxs)(Fs.default,{style:a,children:[c,f,_]}),t[25]=f,t[26]=_,t[27]=c,t[28]=y):y=t[28],y}function fw(e){const t=(0,n.c)(27),{type:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r;e:{if("blocked"===s){let e,s;t[0]!==a?(e=a({id:"0jao0Y"}),t[0]=a,t[1]=e):e=t[1],t[2]!==e?(s={copy:e,Icon:pc.PersonX_Stroke2_Corner0_Rounded},t[2]=e,t[3]=s):s=t[3],r=s;break e}{let e,s;t[4]!==a?(e=a({id:"tJFPmV"}),t[4]=a,t[5]=e):e=t[5],t[6]!==e?(s={copy:e,Icon:ml.Trash_Stroke2_Corner0_Rounded},t[6]=e,t[7]=s):s=t[7],r=s}}const{copy:i,Icon:l}=r;let c,d,u,m,h,p,f,g,x;return t[8]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.mb_xs,{paddingHorizontal:ox,paddingTop:ox/1.2}],t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(d={paddingVertical:ox/1.2},t[9]=d):d=t[9],t[10]!==o.atoms.bg_contrast_25?(u=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_sm,o.atoms.bg_contrast_25,d],t[10]=o.atoms.bg_contrast_25,t[11]=u):u=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_row,qs.atoms.justify_center,{width:tx}],t[12]=m):m=t[12],t[13]!==o.atoms.text_contrast_medium?(h=[o.atoms.text_contrast_medium],t[13]=o.atoms.text_contrast_medium,t[14]=h):h=t[14],t[15]!==l||t[16]!==h?(p=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(l,{style:h})}),t[15]=l,t[16]=h,t[17]=p):p=t[17],t[18]!==o.atoms.text_contrast_medium?(f=[qs.atoms.text_md,qs.atoms.font_semi_bold,o.atoms.text_contrast_medium],t[18]=o.atoms.text_contrast_medium,t[19]=f):f=t[19],t[20]!==i||t[21]!==f?(g=(0,bt.jsx)(co.Text,{style:f,children:i}),t[20]=i,t[21]=f,t[22]=g):g=t[22],t[23]!==u||t[24]!==p||t[25]!==g?(x=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsxs)(Fs.default,{style:u,children:[p,g]})}),t[23]=u,t[24]=p,t[25]=g,t[26]=x):x=t[26],x}const gw=(0,ti.createSinglePathSVG)({path:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2Zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 3a1 1 0 0 1 1 1v3h3l.102.005a1 1 0 0 1 0 1.99L16 13h-3v3a1 1 0 1 1-2 0v-3H8a1 1 0 0 1 0-2h3V8a1 1 0 0 1 1-1Z"}),xw=(0,lt.memo)((function(e){const t=(0,n.c)(29),{item:s,view:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i="tree"===o,l=Math.max(0,s.depth-1);let c;t[0]!==l||t[1]!==i||t[2]!==s.key||t[3]!==s.skippedIndentIndices||t[4]!==a.atoms.border_contrast_low?(c=i?Array.from(Array(l)).map(((e,t)=>{const o=s.skippedIndentIndices.has(t);return(0,bt.jsx)(Fs.default,{style:[a.atoms.border_contrast_low,{borderRightWidth:o?0:sx,width:Jg+ex/2,left:1}]},`${s.key}-padding-${t}`)})):null,t[0]=l,t[1]=i,t[2]=s.key,t[3]=s.skippedIndentIndices,t[4]=a.atoms.border_contrast_low,t[5]=c):c=t[5];const d=c;let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_row],t[6]=u):u=t[6];const m=i?Jg+ex/2-1:(tx-sx)/2+16,h=i?Jg:tx/2+10;let p,f,g,x,_,y,b;return t[7]!==m||t[8]!==h?(p={marginLeft:m,borderLeftWidth:2,borderBottomWidth:2,borderBottomLeftRadius:qs.atoms.rounded_sm.borderRadius,height:18,width:h},t[7]=m,t[8]=h,t[9]=p):p=t[9],t[10]!==a.atoms.border_contrast_low||t[11]!==p?(f=(0,bt.jsx)(Fs.default,{style:[a.atoms.border_contrast_low,p]}),t[10]=a.atoms.border_contrast_low,t[11]=p,t[12]=f):f=t[12],t[13]!==r?(g=r({id:"HHxiQM"}),t[13]=r,t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.pt_sm,qs.atoms.pb_md,qs.atoms.gap_xs],t[15]=x):x=t[15],t[16]!==s.moreReplies||t[17]!==a.atoms.text_contrast_high||t[18]!==a.atoms.text_contrast_low||t[19]!==a.atoms.text_contrast_medium?(_=e=>{const{hovered:t,pressed:o}=e,n=t||o;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(gw,{fill:n?a.atoms.text_contrast_high.color:a.atoms.text_contrast_low.color,width:18}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,a.atoms.text_contrast_medium,n&&qs.atoms.underline],children:(0,bt.jsx)(dt.Trans,{id:"hQ9j0a",values:{0:s.moreReplies}})})]})},t[16]=s.moreReplies,t[17]=a.atoms.text_contrast_high,t[18]=a.atoms.text_contrast_low,t[19]=a.atoms.text_contrast_medium,t[20]=_):_=t[20],t[21]!==s.href||t[22]!==g||t[23]!==_?(y=(0,bt.jsx)(io.Link,{label:g,to:s.href,style:x,children:_}),t[21]=s.href,t[22]=g,t[23]=_,t[24]=y):y=t[24],t[25]!==d||t[26]!==y||t[27]!==f?(b=(0,bt.jsxs)(Fs.default,{style:u,children:[d,f,y]}),t[25]=d,t[26]=y,t[27]=f,t[28]=b):b=t[28],b})),_w=(0,ti.createSinglePathSVG)({path:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2Zm0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm-.63 3.225a1 1 0 0 1 1.337.068l3 3 .068.076a1 1 0 0 1-1.406 1.406l-.076-.068L13 10.414V16a1 1 0 1 1-2 0v-5.586l-1.293 1.293a1 1 0 1 1-1.414-1.414l3-3 .076-.068Z"}),yw=(0,lt.memo)((function(e){const t=(0,n.c)(12),{item:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r,i,l,c;return t[0]!==a?(r=a({id:"byc7Ak"}),t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.gap_xs,{paddingTop:ox,paddingHorizontal:ox}],t[2]=i):i=t[2],t[3]!==o.atoms.border_contrast_low.borderColor||t[4]!==o.atoms.text_contrast_high||t[5]!==o.atoms.text_contrast_low||t[6]!==o.atoms.text_contrast_medium?(l=e=>{const{hovered:t,pressed:s}=e,n=t||s;return(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,{width:tx}],children:(0,bt.jsx)(_w,{fill:n?o.atoms.text_contrast_high.color:o.atoms.text_contrast_low.color,width:24})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,o.atoms.text_contrast_medium,n&&[qs.atoms.underline]],children:(0,bt.jsx)(dt.Trans,{id:"p2ms8f"})})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,{width:tx}],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_xs,{height:ox/2,width:sx,backgroundColor:o.atoms.border_contrast_low.borderColor}]})})]})},t[3]=o.atoms.border_contrast_low.borderColor,t[4]=o.atoms.text_contrast_high,t[5]=o.atoms.text_contrast_low,t[6]=o.atoms.text_contrast_medium,t[7]=l):l=t[7],t[8]!==s.href||t[9]!==r||t[10]!==l?(c=(0,bt.jsx)(io.Link,{label:r,to:s.href,style:i,children:l}),t[8]=s.href,t[9]=r,t[10]=l,t[11]=c):c=t[11],c}));function bw(){const e=(0,n.c)(7),t=(0,qs.useTheme)(),{gtMobile:s}=(0,qs.useBreakpoints)();if(!s)return null;let o,a,r,i,l;return e[0]!==t.atoms.border_contrast_low?(o=[qs.atoms.px_sm,qs.atoms.py_xs,qs.atoms.border_t,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.px_sm,qs.atoms.py_sm],r=(0,bt.jsx)(Ap,{size:24}),e[2]=a,e[3]=r):(a=e[2],r=e[3]),e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsxs)(Fs.default,{style:a,children:[r,(0,bt.jsx)(Ip,{style:[qs.atoms.text_md,{maxWidth:119}]})]}),e[4]=i):i=e[4],e[5]!==o?(l=(0,bt.jsx)(Fs.default,{style:o,children:i}),e[5]=o,e[6]=l):l=e[6],l}function jw(e){const t=(0,n.c)(15),{onPress:s}=e,o=(0,qs.useTheme)(),a=(0,Xo.useAnalytics)(),{_:r}=(0,dt.useLingui)();let i;t[0]!==r?(i=r({id:"atyhbr"}),t[0]=r,t[1]=i):i=t[1];const l=i;let c,d,u;return t[2]!==a||t[3]!==s?(c=()=>{s(),a.metric("thread:click:showOtherReplies",{})},t[2]=a,t[3]=s,t[4]=c):c=t[4],t[5]!==l||t[6]!==o.atoms.bg||t[7]!==o.atoms.bg_contrast_25||t[8]!==o.atoms.border_contrast_low||t[9]!==o.atoms.text_contrast_medium?(d=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.py_lg,qs.atoms.px_xl,qs.atoms.border_t,o.atoms.border_contrast_low,t||s?o.atoms.bg_contrast_25:o.atoms.bg],children:[(0,bt.jsx)(Fs.default,{style:[o.atoms.bg_contrast_25,qs.atoms.align_center,qs.atoms.justify_center,{width:26,height:26,borderRadius:13,marginRight:4}],children:(0,bt.jsx)(Oc.EyeSlash_Stroke2_Corner0_Rounded,{size:"sm",fill:o.atoms.text_contrast_medium.color})}),(0,bt.jsx)(co.Text,{style:[o.atoms.text_contrast_medium,qs.atoms.flex_1,qs.atoms.leading_snug],numberOfLines:1,children:l})]})},t[5]=l,t[6]=o.atoms.bg,t[7]=o.atoms.bg_contrast_25,t[8]=o.atoms.border_contrast_low,t[9]=o.atoms.text_contrast_medium,t[10]=d):d=t[10],t[11]!==l||t[12]!==c||t[13]!==d?(u=(0,bt.jsx)(ao.Button,{onPress:c,label:l,children:d}),t[11]=l,t[12]=c,t[13]=d,t[14]=u):u=t[14],u}const vw=ex+qs.atoms.gap_xs.gap;function Sw(e){const t=(0,n.c)(8),{item:s,overrides:o,onPostSuccess:a,threadgateRecord:r}=e,i=(0,Ha.usePostShadow)(s.value.post);if(i===Ha.POST_TOMBSTONE){let e;return t[0]!==s?(e=(0,bt.jsx)(ww,{item:s}),t[0]=s,t[1]=e):e=t[1],e}let l;return t[2]!==s||t[3]!==a||t[4]!==o||t[5]!==i||t[6]!==r?(l=(0,bt.jsx)(Iw,{item:s,postShadow:i,threadgateRecord:r,overrides:o,onPostSuccess:a},i.uri),t[2]=s,t[3]=a,t[4]=o,t[5]=i,t[6]=r,t[7]=l):l=t[7],l}function ww(e){const t=(0,n.c)(24),{item:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={gap:6,paddingHorizontal:ox/2,height:ex},t[0]=a):a=t[0],t[1]!==o.atoms.bg_contrast_25?(r=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_sm,o.atoms.bg_contrast_25,a],t[1]=o.atoms.bg_contrast_25,t[2]=r):r=t[2],t[3]!==o.atoms.text?(i=(0,bt.jsx)(ml.Trash_Stroke2_Corner0_Rounded,{style:[o.atoms.text],width:14}),t[3]=o.atoms.text,t[4]=i):i=t[4],t[5]!==o.atoms.text_contrast_medium?(l=[o.atoms.text_contrast_medium,qs.atoms.mt_2xs],t[5]=o.atoms.text_contrast_medium,t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(dt.Trans,{id:"Po0oPy"}),t[7]=c):c=t[7],t[8]!==l?(d=(0,bt.jsx)(co.Text,{style:l,children:c}),t[8]=l,t[9]=d):d=t[9],t[10]!==r||t[11]!==i||t[12]!==d?(u=(0,bt.jsxs)(Fs.default,{style:r,children:[i,d]}),t[10]=r,t[11]=i,t[12]=d,t[13]=u):u=t[13],t[14]!==s.ui.isLastChild||t[15]!==s.ui.precedesChildReadMore?(m=s.ui.isLastChild&&!s.ui.precedesChildReadMore&&(0,bt.jsx)(Fs.default,{style:{height:ox/2}}),t[14]=s.ui.isLastChild,t[15]=s.ui.precedesChildReadMore,t[16]=m):m=t[16],t[17]!==s||t[18]!==u||t[19]!==m?(h=(0,bt.jsxs)(kw,{item:s,children:[u,m]}),t[17]=s,t[18]=u,t[19]=m,t[20]=h):h=t[20],t[21]!==s||t[22]!==h?(p=(0,bt.jsx)(Tw,{item:s,children:h}),t[21]=s,t[22]=h,t[23]=p):p=t[23],p}const Tw=(0,lt.memo)((function(e){const t=(0,n.c)(17),{item:s,children:o}=e,a=(0,qs.useTheme)(),r=Math.max(0,s.ui.indent-1);let i,l,c,d,u;return t[0]!==s.ui.indent||t[1]!==s.ui.showParentReplyLine||t[2]!==a?(i=1===s.ui.indent&&!s.ui.showParentReplyLine&&[qs.atoms.border_t,a.atoms.border_contrast_low],t[0]=s.ui.indent,t[1]=s.ui.showParentReplyLine,t[2]=a,t[3]=i):i=t[3],t[4]!==i?(l=[qs.atoms.flex_row,i],t[4]=i,t[5]=l):l=t[5],t[6]!==r?(c=Array.from(Array(r)),t[6]=r,t[7]=c):c=t[7],t[8]!==s.ui.skippedIndentIndices||t[9]!==s.value||t[10]!==a||t[11]!==c?(d=c.map(((e,t)=>{const o=s.ui.skippedIndentIndices.has(t);return(0,bt.jsx)(Fs.default,{style:[a.atoms.border_contrast_low,{borderRightWidth:o?0:sx,width:Jg+ex/2,left:1}]},`${s.value.post.uri}-padding-${t}`)})),t[8]=s.ui.skippedIndentIndices,t[9]=s.value,t[10]=a,t[11]=c,t[12]=d):d=t[12],t[13]!==o||t[14]!==l||t[15]!==d?(u=(0,bt.jsxs)(Fs.default,{style:l,children:[d,o]}),t[13]=o,t[14]=l,t[15]=d,t[16]=u):u=t[16],u})),kw=(0,lt.memo)((function(e){const t=(0,n.c)(18),{item:s,children:o}=e,a=(0,qs.useTheme)();let r,i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={paddingHorizontal:ox,paddingTop:ox/2},t[0]=r):r=t[0],t[1]!==s.ui.indent||t[2]!==s.ui.showChildReplyLine||t[3]!==s.ui.showParentReplyLine?(i=1===s.ui.indent&&[!s.ui.showParentReplyLine&&{paddingTop:ox/1.5},!s.ui.showChildReplyLine&&qs.atoms.pb_sm],t[1]=s.ui.indent,t[2]=s.ui.showChildReplyLine,t[3]=s.ui.showParentReplyLine,t[4]=i):i=t[4],t[5]!==s.ui.isLastChild||t[6]!==s.ui.precedesChildReadMore?(l=s.ui.isLastChild&&!s.ui.precedesChildReadMore&&[{paddingBottom:ox/2}],t[5]=s.ui.isLastChild,t[6]=s.ui.precedesChildReadMore,t[7]=l):l=t[7],t[8]!==i||t[9]!==l?(c=[qs.atoms.flex_1,r,i,l],t[8]=i,t[9]=l,t[10]=c):c=t[10],t[11]!==s.ui.indent||t[12]!==a?(d=s.ui.indent>1&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,a.atoms.border_contrast_low,{left:-1,top:0,height:ex/2+sx/2+ox/2,width:ox,borderLeftWidth:sx,borderBottomWidth:sx,borderBottomLeftRadius:qs.atoms.rounded_sm.borderRadius}]}),t[11]=s.ui.indent,t[12]=a,t[13]=d):d=t[13],t[14]!==o||t[15]!==c||t[16]!==d?(u=(0,bt.jsxs)(Fs.default,{style:c,children:[d,o]}),t[14]=o,t[15]=c,t[16]=d,t[17]=u):u=t[17],u})),Cw=(0,lt.memo)((function(e){const t=(0,n.c)(6),{item:s}=e,o=(0,qs.useTheme)();let a,r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.relative,qs.atoms.pt_2xs,{width:vw}],t[0]=a):a=t[0],t[1]!==s.ui.showChildReplyLine||t[2]!==o?(r=s.ui.showChildReplyLine&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,o.atoms.border_contrast_low,{borderRightWidth:2,width:"50%",left:-1}]}),t[1]=s.ui.showChildReplyLine,t[2]=o,t[3]=r):r=t[3],t[4]!==r?(i=(0,bt.jsx)(Fs.default,{style:a,children:r}),t[4]=r,t[5]=i):i=t[5],i})),Iw=(0,lt.memo)((function(e){const t=(0,n.c)(92),{item:s,postShadow:o,overrides:a,onPostSuccess:r,threadgateRecord:i}=e,{openComposer:l}=Wo(),{currentAccount:c}=(0,Gt.useSession)(),d=s.value.post,u=s.value.post.record,m=s.moderation;let h;t[0]!==u.facets||t[1]!==u.text?(h=new Dn.RichText({text:u.text,facets:u.facets}),t[0]=u.facets,t[1]=u.text,t[2]=h):h=t[2];const p=h;let f;t[3]!==p?.text?(f=()=>(0,Eu.countLines)(p?.text)>=Vt.MAX_POST_LINES,t[3]=p?.text,t[4]=f):f=t[4];const[g,x]=(0,lt.useState)(f),_=u.reply?.root?.uri||d.uri;let y;if(t[5]!==d.author||t[6]!==d.uri){const e=new Dn.AtUri(d.uri);y=(0,Oa.makeProfileLink)(d.author,"post",e.rkey),t[5]=d.author,t[6]=d.uri,t[7]=y}else y=t[7];const b=y;let j;t[8]!==i?(j={threadgateRecord:i},t[8]=i,t[9]=j):j=t[9];const v=(0,Bs.useMergedThreadgateHiddenReplies)(j);let S,w;t[10]!==c?.did||t[11]!==d.uri||t[12]!==_||t[13]!==v?(S=()=>{const e=v.has(d.uri);return new Dn.AtUri(_).host===c?.did&&e?[{type:"reply-hidden",source:{type:"user",did:c?.did},priority:6}]:[]},t[10]=c?.did,t[11]=d.uri,t[12]=_,t[13]=v,t[14]=S):S=t[14],c?.did,t[15]!==S?(w=S(),t[15]=S,t[16]=w):w=t[16];const T=w;let k;t[17]!==m||t[18]!==r||t[19]!==l||t[20]!==d.author||t[21]!==d.cid||t[22]!==d.embed||t[23]!==d.record.langs||t[24]!==d.uri||t[25]!==u.text?(k=()=>{l({replyTo:{uri:d.uri,cid:d.cid,text:u.text,author:d.author,embed:d.embed,moderation:m,langs:d.record.langs},onPostSuccess:r,logContext:"PostReply"})},t[17]=m,t[18]=r,t[19]=l,t[20]=d.author,t[21]=d.cid,t[22]=d.embed,t[23]=d.record.langs,t[24]=d.uri,t[25]=u.text,t[26]=k):k=t[26];const C=k;let I;t[27]===Symbol.for("react.memo_cache_sentinel")?(I=()=>{x(!1)},t[27]=I):I=t[27];const A=I,P=`postThreadItem-by-${d.author.handle}`,E=!0===a?.moderation;let L,R;t[28]!==m?(L=m.ui("contentList"),t[28]=m,t[29]=L):L=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(R={marginLeft:2,marginRight:2},t[30]=R):R=t[30];const B=d.author;let D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te;return t[31]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.flex_1],t[31]=D):D=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.pb_0],t[32]=O):O=t[32],t[33]!==m||t[34]!==d.author||t[35]!==d.indexedAt||t[36]!==b?(M=(0,bt.jsx)(Uu,{author:d.author,moderation:m,timestamp:d.indexedAt,postHref:b,avatarSize:ex,style:O,showAvatar:!0}),t[33]=m,t[34]=d.author,t[35]=d.indexedAt,t[36]=b,t[37]=M):M=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(F=[qs.atoms.flex_row],t[38]=F):F=t[38],t[39]!==s?(N=(0,bt.jsx)(Cw,{item:s}),t[39]=s,t[40]=N):N=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(H=[qs.atoms.flex_1,qs.atoms.pl_2xs],t[41]=H):H=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.pb_2xs],t[42]=V):V=t[42],t[43]!==d?(z=(0,bt.jsx)(tm,{post:d,style:V}),t[43]=d,t[44]=z):z=t[44],t[45]!==m?(U=m.ui("contentList"),t[45]=m,t[46]=U):U=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.pb_2xs],t[47]=W):W=t[47],t[48]!==T||t[49]!==U?(G=(0,bt.jsx)(om,{modui:U,style:W,additionalCauses:T}),t[48]=T,t[49]=U,t[50]=G):G=t[50],t[51]!==g||t[52]!==d.author.handle||t[53]!==p?(q=p?.text?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mb_2xs],children:[(0,bt.jsx)(Yi.RichText,{enableTags:!0,value:p,style:[qs.atoms.flex_1,qs.atoms.text_md],numberOfLines:g?Vt.MAX_POST_LINES:void 0,authorHandle:d.author.handle,shouldProxyLinks:!0}),g&&(0,bt.jsx)(dp,{style:[qs.atoms.text_md],onPress:A})]}):null,t[51]=g,t[52]=d.author.handle,t[53]=p,t[54]=q):q=t[54],t[55]!==m||t[56]!==d.embed?(Q=d.embed&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_xs],children:(0,bt.jsx)(sp,{embed:d.embed,moderation:m,viewContext:Hm.Feed})}),t[55]=m,t[56]=d.embed,t[57]=Q):Q=t[57],t[58]!==C||t[59]!==o||t[60]!==u||t[61]!==p||t[62]!==i?(K=(0,bt.jsx)(mg,{variant:"compact",post:o,record:u,richText:p,onPressReply:C,logContext:"PostThreadItem",threadgateRecord:i}),t[58]=C,t[59]=o,t[60]=u,t[61]=p,t[62]=i,t[63]=K):K=t[63],t[64]!==d?(Z=(0,bt.jsx)(nx,{subject:d}),t[64]=d,t[65]=Z):Z=t[65],t[66]!==z||t[67]!==G||t[68]!==q||t[69]!==Q||t[70]!==K||t[71]!==Z?(Y=(0,bt.jsxs)(Fs.default,{style:H,children:[z,G,q,Q,K,Z]}),t[66]=z,t[67]=G,t[68]=q,t[69]=Q,t[70]=K,t[71]=Z,t[72]=Y):Y=t[72],t[73]!==N||t[74]!==Y?($=(0,bt.jsxs)(Fs.default,{style:F,children:[N,Y]}),t[73]=N,t[74]=Y,t[75]=$):$=t[75],t[76]!==M||t[77]!==$?(X=(0,bt.jsxs)(Fs.default,{style:D,children:[M,$]}),t[76]=M,t[77]=$,t[78]=X):X=t[78],t[79]!==s||t[80]!==X?(J=(0,bt.jsx)(kw,{item:s,children:X}),t[79]=s,t[80]=X,t[81]=J):J=t[81],t[82]!==d.author||t[83]!==b||t[84]!==E||t[85]!==L||t[86]!==J||t[87]!==P?(ee=(0,bt.jsx)(Aw,{children:(0,bt.jsx)(Vx,{testID:P,href:b,disabled:E,modui:L,iconSize:42,iconStyles:R,profile:B,interpretFilterAsBlur:!0,children:J})}),t[82]=d.author,t[83]=b,t[84]=E,t[85]=L,t[86]=J,t[87]=P,t[88]=ee):ee=t[88],t[89]!==s||t[90]!==ee?(te=(0,bt.jsx)(Tw,{item:s,children:ee}),t[89]=s,t[90]=ee,t[91]=te):te=t[91],te}));function Aw(e){const t=(0,n.c)(8),{children:s}=e,{state:o,onIn:a,onOut:r}=(0,la.useInteractionState)();let i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_1,qs.atoms.pointer],t[0]=i):i=t[0],t[1]!==o?(l=(0,bt.jsx)(ju,{hover:o}),t[1]=o,t[2]=l):l=t[2],t[3]!==s||t[4]!==a||t[5]!==r||t[6]!==l?(c=(0,bt.jsxs)(Fs.default,{onPointerEnter:a,onPointerLeave:r,style:i,children:[l,s]}),t[3]=s,t[4]=a,t[5]=r,t[6]=l,t[7]=c):c=t[7],c}function Pw(e){const t=(0,n.c)(17),{index:s}=e,o=(0,qs.useTheme)(),a=s%2===0;let r,i,l,c,d,u,m,h,p,f,g,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={paddingHorizontal:ox,paddingVertical:ox/1.5},t[0]=r):r=t[0],t[1]!==o.atoms.border_contrast_low?(i=[r,qs.atoms.border_t,o.atoms.border_contrast_low],t[1]=o.atoms.border_contrast_low,t[2]=i):i=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.align_start,qs.atoms.gap_xs],c=(0,bt.jsx)(Ap,{size:ex}),t[3]=l,t[4]=c):(l=t[3],c=t[4]),t[5]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.gap_xs],t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.gap_sm],t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(Ip,{style:[qs.atoms.text_md,{width:"20%"}]}),t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsxs)(Lp,{style:u,children:[m,(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"30%"}]})]}),t[8]=h):h=t[8],t[9]!==a?(p=(0,bt.jsx)(Ep,{children:a?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"100%"}]}),(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"60%"}]})]}):(0,bt.jsx)(Ip,{blend:!0,style:[qs.atoms.text_md,{width:"60%"}]})}),t[9]=a,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(hg,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,bt.jsxs)(Lp,{style:l,children:[c,(0,bt.jsxs)(Ep,{style:d,children:[h,p,f]})]}),t[12]=p,t[13]=g):g=t[13],t[14]!==g||t[15]!==i?(x=(0,bt.jsx)(Fs.default,{style:i,children:g}),t[14]=g,t[15]=i,t[16]=x):x=t[16],x}const Ew=5,Lw=50;function Rw({uri:e}){const t=(0,Xo.useAnalytics)(),{gtMobile:s}=(0,qs.useBreakpoints)(),{hasSession:o}=(0,Gt.useSession)(),a=$r(),{height:r}=(0,Qr.default)(),i=function(e){const t=(0,n.c)(6),s=(0,lt.useId)();let o;t[0]!==s||t[1]!==e?(o=()=>{Du(0,0,!0);const t=Bu.get(s)||Ru.get(e);return t&&(Lu.debug("consume",{id:s,key:e,source:t}),Ru.delete(e),Bu.set(s,t)),t},t[0]=s,t[1]=e,t[2]=o):o=t[2];const[a]=(0,lt.useState)(o);let r,i;return t[3]!==s?(r=()=>()=>{Bu.delete(s),Lu.debug("cleanup",{id:s})},i=[s],t[3]=s,t[4]=r,t[5]=i):(r=t[4],i=t[5]),(0,lt.useEffect)(r,i),a}(e),l=Og(i?.feedSourceInfo,o),c=(0,nf.usePostThread)({anchor:e}),{anchor:d,hasParents:u}=(0,lt.useMemo)((()=>{let e=!1;for(const t of c.data.items){if("threadPost"===t.type&&0===t.depth)return{anchor:t,hasParents:e};e=!0}return{hasParents:e}}),[c.data.items]),m=(0,lt.useRef)(null);(0,lt.useEffect)((()=>{if("threadPost"===d?.type&&d.value.post.uri!==m.current){const e=d.value.post;m.current=e.uri,t.metric("post:view",{uri:e.uri,authorDid:e.author.did,logContext:"Post",feedDescriptor:l.feedDescriptor})}}),[t,d,l.feedDescriptor]);const h=MS("PostThreadItem"),{openComposer:p}=Wo(),f=(0,lt.useCallback)((e=>{if(e){const{replyToUri:t,posts:s}=e;t&&s.length&&c.actions.insertReplies(t,s)}}),[c]),g=(0,lt.useCallback)((()=>{if("threadPost"!==d?.type)return;const e=d.value.post;p({replyTo:{uri:d.uri,cid:e.cid,text:e.record.text,author:e.author,embed:e.embed,moderation:d.moderation,langs:e.record.langs},onPostSuccess:f,logContext:"PostReply"}),i&&l.sendInteraction({item:e.uri,event:"app.bsky.feed.defs#interactionReply",feedContext:i.post.feedContext,reqId:i.post.reqId})}),[d,p,f,i,l]),x=!!d&&void 0===d.value.post.record.reply,_=!d?.value.post?.viewer?.replyDisabled,[y,b]=(0,lt.useState)(Ew),[j,v]=(0,lt.useState)(Lw),S=(0,lt.useRef)(0),w=(0,lt.useRef)(c.data.items.length),T=(0,lt.useRef)(null),k=(0,lt.useRef)(null),C=(0,lt.useRef)(null),[I,A]=(0,lt.useState)(!0),P=(0,lt.useRef)(!0),E=(0,qs.web)((()=>{const e=T.current,t=k.current,s=C.current;if(e&&t&&s&&P.current){const o=t.getBoundingClientRect().top-s.getBoundingClientRect().height;e.scrollToOffset({offset:o}),(o>0||x)&&(P.current=!1)}})),L=(0,qs.native)((()=>{const e=T.current,t=k.current;e&&t&&P.current&&(e.scrollToOffset({animated:!1,offset:0}),P.current=!1)})),R=(0,lt.useCallback)((()=>{A(!0),v(Lw),P.current=!0}),[A,v]),B=(0,lt.useCallback)((e=>{R(),c.actions.setSort(e)}),[c,R]),D=(0,lt.useCallback)((e=>{R(),c.actions.setView(e)}),[c,R]),O=(0,lt.useMemo)((()=>{const e=[];if(!c.data.items.length)return e;let t=0;for(let s=0;s<c.data.items.length;s++){const o=c.data.items[s],n="depth"in o;if(n&&0===o.depth){if(e.push(o),S.current=s,w.current=c.data.items.length-1-s,!I){const t=s-1;if(t>=0){const s=Math.max(0,t-y);for(let o=t;o>=s;o--)e.unshift(c.data.items[o])}}}else{if("readMoreUp"===o.type||n&&o.depth<0)continue;if(t>j)break;e.push(o),t++}}return e}),[c,I,y,j]),M=(0,lt.useMemo)((()=>!(O.length>1)&&O.every((e=>"threadPostBlocked"===e.type||"threadPostNotFound"===e.type))),[O]),F=(0,lt.useCallback)((({item:e,index:t})=>{if("threadPost"===e.type)return e.depth<0?(0,bt.jsx)(Wx,{item:e,threadgateRecord:c.data.threadgate?.record??void 0,overrides:{topBorder:0===t},onPostSuccess:f}):0===e.depth?(0,bt.jsxs)(Fs.default,{collapsable:!1,children:[(0,bt.jsx)(Fs.default,{ref:k,onLayout:()=>A(!1)},e.uri+c.state.view+c.state.sort),(0,bt.jsx)(Px,{item:e,threadgateRecord:c.data.threadgate?.record??void 0,onPostSuccess:f,postSource:i})]}):"tree"===c.state.view?(0,bt.jsx)(Sw,{item:e,threadgateRecord:c.data.threadgate?.record??void 0,overrides:{moderation:c.state.otherItemsVisible&&e.depth>0},onPostSuccess:f}):(0,bt.jsx)(Wx,{item:e,threadgateRecord:c.data.threadgate?.record??void 0,overrides:{moderation:c.state.otherItemsVisible&&e.depth>0},onPostSuccess:f});if("threadPostNoUnauthenticated"===e.type){if(e.depth<0)return(0,bt.jsx)(pw,{item:e});if(0===e.depth)return(0,bt.jsx)(hw,{})}else{if("readMore"===e.type)return(0,bt.jsx)(xw,{item:e,view:"tree"===c.state.view?"tree":"linear"});if("readMoreUp"===e.type)return(0,bt.jsx)(yw,{item:e});if("threadPostBlocked"===e.type)return(0,bt.jsx)(fw,{type:"blocked"});if("threadPostNotFound"===e.type)return(0,bt.jsx)(fw,{type:"not-found"});if("replyComposer"===e.type)return(0,bt.jsx)(Fs.default,{children:s&&(0,bt.jsx)(cw,{onPressCompose:g})});if("showOtherReplies"===e.type)return(0,bt.jsx)(jw,{onPress:e.onPress});if("skeleton"===e.type){if("anchor"===e.item)return(0,bt.jsx)(Mx,{});if("reply"===e.item)return"linear"===c.state.view?(0,bt.jsx)(Yx,{index:t}):(0,bt.jsx)(Pw,{index:t});if("replyComposer"===e.item)return(0,bt.jsx)(bw,{})}}return null}),[c,f,g,s,i]),N=u?r-200:void 0;return(0,bt.jsxs)(nf.PostThreadContextProvider,{context:c.context,children:[(0,bt.jsxs)(ya.Header.Outer,{headerRef:C,children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"+pGC91"})})}),(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(tw,{sort:c.state.sort,setSort:B,view:c.state.view,setView:D})})]}),c.state.error?(0,bt.jsx)(dw,{error:c.state.error,onRetry:c.actions.refetch}):(0,bt.jsx)(ei.List,{ref:T,data:O,renderItem:F,keyExtractor:Ow,onContentSizeChange:(0,qs.platform)({web:E,default:L}),onStartReached:()=>{c.state.isFetching||I||y>=S.current||b((e=>e+Ew))},onEndReached:()=>{c.state.isFetching||I||j>=w.current||v((e=>e+Lw))},onEndReachedThreshold:4,onStartReachedThreshold:1,onItemSeen:e=>{"threadPost"===e.type&&0!==e.depth&&h(e.value.post)},maintainVisibleContentPosition:{minIndexForVisible:0},desktopFixedHeight:!0,sideBorders:!1,ListFooterComponent:(0,bt.jsx)(xS,{height:(0,qs.platform)({web:N,default:I?2*r:N}),style:M?{borderTopWidth:0}:void 0}),initialNumToRender:a,windowSize:7,maxToRenderPerBatch:5,updateCellsBatchingPeriod:100}),!s&&_&&o&&(0,bt.jsx)(Dw,{onPressReply:g})]})}const Bw={code:"function indexTsx1(){const{footerHeight}=this.__closure;return{bottom:footerHeight.get()};}"};function Dw(e){const t=(0,n.c)(7),{onPressReply:s}=e,{footerHeight:o}=(0,Ej.useShellLayout)(),a=(0,yn.useAnimatedStyle)(function(){const e=()=>({bottom:o.get()});return e.__closure={footerHeight:o},e.__workletHash=8781658990709,e.__initData=Bw,e}());let r,i,l;return t[0]!==a?(r=[qs.atoms.fixed,qs.atoms.left_0,qs.atoms.right_0,a],t[0]=a,t[1]=r):r=t[1],t[2]!==s?(i=(0,bt.jsx)(cw,{onPressCompose:s}),t[2]=s,t[3]=i):i=t[3],t[4]!==r||t[5]!==i?(l=(0,bt.jsx)(yn.default.View,{style:r,children:i}),t[4]=r,t[5]=i,t[6]=l):l=t[6],l}const Ow=e=>e.key;function Mw(e){const t=(0,n.c)(7),{route:s}=e,o=(0,hs.useSetMinimalShellMode)(),{name:a,rkey:r}=s.params;let i;t[0]!==a||t[1]!==r?(i=(0,zt.makeRecordUri)(a,"app.bsky.feed.post",r),t[0]=a,t[1]=r,t[2]=i):i=t[2];const l=i;let c,d;return t[3]!==o?(c=()=>{o(!1)},t[3]=o,t[4]=c):c=t[4],(0,Ns.useFocusEffect)(c),t[5]!==l?(d=(0,bt.jsx)(ya.Screen,{testID:"postThreadScreen",children:(0,bt.jsx)(Rw,{uri:l})}),t[5]=l,t[6]=d):d=t[6],d}const Fw=e=>{const t=(0,n.c)(21),s=(0,bn.usePalette)("default"),{_:o}=(0,dt.useLingui)(),a=(0,hs.useSetMinimalShellMode)();let r,i,l,c,d,u,m,h,p,f;return t[0]!==a?(r=()=>{a(!1)},t[0]=a,t[1]=r):r=t[1],(0,Ns.useFocusEffect)(r),t[2]!==o?(i=o({id:"LcET2C"}),t[2]=o,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(ka,{title:i}),t[4]=i,t[5]=l):l=t[5],t[6]!==s.view?(c=[kn.s.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[kn.s.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,bt.jsx)(dt.Trans,{id:"WNR9db",components:{0:(0,bt.jsx)(ga,{style:s.link,href:"https://bsky.social/about/support/privacy-policy",text:"bsky.social/about/support/privacy-policy"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(ua.Text,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Fs.default,{style:kn.s.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,bt.jsxs)(wa,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,bt.jsxs)(ya.Screen,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f};var Nw=s(17990),Hw=s(38229),Vw=s(3903);const zw={_reactKey:"__loading__"},Uw={_reactKey:"__empty__"},Ww={_reactKey:"__error__"},Gw={_reactKey:"__load_more_error__"};function qw(e){const t=(0,n.c)(65),{ref:s,did:o,scrollElRef:a,headerOffset:i,enabled:l,style:c,testID:d,setScrollViewTag:u}=e,{_:m}=(0,dt.useLingui)(),h=(0,qs.useTheme)(),[p,f]=(0,lt.useState)(!1),{height:g}=(0,Qr.default)();let x;t[0]!==l?(x={enabled:l},t[0]=l,t[1]=x):x=t[1];const _=x,{data:y,isPending:b,isFetchingNextPage:j,hasNextPage:v,fetchNextPage:S,isError:w,error:T,refetch:k}=function(e,t){const s=(0,n.c)(8),o=(0,ds.useModerationOpts)(),a=!1!==t?.enabled&&Boolean(o),r=(0,Gt.useAgent)();let i,l;return s[0]!==e?(i=ib(e),s[0]=e,s[1]=i):i=s[1],s[2]!==r||s[3]!==e||s[4]!==a||s[5]!==o||s[6]!==i?(l={queryKey:i,async queryFn(t){const{pageParam:s}=t,o=await r.app.bsky.feed.getActorFeeds({actor:e,limit:ab,cursor:s});return o.data.feeds.sort(cb),o.data},initialPageParam:void 0,getNextPageParam:lb,enabled:a,select:e=>Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{feeds:e.feeds.filter((e=>!(0,Dn.moderateFeedGenerator)(e,o).ui("contentList").filter))})))})},s[2]=r,s[3]=e,s[4]=a,s[5]=o,s[6]=i,s[7]=l):l=s[7],(0,Wa.useInfiniteQuery)(l)}(o,_),C=!b&&!y?.pages[0]?.feeds.length,{data:I}=(0,xr.usePreferencesQuery)(),A=(0,Ns.useNavigation)(),{currentAccount:P}=(0,Gt.useSession)(),E=P?.did===o;let L;if(t[2]!==y?.pages||t[3]!==C||t[4]!==w||t[5]!==b){if(L=[],w&&C&&(L=L.concat([Ww])),b)L=L.concat([zw]);else if(C)L=L.concat([Uw]);else if(y?.pages)for(const e of y?.pages)L=L.concat(e.feeds);else if(w&&!C){let e;if(t[7]!==L){let s;t[9]===Symbol.for("react.memo_cache_sentinel")?(s=[Gw],t[9]=s):s=t[9],e=L.concat(s),t[7]=L,t[8]=e}else e=t[8];L=e}t[2]=y?.pages,t[3]=C,t[4]=w,t[5]=b,t[6]=L}else L=t[6];const R=L,B=(0,On.useQueryClient)();let D;t[10]!==o||t[11]!==i||t[12]!==B||t[13]!==a?(D=()=>{a.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-i}),B.invalidateQueries({queryKey:ib(o)})},t[10]=o,t[11]=i,t[12]=B,t[13]=a,t[14]=D):D=t[14];const O=D;let M,F;t[15]!==O?(M=()=>({scrollToTop:O}),t[15]=O,t[16]=M):M=t[16],(0,lt.useImperativeHandle)(s,M),t[17]!==k?(F=async()=>{f(!0);try{await k()}catch(H){const t=H;Mt.logger.error("Failed to refresh feeds",{message:t})}f(!1)},t[17]=k,t[18]=F):F=t[18];const N=F;let H;t[19]!==S||t[20]!==v||t[21]!==w||t[22]!==j?(H=async()=>{if(!j&&v&&!w)try{await S()}catch(z){const t=z;Mt.logger.error("Failed to load more feeds",{message:t})}},t[19]=S,t[20]=v,t[21]=w,t[22]=j,t[23]=H):H=t[23];const V=H;let z;t[24]!==S?(z=()=>{S()},t[24]=S,t[25]=z):z=t[25];const U=z;let W;t[26]!==m||t[27]!==T||t[28]!==E||t[29]!==A||t[30]!==U||t[31]!==I||t[32]!==k||t[33]!==h?(W=e=>{const{item:t,index:s}=e;return t===Uw?(0,bt.jsx)(pS.EmptyState,{style:{width:"100%"},icon:Pl,message:m(E?{id:"/NXoFs"}:{id:"EMYAm6"}),textStyle:[h.atoms.text_contrast_medium,qs.atoms.font_medium],button:E?{label:m({id:"unts03"}),text:m({id:"unts03"}),onPress:()=>A.navigate("Feeds"),size:"small",color:"secondary"}:void 0}):t===Ww?(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(T),onPressTryAgain:k}):t===Gw?(0,bt.jsx)(ki,{label:m({id:"lno7N1"}),onPress:U}):t===zw?(0,bt.jsx)(yi,{}):I?(0,bt.jsx)(Fs.default,{style:[(0!==s||r.IS_WEB)&&qs.atoms.border_t,h.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg],children:(0,bt.jsx)(xl,{view:t})}):null},t[26]=m,t[27]=T,t[28]=E,t[29]=A,t[30]=U,t[31]=I,t[32]=k,t[33]=h,t[34]=W):W=t[34];const G=W;let q,Q,K;t[35]!==l||t[36]!==a||t[37]!==u?(q=()=>{if(r.IS_IOS&&l&&a.current){const e=(0,Vw.default)(a.current);u(e)}},Q=[l,a,u],t[35]=l,t[36]=a,t[37]=u,t[38]=q,t[39]=Q):(q=t[38],Q=t[39]),(0,lt.useEffect)(q,Q),t[40]!==T||t[41]!==S||t[42]!==v||t[43]!==i||t[44]!==C||t[45]!==j?(K=()=>C?null:(0,bt.jsx)(xS,{hasNextPage:v,isFetchingNextPage:j,onRetry:S,error:(0,Tn.cleanError)(T),height:180+i}),t[40]=T,t[41]=S,t[42]=v,t[43]=i,t[44]=C,t[45]=j,t[46]=K):K=t[46];const Z=K,Y=d?`${d}-flatlist`:void 0;let $;t[47]===Symbol.for("react.memo_cache_sentinel")?($=(0,qs.ios)(0),t[47]=$):$=t[47];const X=g+i;let J,ee,te;return t[48]!==X?(J={minHeight:X},t[48]=X,t[49]=J):J=t[49],t[50]!==Z||t[51]!==i||t[52]!==p||t[53]!==R||t[54]!==V||t[55]!==N||t[56]!==G||t[57]!==a||t[58]!==Y||t[59]!==J?(ee=(0,bt.jsx)(ei.List,{testID:Y,ref:a,data:R,keyExtractor:Qw,renderItem:G,ListFooterComponent:Z,refreshing:p,onRefresh:N,headerOffset:i,progressViewOffset:$,removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:V,contentContainerStyle:J}),t[50]=Z,t[51]=i,t[52]=p,t[53]=R,t[54]=V,t[55]=N,t[56]=G,t[57]=a,t[58]=Y,t[59]=J,t[60]=ee):ee=t[60],t[61]!==c||t[62]!==ee||t[63]!==d?(te=(0,bt.jsx)(Fs.default,{testID:d,style:c,children:ee}),t[61]=c,t[62]=ee,t[63]=d,t[64]=te):te=t[64],te}function Qw(e){return e._reactKey||e.uri}const Kw={_reactKey:"__loading__"},Zw={_reactKey:"__empty__"},Yw={_reactKey:"__error__"},$w={_reactKey:"__load_more_error__"};function Xw(e){const t=(0,n.c)(65),{ref:s,did:o,scrollElRef:a,headerOffset:i,enabled:l,style:c,testID:d,setScrollViewTag:u}=e,{_:m}=(0,dt.useLingui)(),h=(0,qs.useTheme)(),[p,f]=(0,lt.useState)(!1),{height:g}=(0,Qr.default)();let x;t[0]!==l?(x={enabled:l},t[0]=l,t[1]=x):x=t[1];const _=x,{data:y,isPending:b,isFetchingNextPage:j,hasNextPage:v,fetchNextPage:S,isError:w,error:T,refetch:k}=function(e,t){const s=(0,n.c)(8),o=(0,ds.useModerationOpts)(),a=!1!==t?.enabled&&Boolean(o),r=(0,Gt.useAgent)();let i,l;return s[0]!==e?(i=rr(e),s[0]=e,s[1]=i):i=s[1],s[2]!==r||s[3]!==e||s[4]!==a||s[5]!==o||s[6]!==i?(l={queryKey:i,async queryFn(t){const{pageParam:s}=t;return(await r.app.bsky.graph.getLists({actor:e,limit:nr,cursor:s})).data},initialPageParam:void 0,getNextPageParam:ir,enabled:a,select:e=>Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{lists:e.lists.filter((e=>!(0,Dn.moderateUserList)(e,o).ui("contentList").filter))})))})},s[2]=r,s[3]=e,s[4]=a,s[5]=o,s[6]=i,s[7]=l):l=s[7],(0,Wa.useInfiniteQuery)(l)}(o,_),C=!b&&!y?.pages[0]?.lists.length,{data:I}=(0,xr.usePreferencesQuery)(),A=(0,Ns.useNavigation)(),{currentAccount:P}=(0,Gt.useSession)(),E=P?.did===o;let L;if(t[2]!==y?.pages||t[3]!==C||t[4]!==w||t[5]!==b){if(L=[],w&&C&&(L=L.concat([Yw])),b)L=L.concat([Kw]);else if(C)L=L.concat([Zw]);else if(y?.pages)for(const e of y?.pages)L=L.concat(e.lists);else if(w&&!C){let e;if(t[7]!==L){let s;t[9]===Symbol.for("react.memo_cache_sentinel")?(s=[$w],t[9]=s):s=t[9],e=L.concat(s),t[7]=L,t[8]=e}else e=t[8];L=e}t[2]=y?.pages,t[3]=C,t[4]=w,t[5]=b,t[6]=L}else L=t[6];const R=L,B=(0,On.useQueryClient)();let D;t[10]!==o||t[11]!==i||t[12]!==B||t[13]!==a?(D=()=>{a.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-i}),B.invalidateQueries({queryKey:rr(o)})},t[10]=o,t[11]=i,t[12]=B,t[13]=a,t[14]=D):D=t[14];const O=D;let M,F;t[15]!==O?(M=()=>({scrollToTop:O}),t[15]=O,t[16]=M):M=t[16],(0,lt.useImperativeHandle)(s,M),t[17]!==k?(F=async()=>{f(!0);try{await k()}catch(H){const t=H;Mt.logger.error("Failed to refresh lists",{message:t})}f(!1)},t[17]=k,t[18]=F):F=t[18];const N=F;let H;t[19]!==S||t[20]!==v||t[21]!==w||t[22]!==j?(H=async()=>{if(!j&&v&&!w)try{await S()}catch(z){const t=z;Mt.logger.error("Failed to load more lists",{message:t})}},t[19]=S,t[20]=v,t[21]=w,t[22]=j,t[23]=H):H=t[23];const V=H;let z;t[24]!==S?(z=()=>{S()},t[24]=S,t[25]=z):z=t[25];const U=z;let W;t[26]!==m||t[27]!==T||t[28]!==E||t[29]!==A||t[30]!==U||t[31]!==I||t[32]!==k||t[33]!==h?(W=e=>{const{item:t,index:s}=e;return t===Zw?(0,bt.jsx)(pS.EmptyState,{icon:Xv,message:m(E?{id:"agiAtt"}:{id:"hXMFoN"}),textStyle:[h.atoms.text_contrast_medium,qs.atoms.font_medium],button:E?{label:m({id:"Ee78dY"}),text:m({id:"Ee78dY"}),onPress:()=>A.navigate("Lists"),size:"small",color:"primary"}:void 0}):t===Yw?(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(T),onPressTryAgain:k}):t===$w?(0,bt.jsx)(ki,{label:m({id:"lno7N1"}),onPress:U}):t===Kw?(0,bt.jsx)(yi,{}):I?(0,bt.jsx)(Fs.default,{style:[(0!==s||r.IS_WEB)&&qs.atoms.border_t,h.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg],children:(0,bt.jsx)(th,{view:t})}):null},t[26]=m,t[27]=T,t[28]=E,t[29]=A,t[30]=U,t[31]=I,t[32]=k,t[33]=h,t[34]=W):W=t[34];const G=W;let q,Q,K;t[35]!==l||t[36]!==a||t[37]!==u?(q=()=>{if(r.IS_IOS&&l&&a.current){const e=(0,Vw.default)(a.current);u(e)}},Q=[l,a,u],t[35]=l,t[36]=a,t[37]=u,t[38]=q,t[39]=Q):(q=t[38],Q=t[39]),(0,lt.useEffect)(q,Q),t[40]!==T||t[41]!==S||t[42]!==v||t[43]!==i||t[44]!==C||t[45]!==j?(K=()=>C?null:(0,bt.jsx)(xS,{hasNextPage:v,isFetchingNextPage:j,onRetry:S,error:(0,Tn.cleanError)(T),height:180+i}),t[40]=T,t[41]=S,t[42]=v,t[43]=i,t[44]=C,t[45]=j,t[46]=K):K=t[46];const Z=K,Y=d?`${d}-flatlist`:void 0;let $;t[47]===Symbol.for("react.memo_cache_sentinel")?($=(0,qs.ios)(0),t[47]=$):$=t[47];const X=g+i;let J,ee,te;return t[48]!==X?(J={minHeight:X},t[48]=X,t[49]=J):J=t[49],t[50]!==Z||t[51]!==i||t[52]!==p||t[53]!==R||t[54]!==V||t[55]!==N||t[56]!==G||t[57]!==a||t[58]!==Y||t[59]!==J?(ee=(0,bt.jsx)(ei.List,{testID:Y,ref:a,data:R,keyExtractor:Jw,renderItem:G,ListFooterComponent:Z,refreshing:p,onRefresh:N,headerOffset:i,progressViewOffset:$,removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:V,contentContainerStyle:J}),t[50]=Z,t[51]=i,t[52]=p,t[53]=R,t[54]=V,t[55]=N,t[56]=G,t[57]=a,t[58]=Y,t[59]=J,t[60]=ee):ee=t[60],t[61]!==c||t[62]!==ee||t[63]!==d?(te=(0,bt.jsx)(Fs.default,{testID:d,style:c,children:ee}),t[61]=c,t[62]=ee,t[63]=d,t[64]=te):te=t[64],te}function Jw(e){return e._reactKey||e.uri}const eT=lt.forwardRef((function(e,t){const s=(0,n.c)(23),{children:o,testID:a,items:r,isHeaderReady:i,renderHeader:l,initialPage:c,onPageSelected:d,onCurrentPageSelected:u}=e,[m,h]=lt.useState(0);let p;s[0]!==m||s[1]!==i||s[2]!==r||s[3]!==u||s[4]!==l||s[5]!==a?(p=e=>(0,bt.jsx)(tT,{items:r,renderHeader:l,isHeaderReady:i,currentPage:m,onCurrentPageSelected:u,onSelect:e.onSelect,tabBarAnchor:e.tabBarAnchor,testID:a}),s[0]=m,s[1]=i,s[2]=r,s[3]=u,s[4]=l,s[5]=a,s[6]=p):p=s[6];const f=p;let g;s[7]!==d?(g=e=>{h(e),d?.(e)},s[7]=d,s[8]=g):g=s[8];const x=g;let _,y;if(s[9]!==o||s[10]!==m||s[11]!==i){let e;s[13]!==m||s[14]!==i?(e=(e,t)=>{const s=i;return(0,bt.jsx)(Fs.default,{collapsable:!1,style:{display:s?void 0:"none"},children:(0,bt.jsx)(sT,{isFocused:t===m,renderTab:e})},t)},s[13]=m,s[14]=i,s[15]=e):e=s[15],_=function(e){if(Array.isArray(e))return e;return[e]}(o).filter(Boolean).map(e),s[9]=o,s[10]=m,s[11]=i,s[12]=_}else _=s[12];return s[16]!==c||s[17]!==x||s[18]!==t||s[19]!==f||s[20]!==_||s[21]!==a?(y=(0,bt.jsx)(Mv,{ref:t,testID:a,initialPage:c,onPageSelected:x,renderTabBar:f,children:_}),s[16]=c,s[17]=x,s[18]=t,s[19]=f,s[20]=_,s[21]=a,s[22]=y):y=s[22],y}));let tT=e=>{const t=(0,n.c)(21),{currentPage:s,items:o,isHeaderReady:a,testID:r,renderHeader:i,onCurrentPageSelected:l,onSelect:c,tabBarAnchor:d}=e;let u,m;t[0]!==i?(u=i?.({setMinimumHeight:oT}),t[0]=i,t[1]=u):u=t[1],t[2]!==u?(m=(0,bt.jsx)(ya.Center,{children:u}),t[2]=u,t[3]=m):m=t[3];const h=a?void 0:"none";let p,f,g,x,_;return t[4]!==h?(p=(0,qs.web)([qs.atoms.sticky,{top:0,display:h}]),t[4]=h,t[5]=p):p=t[5],t[6]!==p?(f=[qs.atoms.z_10,p],t[6]=p,t[7]=f):f=t[7],t[8]!==s||t[9]!==o||t[10]!==l||t[11]!==c||t[12]!==r?(g=(0,bt.jsx)(wv,{testID:r,items:o,selectedPage:s,onSelect:c,onPressSelected:l,dragProgress:void 0,dragState:void 0}),t[8]=s,t[9]=o,t[10]=l,t[11]=c,t[12]=r,t[13]=g):g=t[13],t[14]!==f||t[15]!==g?(x=(0,bt.jsx)(ya.Center,{style:f,children:g}),t[14]=f,t[15]=g,t[16]=x):x=t[16],t[17]!==m||t[18]!==x||t[19]!==d?(_=(0,bt.jsxs)(bt.Fragment,{children:[m,d,x]}),t[17]=m,t[18]=x,t[19]=d,t[20]=_):_=t[20],_};function sT(e){const t=(0,n.c)(4),{isFocused:s,renderTab:o}=e,a=(0,yn.useAnimatedRef)();if(null==o)return null;const r=a;let i;return t[0]!==s||t[1]!==o||t[2]!==r?(i=o({headerHeight:0,isFocused:s,scrollElRef:r}),t[0]=s,t[1]=o,t[2]=r,t[3]=i):i=t[3],i}function oT(){}tT=lt.memo(tT);var nT=s(4673);function aT(){const e=(0,n.c)(2),t=(0,Gt.useAgent)();let s;return e[0]!==t?(s={mutationFn:async e=>{const{uri:s,cid:o}=e;return{uri:(await t.like(s,o)).uri}}},e[0]=t,e[1]=s):s=e[1],(0,go.useMutation)(s)}function rT(){const e=(0,n.c)(2),t=(0,Gt.useAgent)();let s;return e[0]!==t?(s={mutationFn:async e=>{const{uri:s}=e;await t.deleteLike(s)}},e[0]=t,e[1]=s):s=e[1],(0,go.useMutation)(s)}function iT(e){const t=(0,n.c)(10),{profile:s,moderation:o}=e,a=(0,qs.useTheme)(),{gtMobile:r}=(0,qs.useBreakpoints)(),i=r?qs.atoms.text_4xl:qs.atoms.text_3xl;let l,c,d;return t[0]!==a.atoms.text||t[1]!==i?(l=[a.atoms.text,i,qs.atoms.self_start,qs.atoms.font_bold],t[0]=a.atoms.text,t[1]=i,t[2]=l):l=t[2],t[3]!==o||t[4]!==s.displayName||t[5]!==s.handle?(c=(0,Ma.sanitizeDisplayName)(s.displayName||(0,Fa.sanitizeHandle)(s.handle),o.ui("displayName")),t[3]=o,t[4]=s.displayName,t[5]=s.handle,t[6]=c):c=t[6],t[7]!==l||t[8]!==c?(d=(0,bt.jsx)(Fs.default,{pointerEvents:"none",children:(0,bt.jsx)(co.Text,{emoji:!0,testID:"profileHeaderDisplayName",style:l,children:c})}),t[7]=l,t[8]=c,t[9]=d):d=t[9],d}let lT=e=>{const t=(0,n.c)(49),{profile:s,labeler:o,descriptionRT:a,moderationOpts:i,hideBackButton:l,isPlaceholderProfile:c}=e,d=void 0!==l&&l,u=(0,Va.useProfileShadow)(s),m=(0,qs.useTheme)(),h=(0,Xo.useAnalytics)(),{_:p}=(0,dt.useLingui)(),{currentAccount:f,hasSession:g}=(0,Gt.useSession)(),x=(0,im.useHaptics)(),_=f?.did===u.did;let y;t[0]!==i||t[1]!==u?(y=(0,Dn.moderateProfile)(u,i),t[0]=i,t[1]=u,t[2]=y):y=t[2];const b=y,{mutateAsync:j,isPending:v}=aT(),{mutateAsync:S,isPending:w}=rT(),[T,k]=(0,lt.useState)(o.viewer?.like||""),[C,I]=(0,lt.useState)(o.likeCount||0);let A;t[3]!==p||t[4]!==h||t[5]!==o||t[6]!==j||t[7]!==T||t[8]!==x||t[9]!==S?(A=async()=>{if(o)try{if(x(),T)await S({uri:T}),I(uT),k("");else{const e=await j({uri:o.uri,cid:o.cid});I(mT),k(e.uri)}}catch(E){const t=E;Pd.show(p({id:"9sa1PU"}),{type:"error"}),h.logger.error("Failed to toggle labeler like",{message:t.message})}},t[3]=p,t[4]=h,t[5]=o,t[6]=j,t[7]=T,t[8]=x,t[9]=S,t[10]=A):A=t[10];const P=A;let E,L,R,B,D,O,M,F,N,H;return t[11]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.px_lg,qs.atoms.pt_md,qs.atoms.pb_sm],t[11]=E):E=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.flex_row,qs.atoms.justify_end,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.pb_lg],t[12]=L):L=t[12],t[13]!==u?(R=(0,bt.jsx)(Fs.default,{style:L,pointerEvents:r.IS_IOS?"auto":"box-none",children:(0,bt.jsx)(dT,{profile:u})}),t[13]=u,t[14]=R):R=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.flex_col,qs.atoms.gap_2xs,qs.atoms.pt_2xs,qs.atoms.pb_md],t[15]=B):B=t[15],t[16]!==b||t[17]!==u?(D=(0,bt.jsx)(iT,{profile:u,moderation:b}),t[16]=b,t[17]=u,t[18]=D):D=t[18],t[19]!==u?(O=(0,bt.jsx)(Gy.ProfileHeaderHandle,{profile:u}),t[19]=u,t[20]=O):O=t[20],t[21]!==D||t[22]!==O?(M=(0,bt.jsxs)(Fs.default,{style:B,children:[D,O]}),t[21]=D,t[22]=O,t[23]=M):M=t[23],t[24]!==p||t[25]!==a||t[26]!==g||t[27]!==v||t[28]!==c||t[29]!==_||t[30]!==w||t[31]!==o.creator||t[32]!==C||t[33]!==T||t[34]!==b||t[35]!==P||t[36]!==u||t[37]!==m?(F=!c&&(0,bt.jsxs)(bt.Fragment,{children:[_&&(0,bt.jsx)(qy,{profile:u}),a&&!b.ui("profileView").blur?(0,bt.jsx)(Fs.default,{pointerEvents:"auto",children:(0,bt.jsx)(Yi.RichText,{testID:"profileHeaderDescription",style:[qs.atoms.text_md],numberOfLines:15,value:a,enableTags:!0,authorHandle:u.handle})}):void 0,!(0,Wu.isAppLabeler)(u.did)&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center,qs.atoms.pt_lg],children:[(0,bt.jsx)(ao.Button,{testID:"toggleLikeBtn",size:"small",color:"secondary",shape:"round",label:p({id:"Yo3PBg"}),disabled:!g||v||w,onPress:P,children:T?(0,bt.jsx)(ii,{fill:m.palette.negative_400}):(0,bt.jsx)(ri,{fill:m.atoms.text_contrast_medium.color})}),"number"===typeof C&&(0,bt.jsx)(io.Link,{to:{screen:"ProfileLabelerLikedBy",params:{name:o.creator.handle||o.creator.did}},size:"tiny",label:p({id:"YD7py1",values:{likeCount:C}}),children:e=>{const{hovered:t,focused:s,pressed:o}=e;return(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_sm,m.atoms.text_contrast_medium,(t||s||o)&&m.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"YD7py1",values:{likeCount:C}})})}})]})]}),t[24]=p,t[25]=a,t[26]=g,t[27]=v,t[28]=c,t[29]=_,t[30]=w,t[31]=o.creator,t[32]=C,t[33]=T,t[34]=b,t[35]=P,t[36]=u,t[37]=m,t[38]=F):F=t[38],t[39]!==M||t[40]!==F||t[41]!==R?(N=(0,bt.jsxs)(Fs.default,{style:E,pointerEvents:r.IS_IOS?"auto":"box-none",children:[R,M,F]}),t[39]=M,t[40]=F,t[41]=R,t[42]=N):N=t[42],t[43]!==d||t[44]!==c||t[45]!==b||t[46]!==u||t[47]!==N?(H=(0,bt.jsx)(Sb,{profile:u,moderation:b,hideBackButton:d,isPlaceholderProfile:c,children:N}),t[43]=d,t[44]=c,t[45]=b,t[46]=u,t[47]=N,t[48]=H):H=t[48],H};function cT(e){const t=(0,n.c)(12),{control:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Zi.TitleText,{children:"Unable to subscribe"}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(Zi.Content,{children:[a,(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"LWQ3qB"})})]}),t[1]=r):r=t[1],t[2]!==s?(i=()=>s.close(),t[2]=s,t[3]=i):i=t[3],t[4]!==o?(l=o({id:"zga9sT"}),t[4]=o,t[5]=l):l=t[5],t[6]!==i||t[7]!==l?(c=(0,bt.jsx)(Zi.Actions,{children:(0,bt.jsx)(Zi.Action,{onPress:i,cta:l})}),t[6]=i,t[7]=l,t[8]=c):c=t[8],t[9]!==s||t[10]!==c?(d=(0,bt.jsxs)(Zi.Outer,{control:s,children:[r,c]}),t[9]=s,t[10]=c,t[11]=d):d=t[11],d}function dT({profile:e,minimal:t=!1}){const s=(0,qs.useTheme)(),o=(0,Xo.useAnalytics)(),{_:n}=(0,dt.useLingui)(),{currentAccount:a}=(0,Gt.useSession)(),r=(0,Gt.useRequireAuth)(),i=(0,im.useHaptics)(),l=(0,Qs.useDialogControl)(),{data:c}=(0,xr.usePreferencesQuery)(),{mutateAsync:d,variables:u,reset:m}=(0,Hw.useLabelerSubscriptionMutation)(),h=u?.subscribe??c?.moderationPrefs.labelers.find((t=>t.did===e.did)),p=Zi.usePromptControl(),f=a?.did===e.did;return(0,bt.jsxs)(bt.Fragment,{children:[f?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{testID:"profileHeaderEditProfileButton",size:"small",color:"secondary",onPress:l.open,label:n({id:"9OpVZg"}),style:qs.atoms.rounded_full,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"QJQd1J"})})}),(0,bt.jsx)(Uy,{profile:e,control:l})]}):(0,Wu.isAppLabeler)(e.did)||t?null:(0,bt.jsx)(ao.Button,{testID:"toggleSubscribeBtn",label:n(h?{id:"B72PaX"}:{id:"ySzfz3"}),onPress:()=>r((async()=>{i();const t=!h;try{await d({did:e.did,subscribe:t}),o.metric(t?"moderation:subscribedToLabeler":"moderation:unsubscribedFromLabeler",{})}catch(s){if(m(),"MAX_LABELERS"===s.message)return void p.open();o.logger.error("Failed to subscribe to labeler",{message:s.message})}})),children:e=>(0,bt.jsx)(Fs.default,{style:[{paddingVertical:9,paddingHorizontal:12,borderRadius:6,gap:6,backgroundColor:h?e.hovered||e.pressed?s.palette.contrast_50:s.palette.contrast_25:e.hovered||e.pressed?qs.tokens.color.temp_purple_dark:qs.tokens.color.temp_purple}],children:(0,bt.jsx)(co.Text,{style:[{color:h?s.palette.contrast_700:s.palette.white},qs.atoms.font_semi_bold,qs.atoms.text_center,qs.atoms.leading_tight],children:h?(0,bt.jsx)(dt.Trans,{id:"SMaFdc"}):(0,bt.jsx)(dt.Trans,{id:"MWdBya"})})})}),(0,bt.jsx)(X_,{profile:e}),(0,bt.jsx)(cT,{control:p})]})}function uT(e){return e-1}function mT(e){return e+1}lT=(0,lt.memo)(lT);const hT=["setMinimumHeight"];let pT=e=>{const t=(0,n.c)(13),s=(0,qs.useTheme)();let o,a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(mi,{width:"100%",height:150,style:{borderRadius:0}}),t[0]=o):o=t[0],t[1]!==s.atoms.bg.backgroundColor?(a={borderColor:s.atoms.bg.backgroundColor},t[1]=s.atoms.bg.backgroundColor,t[2]=a):a=t[2],t[3]!==s.atoms.bg||t[4]!==a?(r=[s.atoms.bg,a,bT.avi],t[3]=s.atoms.bg,t[4]=a,t[5]=r):r=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(mi,{width:90,height:90,style:bT.br45}),t[6]=i):i=t[6],t[7]!==r?(l=(0,bt.jsx)(Fs.default,{style:r,children:i}),t[7]=r,t[8]=l):l=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Fs.default,{style:bT.content,children:(0,bt.jsx)(Fs.default,{style:[bT.buttonsLine],children:(0,bt.jsx)(mi,{width:140,height:34,style:bT.br50})})}),t[9]=c):c=t[9],t[10]!==s.atoms.bg||t[11]!==l?(d=(0,bt.jsxs)(Fs.default,{style:s.atoms.bg,children:[o,l,c]}),t[10]=s.atoms.bg,t[11]=l,t[12]=d):d=t[12],d};pT=(0,lt.memo)(pT);let fT=e=>{const t=(0,n.c)(16);let s,o,a,i,l;if(t[0]!==e){var c=e;({setMinimumHeight:o}=c),s=(0,ta.default)(c,hT),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];if(s.profile.associated?.labeler)if(s.labeler){let e;t[4]!==s?(e=(0,bt.jsx)(lT,Object.assign({},s,{labeler:s.labeler})),t[4]=s,t[5]=e):e=t[5],a=e}else{let e;t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(pT,{}),t[3]=e):e=t[3],a=e}else{let e;t[6]!==s?(e=(0,bt.jsx)(Pb,Object.assign({},s)),t[6]=s,t[7]=e):e=t[7],a=e}return t[8]!==s.hideBackButton||t[9]!==s.labeler||t[10]!==s.profile||t[11]!==o?(i=r.IS_NATIVE&&(0,bt.jsx)(yT,{onLayout:e=>o(e.nativeEvent.layout.height),profile:s.profile,labeler:s.labeler,hideBackButton:s.hideBackButton}),t[8]=s.hideBackButton,t[9]=s.labeler,t[10]=s.profile,t[11]=o,t[12]=i):i=t[12],t[13]!==a||t[14]!==i?(l=(0,bt.jsxs)(bt.Fragment,{children:[i,a]}),t[13]=a,t[14]=i,t[15]=l):l=t[15],l};fT=(0,lt.memo)(fT);const gT={code:"function indexTsx1(){const{minimalHeaderHeight,scrollY,withTiming,headerHeight}=this.__closure;if(!_WORKLET||minimalHeaderHeight===0){return{opacity:0};}const pastThreshold=scrollY.get()>100;return{opacity:pastThreshold?withTiming(1,{duration:75}):withTiming(0,{duration:75}),transform:[{translateY:Math.min(scrollY.get(),headerHeight-minimalHeaderHeight)}]};}"},xT={code:"function indexTsx2(){const{scrollY}=this.__closure;return scrollY.get()>100;}"},_T={code:"function indexTsx3(value,prev){const{runOnJS,setVisible}=this.__closure;if(prev!==value){runOnJS(setVisible)(value);}}"},yT=(0,lt.memo)((function(e){const t=(0,n.c)(40),{onLayout:s,profile:o,labeler:a,hideBackButton:r}=e,i=void 0!==r&&r,l=(0,qs.useTheme)(),c=(0,ct.useSafeAreaInsets)(),d=Jy(),u=(0,Va.useProfileShadow)(o),m=(0,ds.useModerationOpts)();let h;t[0]!==m||t[1]!==u?(h=m?(0,Dn.moderateProfile)(u,m):null,t[0]=m,t[1]=u,t[2]=h):h=t[2];const p=h,[f,g]=(0,lt.useState)(!1),[x,_]=(0,lt.useState)(c.top),y=(0,Ns.useIsFocused)();if(!d)throw new Error("MinimalHeader cannot be used on web");const{scrollY:b,headerHeight:j}=d,v=(0,yn.useAnimatedStyle)(function(){const e=function(){if(!_WORKLET||0===x)return{opacity:0};return{opacity:b.get()>100?(0,yn.withTiming)(1,{duration:75}):(0,yn.withTiming)(0,{duration:75}),transform:[{translateY:Math.min(b.get(),j-x)}]}};return e.__closure={minimalHeaderHeight:x,scrollY:b,withTiming:yn.withTiming,headerHeight:j},e.__workletHash=0xf48affbadb3,e.__initData=gT,e}());(0,yn.useAnimatedReaction)(function(){const e=()=>b.get()>100;return e.__closure={scrollY:b},e.__workletHash=0xf6e5324a40a,e.__initData=xT,e}(),function(){const e=function(e,t){t!==e&&(0,yn.runOnJS)(g)(e)};return e.__closure={runOnJS:yn.runOnJS,setVisible:g},e.__workletHash=0x9aac6a24135,e.__initData=_T,e}()),function(e){const t=(0,n.c)(3);let s,o;t[0]!==e?(s=()=>{if(e){const e=nT.SystemBars.pushStackEntry({style:{statusBar:"light"}});return()=>{nT.SystemBars.popStackEntry(e)}}},o=[e],t[0]=e,t[1]=s,t[2]=o):(s=t[1],o=t[2]),(0,lt.useEffect)(s,o)}(y&&!f);const S=f?"auto":"none",w=!f,T=!f,k=f?"auto":"no-hide-descendants";let C,I,A,P,E,L,R,B,D,O,M;return t[3]!==s?(C=e=>{_(e.nativeEvent.layout.height),s(e)},t[3]=s,t[4]=C):C=t[4],t[5]!==c.top?(I={top:0,left:0,right:0,paddingTop:c.top},t[5]=c.top,t[6]=I):I=t[6],t[7]!==v||t[8]!==l.atoms.bg||t[9]!==I?(A=[qs.atoms.absolute,qs.atoms.z_50,l.atoms.bg,I,v],t[7]=v,t[8]=l.atoms.bg,t[9]=I,t[10]=A):A=t[10],t[11]!==i?(P=i?(0,bt.jsx)(ya.Header.MenuButton,{}):(0,bt.jsx)(ya.Header.BackButton,{}),t[11]=i,t[12]=P):P=t[12],t[13]!==m||t[14]!==u?(E=m?(0,bt.jsx)(Rl.Name,{profile:u,moderationOpts:m,textStyle:[qs.atoms.font_bold]}):(0,bt.jsx)(Rl.NamePlaceholder,{}),t[13]=m,t[14]=u,t[15]=E):E=t[15],t[16]!==u.handle?(L=(0,Fa.sanitizeHandle)(u.handle,"@"),t[16]=u.handle,t[17]=L):L=t[17],t[18]!==L?(R=(0,bt.jsx)(ya.Header.SubtitleText,{children:L}),t[18]=L,t[19]=R):R=t[19],t[20]!==E||t[21]!==R?(B=(0,bt.jsxs)(ya.Header.Content,{align:"left",children:[E,R]}),t[20]=E,t[21]=R,t[22]=B):B=t[22],t[23]!==a||t[24]!==p||t[25]!==m||t[26]!==u?(D=u.associated?.labeler?a&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_end,qs.atoms.gap_xs],children:(0,bt.jsx)(dT,{profile:u,minimal:!0})}):m&&p&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_end,qs.atoms.gap_xs],children:(0,bt.jsx)(Eb,{profile:u,moderation:p,moderationOpts:m,minimal:!0})}),t[23]=a,t[24]=p,t[25]=m,t[26]=u,t[27]=D):D=t[27],t[28]!==P||t[29]!==B||t[30]!==D?(O=(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,children:[P,B,D]}),t[28]=P,t[29]=B,t[30]=D,t[31]=O):O=t[31],t[32]!==O||t[33]!==S||t[34]!==w||t[35]!==T||t[36]!==k||t[37]!==C||t[38]!==A?(M=(0,bt.jsx)(yn.default.View,{pointerEvents:S,"aria-hidden":w,accessibilityElementsHidden:T,importantForAccessibility:k,onLayout:C,style:A,children:O}),t[32]=O,t[33]=S,t[34]=w,t[35]=T,t[36]=k,t[37]=C,t[38]=A,t[39]=M):M=t[39],M}));yT.displayName="MinimalHeader";const bT=Os.default.create({avi:{position:"absolute",top:110,left:10,width:94,height:94,borderRadius:47,borderWidth:2},content:{paddingTop:12,paddingHorizontal:16,paddingBottom:8},buttonsLine:{flexDirection:"row",marginLeft:"auto"},br45:{borderRadius:45},br50:{borderRadius:50}});var jT=s(2101);function vT(e){const t=(0,n.c)(40),{ref:s,feed:o,headerHeight:a,isFocused:i,scrollElRef:l,ignoreFilterFor:c,setScrollViewTag:d,emptyStateMessage:u,emptyStateButton:m,emptyStateIcon:h}=e,{_:p}=(0,dt.useLingui)(),f=(0,On.useQueryClient)(),[g,x]=(0,lt.useState)(!1),[_,y]=(0,lt.useState)(!1),b=o.endsWith("posts_and_author_threads");let j;t[0]!==o?(j=r.IS_NATIVE&&o.endsWith("posts_with_video"),t[0]=o,t[1]=j):j=t[1];const v=j;let S;t[2]!==a?(S={screenHeightOffset:a},t[2]=a,t[3]=S):S=t[3];const w=$r(S);let T;t[4]!==o||t[5]!==a||t[6]!==f||t[7]!==l?(T=()=>{l.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-a}),(0,Nn.truncateAndInvalidate)(f,(0,Jr.RQKEY)(o)),x(!1)},t[4]=o,t[5]=a,t[6]=f,t[7]=l,t[8]=T):T=t[8];const k=T;let C,I;t[9]!==k?(C=()=>({scrollToTop:k}),t[9]=k,t[10]=C):C=t[10],(0,lt.useImperativeHandle)(s,C),t[11]!==p||t[12]!==m||t[13]!==h||t[14]!==u?(I=()=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(pS.EmptyState,{style:{width:"100%"},icon:h||jT.EditBig_Stroke1_Corner0_Rounded,iconSize:"3xl",message:u||p({id:"4igebd"}),button:m})}),t[11]=p,t[12]=m,t[13]=h,t[14]=u,t[15]=I):I=t[15];const A=I;let P,E,L;t[16]!==i||t[17]!==l||t[18]!==d?(P=()=>{if(r.IS_IOS&&i&&l.current){const e=(0,Vw.default)(l.current);d(e)}},E=[i,l,d],t[16]=i,t[17]=l,t[18]=d,t[19]=P,t[20]=E):(P=t[19],E=t[20]),(0,lt.useEffect)(P,E),t[21]===Symbol.for("react.memo_cache_sentinel")?(L=(0,qs.ios)(0),t[21]=L):L=t[21];const R=v?void 0:ST,B=b?w:void 0;let D,O,M;return t[22]!==o||t[23]!==a||t[24]!==c||t[25]!==i||t[26]!==v||t[27]!==A||t[28]!==l||t[29]!==B||t[30]!==R?(D=(0,bt.jsx)(Ag,{testID:"postsFeed",enabled:i,feed:o,scrollElRef:l,onHasNew:x,onScrolledDownChange:y,renderEmptyState:A,headerOffset:a,progressViewOffset:L,renderEndOfFeed:R,ignoreFilterFor:c,initialNumToRender:B,isVideoFeed:v}),t[22]=o,t[23]=a,t[24]=c,t[25]=i,t[26]=v,t[27]=A,t[28]=l,t[29]=B,t[30]=R,t[31]=D):D=t[31],t[32]!==p||t[33]!==g||t[34]!==_||t[35]!==k?(O=(_||g)&&(0,bt.jsx)(cv,{onPress:k,label:p({id:"VkLESX"}),showIndicator:g}),t[32]=p,t[33]=g,t[34]=_,t[35]=k,t[36]=O):O=t[36],t[37]!==D||t[38]!==O?(M=(0,bt.jsxs)(Fs.default,{children:[D,O]}),t[37]=D,t[38]=O,t[39]=M):M=t[39],M}function ST(){const e=(0,n.c)(10),t=(0,qs.useTheme)();let s,o,a,r,i;return e[0]!==t.atoms.border_contrast_medium?(s=[qs.atoms.w_full,qs.atoms.py_5xl,qs.atoms.border_t,t.atoms.border_contrast_medium],e[0]=t.atoms.border_contrast_medium,e[1]=s):s=e[1],e[2]!==t.atoms.text_contrast_medium?(o=[t.atoms.text_contrast_medium,qs.atoms.text_center],e[2]=t.atoms.text_contrast_medium,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(dt.Trans,{id:"9xK+YC"}),e[4]=a):a=e[4],e[5]!==o?(r=(0,bt.jsx)(co.Text,{style:o,children:a}),e[5]=o,e[6]=r):r=e[6],e[7]!==s||e[8]!==r?(i=(0,bt.jsx)(Fs.default,{style:s,children:r}),e[7]=s,e[8]=r,e[9]=i):i=e[9],i}function wT(e,t){const s=(0,n.c)(18),{_:o}=(0,dt.useLingui)();if("ignore"===t){let e;return s[0]!==o?(e=o({id:"az8lvo"}),s[0]=o,s[1]=e):e=s[1],e}if("content"===e.blurs||"media"===e.blurs){if("hide"===t){let e;return s[2]!==o?(e=o({id:"vLyv1R"}),s[2]=o,s[3]=e):e=s[3],e}let e;return s[4]!==o?(e=o({id:"FVVJhm"}),s[4]=o,s[5]=e):e=s[5],e}if("alert"===e.severity){if("hide"===t){let e;return s[6]!==o?(e=o({id:"vLyv1R"}),s[6]=o,s[7]=e):e=s[7],e}let e;return s[8]!==o?(e=o({id:"FVVJhm"}),s[8]=o,s[9]=e):e=s[9],e}if("inform"===e.severity){if("hide"===t){let e;return s[10]!==o?(e=o({id:"vLyv1R"}),s[10]=o,s[11]=e):e=s[11],e}let e;return s[12]!==o?(e=o({id:"PRYwnA"}),s[12]=o,s[13]=e):e=s[13],e}{if("hide"===t){let e;return s[14]!==o?(e=o({id:"vLyv1R"}),s[14]=o,s[15]=e):e=s[15],e}let e;return s[16]!==o?(e=o({id:"E/QGRL"}),s[16]=o,s[17]=e):e=s[17],e}}function TT(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.px_lg,qs.atoms.py_lg,qs.atoms.justify_between,qs.atoms.flex_wrap],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(Fs.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function kT(e){const t=(0,n.c)(15),{children:s,name:o,description:a}=e,r=(0,qs.useTheme)(),{gtPhone:i}=(0,qs.useBreakpoints)();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.gap_xs,qs.atoms.flex_1],t[0]=l):l=t[0];const c=i?qs.atoms.text_sm:qs.atoms.text_md;let d,u,m,h,p;return t[1]!==c?(d=[qs.atoms.font_semi_bold,c],t[1]=c,t[2]=d):d=t[2],t[3]!==o||t[4]!==d?(u=(0,bt.jsx)(co.Text,{emoji:!0,style:d,children:o}),t[3]=o,t[4]=d,t[5]=u):u=t[5],t[6]!==r.atoms.text_contrast_medium?(m=[r.atoms.text_contrast_medium,qs.atoms.leading_snug],t[6]=r.atoms.text_contrast_medium,t[7]=m):m=t[7],t[8]!==a||t[9]!==m?(h=(0,bt.jsx)(co.Text,{emoji:!0,style:m,children:a}),t[8]=a,t[9]=m,t[10]=h):h=t[10],t[11]!==s||t[12]!==u||t[13]!==h?(p=(0,bt.jsxs)(Fs.default,{style:l,children:[u,h,s]}),t[11]=s,t[12]=u,t[13]=h,t[14]=p):p=t[14],p}function CT(e){const t=(0,n.c)(18),{name:s,values:o,onChange:a,ignoreLabel:r,warnLabel:i,hideLabel:l,disabled:c}=e,{_:d}=(0,dt.useLingui)();let u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[{minHeight:35},qs.atoms.w_full],t[0]=u):u=t[0],t[1]!==d||t[2]!==s?(m=d({id:"lwgSB+",values:{name:s}}),t[1]=d,t[2]=s,t[3]=m):m=t[3],t[4]!==r?(h=r&&(0,bt.jsx)(Lb.Button,{name:"ignore",label:r,children:(0,bt.jsx)(Lb.ButtonText,{children:r})}),t[4]=r,t[5]=h):h=t[5],t[6]!==i?(p=i&&(0,bt.jsx)(Lb.Button,{name:"warn",label:i,children:(0,bt.jsx)(Lb.ButtonText,{children:i})}),t[6]=i,t[7]=p):p=t[7],t[8]!==l?(f=l&&(0,bt.jsx)(Lb.Button,{name:"hide",label:l,children:(0,bt.jsx)(Lb.ButtonText,{children:l})}),t[8]=l,t[9]=f):f=t[9],t[10]!==c||t[11]!==a||t[12]!==m||t[13]!==h||t[14]!==p||t[15]!==f||t[16]!==o?(g=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsxs)(Lb.Group,{disabled:c,label:m,values:o,onChange:a,children:[h,p,f]})}),t[10]=c,t[11]=a,t[12]=m,t[13]=h,t[14]=p,t[15]=f,t[16]=o,t[17]=g):g=t[17],g}function IT(e){const t=(0,n.c)(34),{labelDefinition:s,disabled:o}=e,{_:a}=(0,dt.useLingui)(),{identifier:r}=s,{data:i}=(0,xr.usePreferencesQuery)(),{mutate:l,variables:c}=(0,xr.usePreferencesSetContentLabelMutation)(),d=i?.moderationPrefs.labels[r],u=c?.visibility??d??"warn",m=(0,Aa.useGlobalLabelStrings)();let h;t[0]!==m||t[1]!==s.identifier?(h=s.identifier in m?m[s.identifier]:{name:s.identifier,description:`Labeled "${s.identifier}"`},t[0]=m,t[1]=s.identifier,t[2]=h):h=t[2];const p=h;let f,g,x,_;t[3]!==a?(f=a({id:"vLyv1R"}),t[3]=a,t[4]=f):f=t[4],t[5]!==a?(g=a({id:"FVVJhm"}),t[5]=a,t[6]=g):g=t[6],t[7]!==a?(x=a({id:"8vETh9"}),t[7]=a,t[8]=x):x=t[8],t[9]!==f||t[10]!==g||t[11]!==x?(_={hide:f,warn:g,ignore:x},t[9]=f,t[10]=g,t[11]=x,t[12]=_):_=t[12];const y=_;let b,j,v,S,w,T;return t[13]!==p.description||t[14]!==p.name?(b=(0,bt.jsx)(kT,{name:p.name,description:p.description}),t[13]=p.description,t[14]=p.name,t[15]=b):b=t[15],t[16]!==p.name?(j=p.name.toLowerCase(),t[16]=p.name,t[17]=j):j=t[17],t[18]!==u?(v=[u],t[18]=u,t[19]=v):v=t[19],t[20]!==r||t[21]!==l?(S=e=>{l({label:r,visibility:e[0],labelerDid:void 0})},t[20]=r,t[21]=l,t[22]=S):S=t[22],t[23]!==o||t[24]!==y.hide||t[25]!==y.ignore||t[26]!==y.warn||t[27]!==j||t[28]!==v||t[29]!==S?(w=(0,bt.jsx)(CT,{name:j,values:v,onChange:S,ignoreLabel:y.ignore,warnLabel:y.warn,hideLabel:y.hide,disabled:o}),t[23]=o,t[24]=y.hide,t[25]=y.ignore,t[26]=y.warn,t[27]=j,t[28]=v,t[29]=S,t[30]=w):w=t[30],t[31]!==w||t[32]!==b?(T=(0,bt.jsxs)(TT,{children:[b,w]}),t[31]=w,t[32]=b,t[33]=T):T=t[33],T}function AT(e){const t=(0,n.c)(33),{labelDefinition:s,disabled:o,labelerDid:a}=e,{_:r,i18n:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)(),{gtPhone:c}=(0,qs.useBreakpoints)(),d=!s.definedBy,{identifier:u}=s,{data:m}=(0,xr.usePreferencesQuery)(),{mutate:h,variables:p}=(0,xr.usePreferencesSetContentLabelMutation)();let f;t[0]!==u||t[1]!==d||t[2]!==a||t[3]!==m?.moderationPrefs.labelers||t[4]!==m?.moderationPrefs.labels?(f=a&&!d?m?.moderationPrefs.labelers.find((e=>e.did===a))?.labels[u]:m?.moderationPrefs.labels[u],t[0]=u,t[1]=d,t[2]=a,t[3]=m?.moderationPrefs.labelers,t[4]=m?.moderationPrefs.labels,t[5]=f):f=t[5];const g=f,x=p?.visibility??g??s.defaultSetting??"warn",_=!("none"===s.blurs&&"none"===s.severity);let y;t[6]!==s.flags?(y=s.flags.includes("adult"),t[6]=s.flags,t[7]=y):y=t[7];const b=y&&!m?.moderationPrefs.adultContentEnabled,j=d||b,v=!o&&(c||!j);let S=x;b?S="hide":_||"warn"!==x||(S="ignore");const w=wT(s,S),T=wT(s,"hide"),k=wT(s,"warn"),C=wT(s,"ignore"),I=(0,Aa.useGlobalLabelStrings)();let A;if(t[8]!==r||t[9]!==b||t[10]!==_||t[11]!==j||t[12]!==w||t[13]!==I||t[14]!==T||t[15]!==i.locale||t[16]!==u||t[17]!==C||t[18]!==d||t[19]!==s||t[20]!==a||t[21]!==h||t[22]!==x||t[23]!==v||t[24]!==l||t[25]!==k){const e=(0,Gu.getLabelStrings)(i.locale,I,s);let o;t[27]!==r||t[28]!==b||t[29]!==j||t[30]!==d||t[31]!==l?(o=j&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center,qs.atoms.mt_xs],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm",fill:l.atoms.text_contrast_high.color}),(0,bt.jsx)(co.Text,{style:[l.atoms.text_contrast_medium,qs.atoms.font_semi_bold,qs.atoms.italic],children:b?(0,bt.jsx)(dt.Trans,{id:"fmw3zQ"}):d?(0,bt.jsx)(dt.Trans,{id:"xWQHgY",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:r({id:"QCFgcZ"}),to:"/moderation",style:qs.atoms.text_sm})}}):null})]}),t[27]=r,t[28]=b,t[29]=j,t[30]=d,t[31]=l,t[32]=o):o=t[32],A=(0,bt.jsxs)(TT,{children:[(0,bt.jsx)(kT,{name:e.name,description:e.description,children:o}),v&&(0,bt.jsx)(bt.Fragment,{children:j?(0,bt.jsx)(Fs.default,{style:[{minHeight:35},qs.atoms.px_md,qs.atoms.py_md,qs.atoms.rounded_sm,qs.atoms.border,l.atoms.border_contrast_low,qs.atoms.self_start],children:(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.font_semi_bold,l.atoms.text_contrast_low],children:w})}):(0,bt.jsx)(CT,{name:e.name.toLowerCase(),values:[x],onChange:e=>{h({label:u,visibility:e[0],labelerDid:a})},ignoreLabel:C,warnLabel:_?k:void 0,hideLabel:T})})]}),t[8]=r,t[9]=b,t[10]=_,t[11]=j,t[12]=w,t[13]=I,t[14]=T,t[15]=i.locale,t[16]=u,t[17]=C,t[18]=d,t[19]=s,t[20]=a,t[21]=h,t[22]=x,t[23]=v,t[24]=l,t[25]=k,t[26]=A}else A=t[26];return A}function PT(e){const t=(0,n.c)(31),{error:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),r=(0,Ns.useNavigation)();let i;t[0]!==r?(i=()=>{r.canGoBack()?r.goBack():r.navigate("Home")},t[0]=r,t[1]=i):i=t[1];const l=i;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,S;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.px_xl],t[2]=c):c=t[2],t[3]!==o.atoms.text_contrast_low?(d=(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{width:48,style:[o.atoms.text_contrast_low]}),t[3]=o.atoms.text_contrast_low,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.pb_md,qs.atoms.pt_xl],children:(0,bt.jsx)(dt.Trans,{id:"HbGWjb"})}),t[5]=u):u=t[5],t[6]!==o.atoms.text_contrast_medium?(m=[qs.atoms.text_md,qs.atoms.leading_normal,qs.atoms.pb_md,o.atoms.text_contrast_medium],t[6]=o.atoms.text_contrast_medium,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"HmqFOJ"}),t[8]=h):h=t[8],t[9]!==m?(p=(0,bt.jsx)(co.Text,{style:m,children:h}),t[9]=m,t[10]=p):p=t[10],t[11]!==o.atoms.bg_contrast_25?(f=[qs.atoms.relative,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,qs.atoms.mb_2xl,o.atoms.bg_contrast_25],t[11]=o.atoms.bg_contrast_25,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.text_md,qs.atoms.leading_normal],t[13]=g):g=t[13],t[14]!==s?(x=(0,bt.jsx)(co.Text,{style:g,children:s}),t[14]=s,t[15]=x):x=t[15],t[16]!==x||t[17]!==f?(_=(0,bt.jsx)(Fs.default,{style:f,children:x}),t[16]=x,t[17]=f,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y={flexDirection:"row"},t[19]=y):y=t[19],t[20]!==a?(b=a({id:"sr0UJD"}),t[20]=a,t[21]=b):b=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"sr0UJD"})}),t[22]=j):j=t[22],t[23]!==l||t[24]!==b?(v=(0,bt.jsx)(Fs.default,{style:y,children:(0,bt.jsx)(ao.Button,{size:"small",color:"secondary",variant:"solid",label:b,accessibilityHint:"Returns to previous page",onPress:l,children:j})}),t[23]=l,t[24]=b,t[25]=v):v=t[25],t[26]!==_||t[27]!==v||t[28]!==d||t[29]!==p?(S=(0,bt.jsxs)(Fs.default,{style:c,children:[d,u,p,_,v]}),t[26]=_,t[27]=v,t[28]=d,t[29]=p,t[30]=S):S=t[30],S}function ET(e){const t=(0,n.c)(34),{ref:s,isLabelerLoading:o,labelerInfo:a,labelerError:i,moderationOpts:l,scrollElRef:c,headerHeight:d,isFocused:u,setScrollViewTag:m}=e,h=(0,qs.useTheme)();let p;t[0]!==d||t[1]!==c?(p=()=>{c.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-d})},t[0]=d,t[1]=c,t[2]=p):p=t[2];const f=p;let g,x,_;t[3]!==f?(g=()=>({scrollToTop:f}),t[3]=f,t[4]=g):g=t[4],(0,lt.useImperativeHandle)(s,g),t[5]!==u||t[6]!==c||t[7]!==m?(x=()=>{if(r.IS_IOS&&u&&c.current){const e=(0,Vw.default)(c.current);m(e)}},_=[u,c,m],t[5]=u,t[6]=c,t[7]=m,t[8]=x,t[9]=_):(x=t[8],_=t[9]),(0,lt.useEffect)(x,_);const y=!!a&&!!(0,Wu.isLabelerSubscribed)(a,l);let b;e:{if(o||!a||i){let e;t[10]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[10]=e):e=t[10],b=e;break e}let e;if(t[11]!==a){const s=(0,Dn.interpretLabelValueDefinitions)(a);e=a.policies.labelValues.filter(RT).map((e=>(0,Wu.lookupLabelValueDefinition)(e,s))).filter(LT),t[11]=a,t[12]=e}else e=t[12];b=e}const j=b,v=j.length;let S;t[13]!==y||t[14]!==a||t[15]!==v||t[16]!==h?(S=e=>{const{item:t,index:s}=e;return a?(0,bt.jsxs)(Fs.default,{style:[h.atoms.bg_contrast_25,0===s&&[qs.atoms.overflow_hidden,{borderTopLeftRadius:qs.tokens.borderRadius.md,borderTopRightRadius:qs.tokens.borderRadius.md}],s===v-1&&[qs.atoms.overflow_hidden,{borderBottomLeftRadius:qs.tokens.borderRadius.md,borderBottomRightRadius:qs.tokens.borderRadius.md}]],children:[0!==s&&(0,bt.jsx)(yo,{}),(0,bt.jsx)(AT,{disabled:!y||void 0,labelDefinition:t,labelerDid:a.creator.did})]}):null},t[13]=y,t[14]=a,t[15]=v,t[16]=h,t[17]=S):S=t[17];const w=S;let T;t[18]===Symbol.for("react.memo_cache_sentinel")?(T=(0,qs.ios)(0),t[18]=T):T=t[18];const k=0!==j.length;let C;t[19]!==o||t[20]!==y||t[21]!==i||t[22]!==a||t[23]!==k?(C=(0,bt.jsx)(DT,{isLabelerLoading:o,labelerInfo:a,labelerError:i,hasValues:k,isSubscribed:y}),t[19]=o,t[20]=y,t[21]=i,t[22]=a,t[23]=k,t[24]=C):C=t[24];const I=d+180;let A,P;return t[25]!==I?(A=(0,bt.jsx)(xS,{height:I,style:qs.atoms.border_transparent}),t[25]=I,t[26]=A):A=t[26],t[27]!==d||t[28]!==j||t[29]!==w||t[30]!==c||t[31]!==A||t[32]!==C?(P=(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(ei.List,{ref:c,data:j,renderItem:w,keyExtractor:BT,contentContainerStyle:qs.atoms.px_xl,headerOffset:d,progressViewOffset:T,ListHeaderComponent:C,ListFooterComponent:A})}),t[27]=d,t[28]=j,t[29]=w,t[30]=c,t[31]=A,t[32]=C,t[33]=P):P=t[33],P}function LT(e){return e&&e?.configurable}function RT(e,t,s){return s.indexOf(e)===t}function BT(e){return e.identifier}function DT(e){const t=(0,n.c)(26),{isLabelerLoading:s,labelerError:o,labelerInfo:a,hasValues:r,isSubscribed:i}=e,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)();if(s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.py_4xl],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[0]=e):e=t[0],e}if(o||!a){let e,s,n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.py_4xl],t[1]=e):e=t[1],t[2]!==c||t[3]!==o?(s=o?.toString()||c({id:"y47vGS"}),t[2]=c,t[3]=o,t[4]=s):s=t[4],t[5]!==s?(n=(0,bt.jsx)(Fs.default,{style:e,children:(0,bt.jsx)(PT,{error:s})}),t[5]=s,t[6]=n):n=t[6],n}let d,u,m,h,p,f,g;return t[7]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.py_xl],t[7]=d):d=t[7],t[8]!==l.atoms.text_contrast_high?(u=[l.atoms.text_contrast_high,qs.atoms.leading_snug,qs.atoms.text_sm],t[8]=l.atoms.text_contrast_high,t[9]=u):u=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(dt.Trans,{id:"A93cBU"}),t[10]=m):m=t[10],t[11]!==u?(h=(0,bt.jsx)(co.Text,{style:u,children:m}),t[11]=u,t[12]=h):h=t[12],t[13]!==a?.creator.viewer?.blocking||t[14]!==l.atoms.text_contrast_high||t[15]!==l.atoms.text_contrast_medium?(p=a?.creator.viewer?.blocking?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,qs.atoms.mt_md],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm",fill:l.atoms.text_contrast_medium.color}),(0,bt.jsx)(co.Text,{style:[l.atoms.text_contrast_high,qs.atoms.leading_snug,qs.atoms.text_sm],children:(0,bt.jsx)(dt.Trans,{id:"Hxj2HM"})})]}):null,t[13]=a?.creator.viewer?.blocking,t[14]=l.atoms.text_contrast_high,t[15]=l.atoms.text_contrast_medium,t[16]=p):p=t[16],t[17]!==r||t[18]!==i||t[19]!==a||t[20]!==l.atoms.text_contrast_high?(f=r?i?null:(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_xl,l.atoms.text_contrast_high,qs.atoms.leading_snug,qs.atoms.text_sm],children:(0,bt.jsx)(dt.Trans,{id:"P1eYvx",values:{0:a.creator.handle}})}):(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_xl,l.atoms.text_contrast_high,qs.atoms.leading_snug,qs.atoms.text_sm],children:(0,bt.jsx)(dt.Trans,{id:"XU6PGV"})}),t[17]=r,t[18]=i,t[19]=a,t[20]=l.atoms.text_contrast_high,t[21]=f):f=t[21],t[22]!==h||t[23]!==p||t[24]!==f?(g=(0,bt.jsxs)(Fs.default,{style:d,children:[h,p,f]}),t[22]=h,t[23]=p,t[24]=f,t[25]=g):g=t[25],g}const OT=(0,ti.createSinglePathSVG)({viewBox:"0 0 62 53",path:"M28.173.231a5.653 5.653 0 0 1 7.018 3.83l2.66 9.046a20 20 0 0 1 3.986-.397c11.026 0 19.964 8.937 19.964 19.962l-.006.516c-.274 10.787-9.104 19.448-19.958 19.448l-.514-.007c-8.332-.21-15.394-5.528-18.178-12.938l-8.805 2.59a5.654 5.654 0 0 1-7.02-3.83L.232 14.34a5.654 5.654 0 0 1 3.83-7.018L28.172.23ZM41.838 14.71c-1.17 0-2.313.111-3.42.325l3.863 13.137a5.653 5.653 0 0 1-3.83 7.019L25.07 39.126c2.593 6.732 9.122 11.51 16.768 11.51 9.92 0 17.963-8.043 17.963-17.964S51.758 14.71 41.837 14.71ZM33.271 4.624a3.653 3.653 0 0 0-4.535-2.474L4.624 9.24a3.653 3.653 0 0 0-2.475 4.535l7.09 24.113a3.654 3.654 0 0 0 4.536 2.475l8.762-2.577a20 20 0 0 1-.662-5.114c0-8.961 5.905-16.544 14.037-19.069l-2.64-8.98Zm3.204 10.899c-7.302 2.28-12.601 9.096-12.601 17.15 0 1.571.203 3.095.582 4.548l13.431-3.948a3.654 3.654 0 0 0 2.474-4.536l-3.886-13.214Z"}),MT=(0,ti.createSinglePathSVG)({viewBox:"0 0 46 46",strokeLinecap:"square",strokeLinejoin:"round",strokeWidth:2,path:"M1 23h10.667M1 23V12m0 11v11m10.667-11h22.666m-22.666 0v11m0-11V12m22.666 11H45m-10.667 0v12.222m0-12.222V12M45 23V12m0 11v12.222M34.333 45h5.334A5.333 5.333 0 0 0 45 39.667v-4.445M34.333 45v-9.778m0 9.778H11.667M34.333 1h5.334A5.333 5.333 0 0 1 45 6.333V12M34.333 1v11m0-11H11.667m22.666 11H45M34.333 35.222H45M11.667 45H6.333A5.333 5.333 0 0 1 1 39.667V34m10.667 11V34m0-33H6.333A5.333 5.333 0 0 0 1 6.333V12M11.667 1v11M1 12h10.667M1 34h10.667"});(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 011-1h16a1 1 0 011 1v16a1 1 0 01-1 1H4a1 1 0 01-1-1V4Zm2 1v2h2V5H5Zm4 0v6h6V5H9Zm8 0v2h2V5h-2Zm2 4h-2v2h2V9Zm0 4h-2v2h2V13Zm0 4h-2V19h2ZM15 19v-6H9v6h6Zm-8 0v-2H5v2h2Zm-2-4h2v-2H5v2Zm0-4h2V9H5v2Z"});var FT=s(45310),NT=s(15488),HT=s(46320);function VT(e){const t=(0,n.c)(8),{style:s,gradient:o,children:a,start:r,end:i}=e,l=void 0===o?"sky":o,c=HT.gradients[l];let d;t[0]!==c.values?(d=c.values.map(zT),t[0]=c.values,t[1]=d):d=t[1];const u=d;if(l.length<2)throw new Error("Gradient must have at least 2 colors");let m;return t[2]!==a||t[3]!==u||t[4]!==i||t[5]!==r||t[6]!==s?(m=(0,bt.jsx)(Lo.LinearGradient,{colors:u,style:s,start:r,end:i,children:a}),t[2]=a,t[3]=u,t[4]=i,t[5]=r,t[6]=s,t[7]=m):m=t[7],m}function zT(e){const[,t]=e;return t}function UT(e){return e.uri}function WT(e){const t=(0,n.c)(45),{ref:s,scrollElRef:o,did:a,headerOffset:i,enabled:l,style:c,testID:d,setScrollViewTag:u,isMe:m,emptyStateMessage:h,emptyStateButton:p,emptyStateIcon:f}=e,g=(0,qs.useTheme)(),x=Zr(100),{height:_}=(0,Qr.default)(),[y,b]=(0,lt.useState)(!1);let j;t[0]!==a||t[1]!==l?(j={did:a,enabled:l},t[0]=a,t[1]=l,t[2]=j):j=t[2];const{data:v,refetch:S,isError:w,hasNextPage:T,isFetchingNextPage:k,fetchNextPage:C}=(0,$x.useActorStarterPacksQuery)(j),{isTabletOrDesktop:I}=(0,jn.useWebMediaQueries)();let A;t[3]!==v?.pages?(A=v?.pages.flatMap(QT),t[3]=v?.pages,t[4]=A):A=t[4];const P=A,{_:E}=(0,dt.useLingui)();let L;t[5]!==E||t[6]!==p||t[7]!==f||t[8]!==h?(L=()=>h||p||f?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.align_center,qs.atoms.justify_center],children:(0,bt.jsx)(pS.EmptyState,{icon:f,iconSize:"3xl",message:h??E({id:"2qh5oR"}),button:p})}):(0,bt.jsx)(ZT,{}),t[5]=E,t[6]=p,t[7]=f,t[8]=h,t[9]=L):L=t[9];const R=L;let B;(0,lt.useImperativeHandle)(s,GT),t[10]!==S?(B=async()=>{b(!0);try{await S()}catch(O){const t=O;Mt.logger.error("Failed to refresh starter packs",{message:t})}b(!1)},t[10]=S,t[11]=B):B=t[11];const D=B;let O;t[12]!==C||t[13]!==T||t[14]!==w||t[15]!==k?(O=async()=>{if(!k&&T&&!w)try{await C()}catch(F){const t=F;Mt.logger.error("Failed to load more starter packs",{message:t})}},t[12]=C,t[13]=T,t[14]=w,t[15]=k,t[16]=O):O=t[16];const M=O;let F,N,H;t[17]!==l||t[18]!==o||t[19]!==u?(F=()=>{if(r.IS_IOS&&l&&o.current){const e=(0,Vw.default)(o.current);u(e)}},N=[l,o,u],t[17]=l,t[18]=o,t[19]=u,t[20]=F,t[21]=N):(F=t[20],N=t[21]),(0,lt.useEffect)(F,N),t[22]!==I||t[23]!==g.atoms.border_contrast_low?(H=e=>{const{item:t,index:s}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,(I||0!==s)&&qs.atoms.border_t,g.atoms.border_contrast_low],children:(0,bt.jsx)(nm.Default,{starterPack:t})})},t[22]=I,t[23]=g.atoms.border_contrast_low,t[24]=H):H=t[24];const V=H,z=d?`${d}-flatlist`:void 0;let U;t[25]===Symbol.for("react.memo_cache_sentinel")?(U=(0,qs.ios)(0),t[25]=U):U=t[25];const W=_+i;let G;t[26]!==x||t[27]!==W?(G={minHeight:W,paddingBottom:x},t[26]=x,t[27]=W,t[28]=G):G=t[28];const q=v?m?R:void 0:yi,Q=v&&0!==P?.length&&m?KT:void 0;let K,Z;return t[29]!==i||t[30]!==y||t[31]!==P||t[32]!==M||t[33]!==D||t[34]!==V||t[35]!==o||t[36]!==G||t[37]!==q||t[38]!==Q||t[39]!==z?(K=(0,bt.jsx)(ei.List,{testID:z,ref:o,data:P,renderItem:V,keyExtractor:UT,refreshing:y,headerOffset:i,progressViewOffset:U,contentContainerStyle:G,removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:M,onRefresh:D,ListEmptyComponent:q,ListFooterComponent:Q}),t[29]=i,t[30]=y,t[31]=P,t[32]=M,t[33]=D,t[34]=V,t[35]=o,t[36]=G,t[37]=q,t[38]=Q,t[39]=z,t[40]=K):K=t[40],t[41]!==c||t[42]!==K||t[43]!==d?(Z=(0,bt.jsx)(Fs.default,{testID:d,style:c,children:K}),t[41]=c,t[42]=K,t[43]=d,t[44]=Z):Z=t[44],Z}function GT(){return{scrollToTop:qT}}function qT(){}function QT(e){return e.starterPacks}function KT(){const e=(0,n.c)(15),{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),o=(0,Ns.useNavigation)();let a,r,i,l,c,d,u,m;return e[0]!==s.atoms.border_contrast_low?(a=[qs.atoms.pr_md,qs.atoms.pt_lg,qs.atoms.gap_lg,qs.atoms.border_t,s.atoms.border_contrast_low],e[0]=s.atoms.border_contrast_low,e[1]=a):a=e[1],e[2]!==t?(r=t({id:"3AuP5f"}),e[2]=t,e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.self_center],e[4]=i):i=e[4],e[5]!==o?(l=()=>o.navigate("StarterPackWizard",{}),e[5]=o,e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"vgdzLf"})}),d=(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusSmall_Stroke2_Corner0_Rounded,position:"right"}),e[7]=c,e[8]=d):(c=e[7],d=e[8]),e[9]!==r||e[10]!==l?(u=(0,bt.jsxs)(ao.Button,{label:r,variant:"solid",color:"secondary",size:"small",style:i,onPress:l,children:[c,d]}),e[9]=r,e[10]=l,e[11]=u):u=e[11],e[12]!==a||e[13]!==u?(m=(0,bt.jsx)(Fs.default,{style:a,children:u}),e[12]=a,e[13]=u,e[14]=m):m=e[14],m}function ZT(){const e=(0,n.c)(95),{_:t}=(0,dt.useLingui)(),s=(0,Ns.useNavigation)(),o=(0,Qs.useDialogControl)(),a=(0,Qs.useDialogControl)(),r=(0,Qs.useDialogControl)(),i=Uo(),[l,c]=(0,lt.useState)(!1);let d,u,m;e[0]!==s?(d=e=>{const{uri:t}=e,o=(0,NT.parseStarterPackUri)(t);o&&s.push("StarterPack",{name:o.name,rkey:o.rkey}),c(!1)},e[0]=s,e[1]=d):d=e[1],e[2]!==r||e[3]!==a?(u=e=>{Mt.logger.error("Failed to generate starter pack",{safeMessage:e}),c(!1),e.message.includes("NOT_ENOUGH_FOLLOWERS")?a.open():r.open()},e[2]=r,e[3]=a,e[4]=u):u=e[4],e[5]!==d||e[6]!==u?(m={onSuccess:d,onError:u},e[5]=d,e[6]=u,e[7]=m):m=e[7];const{mutate:h}=(0,FT.useGenerateStarterPackMutation)(m);let p;e[8]!==h?(p=()=>{c(!0),h()},e[8]=h,e[9]=p):p=e[9];const f=p;let g;e[10]!==o?(g=()=>{o.open()},e[10]=o,e[11]=g):g=e[11];const x=g;let _,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(dt.Trans,{id:"KDnS5B"},"confirm"),e[12]=_):_=e[12],e[13]!==x||e[14]!==i?(y=i(x,{instructions:[_]}),e[13]=x,e[14]=i,e[15]=y):y=e[15];const b=y;let j;e[16]!==s?(j=()=>{s.navigate("StarterPackWizard",{})},e[16]=s,e[17]=j):j=e[17];const v=j;let S,w;e[18]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(dt.Trans,{id:"KDnS5B"},"nav"),e[18]=S):S=e[18],e[19]!==v||e[20]!==i?(w=i(v,{instructions:[S]}),e[19]=v,e[20]=i,e[21]=w):w=e[21];const T=w;let k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne;return e[22]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.px_lg,qs.atoms.py_lg,qs.atoms.justify_between,qs.atoms.gap_lg,qs.atoms.shadow_lg,{marginTop:qs.atoms.border.borderWidth}],e[22]=k):k=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.gap_xs],e[23]=C):C=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_lg,{color:"white"}],children:(0,bt.jsx)(dt.Trans,{id:"CD/DCp"})}),e[24]=I):I=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsxs)(Fs.default,{style:C,children:[I,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,{color:"white"}],children:(0,bt.jsx)(dt.Trans,{id:"aAdXV0"})})]}),e[25]=A):A=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.flex_row,qs.atoms.gap_md,{marginLeft:"auto"}],e[26]=P):P=e[26],e[27]!==t?(E=t({id:"zcyp9E"}),e[27]=t,e[28]=E):E=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(L={backgroundColor:"transparent"},e[29]=L):L=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(ao.ButtonText,{style:{color:"white"},children:(0,bt.jsx)(dt.Trans,{id:"YVfJEa"})}),e[30]=R):R=e[30],e[31]!==l?(B=l&&(0,bt.jsx)(lo.Loader,{size:"md"}),e[31]=l,e[32]=B):B=e[32],e[33]!==l||e[34]!==E||e[35]!==B||e[36]!==b?(D=(0,bt.jsxs)(ao.Button,{label:E,variant:"ghost",color:"primary",size:"small",disabled:l,onPress:b,style:L,children:[R,B]}),e[33]=l,e[34]=E,e[35]=B,e[36]=b,e[37]=D):D=e[37],e[38]!==t?(O=t({id:"3AuP5f"}),e[38]=t,e[39]=O):O=e[39],e[40]===Symbol.for("react.memo_cache_sentinel")?(M={backgroundColor:"white",borderColor:"white",width:100},F=[{backgroundColor:"#dfdfdf"}],e[40]=M,e[41]=F):(M=e[40],F=e[41]),e[42]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hYgDIe"})}),e[42]=N):N=e[42],e[43]!==l||e[44]!==O||e[45]!==T?(H=(0,bt.jsx)(ao.Button,{label:O,variant:"ghost",color:"primary",size:"small",disabled:l,onPress:T,style:M,hoverStyle:F,children:N}),e[43]=l,e[44]=O,e[45]=T,e[46]=H):H=e[46],e[47]!==D||e[48]!==H?(V=(0,bt.jsxs)(Fs.default,{style:P,children:[D,H]}),e[47]=D,e[48]=H,e[49]=V):V=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(Zi.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"f/pBtT"})}),e[50]=z):z=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsxs)(Zi.Content,{children:[z,(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"TtIdRW"})})]}),e[51]=U):U=e[51],e[52]!==t?(W=t({id:"pMBdo7"}),e[52]=t,e[53]=W):W=e[53],e[54]!==f||e[55]!==W?(G=(0,bt.jsx)(Zi.Action,{color:"primary",cta:W,onPress:f}),e[54]=f,e[55]=W,e[56]=G):G=e[56],e[57]!==t?(q=t({id:"XwrMb0"}),e[57]=t,e[58]=q):q=e[58],e[59]!==s?(Q=()=>{s.navigate("StarterPackWizard",{})},e[59]=s,e[60]=Q):Q=e[60],e[61]!==q||e[62]!==Q?(K=(0,bt.jsx)(Zi.Action,{color:"secondary",cta:q,onPress:Q}),e[61]=q,e[62]=Q,e[63]=K):K=e[63],e[64]!==G||e[65]!==K?(Z=(0,bt.jsxs)(Zi.Actions,{children:[G,K]}),e[64]=G,e[65]=K,e[66]=Z):Z=e[66],e[67]!==o||e[68]!==Z?(Y=(0,bt.jsxs)(Zi.Outer,{control:o,children:[U,Z]}),e[67]=o,e[68]=Z,e[69]=Y):Y=e[69],e[70]!==t?($=t({id:"5yIPLp"}),e[70]=t,e[71]=$):$=e[71],e[72]!==t?(X=t({id:"x2MuKw"}),e[72]=t,e[73]=X):X=e[73],e[74]!==a||e[75]!==$||e[76]!==X?(J=(0,bt.jsx)(Zi.Basic,{control:a,title:$,description:X,onConfirm:YT,showCancel:!1}),e[74]=a,e[75]=$,e[76]=X,e[77]=J):J=e[77],e[78]!==t?(ee=t({id:"5yIPLp"}),e[78]=t,e[79]=ee):ee=e[79],e[80]!==t?(te=t({id:"yo/HQv"}),e[80]=t,e[81]=te):te=e[81],e[82]!==t?(se=t({id:"6gRgw8"}),e[82]=t,e[83]=se):se=e[83],e[84]!==r||e[85]!==f||e[86]!==ee||e[87]!==te||e[88]!==se?(oe=(0,bt.jsx)(Zi.Basic,{control:r,title:ee,description:te,onConfirm:f,confirmButtonCta:se}),e[84]=r,e[85]=f,e[86]=ee,e[87]=te,e[88]=se,e[89]=oe):oe=e[89],e[90]!==V||e[91]!==Y||e[92]!==J||e[93]!==oe?(ne=(0,bt.jsxs)(VT,{style:k,children:[A,V,Y,J,oe]}),e[90]=V,e[91]=Y,e[92]=J,e[93]=oe,e[94]=ne):ne=e[94],ne}function YT(){}function $T({children:e}){return e}function XT(e){const t=(0,n.c)(3);let s,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.pt_0],t[0]=s):s=t[0],t[1]!==e?(o=(0,bt.jsx)(ya.Screen,{testID:"profileScreen",style:s,children:(0,bt.jsx)(JT,Object.assign({},e))}),t[1]=e,t[2]=o):o=t[2],o}function JT(e){const t=(0,n.c)(37),{route:s}=e,{_:o}=(0,dt.useLingui)(),{currentAccount:a}=(0,Gt.useSession)(),r=(0,On.useQueryClient)(),i="me"===s.params.name?a?.did:s.params.name,l=(0,ds.useModerationOpts)(),{data:c,error:d,refetch:u,isPending:m}=(0,_r.useResolveDidQuery)(i);let h;t[0]!==c?(h={did:c},t[0]=c,t[1]=h):h=t[1];const{data:p,error:f,refetch:g,isPlaceholderData:x,isPending:_}=(0,Ut.useProfileQuery)(h);let y;t[2]!==u||t[3]!==g||t[4]!==d?(y=()=>{d?u():g()},t[2]=u,t[3]=g,t[4]=d,t[5]=y):y=t[5];const b=y;let j,v,S;t[6]!==i||t[7]!==d?(j=()=>{d&&"lulaoficial.bsky.social"===i&&FV("Profile",{name:"lula.com.br"})},v=[i,d],t[6]=i,t[7]=d,t[8]=j,t[9]=v):(j=t[8],v=t[9]),(0,lt.useEffect)(j,v),t[10]!==p?.viewer?.blockedBy||t[11]!==r||t[12]!==c?(S=()=>{c&&p?.viewer?.blockedBy&&(0,Jr.resetProfilePostsQueries)(r,c)},t[10]=p?.viewer?.blockedBy,t[11]=r,t[12]=c,t[13]=S):S=t[13];const w=p?.viewer?.blockedBy;let T,k,C;if(t[14]!==r||t[15]!==c||t[16]!==w?(T=[r,w,c],t[14]=r,t[15]=c,t[16]=w,t[17]=T):T=t[17],(0,lt.useEffect)(S,T),m||_){let e;return t[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(ya.Content,{children:(0,bt.jsx)(pT,{})}),t[18]=e):e=t[18],e}if(d||f){let e,s;t[19]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.flex_1],t[19]=e):e=t[19],t[20]!==o||t[21]!==f?(s=o(f?{id:"pAtylB"}:{id:"5yIPLp"}),t[20]=o,t[21]=f,t[22]=s):s=t[22];const n=d||f;let a,r;return t[23]!==n?(a=(0,Tn.cleanError)(n),t[23]=n,t[24]=a):a=t[24],t[25]!==b||t[26]!==a||t[27]!==s?(r=(0,bt.jsx)(Nw.SafeAreaView,{style:e,children:(0,bt.jsx)(lh,{testID:"profileErrorScreen",title:s,message:a,onPressTryAgain:b,showHeader:!0})}),t[25]=b,t[26]=a,t[27]=s,t[28]=r):r=t[28],r}if(p&&l){const e=!!s.params.hideBackButton;let o;return t[29]!==x||t[30]!==l||t[31]!==p||t[32]!==e?(o=(0,bt.jsx)(ek,{profile:p,moderationOpts:l,isPlaceholderProfile:x,hideBackButton:e}),t[29]=x,t[30]=l,t[31]=p,t[32]=e,t[33]=o):o=t[33],o}return t[34]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.flex_1],t[34]=k):k=t[34],t[35]!==b?(C=(0,bt.jsx)(Nw.SafeAreaView,{style:k,children:(0,bt.jsx)(lh,{testID:"profileErrorScreen",title:"Oops!",message:"Something went wrong and we're not sure what.",onPressTryAgain:b,showHeader:!0})}),t[35]=b,t[36]=C):C=t[36],C}function ek({profile:e,isPlaceholderProfile:t,moderationOpts:s,hideBackButton:o}){const a=(0,Va.useProfileShadow)(e),{hasSession:r,currentAccount:i}=(0,Gt.useSession)(),l=(0,hs.useSetMinimalShellMode)(),{openComposer:c}=Wo(),d=(0,Ns.useNavigation)(),u=Uo(),{data:m,error:h,isLoading:p}=(0,Hw.useLabelerInfoQuery)({did:a.did,enabled:!!a.associated?.labeler}),[f,g]=(0,lt.useState)(0),{_:x}=(0,dt.useLingui)(),[_,y]=(0,lt.useState)(null),b=(0,lt.useRef)(null),j=(0,lt.useRef)(null),v=(0,lt.useRef)(null),S=(0,lt.useRef)(null),w=(0,lt.useRef)(null),T=(0,lt.useRef)(null),k=(0,lt.useRef)(null),C=(0,lt.useRef)(null),I=(0,lt.useRef)(null);ov((0,Ma.combinedDisplayName)(a));const A=a.description??"",P=""!==A,[E,L]=function(e){const t=(0,n.c)(9),s=(0,Gt.useAgent)(),[o,a]=(0,lt.useState)(e);let r;t[0]!==e?(r=()=>new Dn.RichText({text:e}),t[0]=e,t[1]=r):r=t[1];const[i,l]=(0,lt.useState)(r),[c,d]=(0,lt.useState)(null);e!==o&&(a(e),l(new Dn.RichText({text:e})),d(null));let u,m;t[2]!==s||t[3]!==e?(u=()=>{let t=!1;return async function(){const o=new Dn.RichText({text:e});await o.detectFacets(s),t||d(o)}(),()=>{t=!0}},m=[e,s],t[2]=s,t[3]=e,t[4]=u,t[5]=m):(u=t[4],m=t[5]);(0,lt.useEffect)(u,m);const h=null===c,p=c??i;let f;t[6]!==h||t[7]!==p?(f=[p,h],t[6]=h,t[7]=p,t[8]=f):f=t[8];return f}(A),R=t||L,B=(0,lt.useMemo)((()=>(0,Dn.moderateProfile)(a,s)),[a,s]),D=a.did===i?.did,O=!!a.associated?.labeler,M=O,F=r,N=!O,H=!O,V=D,z=a.associated?.feedgens||0,U=D||z>0,W=a.associated?.starterPacks||0,G=D||W>0,q=(a.associated?.lists||0)-W,Q=r&&(D||q>0),K=[M?x({id:"h8DugX"}):void 0,Q&&O?x({id:"h16FyT"}):void 0,x({id:"+owNNn"}),F?x({id:"N8UzTV"}):void 0,N?x({id:"xYilR2"}):void 0,H?x({id:"RKuImK"}):void 0,V?x({id:"zZOZj7"}):void 0,U?x({id:"2DoBvq"}):void 0,G?x({id:"vKtclE"}):void 0,Q&&!O?x({id:"h16FyT"}):void 0].filter(Boolean);let Z=0,Y=null,$=null,X=null,J=null,ee=null,te=null,se=null,oe=null,ne=null;M&&(Y=Z++),$=Z++,F&&(X=Z++),N&&(J=Z++),H&&(ee=Z++),V&&(te=Z++),U&&(se=Z++),G&&(oe=Z++),Q&&(ne=Z++);const ae=(0,lt.useCallback)((e=>{e===Y?I.current?.scrollToTop():e===$?b.current?.scrollToTop():e===X?j.current?.scrollToTop():e===J?v.current?.scrollToTop():e===ee?S.current?.scrollToTop():e===te?w.current?.scrollToTop():e===se?T.current?.scrollToTop():e===oe?C.current?.scrollToTop():e===ne&&k.current?.scrollToTop()}),[Y,$,X,J,ee,te,se,ne,oe]);(0,Ns.useFocusEffect)((0,lt.useCallback)((()=>(l(!1),(0,_t.listenSoftReset)((()=>{ae(f)})))),[l,f,ae]));const re=u((0,lt.useCallback)((()=>{d.navigate("StarterPackWizard",{})}),[d]),{instructions:[(0,bt.jsx)(dt.Trans,{id:"KDnS5B"},"nav")]});return(0,bt.jsxs)(Rb,{testID:"profileView",style:tk.container,screenDescription:x({id:"bbvfbr"}),modui:B.ui("profileView"),children:[(0,bt.jsxs)(eT,{testID:"profilePager",isHeaderReady:!R,items:K,onPageSelected:e=>{g(e)},onCurrentPageSelected:e=>{ae(e)},renderHeader:({setMinimumHeight:e})=>(0,bt.jsx)($T,{scrollViewTag:_,children:(0,bt.jsx)(fT,{profile:a,labeler:m,descriptionRT:P?E:null,moderationOpts:s,hideBackButton:o,isPlaceholderProfile:R,setMinimumHeight:e})}),allowHeaderOverScroll:!0,children:[M?({headerHeight:e,isFocused:t,scrollElRef:o})=>(0,bt.jsx)(ET,{ref:I,labelerInfo:m,labelerError:h,isLabelerLoading:p,moderationOpts:s,scrollElRef:o,headerHeight:e,isFocused:t,setScrollViewTag:y}):null,Q&&a.associated?.labeler?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(Xw,{ref:k,did:a.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:y}):null,({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(vT,{ref:b,feed:`author|${a.did}|posts_and_author_threads`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:a.did,setScrollViewTag:y,emptyStateMessage:x({id:"4igebd"}),emptyStateButton:D?{label:x({id:"OFkFFX"}),text:x({id:"OFkFFX"}),onPress:()=>c({logContext:"ProfileFeed"}),size:"small",color:"primary"}:void 0}),F?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(vT,{ref:j,feed:`author|${a.did}|posts_with_replies`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:a.did,setScrollViewTag:y,emptyStateMessage:x({id:"qH9JEF"}),emptyStateIcon:_y}):null,N?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(vT,{ref:v,feed:`author|${a.did}|posts_with_media`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:a.did,setScrollViewTag:y,emptyStateMessage:x({id:"A/osbv"}),emptyStateButton:D?{label:x({id:"qPAjOZ"}),text:x({id:"qPAjOZ"}),onPress:()=>c({logContext:"ProfileFeed"}),size:"small",color:"primary"}:void 0,emptyStateIcon:yu}):null,H?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(vT,{ref:S,feed:`author|${a.did}|posts_with_video`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:a.did,setScrollViewTag:y,emptyStateMessage:x({id:"5IcgmI"}),emptyStateButton:D?{label:x({id:"BFZGDO"}),text:x({id:"BFZGDO"}),onPress:()=>c({logContext:"ProfileFeed"}),size:"small",color:"primary"}:void 0,emptyStateIcon:MT}):null,V?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(vT,{ref:w,feed:`likes|${a.did}`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:a.did,setScrollViewTag:y,emptyStateMessage:x({id:"LFwnn2"}),emptyStateIcon:ai}):null,U?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(qw,{ref:T,did:a.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:y}):null,G?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(WT,{ref:C,did:a.did,isMe:D,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:y,emptyStateMessage:x(D?{id:"Z793AV"}:{id:"W603W/"}),emptyStateButton:D?{label:x({id:"ip5Lzg"}),text:x({id:"ip5Lzg"}),onPress:re,color:"primary",size:"small"}:void 0,emptyStateIcon:OT}):null,Q&&!a.associated?.labeler?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,bt.jsx)(Xw,{ref:k,did:a.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:y}):null]}),r&&(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:()=>{const e=a.handle===i?.handle||(0,Fa.isInvalidHandle)(a.handle)?void 0:a.handle;c({mention:e,logContext:"ProfileFeed"})},icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:kn.s.white}),accessibilityRole:"button",accessibilityLabel:x({id:"2B7HLH"}),accessibilityHint:""})]})}const tk=Os.default.create({container:{flexDirection:"column",height:"100%",overflowAnchor:"none"},loading:{paddingVertical:10,paddingHorizontal:14},emptyState:{paddingVertical:40},loadingMoreFooter:{paddingVertical:20},endItem:{paddingTop:20,paddingBottom:30,color:kn.colors.gray5,textAlign:"center"}});var sk=s(73818);function ok(e){const t=(0,n.c)(14),{profile:s,noBorder:o,logContext:a,position:r,contextProfileDid:i}=e,l=void 0===a?"ProfileCard":a,c=(0,qs.useTheme)(),d=(0,ds.useModerationOpts)();if(!d)return null;let u,m,h,p;return t[0]!==o||t[1]!==c?(u=!o&&[qs.atoms.border_t,c.atoms.border_contrast_low],t[0]=o,t[1]=c,t[2]=u):u=t[2],t[3]!==u?(m=[qs.atoms.py_md,qs.atoms.px_xl,u],t[3]=u,t[4]=m):m=t[4],t[5]!==i||t[6]!==l||t[7]!==d||t[8]!==r||t[9]!==s?(h=(0,bt.jsx)(Rl.Default,{profile:s,moderationOpts:d,logContext:l,position:r,contextProfileDid:i}),t[5]=i,t[6]=l,t[7]=d,t[8]=r,t[9]=s,t[10]=h):h=t[10],t[11]!==m||t[12]!==h?(p=(0,bt.jsx)(Fs.default,{style:m,children:h}),t[11]=m,t[12]=h,t[13]=p):p=t[13],p}function nk({item:e,index:t}){return(0,bt.jsx)(ok,{profile:e.actor,noBorder:0===t},e.actor.did)}function ak(e){return e.actor.did}function rk(e){const t=(0,n.c)(35),{uri:s}=e,{_:o}=(0,dt.useLingui)(),a=$r(),[r,i]=(0,lt.useState)(!1),{data:l,error:c,isLoading:d}=(0,_r.useResolveUriQuery)(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=(0,sk.useLikedByQuery)(l?.uri),_=Boolean(c||g);let y;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(ik),t[0]=u.pages,t[1]=e):e=t[1],y=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],y=e}const b=y;let j;t[3]!==x?(j=async()=>{i(!0);try{await x()}catch(S){const t=S;Mt.logger.error("Failed to refresh likes",{message:t})}i(!1)},t[3]=x,t[4]=j):j=t[4];const v=j;let S;t[5]!==f||t[6]!==p||t[7]!==_||t[8]!==h?(S=async()=>{if(!h&&p&&!_)try{await f()}catch(T){const t=T;Mt.logger.error("Failed to load more likes",{message:t})}},t[5]=f,t[6]=p,t[7]=_,t[8]=h,t[9]=S):S=t[9];const w=S;if(b.length<1){const e=d||m;let s,n;t[10]!==o?(s=o({id:"LFwnn2"}),t[10]=o,t[11]=s):s=t[11],t[12]!==o?(n=o({id:"o6HS3Q"}),t[12]=o,t[13]=n):n=t[13];const a=c||g;let r,i;return t[14]!==a?(r=(0,Tn.cleanError)(a),t[14]=a,t[15]=r):r=t[15],t[16]!==_||t[17]!==e||t[18]!==s||t[19]!==n||t[20]!==r?(i=(0,bt.jsx)(yS,{isLoading:e,isError:_,emptyType:"results",emptyTitle:s,emptyMessage:n,errorMessage:r,sideBorders:!1,topBorder:!1}),t[16]=_,t[17]=e,t[18]=s,t[19]=n,t[20]=r,t[21]=i):i=t[21],i}let T,k,C;return t[22]!==g?(T=(0,Tn.cleanError)(g),t[22]=g,t[23]=T):T=t[23],t[24]!==f||t[25]!==h||t[26]!==T?(k=(0,bt.jsx)(xS,{isFetchingNextPage:h,error:T,onRetry:f}),t[24]=f,t[25]=h,t[26]=T,t[27]=k):k=t[27],t[28]!==a||t[29]!==r||t[30]!==b||t[31]!==w||t[32]!==v||t[33]!==k?(C=(0,bt.jsx)(ei.List,{data:b,renderItem:nk,keyExtractor:ak,refreshing:r,onRefresh:v,onEndReached:w,onEndReachedThreshold:4,ListFooterComponent:k,desktopFixedHeight:!0,initialNumToRender:a,windowSize:11,sideBorders:!1}),t[28]=a,t[29]=r,t[30]=b,t[31]=w,t[32]=v,t[33]=k,t[34]=C):C=t[34],C}function ik(e){return e.likes}const lk=e=>{const t=(0,n.c)(9),{route:s}=e,o=(0,hs.useSetMinimalShellMode)(),{name:a,rkey:r}=s.params;let i;t[0]!==a||t[1]!==r?(i=(0,zt.makeRecordUri)(a,"app.bsky.feed.generator",r),t[0]=a,t[1]=r,t[2]=i):i=t[2];const l=i;let c,d,u,m;return t[3]!==o?(c=()=>{o(!1)},t[3]=o,t[4]=c):c=t[4],(0,Ns.useFocusEffect)(c),t[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.BackButton,{}),t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(ya.Header.Outer,{children:[d,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"d2RphL"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[6]=u):u=t[6],t[7]!==l?(m=(0,bt.jsxs)(ya.Screen,{testID:"postLikedByScreen",children:[u,(0,bt.jsx)(rk,{uri:l})]}),t[7]=l,t[8]=m):m=t[8],m},ck=(0,lt.lazy)((()=>s.e(865).then(s.bind(s,9865))));function dk(){const e=(0,n.c)(3);let t,s,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(ya.Header.BackButton,{}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsxs)(ya.Header.Outer,{children:[t,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:"Storybook"})}),(0,bt.jsx)(ya.Header.Slot,{})]}),e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsxs)(ya.Screen,{children:[s,(0,bt.jsx)(ya.Content,{keyboardShouldPersistTaps:"handled",children:(0,bt.jsx)(lt.Suspense,{fallback:null,children:(0,bt.jsx)(ck,{})})})]}),e[2]=o):o=e[2],o}const uk=e=>{const t=(0,n.c)(28),s=(0,bn.usePalette)("default"),o=(0,hs.useSetMinimalShellMode)(),{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m,h,p,f,g,x,_;return t[0]!==o?(r=()=>{o(!1)},t[0]=o,t[1]=r):r=t[1],(0,Ns.useFocusEffect)(r),t[2]!==a?(i=a({id:"XYLcNv"}),t[2]=a,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(ka,{title:i}),t[4]=i,t[5]=l):l=t[5],t[6]!==s.text?(c=[s.text,kn.s.p20,kn.s.pb5],t[6]=s.text,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dt.Trans,{id:"XYLcNv"}),t[8]=d):d=t[8],t[9]!==c?(u=(0,bt.jsx)(ua.Text,{type:"title-xl",style:c,children:d}),t[9]=c,t[10]=u):u=t[10],t[11]!==s.text?(m=[s.text,kn.s.p20],t[11]=s.text,t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h={HELP_DESK_URL:Vt.HELP_DESK_URL},t[13]=h):h=t[13],t[14]!==a?(p=a({id:"EYeuMv"}),t[14]=a,t[15]=p):p=t[15],t[16]!==s.link||t[17]!==p?(f=(0,bt.jsx)(dt.Trans,{id:"LbqR5C",values:h,components:{0:(0,bt.jsx)(ga,{href:Vt.HELP_DESK_URL,text:p,style:s.link})}}),t[16]=s.link,t[17]=p,t[18]=f):f=t[18],t[19]!==m||t[20]!==f?(g=(0,bt.jsx)(ua.Text,{style:m,children:f}),t[19]=m,t[20]=f,t[21]=g):g=t[21],t[22]!==g||t[23]!==u?(x=(0,bt.jsxs)(Sa,{children:[u,g]}),t[22]=g,t[23]=u,t[24]=x):x=t[24],t[25]!==x||t[26]!==l?(_=(0,bt.jsxs)(ya.Screen,{children:[l,x]}),t[25]=x,t[26]=l,t[27]=_):_=t[27],_},mk=e=>{const t=(0,n.c)(22),s=(0,bn.usePalette)("default"),o=(0,hs.useSetMinimalShellMode)(),{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m,h,p,f,g;return t[0]!==o?(r=()=>{o(!1)},t[0]=o,t[1]=r):r=t[1],(0,Ns.useFocusEffect)(r),t[2]!==a?(i=a({id:"xowcRf"}),t[2]=a,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(ka,{title:i}),t[4]=i,t[5]=l):l=t[5],t[6]!==s.view?(c=[kn.s.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[kn.s.p20],t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(dt.Trans,{id:"FGbRSr"}),t[9]=u):u=t[9],t[10]!==s.link?(m=(0,bt.jsx)(ga,{style:s.link,href:"https://bsky.social/about/support/tos",text:"bsky.social/about/support/tos"}),t[10]=s.link,t[11]=m):m=t[11],t[12]!==s.text||t[13]!==m?(h=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsxs)(ua.Text,{style:s.text,children:[u," ",m]})}),t[12]=s.text,t[13]=m,t[14]=h):h=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(Fs.default,{style:kn.s.footerSpacer}),t[15]=p):p=t[15],t[16]!==c||t[17]!==h?(f=(0,bt.jsxs)(wa,{style:c,children:[h,p]}),t[16]=c,t[17]=h,t[18]=f):f=t[18],t[19]!==l||t[20]!==f?(g=(0,bt.jsxs)(ya.Screen,{children:[l,f]}),t[19]=l,t[20]=f,t[21]=g):g=t[21],g};s(22057),s(54590);function hk(){return(0,Ns.useNavigationState)(pk)}function pk(e){const t=e?Kn(e).name:"Home";return{isAtHome:"Home"===t,isAtSearch:"Search"===t,isAtNotifications:"Notifications"===t,isAtMyProfile:"MyProfile"===t,isAtMessages:"Messages"===t}}const fk=["fill"],gk=17/64;function xk(e){const t=(0,n.c)(10);let s,o;if(t[0]!==e){var a=e;({fill:s}=a),o=(0,ta.default)(a,fk),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const r=(0,bn.usePalette)("default"),i=parseInt(o.width||32),l=Number(i)*gk,c=s||r.text.color;let d,u;return t[3]!==c?(d=(0,bt.jsx)(Su.Path,{fill:c,d:"M8.478 6.252c1.503.538 2.3 1.78 2.3 3.172 0 2.356-1.576 3.785-4.6 3.785H0V0h5.974c2.875 0 4.267 1.466 4.267 3.413 0 1.3-.594 2.245-1.763 2.839Zm-2.69-4.193H2.504v3.45h3.284c1.28 0 1.967-.667 1.967-1.78 0-1.02-.705-1.67-1.967-1.67Zm-3.284 9.072h3.544c1.41 0 2.17-.65 2.17-1.818 0-1.224-.723-1.837-2.17-1.837H2.504v3.655ZM14.251 13.209h-2.337V0h2.337v13.209ZM22.001 8.998V3.636h2.338v9.573h-2.263v-1.392c-.724 1.076-1.726 1.614-3.006 1.614-2.022 0-3.34-1.224-3.34-3.45V3.636h2.338v5.955c0 1.206.594 1.818 1.8 1.818 1.132 0 2.133-.835 2.133-2.411ZM34.979 8.59v.556h-7.161c.167 1.651 1.076 2.467 2.486 2.467 1.076 0 1.8-.463 2.189-1.372h2.244c-.5 1.947-2.17 3.19-4.452 3.19-1.428 0-2.579-.463-3.45-1.372-.872-.91-1.318-2.115-1.318-3.637 0-1.502.427-2.708 1.299-3.636.872-.909 2.004-1.372 3.432-1.372 1.447 0 2.597.482 3.45 1.428.854.946 1.28 2.208 1.28 3.747Zm-4.75-3.358c-1.28 0-2.17.742-2.393 2.281h4.805c-.204-1.391-1.057-2.281-2.411-2.281ZM40.16 13.469c-2.783 0-4.249-1.095-4.379-3.303h2.282c.13 1.188.724 1.633 2.134 1.633 1.261 0 1.892-.39 1.892-1.15 0-.687-.445-1.02-1.874-1.262l-1.094-.185c-2.097-.353-3.136-1.318-3.136-2.894 0-1.8 1.429-2.894 3.97-2.894 2.728 0 4.138 1.075 4.23 3.246h-2.207c-.056-1.169-.742-1.577-2.023-1.577-1.113 0-1.67.371-1.67 1.113 0 .668.483.965 1.596 1.169l1.206.186c2.32.426 3.32 1.28 3.32 2.912 0 1.93-1.557 3.006-4.247 3.006ZM54.667 13.209h-2.671l-2.783-4.453-1.447 1.447v3.006h-2.3V0h2.3v7.606l3.896-3.97h2.783l-3.618 3.618 3.84 5.955ZM60.772 6.048l.78-2.412H64l-3.692 10.352c-.39 1.057-.872 1.818-1.484 2.245-.612.426-1.484.63-2.634.63-.39 0-.724-.018-1.02-.055V14.97h.89c1.057 0 1.577-.65 1.577-1.54 0-.445-.149-1.094-.446-1.929l-2.746-7.866h2.487l.779 2.393c.575 1.8 1.076 3.58 1.521 5.343.408-1.521.928-3.302 1.54-5.324Z"}),t[3]=c,t[4]=d):d=t[4],t[5]!==o||t[6]!==i||t[7]!==l||t[8]!==d?(u=(0,bt.jsx)(Su.default,Object.assign({fill:"none",viewBox:"0 0 64 17"},o,{width:i,height:l,children:d})),t[5]=o,t[6]=i,t[7]=l,t[8]=d,t[9]=u):u=t[9],u}var _k=s(16006);function yk(e){const t=(0,n.c)(38),{onSelectAccount:s,onSelectOther:o,otherLabel:a,pendingDid:r}=e,{currentAccount:i,accounts:l}=(0,Gt.useSession)(),c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)();let u,m;t[0]!==l?(u=l.map(bk),t[0]=l,t[1]=u):u=t[1],t[2]!==u?(m={handles:u},t[2]=u,t[3]=m):m=t[3];const{data:h}=(0,Ut.useProfilesQuery)(m);let p;t[4]!==o?(p=()=>{o()},t[4]=o,t[5]=p):p=t[5];const f=p,g=r?"none":"auto";let x,_,y;if(t[6]!==c.atoms.border_contrast_low?(x=[qs.atoms.rounded_lg,qs.atoms.overflow_hidden,qs.atoms.border,c.atoms.border_contrast_low],t[6]=c.atoms.border_contrast_low,t[7]=x):x=t[7],t[8]!==l||t[9]!==i?.did||t[10]!==s||t[11]!==r||t[12]!==h?.profiles||t[13]!==c.atoms.border_contrast_low){let e;t[15]!==i?.did||t[16]!==s||t[17]!==r||t[18]!==h?.profiles||t[19]!==c.atoms.border_contrast_low?(e=e=>(0,bt.jsxs)(lt.Fragment,{children:[(0,bt.jsx)(jk,{profile:h?.profiles.find((t=>t.did===e.did)),account:e,onSelect:s,isCurrentAccount:e.did===i?.did,isPendingAccount:e.did===r}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_b,c.atoms.border_contrast_low]})]},e.did),t[15]=i?.did,t[16]=s,t[17]=r,t[18]=h?.profiles,t[19]=c.atoms.border_contrast_low,t[20]=e):e=t[20],_=l.map(e),t[8]=l,t[9]=i?.did,t[10]=s,t[11]=r,t[12]=h?.profiles,t[13]=c.atoms.border_contrast_low,t[14]=_}else _=t[14];t[21]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1],t[21]=y):y=t[21];const b=r?void 0:f;let j,v,S,w;return t[22]!==d?(j=d({id:"YtMlod"}),t[22]=d,t[23]=j):j=t[23],t[24]!==a||t[25]!==c.atoms.bg_contrast_25||t[26]!==c.atoms.bg_contrast_50||t[27]!==c.atoms.text_contrast_low?(v=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.p_lg,qs.atoms.gap_sm,(t||s)&&c.atoms.bg_contrast_25],children:[(0,bt.jsx)(Fs.default,{style:[c.atoms.bg_contrast_25,qs.atoms.rounded_full,{width:48,height:48},qs.atoms.justify_center,qs.atoms.align_center,(t||s)&&c.atoms.bg_contrast_50],children:(0,bt.jsx)(zg.PlusLarge_Stroke2_Corner0_Rounded,{style:[c.atoms.text_contrast_low],size:"md"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.leading_tight,qs.atoms.text_md,qs.atoms.font_medium],children:a??(0,bt.jsx)(dt.Trans,{id:"b22AVl"})}),(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"md",style:[c.atoms.text_contrast_low]})]})},t[24]=a,t[25]=c.atoms.bg_contrast_25,t[26]=c.atoms.bg_contrast_50,t[27]=c.atoms.text_contrast_low,t[28]=v):v=t[28],t[29]!==v||t[30]!==b||t[31]!==j?(S=(0,bt.jsx)(ao.Button,{testID:"chooseAddAccountBtn",style:y,onPress:b,label:j,children:v}),t[29]=v,t[30]=b,t[31]=j,t[32]=S):S=t[32],t[33]!==S||t[34]!==g||t[35]!==x||t[36]!==_?(w=(0,bt.jsxs)(Fs.default,{pointerEvents:g,style:x,children:[_,S]}),t[33]=S,t[34]=g,t[35]=x,t[36]=_,t[37]=w):w=t[37],w}function bk(e){return e.did}function jk(e){const t=(0,n.c)(34),{profile:s,account:o,onSelect:a,isCurrentAccount:r,isPendingAccount:i}=e,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)();let d;t[0]!==s?(d={profile:s},t[0]=s,t[1]=d):d=t[1];const u=(0,Nu.useSimpleVerificationState)(d),{isActive:m}=(0,Ra.useActorStatus)(s);let h;t[2]!==o||t[3]!==a?(h=()=>{a(o)},t[2]=o,t[3]=a,t[4]=h):h=t[4];const p=h;let f;t[5]!==o.refreshJwt?(f=!o.refreshJwt||(0,_k.isJwtExpired)(o.refreshJwt),t[5]=o.refreshJwt,t[6]=f):f=t[6];const g=f,x=`chooseAccountBtn-${o.handle}`;let _,y,b,j;return t[7]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.w_full],t[7]=_):_=t[7],t[8]!==c||t[9]!==o.handle||t[10]!==r?(y=c(r?{id:"wQnVXy",values:{0:o.handle}}:{id:"N9o7n5",values:{0:o.handle}}),t[8]=c,t[9]=o.handle,t[10]=r,t[11]=y):y=t[11],t[12]!==o.handle||t[13]!==r||t[14]!==g||t[15]!==i||t[16]!==m||t[17]!==s?.associated?.labeler||t[18]!==s?.avatar||t[19]!==s?.displayName||t[20]!==s?.handle||t[21]!==l.atoms.bg_contrast_25||t[22]!==l.atoms.text_contrast_low||t[23]!==l.atoms.text_contrast_medium||t[24]!==l.palette||t[25]!==u.role||t[26]!==u.showBadge?(b=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.p_lg,qs.atoms.gap_sm,(t||n||i)&&l.atoms.bg_contrast_25],children:[(0,bt.jsx)(Gi.UserAvatar,{avatar:s?.avatar,size:48,type:s?.associated?.labeler?"labeler":"user",live:m,hideLiveBadge:!0}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs,qs.atoms.pr_2xl],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.font_medium,qs.atoms.leading_tight,qs.atoms.text_md],numberOfLines:1,children:(0,Ma.sanitizeDisplayName)(s?.displayName||s?.handle||o.handle)}),u.showBadge&&(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Hu.VerificationCheck,{width:12,verifier:"verifier"===u.role})})]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_tight,l.atoms.text_contrast_medium,qs.atoms.text_sm],children:(0,Fa.sanitizeHandle)(o.handle,"@")}),g&&(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_tight,qs.atoms.text_xs,qs.atoms.italic,l.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"mxY4xF"})})]}),r?(0,bt.jsx)(Fs.default,{style:[{width:20,height:20,backgroundColor:l.palette.positive_500},qs.atoms.rounded_full,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{size:"xs",style:[{color:l.palette.white}]})}):(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"md",style:[l.atoms.text_contrast_low]})]})},t[12]=o.handle,t[13]=r,t[14]=g,t[15]=i,t[16]=m,t[17]=s?.associated?.labeler,t[18]=s?.avatar,t[19]=s?.displayName,t[20]=s?.handle,t[21]=l.atoms.bg_contrast_25,t[22]=l.atoms.text_contrast_low,t[23]=l.atoms.text_contrast_medium,t[24]=l.palette,t[25]=u.role,t[26]=u.showBadge,t[27]=b):b=t[27],t[28]!==o.did||t[29]!==p||t[30]!==x||t[31]!==y||t[32]!==b?(j=(0,bt.jsx)(ao.Button,{testID:x,style:_,onPress:p,label:y,children:b},o.did),t[28]=o.did,t[29]=p,t[30]=x,t[31]=y,t[32]=b,t[33]=j):j=t[33],j}function vk(e){const t=(0,n.c)(27),{control:s}=e,{_:o}=(0,dt.useLingui)(),{currentAccount:a}=(0,Gt.useSession)(),{onPressSwitchAccount:r,pendingDid:i}=Ln(),{setShowLoggedOut:l}=Ts();let c;t[0]!==s||t[1]!==a?.did||t[2]!==r?(c=e=>{e.did!==a?.did?s.close((()=>{r(e,"SwitchAccount")})):s.close()},t[0]=s,t[1]=a?.did,t[2]=r,t[3]=c):c=t[3];const d=c;let u;t[4]!==s||t[5]!==l?(u=()=>{s.close((()=>{l(!0)}))},t[4]=s,t[5]=l,t[6]=u):u=t[6];const m=u;let h,p,f,g,x,_,y,b,j,v;return t[7]===Symbol.for("react.memo_cache_sentinel")?(h={preventExpansion:!0},p=(0,bt.jsx)(Qs.Handle,{}),t[7]=h,t[8]=p):(h=t[7],p=t[8]),t[9]!==o?(f=o({id:"iSn7SN"}),t[9]=o,t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.gap_lg],t[11]=g):g=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"iSn7SN"})}),t[12]=x):x=t[12],t[13]!==o?(_=o({id:"MPPZ54"}),t[13]=o,t[14]=_):_=t[14],t[15]!==m||t[16]!==d||t[17]!==i||t[18]!==_?(y=(0,bt.jsxs)(Fs.default,{style:g,children:[x,(0,bt.jsx)(yk,{onSelectAccount:d,onSelectOther:m,otherLabel:_,pendingDid:i})]}),t[15]=m,t[16]=d,t[17]=i,t[18]=_,t[19]=y):y=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(Qs.Close,{}),t[20]=b):b=t[20],t[21]!==f||t[22]!==y?(j=(0,bt.jsxs)(Qs.ScrollableInner,{label:f,children:[y,b]}),t[21]=f,t[22]=y,t[23]=j):j=t[23],t[24]!==s||t[25]!==j?(v=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:h,children:[p,j]}),t[24]=s,t[25]=j,t[26]=v):v=t[26],v}const Sk=(0,ti.createSinglePathSVG)({path:"M11.37 1.724a1 1 0 0 1 1.26 0l8 6.5A1 1 0 0 1 21 9v11a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-5h-2v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 .37-.776l8-6.5ZM5 9.476V19h4v-5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5h4V9.476l-7-5.688-7 5.688Z"}),wk=(0,ti.createSinglePathSVG)({path:"M12.63 1.724a1 1 0 0 0-1.26 0l-8 6.5A1 1 0 0 0 3 9v11a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-6h4v6a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V9a1 1 0 0 0-.37-.776l-8-6.5Z"}),Tk=Os.default.create({bottomBar:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",borderTopWidth:Os.default.hairlineWidth,paddingLeft:5,paddingRight:10},bottomBarWeb:qs.atoms.fixed,ctrl:{flex:1,paddingTop:13,paddingBottom:4},notificationCount:{position:"absolute",left:"52%",top:8,paddingHorizontal:4,paddingBottom:1,borderRadius:6,zIndex:1},notificationCountWeb:{paddingTop:3,paddingBottom:3,borderRadius:12},notificationCountLabel:{fontSize:12,fontWeight:"600",color:kn.colors.white,fontVariant:["tabular-nums"]},hasNewBadge:{position:"absolute",left:"54%",marginLeft:4,top:10,width:8,height:8,backgroundColor:kn.colors.blue3,borderRadius:6,zIndex:1},ctrlIcon:{marginLeft:"auto",marginRight:"auto"},ctrlIconSizingWrapper:{},homeIcon:{},feedsIcon:{},searchIcon:{top:-1},bellIcon:{},profileIcon:{borderRadius:100,borderWidth:1,borderColor:"transparent"},messagesIcon:{},onProfile:{borderWidth:1,borderRadius:100}});var kk=s(81206),Ck=s(63916),Ik=s(16881);const Ak=e=>["service",e];function Pk(e){const t=(0,n.c)(9);let s,o,a,r;return t[0]!==e?(s=Ak(e),t[0]=e,t[1]=s):s=t[1],t[2]!==e?(o=async()=>{const t=new Ik.Agent(null,{service:e});return(await t.com.atproto.server.describeServer()).data},a=function(e){try{new URL(e);return!0}catch{return!1}}(e),t[2]=e,t[3]=o,t[4]=a):(o=t[3],a=t[4]),t[5]!==s||t[6]!==o||t[7]!==a?(r={queryKey:s,queryFn:o,enabled:a},t[5]=s,t[6]=o,t[7]=a,t[8]=r):r=t[8],(0,Zs.useQuery)(r)}function Ek(e){const t=(0,n.c)(6),{iosUseWillEvents:s}=void 0===e?{}:e,[o,a]=(0,lt.useState)(!1),i=r.IS_IOS&&s?"keyboardWillShow":"keyboardDidShow",l=r.IS_IOS&&s?"keyboardWillHide":"keyboardDidHide";let c,d,u;return t[0]!==l||t[1]!==i?(c=()=>{const e=Ws.default.addListener(i,(()=>a(!0))),t=Ws.default.addListener(l,(()=>a(!1)));return()=>{t.remove(),e.remove()}},d=[i,l],t[0]=l,t[1]=i,t[2]=c,t[3]=d):(c=t[2],d=t[3]),(0,lt.useEffect)(c,d),t[4]!==o?(u=[o],t[4]=o,t[5]=u):u=t[5],u}const Lk=e=>{const t=(0,n.c)(43),{leadin:s,title:o,description:a,children:i,scrollable:l}=e,{isMobile:c,isTabletOrMobile:d}=(0,jn.useWebMediaQueries)(),u=(0,bn.usePalette)("default"),m=Rn(u.viewLight,u.view);let h;t[0]!==u.colors.background||t[1]!==u.colors.border?(h={backgroundColor:u.colors.background,borderColor:u.colors.border,borderLeftWidth:1},t[0]=u.colors.background,t[1]=u.colors.border,t[2]=h):h=t[2];const p=Rn(u.view,h),[f]=Ek();if(c){if(l){const e=f?300:0;let s,o,n;return t[3]!==e?(s=[{paddingBottom:e}],t[3]=e,t[4]=s):s=t[4],t[5]!==i?(o=(0,bt.jsx)(Fs.default,{style:qs.atoms.pt_lg,children:i}),t[5]=i,t[6]=o):o=t[6],t[7]!==s||t[8]!==o?(n=(0,bt.jsx)(Vi.default,{style:qs.atoms.flex_1,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"none",contentContainerStyle:s,children:o}),t[7]=s,t[8]=o,t[9]=n):n=t[9],n}{let e;return t[10]!==i?(e=(0,bt.jsx)(Fs.default,{style:qs.atoms.pt_lg,children:i}),t[10]=i,t[11]=e):e=t[11],e}}let g;t[12]!==m?(g=[Rk.side,m],t[12]=m,t[13]=g):g=t[13];const x=d&&Rk.leadinTextSmall;let _,y;t[14]!==u.textLight||t[15]!==x?(_=[u.textLight,Rk.leadinText,x],t[14]=u.textLight,t[15]=x,t[16]=_):_=t[16],t[17]!==s||t[18]!==_?(y=(0,bt.jsx)(ua.Text,{style:_,children:s}),t[17]=s,t[18]=_,t[19]=y):y=t[19];const b=d&&Rk.titleTextSmall;let j,v,S,w,T,k,C;return t[20]!==u.link||t[21]!==b?(j=[u.link,Rk.titleText,b],t[20]=u.link,t[21]=b,t[22]=j):j=t[22],t[23]!==j||t[24]!==o?(v=(0,bt.jsx)(ua.Text,{style:j,children:o}),t[23]=j,t[24]=o,t[25]=v):v=t[25],t[26]!==u.textLight?(S=[u.textLight,Rk.descriptionText],t[26]=u.textLight,t[27]=S):S=t[27],t[28]!==a||t[29]!==S?(w=(0,bt.jsx)(ua.Text,{type:"2xl-medium",style:S,children:a}),t[28]=a,t[29]=S,t[30]=w):w=t[30],t[31]!==w||t[32]!==g||t[33]!==y||t[34]!==v?(T=(0,bt.jsxs)(Fs.default,{style:g,children:[y,v,w]}),t[31]=w,t[32]=g,t[33]=y,t[34]=v,t[35]=T):T=t[35],t[36]!==i||t[37]!==p||t[38]!==l?(k=l?(0,bt.jsx)(Fs.default,{style:[Rk.scrollableContent,p],children:(0,bt.jsx)(Vi.default,{style:qs.atoms.flex_1,contentContainerStyle:Rk.scrollViewContentContainer,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",children:(0,bt.jsx)(Fs.default,{style:[Rk.contentWrapper,r.IS_WEB&&qs.atoms.my_auto],children:i})})}):(0,bt.jsx)(Fs.default,{style:[Rk.content,p],children:(0,bt.jsx)(Fs.default,{style:Rk.contentWrapper,children:i})}),t[36]=i,t[37]=p,t[38]=l,t[39]=k):k=t[39],t[40]!==T||t[41]!==k?(C=(0,bt.jsxs)(Fs.default,{style:Rk.container,children:[T,k]}),t[40]=T,t[41]=k,t[42]=C):C=t[42],C},Rk=Os.default.create({container:{flexDirection:"row",height:"100vh"},side:{flex:1,paddingHorizontal:40,paddingBottom:80,justifyContent:"center"},content:{flex:2,paddingHorizontal:40,justifyContent:"center"},scrollableContent:{flex:2},scrollViewContentContainer:{flex:1,paddingHorizontal:40},leadinText:{fontSize:36,fontWeight:"800",textAlign:"right"},leadinTextSmall:{fontSize:24},titleText:{fontSize:58,fontWeight:"800",textAlign:"right"},titleTextSmall:{fontSize:36},descriptionText:{maxWidth:400,marginTop:10,marginLeft:"auto",textAlign:"right"},contentWrapper:{maxWidth:600}});function Bk(e){const t=(0,n.c)(14),{error:s}=e,o=(0,qs.useTheme)();if(!s)return null;let a,r,i,l,c,d;return t[0]!==o.palette.negative_400?(a=[{backgroundColor:o.palette.negative_400},qs.atoms.flex_row,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.gap_sm],t[0]=o.palette.negative_400,t[1]=a):a=t[1],t[2]!==o.palette.white?(r=(0,bt.jsx)(Cf.Warning_Stroke2_Corner0_Rounded,{fill:o.palette.white,size:"md"}),t[2]=o.palette.white,t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_1],t[4]=i):i=t[4],t[5]!==o.palette.white?(l=[{color:o.palette.white},qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[5]=o.palette.white,t[6]=l):l=t[6],t[7]!==s||t[8]!==l?(c=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsx)(co.Text,{style:l,children:s})}),t[7]=s,t[8]=l,t[9]=c):c=t[9],t[10]!==a||t[11]!==r||t[12]!==c?(d=(0,bt.jsxs)(Fs.default,{style:a,children:[r,c]}),t[10]=a,t[11]=r,t[12]=c,t[13]=d):d=t[13],d}function Dk(e){const t=(0,n.c)(15),{control:s,onSelect:o}=e,a=(0,Xo.useAnalytics)(),{height:r}=(0,Qr.default)(),i=(0,lt.useRef)(null),[l,c]=(0,lt.useState)(Vt.BSKY_SERVICE),[d,u]=(0,lt.useState)("");let m;t[0]!==a||t[1]!==l||t[2]!==o?(m=()=>{const e=i.current?.getFormState();e&&(o(e),e!==Vt.BSKY_SERVICE&&u(e)),a.metric("signin:hostingProviderPressed",{hostingProviderDidChange:l!==Vt.BSKY_SERVICE})},t[0]=a,t[1]=l,t[2]=o,t[3]=m):m=t[3];const h=m,p=r/2;let f,g,x,_;return t[4]!==p?(f=(0,qs.platform)({android:{minHeight:p},ios:{preventExpansion:!0}}),t[4]=p,t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Qs.Handle,{}),t[6]=g):g=t[6],t[7]!==l||t[8]!==d?(x=(0,bt.jsx)(Ok,{formRef:i,fixedOption:l,setFixedOption:c,initialCustomAddress:d}),t[7]=l,t[8]=d,t[9]=x):x=t[9],t[10]!==s||t[11]!==h||t[12]!==f||t[13]!==x?(_=(0,bt.jsxs)(Qs.Outer,{control:s,onClose:h,nativeOptions:f,children:[g,x]}),t[10]=s,t[11]=h,t[12]=f,t[13]=x,t[14]=_):_=t[14],_}function Ok(e){const t=(0,n.c)(76),{formRef:s,fixedOption:o,setFixedOption:a,initialCustomAddress:r}=e,i=Qs.useDialogContext(),{_:l}=(0,dt.useLingui)(),c=(0,qs.useTheme)(),{accounts:d}=(0,Gt.useSession)(),{gtMobile:u}=(0,qs.useBreakpoints)(),[m,h]=(0,lt.useState)(r);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=ls.get("pdsAddressHistory")||[],t[0]=p):p=t[0];const[f,g]=(0,lt.useState)(p);let x,_;t[1]!==m||t[2]!==o||t[3]!==f?(x=()=>({getFormState:()=>{let e;if("custom"===o){if(e=m.trim().toLowerCase(),!e)return null}else e=o;if(e.startsWith("http://")||e.startsWith("https://")||(e="localhost"===e||e.startsWith("localhost:")?`http://${e}`:`https://${e}`),"custom"===o&&!f.includes(e)){const t=[e,...f.slice(0,4)];g(t),ls.write("pdsAddressHistory",t)}return e}}),_=[m,o,f],t[1]=m,t[2]=o,t[3]=f,t[4]=x,t[5]=_):(x=t[4],_=t[5]),(0,lt.useImperativeHandle)(s,x,_);const y=0===d.length;let b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z;return t[6]===Symbol.for("react.memo_cache_sentinel")?(b=(0,qs.web)({maxWidth:500}),t[6]=b):b=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.relative,qs.atoms.gap_md,qs.atoms.w_full],t[7]=j):j=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(co.Text,{nativeID:"dialog-title",style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"oSnByd"})}),t[8]=v):v=t[8],t[9]!==l?(S=l({id:"hD+ZDY"}),t[9]=l,t[10]=S):S=t[10],t[11]!==l?(w=l({id:"7A9u1j"}),t[11]=l,t[12]=w):w=t[12],t[13]!==l?(T=l({id:"7A9u1j"}),t[13]=l,t[14]=T):T=t[14],t[15]!==T?(k=(0,bt.jsx)(Bf.ItemText,{children:T}),t[15]=T,t[16]=k):k=t[16],t[17]!==k||t[18]!==w?(C=(0,bt.jsx)(Bf.Item,{testID:"bskyServiceSelectBtn",value:Vt.BSKY_SERVICE,label:w,children:k}),t[17]=k,t[18]=w,t[19]=C):C=t[19],t[20]!==l?(I=l({id:"8Tg/JR"}),t[20]=l,t[21]=I):I=t[21],t[22]!==l?(A=l({id:"8Tg/JR"}),t[22]=l,t[23]=A):A=t[23],t[24]!==A?(P=(0,bt.jsx)(Bf.ItemText,{children:A}),t[24]=A,t[25]=P):P=t[25],t[26]!==I||t[27]!==P?(E=(0,bt.jsx)(Bf.Item,{testID:"customSelectBtn",value:"custom",label:I,children:P}),t[26]=I,t[27]=P,t[28]=E):E=t[28],t[29]!==o||t[30]!==a||t[31]!==C||t[32]!==E||t[33]!==S?(L=(0,bt.jsxs)(Bf.Root,{type:"tabs",label:S,value:o,onChange:a,children:[C,E]}),t[29]=o,t[30]=a,t[31]=C,t[32]=E,t[33]=S,t[34]=L):L=t[34],t[35]!==o||t[36]!==y?(R=o===Vt.BSKY_SERVICE&&y&&(0,bt.jsx)(Fs.default,{role:"tabpanel",children:(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"Q6q9G+"})})}),t[35]=o,t[36]=y,t[37]=R):R=t[37],t[38]!==m||t[39]!==o||t[40]!==f?(B="custom"===o&&(0,bt.jsxs)(Fs.default,{role:"tabpanel",children:[(0,bt.jsx)(mo.LabelText,{nativeID:"address-input-label",children:(0,bt.jsx)(dt.Trans,{id:"ZlVUPQ"})}),(0,bt.jsxs)(mo.Root,{children:[(0,bt.jsx)(mo.Icon,{icon:dm.Globe_Stroke2_Corner0_Rounded}),(0,bt.jsx)(Qs.Input,{testID:"customServerTextInput",value:m,onChangeText:h,label:"my-server.com",accessibilityLabelledBy:"address-input-label",autoCapitalize:"none",keyboardType:"url"})]}),f.length>0&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.mt_xs],children:f.map((e=>(0,bt.jsx)(ao.Button,{variant:"ghost",color:"primary",label:e,style:[qs.atoms.px_sm,qs.atoms.py_xs,qs.atoms.rounded_sm,qs.atoms.gap_sm],onPress:()=>h(e),children:(0,bt.jsx)(ao.ButtonText,{children:e})},e)))})]}),t[38]=m,t[39]=o,t[40]=f,t[41]=B):B=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.py_xs],t[42]=D):D=t[42],t[43]!==c.atoms.text_contrast_medium?(O=[c.atoms.text_contrast_medium,qs.atoms.text_sm,qs.atoms.leading_snug],t[43]=c.atoms.text_contrast_medium,t[44]=O):O=t[44],t[45]!==y?(M=y?(0,bt.jsx)(dt.Trans,{id:"Q8xTmv"}):(0,bt.jsx)(dt.Trans,{id:"2sNIH6"}),t[45]=y,t[46]=M):M=t[46],t[47]!==l?(F=l({id:"Lcv07d"}),t[47]=l,t[48]=F):F=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(dt.Trans,{id:"F6TdXL"}),t[49]=N):N=t[49],t[50]!==F?(H=(0,bt.jsx)(io.InlineLinkText,{label:F,to:"https://atproto.com/guides/self-hosting",children:N}),t[50]=F,t[51]=H):H=t[51],t[52]!==O||t[53]!==M||t[54]!==H?(V=(0,bt.jsx)(Fs.default,{style:D,children:(0,bt.jsxs)(co.Text,{style:O,children:[M," ",H]})}),t[52]=O,t[53]=M,t[54]=H,t[55]=V):V=t[55],t[56]!==u?(z=u&&[qs.atoms.flex_row,qs.atoms.justify_end],t[56]=u,t[57]=z):z=t[57],t[58]===Symbol.for("react.memo_cache_sentinel")?(U=(0,qs.platform)({native:"large",web:"small"}),t[58]=U):U=t[58],t[59]!==i?(W=()=>i.close(),t[59]=i,t[60]=W):W=t[60],t[61]!==l?(G=l({id:"DPfwMq"}),t[61]=l,t[62]=G):G=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(q=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})}),t[63]=q):q=t[63],t[64]!==W||t[65]!==G?(Q=(0,bt.jsx)(ao.Button,{testID:"doneBtn",variant:"solid",color:"primary",size:U,onPress:W,label:G,children:q}),t[64]=W,t[65]=G,t[66]=Q):Q=t[66],t[67]!==z||t[68]!==Q?(K=(0,bt.jsx)(Fs.default,{style:z,children:Q}),t[67]=z,t[68]=Q,t[69]=K):K=t[69],t[70]!==L||t[71]!==R||t[72]!==B||t[73]!==V||t[74]!==K?(Z=(0,bt.jsx)(Qs.ScrollableInner,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",style:b,children:(0,bt.jsxs)(Fs.default,{style:j,children:[v,L,R,B,V,K]})}),t[70]=L,t[71]=R,t[72]=B,t[73]=V,t[74]=K,t[75]=Z):Z=t[75],Z}const Mk=(0,ti.createSinglePathSVG)({path:"M13.586 1.5a2 2 0 0 1 2.828 0L19.5 4.586a2 2 0 0 1 0 2.828l-13 13A2 2 0 0 1 5.086 21H1a1 1 0 0 1-1-1v-4.086A2 2 0 0 1 .586 14.5l13-13ZM15 2.914l-13 13V19h3.086l13-13L15 2.914ZM11 20a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),Fk=(0,ti.createSinglePathSVG)({path:"M15.586 2.5a2 2 0 0 1 2.828 0L21.5 5.586a2 2 0 0 1 0 2.828l-13 13A2 2 0 0 1 7.086 22H3a1 1 0 0 1-1-1v-4.086a2 2 0 0 1 .586-1.414l13-13ZM17 3.914l-13 13V20h3.086l13-13L17 3.914ZM13 21a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),Nk=(0,ti.createSinglePathSVG)({path:"M15.379 2.707a3 3 0 0 1 4.242 0l1.672 1.672a3 3 0 0 1 0 4.242l-12.5 12.5A3 3 0 0 1 6.672 22H3a1 1 0 0 1-1-1v-3.672a3 3 0 0 1 .879-2.121l12.5-12.5Zm2.828 1.414a1 1 0 0 0-1.414 0l-12.5 12.5a1 1 0 0 0-.293.707V20h2.672a1 1 0 0 0 .707-.293l12.5-12.5.707.707-.707-.707a1 1 0 0 0 0-1.414L18.207 4.12ZM13 21a1 1 0 0 1 1-1h7a1 1 0 0 1 0 2h-7a1 1 0 0 1-1-1Z"});function Hk(e){const t=(0,n.c)(18),{serviceUrl:s,onSelectServiceUrl:o,onOpenDialog:a,minimal:r}=e,i=(0,Qs.useDialogControl)(),l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)();let d;t[0]!==a||t[1]!==i?(d=()=>{Ws.default.dismiss(),i.open(),a?.()},t[0]=a,t[1]=i,t[2]=d):d=t[2];const u=d;let m,h,p;return t[3]!==o||t[4]!==i?(m=(0,bt.jsx)(Dk,{control:i,onSelect:o}),t[3]=o,t[4]=i,t[5]=m):m=t[5],t[6]!==c||t[7]!==r||t[8]!==u||t[9]!==s||t[10]!==l.atoms.bg_contrast_100||t[11]!==l.atoms.bg_contrast_300||t[12]!==l.atoms.text_contrast_medium||t[13]!==l.palette?(h=r?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.flex_wrap,qs.atoms.gap_xs],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,l.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"6lw8GY"})}),(0,bt.jsxs)(ao.Button,{label:(0,zt.toNiceDomain)(s),accessibilityHint:c({id:"JogRg8"}),onPress:u,variant:"ghost",color:"secondary",size:"tiny",style:[qs.atoms.px_xs,{marginHorizontal:-1*qs.tokens.space.xs},{paddingVertical:0}],children:[(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_sm],children:(0,zt.toNiceDomain)(s)}),(0,bt.jsx)(ao.ButtonIcon,{icon:Fk})]})]}):(0,bt.jsx)(ao.Button,{testID:"selectServiceButton",label:(0,zt.toNiceDomain)(s),accessibilityHint:c({id:"JogRg8"}),variant:"solid",color:"secondary",style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_sm,qs.atoms.py_sm,qs.atoms.pl_md,qs.atoms.pr_sm,qs.atoms.gap_xs],onPress:u,children:e=>{const{hovered:t,pressed:o}=e,n=t||o;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:qs.atoms.pr_xs,children:(0,bt.jsx)(dm.Globe_Stroke2_Corner0_Rounded,{size:"md",fill:n?l.palette.contrast_800:l.palette.contrast_500})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:(0,zt.toNiceDomain)(s)}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_sm,n?l.atoms.bg_contrast_300:l.atoms.bg_contrast_100,{marginLeft:"auto",padding:6}],children:(0,bt.jsx)(Fk,{size:"sm",style:{color:n?l.palette.contrast_800:l.palette.contrast_500}})})]})}}),t[6]=c,t[7]=r,t[8]=u,t[9]=s,t[10]=l.atoms.bg_contrast_100,t[11]=l.atoms.bg_contrast_300,t[12]=l.atoms.text_contrast_medium,t[13]=l.palette,t[14]=h):h=t[14],t[15]!==m||t[16]!==h?(p=(0,bt.jsxs)(bt.Fragment,{children:[m,h]}),t[15]=m,t[16]=h,t[17]=p):p=t[17],p}const Vk=(0,ti.createSinglePathSVG)({path:"M12 4a8 8 0 1 0 4.21 14.804 1 1 0 0 1 1.054 1.7A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 1.104-.27 2.31-.949 3.243-.716.984-1.849 1.6-3.331 1.465a4.2 4.2 0 0 1-2.93-1.585c-.94 1.21-2.388 1.94-3.985 1.715-2.53-.356-4.04-2.91-3.682-5.458s2.514-4.586 5.044-4.23c.905.127 1.68.536 2.286 1.126a1 1 0 0 1 1.964.368l-.515 3.545v.002a2.22 2.22 0 0 0 1.999 2.526c.75.068 1.212-.21 1.533-.65.358-.493.566-1.245.566-2.067a8 8 0 0 0-8-8Zm-.112 5.13c-1.195-.168-2.544.819-2.784 2.529s.784 3.03 1.98 3.198 2.543-.819 2.784-2.529-.784-3.03-1.98-3.198Z"}),zk=(0,ti.createSinglePathSVG)({path:"M12 4a8 8 0 1 0 4.21 14.804 1 1 0 0 1 1.054 1.7A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 1.104-.27 2.31-.949 3.243-.716.984-1.849 1.6-3.331 1.465a4.2 4.2 0 0 1-2.93-1.585c-.94 1.21-2.388 1.94-3.985 1.715-2.53-.356-4.04-2.91-3.682-5.458s2.514-4.586 5.044-4.23c.905.127 1.68.536 2.286 1.126a1 1 0 0 1 1.964.368l-.515 3.545v.002a2.22 2.22 0 0 0 1.999 2.526c.75.068 1.212-.21 1.533-.65.358-.493.566-1.245.566-2.067a8 8 0 0 0-8-8Zm-.112 5.13c-1.195-.168-2.544.819-2.784 2.529s.784 3.03 1.98 3.198 2.544-.819 2.784-2.529-.784-3.03-1.98-3.198Z"});function Uk(e){const t=(0,n.c)(12),{testID:s,titleText:o,children:a,style:r}=e,{gtMobile:i}=(0,qs.useBreakpoints)();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[0,"wide"],t[0]=l):l=t[0];const c=(0,qs.useGutters)(l),d=!i&&c;let u,m,h;return t[1]!==r||t[2]!==d?(u=[qs.atoms.gap_md,qs.atoms.flex_1,d,r],t[1]=r,t[2]=d,t[3]=u):u=t[3],t[4]!==i||t[5]!==o?(m=o&&!i&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_3xl,qs.atoms.font_bold],children:o}),t[4]=i,t[5]=o,t[6]=m):m=t[6],t[7]!==a||t[8]!==u||t[9]!==m||t[10]!==s?(h=(0,bt.jsxs)(Fs.default,{testID:s,style:u,children:[m,a]}),t[7]=a,t[8]=u,t[9]=m,t[10]=s,t[11]=h):h=t[11],h}const Wk=e=>{const t=(0,n.c)(62),{error:s,serviceUrl:o,serviceDescription:a,setError:i,setServiceUrl:l,onPressBack:c,onEmailSent:d}=e,u=(0,qs.useTheme)(),[m,h]=(0,lt.useState)(!1),[p,f]=(0,lt.useState)(""),{_:g}=(0,dt.useLingui)(),x=Gk;let _;t[0]!==g||t[1]!==p||t[2]!==d||t[3]!==o||t[4]!==i?(_=async()=>{if(!Co.validate(p))return i(g({id:"tBpzKB"}));i(""),h(!0);try{const e=new Ik.Agent(null,{service:o});await e.com.atproto.server.requestPasswordReset({email:p}),d()}catch(b){const t=b,s=t.toString();Mt.logger.warn("Failed to request password reset",{error:t}),h(!1),(0,Tn.isNetworkError)(t)?i(g({id:"nc4Wfd"})):i((0,Tn.cleanError)(s))}},t[0]=g,t[1]=p,t[2]=d,t[3]=o,t[4]=i,t[5]=_):_=t[5];const y=_;let b,j,v,S,w,T;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(dt.Trans,{id:"RfwZxd"}),t[6]=b):b=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"yt7fhu"})}),t[7]=j):j=t[7],t[8]!==o||t[9]!==l?(v=(0,bt.jsxs)(Fs.default,{children:[j,(0,bt.jsx)(Hk,{serviceUrl:o,onSelectServiceUrl:l,onOpenDialog:x})]}),t[8]=o,t[9]=l,t[10]=v):v=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ATGYL1"})}),t[11]=S):S=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(mo.Icon,{icon:Vk}),t[12]=w):w=t[12],t[13]!==g?(T=g({id:"xRPn3U"}),t[13]=g,t[14]=T):T=t[14];const k=!m;let C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U;return t[15]!==g?(C=g({id:"kfucNS"}),t[15]=g,t[16]=C):C=t[16],t[17]!==p||t[18]!==T||t[19]!==k||t[20]!==C?(I=(0,bt.jsxs)(Fs.default,{children:[S,(0,bt.jsxs)(mo.Root,{children:[w,(0,bt.jsx)(mo.Input,{testID:"forgotPasswordEmail",label:T,autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"email",value:p,onChangeText:f,editable:k,accessibilityHint:C})]})]}),t[17]=p,t[18]=T,t[19]=k,t[20]=C,t[21]=I):I=t[21],t[22]!==u.atoms.text_contrast_high?(A=[u.atoms.text_contrast_high,qs.atoms.leading_snug],t[22]=u.atoms.text_contrast_high,t[23]=A):A=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(dt.Trans,{id:"cHrOqs"}),t[24]=P):P=t[24],t[25]!==A?(E=(0,bt.jsx)(co.Text,{style:A,children:P}),t[25]=A,t[26]=E):E=t[26],t[27]!==s?(L=(0,bt.jsx)(Bk,{error:s}),t[27]=s,t[28]=L):L=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(R=[(0,qs.web)([qs.atoms.flex_row,qs.atoms.align_center]),qs.atoms.pt_md],t[29]=R):R=t[29],t[30]!==g||t[31]!==c?(B=r.IS_WEB&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{label:g({id:"iH8pgl"}),color:"secondary",size:"large",onPress:c,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})})}),(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1})]}),t[30]=g,t[31]=c,t[32]=B):B=t[32],t[33]!==g||t[34]!==m||t[35]!==y||t[36]!==a?(D=a?(0,bt.jsxs)(ao.Button,{label:g({id:"hXzOVo"}),accessibilityHint:g({id:"e0WHBA"}),color:"primary",size:"large",onPress:y,disabled:m,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})}),m&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}):(0,bt.jsxs)(ao.Button,{label:g({id:"8LDHPM"}),size:"large",color:"secondary",disabled:!0,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),(0,bt.jsx)(ao.ButtonText,{children:"Connecting..."})]}),t[33]=g,t[34]=m,t[35]=y,t[36]=a,t[37]=D):D=t[37],t[38]!==B||t[39]!==D?(O=(0,bt.jsxs)(Fs.default,{style:R,children:[B,D]}),t[38]=B,t[39]=D,t[40]=O):O=t[40],t[41]!==u.atoms.border_contrast_medium?(M=[u.atoms.border_contrast_medium,qs.atoms.border_t,qs.atoms.pt_xl,qs.atoms.mt_md,qs.atoms.flex_row,qs.atoms.justify_center],t[41]=u.atoms.border_contrast_medium,t[42]=M):M=t[42],t[43]!==g?(F=g({id:"Rtp0y7"}),t[43]=g,t[44]=F):F=t[44],t[45]!==g?(N=g({id:"e0WHBA"}),t[45]=g,t[46]=N):N=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"FTT4a4"})}),t[47]=H):H=t[47],t[48]!==d||t[49]!==F||t[50]!==N?(V=(0,bt.jsx)(ao.Button,{testID:"skipSendEmailButton",onPress:d,label:F,accessibilityHint:N,size:"large",variant:"ghost",color:"secondary",children:H}),t[48]=d,t[49]=F,t[50]=N,t[51]=V):V=t[51],t[52]!==M||t[53]!==V?(z=(0,bt.jsx)(Fs.default,{style:M,children:V}),t[52]=M,t[53]=V,t[54]=z):z=t[54],t[55]!==I||t[56]!==E||t[57]!==L||t[58]!==O||t[59]!==z||t[60]!==v?(U=(0,bt.jsxs)(Uk,{testID:"forgotPasswordForm",titleText:b,children:[v,I,E,L,O,z]}),t[55]=I,t[56]=E,t[57]=L,t[58]=O,t[59]=z,t[60]=v,t[61]=U):U=t[61],U};function Gk(){Ws.default.dismiss()}var qk=s(48493);const Qk=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 0-1 1v4.17a1 1 0 0 0 .667.944 2.001 2.001 0 0 1 0 3.772A1 1 0 0 0 2 14.83V19a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-4.17a1 1 0 0 0-.667-.944 2.001 2.001 0 0 1 0-3.772A1 1 0 0 0 22 9.17V5a1 1 0 0 0-1-1H3Zm1 4.535V6h16v2.535A4 4 0 0 0 18 12c0 1.482.805 2.773 2 3.465V18H4v-2.535A4 4 0 0 0 6 12a4 4 0 0 0-2-3.465ZM15 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-1-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1-5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"}),Kk=({error:e,serviceUrl:t,serviceDescription:s,initialHandle:o,setError:n,setServiceUrl:a,onPressRetryConnect:i,onPressBack:l,onPressForgotPassword:c,onAttemptSuccess:d,onAttemptFailed:u})=>{const m=(0,qs.useTheme)(),[h,p]=(0,lt.useState)(!1),[f,g]=(0,lt.useState)("none"),[x,_]=(0,lt.useState)(!1),y=(0,lt.useRef)(o||""),b=(0,lt.useRef)(""),[j,v]=(0,lt.useState)(""),S=(0,lt.useRef)(null),w=(0,lt.useRef)(null),T=(0,lt.useRef)(!1),{_:k}=(0,dt.useLingui)(),{login:C}=(0,Gt.useSessionApi)(),I=(0,nv.useRequestNotificationsPermission)(),{setShowLoggedOut:A}=Ts(),P=(0,qk.useSetHasCheckedForStarterPack)(),E=(0,lt.useCallback)((()=>{Ws.default.dismiss()}),[]),L=async()=>{if(h)return;Ws.default.dismiss(),n(""),g("none");const e=y.current.toLowerCase().trim(),o=b.current;if(!e)return n(k({id:"rAhy23"})),void g("identifier");if(!o)return n(k({id:"KExnON"})),void g("password");p(!0);try{let n=e;if(!e.includes("@")&&!e.includes(".")&&s&&s.availableUserDomains.length>0){let t=!1;for(const e of s.availableUserDomains)n.endsWith(e)&&(t=!0);t||(n=(0,Fa.createFullHandle)(e,s.availableUserDomains[0]))}await C({service:t,identifier:n,password:o,authFactorToken:j.trim()},"LoginForm"),d(),A(!1),P(!0),I("Login")}catch(a){const e=a.toString();p(!1),a instanceof Dn.ComAtprotoServerCreateSession.AuthFactorTokenRequiredError?_(!0):(u(),e.includes("Token is invalid")?(Mt.logger.debug("Failed to login due to invalid 2fa token",{error:e}),n(k({id:"QPo/O5"})),g("2fa")):e.includes("Authentication Required")||e.includes("Invalid identifier or password")?(Mt.logger.debug("Failed to login due to invalid credentials",{error:e}),n(k({id:"u6cGoJ"}))):(0,Tn.isNetworkError)(a)?(Mt.logger.warn("Failed to login due to network error",{error:e}),n(k({id:"nc4Wfd"}))):(Mt.logger.warn("Failed to login",{error:e}),n((0,Tn.cleanError)(e))))}};return(0,bt.jsxs)(Uk,{testID:"loginForm",titleText:(0,bt.jsx)(dt.Trans,{id:"sQia9P"}),children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"yt7fhu"})}),(0,bt.jsx)(Hk,{serviceUrl:t,onSelectServiceUrl:a,onOpenDialog:E})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"AeXO77"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(mo.Root,{isInvalid:"identifier"===f,children:[(0,bt.jsx)(mo.Icon,{icon:Vk}),(0,bt.jsx)(mo.Input,{testID:"loginUsernameInput",inputRef:S,label:k({id:"nZx9mr"}),autoCapitalize:"none",autoFocus:!r.IS_IOS,autoCorrect:!1,autoComplete:"username",returnKeyType:"next",textContentType:"username",defaultValue:o||"",onChangeText:e=>{y.current=e,f&&g("none")},onSubmitEditing:()=>{w.current?.focus()},blurOnSubmit:!1,editable:!h,accessibilityHint:k({id:"SyK5N1"})})]}),(0,bt.jsxs)(mo.Root,{isInvalid:"password"===f,children:[(0,bt.jsx)(mo.Icon,{icon:uw}),(0,bt.jsx)(mo.Input,{testID:"loginPasswordInput",inputRef:w,label:k({id:"8ZsakT"}),autoCapitalize:"none",autoCorrect:!1,autoComplete:"current-password",returnKeyType:"done",enablesReturnKeyAutomatically:!0,secureTextEntry:!0,clearButtonMode:"while-editing",onChangeText:e=>{b.current=e,f&&g("none")},onSubmitEditing:L,blurOnSubmit:!1,editable:!h,accessibilityHint:k({id:"NgaR6B"}),onLayout:(0,qs.ios)((()=>{T.current||(T.current=!0,S.current?.focus())}))}),(0,bt.jsx)(ao.Button,{testID:"forgotPasswordButton",onPress:c,label:k({id:"UNMVei"}),accessibilityHint:k({id:"z0/1k6"}),variant:"solid",color:"secondary",style:[qs.atoms.rounded_sm,{marginLeft:"auto",left:6,padding:6},qs.atoms.z_10],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"F4OP4y"})})})]})]})]}),x&&(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"4blS0m"})}),(0,bt.jsxs)(mo.Root,{isInvalid:"2fa"===f,children:[(0,bt.jsx)(mo.Icon,{icon:Qk}),(0,bt.jsx)(mo.Input,{testID:"loginAuthFactorTokenInput",label:k({id:"ioZOzk"}),autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"one-time-code",returnKeyType:"done",blurOnSubmit:!1,value:j,onChangeText:e=>{v(e),f&&g("none")},onSubmitEditing:L,editable:!h,accessibilityHint:k({id:"TqQ2XY"}),style:{textTransform:""===j?"none":"uppercase"}})]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,m.atoms.text_contrast_medium,qs.atoms.mt_sm],children:(0,bt.jsx)(dt.Trans,{id:"aMmL+S"})})]}),(0,bt.jsx)(Bk,{error:e}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_md,(0,qs.web)([qs.atoms.justify_between,qs.atoms.flex_row])],children:[r.IS_WEB&&(0,bt.jsx)(ao.Button,{label:k({id:"iH8pgl"}),color:"secondary",size:"large",onPress:l,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})})}),!s&&e?(0,bt.jsx)(ao.Button,{testID:"loginRetryButton",label:k({id:"6gRgw8"}),accessibilityHint:k({id:"Fsx8Cp"}),color:"primary_subtle",size:"large",onPress:i,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})})}):s?(0,bt.jsxs)(ao.Button,{testID:"loginNextButton",label:k({id:"sQia9P"}),accessibilityHint:k({id:"e0WHBA"}),color:"primary",size:"large",onPress:L,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"sQia9P"})}),h&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}):(0,bt.jsxs)(ao.Button,{label:k({id:"8LDHPM"}),size:"large",color:"secondary",disabled:!0,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),(0,bt.jsx)(ao.ButtonText,{children:"Connecting..."})]})]})]})},Zk=e=>{const t=(0,n.c)(17),{onPressNext:s}=e,{_:o}=(0,dt.useLingui)(),{gtMobile:a}=(0,qs.useBreakpoints)(),r=!a&&qs.atoms.mt_5xl;let i,l,c,d,u,m,h,p,f;return t[0]!==r?(i=[qs.atoms.gap_2xl,r],t[0]=r,t[1]=i):i=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_3xl,qs.atoms.font_bold,qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"DKeVgZ"})}),t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,qs.atoms.mx_auto,{maxWidth:"80%"}],children:(0,bt.jsx)(dt.Trans,{id:"67nRLM"})}),t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,qs.web)([qs.atoms.flex_row,qs.atoms.justify_center]),t[4]=d):d=t[4],t[5]!==o?(u=o({id:"flH7u/"}),t[5]=o,t[6]=u):u=t[6],t[7]!==o?(m=o({id:"BG9P8K"}),t[7]=o,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"UaXeX3"})}),t[9]=h):h=t[9],t[10]!==s||t[11]!==u||t[12]!==m?(p=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(ao.Button,{onPress:s,label:u,accessibilityHint:m,color:"primary",size:"large",children:h})}),t[10]=s,t[11]=u,t[12]=m,t[13]=p):p=t[13],t[14]!==i||t[15]!==p?(f=(0,bt.jsxs)(Uk,{testID:"passwordUpdatedForm",style:i,children:[l,c,p]}),t[14]=i,t[15]=p,t[16]=f):f=t[16],f},Yk=/^[A-Z2-7]{5}-[A-Z2-7]{5}$/;function $k(e){let t=e.trim().toUpperCase();return 10===t.length&&(t=`${t.slice(0,5)}-${t.slice(5,10)}`),!!Yk.test(t)&&t}const Xk=e=>{const t=(0,n.c)(65),{error:s,serviceUrl:o,setError:a,onPressBack:i,onPasswordSet:l}=e,{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)(),[u,m]=(0,lt.useState)(!1),[h,p]=(0,lt.useState)(""),[f,g]=(0,lt.useState)("");let x;t[0]!==c||t[1]!==d||t[2]!==l||t[3]!==f||t[4]!==h||t[5]!==o||t[6]!==a?(x=async()=>{const e=$k(h);if(!e)return a(c({id:"svKSj/"})),void d.metric("signin:passwordResetFailure",{});if(f){a(""),m(!0);try{const t=new Ik.Agent(null,{service:o});await t.com.atproto.server.resetPassword({token:e,password:f}),l(),d.metric("signin:passwordResetSuccess",{})}catch(y){const t=y,s=t.toString();Mt.logger.warn("Failed to set new password",{error:t}),d.metric("signin:passwordResetFailure",{}),m(!1),(0,Tn.isNetworkError)(t)?a(c({id:"nc4Wfd"})):a((0,Tn.cleanError)(s))}}else a(c({id:"nkUu0m"}))},t[0]=c,t[1]=d,t[2]=l,t[3]=f,t[4]=h,t[5]=o,t[6]=a,t[7]=x):x=t[7];const _=x;let y;t[8]!==c||t[9]!==h||t[10]!==a?(y=()=>{const e=$k(h);e?p(e):a(c({id:"svKSj/"}))},t[8]=c,t[9]=h,t[10]=a,t[11]=y):y=t[11];const b=y;let j,v,S,w,T,k;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(dt.Trans,{id:"V/e7nf"}),t[12]=j):j=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.mb_sm],children:(0,bt.jsx)(dt.Trans,{id:"RrDyEb"})}),t[13]=v):v=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"vJgYMA"})}),t[14]=S):S=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(mo.Icon,{icon:Qk}),t[15]=w):w=t[15],t[16]!==c?(T=c({id:"N16Q/4"}),t[16]=c,t[17]=T):T=t[17],t[18]!==a?(k=()=>a(""),t[18]=a,t[19]=k):k=t[19];const C=!u;let I,A,P,E,L;t[20]!==c?(I=c({id:"pXzKXU"}),t[20]=c,t[21]=I):I=t[21],t[22]!==b||t[23]!==h||t[24]!==I||t[25]!==T||t[26]!==k||t[27]!==C?(A=(0,bt.jsxs)(Fs.default,{children:[S,(0,bt.jsxs)(mo.Root,{children:[w,(0,bt.jsx)(mo.Input,{testID:"resetCodeInput",label:T,autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"off",value:h,onChangeText:p,onFocus:k,onBlur:b,editable:C,accessibilityHint:I})]})]}),t[22]=b,t[23]=h,t[24]=I,t[25]=T,t[26]=k,t[27]=C,t[28]=A):A=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"/nT6AE"})}),t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(mo.Icon,{icon:uw}),t[30]=E):E=t[30],t[31]!==c?(L=c({id:"3tOlz6"}),t[31]=c,t[32]=L):L=t[32];const R=!u;let B,D,O,M,F,N,H,V,z,U,W;return t[33]!==c?(B=c({id:"tPvL7k"}),t[33]=c,t[34]=B):B=t[34],t[35]!==_||t[36]!==f||t[37]!==L||t[38]!==R||t[39]!==B?(D=(0,bt.jsxs)(Fs.default,{children:[P,(0,bt.jsxs)(mo.Root,{children:[E,(0,bt.jsx)(mo.Input,{testID:"newPasswordInput",label:L,autoCapitalize:"none",autoCorrect:!1,returnKeyType:"done",secureTextEntry:!0,autoComplete:"new-password",passwordRules:"minlength: 8;",clearButtonMode:"while-editing",value:f,onChangeText:g,onSubmitEditing:_,editable:R,accessibilityHint:B})]})]}),t[35]=_,t[36]=f,t[37]=L,t[38]=R,t[39]=B,t[40]=D):D=t[40],t[41]!==s?(O=(0,bt.jsx)(Bk,{error:s}),t[41]=s,t[42]=O):O=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(M=[(0,qs.web)([qs.atoms.flex_row,qs.atoms.align_center]),qs.atoms.pt_lg],t[43]=M):M=t[43],t[44]!==c||t[45]!==i?(F=r.IS_WEB&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{label:c({id:"iH8pgl"}),variant:"solid",color:"secondary",size:"large",onPress:i,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})})}),(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1})]}),t[44]=c,t[45]=i,t[46]=F):F=t[46],t[47]!==c?(N=c({id:"hXzOVo"}),t[47]=c,t[48]=N):N=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})}),t[49]=H):H=t[49],t[50]!==u?(V=u&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[50]=u,t[51]=V):V=t[51],t[52]!==u||t[53]!==_||t[54]!==N||t[55]!==V?(z=(0,bt.jsxs)(ao.Button,{label:N,color:"primary",size:"large",onPress:_,disabled:u,children:[H,V]}),t[52]=u,t[53]=_,t[54]=N,t[55]=V,t[56]=z):z=t[56],t[57]!==F||t[58]!==z?(U=(0,bt.jsxs)(Fs.default,{style:M,children:[F,z]}),t[57]=F,t[58]=z,t[59]=U):U=t[59],t[60]!==A||t[61]!==D||t[62]!==O||t[63]!==U?(W=(0,bt.jsxs)(Uk,{testID:"setNewPasswordForm",titleText:j,children:[v,A,D,O,U]}),t[60]=A,t[61]=D,t[62]=O,t[63]=U,t[64]=W):W=t[64],W};function Jk(e){const t=(0,n.c)(12),{direction:s,style:o,children:a,enabledWeb:i}=e;let l;t[0]!==s?(l="Forward"===s?yn.SlideInRight.easing(yn.Easing.out(yn.Easing.exp)):yn.SlideInLeft.easing(yn.Easing.out(yn.Easing.exp)),t[0]=s,t[1]=l):l=t[1];const c=l;let d;t[2]!==i?(d=i?yn.FadeIn.duration(90):void 0,t[2]=i,t[3]=d):d=t[3];const u=d;let m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=yn.FadeOut.duration(90),t[4]=m):m=t[4];const h=m;let p;t[5]!==i?(p=i?yn.FadeOut.duration(90):void 0,t[5]=i,t[6]=p):p=t[6];const f=p,g=r.IS_WEB?u:c,x=r.IS_WEB?f:h;let _;return t[7]!==a||t[8]!==o||t[9]!==g||t[10]!==x?(_=(0,bt.jsx)(yn.default.View,{entering:g,exiting:x,style:o,children:a}),t[7]=a,t[8]=o,t[9]=g,t[10]=x,t[11]=_):_=t[11],_}const eC=({onSelectAccount:e,onPressBack:t})=>{const[s,o]=(0,lt.useState)(null),{_:n}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),{currentAccount:i}=(0,Gt.useSession)(),{resumeSession:l}=(0,Gt.useSessionApi)(),{setShowLoggedOut:c}=Ts(),d=(0,lt.useCallback)((async t=>{if(!s)if(t.accessJwt){if(t.did===i?.did)return c(!1),void Ds.show(n({id:"5nzK7s",values:{0:t.handle}}));try{o(t.did),await l(t,!0),a.metric("account:loggedIn",{logContext:"ChooseAccountForm",withPassword:!1}),Ds.show(n({id:"Dx1GST",values:{0:t.handle}}))}catch(r){Mt.logger.error("choose account: initSession failed",{message:r instanceof Error?r.message:"Unknown error"}),e(t)}finally{o(null)}}else e(t)}),[i,l,s,e,c,n,a]);return(0,bt.jsxs)(Uk,{testID:"chooseAccountForm",titleText:(0,bt.jsx)(dt.Trans,{id:"+O3PfQ"}),style:(0,qs.web)([qs.atoms.py_2xl]),children:[(0,bt.jsxs)(Fs.default,{children:[r.IS_WEB&&(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"FT1MVS"})}),(0,bt.jsx)(yk,{onSelectAccount:d,onSelectOther:()=>e(),pendingDid:s})]}),r.IS_WEB&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row],children:[(0,bt.jsx)(ao.Button,{label:n({id:"iH8pgl"}),color:"secondary",size:"large",onPress:t,children:(0,bt.jsx)(ao.ButtonText,{children:n({id:"iH8pgl"})})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1]})]})]})},tC=ya.Header.Slot;function sC({}){return null}function oC({}){return null}function nC({}){return null}const aC=(0,lt.createContext)(null);var rC=function(e){return e[e.Login=0]="Login",e[e.ChooseAccount=1]="ChooseAccount",e[e.ForgotPassword=2]="ForgotPassword",e[e.SetNewPassword=3]="SetNewPassword",e[e.PasswordUpdated=4]="PasswordUpdated",e}(rC||{});const iC=[rC.ChooseAccount,rC.Login,rC.ForgotPassword,rC.SetNewPassword,rC.PasswordUpdated],lC=({onPressBack:e})=>{const{_:t}=(0,dt.useLingui)(),s=(0,lt.useRef)(0),o=(0,lt.useRef)(Date.now()),{accounts:n}=(0,Gt.useSession)(),{requestedAccountSwitchTo:a}=ws(),r=n.find((e=>e.did===a)),[i,l]=(0,lt.useState)(""),[c,d]=(0,lt.useState)(r?.service||Vt.DEFAULT_SERVICE),[u,m]=(0,lt.useState)(r?.handle||""),[h,p]=(0,lt.useState)(r?rC.Login:n.length?rC.ChooseAccount:rC.Login),[f,g]=(0,lt.useState)("Forward"),x=(0,Xo.useAnalytics)(),{data:_,error:y,refetch:b}=Pk(c),j=e=>{e?.service&&d(e.service),m(e?.handle||""),v(rC.Login)},v=e=>{l("");const t=iC.indexOf(h),s=iC.indexOf(e);g(t<s?"Forward":"Backward"),p(e)};(0,lt.useEffect)((()=>{y?(l(t({id:"nc4Wfd"})),Mt.logger.warn(`Failed to fetch service description for ${c}`,{error:String(y)}),x.metric("signin:hostingProviderFailedResolution",{})):l("")}),[y,c,t]);const S=()=>{v(rC.ForgotPassword),x.metric("signin:forgotPasswordPressed",{})},w=()=>{e(),g("Backward"),x.metric("signin:backPressed",{failedAttemptsCount:s.current})},T=()=>{x.metric("signin:success",{isUsingCustomProvider:c!==Vt.DEFAULT_SERVICE,timeTakenSeconds:Math.round((Date.now()-o.current)/1e3),failedAttemptsCount:s.current})},k=()=>{s.current+=1};let C=null,I="",A="",P=null;switch(h){case rC.Login:I=t({id:"5lWFkC"}),A=t({id:"T0KLp4"}),P=()=>n.length?v(rC.ChooseAccount):w(),C=(0,bt.jsx)(Kk,{error:i,serviceUrl:c,serviceDescription:_,initialHandle:u,setError:l,onAttemptFailed:k,onAttemptSuccess:T,setServiceUrl:d,onPressBack:P,onPressForgotPassword:S,onPressRetryConnect:b});break;case rC.ChooseAccount:I=t({id:"5lWFkC"}),A=t({id:"o3dwub"}),P=w,C=(0,bt.jsx)(eC,{onSelectAccount:j,onPressBack:P});break;case rC.ForgotPassword:I=t({id:"dn8X5t"}),A=t({id:"Esfg1M"}),P=()=>v(rC.Login),C=(0,bt.jsx)(Wk,{error:i,serviceUrl:c,serviceDescription:_,setError:l,setServiceUrl:d,onPressBack:P,onEmailSent:()=>v(rC.SetNewPassword)});break;case rC.SetNewPassword:I=t({id:"dn8X5t"}),A=t({id:"Esfg1M"}),P=()=>v(rC.ForgotPassword),C=(0,bt.jsx)(Xk,{error:i,serviceUrl:c,setError:l,onPressBack:P,onPasswordSet:()=>v(rC.PasswordUpdated)});break;case rC.PasswordUpdated:I=t({id:"ogtYkT"}),A=t({id:"67nRLM"}),C=(0,bt.jsx)(Zk,{onPressNext:()=>v(rC.Login)})}const E=P?{goBack:P}:null;return(0,bt.jsx)(aC,{value:E,children:(0,bt.jsx)(yn.default.View,{style:qs.atoms.flex_1,entering:(0,qs.native)(yn.FadeIn.duration(90)),children:(0,bt.jsxs)(Ck.default,{testID:"signIn",behavior:"padding",style:qs.atoms.flex_1,children:[(0,bt.jsxs)(sC,{children:[(0,bt.jsx)(nC,{}),(0,bt.jsx)(oC,{}),(0,bt.jsx)(tC,{})]}),(0,bt.jsx)(Lk,{leadin:"",title:I,description:A,scrollable:!0,children:(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,children:(0,bt.jsx)(Jk,{direction:f,children:C},h)})})]})})})};var cC=s(49297),dC=s(52335);const uC=new Date(Date.now()-63072e7);let mC=function(e){return e[e.INFO=0]="INFO",e[e.HANDLE=1]="HANDLE",e[e.CAPTCHA=2]="CAPTCHA",e}({});const hC={analytics:void 0,hasPrev:!1,activeStep:mC.INFO,screenTransitionDirection:"Forward",serviceUrl:Vt.DEFAULT_SERVICE,serviceDescription:void 0,userDomain:"",dateOfBirth:uC,email:"",password:"",handle:"",inviteCode:"",error:"",errorField:void 0,isLoading:!1,pendingSubmit:null,signupStartTime:Date.now(),fieldErrors:{"invite-code":0,email:0,handle:0,password:0,"date-of-birth":0},backgroundCount:0};function pC(e,t){let s=Object.assign({},e);switch(t.type){case"setAnalytics":s.analytics=t.value;break;case"prev":e.activeStep!==mC.INFO&&(s.screenTransitionDirection="Backward",s.activeStep--,s.error="",s.errorField=void 0);break;case"next":e.activeStep!==mC.CAPTCHA&&(s.screenTransitionDirection="Forward",s.activeStep++,s.error="",s.errorField=void 0);break;case"setStep":s.activeStep=t.value;break;case"setServiceUrl":s.serviceUrl=t.value;break;case"setServiceDescription":qr.default.configureNext(qr.default.Presets.easeInEaseOut),s.serviceDescription=t.value,s.userDomain=t.value?.availableUserDomains[0]??"",s.isLoading=!1;break;case"setEmail":s.email=t.value;break;case"setPassword":s.password=t.value;break;case"setDateOfBirth":s.dateOfBirth=t.value;break;case"setInviteCode":s.inviteCode=t.value;break;case"setHandle":s.handle=t.value;break;case"setIsLoading":s.isLoading=t.value;break;case"setError":s.error=t.value,s.errorField=t.field,t.field&&(s.fieldErrors[t.field]=(s.fieldErrors[t.field]||0)+1,e.analytics?.metric("signup:fieldError",{field:t.field,errorCount:s.fieldErrors[t.field],errorMessage:t.value,activeStep:s.activeStep}));break;case"clearError":s.error="",s.errorField=void 0;break;case"submit":s.pendingSubmit=t.task;break;case"incrementBackgroundCount":s.backgroundCount=e.backgroundCount+1,e.analytics?.metric("signup:backgrounded",{activeStep:s.activeStep,backgroundCount:s.backgroundCount})}return s.hasPrev=s.activeStep!==mC.INFO,e.analytics?.logger.debug("signup",s),e.activeStep!==s.activeStep&&e.analytics?.logger.debug("signup: step changed",{activeStep:s.activeStep}),s}const fC=lt.createContext({});fC.displayName="SignupContext";const gC=()=>lt.useContext(fC);const xC=new URL(window.location.href).host;function _C({url:e,stateParam:t,onSuccess:s,onError:o}){lt.useEffect((()=>{const e=setTimeout((()=>{o({errorMessage:"User did not complete the captcha within 30 seconds"})}),3e4);return()=>{clearTimeout(e)}}),[o]);const n=lt.useCallback((()=>{const e=document.getElementById("captcha-iframe");try{const n=e?.contentWindow?.location.href;if(!n)return;const a=new URL(n);if(a.host!==xC)return;const r=a.searchParams.get("code");if(a.searchParams.get("state")!==t||!r)return void o({error:"Invalid state or code"});s(r)}catch(n){}}),[t,s,o]);return(0,bt.jsx)("iframe",{src:e,style:yC.iframe,id:"captcha-iframe",onLoad:n})}const yC=Os.default.create({iframe:{flex:1,borderWidth:0,borderRadius:10,backgroundColor:"transparent"}});function bC(e){const t=(0,n.c)(19),{hideNext:s,showRetry:o,isLoading:a,isNextDisabled:r,onBackPress:i,onNextPress:l,onRetryPress:c,overrideNextText:d}=e,{_:u}=(0,dt.useLingui)();let m,h,p,f,g,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.pb_lg,qs.atoms.pt_3xl],t[0]=m):m=t[0],t[1]!==u?(h=u({id:"p19nbp"}),t[1]=u,t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})}),t[3]=p):p=t[3],t[4]!==i||t[5]!==h?(f=(0,bt.jsx)(ao.Button,{label:h,variant:"solid",color:"secondary",size:"large",onPress:i,children:p}),t[4]=i,t[5]=h,t[6]=f):f=t[6],t[7]!==u||t[8]!==s||t[9]!==a||t[10]!==r||t[11]!==l||t[12]!==c||t[13]!==d||t[14]!==o?(g=!s&&(o?(0,bt.jsxs)(ao.Button,{label:u({id:"Mey1Kb"}),variant:"solid",color:"primary",size:"large",onPress:c,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),a&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}):(0,bt.jsxs)(ao.Button,{testID:"nextBtn",label:u({id:"nKtyYu"}),variant:"solid",color:"primary",size:"large",disabled:a||r,onPress:l,children:[(0,bt.jsx)(ao.ButtonText,{children:d||(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})}),a&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})),t[7]=u,t[8]=s,t[9]=a,t[10]=r,t[11]=l,t[12]=c,t[13]=d,t[14]=o,t[15]=g):g=t[15],t[16]!==f||t[17]!==g?(x=(0,bt.jsxs)(Fs.default,{style:m,children:[f,g]}),t[16]=f,t[17]=g,t[18]=x):x=t[18],x}const jC=r.IS_WEB||0===r.GCP_PROJECT_ID?"/gate/signup":"/gate/signup/attempt-attest";function vC(){const e=(0,n.c)(2);if(r.IS_WEB){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(wC,{}),e[0]=t):t=e[0],t}{let t;return e[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(SC,{}),e[1]=t):t=e[1],t}}function SC(){const[e,t]=(0,lt.useState)(),[s,o]=(0,lt.useState)(),[n,a]=(0,lt.useState)(!1);return(0,lt.useEffect)((()=>{(async()=>{Mt.logger.debug("trying to generate attestation token...");try{if(r.IS_IOS){Mt.logger.debug("starting to generate devicecheck token...");const e=await cC.default.getDeviceCheckToken();t(e),Mt.logger.debug(`generated devicecheck token: ${e}`)}else{const{token:e,payload:s}=await cC.default.getIntegrityToken("signup");t(e),o(function(e){const t=(new TextEncoder).encode(e),s=String.fromCharCode(...t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/[=]/g,"")}(s))}}catch(e){Mt.logger.error(e)}finally{a(!0)}})()}),[]),n?(0,bt.jsx)(wC,{token:e,payload:s}):(0,bt.jsx)(Fs.default,{})}function wC({token:e,payload:t}){const{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),n=(0,qs.useTheme)(),{state:a,dispatch:i}=gC(),[l,c]=lt.useState(!1),d=lt.useMemo((()=>(0,Nd.nanoid)(15)),[]),u=lt.useMemo((()=>{const s=new URL(a.serviceUrl);return s.pathname=jC,s.searchParams.set("handle",(0,Fa.createFullHandle)(a.handle,a.userDomain)),s.searchParams.set("state",d),s.searchParams.set("colorScheme",n.name),r.IS_NATIVE&&e&&(s.searchParams.set("platform","web"),s.searchParams.set("token",e),r.IS_ANDROID&&t&&s.searchParams.set("payload",t)),s.href}),[a.serviceUrl,a.handle,a.userDomain,d,n.name,e,t]),m=lt.useCallback((e=>{c(!0),o.metric("signup:captchaSuccess",{}),i({type:"submit",task:{verificationCode:e,mutableProcessed:!1}})}),[o,i]),h=lt.useCallback((e=>{i({type:"setError",value:s({id:"+NtlMA"})}),o.metric("signup:captchaFailure",{}),Mt.logger.error("Signup Flow Error",{registrationHandle:a.handle,error:e})}),[s,o,i,a.handle]),p=lt.useCallback((()=>{Mt.logger.error("Signup Flow Error",{errorMessage:"User went back from captcha step. Possibly encountered an error.",registrationHandle:a.handle}),i({type:"prev"})}),[i,a.handle]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg,qs.atoms.pt_lg],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.overflow_hidden,{minHeight:510},l&&[qs.atoms.align_center,qs.atoms.justify_center]],children:l?(0,bt.jsx)(vn.default,{size:"large"}):(0,bt.jsx)(_C,{url:u,stateParam:d,state:a,onComplete:()=>c(!0),onSuccess:m,onError:h})}),(0,bt.jsx)(Bk,{error:a.error})]}),(0,bt.jsx)(bC,{hideNext:!0,isLoading:a.isLoading,onBackPress:p})]})}const TC=(e,t,s)=>["handle-availability",{handle:e,domain:t,serviceDid:s}];async function kC(e,t,{email:s,birthDate:o}){if(t===Vt.BSKY_SERVICE_DID){const t=new Ik.Agent(null,{service:Vt.BSKY_SERVICE}),{data:n}=await t.com.atproto.temp.checkHandleAvailability({handle:e,birthDate:o,email:s});if(qc.dangerousIsType(n.result,Dn.ComAtprotoTempCheckHandleAvailability.isResultAvailable))return{available:!0};if(qc.dangerousIsType(n.result,Dn.ComAtprotoTempCheckHandleAvailability.isResultUnavailable))return{available:!1,suggestions:n.result.suggestions};throw new Error(`Unexpected result of \`checkHandleAvailability\`: ${JSON.stringify(n.result)}`)}{const t=new Ik.Agent(null,{service:Vt.PUBLIC_BSKY_SERVICE});try{if((await t.resolveHandle({handle:e})).data.did)return{available:!1}}catch{}return{available:!0}}}function CC(e,t){const s=(0,n.c)(9),o=(0,lt.useRef)(e),[a,r]=(0,lt.useState)(e);let i,l,c;s[0]!==e?(i=()=>{o.current=e},l=[e],s[0]=e,s[1]=i,s[2]=l):(i=s[1],l=s[2]),(0,lt.useEffect)(i,l),s[3]!==a?(c=()=>{o.current!==a&&r(o.current)},s[3]=a,s[4]=c):c=s[4];const d=(0,Bn.useNonReactiveCallback)(c);let u,m;return s[5]!==d||s[6]!==t?(u=()=>{const e=setInterval(d,t);return()=>{clearInterval(e)}},m=[d,t],s[5]=d,s[6]=t,s[7]=u,s[8]=m):(u=s[7],m=s[8]),(0,lt.useEffect)(u,m),a}function IC(e){const t=(0,n.c)(23),{suggestions:s,onSelect:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)();let i,l,c,d,u;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,qs.native)(yn.FadeInDown.easing(yn.Easing.out(yn.Easing.exp))),l=(0,qs.native)(yn.FadeOut),t[0]=i,t[1]=l):(i=t[0],l=t[1]),t[2]!==a.atoms.bg||t[3]!==a.atoms.border_contrast_low||t[4]!==a.atoms.shadow_sm?(c=[qs.atoms.flex_1,qs.atoms.border,qs.atoms.rounded_sm,a.atoms.shadow_sm,a.atoms.bg,a.atoms.border_contrast_low,qs.atoms.mt_xs,qs.atoms.z_50,qs.atoms.w_full,qs.atoms.zoom_fade_in],t[2]=a.atoms.bg,t[3]=a.atoms.border_contrast_low,t[4]=a.atoms.shadow_sm,t[5]=c):c=t[5],t[6]!==r||t[7]!==o||t[8]!==s||t[9]!==a.atoms.bg_contrast_25||t[10]!==a.atoms.border_contrast_low||t[11]!==a.palette){let e;t[13]!==r||t[14]!==o||t[15]!==s.length||t[16]!==a.atoms.bg_contrast_25||t[17]!==a.atoms.border_contrast_low||t[18]!==a.palette?(e=(e,t)=>(0,bt.jsxs)(ao.Button,{label:r({values:{0:e.handle},id:"02ePaq"}),onPress:()=>o(e),hoverStyle:[a.atoms.bg_contrast_25],style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.p_md,qs.atoms.border_b,a.atoms.border_contrast_low,0===t&&{borderTopStartRadius:HT.borderRadius.sm,borderTopEndRadius:HT.borderRadius.sm},t===s.length-1&&[{borderBottomStartRadius:HT.borderRadius.sm,borderBottomEndRadius:HT.borderRadius.sm},qs.atoms.border_b_0]],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:e.handle}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,{color:a.palette.positive_700}],children:(0,bt.jsx)(dt.Trans,{id:"csDS2L"})})]},t),t[13]=r,t[14]=o,t[15]=s.length,t[16]=a.atoms.bg_contrast_25,t[17]=a.atoms.border_contrast_low,t[18]=a.palette,t[19]=e):e=t[19],d=s.map(e),t[6]=r,t[7]=o,t[8]=s,t[9]=a.atoms.bg_contrast_25,t[10]=a.atoms.border_contrast_low,t[11]=a.palette,t[12]=d}else d=t[12];return t[20]!==c||t[21]!==d?(u=(0,bt.jsx)(yn.default.View,{entering:i,exiting:l,style:c,children:d}),t[20]=c,t[21]=d,t[22]=u):u=t[22],u}function AC(){const{_:e}=(0,dt.useLingui)(),t=(0,Xo.useAnalytics)(),s=(0,qs.useTheme)(),{state:o,dispatch:a}=gC(),[r,i]=(0,lt.useState)(o.handle),l=CC(o.isLoading,500),c=(0,Fa.validateServiceHandle)(r,o.userDomain),{debouncedUsername:d,enabled:u,query:{data:m,isPending:h}}=function(e,t){const s=(0,n.c)(21),{username:o,serviceDomain:a,serviceDid:r,enabled:i,birthDate:l,email:c}=e,d=void 0===t?500:t,u=(0,Xo.useAnalytics)();let m;s[0]!==o?(m=o.trim(),s[0]=o,s[1]=m):m=s[1];const h=m,p=L_(h,d),f=i&&h===p,g=i&&h===p;let x,_,y;s[2]!==p||s[3]!==r||s[4]!==a?(x=TC(p,a,r),s[2]=p,s[3]=r,s[4]=a,s[5]=x):x=s[5],s[6]!==u||s[7]!==l||s[8]!==c||s[9]!==h||s[10]!==r||s[11]!==a?(_=async()=>{const e=(0,Fa.createFullHandle)(h,a),t=await kC(e,r,{email:c,birthDate:l});return t.available?u.metric("signup:handleAvailable",{typeahead:!0}):u.metric("signup:handleTaken",{typeahead:!0}),t},s[6]=u,s[7]=l,s[8]=c,s[9]=h,s[10]=r,s[11]=a,s[12]=_):_=s[12],s[13]!==g||s[14]!==x||s[15]!==_?(y={enabled:g,queryKey:x,queryFn:_},s[13]=g,s[14]=x,s[15]=_,s[16]=y):y=s[16];const b=(0,Zs.useQuery)(y);let j;return s[17]!==p||s[18]!==f||s[19]!==b?(j={debouncedUsername:p,enabled:f,query:b},s[17]=p,s[18]=f,s[19]=b,s[20]=j):j=s[20],j}({username:r,serviceDid:o.serviceDescription?.did??"UNKNOWN",serviceDomain:o.userDomain,birthDate:o.dateOfBirth.toISOString(),email:o.email,enabled:c.overall}),p=r===d,f=!h&&u&&m&&!m.available,g=h||!p,x=!(c.overall&&!o.error&&!g)||f,_=f||!c.frontLengthNotTooLong||!c.handleChars||!c.hyphenStartOrEnd||!c.totalLength;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.pt_lg,qs.atoms.z_10],children:[(0,bt.jsx)(Fs.default,{children:(0,bt.jsxs)(mo.Root,{isInvalid:_,children:[(0,bt.jsx)(mo.Icon,{icon:Vk}),(0,bt.jsx)(mo.Input,{testID:"handleInput",onChangeText:e=>{o.error&&a({type:"setError",value:""}),i(e.toLocaleLowerCase())},label:o.userDomain,value:r,keyboardType:"ascii-capable",autoCapitalize:"none",autoCorrect:!1,autoFocus:!0,autoComplete:"off"}),r.length>0&&(0,bt.jsx)(mo.GhostText,{value:o.userDomain,children:r}),m?.available&&(0,bt.jsx)(ro.Check_Stroke2_Corner0_Rounded,{testID:"handleAvailableCheck",style:[{color:s.palette.positive_500},qs.atoms.z_20]})]})}),(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xs],children:[o.error&&(0,bt.jsx)(PC,{children:(0,bt.jsx)(EC,{children:o.error})}),f&&c.overall&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(PC,{children:(0,bt.jsx)(EC,{children:(0,bt.jsx)(dt.Trans,{id:"k03BI4",values:{0:(0,Fa.createFullHandle)(r,o.userDomain)}})})}),m.suggestions&&m.suggestions.length>0&&(0,bt.jsx)(IC,{suggestions:m.suggestions,onSelect:e=>{i(e.handle.slice(0,-1*o.userDomain.length)),t.metric("signup:handleSuggestionSelected",{method:e.method})}})]}),(!c.handleChars||!c.hyphenStartOrEnd)&&(0,bt.jsx)(PC,{children:c.hyphenStartOrEnd?(0,bt.jsx)(EC,{children:(0,bt.jsx)(dt.Trans,{id:"/vfYH9"})}):(0,bt.jsx)(EC,{children:(0,bt.jsx)(dt.Trans,{id:"XF48rA"})})}),(0,bt.jsx)(PC,{children:(!c.frontLengthNotTooLong||!c.totalLength)&&(0,bt.jsx)(EC,{children:(0,bt.jsx)(dt.Trans,{id:"YeQMzm",values:{MAX_SERVICE_HANDLE_LENGTH:Fa.MAX_SERVICE_HANDLE_LENGTH}})})})]})})]}),(0,bt.jsx)(yn.default.View,{layout:(0,qs.native)(yn.LinearTransition),children:(0,bt.jsx)(bC,{isLoading:l,isNextDisabled:x,onBackPress:()=>{const e=r.trim();a({type:"setHandle",value:e}),a({type:"prev"}),t.metric("signup:backPressed",{activeStep:o.activeStep})},onNextPress:async()=>{const s=r.trim();if(a({type:"setHandle",value:s}),c.overall){a({type:"setIsLoading",value:!0});try{const{available:n}=await kC((0,Fa.createFullHandle)(s,o.userDomain),o.serviceDescription?.did??"UNKNOWN",{});if(!n)return t.metric("signup:handleTaken",{typeahead:!1}),void a({type:"setError",value:e({id:"LK5hci"}),field:"handle"});t.metric("signup:handleAvailable",{typeahead:!1})}catch(n){Mt.logger.error("Failed to check handle availability on next press",{safeMessage:n})}finally{a({type:"setIsLoading",value:!1})}t.metric("signup:nextPressed",{activeStep:o.activeStep,phoneVerificationRequired:o.serviceDescription?.phoneVerificationRequired}),o.serviceDescription?.phoneVerificationRequired?a({type:"next"}):a({type:"submit",task:{verificationCode:void 0,mutableProcessed:!1}})}}})})]})}function PC(e){const t=(0,n.c)(6),{children:s}=e;let o,a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.w_full],a=(0,qs.native)(yn.LinearTransition),r=(0,qs.native)(yn.FadeIn),i=(0,qs.native)(yn.FadeOut),t[0]=o,t[1]=a,t[2]=r,t[3]=i):(o=t[0],a=t[1],r=t[2],i=t[3]),t[4]!==s?(l=(0,bt.jsx)(yn.default.View,{style:o,layout:a,entering:r,exiting:i,children:s}),t[4]=s,t[5]=l):l=t[5],l}function EC(e){const t=(0,n.c)(5),{children:s}=e,o=(0,qs.useTheme)();let a,r;return t[0]!==o.palette.negative_500?(a=[qs.atoms.text_sm,qs.atoms.flex_1,{color:o.palette.negative_500}],t[0]=o.palette.negative_500,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(co.Text,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}const LC=/([a-zA-Z0-9._%+-]+)@(gnail\.(co|com)|gmaill\.(co|com)|gmai\.(co|com)|gmail\.co|gmal\.(co|com)|iclod\.(co|com)|icloud\.co|outllok\.(co|com)|outlok\.(co|com)|outlook\.co|yaoo\.(co|com)|yaho\.(co|com)|yahoo\.co|yahooo\.(co|com))$/;function RC(e,t){return!t.parse(e).isIcann||LC.test(e)}const BC=e=>{const t=(0,n.c)(33),{serviceDescription:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();if(!s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{}),t[0]=e):e=t[0],e}const r=s.links?.termsOfService;let i;t[1]!==r?(i=DC(r),t[1]=r,t[2]=i):i=t[2];const l=i,c=s.links?.privacyPolicy;let d;t[3]!==c?(d=DC(c),t[3]=c,t[4]=d):d=t[4];const u=d;if(!l&&!u){let e,s;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.gap_sm],t[5]=e):e=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(Fs.default,{style:e,children:(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"B0LV5B"})})}),t[6]=s):s=t[6],s}let m,h;if(l&&u){let e,s,o,n,r;t[7]!==a?(e=a({id:"0CnYjF"}),t[7]=a,t[8]=e):e=t[8],t[9]!==e||t[10]!==l?(s=(0,bt.jsx)(io.InlineLinkText,{label:e,to:l},"tos"),t[9]=e,t[10]=l,t[11]=s):s=t[11],t[12]!==a?(o=a({id:"SVSh8N"}),t[12]=a,t[13]=o):o=t[13],t[14]!==u||t[15]!==o?(n=(0,bt.jsx)(io.InlineLinkText,{label:o,to:u},"pp"),t[14]=u,t[15]=o,t[16]=n):n=t[16],t[17]!==s||t[18]!==n?(r=(0,bt.jsx)(dt.Trans,{id:"m4Iks8",components:{0:s,1:n}}),t[17]=s,t[18]=n,t[19]=r):r=t[19],m=r}else if(l){let e,s;t[20]!==a?(e=a({id:"0CnYjF"}),t[20]=a,t[21]=e):e=t[21],t[22]!==e||t[23]!==l?(s=(0,bt.jsx)(dt.Trans,{id:"YGbIdH",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:e,to:l},"tos")}}),t[22]=e,t[23]=l,t[24]=s):s=t[24],m=s}else{if(!u)return null;{let e,s;t[25]!==a?(e=a({id:"SVSh8N"}),t[25]=a,t[26]=e):e=t[26],t[27]!==u||t[28]!==e?(s=(0,bt.jsx)(dt.Trans,{id:"MwYjJa",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:e,to:u},"pp")}}),t[27]=u,t[28]=e,t[29]=s):s=t[29],m=s}}return t[30]!==m||t[31]!==o?(h=m?(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,o.atoms.text_contrast_medium],children:m}):null,t[30]=m,t[31]=o,t[32]=h):h=t[32],h};function DC(e){return e&&(e.startsWith("http://")||e.startsWith("https://"))?e:void 0}const OC=(0,ti.createSinglePathSVG)({path:"M12 2a8 8 0 0 1 8 8c0 3.305-1.953 6.29-3.745 8.355a25.964 25.964 0 0 1-3.333 3.197c-.101.08-.181.142-.237.184l-.067.05-.018.014-.005.004-.002.002h-.001c-.003-.004-.042-.055-.592-.806l.592.807a1.001 1.001 0 0 1-1.184 0v-.001l-.003-.002-.005-.004-.018-.014-.067-.05a23.449 23.449 0 0 1-1.066-.877 25.973 25.973 0 0 1-2.504-2.503C5.953 16.29 4 13.305 4 10a8 8 0 0 1 8-8Zm0 2a6 6 0 0 0-6 6c0 2.56 1.547 5.076 3.255 7.044A23.978 23.978 0 0 0 12 19.723a23.976 23.976 0 0 0 2.745-2.679C16.453 15.076 18 12.56 18 10a6 6 0 0 0-6-6Zm-.002 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Zm0 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"});(0,ti.createSinglePathSVG)({path:"M12.591 21.806h.002l.001-.002.006-.004.018-.014a10.028 10.028 0 0 0 .304-.235 25.952 25.952 0 0 0 3.333-3.196C18.048 16.29 20 13.305 20 10a8 8 0 1 0-16 0c0 3.305 1.952 6.29 3.745 8.355a25.955 25.955 0 0 0 3.333 3.196 15.733 15.733 0 0 0 .304.235l.018.014.006.004.002.002a1 1 0 0 0 1.183 0Zm-.593-9.306a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"});var MC=s(79758);function FC(e){const t=(0,n.c)(13),{control:s,onLocationAcquired:o}=e,{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Qs.Handle,{}),t[0]=r):r=t[0],t[1]!==a?(i=a({id:"+TMC6s"}),t[1]=a,t[2]=i):i=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[(0,qs.web)({maxWidth:380})],t[3]=l):l=t[3],t[4]!==o?(c=(0,bt.jsx)(NC,{onLocationAcquired:o}),t[4]=o,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(Qs.Close,{}),t[6]=d):d=t[6],t[7]!==i||t[8]!==c?(u=(0,bt.jsxs)(Qs.ScrollableInner,{label:i,style:l,children:[c,d]}),t[7]=i,t[8]=c,t[9]=u):u=t[9],t[10]!==s||t[11]!==u?(m=(0,bt.jsxs)(Qs.Outer,{control:s,children:[r,u]}),t[10]=s,t[11]=u,t[12]=m):m=t[12],m}function NC({onLocationAcquired:e}){const t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),{close:o}=Qs.useDialogContext(),n=(0,MC.useRequestDeviceGeolocation)(),a=to(),[i,l]=(0,lt.useState)(!1),[c,d]=(0,lt.useState)(""),[u,m]=(0,lt.useState)(!1);return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"+TMC6s"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.pb_xs],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"0SmFVL"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,t.atoms.text_contrast_medium,qs.atoms.pb_xs],children:(0,bt.jsx)(dt.Trans,{id:"wanGh/"})})]}),c&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_xs],children:(0,bt.jsx)(no.Admonition,{type:"error",children:c})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[!u&&(0,bt.jsxs)(ao.Button,{disabled:i,label:s({id:"mbP4Fk"}),onPress:async()=>{d(""),l(!0);try{const t=await(0,eo.wait)(1e3,n());if(t.granted){const n=t.location;n&&n.countryCode?e?.({geolocation:n,setDialogError:d,disableDialogAction:()=>m(!0),closeDialog:o}):d(s({id:"hhIyma"}))}else d(s({id:"zUCFyf"}))}catch(t){const{clean:e,raw:s}=a(t);d(e||s||t.message),oo(t)||Mt.logger.error("blockedGeoOverlay: unexpected error",{safeMessage:t.message})}finally{l(!1)}},size:r.IS_WEB?"small":"large",color:"primary",children:[(0,bt.jsx)(ao.ButtonIcon,{icon:i?lo.Loader:OC}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"mbP4Fk"})})]}),!r.IS_WEB&&(0,bt.jsx)(ao.Button,{label:s({id:"dEgA5A"}),onPress:()=>o(),size:r.IS_WEB?"small":"large",color:"secondary",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})})]})]})}var HC=s(78698);const VC=Ii.PolicyUpdate202508,zC=VC,UC=!1,WC=Mt.Logger.create(Mt.Logger.Context.PolicyUpdate);var GC=s(6240);function qC(e){return e&&"Invalid Date"!==e.toString()?e:(Mt.logger.error("Create account: handled invalid date for birthDate",{hasDate:!!e}),new Date)}function QC({onPressBack:e,isServerError:t,refetchServer:o,isLoadingStarterPack:a}){const{_:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),{state:c,dispatch:d}=gC(),u=function(){const e=(0,n.c)(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[zC],e[0]=t):t=e[0];const[,s]=(0,Is.useStorage)(Is.device,t);let o;return e[1]!==s?(o=()=>{WC.debug("preemptively completing active policy update"),s(!0)},e[1]=s,e[2]=o):o=e[2],o}(),m=(0,lt.useRef)(c.inviteCode),h=(0,lt.useRef)(c.email),p=(0,lt.useRef)(c.email),f=(0,lt.useRef)(c.password),g=(0,lt.useRef)(null),x=(0,lt.useRef)(null),_=(0,lt.useRef)(null),y=(0,GC.useAgeAssuranceRegionConfigWithFallback)(),{setDeviceGeolocation:b}=(0,MC.useDeviceGeolocationApi)(),j=Qs.useDialogControl(),v=!c.dateOfBirth||!(0,GC.isUnderAge)(c.dateOfBirth.toISOString(),y.minAccessAge),S=!c.dateOfBirth||!(0,GC.isUnderAge)(c.dateOfBirth.toISOString(),GC.MIN_ACCESS_AGE),w=!c.dateOfBirth||!(0,GC.isUnderAge)(c.dateOfBirth.toISOString(),18),T=(0,MC.useIsDeviceGeolocationGranted)(),[k,C]=lt.useState(!1),I=lt.useRef(void 0);lt.useEffect((()=>{s.e(812).then(s.t.bind(s,64812,19)).then((e=>{I.current=e})),s.e(19).then(s.bind(s,19))}),[]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,qs.atoms.pt_lg],children:[(0,bt.jsx)(Bk,{error:c.error}),(0,bt.jsx)(Hk,{minimal:!0,serviceUrl:c.serviceUrl,onSelectServiceUrl:e=>d({type:"setServiceUrl",value:e})}),c.isLoading||a?(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):c.serviceDescription?(0,bt.jsxs)(bt.Fragment,{children:[c.serviceDescription.inviteCodeRequired&&(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"6KlkHI"})}),(0,bt.jsxs)(mo.Root,{isInvalid:"invite-code"===c.errorField,children:[(0,bt.jsx)(mo.Icon,{icon:Qk}),(0,bt.jsx)(mo.Input,{onChangeText:e=>{m.current=e.trim(),"invite-code"===c.errorField&&e.trim().length>0&&d({type:"clearError"})},label:i({id:"8XIT+P"}),defaultValue:c.inviteCode,autoCapitalize:"none",autoComplete:"email",keyboardType:"email-address",returnKeyType:"next",submitBehavior:(0,qs.native)("submit"),onSubmitEditing:(0,qs.native)((()=>g.current?.focus()))})]})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"O3oNi5"})}),(0,bt.jsxs)(mo.Root,{isInvalid:"email"===c.errorField,children:[(0,bt.jsx)(mo.Icon,{icon:bo.Envelope_Stroke2_Corner0_Rounded}),(0,bt.jsx)(mo.Input,{testID:"emailInput",inputRef:g,onChangeText:e=>{h.current=e.trim(),k&&C(!1),"email"===c.errorField&&e.trim().length>0&&Co.validate(e.trim())&&d({type:"clearError"})},label:i({id:"xRPn3U"}),defaultValue:c.email,autoCapitalize:"none",autoComplete:"email",keyboardType:"email-address",returnKeyType:"next",submitBehavior:(0,qs.native)("submit"),onSubmitEditing:(0,qs.native)((()=>x.current?.focus()))})]})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"8ZsakT"})}),(0,bt.jsxs)(mo.Root,{isInvalid:"password"===c.errorField,children:[(0,bt.jsx)(mo.Icon,{icon:uw}),(0,bt.jsx)(mo.Input,{testID:"passwordInput",inputRef:x,onChangeText:e=>{f.current=e,"password"===c.errorField&&e.length>=8&&d({type:"clearError"})},label:i({id:"Wk8hkn"}),defaultValue:c.password,secureTextEntry:!0,autoComplete:"new-password",autoCapitalize:"none",returnKeyType:"next",submitBehavior:(0,qs.native)("blurAndSubmit"),onSubmitEditing:(0,qs.native)((()=>_.current?.focus())),passwordRules:"minlength: 8;"})]})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(HC.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"k7hmsH"})}),(0,bt.jsx)(HC.DateField,{testID:"date",inputRef:_,value:c.dateOfBirth,onChangeDate:e=>{d({type:"setDateOfBirth",value:qC(new Date(e))})},label:i({id:"Dh+FIh"}),accessibilityHint:i({id:"bVqpL8"}),maximumDate:new Date})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(BC,{serviceDescription:c.serviceDescription}),v&&S?w?void 0:(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"lNmiLw"})}):(0,bt.jsx)(no.Outer,{type:"error",children:(0,bt.jsxs)(no.Row,{children:[(0,bt.jsx)(no.Icon,{}),(0,bt.jsxs)(no.Content,{children:[(0,bt.jsx)(no.Text,{children:S?(0,bt.jsx)(dt.Trans,{id:"Xpps1J",values:{0:y.minAccessAge}}):(0,bt.jsx)(dt.Trans,{id:"irZWvV",values:{MIN_ACCESS_AGE:GC.MIN_ACCESS_AGE}})}),r.IS_NATIVE&&!T&&S&&(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(dt.Trans,{id:"cmwiGm",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,Object.assign({label:i({id:"dIYOb4"})},(0,io.createStaticClick)((()=>{j.open()}))))}})})]})]})})]}),r.IS_NATIVE&&(0,bt.jsx)(FC,{control:j,onLocationAcquired:e=>{e.closeDialog((()=>{b(e.geolocation),Pd.show(i({id:"ladFpS"}),{type:"success"})}))}})]}):void 0]}),(0,bt.jsx)(bC,{hideNext:!v,showRetry:t,isLoading:c.isLoading,onBackPress:e,onNextPress:()=>{const e=m.current,t=h.current,s=p.current!==t,o=f.current;if(v){if(c.serviceDescription?.inviteCodeRequired&&!e)return d({type:"setError",value:i({id:"dTtPxd"}),field:"invite-code"});if(!t)return d({type:"setError",value:i({id:"hV+cYN"}),field:"email"});if(!Co.validate(t))return d({type:"setError",value:i({id:"tBpzKB"}),field:"email"});if(s&&I.current){if(RC(t,I.current))return p.current=t,C(!0),d({type:"setError",value:i({id:"Htk+Ee"})})}else k&&C(!1);if(p.current=t,!o)return d({type:"setError",value:i({id:"5vI4sE"}),field:"password"});if(o.length<8)return d({type:"setError",value:i({id:"XVBkum"}),field:"password"});u(),d({type:"setInviteCode",value:e}),d({type:"setEmail",value:t}),d({type:"setPassword",value:o}),d({type:"next"}),l.metric("signup:nextPressed",{activeStep:c.activeStep})}},onRetryPress:o,overrideNextText:k?i({id:"Kc7qnr"}):void 0})]})}function KC(){const e=(0,n.c)(26),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,On.useQueryClient)(),a=(0,Bt.useLanguagePrefs)(),r=(0,Bt.useLanguagePrefsApi)();let i;e[0]!==a.appLanguage?(i=(0,Lt.sanitizeAppLanguageSetting)(a.appLanguage),e[0]=a.appLanguage,e[1]=i):i=e[1];const l=i;let c;e[2]!==o||e[3]!==l||e[4]!==r?(c=e=>{e&&(l!==e&&r.setAppLanguage((0,Lt.sanitizeAppLanguageSetting)(e)),(0,Jr.resetPostsFeedQueries)(o))},e[2]=o,e[3]=l,e[4]=r,e[5]=c):c=e[5];const d=c;let u,m,h,p,f,g,x,_;return e[6]!==a.appLanguage?(u=(0,Lt.sanitizeAppLanguageSetting)(a.appLanguage),e[6]=a.appLanguage,e[7]=u):u=e[7],e[8]!==s?(m=s({id:"4Sp55Z"}),e[8]=s,e[9]=m):m=e[9],e[10]!==s||e[11]!==t.atoms.text_contrast_medium?(h=e=>{const{props:o}=e;return(0,bt.jsxs)(ao.Button,Object.assign({},o,{label:o.accessibilityLabel,size:(0,qs.platform)({web:"tiny",native:"small"}),variant:"ghost",color:"secondary",shape:"rectangular",style:[qs.atoms.pr_xs,qs.atoms.pl_sm,(0,qs.platform)({web:[{alignSelf:"flex-start"},qs.atoms.gap_sm],native:[qs.atoms.gap_xs]})],children:[(0,bt.jsx)(V_.ValueText,{placeholder:s({id:"6amBvO"}),style:[t.atoms.text_contrast_medium]}),(0,bt.jsx)(V_.Icon,{style:[t.atoms.text_contrast_medium]})]}))},e[10]=s,e[11]=t.atoms.text_contrast_medium,e[12]=h):h=e[12],e[13]!==m||e[14]!==h?(p=(0,bt.jsx)(V_.Trigger,{label:m,children:h}),e[13]=m,e[14]=h,e[15]=p):p=e[15],e[16]!==s?(f=s({id:"k/sb6z"}),e[16]=s,e[17]=f):f=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(g=Rt.APP_LANGUAGES.map(ZC),e[18]=g):g=e[18],e[19]!==f?(x=(0,bt.jsx)(V_.Content,{label:f,renderItem:YC,items:g}),e[19]=f,e[20]=x):x=e[20],e[21]!==d||e[22]!==u||e[23]!==p||e[24]!==x?(_=(0,bt.jsxs)(V_.Root,{value:u,onValueChange:d,children:[p,x]}),e[21]=d,e[22]=u,e[23]=p,e[24]=x,e[25]=_):_=e[25],_}function ZC(e){return{label:e.name,value:e.code2}}function YC(e){const{label:t,value:s}=e;return(0,bt.jsxs)(V_.Item,{value:s,label:t,children:[(0,bt.jsx)(V_.ItemIndicator,{}),(0,bt.jsx)(V_.ItemText,{children:t})]})}function $C({onPressBack:e}){const t=(0,Xo.useAnalytics)(),{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),[n,a]=(0,lt.useReducer)(pC,Object.assign({},hC,{analytics:t})),{gtMobile:i}=(0,qs.useBreakpoints)(),l=function(){const e=(0,Xo.useAnalytics)(),{_:t}=(0,dt.useLingui)(),{createAccount:s}=(0,Gt.useSessionApi)(),o=(0,hs.useOnboardingDispatch)();return(0,lt.useCallback)((async(n,a)=>{if(!n.email)return a({type:"setStep",value:mC.INFO}),a({type:"setError",value:t({id:"hV+cYN"}),field:"email"});if(!Co.validate(n.email))return a({type:"setStep",value:mC.INFO}),a({type:"setError",value:t({id:"tBpzKB"}),field:"email"});if(!n.password)return a({type:"setStep",value:mC.INFO}),a({type:"setError",value:t({id:"5vI4sE"}),field:"password"});if(!n.handle)return a({type:"setStep",value:mC.HANDLE}),a({type:"setError",value:t({id:"Aw5fOC"}),field:"handle"});if(n.serviceDescription?.phoneVerificationRequired&&!n.pendingSubmit?.verificationCode)return a({type:"setStep",value:mC.CAPTCHA}),e.logger.error("Signup Flow Error",{errorMessage:"Verification captcha code was not set.",registrationHandle:n.handle}),a({type:"setError",value:t({id:"81dqTb"})});a({type:"setError",value:""}),a({type:"setIsLoading",value:!0});try{await s({service:n.serviceUrl,email:n.email,handle:(0,Fa.createFullHandle)(n.handle,n.userDomain),password:n.password,birthDate:n.dateOfBirth,inviteCode:n.inviteCode.trim(),verificationCode:n.pendingSubmit?.verificationCode},{signupDuration:Date.now()-n.signupStartTime,fieldErrorsTotal:Object.values(n.fieldErrors).reduce(((e,t)=>e+t),0),backgroundCount:n.backgroundCount}),o({type:"start"})}catch(r){let s=r.toString();if(r instanceof Dn.ComAtprotoServerCreateAccount.InvalidInviteCodeError)return a({type:"setError",value:t({id:"MYTV5o"}),field:"invite-code"}),void a({type:"setStep",value:mC.INFO});const o=(0,Tn.cleanError)(s),i=o.toLowerCase().includes("handle");a({type:"setIsLoading",value:!1}),a({type:"setError",value:o,field:i?"handle":void 0}),a({type:"setStep",value:i?2:1}),e.logger.error("Signup Flow Error",{errorMessage:o,registrationHandle:n.handle})}finally{a({type:"setIsLoading",value:!1})}}),[t,o,s])}();(0,lt.useEffect)((()=>{a({type:"setAnalytics",value:t})}),[t]);const c=_s(),{data:d,isFetching:u,isError:m}=(0,dC.useStarterPackQuery)({uri:c?.uri}),[h]=(0,lt.useState)(null!=d),p=c?.uri&&!u&&d,{data:f,isFetching:g,isError:x,refetch:_}=Pk(n.serviceUrl);return(0,lt.useEffect)((()=>{g?a({type:"setIsLoading",value:!0}):g||a({type:"setIsLoading",value:!1})}),[g]),(0,lt.useEffect)((()=>{x?(a({type:"setServiceDescription",value:void 0}),a({type:"setError",value:s({id:"nc4Wfd"})})):f&&(a({type:"setServiceDescription",value:f}),a({type:"setError",value:""}))}),[s,f,x]),(0,lt.useEffect)((()=>{n.pendingSubmit&&(n.pendingSubmit.mutableProcessed||(n.pendingSubmit.mutableProcessed=!0,l(n,a)))}),[n,a,l]),(0,lt.useEffect)((()=>{const e=ut.default.addEventListener("change",(e=>{"background"===e&&a({type:"incrementBackgroundCount"})}));return()=>e.remove()}),[]),(0,lt.useEffect)((()=>{r.IS_ANDROID&&cC.default.warmupIntegrity(r.GCP_PROJECT_ID).catch((e=>Mt.logger.error(e)))}),[]),(0,bt.jsx)(yn.default.View,{exiting:(0,qs.native)(yn.FadeIn.duration(90)),style:qs.atoms.flex_1,children:(0,bt.jsx)(fC.Provider,{value:{state:n,dispatch:a},children:(0,bt.jsx)(Lk,{leadin:"",title:s({id:"IS0nrP"}),description:s({id:"qjBGxf"}),scrollable:!0,children:(0,bt.jsxs)(Fs.default,{testID:"createAccount",style:qs.atoms.flex_1,children:[p&&qc.dangerousIsType(d.record,Dn.AppBskyGraphStarterpack.isRecord)?(0,bt.jsx)(yn.default.View,{entering:h?void 0:yn.FadeIn,children:(0,bt.jsxs)(VT,{style:[qs.atoms.mx_lg,qs.atoms.p_lg,qs.atoms.gap_sm,qs.atoms.rounded_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_xl,{color:"white"}],children:d.record.name}),(0,bt.jsx)(co.Text,{style:[{color:"white"}],children:d.feeds?.length?(0,bt.jsx)(dt.Trans,{id:"r8guei"}):(0,bt.jsx)(dt.Trans,{id:"D2GbDf"})})]})}):null,(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,children:(0,bt.jsx)(Jk,{direction:n.screenTransitionDirection,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.px_xl,qs.atoms.pt_2xl,!i&&{paddingBottom:100}],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.pb_3xl],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"PUTOoP",values:{0:n.activeStep+1,1:n.serviceDescription&&!n.serviceDescription.phoneVerificationRequired?"2":"3"}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_3xl,qs.atoms.font_semi_bold],children:n.activeStep===mC.INFO?(0,bt.jsx)(dt.Trans,{id:"gdRnT7"}):n.activeStep===mC.HANDLE?(0,bt.jsx)(dt.Trans,{id:"SKNaGJ"}):(0,bt.jsx)(dt.Trans,{id:"9tzjF3"})})]}),n.activeStep===mC.INFO?(0,bt.jsx)(QC,{onPressBack:e,isLoadingStarterPack:u&&!m,isServerError:x,refetchServer:_}):n.activeStep===mC.HANDLE?(0,bt.jsx)(AC,{}):(0,bt.jsx)(vC,{}),(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.py_lg,qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.align_center],children:[(0,bt.jsx)(KC,{}),(0,bt.jsxs)(co.Text,{style:[qs.atoms.flex_1,o.atoms.text_contrast_medium,!i&&qs.atoms.text_md],children:[(0,bt.jsx)(dt.Trans,{id:"C1DCFO"})," ",(0,bt.jsx)(io.InlineLinkText,{label:s({id:"mpby9d"}),to:(0,Vt.FEEDBACK_FORM_URL)({email:n.email}),style:[!i&&qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"mpby9d"})})]})]})]})},n.activeStep)})]})})})})}var XC=s(37777);const JC=yn.default.createAnimatedComponent(ln.default);function eI(e){window.webkit.messageHandlers.onMessage.postMessage(JSON.stringify(e))}function tI(e){const t=(0,n.c)(15),{setScreenState:s}=e,o=(0,ds.useModerationOpts)(),a=_s(),r=a?.uri;let i;t[0]!==r?(i={uri:r},t[0]=r,t[1]=i):i=t[1];const{data:l,isError:c,isFetching:d}=(0,dC.useStarterPackQuery)(i);let u;t[2]!==l?(u=l&&l.list&&Dn.AppBskyGraphDefs.validateStarterPackView(l)&&Dn.AppBskyGraphStarterpack.validateRecord(l.record),t[2]=l,t[3]=u):u=t[3];const m=u;let h,p,f;if(t[4]!==c||t[5]!==m||t[6]!==s||t[7]!==l?(h=()=>{(c||l&&!m)&&s(iI.S_LoginOrCreateAccount)},p=[c,s,m,l],t[4]=c,t[5]=m,t[6]=s,t[7]=l,t[8]=h,t[9]=p):(h=t[8],p=t[9]),lt.useEffect(h,p),d||!l||!m||!o){let e;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(yS,{isLoading:!0}),t[10]=e):e=t[10],e}return qc.dangerousIsType(l.record,Dn.AppBskyGraphStarterpack.isRecord)?(t[11]!==o||t[12]!==s||t[13]!==l?(f=(0,bt.jsx)(sI,{starterPack:l,starterPackRecord:l.record,setScreenState:s,moderationOpts:o}),t[11]=o,t[12]=s,t[13]=l,t[14]=f):f=t[14],f):null}function sI(e){const t=(0,n.c)(110),{starterPack:s,starterPackRecord:o,setScreenState:a,moderationOpts:i}=e,{creator:l,listItemsSample:c,feeds:d}=s,{_:u,i18n:m}=(0,dt.useLingui)(),h=(0,Xo.useAnalytics)(),p=(0,qs.useTheme)(),f=_s(),g=ys(),{isTabletOrDesktop:x}=(0,jn.useWebMediaQueries)(),_=(0,Qs.useDialogControl)(),[y]=(0,XC.useRichText)(o.description||""),[b,j]=lt.useState(!1),v=s.list?.listItemCount??0;let S;t[0]!==a?(S=()=>{a(iI.S_CreateAccount)},t[0]=a,t[1]=S):S=t[1];const w=S;let T;t[2]!==f?.isClip||t[3]!==_||t[4]!==h||t[5]!==w||t[6]!==s.uri?(T=()=>{f?.isClip?(j(!0),eI({action:"present"})):r.IS_WEB_MOBILE_ANDROID?_.open():w(),h.metric("starterPack:ctaPress",{starterPack:s.uri})},t[2]=f?.isClip,t[3]=_,t[4]=h,t[5]=w,t[6]=s.uri,t[7]=T):T=t[7];const k=T;let C;t[8]!==f?.isClip||t[9]!==g||t[10]!==a?(C=()=>{f?.isClip?(j(!0),eI({action:"present"})):(g(void 0),a(iI.S_CreateAccount))},t[8]=f?.isClip,t[9]=g,t[10]=a,t[11]=C):C=t[11];const I=C;let A,P,E,L,R,B,D,O;t[12]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.flex_1],t[12]=A):A=t[12],t[13]!==x?(P=x&&[qs.atoms.mt_2xl,qs.atoms.rounded_md],t[13]=x,t[14]=P):P=t[14],t[15]!==f?.isClip?(E=f?.isClip&&{paddingTop:100},t[15]=f?.isClip,t[16]=E):E=t[16],t[17]!==P||t[18]!==E?(L=[qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.px_lg,qs.atoms.py_2xl,P,E],t[17]=P,t[18]=E,t[19]=L):L=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.pb_sm],children:(0,bt.jsx)(Av,{width:76,fill:"white"})}),t[20]=R):R=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.font_semi_bold,qs.atoms.text_4xl,qs.atoms.text_center,qs.atoms.leading_tight,{color:"white"}],t[21]=B):B=t[21],t[22]!==o.name?(D=(0,bt.jsx)(co.Text,{style:B,children:o.name}),t[22]=o.name,t[23]=D):D=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.text_center,qs.atoms.font_semi_bold,qs.atoms.text_md,{color:"white"}],t[24]=O):O=t[24];const M=`@${l.handle}`;let F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe,_e;return t[25]!==M?(F=(0,bt.jsxs)(co.Text,{style:O,children:["Starter pack by ",M]}),t[25]=M,t[26]=F):F=t[26],t[27]!==D||t[28]!==F||t[29]!==L?(N=(0,bt.jsxs)(VT,{style:L,children:[R,D,F]}),t[27]=D,t[28]=F,t[29]=L,t[30]=N):N=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(H=[qs.atoms.gap_2xl,qs.atoms.mx_lg,qs.atoms.my_2xl],t[31]=H):H=t[31],t[32]!==y||t[33]!==o.description?(V=o.description?(0,bt.jsx)(Yi.RichText,{value:y,style:[qs.atoms.text_md]}):null,t[32]=y,t[33]=o.description,t[34]=V):V=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(z=[qs.atoms.gap_sm],t[35]=z):z=t[35],t[36]!==u?(U=u({id:"KBdkDa"}),t[36]=u,t[37]=U):U=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(W=(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_lg],children:(0,bt.jsx)(dt.Trans,{id:"KBdkDa"})}),t[38]=W):W=t[38],t[39]!==k||t[40]!==U?(G=(0,bt.jsx)(ao.Button,{label:U,onPress:k,variant:"solid",color:"primary",size:"large",children:W}),t[39]=k,t[40]=U,t[41]=G):G=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(q=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[42]=q):q=t[42],t[43]!==p.atoms.text_contrast_medium.color?(Q=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"arrow-trend-up",size:12,color:p.atoms.text_contrast_medium.color}),t[43]=p.atoms.text_contrast_medium.color,t[44]=Q):Q=t[44],t[45]!==p.atoms.text_contrast_medium?(K=[qs.atoms.font_semi_bold,qs.atoms.text_sm,p.atoms.text_contrast_medium],t[45]=p.atoms.text_contrast_medium,t[46]=K):K=t[46],t[47]!==m?(Z=(0,Bc.formatCount)(m,Vt.JOINED_THIS_WEEK),t[47]=m,t[48]=Z):Z=t[48],t[49]!==Z?(Y=(0,bt.jsx)(dt.Trans,{id:"o5pjre",values:{0:Z}}),t[49]=Z,t[50]=Y):Y=t[50],t[51]!==K||t[52]!==Y?($=(0,bt.jsx)(co.Text,{style:K,numberOfLines:1,children:Y}),t[51]=K,t[52]=Y,t[53]=$):$=t[53],t[54]!==Q||t[55]!==$?(X=(0,bt.jsxs)(Fs.default,{style:q,children:[Q,$]}),t[54]=Q,t[55]=$,t[56]=X):X=t[56],t[57]!==G||t[58]!==X?(J=(0,bt.jsxs)(Fs.default,{style:z,children:[G,X]}),t[57]=G,t[58]=X,t[59]=J):J=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(ee=[qs.atoms.gap_3xl],t[60]=ee):ee=t[60],t[61]!==x||t[62]!==v||t[63]!==c?.length||t[64]!==i||t[65]!==s.listItemsSample||t[66]!==p.atoms.border_contrast_low?(te=Boolean(c?.length)&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_lg],children:v<=8?(0,bt.jsx)(dt.Trans,{id:"ffCfHg"}):(0,bt.jsx)(dt.Trans,{id:"r1EF/7",values:{0:v-8}})}),(0,bt.jsx)(Fs.default,{style:x&&[qs.atoms.border,qs.atoms.rounded_md,p.atoms.border_contrast_low],children:s.listItemsSample?.filter(oI).slice(0,8).map(((e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_lg,qs.atoms.px_md,(!x||0!==t)&&qs.atoms.border_t,p.atoms.border_contrast_low,{pointerEvents:"none"}],children:(0,bt.jsx)(Rl.Default,{profile:e.subject,moderationOpts:i})},e.subject.did)))})]}),t[61]=x,t[62]=v,t[63]=c?.length,t[64]=i,t[65]=s.listItemsSample,t[66]=p.atoms.border_contrast_low,t[67]=te):te=t[67],t[68]!==d||t[69]!==x||t[70]!==p.atoms.border_contrast_low?(se=d?.length?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_lg],children:(0,bt.jsx)(dt.Trans,{id:"fIBrNw"})}),(0,bt.jsx)(Fs.default,{style:[{pointerEvents:"none"},x&&[qs.atoms.border,qs.atoms.rounded_md,p.atoms.border_contrast_low]],children:d?.map(((e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_lg,qs.atoms.px_md,(!x||0!==t)&&qs.atoms.border_t,p.atoms.border_contrast_low],children:(0,bt.jsx)(xl,{view:e})},e.uri)))})]}):null,t[68]=d,t[69]=x,t[70]=p.atoms.border_contrast_low,t[71]=se):se=t[71],t[72]!==te||t[73]!==se?(oe=(0,bt.jsxs)(Fs.default,{style:ee,children:[te,se]}),t[72]=te,t[73]=se,t[74]=oe):oe=t[74],t[75]!==u?(ne=u({id:"OSTROH"}),t[75]=u,t[76]=ne):ne=t[76],t[77]===Symbol.for("react.memo_cache_sentinel")?(ae=[qs.atoms.py_lg],t[77]=ae):ae=t[77],t[78]===Symbol.for("react.memo_cache_sentinel")?(re=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"OSTROH"})}),t[78]=re):re=t[78],t[79]!==I||t[80]!==ne?(ie=(0,bt.jsx)(ao.Button,{label:ne,variant:"solid",color:"secondary",size:"large",style:ae,onPress:I,children:re}),t[79]=I,t[80]=ne,t[81]=ie):ie=t[81],t[82]!==V||t[83]!==J||t[84]!==oe||t[85]!==ie?(le=(0,bt.jsxs)(Fs.default,{style:H,children:[V,J,oe,ie]}),t[82]=V,t[83]=J,t[84]=oe,t[85]=ie,t[86]=le):le=t[86],t[87]!==N||t[88]!==le?(ce=(0,bt.jsxs)(ya.Content,{ignoreTabletLayoutOffset:!0,children:[N,le]}),t[87]=N,t[88]=le,t[89]=ce):ce=t[89],t[90]!==b?(de=(0,bt.jsx)(nI,{visible:b,setIsVisible:j}),t[90]=b,t[91]=de):de=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,bt.jsx)(Zi.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"YdrHT+"})}),t[92]=ue):ue=t[92],t[93]===Symbol.for("react.memo_cache_sentinel")?(me=(0,bt.jsxs)(Zi.Content,{children:[ue,(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"3K+Q5A"})})]}),t[93]=me):me=t[93],t[94]!==l.handle||t[95]!==s.uri?(he=(0,bt.jsx)(Zi.Action,{cta:"Download on Google Play",color:"primary",onPress:()=>{const e=new Dn.AtUri(s.uri).rkey;if(!e)return;const t=(0,NT.createStarterPackGooglePlayUri)(l.handle,e);t&&(window.location.href=t)}}),t[94]=l.handle,t[95]=s.uri,t[96]=he):he=t[96],t[97]!==w?(pe=(0,bt.jsx)(Zi.Action,{cta:"Continue on web",color:"secondary",onPress:w}),t[97]=w,t[98]=pe):pe=t[98],t[99]!==he||t[100]!==pe?(fe=(0,bt.jsxs)(Zi.Actions,{children:[he,pe]}),t[99]=he,t[100]=pe,t[101]=fe):fe=t[101],t[102]!==_||t[103]!==fe?(ge=(0,bt.jsxs)(Zi.Outer,{control:_,children:[me,fe]}),t[102]=_,t[103]=fe,t[104]=ge):ge=t[104],t[105]===Symbol.for("react.memo_cache_sentinel")?(xe=r.IS_WEB&&(0,bt.jsx)("meta",{name:"apple-itunes-app",content:"app-id=xyz.blueskyweb.app, app-clip-bundle-id=xyz.blueskyweb.app.AppClip, app-clip-display=card"}),t[105]=xe):xe=t[105],t[106]!==ce||t[107]!==de||t[108]!==ge?(_e=(0,bt.jsxs)(Fs.default,{style:A,children:[ce,de,ge,xe]}),t[106]=ce,t[107]=de,t[108]=ge,t[109]=_e):_e=t[109],_e}function oI(e){return!e.subject.associated?.labeler}function nI(e){const t=(0,n.c)(9),{visible:s,setIsVisible:o}=e;if(!s)return;let a,r,i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.absolute,qs.atoms.inset_0,{backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:1}],t[0]=a):a=t[0],t[1]!==o?(r=()=>o(!1),t[1]=o,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_1,qs.atoms.px_lg,{marginTop:250}],t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.gap_md,{zIndex:2}],t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_4xl,{lineHeight:40,color:"white"}],children:"Download Bluesky to get started!"}),t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsxs)(Fs.default,{style:l,children:[c,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,{color:"white"}],children:"We'll remember the starter pack you chose and use it when you create an account in the app."})]})}),t[6]=d):d=t[6],t[7]!==r?(u=(0,bt.jsx)(JC,{accessibilityRole:"button",style:a,entering:yn.FadeIn,exiting:yn.FadeOut,onPress:r,children:d}),t[7]=r,t[8]=u):u=t[8],u}const aI=e=>{const t=(0,n.c)(62),{onDismiss:s,onPressSignin:o,onPressCreateAccount:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),{isTabletOrMobile:l}=(0,jn.useWebMediaQueries)(),[c,d]=lt.useState(!1);let u,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{"true"===new URLSearchParams(window.location.search).get("clip")&&(d(!0),eI({action:"present"}))},m=[],t[0]=u,t[1]=m):(u=t[0],m=t[1]),lt.useEffect(u,m);const h=(0,Cv.useKawaiiMode)();let p,f,g;t[2]!==s||t[3]!==i.atoms.text?(p=s&&(0,bt.jsx)(ln.default,{accessibilityRole:"button",style:{position:"absolute",top:20,right:20,padding:20,zIndex:100},onPress:s,children:(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"x",size:24,style:{color:String(i.atoms.text.color)}})}),t[2]=s,t[3]=i.atoms.text,t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.h_full,qs.atoms.flex_1],t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g={paddingBottom:"20vh"},t[6]=g):g=t[6];const x=l&&qs.atoms.pb_5xl;let _,y;t[7]!==i.atoms.border_contrast_medium||t[8]!==x?(_=[qs.atoms.h_full,qs.atoms.justify_center,g,x,i.atoms.border_contrast_medium,qs.atoms.align_center,qs.atoms.gap_5xl,qs.atoms.flex_1],t[7]=i.atoms.border_contrast_medium,t[8]=x,t[9]=_):_=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.justify_center,qs.atoms.align_center],t[10]=y):y=t[10];const b=h?300:92;let j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return t[11]!==b?(j=(0,bt.jsx)(Av,{width:b,fill:"sky"}),t[11]=b,t[12]=j):j=t[12],t[13]!==h||t[14]!==i.atoms.text?(v=!h&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_sm,qs.atoms.pt_5xl],children:(0,bt.jsx)(xk,{width:161,fill:i.atoms.text.color})}),t[13]=h,t[14]=i.atoms.text,t[15]=v):v=t[15],t[16]!==i.atoms.text_contrast_medium?(S=[qs.atoms.text_md,qs.atoms.font_semi_bold,i.atoms.text_contrast_medium],t[16]=i.atoms.text_contrast_medium,t[17]=S):S=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(dt.Trans,{id:"tmQ7o0"}),t[18]=w):w=t[18],t[19]!==S?(T=(0,bt.jsx)(co.Text,{style:S,children:w}),t[19]=S,t[20]=T):T=t[20],t[21]!==j||t[22]!==v||t[23]!==T?(k=(0,bt.jsxs)(Fs.default,{style:y,children:[j,v,T]}),t[21]=j,t[22]=v,t[23]=T,t[24]=k):k=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.w_full,qs.atoms.px_xl,qs.atoms.gap_md,qs.atoms.pb_2xl,{maxWidth:320}],t[25]=C):C=t[25],t[26]!==r?(I=r({id:"6HbhpU"}),t[26]=r,t[27]=I):I=t[27],t[28]!==r?(A=r({id:"WMvWWe"}),t[28]=r,t[29]=A):A=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"1hMWR6"})}),t[30]=P):P=t[30],t[31]!==a||t[32]!==I||t[33]!==A?(E=(0,bt.jsx)(ao.Button,{testID:"createAccountButton",onPress:a,label:I,accessibilityHint:A,size:"large",variant:"solid",color:"primary",children:P}),t[31]=a,t[32]=I,t[33]=A,t[34]=E):E=t[34],t[35]!==r?(L=r({id:"5lWFkC"}),t[35]=r,t[36]=L):L=t[36],t[37]!==r?(R=r({id:"72qArr"}),t[37]=r,t[38]=R):R=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"5lWFkC"})}),t[39]=B):B=t[39],t[40]!==o||t[41]!==L||t[42]!==R?(D=(0,bt.jsx)(ao.Button,{testID:"signInButton",onPress:o,label:L,accessibilityHint:R,size:"large",variant:"solid",color:"secondary",children:B}),t[40]=o,t[41]=L,t[42]=R,t[43]=D):D=t[43],t[44]!==E||t[45]!==D?(O=(0,bt.jsxs)(Fs.default,{testID:"signinOrCreateAccount",style:C,children:[E,D]}),t[44]=E,t[45]=D,t[46]=O):O=t[46],t[47]!==k||t[48]!==O?(M=(0,bt.jsxs)(ch,{children:[k,O]}),t[47]=k,t[48]=O,t[49]=M):M=t[49],t[50]!==M||t[51]!==_?(F=(0,bt.jsx)(Fs.default,{testID:"noSessionView",style:_,children:M}),t[50]=M,t[51]=_,t[52]=F):F=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(rI,{}),t[53]=N):N=t[53],t[54]!==F?(H=(0,bt.jsxs)(ya.Center,{style:f,ignoreTabletLayoutOffset:!0,children:[F,N]}),t[54]=F,t[55]=H):H=t[55],t[56]!==c?(V=(0,bt.jsx)(nI,{visible:c,setIsVisible:d}),t[56]=c,t[57]=V):V=t[57],t[58]!==H||t[59]!==p||t[60]!==V?(z=(0,bt.jsxs)(bt.Fragment,{children:[p,H,V]}),t[58]=H,t[59]=p,t[60]=V,t[61]=z):z=t[61],z};function rI(){const e=(0,n.c)(25),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)();let o,a,r,i,l,c,d,u,m,h,p,f,g,x;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o={top:"auto"},e[0]=o):o=e[0],e[1]!==t.atoms.border_contrast_medium?(a=[qs.atoms.absolute,qs.atoms.inset_0,o,qs.atoms.px_xl,qs.atoms.py_lg,qs.atoms.border_t,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.flex_wrap,qs.atoms.gap_xl,qs.atoms.flex_1,t.atoms.border_contrast_medium],e[1]=t.atoms.border_contrast_medium,e[2]=a):a=e[2],e[3]!==s?(r=s({id:"t5KS8P"}),e[3]=s,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"9N+p+g"}),e[5]=i):i=e[5],e[6]!==r?(l=(0,bt.jsx)(io.InlineLinkText,{label:r,to:"https://bsky.social",children:i}),e[6]=r,e[7]=l):l=e[7],e[8]!==s?(c=s({id:"N9+Gul"}),e[8]=s,e[9]=c):c=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dt.Trans,{id:"astDB+"}),e[10]=d):d=e[10],e[11]!==c?(u=(0,bt.jsx)(io.InlineLinkText,{label:c,to:"https://bsky.social/about/blog",children:d}),e[11]=c,e[12]=u):u=e[12],e[13]!==s?(m=s({id:"kuhbOb"}),e[13]=s,e[14]=m):m=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(dt.Trans,{id:"Tof7pX"}),e[15]=h):h=e[15],e[16]!==m?(p=(0,bt.jsx)(io.InlineLinkText,{label:m,to:"https://bsky.social/about/join",children:h}),e[16]=m,e[17]=p):p=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1}),g=(0,bt.jsx)(KC,{}),e[18]=f,e[19]=g):(f=e[18],g=e[19]),e[20]!==a||e[21]!==p||e[22]!==l||e[23]!==u?(x=(0,bt.jsxs)(Fs.default,{style:a,children:[l,u,p,f,g]}),e[20]=a,e[21]=p,e[22]=l,e[23]=u,e[24]=x):x=e[24],x}var iI=function(e){return e[e.S_LoginOrCreateAccount=0]="S_LoginOrCreateAccount",e[e.S_Login=1]="S_Login",e[e.S_CreateAccount=2]="S_CreateAccount",e[e.S_StarterPack=3]="S_StarterPack",e}(iI||{});function lI(e){const t=(0,n.c)(41),{onDismiss:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),r=(0,qs.useTheme)(),i=(0,ct.useSafeAreaInsets)(),l=(0,Pj.useSetMinimalShellMode)(),{requestedAccountSwitchTo:c}=ws();let d;t[0]!==c?(d=()=>"new"===c?iI.S_CreateAccount:"starterpack"===c?iI.S_StarterPack:null!=c?iI.S_Login:iI.S_LoginOrCreateAccount,t[0]=c,t[1]=d):d=t[1];const[u,m]=(0,lt.useState)(d),{clearRequestedAccount:h}=Ts(),p=(0,On.useQueryClient)(),{accounts:f}=(0,Gt.useSession)(),g=(0,Gt.useAgent)();let x,_,y,b,j;t[2]!==f||t[3]!==g||t[4]!==p?(x=()=>{const e=f.map(cI);p.prefetchQuery({queryKey:(0,Ut.profilesQueryKey)(e),staleTime:yt.STALE.MINUTES.FIVE,queryFn:async()=>(await g.getProfiles({actors:e})).data})},_=[f,g,p],t[2]=f,t[3]=g,t[4]=p,t[5]=x,t[6]=_):(x=t[5],_=t[6]),(0,lt.useEffect)(x,_),t[7]!==l?(y=()=>{l(!0)},b=[l],t[7]=l,t[8]=y,t[9]=b):(y=t[8],b=t[9]),(0,lt.useEffect)(y,b),t[10]!==h||t[11]!==s?(j=()=>{s&&s(),h()},t[10]=h,t[11]=s,t[12]=j):j=t[12];const v=j;let S,w,T,k,C,I,A,P;return t[13]!==i.bottom||t[14]!==i.top?(S={paddingTop:i.top,paddingBottom:i.bottom},t[13]=i.bottom,t[14]=i.top,t[15]=S):S=t[15],t[16]!==r.atoms.bg||t[17]!==S?(w=[qs.atoms.util_screen_outer,r.atoms.bg,S],t[16]=r.atoms.bg,t[17]=S,t[18]=w):w=t[18],t[19]!==o||t[20]!==i.top||t[21]!==s||t[22]!==v||t[23]!==u?(T=s&&u===iI.S_LoginOrCreateAccount?(0,bt.jsx)(ao.Button,{label:o({id:"CKyk7Q"}),variant:"solid",color:"secondary_inverted",size:"small",shape:"round",PressableComponent:(0,qs.native)(hd),style:[qs.atoms.absolute,{top:i.top+qs.tokens.space.xl,right:qs.tokens.space.xl,zIndex:100}],onPress:v,children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})}):null,t[19]=o,t[20]=i.top,t[21]=s,t[22]=v,t[23]=u,t[24]=T):T=t[24],t[25]!==a||t[26]!==u?(k=u===iI.S_StarterPack?(0,bt.jsx)(tI,{setScreenState:m}):u===iI.S_LoginOrCreateAccount?(0,bt.jsx)(aI,{onPressSignin:()=>{m(iI.S_Login),a.metric("splash:signInPressed",{})},onPressCreateAccount:()=>{m(iI.S_CreateAccount),a.metric("splash:createAccountPressed",{})}}):void 0,t[25]=a,t[26]=u,t[27]=k):k=t[27],t[28]!==h||t[29]!==u?(C=u===iI.S_Login?(0,bt.jsx)(lC,{onPressBack:()=>{m(iI.S_LoginOrCreateAccount),h()}}):void 0,t[28]=h,t[29]=u,t[30]=C):C=t[30],t[31]!==u?(I=u===iI.S_CreateAccount?(0,bt.jsx)($C,{onPressBack:()=>m(iI.S_LoginOrCreateAccount)}):void 0,t[31]=u,t[32]=I):I=t[32],t[33]!==k||t[34]!==C||t[35]!==I||t[36]!==T?(A=(0,bt.jsxs)(ch,{children:[T,k,C,I]}),t[33]=k,t[34]=C,t[35]=I,t[36]=T,t[37]=A):A=t[37],t[38]!==A||t[39]!==w?(P=(0,bt.jsx)(Fs.default,{testID:"noSessionView",style:w,children:A}),t[38]=A,t[39]=w,t[40]=P):P=t[40],P}function cI(e){return e.did}var dI=s(78168);function uI({starterPacksStepEnabled:e,findContactsStepEnabled:t}={starterPacksStepEnabled:!0,findContactsStepEnabled:!1}){return{screens:{profile:!0,interests:!0,"suggested-accounts":!0,"suggested-starterpacks":e,"find-contacts-intro":t,"find-contacts":t,finished:!0},activeStep:"profile",stepTransitionDirection:"Forward",interestsStepResults:{selectedInterests:[]},profileStepResults:{isCreatedAvatar:!1,image:void 0,imageUri:"",imageMime:""}}}const mI=(0,lt.createContext)(null);function hI(e,t){let s=Object.assign({},e);const o=pI(e);switch(t.type){case"next":{const e=o.indexOf(s.activeStep)+1,t=o[e];t&&(s.activeStep=t),s.stepTransitionDirection="Forward";break}case"prev":{const e=o.indexOf(s.activeStep)-1,t=o[e];t&&(s.activeStep=t),s.stepTransitionDirection="Backward";break}case"skip-contacts":{const e=o.indexOf("find-contacts")+1,t=o[e]??"finished";s.activeStep=t,s.stepTransitionDirection="Forward";break}case"finish":s=uI({starterPacksStepEnabled:e.screens["suggested-starterpacks"],findContactsStepEnabled:e.screens["find-contacts"]});break;case"setInterestsStepResults":s.interestsStepResults={selectedInterests:t.selectedInterests};break;case"setProfileStepResults":s.profileStepResults={isCreatedAvatar:t.isCreatedAvatar,image:t.image,imageUri:t.imageUri,imageMime:t.imageMime,creatorState:t.creatorState}}const n=Object.assign({},s,{hasPrev:"profile"!==s.activeStep});return Mt.logger.debug("onboarding",{hasPrev:n.hasPrev,activeStep:n.activeStep,interestsStepResults:{selectedInterests:n.interestsStepResults.selectedInterests},profileStepResults:n.profileStepResults}),e.activeStep!==n.activeStep&&Mt.logger.debug("onboarding: step changed",{activeStep:n.activeStep}),n}function pI(e){return[e.screens.profile&&"profile",e.screens.interests&&"interests",e.screens["suggested-accounts"]&&"suggested-accounts",e.screens["suggested-starterpacks"]&&"suggested-starterpacks",e.screens["find-contacts-intro"]&&"find-contacts-intro",e.screens["find-contacts"]&&"find-contacts",e.screens.finished&&"finished"].filter((e=>!!e))}function fI(){const e=(0,n.c)(13),t=(0,lt.useContext)(mI);if(!t)throw new Error("useOnboardingInternalState must be used within OnboardingContext");const{state:s,dispatch:o}=t;let a,r,i,l,c;if(e[0]!==s){a=pI(s).filter(gI);r=s,i=s.activeStep!==a[0],l=a.indexOf("find-contacts"===s.activeStep?"find-contacts-intro":s.activeStep),e[0]=s,e[1]=a,e[2]=r,e[3]=i,e[4]=l}else a=e[1],r=e[2],i=e[3],l=e[4];e[5]!==a.length||e[6]!==r||e[7]!==i||e[8]!==l?(c=Object.assign({},r,{canGoBack:i,activeStepIndex:l,totalSteps:a.length}),e[5]=a.length,e[6]=r,e[7]=i,e[8]=l,e[9]=c):c=e[9];const d=c;let u;return e[10]!==o||e[11]!==d?(u={state:d,dispatch:o},e[10]=o,e[11]=d,e[12]=u):u=e[12],u}function gI(e){return"find-contacts"!==e&&"finished"!==e}mI.displayName="OnboardingContext";var xI=s(91736);const _I=420,yI=(0,xI.createPortalGroup)(),bI=(0,xI.createPortalGroup)();function jI(e){const t=(0,n.c)(74),{children:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),i=(0,ct.useSafeAreaInsets)(),{gtMobile:l}=(0,qs.useBreakpoints)(),c=(0,hs.useOnboardingDispatch)(),{state:d,dispatch:u}=fI(),m=(0,lt.useRef)(null),h=(0,lt.useRef)(d.activeStep);let p,f,g;t[0]!==d.activeStep?(p=()=>{d.activeStep!==h.current&&(h.current=d.activeStep,m.current?.scrollTo({y:0,animated:!1}))},t[0]=d.activeStep,t[1]=p):p=t[1],t[2]!==d?(f=[d],t[2]=d,t[3]=f):f=t[3],(0,lt.useEffect)(p,f),t[4]!==o?(g=o({id:"TBiYO5"}),t[4]=o,t[5]=g):g=t[5];const x=g,[_,y]=(0,lt.useState)(0),[b,j]=(0,lt.useState)(0);let v,S,w,T;t[6]!==o?(v=o({id:"GrdP9a"}),t[6]=o,t[7]=v):v=t[7],t[8]!==a.atoms.bg?(S=[r.IS_WEB?qs.atoms.fixed:qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.flex_1,a.atoms.bg],t[8]=a.atoms.bg,t[9]=S):S=t[9],t[10]!==o||t[11]!==u||t[12]!==l||t[13]!==i.top||t[14]!==c||t[15]!==d.activeStep||t[16]!==d.canGoBack||t[17]!==a.atoms.bg?(w=l?(0,bt.jsx)(bt.Fragment,{children:r.IS_INTERNAL&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.align_center,qs.atoms.z_10,{top:0,left:0,right:0}],children:(0,bt.jsx)(ao.Button,{variant:"ghost",color:"negative",size:"tiny",onPress:()=>c({type:"skip"}),label:"Clear onboarding state",children:(0,bt.jsx)(ao.ButtonText,{children:"[DEV] Clear"})})})}):(0,bt.jsx)(Fs.default,{style:[(0,qs.web)(qs.atoms.fixed),(0,qs.native)(qs.atoms.absolute),qs.atoms.top_0,qs.atoms.left_0,qs.atoms.right_0,qs.atoms.flex_row,qs.atoms.w_full,qs.atoms.justify_center,qs.atoms.z_20,qs.atoms.px_xl,{paddingTop:((0,qs.web)(qs.tokens.space.lg)??0)+i.top},(0,qs.native)([a.atoms.bg,qs.atoms.pb_xs,{minHeight:48}]),(0,qs.web)(qs.atoms.pointer_events_box_none)],onLayout:e=>y(e.nativeEvent.layout.height),children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.flex_row,qs.atoms.justify_between,(0,qs.web)({maxWidth:_I}),(0,qs.web)(qs.atoms.pointer_events_box_none)],children:[(0,bt.jsx)(vI,{children:d.canGoBack&&(0,bt.jsx)(ao.Button,{color:"secondary",variant:"ghost",shape:"round",size:"small",label:o({id:"p19nbp"}),onPress:()=>u({type:"prev"}),children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded,size:"lg"})},d.activeStep)}),r.IS_INTERNAL&&(0,bt.jsx)(ao.Button,{variant:"ghost",color:"negative",size:"tiny",onPress:()=>c({type:"skip"}),label:"Clear onboarding state",children:(0,bt.jsx)(ao.ButtonText,{children:"[DEV] Clear"})}),(0,bt.jsx)(vI,{children:(0,bt.jsx)(bI.Outlet,{})})]})}),t[10]=o,t[11]=u,t[12]=l,t[13]=i.top,t[14]=c,t[15]=d.activeStep,t[16]=d.canGoBack,t[17]=a.atoms.bg,t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.h_full,qs.atoms.w_full],t[19]=T):T=t[19];const k=l?40:_;let C;t[20]!==b||t[21]!==k?(C={borderWidth:0,minHeight:"100%",paddingTop:k,paddingBottom:b},t[20]=b,t[21]=k,t[22]=C):C=t[22];const I=b-i.bottom;let A,P;t[23]!==I?(A={bottom:I},t[23]=I,t[24]=A):A=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(P={"stable-gutters":1},t[25]=P):P=t[25];const E=l?qs.atoms.px_5xl:qs.atoms.px_xl;let L,R,B,D,O,M,F,N;t[26]!==E?(L=[qs.atoms.flex_row,qs.atoms.justify_center,E],t[26]=E,t[27]=L):L=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_1,(0,qs.web)({maxWidth:_I})],t[28]=R):R=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.w_full,qs.atoms.py_md],t[29]=B):B=t[29],t[30]!==s?(D=(0,bt.jsx)(Fs.default,{style:R,children:(0,bt.jsx)(Fs.default,{style:B,children:s})}),t[30]=s,t[31]=D):D=t[31],t[32]!==L||t[33]!==D?(O=(0,bt.jsx)(Fs.default,{style:L,children:D}),t[32]=L,t[33]=D,t[34]=O):O=t[34],t[35]!==l||t[36]!==A||t[37]!==O||t[38]!==C?(M=(0,bt.jsx)(Vi.default,{ref:m,style:T,contentContainerStyle:C,showsVerticalScrollIndicator:!r.IS_ANDROID,scrollIndicatorInsets:A,dataSet:P,centerContent:l,children:O}),t[35]=l,t[36]=A,t[37]=O,t[38]=C,t[39]=M):M=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(F=e=>j(e.nativeEvent.layout.height),t[40]=F):F=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(N={bottom:0,left:0,right:0},t[41]=N):N=t[41];const H=l?qs.atoms.px_5xl:qs.atoms.px_xl;let V,z,U,W,G,q,Q,K,Z,Y;return t[42]!==i.bottom?(V=r.IS_WEB?qs.atoms.py_2xl:{paddingTop:qs.tokens.space.md,paddingBottom:i.bottom+qs.tokens.space.md},t[42]=i.bottom,t[43]=V):V=t[43],t[44]!==a.atoms.bg||t[45]!==a.atoms.border_contrast_low||t[46]!==H||t[47]!==V?(z=[r.IS_WEB?qs.atoms.fixed:qs.atoms.absolute,N,a.atoms.bg,a.atoms.border_contrast_low,qs.atoms.border_t,qs.atoms.align_center,H,V],t[44]=a.atoms.bg,t[45]=a.atoms.border_contrast_low,t[46]=H,t[47]=V,t[48]=z):z=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(U={maxWidth:_I},t[49]=U):U=t[49],t[50]!==l?(W=l&&[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center],t[50]=l,t[51]=W):W=t[51],t[52]!==W?(G=[qs.atoms.w_full,U,W],t[52]=W,t[53]=G):G=t[53],t[54]!==o||t[55]!==u||t[56]!==l||t[57]!==d.activeStep||t[58]!==d.canGoBack?(q=l&&(d.canGoBack?(0,bt.jsx)(ao.Button,{color:"secondary",variant:"ghost",shape:"square",size:"small",label:o({id:"p19nbp"}),onPress:()=>u({type:"prev"}),children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded,size:"lg"})},d.activeStep):(0,bt.jsx)(Fs.default,{style:{height:33}})),t[54]=o,t[55]=u,t[56]=l,t[57]=d.activeStep,t[58]=d.canGoBack,t[59]=q):q=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(yI.Outlet,{}),t[60]=Q):Q=t[60],t[61]!==G||t[62]!==q?(K=(0,bt.jsxs)(Fs.default,{style:G,children:[q,Q]}),t[61]=G,t[62]=q,t[63]=K):K=t[63],t[64]!==z||t[65]!==K?(Z=(0,bt.jsx)(Fs.default,{onLayout:F,style:z,children:K}),t[64]=z,t[65]=K,t[66]=Z):Z=t[66],t[67]!==x||t[68]!==M||t[69]!==Z||t[70]!==v||t[71]!==S||t[72]!==w?(Y=(0,bt.jsxs)(Fs.default,{"aria-modal":!0,role:"dialog","aria-role":"dialog","aria-label":x,accessibilityLabel:x,accessibilityHint:v,style:S,children:[w,M,Z]}),t[67]=x,t[68]=M,t[69]=Z,t[70]=v,t[71]=S,t[72]=w,t[73]=Y):Y=t[73],Y}function vI(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[{minHeight:ya.HEADER_SLOT_SIZE,minWidth:ya.HEADER_SLOT_SIZE}],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(Fs.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function SI(){const e=(0,n.c)(8),{state:t}=fI(),s=(0,qs.useTheme)();let o;e[0]!==s.atoms.text_contrast_medium?(o=[qs.atoms.text_sm,qs.atoms.font_medium,s.atoms.text_contrast_medium],e[0]=s.atoms.text_contrast_medium,e[1]=o):o=e[1];const a=t.activeStepIndex+1;let r,i;return e[2]!==t.totalSteps||e[3]!==a?(r=(0,bt.jsx)(dt.Trans,{id:"PUTOoP",values:{0:a,1:t.totalSteps}}),e[2]=t.totalSteps,e[3]=a,e[4]=r):r=e[4],e[5]!==o||e[6]!==r?(i=(0,bt.jsx)(co.Text,{style:o,children:r}),e[5]=o,e[6]=r,e[7]=i):i=e[7],i}function wI(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[qs.atoms.text_3xl,qs.atoms.font_bold,qs.atoms.leading_snug,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(co.Text,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}function TI(e){const t=(0,n.c)(6),{children:s,style:o}=e,a=(0,qs.useTheme)();let r,i;return t[0]!==o||t[1]!==a.atoms.text_contrast_medium?(r=[qs.atoms.text_md,qs.atoms.leading_snug,a.atoms.text_contrast_medium,o],t[0]=o,t[1]=a.atoms.text_contrast_medium,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,bt.jsx)(co.P,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],i}async function kI(e,t,s){const o=e.session;if(!o)throw new Error("bulkWriteFollows failed: no session");const n=t.map((e=>({$type:"app.bsky.graph.follow",subject:e,createdAt:(new Date).toISOString(),via:s}))).map((e=>({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.follow",rkey:I_.TID.nextStr(),value:e}))),a=Qa()(n,50);for(const i of a)await e.com.atproto.repo.applyWrites({repo:o.did,writes:i});await async function(e,t,s){await(0,Za.until)(5,1e3,s,(()=>e.app.bsky.graph.getFollows({actor:t,limit:1})))}(e,o.did,(e=>!!e.data.follows.length));const r=new Map;for(const i of n)r.set(i.value.subject,`at://${o.did}/app.bsky.graph.follow/${i.rkey}`);return r}const CI={light:(0,qs.platform)({native:s(56558),web:s(51291)}),dim:(0,qs.platform)({native:s(56418),web:s(97347)}),dark:(0,qs.platform)({native:s(24054),web:s(3890)})},II={light:s(57505),dim:s(91912),dark:s(64873)},AI={light:s(39006),dim:s(73468),dark:s(85772)};function PI(e){const t=(0,n.c)(7),{active:s}=e,o=(0,qs.useTheme)();let a,r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={width:8,height:8},t[0]=a):a=t[0],t[1]!==s||t[2]!==o.atoms||t[3]!==o.palette?(r=s?{backgroundColor:o.palette.primary_500}:o.atoms.bg_contrast_50,t[1]=s,t[2]=o.atoms,t[3]=o.palette,t[4]=r):r=t[4],t[5]!==r?(i=(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,a,r]}),t[5]=r,t[6]=i):i=t[6],i}function EI(e){const t=(0,n.c)(46),{step:s,avatarUri:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=CI[a.name],l=II[a.name],c=AI[a.name];let d;t[0]!==i||t[1]!==l||t[2]!==c?(d=[i,l,c],t[0]=i,t[1]=l,t[2]=c,t[3]=d):d=t[3];const u=d[s],{title:m,description:h,alt:p}=function(e){const t=(0,n.c)(34),{_:s}=(0,dt.useLingui)();let o,a,r,i,l,c,d,u,m,h,p,f,g;return t[0]!==s?(o=s({id:"1NR3Zk"}),t[0]=s,t[1]=o):o=t[1],t[2]!==s?(a=s({id:"wPOHoz"}),t[2]=s,t[3]=a):a=t[3],t[4]!==s?(r=s({id:"X9LAzL"}),t[4]=s,t[5]=r):r=t[5],t[6]!==o||t[7]!==a||t[8]!==r?(i={title:o,description:a,alt:r},t[6]=o,t[7]=a,t[8]=r,t[9]=i):i=t[9],t[10]!==s?(l=s({id:"SRwEPX"}),t[10]=s,t[11]=l):l=t[11],t[12]!==s?(c=s({id:"gDDyZq"}),t[12]=s,t[13]=c):c=t[13],t[14]!==s?(d=s({id:"lL0lJT"}),t[14]=s,t[15]=d):d=t[15],t[16]!==l||t[17]!==c||t[18]!==d?(u={title:l,description:c,alt:d},t[16]=l,t[17]=c,t[18]=d,t[19]=u):u=t[19],t[20]!==s?(m=s({id:"xY2ok7"}),t[20]=s,t[21]=m):m=t[21],t[22]!==s?(h=s({id:"l01hMM"}),t[22]=s,t[23]=h):h=t[23],t[24]!==s?(p=s({id:"GCueFe"}),t[24]=s,t[25]=p):p=t[25],t[26]!==p||t[27]!==m||t[28]!==h?(f={title:m,description:h,alt:p},t[26]=p,t[27]=m,t[28]=h,t[29]=f):f=t[29],t[30]!==f||t[31]!==i||t[32]!==u?(g=[i,u,f],t[30]=f,t[31]=i,t[32]=u,t[33]=g):g=t[33],g[e]}(s);let f,g,x,_,y,b,j;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.relative,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.pointer_events_none],t[4]=f):f=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.w_full,{aspectRatio:1}],t[5]=g):g=t[5],t[6]!==p||t[7]!==u?(x=(0,bt.jsx)(cn.Image,{source:u,style:g,alt:p,accessibilityIgnoresInvertColors:!1}),t[6]=p,t[7]=u,t[8]=x):x=t[8],t[9]!==r||t[10]!==o||t[11]!==s?(_=1===s&&(0,bt.jsx)(cn.Image,{source:o,style:[qs.atoms.z_10,qs.atoms.absolute,qs.atoms.rounded_full,{width:"20.35623409669211%",height:"20.35623409669211%"}],accessibilityIgnoresInvertColors:!0,alt:r({id:"BSQdBl"})}),t[9]=r,t[10]=o,t[11]=s,t[12]=_):_=t[12],t[13]!==x||t[14]!==_?(y=(0,bt.jsxs)(Fs.default,{style:f,children:[x,_]}),t[13]=x,t[14]=_,t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.mt_4xl,qs.atoms.gap_2xl,qs.atoms.align_center],t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.flex_row,qs.atoms.gap_sm],t[17]=j):j=t[17];const v=0===s;let S;t[18]!==v?(S=(0,bt.jsx)(PI,{active:v}),t[18]=v,t[19]=S):S=t[19];const w=1===s;let T;t[20]!==w?(T=(0,bt.jsx)(PI,{active:w}),t[20]=w,t[21]=T):T=t[21];const k=2===s;let C,I,A,P,E,L,R,B,D,O;return t[22]!==k?(C=(0,bt.jsx)(PI,{active:k}),t[22]=k,t[23]=C):C=t[23],t[24]!==S||t[25]!==T||t[26]!==C?(I=(0,bt.jsxs)(Fs.default,{style:j,children:[S,T,C]}),t[24]=S,t[25]=T,t[26]=C,t[27]=I):I=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.gap_sm],t[28]=A):A=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.font_bold,qs.atoms.text_3xl,qs.atoms.text_center],t[29]=P):P=t[29],t[30]!==m?(E=(0,bt.jsx)(co.Text,{style:P,children:m}),t[30]=m,t[31]=E):E=t[31],t[32]!==a.atoms.text_contrast_medium?(L=[a.atoms.text_contrast_medium,qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.text_center],t[32]=a.atoms.text_contrast_medium,t[33]=L):L=t[33],t[34]!==h||t[35]!==L?(R=(0,bt.jsx)(co.Text,{style:L,children:h}),t[34]=h,t[35]=L,t[36]=R):R=t[36],t[37]!==E||t[38]!==R?(B=(0,bt.jsxs)(Fs.default,{style:A,children:[E,R]}),t[37]=E,t[38]=R,t[39]=B):B=t[39],t[40]!==I||t[41]!==B?(D=(0,bt.jsxs)(Fs.default,{style:b,children:[I,B]}),t[40]=I,t[41]=B,t[42]=D):D=t[42],t[43]!==D||t[44]!==y?(O=(0,bt.jsxs)(Fs.default,{children:[y,D]}),t[43]=D,t[44]=y,t[45]=O):O=t[45],O}function LI(){const{state:e,dispatch:t}=fI(),s=(0,Xo.useAnalytics)(),o=(0,hs.useOnboardingDispatch)(),[n,a]=(0,lt.useState)(!1),r=(0,On.useQueryClient)(),i=(0,Gt.useAgent)(),l=(0,nv.useRequestNotificationsPermission)(),c=_s(),d=ys(),u=(0,qk.useSetHasCheckedForStarterPack)(),{startProgressGuide:m}=(0,Cs.useProgressGuideControls)(),h=(0,lt.useCallback)((async()=>{let n,h;if(a(!0),c?.uri){try{const e=await i.app.bsky.graph.getStarterPack({starterPack:c.uri});n=e.data.starterPack}catch(p){Mt.logger.error("Failed to fetch starter pack",{safeMessage:p})}try{n?.list&&(h=await(0,Xx.getAllListMembers)(i,n.list.uri))}catch(f){Mt.logger.error("Failed to fetch starter pack list items",{safeMessage:f})}}try{const{interestsStepResults:t,profileStepResults:o}=e,{selectedInterests:a}=t;await Promise.all([kI(i,[Vt.BSKY_APP_ACCOUNT_DID,...h?.map((e=>e.subject.did))??[]],n?{uri:n.uri,cid:n.cid}:void 0),(async()=>{await i.setInterestsPref({tags:a});const e=[Object.assign({},Vt.DISCOVER_SAVED_FEED,{id:I_.TID.nextStr()}),Object.assign({},Vt.TIMELINE_SAVED_FEED,{id:I_.TID.nextStr()}),Object.assign({},Vt.VIDEO_SAVED_FEED,{id:I_.TID.nextStr()})];n&&n.feeds?.length&&e.push(...n.feeds.map((e=>({type:"feed",value:e.uri,pinned:!0,id:I_.TID.nextStr()})))),await i.overwriteSavedFeeds(e)})(),(async()=>{const{imageUri:e,imageMime:t}=o,a=e&&t?(0,Ka.uploadBlob)(i,e,t):void 0;await i.upsertProfile((async e=>{let t=e??{};if(a){const e=await a;e.data.blob&&(t.avatar=e.data.blob)}return n&&(t.joinedViaStarterPack={uri:n.uri,cid:n.cid}),t.displayName="",t.createdAt||(t.createdAt=(new Date).toISOString()),t})),s.metric("onboarding:finished:avatarResult",{avatarResult:o.isCreatedAvatar?"created":o.image?"uploaded":"default"})})(),l("AfterOnboarding")])}catch(g){Mt.logger.info("onboarding: bulk save failed"),Mt.logger.error(g)}await Promise.all([r.invalidateQueries({queryKey:xr.preferencesQueryKey}),r.invalidateQueries({queryKey:(0,Ut.RQKEY)(i.session?.did??"")})]).catch((e=>{Mt.logger.error(e)})),a(!1),d(void 0),u(!0),m("follow-10"),t({type:"finish"}),o({type:"finish"}),s.metric("onboarding:finished:nextPressed",{usedStarterPack:Boolean(n),starterPackName:n&&qc.dangerousIsType(n.record,Dn.AppBskyGraphStarterpack.isRecord)?n.record.name:void 0,starterPackCreator:n?.creator.did,starterPackUri:n?.uri,profilesFollowed:h?.length??0,feedsPinned:n?.feeds?.length??0}),n&&h?.length&&s.metric("starterPack:followAll",{logContext:"Onboarding",starterPack:n.uri,count:h?.length})}),[s,r,i,t,o,c,e,l,d,u,m]);return(0,bt.jsx)(RI,{finishOnboarding:h,saving:n,state:e})}function RI(e){const t=(0,n.c)(44),{finishOnboarding:s,saving:o,state:a}=e,[i,l]=(0,lt.useState)(0),{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)(),{gtMobile:u}=(0,qs.useBreakpoints)();let m;t[0]!==d||t[1]!==s||t[2]!==i?(m=()=>{2===i?s():1===i?(l(2),d.metric("onboarding:valueProp:stepTwo:nextPressed",{})):0===i&&(l(1),d.metric("onboarding:valueProp:stepOne:nextPressed",{}))},t[0]=d,t[1]=s,t[2]=i,t[3]=m):m=t[3];const h=m;let p,f,g,x,_,y,b,j,v,S,w;return t[4]!==c||t[5]!==d||t[6]!==s||t[7]!==u||t[8]!==o?(p=!u&&(0,bt.jsx)(bI.Portal,{children:(0,bt.jsx)(ao.Button,{disabled:o,variant:"ghost",color:"secondary",size:"small",label:c({id:"UwWokf"}),onPress:()=>{d.metric("onboarding:valueProp:skipPressed",{}),s()},style:[qs.atoms.bg_transparent],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6Uau97"})})})}),t[4]=c,t[5]=d,t[6]=s,t[7]=u,t[8]=o,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=e=>l(e),t[10]=f):f=t[10],t[11]!==a.profileStepResults.imageUri||t[12]!==i?(g=(0,bt.jsx)(EI,{step:i,setStep:f,avatarUri:a.profileStepResults.imageUri}),t[11]=a.profileStepResults.imageUri,t[12]=i,t[13]=g):g=t[13],t[14]!==u?(x=u&&[qs.atoms.gap_md,qs.atoms.flex_row],t[14]=u,t[15]=x):x=t[15],t[16]!==c||t[17]!==s||t[18]!==u||t[19]!==o||t[20]!==i?(_=u&&(!r.IS_WEB||2!==i)&&(0,bt.jsx)(ao.Button,{disabled:o,color:"secondary",size:"large",label:c({id:"UwWokf"}),onPress:()=>s(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6Uau97"})})}),t[16]=c,t[17]=s,t[18]=u,t[19]=o,t[20]=i,t[21]=_):_=t[21],t[22]!==c||t[23]!==i?(y=c(2===i?{id:"evkqBf"}:{id:"hXzOVo"}),t[22]=c,t[23]=i,t[24]=y):y=t[24],t[25]!==o||t[26]!==i?(b=(0,bt.jsx)(ao.ButtonText,{children:o?(0,bt.jsx)(dt.Trans,{id:"ZH5Cyo"}):2===i?(0,bt.jsx)(dt.Trans,{id:"oK9656"}):(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})}),j=2===i&&(0,bt.jsx)(ao.ButtonIcon,{icon:o?lo.Loader:Al.ArrowRight_Stroke2_Corner0_Rounded}),t[25]=o,t[26]=i,t[27]=b,t[28]=j):(b=t[27],j=t[28]),t[29]!==h||t[30]!==o||t[31]!==a.activeStep||t[32]!==y||t[33]!==b||t[34]!==j?(v=(0,bt.jsxs)(ao.Button,{testID:"onboardingFinish",disabled:o,color:"primary",size:"large",label:y,onPress:h,children:[b,j]},a.activeStep),t[29]=h,t[30]=o,t[31]=a.activeStep,t[32]=y,t[33]=b,t[34]=j,t[35]=v):v=t[35],t[36]!==v||t[37]!==x||t[38]!==_?(S=(0,bt.jsx)(yI.Portal,{children:(0,bt.jsxs)(Fs.default,{style:x,children:[_,v]})}),t[36]=v,t[37]=x,t[38]=_,t[39]=S):S=t[39],t[40]!==S||t[41]!==p||t[42]!==g?(w=(0,bt.jsxs)(bt.Fragment,{children:[p,g,S]}),t[40]=S,t[41]=p,t[42]=g,t[43]=w):w=t[43],w}function BI(e){return e.charAt(0).toUpperCase()+e.slice(1)}function DI(e){const t=(0,n.c)(60),{interest:s}=e,o=(0,qs.useTheme)(),a=Ml(),r=af.useItemContext(),i="light"===o.name?o.palette.contrast_200:o.palette.contrast_50;let l;t[0]!==i?(l=[{backgroundColor:i}],t[0]=i,t[1]=l):l=t[1];const c=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[2]=d):d=t[2];const u=d;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],t[3]=m):m=t[3];const h=m;let p;t[4]!==o.palette.contrast_900?(p=[{backgroundColor:o.palette.contrast_900}],t[4]=o.palette.contrast_900,t[5]=p):p=t[5];const f=p;let g;t[6]!==o.palette.contrast_800?(g=[{backgroundColor:o.palette.contrast_800}],t[6]=o.palette.contrast_800,t[7]=g):g=t[7];const x=g;let _;t[8]!==o.palette.contrast_100?(_=[{color:o.palette.contrast_100}],t[8]=o.palette.contrast_100,t[9]=_):_=t[9];const y=_;let b;t[10]!==c||t[11]!==f||t[12]!==x||t[13]!==y?(b={hovered:c,focused:u,pressed:h,selected:f,selectedHover:x,textSelected:y},t[10]=c,t[11]=f,t[12]=x,t[13]=y,t[14]=b):b=t[14];const j=b;let v,S,w,T,k,C,I,A,P,E,L,R,B,D;return t[15]!==o.palette.contrast_100?(v={backgroundColor:o.palette.contrast_100,paddingVertical:15},t[15]=o.palette.contrast_100,t[16]=v):v=t[16],t[17]!==r.hovered||t[18]!==j?(S=r.hovered?j.hovered:{},t[17]=r.hovered,t[18]=j,t[19]=S):S=t[19],t[20]!==r.focused||t[21]!==j?(w=r.focused?j.hovered:{},t[20]=r.focused,t[21]=j,t[22]=w):w=t[22],t[23]!==r.pressed||t[24]!==j?(T=r.pressed?j.hovered:{},t[23]=r.pressed,t[24]=j,t[25]=T):T=t[25],t[26]!==r.selected||t[27]!==j?(k=r.selected?j.selected:{},t[26]=r.selected,t[27]=j,t[28]=k):k=t[28],t[29]!==r.focused||t[30]!==r.hovered||t[31]!==r.pressed||t[32]!==r.selected||t[33]!==j?(C=r.selected&&(r.hovered||r.focused||r.pressed)?j.selectedHover:{},t[29]=r.focused,t[30]=r.hovered,t[31]=r.pressed,t[32]=r.selected,t[33]=j,t[34]=C):C=t[34],t[35]!==S||t[36]!==w||t[37]!==T||t[38]!==k||t[39]!==C||t[40]!==v?(I=[v,qs.atoms.rounded_full,qs.atoms.px_2xl,S,w,T,k,C],t[35]=S,t[36]=w,t[37]=T,t[38]=k,t[39]=C,t[40]=v,t[41]=I):I=t[41],t[42]!==o.palette.contrast_900?(A={color:o.palette.contrast_900},t[42]=o.palette.contrast_900,t[43]=A):A=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(P=(0,qs.native)({paddingTop:2}),t[44]=P):P=t[44],t[45]!==r.selected||t[46]!==j?(E=r.selected?j.textSelected:{},t[45]=r.selected,t[46]=j,t[47]=E):E=t[47],t[48]!==A||t[49]!==E?(L=[A,qs.atoms.font_semi_bold,P,E],t[48]=A,t[49]=E,t[50]=L):L=t[50],t[51]!==s||t[52]!==a?(R=a[s]||BI(s),t[51]=s,t[52]=a,t[53]=R):R=t[53],t[54]!==L||t[55]!==R?(B=(0,bt.jsx)(co.Text,{style:L,children:R}),t[54]=L,t[55]=R,t[56]=B):B=t[56],t[57]!==I||t[58]!==B?(D=(0,bt.jsx)(Fs.default,{style:I,children:B}),t[57]=I,t[58]=B,t[59]=D):D=t[59],D}function OI(){const e=(0,n.c)(35),{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)(),o=Ml(),{state:a,dispatch:r}=fI(),[i,l]=lt.useState(!1);let c;e[0]!==a.interestsStepResults.selectedInterests?(c=a.interestsStepResults.selectedInterests.map(MI),e[0]=a.interestsStepResults.selectedInterests,e[1]=c):c=e[1];const[d,u]=lt.useState(c);let m;e[2]!==s||e[3]!==r||e[4]!==d?(m=async()=>{l(!0);try{l(!1),r({type:"setInterestsStepResults",selectedInterests:d}),r({type:"next"}),s.metric("onboarding:interests:nextPressed",{selectedInterests:d,selectedInterestsLength:d.length})}catch(p){const t=p;Mt.logger.info("onboading: error saving interests"),Mt.logger.error(t)}},e[2]=s,e[3]=r,e[4]=d,e[5]=m):m=e[5];const h=m;let p,f,g,x,_,y,b,j,v,S,w,T,k,C,I;return e[6]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.align_start,qs.atoms.gap_sm],e[6]=p):p=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(SI,{}),e[7]=f):f=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(wI,{children:(0,bt.jsx)(dt.Trans,{id:"6nm/Te"})}),e[8]=g):g=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(TI,{children:(0,bt.jsx)(dt.Trans,{id:"ylXjV5"})}),e[9]=x):x=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.w_full,qs.atoms.pt_lg],e[10]=_):_=e[10],e[11]!==t?(y=t({id:"banW+8"}),e[11]=t,e[12]=y):y=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.flex_wrap],e[13]=b):b=e[13],e[14]!==o?(j=Dl.map((e=>(0,bt.jsx)(af.Item,{name:e,label:o[e]||BI(e),children:(0,bt.jsx)(DI,{interest:e})},e))),e[14]=o,e[15]=j):j=e[15],e[16]!==j?(v=(0,bt.jsx)(Fs.default,{style:b,children:j}),e[16]=j,e[17]=v):v=e[17],e[18]!==d||e[19]!==v||e[20]!==y?(S=(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsx)(af.Group,{values:d,onChange:u,label:y,children:v})}),e[18]=d,e[19]=v,e[20]=y,e[21]=S):S=e[21],e[22]!==t?(w=t({id:"nKtyYu"}),e[22]=t,e[23]=w):w=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xGVfLh"})}),e[24]=T):T=e[24],e[25]!==i?(k=i&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),e[25]=i,e[26]=k):k=e[26],e[27]!==h||e[28]!==i||e[29]!==w||e[30]!==k?(C=(0,bt.jsx)(yI.Portal,{children:(0,bt.jsxs)(ao.Button,{disabled:i,testID:"onboardingContinue",variant:"solid",color:"primary",size:"large",label:w,onPress:h,children:[T,k]})}),e[27]=h,e[28]=i,e[29]=w,e[30]=k,e[31]=C):C=e[31],e[32]!==S||e[33]!==C?(I=(0,bt.jsxs)(Fs.default,{style:p,testID:"onboardingInterests",children:[f,g,x,S,C]}),e[32]=S,e[33]=C,e[34]=I):I=e[34],I}function MI(e){return e}var FI=s(63911),NI=s(75443),HI=s(21059);function VI(e){const t=(0,n.c)(14),{avatar:s,size:o}=e,a=void 0===o?125:o,r=(0,qs.useTheme)(),i=s.placeholder.component;let l,c;t[0]!==s.backgroundColor||t[1]!==a?(l={height:a,width:a,backgroundColor:s.backgroundColor},t[0]=s.backgroundColor,t[1]=a,t[2]=l):l=t[2],t[3]!==r.atoms.border_contrast_high||t[4]!==l?(c={imageContainer:[qs.atoms.rounded_full,qs.atoms.overflow_hidden,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.border,r.atoms.border_contrast_high,l]},t[3]=r.atoms.border_contrast_high,t[4]=l,t[5]=c):c=t[5];const d=c;let u,m,h;return t[6]!==r.palette.white?(u={color:r.palette.white},t[6]=r.palette.white,t[7]=u):u=t[7],t[8]!==i||t[9]!==u?(m=(0,bt.jsx)(i,{height:85,width:85,style:u}),t[8]=i,t[9]=u,t[10]=m):m=t[10],t[11]!==d.imageContainer||t[12]!==m?(h=(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Fs.default,{style:d.imageContainer,children:m})}),t[11]=d.imageContainer,t[12]=m,t[13]=h):h=t[13],h}function zI(e){const t=(0,n.c)(18),{openLibrary:s,openCreator:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)(),{avatar:i}=cA();let l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={height:200,width:200},t[0]=l):l=t[0],t[1]!==r.atoms.bg_contrast_25||t[2]!==r.atoms.border_contrast_low?(c={imageContainer:[qs.atoms.rounded_full,qs.atoms.overflow_hidden,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.border,r.atoms.border_contrast_low,r.atoms.bg_contrast_25,l]},t[1]=r.atoms.bg_contrast_25,t[2]=r.atoms.border_contrast_low,t[3]=c):c=t[3];const d=c;let u,m,h;t[4]!==i||t[5]!==d||t[6]!==r.palette?(u=i.useCreatedAvatar?(0,bt.jsx)(VI,{avatar:i,size:200}):i.image?(0,bt.jsx)(cn.Image,{source:i.image.path,style:d.imageContainer,accessibilityIgnoresInvertColors:!0,transition:{duration:300,effect:"cross-dissolve"}}):(0,bt.jsx)(Fs.default,{style:d.imageContainer,children:(0,bt.jsx)(Fy.StreamingLive_Stroke2_Corner0_Rounded,{height:100,width:100,style:{color:r.palette.contrast_200}})}),t[4]=i,t[5]=d,t[6]=r.palette,t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.absolute,{bottom:2,right:2}],t[8]=m):m=t[8],t[9]!==a?(h=a({id:"Dx7RGr"}),t[9]=a,t[10]=h):h=t[10];const p=i.useCreatedAvatar?o:s;let f,g,x;return t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ao.ButtonIcon,{icon:Mk}),t[11]=f):f=t[11],t[12]!==h||t[13]!==p?(g=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(ao.Button,{label:h,size:"large",shape:"round",variant:"solid",color:"primary",onPress:p,children:f})}),t[12]=h,t[13]=p,t[14]=g):g=t[14],t[15]!==u||t[16]!==g?(x=(0,bt.jsxs)(Fs.default,{children:[u,g]}),t[15]=u,t[16]=g,t[17]=x):x=t[17],x}var UI=s(11721);const WI=(0,ti.createSinglePathSVG)({path:"M8.148 2.034a1 1 0 0 1 1.35-.419c1.054.556 1.873 1.266 2.46 2.174.369.57.63 1.197.807 1.873 1.143-.349 2.194-.46 3.15-.342a5.122 5.122 0 0 1 3.134 1.556c1.564 1.63 2.086 4.183 1.922 6.58-.166 2.414-1.043 4.938-2.607 6.619-.792.851-1.78 1.505-2.95 1.782-1.063.251-2.213.176-3.415-.262-1.202.438-2.351.513-3.414.262-1.17-.277-2.158-.93-2.95-1.782-1.563-1.682-2.44-4.205-2.606-6.62-.164-2.396.358-4.949 1.921-6.579A5.121 5.121 0 0 1 8.085 5.32c.777-.095 1.617-.04 2.518.172a4.011 4.011 0 0 0-.325-.618c-.372-.576-.912-1.068-1.712-1.49a1 1 0 0 1-.418-1.35Zm.897 17.877c.71.167 1.557.117 2.562-.31a1 1 0 0 1 .784 0c1.005.428 1.853.477 2.563.31.715-.17 1.37-.579 1.946-1.198 1.171-1.26 1.932-3.303 2.076-5.394.144-2.109-.353-3.998-1.37-5.059a3.124 3.124 0 0 0-1.936-.955c-.83-.102-1.912.043-3.282.621a1 1 0 0 1-.778 0c-1.37-.578-2.45-.723-3.281-.62-.815.1-1.445.443-1.935.954-1.017 1.06-1.514 2.95-1.37 5.059.144 2.09.905 4.135 2.076 5.394.575.62 1.23 1.029 1.945 1.198Z"}),GI=(0,ti.createSinglePathSVG)({path:"M13.832 1.014a1 1 0 0 1 1.154.818L14 2l.986-.168v.003l.001.005.002.014.007.045.021.156c.017.13.035.312.048.527.025.42.028 1.01-.082 1.6-.127.69-.447 1.31-.701 1.726a7.107 7.107 0 0 1-.498.712l-.01.014-.004.005-.002.001v.002L13 6l.767.642a1 1 0 0 1-1.535-1.282l.002-.003.017-.02a5.13 5.13 0 0 0 .324-.47c.198-.325.378-.705.442-1.049.068-.37.071-.78.051-1.12a6.268 6.268 0 0 0-.05-.504l-.004-.025m.818-1.155a1 1 0 0 0-.818 1.155Zm5.257 1.545a1 1 0 0 1 .602 1.28l-.45 1.25a1 1 0 0 1-1.882-.678l.45-1.25a1 1 0 0 1 1.28-.602ZM6.524 7.136a2 2 0 0 1 3.294-.732l7.778 7.778a2 2 0 0 1-.732 3.294L4.653 21.91c-1.596.579-3.142-.967-2.563-2.563L6.524 7.136Zm9.658 8.46L8.404 7.818 3.97 20.03l12.212-4.434Zm5.712-8.543a1 1 0 0 1-.447 1.341l-1 .5a1 1 0 1 1-.894-1.788l1-.5a1 1 0 0 1 1.341.447Zm-4.687-.26a1 1 0 0 1 0 1.414l-1 1a1 1 0 1 1-1.414-1.414l1-1a1 1 0 0 1 1.414 0Zm-.206 4.165A1 1 0 0 1 18.042 10L18 11l.042-1 .003.001h.014l.035.003.117.008a7.693 7.693 0 0 1 1.594.306c.423.135.861.352 1.168.516a11.873 11.873 0 0 1 .508.288l.032.02.01.006.004.002L21 12l.527-.85a1 1 0 0 1-1.054 1.7l-.005-.003-.023-.014a7.477 7.477 0 0 0-.415-.236 5.497 5.497 0 0 0-.835-.374A5.684 5.684 0 0 0 17.973 12l-.015-.002h-.002a1 1 0 0 1-.955-1.041Z"});var qI=s(77105);const QI=(0,ti.createSinglePathSVG)({path:"M1 8a3 3 0 0 1 3-3h16a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V8Zm3-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H4Zm4 2a1 1 0 0 1 1 1v1h1a1 1 0 1 1 0 2H9v1a1 1 0 1 1-2 0v-1H6a1 1 0 1 1 0-2h1v-1a1 1 0 0 1 1-1Zm5.5 4.5a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm3-3a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Z"}),KI=(0,ti.createSinglePathSVG)({path:"M13.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM10 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 6a1 1 0 0 0 0 2v2.64c-.212.25-.45.515-.711.8l-.129.142c-.312.342-.649.711-.974 1.092-.731.857-1.488 1.866-1.89 2.99A4.845 4.845 0 0 0 4 17.297 4.702 4.702 0 0 0 8.702 22h6.596A4.702 4.702 0 0 0 20 17.298c0-.575-.114-1.122-.297-1.634-.401-1.124-1.157-2.133-1.89-2.99-.324-.38-.66-.75-.973-1.092l-.129-.141c-.26-.286-.5-.55-.711-.8V8a1 1 0 1 0 0-2H8Zm2 5.35V8h4v3.35l.22.275c.306.383.661.777 1.013 1.163l.13.143c.315.345.628.688.93 1.042.372.435.704.861.974 1.28l-.159.025c-.845.13-1.838.242-2.581.222-.842-.022-1.475-.217-2.227-.454l-.027-.008c-.746-.235-1.61-.507-2.746-.538-.743-.02-1.617.064-2.38.165.173-.228.36-.459.56-.692.302-.354.615-.697.93-1.042l.13-.143c.352-.386.707-.78 1.014-1.163L10 11.35Zm7.41 5.905c.21-.032.407-.064.586-.095A2.702 2.702 0 0 1 15.298 20H8.702A2.702 2.702 0 0 1 6 17.298c0-.142.013-.286.039-.434.236-.043.53-.093.853-.142.845-.13 1.837-.242 2.581-.222.842.022 1.475.217 2.227.454l.027.008c.746.235 1.61.507 2.746.538.931.024 2.07-.113 2.937-.245Z"}),ZI=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h1a8.003 8.003 0 0 1 7.75 6.006A7.985 7.985 0 0 1 19 6h1a1 1 0 0 1 1 1v1a8 8 0 0 1-8 8v4a1 1 0 1 1-2 0v-7a8 8 0 0 1-8-8V4Zm2 1a6 6 0 0 1 6 6 6 6 0 0 1-6-6Zm8 9a6 6 0 0 1 6-6 6 6 0 0 1-6 6Z"}),YI=(0,ti.createSinglePathSVG)({path:"M18.423 2.428a2 2 0 0 1 2.575 1.916V15.5c0 2.096-1.97 3.5-4 3.5-2.03 0-4-1.404-4-3.5s1.97-3.5 4-3.5c.7 0 1.392.167 2 .471V4.344l-8 2.4V18.5c0 2.096-1.97 3.5-4 3.5-2.03 0-4-1.404-4-3.5s1.97-3.5 4-3.5c.7 0 1.393.167 2 .471V6.744a2 2 0 0 1 1.425-1.916l8-2.4ZM8.998 18.5c0-.666-.717-1.5-2-1.5s-2 .834-2 1.5c0 .665.717 1.5 2 1.5s2-.835 2-1.5Zm10-3c0-.665-.717-1.5-2-1.5s-2 .835-2 1.5.717 1.5 2 1.5 2-.835 2-1.5Z"}),$I=(0,ti.createSinglePathSVG)({path:"M10.75 2.469a2 2 0 0 1 2.5 0l1.42 1.136 1.44-.576A1.378 1.378 0 0 1 18 4.309V8a6.002 6.002 0 0 1-5 5.917v1.69a6.12 6.12 0 0 1 4.224-1.606A1.796 1.796 0 0 1 19 15.857a6.143 6.143 0 0 1-6 6.141V22h-2v-.002a6.143 6.143 0 0 1-6-6.222A1.796 1.796 0 0 1 6.858 14 6.12 6.12 0 0 1 11 15.607v-1.69A6.002 6.002 0 0 1 6 8V4.308c0-.975.985-1.641 1.89-1.28l1.44.577 1.42-1.136ZM7.004 16.003a4.143 4.143 0 0 1 3.995 3.994 4.143 4.143 0 0 1-3.995-3.994Zm9.994 0a4.143 4.143 0 0 1-3.995 3.994 4.143 4.143 0 0 1 3.995-3.994ZM13.42 5.167 12 4.03l-1.42 1.136a2 2 0 0 1-1.992.295L8 5.227V8a4 4 0 0 0 8 0V5.227l-.588.235a2 2 0 0 1-1.992-.295Z"}),XI=(0,ti.createSinglePathSVG)({path:"M2.275 4.312A1 1 0 0 1 3 4h.55a4 4 0 0 1 3.656 2.375l.616 1.388.47-.47 1.001-1a2.414 2.414 0 0 1 3.948.807 2.41 2.41 0 0 1 2.5 1.5 2.41 2.41 0 0 1 2.234 1.01l.805-.804c.95-.95 2.49-.95 3.44 0 .93.93.958 2.439.035 3.395-1.228 1.271-3.406 3.497-5.078 5.035a94.045 94.045 0 0 1-2.82 2.467c-2.481 2.1-6.156 1.748-8.264-.684L3.87 16.452a6 6 0 0 1-1.458-3.614l-.41-7.785a1 1 0 0 1 .274-.741Zm14.022 6.977-1.004 1.004-.007.006-.493.494a.414.414 0 1 1-.586-.586l1.5-1.5a.414.414 0 0 1 .59.582Zm-4.18 1.595a2.414 2.414 0 0 0 4.09 1.323l1.5-1.5.01-.01 2.477-2.477c.169-.169.443-.169.612 0a.42.42 0 0 1 .01.591c-1.228 1.272-3.37 3.46-4.993 4.953a92.183 92.183 0 0 1-2.757 2.412c-1.62 1.371-4.05 1.162-5.461-.467L5.38 15.143a4 4 0 0 1-.972-2.41l-.35-6.668a2 2 0 0 1 1.32 1.123l1.208 2.718a1 1 0 0 0 1.42.456A2.421 2.421 0 0 0 10.26 11.4c.118.294.296.57.534.807.373.373.839.599 1.323.677Zm.676-2.091 1-1a.414.414 0 1 0-.586-.586l-1 1a.414.414 0 1 0 .586.586Zm-2-2 .5-.5a.414.414 0 1 0-.586-.586l-1 1a.414.414 0 0 0 .586.586l.5-.5Z"}),JI=(0,ti.createSinglePathSVG)({path:"M7.03 6.443c-.889.17-1.707.385-2.431.638-.966.338-1.82.764-2.45 1.286C1.523 8.884 1 9.6 1 10.5c0 1.321 1.098 2.24 2.203 2.821.854.45 1.928.817 3.142 1.093l-3.19 5.052a1 1 0 1 0 1.69 1.068l5.767-9.13a8.502 8.502 0 0 1 2.776 0l5.766 9.13a1 1 0 0 0 1.692-1.068l-3.191-5.052c1.214-.276 2.288-.644 3.142-1.093 1.105-.58 2.203-1.5 2.203-2.821 0-.9-.524-1.616-1.148-2.133-.631-.522-1.485-.948-2.45-1.286a17.147 17.147 0 0 0-2.433-.638 5 5 0 0 0-9.938 0Zm2.095-.301A28.736 28.736 0 0 1 12 6c.992 0 1.957.049 2.875.142a3.001 3.001 0 0 0-5.75 0Zm7.389 6.466c1.403-.262 2.55-.635 3.352-1.057C20.87 11.023 21 10.611 21 10.5c0-.066-.036-.271-.423-.592-.381-.315-.993-.644-1.836-.939C17.063 8.382 14.68 8 12 8c-2.68 0-5.063.382-6.74.969-.844.295-1.456.624-1.837.94-.387.32-.423.525-.423.591 0 .11.13.523 1.134 1.051.802.422 1.95.795 3.352 1.057l1.441-2.282a1.952 1.952 0 0 1 1.328-.89 10.51 10.51 0 0 1 3.49 0c.57.094 1.042.437 1.328.89l1.44 2.282Z"}),eA=(0,ti.createSinglePathSVG)({path:"m9.368 4-4 8h2.944a1.5 1.5 0 0 1 1.427 1.963l-1.65 5.087L19.374 9h-3.49a1.5 1.5 0 0 1-1.287-2.272L16.234 4H9.368Zm-1.65-1.17A1.5 1.5 0 0 1 9.058 2h8.058a1.5 1.5 0 0 1 1.286 2.272L16.766 7h3.92c1.38 0 2.028 1.703.998 2.62L8.042 21.77c-1.142 1.018-2.896-.127-2.424-1.583L7.624 14H4.56a1.5 1.5 0 0 1-1.342-2.17l4.5-9Z"}),tA=["at","arc","heartEyes","alien","apple","atom","celebrate","gameController","leaf","musicNote","rose","shaka","ufo","zap","explosion","lab"],sA={at:{name:"at",component:Vk},arc:{name:"arc",component:vf.EmojiArc_Stroke2_Corner0_Rounded},heartEyes:{name:"heartEyes",component:vf.EmojiHeartEyes_Stroke2_Corner0_Rounded},alien:{name:"alien",component:UI.Alien_Stroke2_Corner0_Rounded},apple:{name:"apple",component:WI},atom:{name:"atom",component:bf},celebrate:{name:"celebrate",component:GI},gameController:{name:"gameController",component:QI},leaf:{name:"leaf",component:ZI},musicNote:{name:"musicNote",component:YI},rose:{name:"rose",component:$I},shaka:{name:"shaka",component:XI},ufo:{name:"ufo",component:JI},zap:{name:"zap",component:eA},explosion:{name:"explosion",component:qI.Explosion_Stroke2_Corner0_Rounded},lab:{name:"lab",component:KI}},oA=["#FE8311","#FED811","#73DF84","#1185FE","#EF75EA","#F55454"],nA={top:-3,bottom:-3,left:-3,right:-3,opacity:.5,borderWidth:3};function aA(e){const t=(0,n.c)(24),{type:s,avatar:o,setAvatar:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),l="emojis"===s;let c;t[0]!==a?(c=e=>{a((t=>Object.assign({},t,{placeholder:sA[e]})))},t[0]=a,t[1]=c):c=t[1];const d=c;let u;t[2]!==a?(u=e=>{a((t=>Object.assign({},t,{backgroundColor:e})))},t[2]=a,t[3]=u):u=t[3];const m=u;let h,p,f,g,x,_,y,b;return t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.w_full],t[4]=h):h=t[4],t[5]!==i.atoms.text_contrast_medium?(p=[qs.atoms.pb_md,i.atoms.text_contrast_medium],t[5]=i.atoms.text_contrast_medium,t[6]=p):p=t[6],t[7]!==l?(f=l?(0,bt.jsx)(dt.Trans,{id:"lH+2uJ"}):(0,bt.jsx)(dt.Trans,{id:"QosnLA"}),t[7]=l,t[8]=f):f=t[8],t[9]!==p||t[10]!==f?(g=(0,bt.jsx)(co.Text,{style:p,children:f}),t[9]=p,t[10]=f,t[11]=g):g=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.justify_start,qs.atoms.flex_wrap,qs.atoms.gap_md],t[12]=x):x=t[12],t[13]!==r||t[14]!==o||t[15]!==l||t[16]!==m||t[17]!==d?(_=l?tA.map((e=>(0,bt.jsxs)(ao.Button,{label:r({id:"34dlMG",values:{emojiName:e}}),size:"small",shape:"round",variant:"solid",color:"secondary",onPress:()=>d(e),children:[(0,bt.jsx)(ao.ButtonIcon,{icon:sA[e].component}),o.placeholder.name===e&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,nA,{borderColor:o.backgroundColor}]})]},e))):oA.map((e=>(0,bt.jsx)(ao.Button,{label:r({id:"T8SZav"}),size:"small",shape:"round",variant:"solid",onPress:()=>m(e),children:t=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.rounded_full,{opacity:t.hovered||t.pressed?.8:1,backgroundColor:e}]}),o.backgroundColor===e&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,nA,{borderColor:e}]})]})},e))),t[13]=r,t[14]=o,t[15]=l,t[16]=m,t[17]=d,t[18]=_):_=t[18],t[19]!==_?(y=(0,bt.jsx)(Fs.default,{style:x,children:_}),t[19]=_,t[20]=y):y=t[20],t[21]!==g||t[22]!==y?(b=(0,bt.jsxs)(Fs.default,{style:h,children:[g,y]}),t[21]=g,t[22]=y,t[23]=b):b=t[23],b}const rA=lt.lazy((()=>s.e(19).then(s.bind(s,19)))),iA=lt.forwardRef((function(e,t){const s=(0,n.c)(12),{avatar:o}=cA(),a=lt.useRef(null),r=o.placeholder.component;let i,l;s[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.absolute,{top:-2e3}],s[0]=i):i=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(l={container:i,imageContainer:[qs.atoms.align_center,qs.atoms.justify_center,{height:750,width:750}]},s[1]=l):l=s[1];const c=l;let d,u,m,h,p,f;return s[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>({capture:async()=>{if(a.current?.capture)return await a.current.capture()}}),s[2]=d):d=s[2],lt.useImperativeHandle(t,d),s[3]===Symbol.for("react.memo_cache_sentinel")?(u={fileName:"placeholderAvatar",format:"jpg",quality:.8,height:750,width:750},s[3]=u):u=s[3],s[4]!==o.backgroundColor?(m=[c.imageContainer,{backgroundColor:o.backgroundColor}],s[4]=o.backgroundColor,s[5]=m):m=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(h={color:"white"},s[6]=h):h=s[6],s[7]!==r?(p=(0,bt.jsx)(r,{height:425,width:425,style:h}),s[7]=r,s[8]=p):p=s[8],s[9]!==m||s[10]!==p?(f=(0,bt.jsx)(Fs.default,{style:c.container,children:(0,bt.jsx)(lt.Suspense,{fallback:null,children:(0,bt.jsx)(rA,{ref:a,options:u,children:(0,bt.jsx)(Fs.default,{style:m,collapsable:!1,children:p})})})}),s[9]=m,s[10]=p,s[11]=f):f=s[11],f})),lA=lt.createContext({});lA.displayName="AvatarContext";const cA=()=>lt.useContext(lA),dA=oA[Math.floor(Math.random()*oA.length)];function uA(){const e=(0,n.c)(96),t=(0,Xo.useAnalytics)(),{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),{gtMobile:a}=(0,qs.useBreakpoints)(),{requestPhotoAccessIfNeeded:i}=(0,Od.usePhotoLibraryPermission)(),l=(0,nv.useRequestNotificationsPermission)(),c=Qs.useDialogControl(),[d,u]=lt.useState(""),{state:m,dispatch:h}=fI(),p=m.profileStepResults?.image,f=m.profileStepResults.creatorState?.emoji||sA.at,g=m.profileStepResults.creatorState?.backgroundColor||dA;let x;e[0]!==m.profileStepResults.isCreatedAvatar||e[1]!==p||e[2]!==f||e[3]!==g?(x={image:p,placeholder:f,backgroundColor:g,useCreatedAvatar:m.profileStepResults.isCreatedAvatar},e[0]=m.profileStepResults.isCreatedAvatar,e[1]=p,e[2]=f,e[3]=g,e[4]=x):x=e[4];const[_,y]=lt.useState(x),b=lt.useRef(null);let j,v;e[5]!==l?(j=()=>{l("StartOnboarding")},v=[l],e[5]=l,e[6]=j,e[7]=v):(j=e[6],v=e[7]),lt.useEffect(j,v);const S=(0,xu.useSheetWrapper)();let w;e[8]!==s||e[9]!==S?(w=async e=>((await S((0,FI.launchImageLibraryAsync)(Object.assign({exif:!1,mediaTypes:["images"],quality:1},e,{legacy:!0,preferredAssetRepresentationMode:NI.UIImagePickerPreferredAssetRepresentationMode.Automatic})))).assets??[]).slice(0,1).filter((e=>!(!e.mimeType?.startsWith("image/")||!(e.mimeType?.endsWith("jpeg")||e.mimeType?.endsWith("jpg")||e.mimeType?.endsWith("png")))||(u(s({id:"+klhm5"})),!1))).map(hA),e[8]=s,e[9]=S,e[10]=w):w=e[10];const T=w;let k;e[11]!==_.backgroundColor||e[12]!==_.image||e[13]!==_.placeholder||e[14]!==_.useCreatedAvatar||e[15]!==t||e[16]!==h?(k=async()=>{let e=_?.image?.path;e&&!_.useCreatedAvatar||(e=await(b.current?.capture())),e&&h({type:"setProfileStepResults",image:_.image,imageUri:e,imageMime:_.image?.mime??"image/jpeg",isCreatedAvatar:_.useCreatedAvatar,creatorState:{emoji:_.placeholder,backgroundColor:_.backgroundColor}}),h({type:"next"}),t.metric("onboarding:profile:nextPressed",{})},e[11]=_.backgroundColor,e[12]=_.image,e[13]=_.placeholder,e[14]=_.useCreatedAvatar,e[15]=t,e[16]=h,e[17]=k):k=e[17];const C=k;let I;e[18]!==c?(I=()=>{y(mA),c.close()},e[18]=c,e[19]=I):I=e[19];const A=I;let P;e[20]!==T||e[21]!==i||e[22]!==S?(P=async()=>{if(!await i())return;u("");let e=(await S(T({aspect:[1,1]})))[0];if(e){if(!r.IS_WEB)try{e=await(0,Md.openCropper)({imageUri:e.path,shape:"circle",aspectRatio:1})}catch(L){const t=L;(0,Tn.isCancelledError)(t)||Mt.logger.error("Failed to crop avatar in onboarding",{error:t})}e=await(0,Oy.compressIfNeeded)(e,1e6),r.IS_NATIVE&&await cn.Image.prefetch(e.path),y((t=>Object.assign({},t,{image:e,useCreatedAvatar:!1})))}},e[20]=T,e[21]=i,e[22]=S,e[23]=P):P=e[23];const E=P;let L;e[24]!==_.useCreatedAvatar||e[25]!==c||e[26]!==E?(L=()=>{_.useCreatedAvatar?E():c.open()},e[24]=_.useCreatedAvatar,e[25]=c,e[26]=E,e[27]=L):L=e[27];const R=L;let B;e[28]!==_?(B={avatar:_,setAvatar:y},e[28]=_,e[29]=B):B=e[29];const D=B;let O,M,F,N,H;e[30]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.align_start],e[30]=O):O=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.gap_sm],F=(0,bt.jsx)(SI,{}),e[31]=M,e[32]=F):(M=e[31],F=e[32]),e[33]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(wI,{children:(0,bt.jsx)(dt.Trans,{id:"4DXtI0"})}),e[33]=N):N=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsxs)(Fs.default,{style:M,children:[F,N,(0,bt.jsx)(TI,{children:(0,bt.jsx)(dt.Trans,{id:"M9fhQq"})})]}),e[34]=H):H=e[34];const V=a?80:60;let z,U,W,G;e[35]!==V?(z=[qs.atoms.w_full,qs.atoms.align_center,{paddingTop:V}],e[35]=V,e[36]=z):z=e[36],e[37]!==c.open||e[38]!==E?(U=(0,bt.jsx)(zI,{openLibrary:E,openCreator:c.open}),e[37]=c.open,e[38]=E,e[39]=U):U=e[39],e[40]!==d||e[41]!==o?(W=d&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,qs.atoms.mt_xl,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.border,qs.atoms.rounded_md,o.atoms.bg_contrast_25,o.atoms.border_contrast_low],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm"}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:d})]}),e[40]=d,e[41]=o,e[42]=W):W=e[42],e[43]!==z||e[44]!==U||e[45]!==W?(G=(0,bt.jsxs)(Fs.default,{style:z,children:[U,W]}),e[43]=z,e[44]=U,e[45]=W,e[46]=G):G=e[46];const q=a&&qs.atoms.flex_row_reverse;let Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe;return e[47]!==q?(Q=[qs.atoms.gap_md,q],e[47]=q,e[48]=Q):Q=e[48],e[49]!==s?(K=s({id:"nKtyYu"}),e[49]=s,e[50]=K):K=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xGVfLh"})}),e[51]=Z):Z=e[51],e[52]!==C||e[53]!==K?(Y=(0,bt.jsx)(ao.Button,{testID:"onboardingContinue",color:"primary",size:"large",label:K,onPress:C,children:Z}),e[52]=C,e[53]=K,e[54]=Y):Y=e[54],e[55]!==s?($=s({id:"wxMDFa"}),e[55]=s,e[56]=$):$=e[56],e[57]!==_.useCreatedAvatar?(X=(0,bt.jsx)(ao.ButtonText,{children:_.useCreatedAvatar?(0,bt.jsx)(dt.Trans,{id:"ZRuImD"}):(0,bt.jsx)(dt.Trans,{id:"bYUjBV"})}),e[57]=_.useCreatedAvatar,e[58]=X):X=e[58],e[59]!==R||e[60]!==$||e[61]!==X?(J=(0,bt.jsx)(ao.Button,{testID:"onboardingAvatarCreator",color:"primary_subtle",size:"large",label:$,onPress:R,children:X}),e[59]=R,e[60]=$,e[61]=X,e[62]=J):J=e[62],e[63]!==Q||e[64]!==Y||e[65]!==J?(ee=(0,bt.jsx)(yI.Portal,{children:(0,bt.jsxs)(Fs.default,{style:Q,children:[Y,J]})}),e[63]=Q,e[64]=Y,e[65]=J,e[66]=ee):ee=e[66],e[67]!==G||e[68]!==ee?(te=(0,bt.jsxs)(Fs.default,{style:O,children:[H,G,ee]}),e[67]=G,e[68]=ee,e[69]=te):te=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(se=[{width:"auto",maxWidth:410}],e[70]=se):se=e[70],e[71]===Symbol.for("react.memo_cache_sentinel")?(oe=[qs.atoms.align_center,{paddingTop:20}],e[71]=oe):oe=e[71],e[72]!==_?(ne=(0,bt.jsx)(Fs.default,{style:oe,children:(0,bt.jsx)(VI,{avatar:_})}),e[72]=_,e[73]=ne):ne=e[73],e[74]===Symbol.for("react.memo_cache_sentinel")?(ae=[qs.atoms.pt_3xl,qs.atoms.gap_lg],e[74]=ae):ae=e[74],e[75]!==_?(re=(0,bt.jsxs)(Fs.default,{style:ae,children:[(0,bt.jsx)(aA,{type:"emojis",avatar:_,setAvatar:y}),(0,bt.jsx)(aA,{type:"colors",avatar:_,setAvatar:y})]}),e[75]=_,e[76]=re):re=e[76],e[77]===Symbol.for("react.memo_cache_sentinel")?(ie=[qs.atoms.pt_4xl],e[77]=ie):ie=e[77],e[78]!==s?(le=s({id:"DPfwMq"}),e[78]=s,e[79]=le):le=e[79],e[80]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})}),e[80]=ce):ce=e[80],e[81]!==A||e[82]!==le?(de=(0,bt.jsx)(Fs.default,{style:ie,children:(0,bt.jsx)(ao.Button,{color:"primary",size:"large",label:le,onPress:A,children:ce})}),e[81]=A,e[82]=le,e[83]=de):de=e[83],e[84]!==ne||e[85]!==re||e[86]!==de?(ue=(0,bt.jsxs)(Qs.Inner,{label:"Avatar creator",style:se,children:[ne,re,de]}),e[84]=ne,e[85]=re,e[86]=de,e[87]=ue):ue=e[87],e[88]!==c||e[89]!==ue?(me=(0,bt.jsx)(Qs.Outer,{control:c,children:ue}),e[88]=c,e[89]=ue,e[90]=me):me=e[90],e[91]===Symbol.for("react.memo_cache_sentinel")?(he=(0,bt.jsx)(iA,{ref:b}),e[91]=he):he=e[91],e[92]!==te||e[93]!==me||e[94]!==D?(pe=(0,bt.jsxs)(lA.Provider,{value:D,children:[te,me,he]}),e[92]=te,e[93]=me,e[94]=D,e[95]=pe):pe=e[95],pe}function mA(e){return Object.assign({},e,{image:void 0,useCreatedAvatar:!0})}function hA(e){return{mime:"image/jpeg",height:e.height,width:e.width,path:e.uri,size:(0,HI.getDataUriSize)(e.uri)}}const pA=["US","GB","JP","CA","DE","FR","ES","BR","KR","NL","AU","SE","IT"];function fA(){const e=(0,n.c)(2),t=(0,MC.useGeolocation)();let s;var o;return e[0]!==t.countryCode?(o=t.countryCode,s=!!r.IS_DEV||!o||pA.includes(o.toUpperCase()),e[0]=t.countryCode,e[1]=s):s=e[1],s}function gA(e,t){switch(t.type){case"SUBMIT_PHONE_NUMBER":return _A(e,"1: phone input"),Object.assign({step:"2: verify number"},t.payload,{lastSentAt:null});case"RESEND_VERIFICATION_CODE":return _A(e,"2: verify number"),Object.assign({},e,{lastSentAt:new Date});case"VERIFY_PHONE_NUMBER_SUCCESS":return _A(e,"2: verify number"),{step:"3: get contacts",token:t.payload.token,phoneCountryCode:e.phoneCountryCode,phoneNumber:e.phoneNumber};case"BACK":return _A(e,"2: verify number"),{step:"1: phone input",phoneNumber:e.phoneNumber,phoneCountryCode:e.phoneCountryCode};case"GET_CONTACTS_SUCCESS":return _A(e,"3: get contacts"),Object.assign({},e,{contacts:t.payload.contacts});case"SYNC_CONTACTS_SUCCESS":return _A(e,"3: get contacts"),{step:"4: view matches",contacts:t.payload.contacts,matches:t.payload.matches,dismissedMatches:[]};case"DISMISS_MATCH":return _A(e,"4: view matches"),Object.assign({},e,{dismissedMatches:[...new Set(e.dismissedMatches),t.payload.did]});case"DISMISS_MATCH_FAILED":return _A(e,"4: view matches"),Object.assign({},e,{dismissedMatches:e.dismissedMatches.filter((e=>e!==t.payload.did))})}}class xA extends Error{constructor(e){super(e),this.name="InvalidStateTransitionError"}}function _A(e,t){if(e.step!==t)throw new xA(`Invalid state transition: expecting ${t}, got ${e.step}`)}function yA(e){const t=(0,n.c)(2);let s;t[0]!==e?(s=void 0===e?{step:"1: phone input"}:e,t[0]=e,t[1]=s):s=t[1];const o=s;return(0,lt.useReducer)(gA,o)}(0,lt.createContext)(void 0);function bA(){throw new Error("StepFindContacts is not available on web")}function jA(){throw new Error("StepFindContactsIntro is not available on web")}function vA(e){return e.viewer?.blockedBy||e.viewer?.blocking}function SA(e){return e.viewer?.muted||e.viewer?.mutedByList}function wA(e){const t=(0,n.c)(21),{category:s,search:o,overrideInterests:a}=e,r=void 0===s?null:s,i=void 0!==o&&o,l=Ml(),c=!i;let d;t[0]!==r||t[1]!==a||t[2]!==c?(d={enabled:c,category:r,overrideInterests:a},t[0]=r,t[1]=a,t[2]=c,t[3]=d):d=t[3];const u=(0,Nl.useGetSuggestedUsersQuery)(d),m=!!i,h=r?l[r]:"";let p;t[4]!==m||t[5]!==h?(p={enabled:m,query:h,limit:10},t[4]=m,t[5]=h,t[6]=p):p=t[6];const f=(0,Fl.useActorSearch)(p);let g;if(i){let e,s;t[7]!==f.data?(e=f?.data?{actors:f.data.pages.flatMap(TA)??[],recId:void 0}:void 0,t[7]=f.data,t[8]=e):e=t[8],t[9]!==f.error||t[10]!==f.isLoading||t[11]!==f.isRefetching||t[12]!==f.refetch||t[13]!==e?(s={data:e,isLoading:f.isLoading,error:f.error,isRefetching:f.isRefetching,refetch:f.refetch},t[9]=f.error,t[10]=f.isLoading,t[11]=f.isRefetching,t[12]=f.refetch,t[13]=e,t[14]=s):s=t[14],g=s}else{let e;t[15]!==u.data||t[16]!==u.error||t[17]!==u.isLoading||t[18]!==u.isRefetching||t[19]!==u.refetch?(e={data:u.data,isLoading:u.isLoading,error:u.error,isRefetching:u.isRefetching,refetch:u.refetch},t[15]=u.data,t[16]=u.error,t[17]=u.isLoading,t[18]=u.isRefetching,t[19]=u.refetch,t[20]=e):e=t[20],g=e}return g}function TA(e){return e.actors}function kA(){const e=(0,n.c)(69),{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)(),o=(0,qs.useTheme)(),{gtMobile:a}=(0,qs.useBreakpoints)(),i=(0,ds.useModerationOpts)(),l=(0,Gt.useAgent)(),{currentAccount:c}=(0,Gt.useSession)(),d=(0,On.useQueryClient)(),{state:u,dispatch:m}=fI(),[h,p]=(0,lt.useState)(null);let f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];const[g,x]=(0,lt.useState)(f),{contentLanguages:_}=(0,Bt.useLanguagePrefs)();let y;y=0===_.length||dI.basicFilter("en",_).length>0;const b=y,j=Ml();let v;e[1]!==j||e[2]!==u.interestsStepResults.selectedInterests?(v=Object.keys(j).sort(Zl(Ol)).sort(Zl(u.interestsStepResults.selectedInterests)),e[1]=j,e[2]=u.interestsStepResults.selectedInterests,e[3]=v):v=e[3];const S=h||(b?null:v[0]),w=!b;let T;e[4]!==u.interestsStepResults.selectedInterests||e[5]!==S||e[6]!==w?(T={category:S,search:w,overrideInterests:u.interestsStepResults.selectedInterests},e[4]=u.interestsStepResults.selectedInterests,e[5]=S,e[6]=w,e[7]=T):T=e[7];const{data:k,isLoading:C,error:I,isRefetching:A,refetch:P}=wA(T),E=!!I,L=!C&&k&&0===k.actors.length;let R;e[8]!==c?.did||e[9]!==g||e[10]!==k?.actors?(R=k?.actors.filter((e=>e.did!==c?.did&&!vA(e)&&!SA(e)&&!e.viewer?.following&&!g.includes(e.did))).map(CA)??[],e[8]=c?.did,e[9]=g,e[10]=k?.actors,e[11]=R):R=e[11];const B=R;let D,O,M,F,N;e[12]!==s||e[13]!==B||e[14]!==h||e[15]!==k?.recId?(D=()=>{s.metric("onboarding:suggestedAccounts:followAllPressed",{tab:h??"all",numAccounts:B.length});for(let e=0;e<B.length;e++){const t=B[e];s.metric("suggestedUser:follow",{logContext:"Onboarding",location:"FollowAll",recId:k?.recId,position:e,suggestedDid:t,category:h})}},e[12]=s,e[13]=B,e[14]=h,e[15]=k?.recId,e[16]=D):D=e[16],e[17]!==l||e[18]!==B||e[19]!==d?(O=async()=>{for(const t of B)(0,Va.updateProfileShadow)(d,t,{followingUri:"pending"});const e=await(0,eo.wait)(1e3,kI(l,B));for(const t of B){const s=e.get(t);(0,Va.updateProfileShadow)(d,t,{followingUri:s})}return B},e[17]=l,e[18]=B,e[19]=d,e[20]=O):O=e[20],e[21]!==t?(F=e=>{Pd.show(t({id:"5l3p5x"}),{type:"success"}),x((t=>[...t,...e]))},M=()=>{Pd.show(t({id:"Wqx7U3"}),{type:"error"})},e[21]=t,e[22]=M,e[23]=F):(M=e[22],F=e[23]),e[24]!==M||e[25]!==D||e[26]!==O||e[27]!==F?(N={onMutate:D,mutationFn:O,onSuccess:F,onError:M},e[24]=M,e[25]=D,e[26]=O,e[27]=F,e[28]=N):N=e[28];const{mutate:H,isPending:V}=(0,go.useMutation)(N),z=B.length>0&&!V;let U;e[29]===Symbol.for("react.memo_cache_sentinel")?(U=new Set,e[29]=U):U=e[29];const W=(0,lt.useRef)(U);let G;e[30]!==s||e[31]!==h||e[32]!==k?.recId?(G=(e,t)=>{W.current.has(e)||(W.current.add(e),s.metric("suggestedUser:seen",{logContext:"Onboarding",recId:k?.recId,position:t,suggestedDid:e,category:h}))},e[30]=s,e[31]=h,e[32]=k?.recId,e[33]=G):G=e[33],k?.recId;const q=G;let Q,K,Z,Y,$,X,J,ee,te,se;return e[34]===Symbol.for("react.memo_cache_sentinel")?(Q=[qs.atoms.align_start,qs.atoms.gap_sm],e[34]=Q):Q=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(SI,{}),e[35]=K):K=e[35],e[36]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,bt.jsx)(wI,{children:(0,bt.jsx)(dt.Trans,{id:"LnPXX1"})}),e[36]=Z):Z=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(Y=[qs.atoms.overflow_hidden,qs.atoms.mt_sm,r.IS_WEB?[qs.atoms.max_w_full,(0,qs.web)({minHeight:"100vh"})]:{marginHorizontal:-1*qs.tokens.space.xl},qs.atoms.flex_1,qs.atoms.justify_start],e[37]=Y):Y=e[37],e[38]!==t?($=t({id:"N40H+G"}),e[38]=t,e[39]=$):$=e[39],e[40]!==h||e[41]!==u.interestsStepResults.selectedInterests||e[42]!==$?(X=(0,bt.jsx)(IA,{selectedInterest:h,onSelectInterest:p,defaultTabLabel:$,selectedInterests:u.interestsStepResults.selectedInterests}),e[40]=h,e[41]=u.interestsStepResults.selectedInterests,e[42]=$,e[43]=X):X=e[43],e[44]!==L||e[45]!==E||e[46]!==C||e[47]!==i||e[48]!==q||e[49]!==h||e[50]!==k||e[51]!==o?(J=C||!i?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.mt_md,qs.atoms.align_center,qs.atoms.justify_center,{minHeight:400}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):E?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.px_xl,qs.atoms.pt_2xl],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"WAtYDV"})})}):L?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.px_xl,qs.atoms.pt_2xl],children:(0,bt.jsx)(no.Admonition,{type:"apology",children:(0,bt.jsx)(dt.Trans,{id:"AQTm57"})})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.mt_md,qs.atoms.border_y,o.atoms.border_contrast_low,r.IS_WEB&&[qs.atoms.border_x,qs.atoms.rounded_sm,qs.atoms.overflow_hidden]],children:k?.actors.map(((e,t)=>(0,bt.jsx)(AA,{profile:e,moderationOpts:i,position:t,category:h,onSeen:q,recId:k.recId},e.did)))}),e[44]=L,e[45]=E,e[46]=C,e[47]=i,e[48]=q,e[49]=h,e[50]=k,e[51]=o,e[52]=J):J=e[52],e[53]!==X||e[54]!==J?(ee=(0,bt.jsxs)(Fs.default,{style:Y,children:[X,J]}),e[53]=X,e[54]=J,e[55]=ee):ee=e[55],e[56]!==t||e[57]!==z||e[58]!==m||e[59]!==H||e[60]!==a||e[61]!==E||e[62]!==V||e[63]!==A||e[64]!==P?(te=(0,bt.jsx)(yI.Portal,{children:E?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,a?qs.atoms.flex_row:qs.atoms.flex_col],children:[(0,bt.jsxs)(ao.Button,{disabled:A,color:"secondary",size:"large",label:t({id:"6gRgw8"}),onPress:()=>{P()},children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded})]}),(0,bt.jsx)(ao.Button,{color:"secondary",size:"large",label:t({id:"2qH0zD"}),onPress:()=>m({type:"next"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6Uau97"})})})]}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,a?qs.atoms.flex_row:qs.atoms.flex_col],children:[(0,bt.jsxs)(ao.Button,{disabled:!z,color:"secondary",size:"large",label:t({id:"vIIj/z"}),onPress:()=>H(),children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"8P26C7"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:V?lo.Loader:zg.PlusLarge_Stroke2_Corner0_Rounded})]}),(0,bt.jsx)(ao.Button,{disabled:V,color:"primary",size:"large",label:t({id:"nKtyYu"}),onPress:()=>m({type:"next"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xGVfLh"})})})]})}),e[56]=t,e[57]=z,e[58]=m,e[59]=H,e[60]=a,e[61]=E,e[62]=V,e[63]=A,e[64]=P,e[65]=te):te=e[65],e[66]!==ee||e[67]!==te?(se=(0,bt.jsxs)(Fs.default,{style:Q,testID:"onboardingInterests",children:[K,Z,ee,te]}),e[66]=ee,e[67]=te,e[68]=se):se=e[68],se}function CA(e){return e.did}function IA(e){const t=(0,n.c)(20),{selectedInterest:s,onSelectInterest:o,selectedInterests:a,hideDefaultTab:i,defaultTabLabel:l}=e,{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)(),u=Ml();let m,h,p;t[0]!==i||t[1]!==u||t[2]!==a?(h=Object.keys(u).sort(Zl(Ol)).sort(Zl(a)),m=Ql,p=i?h:["all",...h],t[0]=i,t[1]=u,t[2]=a,t[3]=m,t[4]=h,t[5]=p):(m=t[3],h=t[4],p=t[5]);const f=s||(i?h[0]:"all");let g,x,_;return t[6]!==d||t[7]!==o?(g=e=>{d.metric("onboarding:suggestedAccounts:tabPressed",{tab:e}),o("all"===e?null:e)},t[6]=d,t[7]=o,t[8]=g):g=t[8],t[9]!==c||t[10]!==l||t[11]!==i||t[12]!==u?(x=i?u:Object.assign({all:l||c({id:"S0/Qnt"})},u),t[9]=c,t[10]=l,t[11]=i,t[12]=u,t[13]=x):x=t[13],t[14]!==m||t[15]!==p||t[16]!==f||t[17]!==g||t[18]!==x?(_=(0,bt.jsx)(m,{interests:p,selectedInterest:f,onSelectTab:g,interestsDisplayNames:x,gutterWidth:r.IS_WEB?0:qs.tokens.space.xl}),t[14]=m,t[15]=p,t[16]=f,t[17]=g,t[18]=x,t[19]=_):_=t[19],_}function AA(e){const t=(0,n.c)(34),{profile:s,moderationOpts:o,position:a,category:i,onSeen:l,recId:c}=e,d=(0,qs.useTheme)(),u=(0,Xo.useAnalytics)(),m=(0,lt.useRef)(null),h=(0,lt.useRef)(!1);let p,f;t[0]!==l||t[1]!==a||t[2]!==s.did?(p=()=>{const e=m.current;if(e&&!h.current){if(r.IS_WEB&&"undefined"!==typeof IntersectionObserver){const t=new IntersectionObserver((e=>{e[0]?.isIntersecting&&!h.current&&(h.current=!0,l(s.did,a),t.disconnect())}),{threshold:.5});return t.observe(e),()=>t.disconnect()}{const e=setTimeout((()=>{h.current||(h.current=!0,l(s.did,a))}),500);return()=>clearTimeout(e)}}},f=[l,s.did,a],t[0]=l,t[1]=a,t[2]=s.did,t[3]=p,t[4]=f):(p=t[3],f=t[4]),(0,lt.useEffect)(p,f);const g=0!==a&&qs.atoms.border_t;let x,_,y,b,j,v,S,w,T;return t[5]!==d.atoms.border_contrast_low||t[6]!==g?(x=[qs.atoms.w_full,qs.atoms.py_lg,qs.atoms.px_xl,g,d.atoms.border_contrast_low],t[5]=d.atoms.border_contrast_low,t[6]=g,t[7]=x):x=t[7],t[8]!==o||t[9]!==s?(_=(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:o,disabledPreview:!0}),y=(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:o}),t[8]=o,t[9]=s,t[10]=_,t[11]=y):(_=t[10],y=t[11]),t[12]!==u||t[13]!==i||t[14]!==a||t[15]!==s.did||t[16]!==c?(b=()=>{u.metric("suggestedUser:follow",{logContext:"Onboarding",location:"Card",recId:c,position:a,suggestedDid:s.did,category:i})},t[12]=u,t[13]=i,t[14]=a,t[15]=s.did,t[16]=c,t[17]=b):b=t[17],t[18]!==o||t[19]!==s||t[20]!==b?(j=(0,bt.jsx)(Rl.FollowButton,{profile:s,moderationOpts:o,withIcon:!1,logContext:"OnboardingSuggestedAccounts",onFollow:b}),t[18]=o,t[19]=s,t[20]=b,t[21]=j):j=t[21],t[22]!==_||t[23]!==y||t[24]!==j?(v=(0,bt.jsxs)(Rl.Header,{children:[_,y,j]}),t[22]=_,t[23]=y,t[24]=j,t[25]=v):v=t[25],t[26]!==s?(S=(0,bt.jsx)(Rl.Description,{profile:s,numberOfLines:3}),t[26]=s,t[27]=S):S=t[27],t[28]!==S||t[29]!==v?(w=(0,bt.jsxs)(Rl.Outer,{children:[v,S]}),t[28]=S,t[29]=v,t[30]=w):w=t[30],t[31]!==w||t[32]!==x?(T=(0,bt.jsx)(Fs.default,{ref:m,style:x,children:w}),t[31]=w,t[32]=x,t[33]=T):T=t[33],T}var PA=s(72653),EA=s(52891);const LA=e=>["onboarding-suggested-starter-packs",e?.join(",")];var RA=s(96407);function BA({view:e}){const t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),{currentAccount:o}=(0,Gt.useSession)(),{gtPhone:n}=(0,qs.useBreakpoints)(),a=(0,nm.useStarterPackLink)({view:e}),r=e.record;if(!qc.dangerousIsType(r,Dn.AppBskyGraphStarterpack.isRecord))return null;const i=n?11:8,l=e.listItemsSample?.slice(0,i).map((e=>e.subject));return(0,bt.jsx)(io.Link,{to:a.to,label:a.label,onHoverIn:a.precache,onPress:a.precache,children:n=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ju,{hover:n.hovered||n.pressed}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.p_lg,qs.atoms.gap_md,qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.overflow_hidden,t.atoms.border_contrast_low],children:[(0,bt.jsx)(DA,{profiles:l??[],numPending:i,total:e.list?.listItemCount}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.gap_lg,(0,qs.web)({position:"static",zIndex:"unset"})],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],numberOfLines:1,children:r.name}),(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],numberOfLines:1,children:e.creator?.did===o?.did?s({id:"Jre14g"}):s({id:"aavdrC",values:{0:(0,Fa.sanitizeHandle)(e.creator.handle,"@")}})})]}),(0,bt.jsx)(io.Link,{to:a.to,label:a.label,onHoverIn:a.precache,onPress:a.precache,variant:"solid",color:"secondary",size:"small",style:[qs.atoms.z_50],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"zR6d7s"})})})]})]})]})})}function DA(e){const t=(0,n.c)(37),{profiles:s,numPending:o,total:a}=e,r=(0,qs.useTheme)(),{gtPhone:i}=(0,qs.useBreakpoints)(),l=(0,ds.useModerationOpts)(),c=(a??o)-o,d=o+1,u=100/d,[m,h]=lt.useState(null),p=o&&0===s.length||!l;let f,g,x;if(t[0]!==d||t[1]!==p||t[2]!==l||t[3]!==o||t[4]!==s||t[5]!==m||t[6]!==r.atoms.bg_contrast_25||t[7]!==u){const e=p?Array.from({length:o??d}).map(OA):s.map((e=>({key:e.did,profile:e,moderation:(0,Dn.moderateProfile)(e,l)})));f=Fs.default;const n=100-.2*u+"%";let a;t[11]!==n?(g=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.relative,{width:n}],t[11]=n,t[12]=g):g=t[12],t[13]!==m||t[14]!==r.atoms.bg_contrast_25||t[15]!==u?(a=(e,t)=>(0,bt.jsx)(Fs.default,{style:[{width:`${u}%`,zIndex:100-t}],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.relative,{width:"120%"}],children:(0,bt.jsx)(Fs.default,{onLayout:e=>h(e.nativeEvent.layout.width),style:[qs.atoms.rounded_full,r.atoms.bg_contrast_25,{paddingTop:"100%"}],children:m&&e.profile?(0,bt.jsx)(Gi.UserAvatar,{size:m,avatar:e.profile.avatar,type:e.profile.associated?.labeler?"labeler":"user",moderation:e.moderation.ui("avatar"),style:[qs.atoms.absolute,qs.atoms.inset_0]}):(0,bt.jsx)(Mc.MediaInsetBorder,{style:[qs.atoms.rounded_full]})})})},e.key),t[13]=m,t[14]=r.atoms.bg_contrast_25,t[15]=u,t[16]=a):a=t[16],x=e.map(a),t[0]=d,t[1]=p,t[2]=l,t[3]=o,t[4]=s,t[5]=m,t[6]=r.atoms.bg_contrast_25,t[7]=u,t[8]=f,t[9]=g,t[10]=x}else f=t[8],g=t[9],x=t[10];const _=`${u}%`;let y,b,j,v,S,w,T,k;return t[17]!==_?(y=[{width:_,zIndex:1}],t[17]=_,t[18]=y):y=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.relative,{width:"120%"}],t[19]=b):b=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(j=[{paddingTop:"100%"}],t[20]=j):j=t[20],t[21]!==r.atoms.text_contrast_low.color?(v=[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.rounded_full,qs.atoms.align_center,qs.atoms.justify_center,{backgroundColor:r.atoms.text_contrast_low.color}],t[21]=r.atoms.text_contrast_low.color,t[22]=v):v=t[22],t[23]!==c||t[24]!==i?(S=c>0?(0,bt.jsx)(co.Text,{style:[i?qs.atoms.text_md:qs.atoms.text_xs,qs.atoms.font_semi_bold,qs.atoms.leading_snug,{color:"white"}],children:(0,bt.jsx)(dt.Trans,{id:"2455hg",values:{computedTotal:c}})}):(0,bt.jsx)(zg.PlusSmall_Stroke2_Corner0_Rounded,{fill:"white"}),t[23]=c,t[24]=i,t[25]=S):S=t[25],t[26]!==v||t[27]!==S?(w=(0,bt.jsx)(Fs.default,{style:b,children:(0,bt.jsx)(Fs.default,{style:j,children:(0,bt.jsx)(Fs.default,{style:v,children:S})})}),t[26]=v,t[27]=S,t[28]=w):w=t[28],t[29]!==y||t[30]!==w?(T=(0,bt.jsx)(Fs.default,{style:y,children:w}),t[29]=y,t[30]=w,t[31]=T):T=t[31],t[32]!==f||t[33]!==g||t[34]!==T||t[35]!==x?(k=(0,bt.jsxs)(f,{style:g,children:[x,T]}),t[32]=f,t[33]=g,t[34]=T,t[35]=x,t[36]=k):k=t[36],k}function OA(e,t){return{key:t,profile:null,moderation:null}}function MA(){const e=(0,n.c)(10),t=(0,qs.useTheme)(),{gtPhone:s}=(0,qs.useBreakpoints)(),o=s?11:8;let a,r,i,l,c,d;return e[0]!==t.atoms.border_contrast_low?(a=[qs.atoms.w_full,qs.atoms.p_lg,qs.atoms.gap_md,qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.overflow_hidden,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[2]=r):r=e[2],e[3]!==o?(i=(0,bt.jsx)(DA,{profiles:r,numPending:o}),e[3]=o,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.gap_lg,(0,qs.web)({position:"static",zIndex:"unset"})],e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(Fs.default,{style:l,children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_xs],children:[(0,bt.jsx)(mi,{width:180,height:18}),(0,bt.jsx)(mi,{width:120,height:14})]}),(0,bt.jsx)(mi,{width:100,height:33})]}),e[6]=c):c=e[6],e[7]!==a||e[8]!==i?(d=(0,bt.jsxs)(Fs.default,{style:a,children:[i,c]}),e[7]=a,e[8]=i,e[9]=d):d=e[9],d}const FA="did:plc:pifkcjimdcfwaxkanzhwxufp";function NA(e){const t=(0,n.c)(53),{view:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),r=(0,Xo.useAnalytics)(),{currentAccount:i}=(0,Gt.useSession)(),{gtPhone:l}=(0,qs.useBreakpoints)(),c=(0,Gt.useAgent)(),d=(0,On.useQueryClient)(),u=s.record,[m,h]=(0,lt.useState)(!1),[p,f]=(0,lt.useState)(!1);let g;t[0]!==a||t[1]!==c||t[2]!==r||t[3]!==i?.did||t[4]!==d||t[5]!==s.cid||t[6]!==s.list||t[7]!==s.uri?(g=async()=>{if(!s.list)return;let e;h(!0);try{e=await(0,Xx.getAllListMembers)(c,s.list.uri)}catch(y){const t=y;return h(!1),Pd.show(a({id:"yWbGrB"}),{type:"error"}),void Mt.logger.error("Failed to get list members for starter pack",{safeMessage:t})}const t=e.filter((e=>e.subject.did!==FA&&e.subject.did!==i?.did&&!vA(e.subject)&&!SA(e.subject)&&!e.subject.viewer?.following)).map(VA);let o;try{o=await kI(c,t,{uri:s.uri,cid:s.cid})}catch(j){const t=j;h(!1),Pd.show(a({id:"yWbGrB"}),{type:"error"}),Mt.logger.error("Failed to follow all accounts",{safeMessage:t})}f(!0),h(!1),(0,RA.batchedUpdates)((()=>{for(const e of t)(0,Va.updateProfileShadow)(d,e,{followingUri:o.get(e)})})),Pd.show(a({id:"w9OS0x"}),{type:"success"}),r.metric("starterPack:followAll",{logContext:"Onboarding",starterPack:s.uri,count:t.length})},t[0]=a,t[1]=c,t[2]=r,t[3]=i?.did,t[4]=d,t[5]=s.cid,t[6]=s.list,t[7]=s.uri,t[8]=g):g=t[8];const x=g;if(!qc.dangerousIsType(u,Dn.AppBskyGraphStarterpack.isRecord))return null;const _=l?11:8;let y;t[9]!==_||t[10]!==s.listItemsSample?(y=s.listItemsSample?.slice(0,_).map(HA),t[9]=_,t[10]=s.listItemsSample,t[11]=y):y=t[11];const b=y;let j,v;t[12]!==o.atoms.border_contrast_medium?(j=[qs.atoms.w_full,qs.atoms.p_lg,qs.atoms.gap_md,qs.atoms.border,qs.atoms.rounded_lg,qs.atoms.overflow_hidden,o.atoms.border_contrast_medium],t[12]=o.atoms.border_contrast_medium,t[13]=j):j=t[13],t[14]!==b?(v=b??[],t[14]=b,t[15]=v):v=t[15];const S=s.list?.listItemCount;let w,T,k,C,I,A,P,E,L;t[16]!==_||t[17]!==v||t[18]!==S?(w=(0,bt.jsx)(DA,{profiles:v,numPending:_,total:S}),t[16]=_,t[17]=v,t[18]=S,t[19]=w):w=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_end,qs.atoms.gap_lg,(0,qs.web)({position:"static",zIndex:"unset"})],t[20]=T):T=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.flex_1,qs.atoms.gap_2xs],t[21]=k):k=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_snug],t[22]=C):C=t[22],t[23]!==u.name?(I=(0,bt.jsx)(co.Text,{emoji:!0,style:C,numberOfLines:1,children:u.name}),t[23]=u.name,t[24]=I):I=t[24],t[25]!==o.atoms.text_contrast_medium?(A=[qs.atoms.text_xs,o.atoms.text_contrast_medium,qs.atoms.leading_snug],t[25]=o.atoms.text_contrast_medium,t[26]=A):A=t[26],t[27]!==u.description||t[28]!==A?(P=(0,bt.jsx)(co.Text,{emoji:!0,style:A,numberOfLines:2,children:u.description}),t[27]=u.description,t[28]=A,t[29]=P):P=t[29],t[30]!==I||t[31]!==P?(E=(0,bt.jsxs)(Fs.default,{style:k,children:[I,P]}),t[30]=I,t[31]=P,t[32]=E):E=t[32],t[33]!==a?(L=a({id:"8P26C7"}),t[33]=a,t[34]=L):L=t[34];const R=m||p;let B,D,O,M,F,N;return t[35]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.z_50],t[35]=B):B=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"8P26C7"})}),t[36]=D):D=t[36],t[37]!==p||t[38]!==m?(O=p?(0,bt.jsx)(ao.ButtonIcon,{icon:ro.Check_Stroke2_Corner0_Rounded}):m&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[37]=p,t[38]=m,t[39]=O):O=t[39],t[40]!==x||t[41]!==L||t[42]!==R||t[43]!==O?(M=(0,bt.jsxs)(ao.Button,{label:L,disabled:R,onPress:x,color:"secondary",size:"small",style:B,children:[D,O]}),t[40]=x,t[41]=L,t[42]=R,t[43]=O,t[44]=M):M=t[44],t[45]!==E||t[46]!==M||t[47]!==T?(F=(0,bt.jsxs)(Fs.default,{style:T,children:[E,M]}),t[45]=E,t[46]=M,t[47]=T,t[48]=F):F=t[48],t[49]!==F||t[50]!==j||t[51]!==w?(N=(0,bt.jsxs)(Fs.default,{style:j,children:[w,F]}),t[49]=F,t[50]=j,t[51]=w,t[52]=N):N=t[52],N}function HA(e){return e.subject}function VA(e){return e.subject.did}function zA(){const e=(0,n.c)(21),{_:t}=(0,dt.useLingui)(),{gtMobile:s}=(0,qs.useBreakpoints)(),o=(0,ds.useModerationOpts)(),{state:a,dispatch:r}=fI();let i;e[0]!==a.interestsStepResults.selectedInterests?(i={enabled:!0,overrideInterests:a.interestsStepResults.selectedInterests},e[0]=a.interestsStepResults.selectedInterests,e[1]=i):i=e[1];const{data:l,isLoading:c,isError:d,isRefetching:u,refetch:m}=function(e){const t=(0,n.c)(11),{enabled:s,overrideInterests:o}=e,a=(0,Gt.useAgent)(),{data:r}=(0,xr.usePreferencesQuery)();let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,EA.getContentLanguages)().join(","),t[0]=i):i=t[0];const l=i,c=!!r&&!1!==s;let d,u,m;return t[1]!==o?(d=LA(o),t[1]=o,t[2]=d):d=t[2],t[3]!==a||t[4]!==o||t[5]!==r?(u=async()=>{const{data:e}=await a.app.bsky.unspecced.getOnboardingSuggestedStarterPacks({limit:6},{headers:Object.assign({},(0,PA.createBskyTopicsHeader)(o?o.join(","):(0,PA.aggregateUserInterests)(r)),{"Accept-Language":l})});return e},t[3]=a,t[4]=o,t[5]=r,t[6]=u):u=t[6],t[7]!==c||t[8]!==d||t[9]!==u?(m={enabled:c,staleTime:yt.STALE.MINUTES.THREE,queryKey:d,queryFn:u},t[7]=c,t[8]=d,t[9]=u,t[10]=m):m=t[10],(0,Zs.useQuery)(m)}(i);let h,p,f,g,x,_,y;return e[2]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.align_start,qs.atoms.gap_sm],e[2]=h):h=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(SI,{}),e[3]=p):p=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(wI,{children:(0,bt.jsx)(dt.Trans,{id:"zjruXt"})}),e[4]=f):f=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.overflow_hidden,qs.atoms.flex_1,qs.atoms.justify_start,qs.atoms.w_full,qs.atoms.mt_sm],e[5]=g):g=e[5],e[6]!==d||e[7]!==c||e[8]!==o||e[9]!==l?.starterPacks?(x=(0,bt.jsx)(Fs.default,{style:g,children:c||!o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.justify_center,{minHeight:400}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):d?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.px_xl,qs.atoms.pt_5xl],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"WAtYDV"})})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1],children:l?.starterPacks.map(UA)})}),e[6]=d,e[7]=c,e[8]=o,e[9]=l?.starterPacks,e[10]=x):x=e[10],e[11]!==t||e[12]!==r||e[13]!==s||e[14]!==d||e[15]!==u||e[16]!==m?(_=(0,bt.jsx)(yI.Portal,{children:d?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,s?qs.atoms.flex_row:qs.atoms.flex_col],children:[(0,bt.jsxs)(ao.Button,{disabled:u,color:"secondary",size:"large",label:t({id:"6gRgw8"}),onPress:()=>m(),children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded})]}),(0,bt.jsx)(ao.Button,{color:"secondary",size:"large",label:t({id:"2qH0zD"}),onPress:()=>r({type:"next"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6Uau97"})})})]}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.gap_md,s?qs.atoms.flex_row:qs.atoms.flex_col],children:(0,bt.jsx)(ao.Button,{color:"primary",size:"large",label:t({id:"nKtyYu"}),onPress:()=>r({type:"next"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xGVfLh"})})})})}),e[11]=t,e[12]=r,e[13]=s,e[14]=d,e[15]=u,e[16]=m,e[17]=_):_=e[17],e[18]!==x||e[19]!==_?(y=(0,bt.jsxs)(Fs.default,{style:h,testID:"onboardingInterests",children:[p,f,x,_]}),e[18]=x,e[19]=_,e[20]=y):y=e[20],y}function UA(e){return(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_lg],children:(0,bt.jsx)(NA,{view:e})},e.uri)}function WA(){const e=(0,n.c)(24),t=(0,qs.useTheme)(),s=(0,Xo.useAnalytics)(),{contentLanguages:o}=(0,Bt.useLanguagePrefs)();let a;a=0===o.length||dI.basicFilter("en",o).length>0;const i=a,l="e2e"!==r.ENV&&i,c=fA();let d;e[0]!==s||e[1]!==c?(d="e2e"!==r.ENV&&r.IS_NATIVE&&c&&!s.features.enabled(s.features.ImportContactsOnboardingDisable),e[0]=s,e[1]=c,e[2]=d):d=e[2];const u=d;let m;e[3]!==u||e[4]!==l?(m={starterPacksStepEnabled:l,findContactsStepEnabled:u},e[3]=u,e[4]=l,e[5]=m):m=e[5];const[h,p]=(0,lt.useReducer)(hI,m,uI),[f,g]=yA();let x,_;e[6]!==t.atoms.bg?(x=[qs.atoms.absolute,qs.atoms.inset_0,t.atoms.bg],e[6]=t.atoms.bg,e[7]=x):x=e[7],e[8]!==h?(_={state:h,dispatch:p},e[8]=h,e[9]=_):_=e[9];const y=_;let b,j,v,S;return e[10]!==g||e[11]!==f||e[12]!==h.activeStep?(b="find-contacts"===h.activeStep?(0,bt.jsx)(bA,{flowState:f,flowDispatch:g}):(0,bt.jsxs)(jI,{children:["profile"===h.activeStep&&(0,bt.jsx)(uA,{}),"interests"===h.activeStep&&(0,bt.jsx)(OI,{}),"suggested-accounts"===h.activeStep&&(0,bt.jsx)(kA,{}),"suggested-starterpacks"===h.activeStep&&(0,bt.jsx)(zA,{}),"find-contacts-intro"===h.activeStep&&(0,bt.jsx)(jA,{}),"finished"===h.activeStep&&(0,bt.jsx)(LI,{})]}),e[10]=g,e[11]=f,e[12]=h.activeStep,e[13]=b):b=e[13],e[14]!==h.activeStep||e[15]!==h.stepTransitionDirection||e[16]!==b?(j=(0,bt.jsx)(Jk,{direction:h.stepTransitionDirection,style:qs.atoms.flex_1,children:b},h.activeStep),e[14]=h.activeStep,e[15]=h.stepTransitionDirection,e[16]=b,e[17]=j):j=e[17],e[18]!==y||e[19]!==j?(v=(0,bt.jsx)(yI.Provider,{children:(0,bt.jsx)(bI.Provider,{children:(0,bt.jsx)(mI.Provider,{value:y,children:j})})}),e[18]=y,e[19]=j,e[20]=v):v=e[20],e[21]!==x||e[22]!==v?(S=(0,bt.jsx)(xI.Portal,{children:(0,bt.jsx)(Fs.default,{style:x,children:v})}),e[21]=x,e[22]=v,e[23]=S):S=e[23],S}var GA=s(93604);const qA=400;function QA(){const{_:e}=(0,dt.useLingui)(),t=(0,qs.useTheme)(),s=(0,ct.useSafeAreaInsets)(),{gtMobile:o}=(0,qs.useBreakpoints)(),n=(0,hs.useOnboardingDispatch)(),{logoutCurrentAccount:a}=(0,Gt.useSessionApi)(),i=(0,Gt.useAgent)(),[l,c]=lt.useState(!1),[d,u]=lt.useState(void 0),[m,h]=lt.useState(void 0),p=lt.useCallback((async()=>{c(!0);try{const e=await i.com.atproto.temp.checkSignupQueue();e.data.activated?(await i.sessionManager.refreshSession(),(0,Gt.isSignupQueued)(i.session?.accessJwt)||n({type:"start"})):(u(function(e){if(e&&e>0){const t=Math.ceil(e/6e4);if(t>59){const e=Math.round(t/60);if(e>6)return;return`${e} ${Et.i18n._({id:"7li+9j",values:{estimatedTimeHrs:e}})}`}return`${t} ${Et.i18n._({id:"oZH/QV",values:{estimatedTimeMins:t}})}`}return}(e.data.estimatedTimeMs)),"undefined"!==typeof e.data.placeInQueue&&h(Math.max(e.data.placeInQueue,1)))}catch(e){Mt.logger.error("Failed to check signup queue",{err:e.toString()})}finally{c(!1)}}),[c,u,h,n,i]);lt.useEffect((()=>{p();const e=setInterval(p,6e4);return()=>clearInterval(e)}),[p]);const f=(0,bt.jsxs)(ao.Button,{variant:"solid",color:"primary",size:"large",label:e({id:"g71jLK"}),onPress:p,disabled:l,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"g71jLK"})}),l&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),g=(0,bt.jsx)(ao.Button,{variant:"ghost",size:"large",color:"primary",label:e({id:"fcWrnU"}),onPress:()=>a("SignupQueued"),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"fcWrnU"})})}),x=r.IS_WEB&&o;return(0,bt.jsxs)(GA.default,{visible:!0,animationType:(0,qs.native)("slide"),presentationStyle:"formSheet",style:[(0,qs.web)(qs.atoms.util_screen_outer)],children:[r.IS_IOS&&(0,bt.jsx)(nT.SystemBars,{style:{statusBar:"light"}}),(0,bt.jsx)(Vi.default,{style:[qs.atoms.flex_1,t.atoms.bg],contentContainerStyle:{borderWidth:0},bounces:!1,children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_center,o?qs.atoms.pt_4xl:[qs.atoms.px_xl,qs.atoms.pt_xl]],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,{maxWidth:qA}],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.my_4xl],children:(0,bt.jsx)(Av,{width:120})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_4xl,qs.atoms.font_bold,qs.atoms.pb_sm],children:(0,bt.jsx)(dt.Trans,{id:"7SE541"})}),(0,bt.jsx)(co.P,{style:[t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"FObjSw"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.rounded_sm,qs.atoms.px_2xl,qs.atoms.py_4xl,qs.atoms.mt_2xl,qs.atoms.mb_md,qs.atoms.border,t.atoms.bg_contrast_25,t.atoms.border_contrast_medium],children:["number"===typeof m&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_5xl,qs.atoms.text_center,qs.atoms.font_bold,qs.atoms.mb_2xl],children:m}),(0,bt.jsxs)(co.P,{style:[qs.atoms.text_center],children:["number"===typeof m?(0,bt.jsx)(dt.Trans,{id:"S4sMB0"}):(0,bt.jsx)(dt.Trans,{id:"elP1HP"})," ",d?(0,bt.jsx)(dt.Trans,{id:"iXJkLp",values:{estimatedTime:d}}):(0,bt.jsx)(dt.Trans,{id:"BRipDg"})]})]}),x&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.pt_5xl,{paddingBottom:200}],children:[g,f]})]})})}),!x&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,t.atoms.bg,o?qs.atoms.px_5xl:qs.atoms.px_xl,{paddingBottom:Math.max(s.bottom,qs.atoms.pb_5xl.paddingBottom)}],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.gap_sm,{maxWidth:qA}],children:[f,g]})})]})}var KA=s(36830);const ZA=(0,xI.createPortalGroup)(),YA=ZA.Provider,$A=ZA.Portal,XA=ZA.Outlet;function JA({enabled:e}){const t=Di(zC),{mutate:s,variables:o}=Oi(),n=(0,Is.useStorage)(Is.device,[zC]),a=!!(0,Is.useStorage)(Is.device,["policyUpdateDebugOverride"])[0]&&r.IS_DEV;return(0,lt.useMemo)((()=>{if(!e)return{completed:!0,complete(){}};const r="ready"===t.status,i=!0===t.nux?.completed,l=!!o?.completed,[c,d]=n,u=function({nuxIsReady:e,nuxIsCompleted:t,nuxIsOptimisticallyCompleted:s,completedForDevice:o}){let n=!0;e&&(n=t);(s||o)&&(n=!0);return n}({nuxIsReady:r,nuxIsCompleted:i,nuxIsOptimisticallyCompleted:l,completedForDevice:c});return WC.debug("state",{completed:u,nux:t,completedForDevice:c}),a||function({nuxIsReady:e,nuxIsCompleted:t,nuxIsOptimisticallyCompleted:s,completedForDevice:o,save:n,setCompletedForDevice:a}){e&&!t&&!s&&o?(WC.debug("syncing device state to server state"),n({id:zC,completed:!0,data:void 0})):e&&t&&!o&&(WC.debug("syncing server state to device state"),a(!0))}({nuxIsReady:r,nuxIsCompleted:i,nuxIsOptimisticallyCompleted:l,completedForDevice:c,save:s,setCompletedForDevice:d}),{completed:u,complete(){WC.debug("user completed"),s({id:zC,completed:!0,data:void 0}),d(!0)}}}),[e,t,s,o,n,a])}const eP=(0,lt.createContext)({state:{completed:!0,complete:()=>{}},setIsReadyToShowOverlay:()=>{}});function tP(){const e=(0,lt.useContext)(eP);if(!e)throw new Error("usePolicyUpdateContext must be used within a PolicyUpdateProvider");return e}function sP(e){const t=(0,n.c)(8),{children:s}=e,{hasSession:o}=(0,Gt.useSession)(),[a,i]=(0,lt.useState)(!1),l=UC&&a&&o&&"e2e"!==r.ENV;let c;t[0]!==l?(c={enabled:l},t[0]=l,t[1]=c):c=t[1];const d=JA(c);let u;t[2]!==a||t[3]!==d?(u={state:d,setIsReadyToShowOverlay(){a||i(!0)}},t[2]=a,t[3]=d,t[4]=u):u=t[4];const m=u;let h;return t[5]!==s||t[6]!==m?(h=(0,bt.jsx)(YA,{children:(0,bt.jsx)(eP.Provider,{value:m,children:s})}),t[5]=s,t[6]=m,t[7]=h):h=t[7],h}function oP(){const e=(0,n.c)(14),t=(0,qs.useTheme)();let s,o,a,r,i,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.align_start],e[0]=s):s=e[0],e[1]!==t.palette.primary_25?(o=[qs.atoms.pl_md,qs.atoms.pr_lg,qs.atoms.py_sm,qs.atoms.rounded_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,{backgroundColor:t.palette.primary_25}],e[1]=t.palette.primary_25,e[2]=o):o=e[2],e[3]!==t.palette.primary_600?(a=(0,bt.jsx)(Av,{fill:t.palette.primary_600,width:14}),e[3]=t.palette.primary_600,e[4]=a):a=e[4],e[5]!==t.palette.primary_600?(r=[qs.atoms.font_semi_bold,{color:t.palette.primary_600}],e[5]=t.palette.primary_600,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"QDQTbK"}),e[7]=i):i=e[7],e[8]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),e[8]=r,e[9]=l):l=e[9],e[10]!==o||e[11]!==a||e[12]!==l?(c=(0,bt.jsx)(Fs.default,{style:s,children:(0,bt.jsxs)(Fs.default,{style:o,children:[a,l]})}),e[10]=o,e[11]=a,e[12]=l,e[13]=c):c=e[13],c}function nP(e){const t=(0,n.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)(un.FocusScope,{loop:!0,asChild:!0,trapped:!0,children:s}),t[0]=s,t[1]=o):o=t[1],o}eP.displayName="PolicyUpdateOverlayContext";const aP=Hs.RemoveScrollBar,rP=24;function iP(e){const t=(0,n.c)(50),{children:s,label:o}=e,a=(0,qs.useTheme)(),{gtPhone:i}=(0,qs.useBreakpoints)(),{reduceMotionEnabled:l}=(0,Ft.useA11y)(),c=(0,ct.useSafeAreaInsets)(),d=(0,ct.useSafeAreaFrame)();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(aP,{}),t[0]=u):u=t[0];const m=!l&&qs.atoms.fade_in;let h,p,f,g,x,_,y,b,j,v;t[1]!==m?(h=[qs.atoms.fixed,qs.atoms.inset_0,m],t[1]=m,t[2]=h):h=t[2],t[3]!==i||t[4]!==l||t[5]!==a.atoms.bg||t[6]!==a.palette?(p=i?(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,{opacity:.8}],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.fixed,qs.atoms.inset_0,{backgroundColor:a.palette.black},!l&&qs.atoms.fade_in]})}):(0,bt.jsx)(Lo.LinearGradient,{colors:[Wl.utils.alpha(a.atoms.bg.backgroundColor,0),a.atoms.bg.backgroundColor,a.atoms.bg.backgroundColor],start:[.5,0],end:[.5,1],style:[qs.atoms.absolute,qs.atoms.inset_0]}),t[3]=i,t[4]=l,t[5]=a.atoms.bg,t[6]=a.palette,t[7]=p):p=t[7],t[8]!==h||t[9]!==p?(f=(0,bt.jsx)(Fs.default,{style:h,children:p}),t[8]=h,t[9]=p,t[10]=f):f=t[10],t[11]!==i?(g=i&&(0,qs.web)({paddingHorizontal:rP,paddingVertical:"10vh"}),t[11]=i,t[12]=g):g=t[12],t[13]!==g?(x=[qs.atoms.z_10,g],t[13]=g,t[14]=x):x=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.align_center],t[15]=_):_=t[15],t[16]!==d||t[17]!==i?(y=!i&&[qs.atoms.justify_end,{minHeight:d.height}],t[16]=d,t[17]=i,t[18]=y):y=t[18],t[19]!==c?(b=r.IS_NATIVE&&[{paddingBottom:Math.max(c.bottom,qs.atoms.p_2xl.padding)}],t[19]=c,t[20]=b):b=t[20],t[21]!==b||t[22]!==y?(j=[qs.atoms.w_full,qs.atoms.z_20,qs.atoms.align_center,y,b],t[21]=b,t[22]=y,t[23]=j):j=t[23],t[24]!==i||t[25]!==c||t[26]!==a.atoms.bg?(v=!i&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.w_full,{minHeight:Math.max(c.top,qs.atoms.p_2xl.padding)}],children:(0,bt.jsx)(Lo.LinearGradient,{colors:[Wl.utils.alpha(a.atoms.bg.backgroundColor,0),a.atoms.bg.backgroundColor],start:[.5,0],end:[.5,1],style:[qs.atoms.absolute,qs.atoms.inset_0]})}),t[24]=i,t[25]=c,t[26]=a.atoms.bg,t[27]=v):v=t[27];const S=!l&&qs.atoms.zoom_fade_in;let w,T,k,C,I,A;return t[28]!==i||t[29]!==a.atoms.border_contrast_low||t[30]!==a.atoms.shadow_lg?(w=i&&[qs.atoms.rounded_md,qs.atoms.border,a.atoms.shadow_lg,a.atoms.border_contrast_low,(0,qs.web)({maxWidth:420})],t[28]=i,t[29]=a.atoms.border_contrast_low,t[30]=a.atoms.shadow_lg,t[31]=w):w=t[31],t[32]!==a.atoms.bg||t[33]!==S||t[34]!==w?(T=[qs.atoms.relative,qs.atoms.w_full,qs.atoms.p_2xl,a.atoms.bg,S,w],t[32]=a.atoms.bg,t[33]=S,t[34]=w,t[35]=T):T=t[35],t[36]!==s||t[37]!==o||t[38]!==T?(k=(0,bt.jsx)(nP,{children:(0,bt.jsx)(Fs.default,{accessible:r.IS_ANDROID,role:"dialog","aria-role":"dialog","aria-label":o,style:T,children:s})}),t[36]=s,t[37]=o,t[38]=T,t[39]=k):k=t[39],t[40]!==j||t[41]!==v||t[42]!==k?(C=(0,bt.jsxs)(Fs.default,{style:j,children:[v,k]}),t[40]=j,t[41]=v,t[42]=k,t[43]=C):C=t[43],t[44]!==C||t[45]!==x?(I=(0,bt.jsx)(Vi.default,{showsVerticalScrollIndicator:!1,style:x,contentContainerStyle:_,children:C}),t[44]=C,t[45]=x,t[46]=I):I=t[46],t[47]!==I||t[48]!==f?(A=(0,bt.jsxs)(bt.Fragment,{children:[u,f,I]}),t[47]=I,t[48]=f,t[49]=A):A=t[49],A}function lP(e){const t=(0,n.c)(65),{state:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{screenReaderEnabled:i}=(0,Ft.useA11y)();let l;t[0]!==s?(l=()=>{s.complete()},t[0]=s,t[1]=l):l=t[1];const c=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.text_md],t[2]=d):d=t[2];const u=d;let m,h,p,f,g,x,_,y,b,j,v;t[3]!==a?(m=a({id:"xowcRf"}),t[3]=a,t[4]=m):m=t[4],t[5]!==m?(h={overridePresentation:!1,to:"https://bsky.social/about/support/tos",label:m},t[5]=m,t[6]=h):h=t[6],t[7]!==a?(p=a({id:"LcET2C"}),t[7]=a,t[8]=p):p=t[8],t[9]!==p?(f={overridePresentation:!1,to:"https://bsky.social/about/support/privacy-policy",label:p},t[9]=p,t[10]=f):f=t[10],t[11]!==a?(g=a({id:"u40k/o"}),t[11]=a,t[12]=g):g=t[12],t[13]!==g?(x={overridePresentation:!1,to:"https://bsky.social/about/support/copyright",label:g},t[13]=g,t[14]=x):x=t[14],t[15]!==a?(_=a({id:"KHzDTk"}),t[15]=a,t[16]=_):_=t[16],t[17]!==_?(y={overridePresentation:!1,to:"https://bsky.social/about/support/community-guidelines",label:_},t[17]=_,t[18]=y):y=t[18],t[19]!==a?(b=a({id:"KDUWLT"}),t[19]=a,t[20]=b):b=t[20],t[21]!==b?(j={overridePresentation:!1,to:"https://bsky.social/about/blog/08-14-2025-updated-terms-and-policies",label:b},t[21]=b,t[22]=j):j=t[22],t[23]!==y||t[24]!==j||t[25]!==h||t[26]!==f||t[27]!==x?(v={terms:h,privacy:f,copyright:x,guidelines:y,blog:j},t[23]=y,t[24]=j,t[25]=h,t[26]=f,t[27]=x,t[28]=v):v=t[28];const S=v;let w;t[29]===Symbol.for("react.memo_cache_sentinel")?(w={overridePresentation:!1,color:"secondary",size:"small"},t[29]=w):w=t[29];const T=w;let k;t[30]!==a?(k=r.IS_ANDROID?a({id:"c+GRN4"}):a({id:"bk+r3I"}),t[30]=a,t[31]=k):k=t[31];const C=k;let I,A,P,E,L,R,B,D,O,M,F,N,H,V;return t[32]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.align_start,qs.atoms.gap_xl],A=(0,bt.jsx)(oP,{}),t[32]=I,t[33]=A):(I=t[32],A=t[33]),t[34]!==S.blog||t[35]!==S.copyright||t[36]!==S.guidelines||t[37]!==S.privacy||t[38]!==S.terms||t[39]!==i?(P=i?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"knqPkd"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"aHLLau"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"imDQim"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"X+xjxI"})}),(0,bt.jsx)(io.Link,Object.assign({},S.terms,T,{children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xowcRf"})})})),(0,bt.jsx)(io.Link,Object.assign({},S.privacy,T,{children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"LcET2C"})})})),(0,bt.jsx)(io.Link,Object.assign({},S.copyright,T,{children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"u40k/o"})})})),(0,bt.jsx)(io.Link,Object.assign({},S.blog,T,{children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"BhPzCY"})})}))]}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"knqPkd"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"8+L8h9",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({},S.terms,{style:u})),1:(0,bt.jsx)(io.InlineLinkText,Object.assign({},S.privacy,{style:u})),2:(0,bt.jsx)(io.InlineLinkText,Object.assign({},S.copyright,{style:u}))}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"mWArFm",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({},S.guidelines,{style:u}))}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"Ix7hx8",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({},S.blog,{style:u}))}})})]}),t[34]=S.blog,t[35]=S.copyright,t[36]=S.guidelines,t[37]=S.privacy,t[38]=S.terms,t[39]=i,t[40]=P):P=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.w_full,qs.atoms.gap_md],t[41]=E):E=t[41],t[42]!==a?(L=a({id:"xGVfLh"}),t[42]=a,t[43]=L):L=t[43],t[44]!==a?(R=a({id:"nO0I9e"}),t[44]=a,t[45]=R):R=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"xGVfLh"})}),t[46]=B):B=t[46],t[47]!==c||t[48]!==L||t[49]!==R?(D=(0,bt.jsx)(ao.Button,{label:L,accessibilityHint:R,color:"primary",size:"large",onPress:c,children:B}),t[47]=c,t[48]=L,t[49]=R,t[50]=D):D=t[50],t[51]!==o.atoms.text_contrast_medium?(O=[qs.atoms.leading_snug,qs.atoms.text_sm,qs.atoms.italic,o.atoms.text_contrast_medium],t[51]=o.atoms.text_contrast_medium,t[52]=O):O=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(dt.Trans,{id:"i3I0VB"}),t[53]=M):M=t[53],t[54]!==O?(F=(0,bt.jsx)(co.Text,{style:O,children:M}),t[54]=O,t[55]=F):F=t[55],t[56]!==D||t[57]!==F?(N=(0,bt.jsxs)(Fs.default,{style:E,children:[D,F]}),t[56]=D,t[57]=F,t[58]=N):N=t[58],t[59]!==P||t[60]!==N?(H=(0,bt.jsxs)(Fs.default,{style:I,children:[A,P,N]}),t[59]=P,t[60]=N,t[61]=H):H=t[61],t[62]!==C||t[63]!==H?(V=(0,bt.jsx)(iP,{label:C,children:H}),t[62]=C,t[63]=H,t[64]=V):V=t[64],V}function cP(){const e=(0,n.c)(6),{state:t,setIsReadyToShowOverlay:s}=tP();let o,a,i,l;return e[0]!==s?(o=()=>{s()},a=[s],e[0]=s,e[1]=o,e[2]=a):(o=e[1],a=e[2]),(0,lt.useEffect)(o,a),t.completed?null:(e[3]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.fixed,qs.atoms.inset_0,!r.IS_IOS&&{zIndex:9999}],e[3]=i):i=e[3],e[4]!==t?(l=(0,bt.jsx)($A,{children:(0,bt.jsx)(KA.FullWindowOverlay,{children:(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsx)(lP,{state:t})})})}),e[4]=t,e[5]=l):l=e[5],l)}function dP(){const e=(0,n.c)(41),{_:t}=(0,dt.useLingui)(),{hasSession:s,currentAccount:o}=(0,Gt.useSession)(),a=(0,qs.useTheme)(),r=Bj(),{requestSwitchToAccount:i}=Ts(),l=(0,Gs.useCloseAllActiveElements)(),{footerHeight:c}=(0,Ej.useShellLayout)(),d=aw(),u=(0,Qs.useDialogControl)(),m=o?.did;let h;e[0]!==m?(h={did:m},e[0]=m,e[1]=h):h=e[1];const{data:p}=(0,Ut.useProfileQuery)(h),f=(0,ts.useUnreadMessageCount)(),g=(0,us.useUnreadNotifications)();let x;e[2]!==l||e[3]!==i?(x=()=>{l(),i({requestedAccount:"none"})},e[2]=l,e[3]=i,e[4]=x):x=e[4];const _=x;let y;e[5]!==l||e[6]!==i?(y=()=>{l(),i({requestedAccount:"new"})},e[5]=l,e[6]=i,e[7]=y):y=e[7];const b=y;let j;e[8]!==u?(j=()=>{u.open()},e[8]=u,e[9]=j):j=e[9];const v=j;let S,w,T,k,C,I,A;return e[10]!==u?(S=(0,bt.jsx)(vk,{control:u}),e[10]=u,e[11]=S):S=e[11],e[12]!==d||e[13]!==a.atoms.bg||e[14]!==a.atoms.border_contrast_low?(w=d?{borderColor:a.atoms.bg.backgroundColor}:a.atoms.border_contrast_low,e[12]=d,e[13]=a.atoms.bg,e[14]=a.atoms.border_contrast_low,e[15]=w):w=e[15],e[16]!==r||e[17]!==a.atoms.bg||e[18]!==w?(T=[Tk.bottomBar,Tk.bottomBarWeb,a.atoms.bg,w,r],e[16]=r,e[17]=a.atoms.bg,e[18]=w,e[19]=T):T=e[19],e[20]!==c?(k=e=>c.set(e.nativeEvent.layout.height),e[20]=c,e[21]=k):k=e[21],e[22]!==t||e[23]!==o||e[24]!==s||e[25]!==g||e[26]!==v||e[27]!==p?.associated?.labeler||e[28]!==p?.avatar||e[29]!==b||e[30]!==_||e[31]!==a.atoms.text||e[32]!==f?(C=s?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(uP,{routeName:"Home",href:"/",children:e=>{const{isActive:t}=e,s=t?wk:Sk;return(0,bt.jsx)(s,{"aria-hidden":!0,width:27,style:[Tk.ctrlIcon,a.atoms.text,Tk.homeIcon]})}}),(0,bt.jsx)(uP,{routeName:"Search",href:"/search",children:e=>{const{isActive:t}=e,s=t?Hl.MagnifyingGlass_Filled_Stroke2_Corner0_Rounded:Hl.MagnifyingGlass_Stroke2_Corner0_Rounded;return(0,bt.jsx)(s,{"aria-hidden":!0,width:28,style:[Tk.ctrlIcon,a.atoms.text,Tk.searchIcon]})}}),s&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(uP,{routeName:"Messages",href:"/messages",notificationCount:f.numUnread,hasNew:f.hasNew,children:e=>{const{isActive:t}=e,s=t?yy:by;return(0,bt.jsx)(s,{"aria-hidden":!0,width:25,style:[Tk.ctrlIcon,a.atoms.text,Tk.messagesIcon]})}}),(0,bt.jsx)(uP,{routeName:"Notifications",href:"/notifications",notificationCount:g,children:e=>{const{isActive:t}=e,s=t?NS:FS;return(0,bt.jsx)(s,{"aria-hidden":!0,width:26,style:[Tk.ctrlIcon,a.atoms.text,Tk.bellIcon]})}}),(0,bt.jsx)(uP,{routeName:"Profile",href:o?(0,Oa.makeProfileLink)({did:o.did,handle:o.handle}):"/",onLongPress:v,children:e=>{const{isActive:t}=e;return(0,bt.jsx)(Fs.default,{style:Tk.ctrlIconSizingWrapper,children:(0,bt.jsx)(Fs.default,{style:[Tk.ctrlIcon,Tk.profileIcon,t&&[Tk.onProfile,{borderColor:a.atoms.text.color}]],children:(0,bt.jsx)(Gi.UserAvatar,{avatar:p?.avatar,size:23,type:p?.associated?.labeler?"labeler":"user"})})})}})]})]}):(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.gap_sm,{paddingTop:14,paddingBottom:14,paddingLeft:14,paddingRight:6}],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md],children:[(0,bt.jsx)(Av,{width:32}),(0,bt.jsx)(Fs.default,{style:{paddingTop:4},children:(0,bt.jsx)(xk,{width:80,fill:a.atoms.text.color})})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_sm],children:[(0,bt.jsx)(ao.Button,{onPress:b,label:t({id:"1hMWR6"}),size:"small",variant:"solid",color:"primary",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"1hMWR6"})})}),(0,bt.jsx)(ao.Button,{onPress:_,label:t({id:"5lWFkC"}),size:"small",variant:"solid",color:"secondary",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"5lWFkC"})})})]})]})}),e[22]=t,e[23]=o,e[24]=s,e[25]=g,e[26]=v,e[27]=p?.associated?.labeler,e[28]=p?.avatar,e[29]=b,e[30]=_,e[31]=a.atoms.text,e[32]=f,e[33]=C):C=e[33],e[34]!==T||e[35]!==k||e[36]!==C?(I=(0,bt.jsx)(yn.default.View,{role:"navigation",style:T,onLayout:k,children:C}),e[34]=T,e[35]=k,e[36]=C,e[37]=I):I=e[37],e[38]!==I||e[39]!==S?(A=(0,bt.jsxs)(bt.Fragment,{children:[S,I]}),e[38]=I,e[39]=S,e[40]=A):A=e[40],A}const uP=e=>{const t=(0,n.c)(34),{children:s,href:o,routeName:a,hasNew:r,notificationCount:i,onLongPress:l}=e,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),{currentAccount:u}=(0,Gt.useSession)(),m=(0,Ns.useNavigationState)(mP),h="Profile"===m.name&&"Profile"===a&&m.params.name!==u?.handle;let p,f,g,x,_,y,b,j,v,S,w;if(t[0]!==s||t[1]!==u?.handle||t[2]!==m.name||t[3]!==m.params||t[4]!==o||t[5]!==h||t[6]!==l||t[7]!==a){const e="Profile"===m.name?Zn(m.name,a)&&m.params.name===("Profile"===a?u?.handle:m.params.name):Zn(m.name,a);p=fa,f=o,t[17]===Symbol.for("react.memo_cache_sentinel")?(g=[Tk.ctrl,qs.atoms.pb_lg],t[17]=g):g=t[17],x=h?"push":"navigate",_="link",y=a,b=!0,j=l,v=s({isActive:e}),t[0]=s,t[1]=u?.handle,t[2]=m.name,t[3]=m.params,t[4]=o,t[5]=h,t[6]=l,t[7]=a,t[8]=p,t[9]=f,t[10]=g,t[11]=x,t[12]=_,t[13]=y,t[14]=b,t[15]=j,t[16]=v}else p=t[8],f=t[9],g=t[10],x=t[11],_=t[12],y=t[13],b=t[14],j=t[15],v=t[16];return t[18]!==d||t[19]!==r||t[20]!==i||t[21]!==c?(S=i?(0,bt.jsx)(Fs.default,{style:[Tk.notificationCount,Tk.notificationCountWeb,{backgroundColor:c.palette.primary_500}],"aria-label":d({id:"QMy5iY",values:{notificationCount:i}}),children:(0,bt.jsx)(co.Text,{style:Tk.notificationCountLabel,children:i})}):r?(0,bt.jsx)(Fs.default,{style:Tk.hasNewBadge}):null,t[18]=d,t[19]=r,t[20]=i,t[21]=c,t[22]=S):S=t[22],t[23]!==p||t[24]!==f||t[25]!==g||t[26]!==x||t[27]!==_||t[28]!==y||t[29]!==b||t[30]!==j||t[31]!==v||t[32]!==S?(w=(0,bt.jsxs)(p,{href:f,style:g,navigationAction:x,"aria-role":_,"aria-label":y,accessible:b,onLongPress:j,children:[v,S]}),t[23]=p,t[24]=f,t[25]=g,t[26]=x,t[27]=_,t[28]=y,t[29]=b,t[30]=j,t[31]=v,t[32]=S,t[33]=w):w=t[33],w};function mP(e){return e?Kn(e):{name:"Home"}}const hP=e=>["handle",e],pP=e=>["did",e];function fP(e){const t=(0,n.c)(6),s=(0,On.useQueryClient)(),o=(0,Gt.useAgent)();let a,r;return t[0]!==o?(a=async e=>{const{handle:t}=e;await o.updateHandle({handle:t})},t[0]=o,t[1]=a):a=t[1],t[2]!==e||t[3]!==s||t[4]!==a?(r={mutationFn:a,onSuccess(t,o){e?.onSuccess?.(o.handle),s.invalidateQueries({queryKey:hP(o.handle)})}},t[2]=e,t[3]=s,t[4]=a,t[5]=r):r=t[5],(0,go.useMutation)(r)}let gP=e=>{const t=(0,n.c)(29),{_:s}=(0,dt.useLingui)(),{requestSwitchToAccount:o}=Ts(),a=(0,Gs.useCloseAllActiveElements)();let r;t[0]!==a||t[1]!==o?(r=()=>{a(),o({requestedAccount:"none"})},t[0]=a,t[1]=o,t[2]=r):r=t[2];const i=r;let l;t[3]!==a||t[4]!==o?(l=()=>{a(),o({requestedAccount:"new"})},t[3]=a,t[4]=o,t[5]=l):l=t[5];const c=l;let d,u,m,h,p,f,g,x,_,y,b,j,v,S;return t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[{maxWidth:245}],t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(io.Link,{to:"/",label:"Bluesky - Home",children:(0,bt.jsx)(Av,{width:32})}),t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.pt_lg],t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_3xl,qs.atoms.font_bold,{lineHeight:qs.atoms.text_3xl.fontSize}],children:(0,bt.jsx)(dt.Trans,{id:"fEV8+b"})})}),t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_sm,qs.atoms.pt_md],t[10]=p):p=t[10],t[11]!==s?(f=s({id:"1hMWR6"}),t[11]=s,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"1hMWR6"})}),t[13]=g):g=t[13],t[14]!==c||t[15]!==f?(x=(0,bt.jsx)(ao.Button,{onPress:c,label:f,size:"small",variant:"solid",color:"primary",children:g}),t[14]=c,t[15]=f,t[16]=x):x=t[16],t[17]!==s?(_=s({id:"5lWFkC"}),t[17]=s,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"5lWFkC"})}),t[19]=y):y=t[19],t[20]!==i||t[21]!==_?(b=(0,bt.jsx)(ao.Button,{onPress:i,label:_,size:"small",variant:"solid",color:"secondary",children:y}),t[20]=i,t[21]=_,t[22]=b):b=t[22],t[23]!==x||t[24]!==b?(j=(0,bt.jsxs)(Fs.default,{style:p,children:[x,b]}),t[23]=x,t[24]=b,t[25]=j):j=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(Fs.default,{style:[qs.atoms.mt_md,qs.atoms.w_full,{height:32}],children:(0,bt.jsx)(KC,{})}),t[26]=v):v=t[26],t[27]!==j?(S=(0,bt.jsxs)(Fs.default,{style:d,children:[u,h,j,v]}),t[27]=j,t[28]=S):S=t[28],S};gP=lt.memo(gP);const xP=(0,ti.createSinglePathSVG)({path:"M3.293 3.293A1 1 0 0 1 4 3h7.25a1 1 0 1 1 0 2H5v14h6.25a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1V4a1 1 0 0 1 .293-.707Zm11.5 3.5a1 1 0 0 1 1.414 0l4.5 4.5a1 1 0 0 1 0 1.414l-4.5 4.5a1 1 0 0 1-1.414-1.414L17.586 13H8.75a1 1 0 1 1 0-2h8.836l-2.793-2.793a1 1 0 0 1 0-1.414Z"}),_P=((0,ti.createSinglePathSVG)({path:"M6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5.25a1 1 0 1 1 0 2H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h5.25a1 1 0 1 1 0 2H6Zm8.793 1.793a1 1 0 0 1 1.414 0l4.5 4.5a1 1 0 0 1 0 1.414l-4.5 4.5a1 1 0 0 1-1.414-1.414L17.586 13H8.75a1 1 0 1 1 0-2h8.836l-2.793-2.793a1 1 0 0 1 0-1.414Z"}),(0,ti.createSinglePathSVG)({path:"M12 4a8 8 0 0 0-5.935 13.365C7.56 15.895 9.612 15 12 15c2.388 0 4.44.894 5.935 2.365A8 8 0 0 0 12 4Zm4.412 14.675C15.298 17.636 13.792 17 12 17c-1.791 0-3.298.636-4.412 1.675A7.96 7.96 0 0 0 12 20a7.96 7.96 0 0 0 4.412-1.325ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10a9.98 9.98 0 0 1-3.462 7.567A9.965 9.965 0 0 1 12 22a9.965 9.965 0 0 1-6.538-2.433A9.98 9.98 0 0 1 2 12Zm10-4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"})),yP=(0,ti.createSinglePathSVG)({path:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm3-12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-3 10a7.976 7.976 0 0 1-5.714-2.4C7.618 16.004 9.605 15 12 15c2.396 0 4.383 1.005 5.714 2.6A7.976 7.976 0 0 1 12 20Z"}),bP=28;function jP(){const e=(0,n.c)(49),{currentAccount:t,accounts:s}=(0,Gt.useSession)(),{logoutEveryAccount:o}=(0,Gt.useSessionApi)();let a,r;e[0]!==s?(a=s.map(vP),e[0]=s,e[1]=a):a=e[1],e[2]!==a?(r={handles:a},e[2]=a,e[3]=r):r=e[3];const{isLoading:i,data:l}=(0,Ut.useProfilesQuery)(r),c=l?.profiles,d=Zi.usePromptControl(),{leftNavMinimal:u}=(0,qs.useLayoutBreakpoints)(),{_:m}=(0,dt.useLingui)(),h=(0,qs.useTheme)();let p;e[4]!==t||e[5]!==c?(p=c?.find((e=>e.did===t.did)),e[4]=t,e[5]=c,e[6]=p):p=e[6];const f=p;let g;if(e[7]!==s||e[8]!==t||e[9]!==c){let o,n;e[11]!==t?(o=e=>e.did!==t.did,e[11]=t,e[12]=o):o=e[12],e[13]!==c?(n=e=>({account:e,profile:c?.find((t=>t.did===e.did))}),e[13]=c,e[14]=n):n=e[14],g=s.filter(o).map(n),e[7]=s,e[8]=t,e[9]=c,e[10]=g}else g=e[10];const x=g,{isActive:_}=(0,Ra.useActorStatus)(f);let y,b,j,v,S,w,T,k,C,I;return e[15]!==u?(y=!u&&[qs.atoms.w_full,qs.atoms.align_start],e[15]=u,e[16]=y):y=e[16],e[17]!==y?(b=[qs.atoms.my_md,y],e[17]=y,e[18]=b):b=e[18],e[19]!==m||e[20]!==i||e[21]!==u||e[22]!==_||e[23]!==x||e[24]!==f||e[25]!==d||e[26]!==h?(j=!i&&f?(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:m({id:"jlyyGp"}),children:e=>{const{props:t,state:s,control:o}=e,n=s.hovered||s.focused||o.isOpen;return(0,bt.jsxs)(ao.Button,Object.assign({label:t.accessibilityLabel},t,{style:[qs.atoms.w_full,qs.atoms.transition_color,n?h.atoms.bg_contrast_25:qs.atoms.transition_delay_50ms,qs.atoms.rounded_full,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.flex_row,{gap:6},!u&&[qs.atoms.pl_lg,qs.atoms.pr_md]],children:[(0,bt.jsx)(Fs.default,{style:[!Jo.PlatformInfo.getIsReducedMotionEnabled()&&[qs.atoms.transition_transform,{transitionDuration:"250ms"},!n&&qs.atoms.transition_delay_50ms],qs.atoms.relative,qs.atoms.z_10,n&&{transform:[{scale:u?.8:.6666666666666666},{translateX:u?0:-22}]}],children:(0,bt.jsx)(Gi.UserAvatar,{avatar:f.avatar,size:48,type:f?.associated?.labeler?"labeler":"user",live:_})}),!u&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.transition_opacity,!n&&qs.atoms.transition_delay_50ms,{marginLeft:-1*qs.tokens.space.xl,opacity:n?1:0}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_sm,qs.atoms.leading_snug],numberOfLines:1,children:(0,Ma.sanitizeDisplayName)(f.displayName||f.handle)}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,qs.atoms.leading_snug,h.atoms.text_contrast_medium],numberOfLines:1,children:(0,Fa.sanitizeHandle)(f.handle,"@")})]}),(0,bt.jsx)(Qp,{"aria-hidden":!0,style:[h.atoms.text_contrast_medium,qs.atoms.transition_opacity,{opacity:n?1:0}],size:"sm"})]})]}))}}),(0,bt.jsx)(SP,{accounts:x,signOutPromptControl:d})]}):(0,bt.jsx)(mi,{width:48,height:48,style:[{borderRadius:48},!u&&qs.atoms.ml_lg]}),e[19]=m,e[20]=i,e[21]=u,e[22]=_,e[23]=x,e[24]=f,e[25]=d,e[26]=h,e[27]=j):j=e[27],e[28]!==m?(v=m({id:"NES1ey"}),e[28]=m,e[29]=v):v=e[29],e[30]!==m?(S=m({id:"jZnhlB"}),e[30]=m,e[31]=S):S=e[31],e[32]!==o?(w=()=>o("Settings"),e[32]=o,e[33]=w):w=e[33],e[34]!==m?(T=m({id:"fcWrnU"}),e[34]=m,e[35]=T):T=e[35],e[36]!==m?(k=m({id:"dEgA5A"}),e[36]=m,e[37]=k):k=e[37],e[38]!==d||e[39]!==T||e[40]!==k||e[41]!==v||e[42]!==S||e[43]!==w?(C=(0,bt.jsx)(Zi.Basic,{control:d,title:v,description:S,onConfirm:w,confirmButtonCta:T,cancelButtonCta:k,confirmButtonColor:"negative"}),e[38]=d,e[39]=T,e[40]=k,e[41]=v,e[42]=S,e[43]=w,e[44]=C):C=e[44],e[45]!==C||e[46]!==b||e[47]!==j?(I=(0,bt.jsxs)(Fs.default,{style:b,children:[j,C]}),e[45]=C,e[46]=b,e[47]=j,e[48]=I):I=e[48],I}function vP(e){return e.did}function SP(e){const t=(0,n.c)(24),{accounts:s,signOutPromptControl:o}=e,{_:a}=(0,dt.useLingui)(),{setShowLoggedOut:r}=Ts(),i=(0,Gs.useCloseAllActiveElements)();let l;t[0]!==i||t[1]!==r?(l=()=>{r(!0),i()},t[0]=i,t[1]=r,t[2]=l):l=t[2];const c=l;let d,u,m,h,p,f,g,x,_,y,b;return t[3]!==s?(d=s&&s.length>0&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsx)(Kp.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"iSn7SN"})}),s.map(wP)]}),(0,bt.jsx)(Kp.Divider,{})]}),t[3]=s,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(TP,{}),t[5]=u):u=t[5],t[6]!==a?(m=a({id:"O5JHbm"}),t[6]=a,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Kp.ItemIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),t[8]=h):h=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"O5JHbm"})}),t[9]=p):p=t[9],t[10]!==c||t[11]!==m?(f=(0,bt.jsxs)(Kp.Item,{label:m,onPress:c,children:[h,p]}),t[10]=c,t[11]=m,t[12]=f):f=t[12],t[13]!==a?(g=a({id:"fcWrnU"}),t[13]=a,t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Kp.ItemIcon,{icon:xP}),t[15]=x):x=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"fcWrnU"})}),t[16]=_):_=t[16],t[17]!==o.open||t[18]!==g?(y=(0,bt.jsxs)(Kp.Item,{label:g,onPress:o.open,children:[x,_]}),t[17]=o.open,t[18]=g,t[19]=y):y=t[19],t[20]!==y||t[21]!==d||t[22]!==f?(b=(0,bt.jsxs)(Kp.Outer,{children:[d,u,f,y]}),t[20]=y,t[21]=d,t[22]=f,t[23]=b):b=t[23],b}function wP(e){return(0,bt.jsx)(kP,{account:e.account,profile:e.profile},e.account.did)}function TP(){const{_:e}=(0,dt.useLingui)(),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Ns.useNavigation)(),o=Kp.useMenuContext(),n=t?(0,Oa.makeProfileLink)(t):"/",[a]=(0,lt.useMemo)((()=>Hn.router.matchPath(n)),[n]),r=(0,Ns.useNavigationState)((e=>e?Kn(e):{name:"Home"}));let i="Profile"===r.name?Zn(r.name,a)&&r.params.name===t?.handle:Zn(r.name,a);const l=(0,lt.useCallback)((e=>{if(!(e.ctrlKey||e.metaKey||e.altKey))if(e.preventDefault(),o.control.close(),i)(0,_t.emitSoftReset)();else{const[e,t]=Hn.router.matchPath(n);s.navigate(e,t,{pop:!0})}}),[s,n,i,o]);return(0,bt.jsxs)(Kp.Item,{label:e({id:"u8CWR5"}),onPress:l,href:n,children:[(0,bt.jsx)(Kp.ItemIcon,{icon:_P}),(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"u8CWR5"})})]})}function kP(e){const t=(0,n.c)(22),{account:s,profile:o}=e,{_:a}=(0,dt.useLingui)(),{onPressSwitchAccount:r,pendingDid:i}=Ln(),{isActive:l}=(0,Ra.useActorStatus)(o),c=!!i;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.gap_sm,{minWidth:150}],t[0]=d):d=t[0];const u=s.did,m=o?.handle??s.handle;let h,p;t[1]!==a||t[2]!==m?(h=a({id:"1+P9RR",values:{0:(0,Fa.sanitizeHandle)(m,"@")}}),t[1]=a,t[2]=m,t[3]=h):h=t[3],t[4]!==s||t[5]!==r?(p=()=>r(s,"SwitchAccount"),t[4]=s,t[5]=r,t[6]=p):p=t[6];const f=o?.avatar,g=o?.associated?.labeler?"labeler":"user";let x;t[7]!==l||t[8]!==f||t[9]!==g?(x=(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Gi.UserAvatar,{avatar:f,size:20,type:g,live:l,hideLiveBadge:!0})}),t[7]=l,t[8]=f,t[9]=g,t[10]=x):x=t[10];const _=o?.handle??s.handle;let y,b,j;return t[11]!==_?(y=(0,Fa.sanitizeHandle)(_,"@"),t[11]=_,t[12]=y):y=t[12],t[13]!==y?(b=(0,bt.jsx)(Kp.ItemText,{children:y}),t[13]=y,t[14]=b):b=t[14],t[15]!==s.did||t[16]!==c||t[17]!==b||t[18]!==h||t[19]!==p||t[20]!==x?(j=(0,bt.jsxs)(Kp.Item,{disabled:c,style:d,label:h,onPress:p,children:[x,b]},u),t[15]=s.did,t[16]=c,t[17]=b,t[18]=h,t[19]=p,t[20]=x,t[21]=j):j=t[21],j}function CP({count:e,hasNew:t,href:s,icon:o,iconFilled:n,label:a}){const r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),{currentAccount:l}=(0,Gt.useSession)(),{leftNavMinimal:c}=(0,qs.useLayoutBreakpoints)(),[d]=(0,lt.useMemo)((()=>Hn.router.matchPath(s)),[s]),u=(0,Ns.useNavigationState)((e=>e?Kn(e):{name:"Home"}));let m="Profile"===u.name?Zn(u.name,d)&&u.params.name===l?.handle:Zn(u.name,d);const h=(0,Ns.useNavigation)(),p=(0,lt.useCallback)((e=>{if(!(e.ctrlKey||e.metaKey||e.altKey))if(e.preventDefault(),m)(0,_t.emitSoftReset)();else{const[e,t]=Hn.router.matchPath(s);h.navigate(e,t,{pop:!0})}}),[h,s,m]);return(0,bt.jsxs)(da,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.p_md,qs.atoms.rounded_sm,qs.atoms.gap_sm,qs.atoms.outline_inset_1,qs.atoms.transition_color],hoverStyle:r.atoms.bg_contrast_25,onPress:p,href:s,dataSet:{noUnderline:1},role:"link",accessibilityLabel:a,accessibilityHint:"",children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,{width:24,height:24},c&&{width:40,height:40}],children:[m?n:o,"string"===typeof e&&e?(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,{right:-20}],children:(0,bt.jsx)(co.Text,{accessibilityLabel:i({id:"j+WuXV",values:{count:e}}),accessibilityHint:"",accessible:!0,numberOfLines:1,style:[qs.atoms.absolute,qs.atoms.text_xs,qs.atoms.font_semi_bold,qs.atoms.rounded_full,qs.atoms.text_center,qs.atoms.leading_tight,qs.atoms.z_20,{top:"-10%",left:1===e.length?12:8,backgroundColor:r.palette.primary_500,color:r.palette.white,lineHeight:qs.atoms.text_sm.fontSize,paddingHorizontal:4,paddingVertical:1,minWidth:16},c&&[{top:"10%",left:1===e.length?20:16}]],children:e})}):t?(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,qs.atoms.z_20,{backgroundColor:r.palette.primary_500,width:8,height:8,right:-2,top:-4},c&&{right:4,top:2}]}):null]}),!c&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,m?qs.atoms.font_bold:qs.atoms.font_normal],children:a})]})}function IP(){const{currentAccount:e}=(0,Gt.useSession)(),{getState:t}=(0,Ns.useNavigation)(),{openComposer:s}=Wo(),{_:o}=(0,dt.useLingui)(),{leftNavMinimal:a}=(0,qs.useLayoutBreakpoints)(),[r,i]=(0,lt.useState)(!1),l=function(){const e=(0,n.c)(3),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o=async e=>e.startsWith("did:")?(await t.fetchQuery({staleTime:yt.STALE.MINUTES.FIVE,queryKey:hP(e),queryFn:()=>s.getProfile({actor:e})})).data.handle:e,e[0]=s,e[1]=t,e[2]=o):o=e[2],o}(),c=async()=>{const s=t()?.routes,o=s?.[s?.length-1];if("Profile"===o?.name){let t=o.params.name;if(t.startsWith("did:"))try{i(!0),t=await l(t)}catch(n){t=void 0}finally{i(!1)}if(!t||t===e?.handle||(0,Fa.isInvalidHandle)(t))return;return t}};return a?null:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.pl_md,qs.atoms.pt_xl],children:(0,bt.jsxs)(ao.Button,{disabled:r,label:o({id:"AIa/f7"}),onPress:async()=>s({mention:await c(),logContext:"Fab"}),size:"large",variant:"solid",color:"primary",style:[qs.atoms.rounded_full],children:[(0,bt.jsx)(ao.ButtonIcon,{icon:jT.EditBig_Stroke2_Corner0_Rounded,position:"left"}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"BUt50q"})})]})})}function AP(){const e=(0,n.c)(11),t=(0,bn.usePalette)("default"),{_:s}=(0,dt.useLingui)(),o=(0,ts.useUnreadMessageCount)(),a=o.numUnread,r=o.hasNew;let i,l,c,d;return e[0]!==t.text?(i=(0,bt.jsx)(by,{style:t.text,"aria-hidden":!0,width:bP}),l=(0,bt.jsx)(yy,{style:t.text,"aria-hidden":!0,width:bP}),e[0]=t.text,e[1]=i,e[2]=l):(i=e[1],l=e[2]),e[3]!==s?(c=s({id:"AHZflp"}),e[3]=s,e[4]=c):c=e[4],e[5]!==o.hasNew||e[6]!==o.numUnread||e[7]!==i||e[8]!==l||e[9]!==c?(d=(0,bt.jsx)(CP,{href:"/messages",count:a,hasNew:r,icon:i,iconFilled:l,label:c}),e[5]=o.hasNew,e[6]=o.numUnread,e[7]=i,e[8]=l,e[9]=c,e[10]=d):d=e[10],d}function PP(){const e=(0,n.c)(22),{hasSession:t,currentAccount:s}=(0,Gt.useSession)(),o=(0,bn.usePalette)("default"),{_:a}=(0,dt.useLingui)(),{isDesktop:r}=(0,jn.useWebMediaQueries)(),{leftNavMinimal:i,centerColumnOffset:l}=(0,qs.useLayoutBreakpoints)(),c=(0,us.useUnreadNotifications)();if(!t&&!r)return null;const d=!t&&!i&&EP.leftNavWide,u=i&&EP.leftNavMinimal,m=-300+(l?ya.CENTER_COLUMN_OFFSET:0);let h,p,f,g,x,_,y;return e[0]!==m?(h={translateX:m},e[0]=m,e[1]=h):h=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(p={translateX:"-100%"},e[2]=p):p=e[2],e[3]!==h?(f={transform:[h,p,...qs.atoms.scrollbar_offset.transform]},e[3]=h,e[4]=f):f=e[4],e[5]!==d||e[6]!==u||e[7]!==f?(g=[qs.atoms.px_xl,EP.leftNav,d,u,f],e[5]=d,e[6]=u,e[7]=f,e[8]=g):g=e[8],e[9]!==t||e[10]!==i?(x=t?(0,bt.jsx)(jP,{}):i?null:(0,bt.jsx)(Fs.default,{style:[qs.atoms.pt_xl],children:(0,bt.jsx)(gP,{})}),e[9]=t,e[10]=i,e[11]=x):x=e[11],e[12]!==a||e[13]!==s||e[14]!==t||e[15]!==c||e[16]!==o?(_=t&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(CP,{href:"/",icon:(0,bt.jsx)(Sk,{"aria-hidden":!0,width:bP,style:o.text}),iconFilled:(0,bt.jsx)(wk,{"aria-hidden":!0,width:bP,style:o.text}),label:a({id:"i0qMbr"})}),(0,bt.jsx)(CP,{href:"/search",icon:(0,bt.jsx)(Hl.MagnifyingGlass_Stroke2_Corner0_Rounded,{style:o.text,"aria-hidden":!0,width:bP}),iconFilled:(0,bt.jsx)(Hl.MagnifyingGlass_Filled_Stroke2_Corner0_Rounded,{style:o.text,"aria-hidden":!0,width:bP}),label:a({id:"8tjQCz"})}),(0,bt.jsx)(CP,{href:"/notifications",count:c,icon:(0,bt.jsx)(FS,{"aria-hidden":!0,width:bP,style:o.text}),iconFilled:(0,bt.jsx)(NS,{"aria-hidden":!0,width:bP,style:o.text}),label:a({id:"iDNBZe"})}),(0,bt.jsx)(AP,{}),(0,bt.jsx)(CP,{href:"/feeds",icon:(0,bt.jsx)(El,{style:o.text,"aria-hidden":!0,width:bP}),iconFilled:(0,bt.jsx)(Ll,{style:o.text,"aria-hidden":!0,width:bP}),label:a({id:"2DoBvq"})}),(0,bt.jsx)(CP,{href:"/lists",icon:(0,bt.jsx)(Jv,{style:o.text,"aria-hidden":!0,width:bP}),iconFilled:(0,bt.jsx)(eS,{style:o.text,"aria-hidden":!0,width:bP}),label:a({id:"h16FyT"})}),(0,bt.jsx)(CP,{href:"/saved",icon:(0,bt.jsx)(Dp,{style:o.text,"aria-hidden":!0,width:bP}),iconFilled:(0,bt.jsx)(Op,{style:o.text,"aria-hidden":!0,width:bP}),label:a({id:"Rlif8r"})}),(0,bt.jsx)(CP,{href:s?(0,Oa.makeProfileLink)(s):"/",icon:(0,bt.jsx)(_P,{"aria-hidden":!0,width:bP,style:o.text}),iconFilled:(0,bt.jsx)(yP,{"aria-hidden":!0,width:bP,style:o.text}),label:a({id:"vERlcd"})}),(0,bt.jsx)(CP,{href:"/settings",icon:(0,bt.jsx)(Tf,{"aria-hidden":!0,width:bP,style:o.text}),iconFilled:(0,bt.jsx)(kf,{"aria-hidden":!0,width:bP,style:o.text}),label:a({id:"Tz0i8g"})}),(0,bt.jsx)(IP,{})]}),e[12]=a,e[13]=s,e[14]=t,e[15]=c,e[16]=o,e[17]=_):_=e[17],e[18]!==g||e[19]!==x||e[20]!==_?(y=(0,bt.jsxs)(Fs.default,{role:"navigation",style:g,children:[x,_]}),e[18]=g,e[19]=x,e[20]=_,e[21]=y):y=e[21],y}const EP=Os.default.create({leftNav:Object.assign({},qs.atoms.fixed,{top:0,paddingTop:10,paddingBottom:10,left:"50%",width:240,maxHeight:"100vh",overflowY:"auto"}),leftNavWide:{width:245},leftNavMinimal:Object.assign({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,height:"100%",width:86,alignItems:"center"},(0,qs.web)({overflowX:"hidden"})),backBtn:{position:"absolute",top:12,right:12,width:30,height:30}});function LP(){const e=(0,n.c)(42),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),{data:a,error:r,isLoading:i}=Lr(),l=Ls(),c=Rs(),d=(0,Ns.useNavigation)(),u=(0,Ns.useNavigationState)(RP);if(i){let s,o,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[{gap:10}],e[0]=s):s=e[0],e[1]!==t?(o=Array(5).fill(0).map(((e,s)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_sm,t.atoms.bg_contrast_25,{height:16,width:s%2===0?"60%":"80%"}]},s))),e[1]=t,e[2]=o):o=e[2],e[3]!==o?(n=(0,bt.jsx)(Fs.default,{style:s,children:o}),e[3]=o,e[4]=n):n=e[4],n}if(r||!a)return null;let m,h,p,f,g,x,_,y,b;if(e[5]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_1,(0,qs.web)({gap:2,paddingTop:2,overflowY:"auto"})],e[5]=m):m=e[5],e[6]!==o||e[7]!==d||e[8]!==a||e[9]!==u.name||e[10]!==l||e[11]!==c){let t;e[13]!==o||e[14]!==d||e[15]!==u.name||e[16]!==l||e[17]!==c?(t=(e,t)=>{const s=e.feedDescriptor,n="Home"===u.name&&(l?s===l:0===t);return(0,bt.jsx)(BP,{feedInfo:e,current:n,onPress:()=>{o.metric("desktopFeeds:feed:click",{feedUri:e.uri,feedDescriptor:s}),c(s),d.navigate("Home"),"Home"===u.name&&s===l&&(0,_t.emitSoftReset)()}},e.uri)},e[13]=o,e[14]=d,e[15]=u.name,e[16]=l,e[17]=c,e[18]=t):t=e[18],h=a.map(t),e[6]=o,e[7]=d,e[8]=a,e[9]=u.name,e[10]=l,e[11]=c,e[12]=h}else h=e[12];return e[19]!==s?(p=s({id:"FIJUJb"}),e[19]=s,e[20]=p):p=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(f={paddingVertical:6,paddingHorizontal:8},e[21]=f):f=e[21],e[22]!==u.name||e[23]!==t.palette?(g="Feeds"===u.name&&{backgroundColor:t.palette.primary_50},e[22]=u.name,e[23]=t.palette,e[24]=g):g=e[24],e[25]!==g?(x=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.self_start,qs.atoms.rounded_sm,f,g],e[25]=g,e[26]=x):x=e[26],e[27]!==s||e[28]!==u.name||e[29]!==t.atoms.bg_contrast_50||e[30]!==t.atoms.text||e[31]!==t.atoms.text_contrast_medium||e[32]!==t.palette?(_=e=>{const{hovered:o}=e,n="Feeds"===u.name;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_xs,n?{backgroundColor:t.palette.primary_100}:t.atoms.bg_contrast_50,{width:20,height:20}],children:(0,bt.jsx)(zg.PlusSmall_Stroke2_Corner0_Rounded,{style:{width:16,height:16},fill:n||o?t.atoms.text.color:t.atoms.text_contrast_medium.color})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,n?[t.atoms.text,qs.atoms.font_semi_bold]:o?t.atoms.text:t.atoms.text_contrast_medium],numberOfLines:1,children:s({id:"FIJUJb"})})]})},e[27]=s,e[28]=u.name,e[29]=t.atoms.bg_contrast_50,e[30]=t.atoms.text,e[31]=t.atoms.text_contrast_medium,e[32]=t.palette,e[33]=_):_=e[33],e[34]!==p||e[35]!==x||e[36]!==_?(y=(0,bt.jsx)(io.Link,{to:"/feeds",label:p,style:x,children:_}),e[34]=p,e[35]=x,e[36]=_,e[37]=y):y=e[37],e[38]!==m||e[39]!==h||e[40]!==y?(b=(0,bt.jsxs)(Fs.default,{style:m,children:[h,y]}),e[38]=m,e[39]=h,e[40]=y,e[41]=b):b=e[41],b}function RP(e){return e?Kn(e):{name:"Home"}}function BP(e){const t=(0,n.c)(33),{feedInfo:s,current:o,onPress:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),{state:l,onIn:c,onOut:d}=(0,la.useInteractionState)(),u="following"===s.feedDescriptor,m=s.displayName;let h,p,f,g,x,_,y,b,j;return t[0]!==i||t[1]!==s.displayName?(h=i({id:"ybvD1s",values:{0:s.displayName}}),t[0]=i,t[1]=s.displayName,t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p={paddingVertical:6,paddingHorizontal:8},t[3]=p):p=t[3],t[4]!==o||t[5]!==r.palette?(f=o&&{backgroundColor:r.palette.primary_50},t[4]=o,t[5]=r.palette,t[6]=f):f=t[6],t[7]!==f?(g=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.self_start,qs.atoms.rounded_sm,p,f],t[7]=f,t[8]=g):g=t[8],t[9]!==s.avatar||t[10]!==s.type||t[11]!==u||t[12]!==r.palette?(x=u?(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_xs,{width:20,height:20,backgroundColor:r.palette.primary_500}],children:(0,bt.jsx)(Qj,{style:{width:14,height:14},fill:r.palette.white})}):(0,bt.jsx)(Gi.UserAvatar,{type:"list"===s.type?"list":"algo",size:20,avatar:s.avatar,noBorder:!0}),t[9]=s.avatar,t[10]=s.type,t[11]=u,t[12]=r.palette,t[13]=x):x=t[13],t[14]!==o||t[15]!==l||t[16]!==r.atoms.text||t[17]!==r.atoms.text_contrast_medium?(_=o?[r.atoms.text,qs.atoms.font_semi_bold]:l?r.atoms.text:r.atoms.text_contrast_medium,t[14]=o,t[15]=l,t[16]=r.atoms.text,t[17]=r.atoms.text_contrast_medium,t[18]=_):_=t[18],t[19]!==_?(y=[qs.atoms.text_md,qs.atoms.leading_snug,_],t[19]=_,t[20]=y):y=t[20],t[21]!==s.displayName||t[22]!==y?(b=(0,bt.jsx)(co.Text,{style:y,numberOfLines:1,children:s.displayName}),t[21]=s.displayName,t[22]=y,t[23]=b):b=t[23],t[24]!==s.displayName||t[25]!==c||t[26]!==d||t[27]!==a||t[28]!==h||t[29]!==g||t[30]!==x||t[31]!==b?(j=(0,bt.jsxs)(ln.default,{accessibilityRole:"link",accessibilityLabel:m,accessibilityHint:h,onPress:a,onHoverIn:c,onHoverOut:d,style:g,children:[x,b]}),t[24]=s.displayName,t[25]=c,t[26]=d,t[27]=a,t[28]=h,t[29]=g,t[30]=x,t[31]=b,t[32]=j):j=t[32],j}function DP(e){const t=(0,n.c)(19),{profile:s,moderationOpts:o,onPress:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),l=(0,On.useQueryClient)();let c;t[0]!==a||t[1]!==s||t[2]!==l?(c=()=>{(0,Nx.unstableCacheProfileView)(l,s),a?.()},t[0]=a,t[1]=s,t[2]=l,t[3]=c):c=t[3];const d=c,u=`searchAutoCompleteResult-${s.handle}`;let m,h,p,f;return t[4]!==s?(m=(0,Oa.makeProfileLink)(s),t[4]=s,t[5]=m):m=t[5],t[6]!==i||t[7]!==s.handle?(h=i({id:"tBW0ZQ",values:{0:s.handle}}),t[6]=i,t[7]=s.handle,t[8]=h):h=t[8],t[9]!==o||t[10]!==s||t[11]!==r?(p=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.px_md,qs.atoms.py_sm,(t||n)&&r.atoms.bg_contrast_25],children:(0,bt.jsx)(Rl.Outer,{children:(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:o}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:o})]})})})},t[9]=o,t[10]=s,t[11]=r,t[12]=p):p=t[12],t[13]!==d||t[14]!==u||t[15]!==m||t[16]!==h||t[17]!==p?(f=(0,bt.jsx)(io.Link,{testID:u,to:m,label:h,onPress:d,children:p}),t[13]=d,t[14]=u,t[15]=m,t[16]=h,t[17]=p,t[18]=f):f=t[18],f}let OP=e=>{const t=(0,n.c)(31),{label:s,to:o,onPress:a,style:r}=e,i=(0,bn.usePalette)("default");let l,c,d,u,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={paddingVertical:16,paddingHorizontal:12},t[0]=l):l=t[0],t[1]!==i.border||t[2]!==r?(c=[i.border,l,r],t[1]=i.border,t[2]=r,t[3]=c):c=t[3],t[4]!==i.text?(d=[i.text],t[4]=i.text,t[5]=d):d=t[5],t[6]!==s||t[7]!==d?(u=(0,bt.jsx)(ua.Text,{type:"md",style:d,children:s}),t[6]=s,t[7]=d,t[8]=u):u=t[8],t[9]!==c||t[10]!==u?(m=(0,bt.jsx)(Fs.default,{style:c,children:u}),t[9]=c,t[10]=u,t[11]=m):m=t[11];const h=m;if(a){let e;return t[12]!==h||t[13]!==s||t[14]!==a?(e=(0,bt.jsx)(wn.default,{onPress:a,accessibilityLabel:s,accessibilityHint:"",children:h}),t[12]=h,t[13]=s,t[14]=a,t[15]=e):e=t[15],e}let p,f,g,x,_,y;return t[16]===Symbol.for("react.memo_cache_sentinel")?(p={paddingVertical:16,paddingHorizontal:12},t[16]=p):p=t[16],t[17]!==i.border||t[18]!==r?(f=[i.border,p,r],t[17]=i.border,t[18]=r,t[19]=f):f=t[19],t[20]!==i.text?(g=[i.text],t[20]=i.text,t[21]=g):g=t[21],t[22]!==s||t[23]!==g?(x=(0,bt.jsx)(ua.Text,{type:"md",style:g,children:s}),t[22]=s,t[23]=g,t[24]=x):x=t[24],t[25]!==f||t[26]!==x?(_=(0,bt.jsx)(Fs.default,{style:f,children:x}),t[25]=f,t[26]=x,t[27]=_):_=t[27],t[28]!==_||t[29]!==o?(y=(0,bt.jsx)(fa,{href:o,asAnchor:!0,anchorNoUnderline:!0,children:_}),t[28]=_,t[29]=o,t[30]=y):y=t[30],y};function MP(){const e=(0,n.c)(24),{_:t}=(0,dt.useLingui)(),s=(0,bn.usePalette)("default"),o=(0,Ns.useNavigation)(),[a,r]=lt.useState(!1),[i,l]=lt.useState(""),{data:c,isFetching:d}=Zf(i,!0),u=(0,ds.useModerationOpts)();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{l(e),r(e.length>0)},e[0]=m):m=e[0];const h=m;let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{l(""),r(!1)},e[1]=p):p=e[1];const f=p;let g;e[2]!==o||e[3]!==i?(g=()=>{r(!1),i.length&&o.dispatch(Ns.StackActions.push("Search",{q:i}))},e[2]=o,e[3]=i,e[4]=g):g=e[4];const x=g;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{l(""),r(!1)},e[5]=_):_=e[5];const y=_;let b,j,v,S;return e[6]!==s.view?(b=[FP.container,s.view],e[6]=s.view,e[7]=b):b=e[7],e[8]!==x||e[9]!==i?(j=(0,bt.jsx)(Gj,{value:i,onChangeText:h,onClearText:f,onSubmitEditing:x}),e[8]=x,e[9]=i,e[10]=j):j=e[10],e[11]!==t||e[12]!==c||e[13]!==a||e[14]!==d||e[15]!==u||e[16]!==s.borderDark||e[17]!==s.view||e[18]!==i?(v=""!==i&&a&&u&&(0,bt.jsx)(Fs.default,{style:[s.view,s.borderDark,FP.resultsContainer,qs.atoms.overflow_hidden],children:d&&!c?.length?(0,bt.jsx)(Fs.default,{style:{padding:8},children:(0,bt.jsx)(vn.default,{})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(OP,{label:t({id:"6SGQjT",values:{query:i}}),to:`/search?q=${encodeURIComponent(i)}`,style:(c?.length??0)>0?{borderBottomWidth:1}:void 0}),c?.map((e=>(0,bt.jsx)(DP,{profile:e,moderationOpts:u,onPress:y},e.did)))]})}),e[11]=t,e[12]=c,e[13]=a,e[14]=d,e[15]=u,e[16]=s.borderDark,e[17]=s.view,e[18]=i,e[19]=v):v=e[19],e[20]!==b||e[21]!==j||e[22]!==v?(S=(0,bt.jsxs)(Fs.default,{style:b,children:[j,v]}),e[20]=b,e[21]=j,e[22]=v,e[23]=S):S=e[23],S}OP=lt.memo(OP);const FP=Os.default.create({container:{position:"relative",width:"100%"},resultsContainer:{marginTop:10,flexDirection:"column",width:"100%",borderWidth:1,borderRadius:6}}),NP=5;function HP(){const e=(0,n.c)(3),{enabled:t}=(0,Wt.useTrendingConfig)(),{trendingDisabled:s}=(0,Xr.useTrendingSettings)();let o;return e[0]!==t||e[1]!==s?(o=t?s?null:(0,bt.jsx)(VP,{}):null,e[0]=t,e[1]=s,e[2]=o):o=e[2],o}function VP(){const e=(0,n.c)(13),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),a=Zi.usePromptControl(),{setTrendingDisabled:r}=(0,Xr.useTrendingSettingsApi)(),{data:i,error:l,isLoading:c}=rd(),d=!c&&!l&&!i?.topics?.length;let u;e[0]!==o||e[1]!==r?(u=()=>{o.metric("trendingTopics:hide",{context:"sidebar"}),r(!0)},e[0]=o,e[1]=r,e[2]=u):u=e[2];const m=u;let h;return e[3]!==s||e[4]!==o||e[5]!==l||e[6]!==c||e[7]!==d||e[8]!==m||e[9]!==t||e[10]!==i||e[11]!==a?(h=l||d?null:(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.p_lg,qs.atoms.rounded_md,qs.atoms.border,t.atoms.border_contrast_low],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.pb_md],children:[(0,bt.jsx)(ld,{width:16,height:16,fill:t.atoms.text.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_md,qs.atoms.font_semi_bold,t.atoms.text],children:(0,bt.jsx)(dt.Trans,{id:"4/iCqx"})}),(0,bt.jsx)(ao.Button,{variant:"ghost",size:"tiny",color:"secondary",shape:"round",label:s({id:"ENRxXR"}),onPress:()=>a.open(),style:[qs.atoms.bg_transparent,{marginTop:-6,marginRight:-6}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:Qp,size:"xs"})})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.gap_xs],children:c?Array(NP).fill(0).map(((e,s)=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_sm,t.atoms.text_contrast_low,{minWidth:16}],children:[s+1,"."]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_xs,t.atoms.bg_contrast_50,{height:14,width:s%2===0?80:100}]})]},s))):i?.topics?(0,bt.jsx)(bt.Fragment,{children:i.topics.slice(0,NP).map(((e,s)=>(0,bt.jsx)(yd,{topic:e,style:[qs.atoms.self_start],onPress:()=>{o.metric("trendingTopic:click",{context:"sidebar"})},children:o=>{const{hovered:n}=o;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_low,{minWidth:16}],children:[s+1,"."]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,n?[t.atoms.text,qs.atoms.underline]:t.atoms.text_contrast_medium],numberOfLines:1,children:e.displayName??e.topic})]})}},e.link)))}):null})]}),(0,bt.jsx)(Zi.Basic,{control:a,title:s({id:"DRuhGd"}),description:s({id:"wD+g5e"}),confirmButtonCta:s({id:"vLyv1R"}),onConfirm:m})]}),e[3]=s,e[4]=o,e[5]=l,e[6]=c,e[7]=d,e[8]=m,e[9]=t,e[10]=i,e[11]=a,e[12]=h):h=e[12],h}const zP=[qs.atoms.rounded_md,qs.atoms.curve_continuous];function UP(e){const t=(0,n.c)(25),{feed:s,metricContext:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,Xo.useAnalytics)(),i=s.layouts.compact,l=i.overlayColor,c=i.textColor;let d;if((0,zt.isBskyCustomFeedUrl)(s.url)){let e;t[0]!==s.url?(e=new URL(s.url),t[0]=s.url,t[1]=e):e=t[1],d=e.pathname}else d="/";const u=d;let m,h,p,f,g,x;return t[2]!==r||t[3]!==s.url||t[4]!==o?(m=()=>{r.metric("liveEvents:feedBanner:seen",{feed:s.url,context:o})},t[2]=r,t[3]=s.url,t[4]=o,t[5]=m):m=t[5],(0,Qn.useCallOnce)(m)(),t[6]!==a||t[7]!==s.title?(h=a({id:"SNKK6v",values:{0:s.title}}),t[6]=a,t[7]=s.title,t[8]=h):h=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.w_full],t[9]=p):p=t[9],t[10]!==r||t[11]!==s.url||t[12]!==o?(f=()=>{r.metric("liveEvents:feedBanner:click",{feed:s.url,context:o})},t[10]=r,t[11]=s.url,t[12]=o,t[13]=f):f=t[13],t[14]!==i.blurhash||t[15]!==i.image||t[16]!==i.title||t[17]!==l||t[18]!==c?(g=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsx)(Fs.default,{style:[zP,qs.atoms.shadow_md,qs.atoms.w_full],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_start,qs.atoms.overflow_hidden,zP],children:[(0,bt.jsx)(cn.Image,{accessibilityIgnoresInvertColors:!0,source:{uri:i.image},placeholder:{blurhash:i.blurhash},style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.w_full,qs.atoms.h_full],contentFit:"cover",placeholderContentFit:"cover"}),(0,bt.jsx)(Lo.LinearGradient,{colors:[l,qs.utils.alpha(l,0)],locations:[0,1],start:{x:0,y:0},end:{x:1,y:0},style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.transition_opacity,{transitionDuration:"200ms",opacity:t||s?.6:0}]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.justify_end],children:[(0,bt.jsx)(Lo.LinearGradient,{colors:[l,qs.utils.alpha(l,.7),qs.utils.alpha(l,0)],locations:[0,.8,1],start:{x:0,y:0},end:{x:1,y:0},style:[qs.atoms.absolute,qs.atoms.inset_0]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.z_10,qs.atoms.px_lg,qs.atoms.py_md],children:[(0,bt.jsx)(qi,{size:"md",fill:c}),(0,bt.jsx)(co.Text,{numberOfLines:1,style:[qs.atoms.flex_1,qs.atoms.leading_snug,qs.atoms.font_bold,qs.atoms.text_lg,qs.atoms.pr_xl,{color:c}],children:i.title})]})]})]})})},t[14]=i.blurhash,t[15]=i.image,t[16]=i.title,t[17]=l,t[18]=c,t[19]=g):g=t[19],t[20]!==h||t[21]!==f||t[22]!==g||t[23]!==u?(x=(0,bt.jsx)(io.Link,{to:u,label:h,style:p,onPress:f,children:g}),t[20]=h,t[21]=f,t[22]=g,t[23]=u,t[24]=x):x=t[24],x}function WP(){const e=(0,n.c)(2),t=cl();let s;return e[0]!==t.feeds?(s=t.feeds.map(GP),e[0]=t.feeds,e[1]=s):s=e[1],s}function GP(e){return(0,bt.jsx)(qP,{feed:e},e.id)}function qP(e){const t=(0,n.c)(20),{feed:s}=e,{_:o}=(0,dt.useLingui)(),a=s.layouts.wide,{mutate:r,variables:i}=Ji({feed:s,metricContext:"sidebar",onUpdateSuccess(e){const{undoAction:t}=e;Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{}),(0,bt.jsx)(Pd.Text,{children:t?(0,bt.jsx)(dt.Trans,{id:"+nG6rk"}):(0,bt.jsx)(dt.Trans,{id:"0yHy4G"})}),t&&(0,bt.jsx)(Pd.Action,{label:o({id:"9uI/rE"}),onPress:()=>{t&&l(t)},children:(0,bt.jsx)(dt.Trans,{id:"9uI/rE"})})]}),{type:"success"})}}),l=r;if(i)return null;let c,d,u,m,h,p,f,g,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.relative],t[0]=c):c=t[0],t[1]!==s?(d=(0,bt.jsx)(UP,{feed:s,metricContext:"sidebar"}),t[1]=s,t[2]=d):d=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.justify_center,qs.atoms.absolute,{top:0,right:6,bottom:0}],t[3]=u):u=t[3],t[4]!==o?(m=o({id:"auDey+"}),t[4]=o,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.z_10],t[6]=h):h=t[6],t[7]!==s.id||t[8]!==l?(p=()=>{l({type:"hideFeed",id:s.id})},t[7]=s.id,t[8]=l,t[9]=p):p=t[9],t[10]!==a.overlayColor||t[11]!==a.textColor?(f=e=>{const{hovered:t,pressed:s}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.rounded_full,{backgroundColor:a.overlayColor,opacity:t||s?.8:.6}]}),(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:"xs",fill:a.textColor,style:[qs.atoms.z_20]})]})},t[10]=a.overlayColor,t[11]=a.textColor,t[12]=f):f=t[12],t[13]!==m||t[14]!==p||t[15]!==f?(g=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(ao.Button,{label:m,size:"tiny",shape:"round",style:h,onPress:p,children:f})}),t[13]=m,t[14]=p,t[15]=f,t[16]=g):g=t[16],t[17]!==g||t[18]!==d?(x=(0,bt.jsxs)(Fs.default,{style:c,children:[d,g]}),t[17]=g,t[18]=d,t[19]=x):x=t[19],x}function QP(e){const t=(0,n.c)(83),{routeName:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{hasSession:r,currentAccount:i}=(0,Gt.useSession)(),l=(0,Cv.useKawaiiMode)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=["base",0,"base","wide"],t[0]=c):c=t[0];const d=(0,qs.useGutters)(c),u="Search"===s,m=function(){const e=(0,n.c)(4),t=(0,Gn.useNavigation)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},e[0]=s):s=e[0];const[o,a]=(0,lt.useState)(s);let r,i;return e[1]!==t?(r=()=>t.addListener("state",(e=>{try{const{state:t}=e.data,s=t.routes[t.routes.length-1];a(s.params)}catch(b){}})),i=[t,a],e[1]=t,e[2]=r,e[3]=i):(r=e[2],i=e[3]),(0,lt.useEffect)(r,i),o}(),h=m?.q,p=!u||u&&!!h,{rightNavVisible:f,centerColumnOffset:g,leftNavMinimal:x}=(0,qs.useLayoutBreakpoints)();if(!f)return null;const _=g?250:300,y=300+(g?ya.CENTER_COLUMN_OFFSET:0);let b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G;return t[1]!==d.paddingLeft||t[2]!==y||t[3]!==_?(b=(0,qs.web)({position:"fixed",left:"50%",transform:[{translateX:y},...qs.atoms.scrollbar_offset.transform],width:_+d.paddingLeft+2,maxHeight:"100vh"}),t[1]=d.paddingLeft,t[2]=y,t[3]=_,t[4]=b):b=t[4],t[5]!==d||t[6]!==b?(j=[d,qs.atoms.gap_lg,qs.atoms.pr_2xs,b],t[5]=d,t[6]=b,t[7]=j):j=t[7],t[8]!==u?(v=!u&&(0,bt.jsx)(MP,{}),t[8]=u,t[9]=v):v=t[9],t[10]!==r?(S=r&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(LP,{}),(0,bt.jsx)(gc,{})]}),t[10]=r,t[11]=S):S=t[11],t[12]!==p?(w=p&&(0,bt.jsx)(WP,{}),t[12]=p,t[13]=w):w=t[13],t[14]!==p?(T=p&&(0,bt.jsx)(HP,{}),t[14]=p,t[15]=T):T=t[15],t[16]!==o.atoms.text_contrast_low?(k=[qs.atoms.leading_snug,o.atoms.text_contrast_low],t[16]=o.atoms.text_contrast_low,t[17]=k):k=t[17],t[18]!==a||t[19]!==i?.email||t[20]!==i?.handle||t[21]!==r||t[22]!==o.atoms.text_contrast_low||t[23]!==o.atoms.text_contrast_medium?(C=r&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(io.InlineLinkText,{to:(0,Vt.FEEDBACK_FORM_URL)({email:i?.email,handle:i?.handle}),style:[o.atoms.text_contrast_medium],label:a({id:"YirHq7"}),children:a({id:"YirHq7"})}),(0,bt.jsx)(co.Text,{style:[o.atoms.text_contrast_low],children:" \u2219 "})]}),t[18]=a,t[19]=i?.email,t[20]=i?.handle,t[21]=r,t[22]=o.atoms.text_contrast_low,t[23]=o.atoms.text_contrast_medium,t[24]=C):C=t[24],t[25]!==o.atoms.text_contrast_medium?(I=[o.atoms.text_contrast_medium],t[25]=o.atoms.text_contrast_medium,t[26]=I):I=t[26],t[27]!==a?(A=a({id:"rjGI/Q"}),t[27]=a,t[28]=A):A=t[28],t[29]!==a?(P=a({id:"rjGI/Q"}),t[29]=a,t[30]=P):P=t[30],t[31]!==I||t[32]!==A||t[33]!==P?(E=(0,bt.jsx)(io.InlineLinkText,{to:"https://bsky.social/about/support/privacy-policy",style:I,label:A,children:P}),t[31]=I,t[32]=A,t[33]=P,t[34]=E):E=t[34],t[35]!==o.atoms.text_contrast_low?(L=(0,bt.jsx)(co.Text,{style:[o.atoms.text_contrast_low],children:" \u2219 "}),t[35]=o.atoms.text_contrast_low,t[36]=L):L=t[36],t[37]!==o.atoms.text_contrast_medium?(R=[o.atoms.text_contrast_medium],t[37]=o.atoms.text_contrast_medium,t[38]=R):R=t[38],t[39]!==a?(B=a({id:"4Y5H+g"}),t[39]=a,t[40]=B):B=t[40],t[41]!==a?(D=a({id:"4Y5H+g"}),t[41]=a,t[42]=D):D=t[42],t[43]!==R||t[44]!==B||t[45]!==D?(O=(0,bt.jsx)(io.InlineLinkText,{to:"https://bsky.social/about/support/tos",style:R,label:B,children:D}),t[43]=R,t[44]=B,t[45]=D,t[46]=O):O=t[46],t[47]!==o.atoms.text_contrast_low?(M=(0,bt.jsx)(co.Text,{style:[o.atoms.text_contrast_low],children:" \u2219 "}),t[47]=o.atoms.text_contrast_low,t[48]=M):M=t[48],t[49]!==a?(F=a({id:"c3XJ18"}),t[49]=a,t[50]=F):F=t[50],t[51]!==o.atoms.text_contrast_medium?(N=[o.atoms.text_contrast_medium],t[51]=o.atoms.text_contrast_medium,t[52]=N):N=t[52],t[53]!==a?(H=a({id:"c3XJ18"}),t[53]=a,t[54]=H):H=t[54],t[55]!==F||t[56]!==N||t[57]!==H?(V=(0,bt.jsx)(io.InlineLinkText,{label:F,to:Vt.HELP_DESK_URL,style:N,children:H}),t[55]=F,t[56]=N,t[57]=H,t[58]=V):V=t[58],t[59]!==C||t[60]!==E||t[61]!==L||t[62]!==O||t[63]!==M||t[64]!==V||t[65]!==k?(z=(0,bt.jsxs)(co.Text,{style:k,children:[C,E,L,O,M,V]}),t[59]=C,t[60]=E,t[61]=L,t[62]=O,t[63]=M,t[64]=V,t[65]=k,t[66]=z):z=t[66],t[67]!==a||t[68]!==l||t[69]!==o.atoms.text_contrast_medium?(U=l&&(0,bt.jsx)(co.Text,{style:[o.atoms.text_contrast_medium,{marginTop:12}],children:(0,bt.jsx)(dt.Trans,{id:"4xQ0N2",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:a({id:"OvMZwr"}),to:"/profile/sawaratsuki.bsky.social"})}})}),t[67]=a,t[68]=l,t[69]=o.atoms.text_contrast_medium,t[70]=U):U=t[70],t[71]!==r||t[72]!==x?(W=!r&&x&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,{height:32}],children:(0,bt.jsx)(KC,{})}),t[71]=r,t[72]=x,t[73]=W):W=t[73],t[74]!==z||t[75]!==U||t[76]!==W||t[77]!==j||t[78]!==v||t[79]!==S||t[80]!==w||t[81]!==T?(G=(0,bt.jsxs)(Fs.default,{style:j,children:[v,S,w,T,z,U,W]}),t[74]=z,t[75]=U,t[76]=W,t[77]=j,t[78]=v,t[79]=S,t[80]=w,t[81]=T,t[82]=G):G=t[82],G}const KP=["id","initialRouteName","UNSTABLE_routeNamesChangeBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function ZP(e){const t=(0,n.c)(48);let s,o,a,i,l,c,d,u,m,h,p;if(t[0]!==e){var f=e;({id:i,initialRouteName:l,UNSTABLE_routeNamesChangeBehavior:s,children:a,layout:c,screenListeners:m,screenOptions:h,screenLayout:u,UNSTABLE_router:o}=f),d=(0,ta.default)(f,KP),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h}else s=t[1],o=t[2],a=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10];t[11]!==s||t[12]!==o||t[13]!==a||t[14]!==i||t[15]!==l||t[16]!==c||t[17]!==u||t[18]!==m||t[19]!==h?(p={id:i,initialRouteName:l,UNSTABLE_routeNamesChangeBehavior:s,children:a,layout:c,screenListeners:m,screenOptions:h,screenLayout:u,UNSTABLE_router:o},t[11]=s,t[12]=o,t[13]=a,t[14]=i,t[15]=l,t[16]=c,t[17]=u,t[18]=m,t[19]=h,t[20]=p):p=t[20];const{state:g,describe:x,descriptors:_,navigation:y,NavigationContent:b}=(0,Ns.useNavigationBuilder)(Ns.StackRouter,p);let j,v;t[21]!==y||t[22]!==g.index||t[23]!==g.key?(j=()=>y?.addListener?.("tabPress",(e=>{const t=y.isFocused();requestAnimationFrame((()=>{g.index>0&&t&&!e.defaultPrevented&&y.dispatch(Object.assign({},Ns.StackActions.popToTop(),{target:g.key}))}))})),v=[y,g.index,g.key],t[21]=y,t[22]=g.index,t[23]=g.key,t[24]=j,t[25]=v):(j=t[24],v=t[25]),lt.useEffect(j,v);const{hasSession:S,currentAccount:w}=(0,Gt.useSession)(),T=g.routes[g.index],k=_[T.key].options.requireAuth??!1,C=(0,hs.useOnboardingState)(),{showLoggedOut:I}=ws(),{setShowLoggedOut:A}=Ts(),{isMobile:P}=(0,jn.useWebMediaQueries)(),{leftNavMinimal:E}=(0,qs.useLayoutBreakpoints)();if(!S&&(k||r.IS_NATIVE)){let e;return t[26]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(lI,{}),t[26]=e):e=t[26],e}if(S&&w?.signupQueued){let e;return t[27]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(QA,{}),t[27]=e):e=t[27],e}if(I){let e;return t[28]!==A?(e=(0,bt.jsx)(lI,{onDismiss:()=>A(!1)}),t[28]=A,t[29]=e):e=t[29],e}if(C.isActive){let e;return t[30]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(WA,{}),t[30]=e):e=t[30],e}const L={};for(const n in _){const e=_[n],t=e.options.requireAuth??!1;L[n]=Object.assign({},e,{render:()=>t&&!S?(0,bt.jsx)(Fs.default,{}):e.render()})}const R=S?P:E;let B,D,O,M;return t[31]!==x||t[32]!==_||t[33]!==y||t[34]!==d||t[35]!==g?(B=(0,bt.jsx)(Fs.default,{role:"main",style:qs.atoms.flex_1,children:(0,bt.jsx)(kk.NativeStackView,Object.assign({},d,{state:g,navigation:y,descriptors:_,describe:x}))}),t[31]=x,t[32]=_,t[33]=y,t[34]=d,t[35]=g,t[36]=B):B=t[36],t[37]!==T||t[38]!==P||t[39]!==R?(D=r.IS_WEB&&(0,bt.jsxs)(bt.Fragment,{children:[R?(0,bt.jsx)(dP,{}):(0,bt.jsx)(PP,{}),!P&&(0,bt.jsx)(QP,{routeName:T.name})]}),t[37]=T,t[38]=P,t[39]=R,t[40]=D):D=t[40],t[41]!==S?(O=S&&(0,bt.jsx)(cP,{}),t[41]=S,t[42]=O):O=t[42],t[43]!==b||t[44]!==B||t[45]!==D||t[46]!==O?(M=(0,bt.jsxs)(b,{children:[B,D,O]}),t[43]=b,t[44]=B,t[45]=D,t[46]=O,t[47]=M):M=t[47],M}function YP(e){return(0,Ns.createNavigatorFactory)(ZP)(e)}var $P=s(40265);function XP(e){const t=(0,n.c)(5),s=(0,hs.useSetMinimalShellMode)(),o=(0,Xo.useAnalytics)();let a,r,i;return t[0]!==o||t[1]!==s?(a=()=>{s(!1),o.metric("bookmarks:view",{})},t[0]=o,t[1]=s,t[2]=a):a=t[2],(0,Ns.useFocusEffect)(a),t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(ya.Header.BackButton,{}),t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsxs)(ya.Screen,{testID:"bookmarksScreen",children:[(0,bt.jsxs)(ya.Header.Outer,{children:[r,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"vTz5jh"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),(0,bt.jsx)(JP,{})]}),t[4]=i):i=t[4],i}function JP(){const e=$r(),t=to(),[s,o]=(0,lt.useState)(!1),n=MS("Bookmarks"),{data:a,isLoading:i,isFetchingNextPage:l,hasNextPage:c,fetchNextPage:d,error:u,refetch:m}=(0,Rp.useBookmarksQuery)(),h=(0,lt.useMemo)((()=>{const{raw:e,clean:s}=t(u);return s||e}),[u,t]),p=(0,lt.useCallback)((async()=>{o(!0);try{await m()}finally{o(!1)}}),[m,o]),f=(0,lt.useCallback)((async()=>{if(!l&&c&&!u)try{await d()}catch{}}),[l,c,u,d]),g=(0,lt.useMemo)((()=>{const e=[];if(i)e.push({type:"loading",key:"loading"});else if(u||!a);else{const t=a.pages.flatMap((e=>e.bookmarks));if(t.length>0)for(const s of t)Dn.AppBskyFeedDefs.isNotFoundPost(s.item)&&e.push({type:"bookmarkNotFound",key:s.item.uri,bookmark:Object.assign({},s,{item:s.item})}),Dn.AppBskyFeedDefs.isPostView(s.item)&&e.push({type:"bookmark",key:s.item.uri,bookmark:Object.assign({},s,{item:s.item})});else e.push({type:"empty",key:"empty"})}return e}),[i,u,a]),x=1===g.length&&"empty"===g[0]?.type;return(0,bt.jsx)(ei.List,{data:g,renderItem:oE,keyExtractor:nE,refreshing:s,onRefresh:p,onEndReached:f,onEndReachedThreshold:4,onItemSeen:e=>{"bookmark"===e.type&&n(e.bookmark.item)},ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:l,error:h,onRetry:d,style:[x&&qs.atoms.border_t_0]}),initialNumToRender:e,windowSize:9,maxToRenderPerBatch:r.IS_IOS?5:1,updateCellsBatchingPeriod:40,sideBorders:!1})}function eE(e){const t=(0,n.c)(31),{hideTopBorder:s,post:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),{mutateAsync:i}=Bp(),l=to();let c;t[0]!==r||t[1]!==i||t[2]!==l||t[3]!==o?(c=async()=>{try{await i({action:"delete",uri:o.uri}),Pd.show(r({id:"ronh4s"}),{type:"info"})}catch(u){const t=u,{raw:s,clean:o}=l(t);Pd.show(o||s||t,{type:"error"})}},t[0]=r,t[1]=i,t[2]=l,t[3]=o,t[4]=c):c=t[4];const d=c,u=!s&&qs.atoms.border_t;let m,h,p,f,g,x,_,y,b,j,v,S,w,T;return t[5]!==a.atoms.border_contrast_low||t[6]!==u?(m=[qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.px_xl,qs.atoms.py_lg,qs.atoms.gap_sm,u,a.atoms.border_contrast_low],t[5]=a.atoms.border_contrast_low,t[6]=u,t[7]=m):m=t[7],t[8]!==a.atoms.text_contrast_low.color?(h=(0,bt.jsx)(Ap,{size:42,children:(0,bt.jsx)($P.CircleQuestion_Stroke2_Corner2_Rounded,{size:"lg",fill:a.atoms.text_contrast_low.color})}),t[8]=a.atoms.text_contrast_low.color,t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,qs.atoms.gap_2xs],t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.flex_row,qs.atoms.gap_xs],t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Ip,{style:[qs.atoms.text_md,{width:80}]}),t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsxs)(Fs.default,{style:f,children:[g,(0,bt.jsx)(Ip,{style:[qs.atoms.text_md,{width:100}]})]}),t[13]=x):x=t[13],t[14]!==a.atoms.text_contrast_medium?(_=[qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.italic,a.atoms.text_contrast_medium],t[14]=a.atoms.text_contrast_medium,t[15]=_):_=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(dt.Trans,{id:"bg+zm7"}),t[16]=y):y=t[16],t[17]!==_?(b=(0,bt.jsxs)(Fs.default,{style:p,children:[x,(0,bt.jsx)(co.Text,{style:_,children:y})]}),t[17]=_,t[18]=b):b=t[18],t[19]!==r?(j=r({id:"mmSJsq"}),t[19]=r,t[20]=j):j=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(ao.ButtonIcon,{icon:Op}),t[21]=v):v=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"t/YqKh"})}),t[22]=S):S=t[22],t[23]!==d||t[24]!==j?(w=(0,bt.jsxs)(ao.Button,{label:j,size:"tiny",color:"secondary",onPress:d,children:[v,S]}),t[23]=d,t[24]=j,t[25]=w):w=t[25],t[26]!==b||t[27]!==w||t[28]!==m||t[29]!==h?(T=(0,bt.jsxs)(Fs.default,{style:m,children:[h,b,w]}),t[26]=b,t[27]=w,t[28]=m,t[29]=h,t[30]=T):T=t[30],T}function tE(e){const t=(0,n.c)(6),{item:s,hideTopBorder:o}=e,a=(0,Xo.useAnalytics)();let r,i;return t[0]!==a?(r=()=>{a.metric("bookmarks:post-clicked",{})},t[0]=a,t[1]=r):r=t[1],t[2]!==o||t[3]!==s.bookmark.item||t[4]!==r?(i=(0,bt.jsx)(Wb,{post:s.bookmark.item,hideTopBorder:o,onBeforePress:r}),t[2]=o,t[3]=s.bookmark.item,t[4]=r,t[5]=i):i=t[5],i}function sE(){const e=(0,n.c)(19),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Ns.useNavigation)();let a,r,i,l,c,d,u,m;return e[0]!==s?(a=s({id:"64/tvo"}),e[0]=s,e[1]=a):a=e[1],e[2]!==t.atoms.text_contrast_medium?(r=[t.atoms.text_contrast_medium,qs.atoms.font_medium],e[2]=t.atoms.text_contrast_medium,e[3]=r):r=e[3],e[4]!==s?(i=s({id:"0c6KEU"}),e[4]=s,e[5]=i):i=e[5],e[6]!==s?(l=s({id:"iWpEwy"}),e[6]=s,e[7]=l):l=e[7],e[8]!==o?(c=()=>o.navigate("Home"),e[8]=o,e[9]=c):c=e[9],e[10]!==i||e[11]!==l||e[12]!==c?(d={label:i,text:l,onPress:c,size:"small",color:"secondary"},e[10]=i,e[11]=l,e[12]=c,e[13]=d):d=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.pt_3xl],e[14]=u):u=e[14],e[15]!==a||e[16]!==r||e[17]!==d?(m=(0,bt.jsx)(pS.EmptyState,{icon:Mp,message:a,textStyle:r,button:d,style:u}),e[15]=a,e[16]=r,e[17]=d,e[18]=m):m=e[18],m}function oE({item:e,index:t}){switch(e.type){case"loading":return(0,bt.jsx)(pi,{});case"empty":return(0,bt.jsx)(sE,{});case"bookmark":return(0,bt.jsx)(tE,{item:e,hideTopBorder:0===t});case"bookmarkNotFound":return(0,bt.jsx)(eE,{post:e.bookmark.item,hideTopBorder:0===t});default:return null}}const nE=e=>e.key;function aE(){const e=(0,n.c)(19),[t,s]=lt.useState("");let o,a,r,i,l,c,d,u,m,h,p,f,g,x,_,y,b;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o={backgroundColor:"red"},e[0]=o):o=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1],e[1]=a):a=e[1],e[2]!==t?(r=(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(co.Text,{testID:"testOutput",children:t})}),e[2]=t,e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_wrap],e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.self_center],e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(ao.Button,{label:"btn",testID:"setStringBtn",style:l,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeValue("testerString"),Jo.SharedPrefs.setValue("testerString","Hello");const e=Jo.SharedPrefs.getString("testerString");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Set String"})}),e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.self_center],e[7]=d):d=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ao.Button,{label:"btn",testID:"removeStringBtn",style:d,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeValue("testerString");const e=Jo.SharedPrefs.getString("testerString");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Remove String"})}),e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.self_center],e[9]=m):m=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.Button,{label:"btn",testID:"setBoolBtn",style:m,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeValue("testerBool"),Jo.SharedPrefs.setValue("testerBool",!0);const e=Jo.SharedPrefs.getBool("testerBool");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Set Bool"})}),e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.self_center],e[11]=p):p=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ao.Button,{label:"btn",testID:"setNumberBtn",style:p,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeValue("testerNumber"),Jo.SharedPrefs.setValue("testerNumber",123);const e=Jo.SharedPrefs.getNumber("testerNumber");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Set Number"})}),e[12]=f):f=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.self_center],e[13]=g):g=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(ao.Button,{label:"btn",testID:"addToSetBtn",style:g,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeFromSet("testerSet","Hello!"),Jo.SharedPrefs.addToSet("testerSet","Hello!");const e=Jo.SharedPrefs.setContains("testerSet","Hello!");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Add to Set"})}),e[14]=x):x=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.self_center],e[15]=_):_=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsxs)(Fs.default,{style:i,children:[c,u,h,f,x,(0,bt.jsx)(ao.Button,{label:"btn",testID:"removeFromSetBtn",style:_,variant:"solid",color:"primary",size:"small",onPress:async()=>{Jo.SharedPrefs.removeFromSet("testerSet","Hello!");const e=Jo.SharedPrefs.setContains("testerSet","Hello!");s(`${e}`)},children:(0,bt.jsx)(ao.ButtonText,{children:"Remove from Set"})})]}),e[16]=y):y=e[16],e[17]!==r?(b=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(wa,{contentContainerStyle:o,children:(0,bt.jsxs)(Fs.default,{style:a,children:[r,y]})})}),e[17]=r,e[18]=b):b=e[18],b}function rE(){throw new Error("FindContactsFlow is not available on web")}function iE(e){const t=(0,n.c)(10),{navigation:s}=e,{_:o}=(0,dt.useLingui)(),[a,i]=yA(),[l,c]=(0,lt.useState)("Forward"),d="2: verify number"===a.step;let u;t[0]!==i?(u=()=>{c("Backward"),i({type:"BACK"}),setTimeout((()=>{c("Forward")}))},t[0]=i,t[1]=u):u=t[1],(0,Ns.usePreventRemove)(d,u);const m=(0,hs.useSetMinimalShellMode)();let h;t[2]!==m?(h=()=>(m(!0),()=>m(!1)),t[2]=m,t[3]=h):h=t[3];const p=h;let f;return(0,lt.useLayoutEffect)(p),t[4]!==o||t[5]!==i||t[6]!==s||t[7]!==a||t[8]!==l?(f=(0,bt.jsx)(ya.Screen,{children:r.IS_NATIVE?(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:(0,bt.jsx)(Jk,{direction:l,children:(0,bt.jsx)(rE,{state:a,dispatch:i,onCancel:()=>s.canGoBack()?s.goBack():s.navigate("FindContactsFlow",void 0,{pop:!0}),context:"Standalone"})},a.step)}):(0,bt.jsx)(lh,{title:o({id:"9a8GkI"}),message:o({id:"aLxUEd"}),showHeader:!0})}),t[4]=o,t[5]=i,t[6]=s,t[7]=a,t[8]=l,t[9]=f):f=t[9],f}var lE=s(52396);function cE(e){const t=(0,n.c)(18),{title:s,children:o}=e,{gtMobile:a}=(0,qs.useBreakpoints)(),r=(0,qs.useTheme)();let i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_center,qs.atoms.gap_4xl,qs.atoms.px_xl,{paddingVertical:150}],t[0]=i):i=t[0],t[1]!==r.atoms.text_contrast_low?(l=(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{width:32,style:[r.atoms.text_contrast_low]}),t[1]=r.atoms.text_contrast_low,t[2]=l):l=t[2];const c=a?394:294;let d;t[3]!==c?(d={maxWidth:c},t[3]=c,t[4]=d):d=t[4];const u=a?qs.atoms.gap_md:qs.atoms.gap_sm;let m,h,p,f,g;return t[5]!==d||t[6]!==u?(m=[qs.atoms.align_center,d,u],t[5]=d,t[6]=u,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.font_semi_bold,qs.atoms.text_lg,qs.atoms.text_center,qs.atoms.leading_snug],t[8]=h):h=t[8],t[9]!==s?(p=(0,bt.jsx)(co.Text,{style:h,children:s}),t[9]=s,t[10]=p):p=t[10],t[11]!==o||t[12]!==m||t[13]!==p?(f=(0,bt.jsxs)(Fs.default,{style:m,children:[p,o]}),t[11]=o,t[12]=m,t[13]=p,t[14]=f):f=t[14],t[15]!==l||t[16]!==f?(g=(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:i,children:[l,f]})}),t[15]=l,t[16]=f,t[17]=g):g=t[17],g}const dE=({item:e})=>(0,bt.jsx)(Wb,{post:e}),uE=(e,t)=>`${e.uri}-${t}`;function mE(e){const t=(0,n.c)(48),{route:s}=e,{tag:o,author:a}=s.params,{_:r}=(0,dt.useLingui)(),i=decodeURIComponent(o);let l;t[0]!==i?(l=i.startsWith("$"),t[0]=i,t[1]=l):l=t[1];const c=l,d=c?i:`#${i}`;let u;if(t[2]!==d||t[3]!==c){const e=c?d.toUpperCase():d.toLowerCase();u=(0,Eu.enforceLen)(e,24,!0,"middle"),t[2]=d,t[3]=c,t[4]=u}else u=t[4];const m=u;let h;e:{if(!a){h=void 0;break e}let e;t[5]!==a?(e=(0,Fa.sanitizeHandle)(a),t[5]=a,t[6]=e):e=t[6],h=e}const p=h;let f;t[7]!==a||t[8]!==o?(f=()=>{const e=new URL("https://bsky.app");e.pathname=`/hashtag/${decodeURIComponent(o)}`,a&&e.searchParams.set("author",a),(0,lm.shareUrl)(e.toString())},t[7]=a,t[8]=o,t[9]=f):f=t[9];const g=f,[x,_]=lt.useState(0),y=(0,hs.useSetMinimalShellMode)();let b,j;t[10]!==y?(b=()=>{y(!1)},t[10]=y,t[11]=b):b=t[11],(0,Ns.useFocusEffect)(b),t[12]!==y?(j=e=>{y(!1),_(e)},t[12]=y,t[13]=j):j=t[13];const v=j;let S;t[14]!==r?(S=r({id:"WWy8TN"}),t[14]=r,t[15]=S):S=t[15];const w=0===x;let T,k,C;t[16]!==a||t[17]!==d||t[18]!==w?(T=(0,bt.jsx)(fE,{fullTag:d,author:a,sort:"top",active:w}),t[16]=a,t[17]=d,t[18]=w,t[19]=T):T=t[19],t[20]!==S||t[21]!==T?(k={title:S,component:T},t[20]=S,t[21]=T,t[22]=k):k=t[22],t[23]!==r?(C=r({id:"wL3cK8"}),t[23]=r,t[24]=C):C=t[24];const I=1===x;let A,P,E;t[25]!==a||t[26]!==d||t[27]!==I?(A=(0,bt.jsx)(fE,{fullTag:d,author:a,sort:"latest",active:I}),t[25]=a,t[26]=d,t[27]=I,t[28]=A):A=t[28],t[29]!==C||t[30]!==A?(P={title:C,component:A},t[29]=C,t[30]=A,t[31]=P):P=t[31],t[32]!==k||t[33]!==P?(E=[k,P],t[32]=k,t[33]=P,t[34]=E):E=t[34];const L=E;let R,B,D;return t[35]!==r||t[36]!==a||t[37]!==m||t[38]!==g||t[39]!==p||t[40]!==L?(R=e=>(0,bt.jsxs)(ya.Center,{style:[qs.atoms.z_10,(0,qs.web)([qs.atoms.sticky,{top:0}])],children:[(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsxs)(ya.Header.Content,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:m}),a&&(0,bt.jsx)(ya.Header.SubtitleText,{children:r({id:"nTyWt9",values:{sanitizedAuthor:p}})})]}),(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(ao.Button,{label:r({id:"Z8lGw6"}),size:"small",variant:"ghost",color:"primary",shape:"round",onPress:g,hitSlop:Vt.HITSLOP_10,style:[{right:-3}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:y_,size:"md"})})})]}),(0,bt.jsx)(wv,Object.assign({items:L.map(pE)},e))]}),t[35]=r,t[36]=a,t[37]=m,t[38]=g,t[39]=p,t[40]=L,t[41]=R):R=t[41],t[42]!==L?(B=L.map(hE),t[42]=L,t[43]=B):B=t[43],t[44]!==v||t[45]!==R||t[46]!==B?(D=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(Mv,{onPageSelected:v,renderTabBar:R,initialPage:0,children:B})}),t[44]=v,t[45]=R,t[46]=B,t[47]=D):D=t[47],D}function hE(e,t){return(0,bt.jsx)(Fs.default,{children:e.component},t)}function pE(e){return e.title}function fE(e){const t=(0,n.c)(60),{fullTag:s,author:o,sort:a,active:r}=e,{_:i}=(0,dt.useLingui)(),l=$r(),[c,d]=lt.useState(!1),u=(0,qs.useTheme)(),{hasSession:m}=(0,Gt.useSession)(),h=MS("Hashtag");let p;{const e=s.startsWith("$")?`#${s}`:s;o?p=`${e} from:${o}`:p=e}const f=p;let g;t[0]!==r||t[1]!==f||t[2]!==a?(g={query:f,sort:a,enabled:r},t[0]=r,t[1]=f,t[2]=a,t[3]=g):g=t[3];const{data:x,isFetched:_,isFetchingNextPage:y,isLoading:b,isError:j,error:v,refetch:S,fetchNextPage:w,hasNextPage:T}=(0,lE.useSearchPostsQuery)(g);let k;t[4]!==x?.pages?(k=x?.pages.flatMap(gE)||[],t[4]=x?.pages,t[5]=k):k=t[5];const C=k;let I;t[6]!==S?(I=async()=>{d(!0),await S(),d(!1)},t[6]=S,t[7]=I):I=t[7];const A=I;let P;t[8]!==v||t[9]!==w||t[10]!==T||t[11]!==y?(P=()=>{y||!T||v||w()},t[8]=v,t[9]=w,t[10]=T,t[11]=y,t[12]=P):P=t[12];const E=P,L=(0,Gs.useCloseAllActiveElements)(),{requestSwitchToAccount:R}=Ts();let B;t[13]!==L||t[14]!==R?(B=()=>{L(),R({requestedAccount:"none"})},t[13]=L,t[14]=R,t[15]=B):B=t[15];const D=B;let O;t[16]!==L||t[17]!==R?(O=()=>{L(),R({requestedAccount:"new"})},t[16]=L,t[17]=R,t[18]=O):O=t[18];const M=O;if(!m){let e,s,o,n,a,r,l,c,d,m,h;return t[19]!==i?(e=i({id:"EtHPEZ"}),t[19]=i,t[20]=e):e=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.text_md,qs.atoms.text_center,qs.atoms.leading_snug],t[21]=s):s=t[21],t[22]!==i?(o=i({id:"5lWFkC"}),t[22]=i,t[23]=o):o=t[23],t[24]!==D||t[25]!==o?(n=(0,bt.jsx)(io.InlineLinkText,{label:o,to:"#",onPress:D}),t[24]=D,t[25]=o,t[26]=n):n=t[26],t[27]!==u.atoms.text_contrast_medium?(a=(0,bt.jsx)(co.Text,{style:u.atoms.text_contrast_medium}),t[27]=u.atoms.text_contrast_medium,t[28]=a):a=t[28],t[29]!==i?(r=i({id:"3T8ziB"}),t[29]=i,t[30]=r):r=t[30],t[31]!==M||t[32]!==r?(l=(0,bt.jsx)(io.InlineLinkText,{label:r,to:"#",onPress:M}),t[31]=M,t[32]=r,t[33]=l):l=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(co.Text,{}),t[34]=c):c=t[34],t[35]!==u.atoms.text_contrast_medium?(d=(0,bt.jsx)(co.Text,{style:u.atoms.text_contrast_medium}),t[35]=u.atoms.text_contrast_medium,t[36]=d):d=t[36],t[37]!==n||t[38]!==a||t[39]!==l||t[40]!==d?(m=(0,bt.jsx)(co.Text,{style:s,children:(0,bt.jsx)(dt.Trans,{id:"c0B9fT",components:{0:n,1:a,2:l,3:c,4:d}})}),t[37]=n,t[38]=a,t[39]=l,t[40]=d,t[41]=m):m=t[41],t[42]!==m||t[43]!==e?(h=(0,bt.jsx)(cE,{title:e,children:m}),t[42]=m,t[43]=e,t[44]=h):h=t[44],h}let F;return t[45]!==i||t[46]!==v||t[47]!==w||t[48]!==l||t[49]!==j||t[50]!==_||t[51]!==y||t[52]!==b||t[53]!==c||t[54]!==E||t[55]!==A||t[56]!==C||t[57]!==S||t[58]!==h?(F=(0,bt.jsx)(bt.Fragment,{children:C.length<1?(0,bt.jsx)(yS,{isLoading:b||!_,isError:j,onRetry:S,emptyType:"results",emptyMessage:i({id:"TtNky6"})}):(0,bt.jsx)(ei.List,{data:C,renderItem:dE,keyExtractor:uE,refreshing:c,onRefresh:A,onEndReached:E,onEndReachedThreshold:4,onItemSeen:h,desktopFixedHeight:!0,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:y,error:(0,Tn.cleanError)(v),onRetry:w}),initialNumToRender:l,windowSize:11})}),t[45]=i,t[46]=v,t[47]=w,t[48]=l,t[49]=j,t[50]=_,t[51]=y,t[52]=b,t[53]=c,t[54]=E,t[55]=A,t[56]=C,t[57]=S,t[58]=h,t[59]=F):F=t[59],F}function gE(e){return e.posts}var xE=s(49258);function _E(e){const t=(0,n.c)(16),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),a=(0,hs.useSetMinimalShellMode)();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[0]=r):r=t[0];const[i,l]=(0,lt.useState)(r),c=(0,Vu.useGetTimeAgo)(),d=(0,hs.useTickEveryMinute)();let u,m;t[1]!==a?(u=()=>{a(!1)},t[1]=a,t[2]=u):u=t[2],(0,Ns.useFocusEffect)(u),t[3]!==i?(m=e=>()=>{qr.default.configureNext(qr.default.Presets.easeInEaseOut),i.includes(e)?l(i.filter((t=>t!==e))):l([...i,e])},t[3]=i,t[4]=m):m=t[4];const h=m;let p,f,g,x;return t[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(ya.Header.BackButton,{}),t[5]=p):p=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsxs)(ya.Header.Outer,{children:[p,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"fP8jTZ"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[6]=f):f=t[6],t[7]!==o||t[8]!==i||t[9]!==s||t[10]!==d||t[11]!==c||t[12]!==h?(g=(0,xE.getEntries)().slice(0).map((e=>(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsxs)(ln.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.py_md,qs.atoms.px_sm,qs.atoms.border_b,s.atoms.border_contrast_low,s.atoms.bg,qs.atoms.gap_sm],onPress:h(e.id),accessibilityLabel:o({id:"nHsQde"}),accessibilityHint:o({id:"JFO1MY"}),children:["warn"===e.level||"error"===e.level?(0,bt.jsx)(Cf.Warning_Stroke2_Corner0_Rounded,{size:"sm",fill:s.palette.negative_500}):(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm"}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.justify_start,qs.atoms.align_center,qs.atoms.gap_sm],children:[e.context&&(0,bt.jsxs)(co.Text,{style:[s.atoms.text_contrast_medium],children:["(",String(e.context),")"]}),(0,bt.jsx)(co.Text,{children:String(e.message)})]}),e.metadata&&Object.keys(e.metadata).length>0&&(i.includes(e.id)?(0,bt.jsx)(mn.ChevronTop_Stroke2_Corner0_Rounded,{size:"sm",style:[s.atoms.text_contrast_low]}):(0,bt.jsx)(mn.ChevronBottom_Stroke2_Corner0_Rounded,{size:"sm",style:[s.atoms.text_contrast_low]})),(0,bt.jsx)(co.Text,{style:[{minWidth:40},s.atoms.text_contrast_medium],children:c(e.timestamp,d)})]}),i.includes(e.id)&&(0,bt.jsx)(Fs.default,{style:[s.atoms.bg_contrast_25,qs.atoms.rounded_xs,qs.atoms.p_sm,qs.atoms.border_b,s.atoms.border_contrast_low],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_sm,qs.atoms.py_xs],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,{fontFamily:"monospace"}],children:JSON.stringify(e.metadata,null,2)})})})]},`entry-${e.id}`))),t[7]=o,t[8]=i,t[9]=s,t[10]=d,t[11]=c,t[12]=h,t[13]=g):g=t[13],t[14]!==g?(x=(0,bt.jsxs)(ya.Screen,{children:[f,(0,bt.jsx)(ya.Content,{children:g})]}),t[14]=g,t[15]=x):x=t[15],x}const yE=4e3,bE=3e4,jE=[1,408,425,429,500,502,503,504,522,524];var vE=s(68310),SE=s(53923),wE=s(66375);function TE(e){const t=(0,n.c)(11),{_:s}=(0,dt.useLingui)(),o=e.style;let a,r,i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(no.Icon,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(no.Content,{children:(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(dt.Trans,{id:"Kj0Iw+"})})}),t[1]=r):r=t[1],t[2]!==s?(i=s({id:"6gRgw8"}),t[2]=s,t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),c=(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded}),t[4]=l,t[5]=c):(l=t[4],c=t[5]),t[6]!==i?(d=(0,bt.jsxs)(no.Row,{children:[a,r,(0,bt.jsxs)(no.Button,{color:"negative_subtle",label:i,onPress:kE,children:[l,c]})]}),t[6]=i,t[7]=d):d=t[7],t[8]!==e.style||t[9]!==d?(u=(0,bt.jsx)(no.Outer,{type:"error",style:o,children:d}),t[8]=e.style,t[9]=d,t[10]=u):u=t[10],u}function kE(){return(0,wE.refetchConfig)().catch(CE)}function CE(){}function IE(e){const t=(0,n.c)(39),{children:s,screenTitle:o,infoText:a,rightHeaderSlot:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),c=Mi(),d=(0,Fi.useAgeAssurance)();if(d.state.access===d.Access.Full)return s;let u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=u):u=t[0],t[1]!==o?(m=o??(0,bt.jsx)(dt.Trans,{id:"jqzUyM"}),t[1]=o,t[2]=m):m=t[2],t[3]!==m?(h=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:m})}),t[3]=m,t[4]=h):h=t[4],t[5]!==r?(p=r??(0,bt.jsx)(ya.Header.Slot,{}),t[5]=r,t[6]=p):p=t[6],t[7]!==h||t[8]!==p?(f=(0,bt.jsxs)(ya.Header.Outer,{children:[u,h,p]}),t[7]=h,t[8]=p,t[9]=f):f=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.p_lg],t[10]=g):g=t[10],t[11]!==d.state.error?(x="config"===d.state.error&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_lg],children:(0,bt.jsx)(TE,{})}),t[11]=d.state.error,t[12]=x):x=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_start,qs.atoms.pb_lg],children:(0,bt.jsx)(SE.AgeAssuranceBadge,{})}),t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.gap_sm,qs.atoms.pb_lg],t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.leading_snug,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"ruOs/N"})}),t[15]=b):b=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_md,qs.atoms.leading_snug],t[16]=j):j=t[16],t[17]!==c.notice?(v=(0,bt.jsxs)(Fs.default,{style:y,children:[b,(0,bt.jsx)(co.Text,{style:j,children:c.notice})]}),t[17]=c.notice,t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.pb_xl],t[19]=S):S=t[19],t[20]!==i?(w=i({id:"UhGK8m"}),t[20]=i,t[21]=w):w=t[21],t[22]!==l?(T=()=>{l.metric("ageAssurance:navigateToSettings",{})},t[22]=l,t[23]=T):T=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"UhGK8m"})}),C=(0,bt.jsx)(ao.ButtonIcon,{icon:mn.ChevronRight_Stroke2_Corner0_Rounded,position:"right"}),t[24]=k,t[25]=C):(k=t[24],C=t[25]),t[26]!==w||t[27]!==T?(I=(0,bt.jsx)(Fs.default,{style:S,children:(0,bt.jsxs)(io.Link,{label:w,to:"/settings/account",size:"small",variant:"solid",color:"primary",onPress:T,children:[k,C]})}),t[26]=w,t[27]=T,t[28]=I):I=t[28],t[29]!==a?(A=a&&(0,bt.jsx)(no.Admonition,{type:"tip",children:a}),t[29]=a,t[30]=A):A=t[30],t[31]!==v||t[32]!==I||t[33]!==A||t[34]!==x?(P=(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:g,children:[x,_,v,I,A]})}),t[31]=v,t[32]=I,t[33]=A,t[34]=x,t[35]=P):P=t[35],t[36]!==P||t[37]!==f?(E=(0,bt.jsxs)(ya.Screen,{children:[f,P]}),t[36]=P,t[37]=f,t[38]=E):E=t[38],E}function AE(e){const t=(0,n.c)(37),{control:s,onNewChat:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)(),l=Uo();let c,d,u;t[0]!==i||t[1]!==o?(c=e=>{o(e.convo.id),e.convo.lastMessage||i.metric("chat:create",{logContext:"NewChatDialog"}),i.metric("chat:open",{logContext:"NewChatDialog"})},t[0]=i,t[1]=o,t[2]=c):c=t[2],t[3]!==r?(d=e=>{Mt.logger.error("Failed to create chat",{safeMessage:e}),Ds.show(r({id:"x8Jzj8"}),"xmark")},t[3]=r,t[4]=d):d=t[4],t[5]!==c||t[6]!==d?(u={onSuccess:c,onError:d},t[5]=c,t[6]=d,t[7]=u):u=t[7];const{mutate:m}=qf(u);let h;t[8]!==s||t[9]!==m?(h=e=>{s.close((()=>m([e])))},t[8]=s,t[9]=m,t[10]=h):h=t[10];const p=h;let f;t[11]!==s?(f=()=>{s.open()},t[11]=s,t[12]=f):f=t[12];const g=f;let x,_;t[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(dt.Trans,{id:"oYqWde"},"new-chat"),t[13]=x):x=t[13],t[14]!==g||t[15]!==l?(_=l(g,{instructions:[x]}),t[14]=g,t[15]=l,t[16]=_):_=t[16];const y=_;let b,j,v,S,w,T,k,C;return t[17]!==a.palette.white?(b=(0,bt.jsx)(zg.PlusLarge_Stroke2_Corner0_Rounded,{size:"lg",fill:a.palette.white}),t[17]=a.palette.white,t[18]=b):b=t[18],t[19]!==r?(j=r({id:"hIQkLb"}),t[19]=r,t[20]=j):j=t[20],t[21]!==b||t[22]!==j||t[23]!==y?(v=(0,bt.jsx)(Hj,{testID:"newChatFAB",onPress:y,icon:b,accessibilityRole:"button",accessibilityLabel:j,accessibilityHint:""}),t[21]=b,t[22]=j,t[23]=y,t[24]=v):v=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(Qs.Handle,{}),t[25]=S):S=t[25],t[26]!==r?(w=r({id:"vPF04k"}),t[26]=r,t[27]=w):w=t[27],t[28]!==p||t[29]!==w?(T=(0,bt.jsx)(eg,{title:w,onSelectChat:p,sortByMessageDeclaration:!0}),t[28]=p,t[29]=w,t[30]=T):T=t[30],t[31]!==s||t[32]!==T?(k=(0,bt.jsxs)(Qs.Outer,{control:s,testID:"newChatDialog",children:[S,T]}),t[31]=s,t[32]=T,t[33]=k):k=t[33],t[34]!==v||t[35]!==k?(C=(0,bt.jsxs)(bt.Fragment,{children:[v,k]}),t[34]=v,t[35]=k,t[36]=C):C=t[36],C}function PE(e){const t=(0,n.c)(2),s=(0,lt.useRef)(!0);let o;t[0]!==e?(o=()=>{s.current?s.current=!1:e()},t[0]=e,t[1]=o):o=t[1],(0,Ns.useFocusEffect)(o)}function EE({children:e}){return e}const LE=(0,lt.memo)((function(e){const t=(0,n.c)(15),{control:s,params:o,currentScreen:a}=e,{_:r}=(0,dt.useLingui)();let i,l,c,d,u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i={preventExpansion:!0},l=(0,bt.jsx)(Qs.Handle,{}),t[0]=i,t[1]=l):(i=t[0],l=t[1]),t[2]!==r?(c=r({id:"/PxCZK"}),t[2]=r,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=[(0,qs.web)({maxWidth:400})],t[4]=d):d=t[4],t[5]!==a||t[6]!==o?(u=(0,bt.jsx)(RE,{params:o,currentScreen:a}),t[5]=a,t[6]=o,t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(Qs.Close,{}),t[8]=m):m=t[8],t[9]!==c||t[10]!==u?(h=(0,bt.jsxs)(Qs.ScrollableInner,{label:c,style:d,children:[u,m]}),t[9]=c,t[10]=u,t[11]=h):h=t[11],t[12]!==s||t[13]!==h?(p=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:i,children:[l,h]}),t[12]=s,t[13]=h,t[14]=p):p=t[14],p}));function RE(e){const t=(0,n.c)(11),{params:s,currentScreen:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=Qs.useDialogContext();let l;t[0]!==s.message.sender.did?(l={did:s.message.sender.did},t[0]=s.message.sender.did,t[1]=l):l=t[1];const{data:c,isLoading:d,isError:u}=(0,Ut.useProfileQuery)(l);let m;return t[2]!==r||t[3]!==i||t[4]!==o||t[5]!==u||t[6]!==d||t[7]!==s.convoId||t[8]!==c||t[9]!==a?(m=d?(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.py_5xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"lg"})}):u||!c?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.gap_lg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.justify_center,qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"7sBcV9"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"/qpMWa"})})]}),(0,bt.jsx)(ao.Button,{label:r({id:"yz7wBu"}),onPress:()=>i.close(),size:(0,qs.platform)({native:"small",web:"large"}),color:"secondary",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})})]}):(0,bt.jsx)(BE,{convoId:s.convoId,currentScreen:o,profile:c}),t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=d,t[7]=s.convoId,t[8]=c,t[9]=a,t[10]=m):m=t[10],m}function BE(e){const t=(0,n.c)(83),{convoId:s,currentScreen:o,profile:a}=e,{_:i}=(0,dt.useLingui)(),l=(0,Ns.useNavigation)(),c=Qs.useDialogContext(),{gtMobile:d}=(0,qs.useBreakpoints)(),u=(0,qs.useTheme)();let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=["block","leave"],t[0]=m):m=t[0];const[h,p]=(0,lt.useState)(m),f=(0,Va.useProfileShadow)(a),[g]=(0,Ut.useProfileBlockMutationQueue)(f);let x,_,y;t[1]!==o||t[2]!==l?(x=()=>{"conversation"===o&&l.dispatch(Ns.StackActions.replace("Messages",r.IS_NATIVE?{animation:"pop"}:{}))},t[1]=o,t[2]=l,t[3]=x):x=t[3],t[4]!==i?(_=()=>{Ds.show(i({id:"HuPfYi"}),"xmark")},t[4]=i,t[5]=_):_=t[5],t[6]!==x||t[7]!==_?(y={onMutate:x,onError:_},t[6]=x,t[7]=_,t[8]=y):y=t[8];const{mutate:b}=(0,vE.useLeaveConvo)(s,y);let j;t[9]!==i?(j=i({id:"DPfwMq"}),t[9]=i,t[10]=j):j=t[10];let v,S,w=j;if(t[11]!==i||t[12]!==h){if(h.includes("leave")&&h.includes("block")){let e;t[15]!==i?(e=i({id:"INwxJ5"}),t[15]=i,t[16]=e):e=t[16],w=e,v=i({id:"5zTxgk"})}else if(h.includes("leave")){let e;t[17]!==i?(e=i({id:"2DzmAq"}),t[17]=i,t[18]=e):e=t[18],w=e,v=i({id:"5zTxgk"})}else if(h.includes("block")){let e;t[19]!==i?(e=i({id:"GuUvqW"}),t[19]=i,t[20]=e):e=t[20],w=e,v=i({id:"6Gkgyo"})}t[11]=i,t[12]=h,t[13]=v,t[14]=w}else v=t[13],w=t[14];t[21]!==h||t[22]!==c||t[23]!==b||t[24]!==g||t[25]!==v?(S=()=>{c.close((()=>{h.includes("block")&&g(),h.includes("leave")&&b(),v&&Ds.show(v,"check")}))},t[21]=h,t[22]=c,t[23]=b,t[24]=g,t[25]=v,t[26]=S):S=t[26];const T=S,k=d?qs.atoms.gap_sm:qs.atoms.gap_xs;let C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G;t[27]!==k?(C=[qs.atoms.justify_center,k],t[27]=k,t[28]=C):C=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"7sBcV9"})}),t[29]=I):I=t[29],t[30]!==u.atoms.text_contrast_medium?(A=[qs.atoms.text_md,u.atoms.text_contrast_medium],t[30]=u.atoms.text_contrast_medium,t[31]=A):A=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(dt.Trans,{id:"/qpMWa"}),t[32]=P):P=t[32],t[33]!==A?(E=(0,bt.jsx)(co.Text,{style:A,children:P}),t[33]=A,t[34]=E):E=t[34],t[35]!==E||t[36]!==C?(L=(0,bt.jsxs)(Fs.default,{style:C,children:[I,E]}),t[35]=E,t[36]=C,t[37]=L):L=t[37],t[38]!==i?(R=i({id:"jvmavC"}),t[38]=i,t[39]=R):R=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.gap_md],t[40]=B):B=t[40],t[41]!==i?(D=i({id:"tdTuUv"}),t[41]=i,t[42]=D):D=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(af.Checkbox,{}),t[43]=O):O=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"tdTuUv"})}),t[44]=M):M=t[44],t[45]!==D?(F=(0,bt.jsxs)(af.Item,{name:"block",label:D,children:[O,M]}),t[45]=D,t[46]=F):F=t[46],t[47]!==i?(N=i({id:"2GCE3m"}),t[47]=i,t[48]=N):N=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(af.Checkbox,{}),t[49]=H):H=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(V=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"2GCE3m"})}),t[50]=V):V=t[50],t[51]!==N?(z=(0,bt.jsxs)(af.Item,{name:"leave",label:N,children:[H,V]}),t[51]=N,t[52]=z):z=t[52],t[53]!==F||t[54]!==z?(U=(0,bt.jsxs)(Fs.default,{style:B,children:[F,z]}),t[53]=F,t[54]=z,t[55]=U):U=t[55],t[56]!==h||t[57]!==R||t[58]!==U?(W=(0,bt.jsx)(af.Group,{label:R,values:h,onChange:p,children:U}),t[56]=h,t[57]=R,t[58]=U,t[59]=W):W=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(G=[qs.atoms.gap_sm],t[60]=G):G=t[60];const q=h.length>0?"negative":"primary";let Q,K,Z,Y,$,X,J,ee;return t[61]!==w?(Q=(0,bt.jsx)(ao.ButtonText,{children:w}),t[61]=w,t[62]=Q):Q=t[62],t[63]!==w||t[64]!==T||t[65]!==q||t[66]!==Q?(K=(0,bt.jsx)(ao.Button,{label:w,onPress:T,size:"large",color:q,children:Q}),t[63]=w,t[64]=T,t[65]=q,t[66]=Q,t[67]=K):K=t[67],t[68]!==i?(Z=i({id:"yz7wBu"}),t[68]=i,t[69]=Z):Z=t[69],t[70]!==c?(Y=()=>c.close(),t[70]=c,t[71]=Y):Y=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?($=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})}),t[72]=$):$=t[72],t[73]!==Z||t[74]!==Y?(X=(0,bt.jsx)(ao.Button,{label:Z,onPress:Y,size:"large",color:"secondary",children:$}),t[73]=Z,t[74]=Y,t[75]=X):X=t[75],t[76]!==K||t[77]!==X?(J=(0,bt.jsxs)(Fs.default,{style:G,children:[K,X]}),t[76]=K,t[77]=X,t[78]=J):J=t[78],t[79]!==L||t[80]!==W||t[81]!==J?(ee=(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_2xl,children:[L,W,J]}),t[79]=L,t[80]=W,t[81]=J,t[82]=ee):ee=t[82],ee}function DE(e){const t=(0,n.c)(35),{control:s,listBlocks:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c,d,u,m,h,p,f,g,x,_,y,b,j;return t[0]!==a?(i=a({id:"1053kv"}),t[0]=a,t[1]=i):i=t[1],t[2]!==i?(l=(0,bt.jsx)(Zi.TitleText,{children:i}),t[2]=i,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.gap_sm,qs.atoms.pb_lg],t[4]=c):c=t[4],t[5]!==r.atoms.text_contrast_high?(d=[qs.atoms.text_md,qs.atoms.leading_snug,r.atoms.text_contrast_high],t[5]=r.atoms.text_contrast_high,t[6]=d):d=t[6],t[7]!==a?(u=a({id:"7NUyow"}),t[7]=a,t[8]=u):u=t[8],t[9]!==d||t[10]!==u?(m=(0,bt.jsxs)(co.Text,{selectable:!0,style:d,children:[u," "]}),t[9]=d,t[10]=u,t[11]=m):m=t[11],t[12]!==r.atoms.text_contrast_high?(h=[qs.atoms.text_md,qs.atoms.leading_snug,r.atoms.text_contrast_high],t[12]=r.atoms.text_contrast_high,t[13]=h):h=t[13],t[14]!==a?(p=a({id:"HfP5SP"}),t[14]=a,t[15]=p):p=t[15],t[16]!==o?(f=o.map(ME),t[16]=o,t[17]=f):f=t[17],t[18]!==h||t[19]!==p||t[20]!==f?(g=(0,bt.jsxs)(co.Text,{style:h,children:[p," ",f]}),t[18]=h,t[19]=p,t[20]=f,t[21]=g):g=t[21],t[22]!==g||t[23]!==m?(x=(0,bt.jsxs)(Fs.default,{style:c,children:[m,g]}),t[22]=g,t[23]=m,t[24]=x):x=t[24],t[25]!==a?(_=a({id:"5ZRfjk"}),t[25]=a,t[26]=_):_=t[26],t[27]!==_?(y=(0,bt.jsx)(Zi.Actions,{children:(0,bt.jsx)(Zi.Action,{cta:_,onPress:OE})}),t[27]=_,t[28]=y):y=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(Qs.Close,{}),t[29]=b):b=t[29],t[30]!==s||t[31]!==x||t[32]!==y||t[33]!==l?(j=(0,bt.jsxs)(Zi.Outer,{control:s,testID:"blockedByListDialog",children:[l,x,y,b]}),t[30]=s,t[31]=x,t[32]=y,t[33]=l,t[34]=j):j=t[34],j}function OE(){}function ME(e,t){return"list"===e.source.type?(0,bt.jsxs)(lt.Fragment,{children:[0===t?null:", ",(0,bt.jsx)(io.InlineLinkText,{label:e.source.list.name,to:(0,zt.listUriToHref)(e.source.list.uri),style:[qs.atoms.text_md,qs.atoms.leading_snug],children:e.source.list.name})]},e.source.list.uri):null}function FE(e){const t=(0,n.c)(23),{control:s,convoId:o,currentScreen:a,hasMessages:i}=e,l=void 0===i||i,{_:c}=(0,dt.useLingui)(),d=(0,Ns.useNavigation)();let u,m,h;t[0]!==a||t[1]!==d?(u=()=>{"conversation"===a&&d.dispatch(Ns.StackActions.replace("Messages",r.IS_NATIVE?{animation:"pop"}:{}))},t[0]=a,t[1]=d,t[2]=u):u=t[2],t[3]!==c?(m=()=>{Ds.show(c({id:"HuPfYi"}),"xmark")},t[3]=c,t[4]=m):m=t[4],t[5]!==u||t[6]!==m?(h={onMutate:u,onError:m},t[5]=u,t[6]=m,t[7]=h):h=t[7];const{mutate:p}=(0,vE.useLeaveConvo)(o,h);let f,g,x,_,y;return t[8]!==c?(f=c({id:"KqSFMK"}),t[8]=c,t[9]=f):f=t[9],t[10]!==c||t[11]!==l?(g=c(l?{id:"Qt9Wua"}:{id:"FYoSw1"}),t[10]=c,t[11]=l,t[12]=g):g=t[12],t[13]!==c?(x=c({id:"Mv8CyJ"}),t[13]=c,t[14]=x):x=t[14],t[15]!==p?(_=()=>p(),t[15]=p,t[16]=_):_=t[16],t[17]!==s||t[18]!==f||t[19]!==g||t[20]!==x||t[21]!==_?(y=(0,bt.jsx)(Zi.Basic,{control:s,title:f,description:g,confirmButtonCta:x,confirmButtonColor:"negative",onConfirm:_}),t[17]=s,t[18]=f,t[19]=g,t[20]=x,t[21]=_,t[22]=y):y=t[22],y}function NE(e){const t=(0,n.c)(11),{control:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l;return t[0]!==o?(a=o({id:"a5ISwI"}),t[0]=o,t[1]=a):a=t[1],t[2]!==o?(r=o({id:"H9TXyE"}),t[2]=o,t[3]=r):r=t[3],t[4]!==o?(i=o({id:"5ZRfjk"}),t[4]=o,t[5]=i):i=t[5],t[6]!==s||t[7]!==a||t[8]!==r||t[9]!==i?(l=(0,bt.jsx)(Zi.Basic,{control:s,title:a,description:r,confirmButtonCta:i,onConfirm:HE,showCancel:!1}),t[6]=s,t[7]=a,t[8]=r,t[9]=i,t[10]=l):l=t[10],l}function HE(){}let VE=e=>{const t=(0,n.c)(34),{convo:s,profile:o,control:a,currentScreen:r,showMarkAsRead:i,hideTrigger:l,blockInfo:c,latestReportableMessage:d,style:u}=e,{_:m}=(0,dt.useLingui)(),h=Zi.usePromptControl(),p=Zi.usePromptControl(),f=Zi.usePromptControl(),g=Zi.usePromptControl(),{listBlocks:x}=c;let _,y,b,j,v,S,w;return t[0]!==m||t[1]!==l||t[2]!==u?(_=!l&&(0,bt.jsx)(Fs.default,{style:[u],children:(0,bt.jsx)(Kp.Trigger,{label:m({id:"t+yDOf"}),children:UE})}),t[0]=m,t[1]=l,t[2]=u,t[3]=_):_=t[3],t[4]!==c||t[5]!==f||t[6]!==s||t[7]!==h||t[8]!==o||t[9]!==p||t[10]!==i?(y=(0,bt.jsx)(Kp.Outer,{children:(0,bt.jsx)(zE,{profile:o,showMarkAsRead:i,blockInfo:c,convo:s,leaveConvoControl:h,reportControl:p,blockedByListControl:f})}),t[4]=c,t[5]=f,t[6]=s,t[7]=h,t[8]=o,t[9]=p,t[10]=i,t[11]=y):y=t[11],t[12]!==a||t[13]!==_||t[14]!==y?(b=(0,bt.jsxs)(Kp.Root,{control:a,children:[_,y]}),t[12]=a,t[13]=_,t[14]=y,t[15]=b):b=t[15],t[16]!==s.id||t[17]!==r||t[18]!==h?(j=(0,bt.jsx)(FE,{control:h,convoId:s.id,currentScreen:r}),t[16]=s.id,t[17]=r,t[18]=h,t[19]=j):j=t[19],t[20]!==g||t[21]!==s.id||t[22]!==r||t[23]!==d||t[24]!==p?(v=d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(If.ReportDialog,{subject:{view:"convo",convoId:s.id,message:d},control:p,onAfterSubmit:()=>{g.open()}}),(0,bt.jsx)(LE,{control:g,currentScreen:r,params:{convoId:s.id,message:d}})]}):(0,bt.jsx)(NE,{control:p}),t[20]=g,t[21]=s.id,t[22]=r,t[23]=d,t[24]=p,t[25]=v):v=t[25],t[26]!==f||t[27]!==x?(S=(0,bt.jsx)(DE,{control:f,listBlocks:x}),t[26]=f,t[27]=x,t[28]=S):S=t[28],t[29]!==b||t[30]!==j||t[31]!==v||t[32]!==S?(w=(0,bt.jsxs)(bt.Fragment,{children:[b,j,v,S]}),t[29]=b,t[30]=j,t[31]=v,t[32]=S,t[33]=w):w=t[33],w};function zE(e){const t=(0,n.c)(24),{convo:s,profile:o,showMarkAsRead:a,blockInfo:r,leaveConvoControl:i,reportControl:l,blockedByListControl:c}=e,d=(0,Ns.useNavigation)(),{_:u}=(0,dt.useLingui)(),{mutate:m}=Gf(),{listBlocks:h,userBlock:p}=r,f=p||!!h.length,g="missing.invalid"===o.handle,x=s.id,{data:_}=function(e){const t=(0,n.c)(9),s=(0,Gt.useAgent)();let o,a,r;return t[0]!==e.id?(o=Uf(e.id),t[0]=e.id,t[1]=o):o=t[1],t[2]!==s||t[3]!==e.id?(a=async()=>{const{data:t}=await s.chat.bsky.convo.getConvo({convoId:e.id},{headers:Vt.DM_SERVICE_HEADERS});return t.convo},t[2]=s,t[3]=e.id,t[4]=a):a=t[4],t[5]!==e||t[6]!==o||t[7]!==a?(r={queryKey:o,queryFn:a,initialData:e,staleTime:yt.STALE.INFINITY},t[5]=e,t[6]=o,t[7]=a,t[8]=r):r=t[8],(0,Zs.useQuery)(r)}(s);let y;t[0]!==d||t[1]!==o.did?(y=()=>{d.navigate("Profile",{name:o.did})},t[0]=d,t[1]=o.did,t[2]=y):y=t[2];const b=y;let j;t[3]!==u?(j={onSuccess:e=>{e.convo.muted?Ds.show(u({id:"gifrXC"})):Ds.show(u({id:"7/DXkx"}))},onError:()=>{Ds.show(u({id:"OpuNxN"}),"xmark")}},t[3]=u,t[4]=j):j=t[4];const{mutate:v}=function(e,t){const s=(0,n.c)(12),{onSuccess:o,onError:a}=t,r=(0,On.useQueryClient)(),i=(0,Gt.useAgent)();let l,c,d,u;return s[0]!==i||s[1]!==e?(l=async t=>{const{mute:s}=t;if(!e)throw new Error("No convoId provided");if(s){const{data:t}=await i.api.chat.bsky.convo.muteConvo({convoId:e},{headers:Vt.DM_SERVICE_HEADERS,encoding:"application/json"});return t}{const{data:t}=await i.api.chat.bsky.convo.unmuteConvo({convoId:e},{headers:Vt.DM_SERVICE_HEADERS,encoding:"application/json"});return t}},s[0]=i,s[1]=e,s[2]=l):l=s[2],s[3]!==o||s[4]!==r?(c=(e,t)=>{r.setQueryData(Uf(e.convo.id),(e=>{if(e)return Object.assign({},e,{muted:t.mute})})),r.setQueryData([ts.RQKEY_ROOT],(s=>{if(s?.pages)return Object.assign({},s,{pages:s.pages.map((s=>Object.assign({},s,{convos:s.convos.map((s=>s.id!==e.convo.id?s:Object.assign({},s,{muted:t.mute})))})))})})),o?.(e)},s[3]=o,s[4]=r,s[5]=c):c=s[5],s[6]!==a?(d=e=>{a?.(e)},s[6]=a,s[7]=d):d=s[7],s[8]!==l||s[9]!==c||s[10]!==d?(u={mutationFn:l,onSuccess:c,onError:d},s[8]=l,s[9]=c,s[10]=d,s[11]=u):u=s[11],(0,go.useMutation)(u)}(x,j),[S,w]=(0,Ut.useProfileBlockMutationQueue)(o);let T;t[5]!==c||t[6]!==h.length||t[7]!==S||t[8]!==w||t[9]!==p?(T=()=>{h.length?c.open():p?w():S()},t[5]=c,t[6]=h.length,t[7]=S,t[8]=w,t[9]=p,t[10]=T):T=t[10];const k=T;let C;return t[11]!==u||t[12]!==_?.muted||t[13]!==x||t[14]!==f||t[15]!==g||t[16]!==i||t[17]!==m||t[18]!==v||t[19]!==b||t[20]!==l||t[21]!==a||t[22]!==k?(C=g?(0,bt.jsxs)(Kp.Item,{label:u({id:"KqSFMK"}),onPress:()=>i.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"KqSFMK"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:xP})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Group,{children:[a&&(0,bt.jsxs)(Kp.Item,{label:u({id:"+s1J8k"}),onPress:()=>m({convoId:x}),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"+s1J8k"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:oi})]}),(0,bt.jsxs)(Kp.Item,{label:u({id:"csWkwx"}),onPress:b,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"u8CWR5"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:pc.Person_Stroke2_Corner0_Rounded})]}),(0,bt.jsxs)(Kp.Item,{label:u({id:"OiUYO5"}),onPress:()=>v({mute:!_?.muted}),children:[(0,bt.jsx)(Kp.ItemText,{children:_?.muted?(0,bt.jsx)(dt.Trans,{id:"i51zUR"}):(0,bt.jsx)(dt.Trans,{id:"OiUYO5"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:_?.muted?Eh:Ph.Mute_Stroke2_Corner0_Rounded})]})]}),(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{label:u(f?{id:"lRjoxo"}:{id:"ERffXY"}),onPress:k,children:[(0,bt.jsx)(Kp.ItemText,{children:u(f?{id:"lRjoxo"}:{id:"ERffXY"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:f?pc.PersonCheck_Stroke2_Corner0_Rounded:pc.PersonX_Stroke2_Corner0_Rounded})]}),(0,bt.jsxs)(Kp.Item,{label:u({id:"a5ISwI"}),onPress:()=>l.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"a5ISwI"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:j_})]})]}),(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{label:u({id:"KqSFMK"}),onPress:()=>i.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"KqSFMK"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:xP})]})})]}),t[11]=u,t[12]=_?.muted,t[13]=x,t[14]=f,t[15]=g,t[16]=i,t[17]=m,t[18]=v,t[19]=b,t[20]=l,t[21]=a,t[22]=k,t[23]=C):C=t[23],C}function UE(e){const{props:t}=e;return(0,bt.jsx)(ao.Button,Object.assign({label:t.accessibilityLabel},t,{onPress:()=>{Ws.default.dismiss(),t.onPress()},size:"small",color:"secondary",shape:"round",variant:"ghost",style:[qs.atoms.bg_transparent],children:(0,bt.jsx)(ao.ButtonIcon,{icon:Qp,size:"md"})}))}VE=lt.memo(VE);(0,ti.createSinglePathSVG)({path:"M4.702 8.943a7.307 7.307 0 0 1 14.596 0l.19 3.798 1.321 2.641A1.809 1.809 0 0 1 19.191 18H16.9a5.002 5.002 0 0 1-9.8 0H4.809a1.809 1.809 0 0 1-1.618-2.618l1.32-2.641.19-3.798ZM9.17 18a3.001 3.001 0 0 0 5.658 0H9.171ZM12 4a5.307 5.307 0 0 0-5.3 5.042l-.19 3.798a2 2 0 0 1-.21.795L5.119 16h13.764l-1.183-2.365a2 2 0 0 1-.208-.795l-.19-3.798A5.308 5.308 0 0 0 12 4Z"}),(0,ti.createSinglePathSVG)({path:"M12 2a7.307 7.307 0 0 0-7.298 6.943l-.19 3.798-1.321 2.641A1.809 1.809 0 0 0 4.809 18H7.1a5.002 5.002 0 0 0 9.8 0h2.291a1.809 1.809 0 0 0 1.618-2.618l-1.32-2.641-.19-3.798A7.308 7.308 0 0 0 12 2Zm0 18a3.001 3.001 0 0 1-2.83-2h5.66A3.001 3.001 0 0 1 12 20Z"}),(0,ti.createSinglePathSVG)({path:"M2.293 2.293a1 1 0 0 1 1.414 0l18 18a1 1 0 0 1-1.414 1.414L17.586 19h-.94c-.904 1.748-2.607 3-4.646 3-2.039 0-3.742-1.252-4.646-3H4a1 1 0 0 1-.991-1.132l1.207-9.053c.116-.87.372-1.69.743-2.442L2.293 3.707a1 1 0 0 1 0-1.414Zm4.19 5.604c-.134.376-.23.772-.285 1.183L5.142 17h10.444L6.483 7.897ZM9.778 19c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1H9.778ZM8.834 2.666a7.853 7.853 0 0 1 10.95 6.15l.645 4.832a1 1 0 0 1-1.983.265l-.644-4.833A5.853 5.853 0 0 0 9.64 4.495a1 1 0 0 1-.807-1.83Z"});const WE=(0,ti.createSinglePathSVG)({path:"m19.785 8.815 1.034 7.761L7.595 3.352a7.853 7.853 0 0 1 12.19 5.463ZM4 19h3.354c.904 1.748 2.607 3 4.646 3 2.038 0 3.742-1.252 4.646-3h.94l2.707 2.707a1 1 0 0 0 1.414-1.414l-18-18a1 1 0 0 0-1.414 1.414l2.666 2.666a7.842 7.842 0 0 0-.743 2.442l-1.207 9.053A1 1 0 0 0 4 19Zm8 1c-.823 0-1.613-.363-2.222-1h4.443c-.608.637-1.398 1-2.221 1Z"}),GE=(0,ti.createSinglePathSVG)({path:"M4 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6.386c1.064-.002 2 .86 2 2.001V19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6.613c0-1.142.936-2.003 2-2.001V4Zm2 6.946 6 2 6-2V4H6v6.946ZM9 8a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1Zm2.367 6.843L4 12.387V19h16v-6.613l-7.367 2.456a2 2 0 0 1-1.265 0Z"}),qE=(0,xI.createPortalGroup)();let QE=e=>{const t=(0,n.c)(11),{convo:s,showMenu:o,children:a}=e,r=void 0===o||o,{currentAccount:i}=(0,Gt.useSession)(),l=(0,ds.useModerationOpts)();let c;if(t[0]!==s.members||t[1]!==i?.did){let e;t[3]!==i?.did?(e=e=>e.did!==i?.did,t[3]=i?.did,t[4]=e):e=t[4],c=s.members.find(e),t[0]=s.members,t[1]=i?.did,t[2]=c}else c=t[2];const d=c;if(!d||!l)return null;let u;return t[5]!==a||t[6]!==s||t[7]!==l||t[8]!==d||t[9]!==r?(u=(0,bt.jsx)(KE,{convo:s,profile:d,moderationOpts:l,showMenu:r,children:a}),t[5]=a,t[6]=s,t[7]=l,t[8]=d,t[9]=r,t[10]=u):u=t[10],u};function KE({convo:e,profile:t,moderationOpts:s,showMenu:o,children:n}){const a=(0,Xo.useAnalytics)(),i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),{currentAccount:c}=(0,Gt.useSession)(),d=(0,Kp.useMenuControl)(),u=(0,Qs.useDialogControl)(),{gtMobile:m}=(0,qs.useBreakpoints)(),h=(0,Va.useProfileShadow)(t),{mutate:p}=Gf(),f=lt.useMemo((()=>(0,Dn.moderateProfile)(h,s)),[h,s]),g=(0,im.useHaptics)(),x=(0,On.useQueryClient)(),_=e.unreadCount>0,y=(0,Nu.useSimpleVerificationState)({profile:h}),b=(0,lt.useMemo)((()=>{const e=f.ui("profileView").alerts.filter((e=>"blocking"===e.type));return{listBlocks:e.filter((e=>"list"===e.source.type)),userBlock:e.find((e=>"user"===e.source.type))}}),[f]),j="missing.invalid"===h.handle,v=j?l({id:"XvivR7"}):(0,Ma.sanitizeDisplayName)(h.displayName||h.handle,f.ui("displayName")),S=e.muted||f.blocked||j,{lastMessage:w,lastMessageSentAt:T,latestReportableMessage:k}=(0,lt.useMemo)((()=>{let t,s=l({id:"+52YnJ"}),o=null;if(Dn.ChatBskyConvoDefs.isMessageView(e.lastMessage)){const n=e.lastMessage.sender?.did===c?.did;if(n||(t=e.lastMessage),e.lastMessage.text)s=n?l({id:"H6g73w",values:{0:e.lastMessage.text}}):e.lastMessage.text;else if(e.lastMessage.embed){const t=l({id:"VbgChC"});if(Dn.AppBskyEmbedRecord.isView(e.lastMessage.embed)){const o=e.lastMessage.embed;if(Dn.AppBskyEmbedRecord.isViewRecord(o.record)){const e=o.record,a=(0,zt.postUriToRelativePath)(e.uri,{handle:e.author.handle}),r=a?(0,zt.toBskyAppUrl)(a):void 0,i=r?(0,zt.toShortUrl)(r):t;s=n?l({id:"UvPs/N",values:{short:i}}):i}}else s=n?l({id:"8OmVU5",values:{defaultEmbeddedContentMessage:t}}):t}o=e.lastMessage.sentAt}if(Dn.ChatBskyConvoDefs.isDeletedMessageView(e.lastMessage)&&(o=e.lastMessage.sentAt,s=l(j?{id:"848Jpz"}:{id:"3BQoUQ"})),Dn.ChatBskyConvoDefs.isMessageAndReactionView(e.lastReaction)&&(!o||new Date(o)<new Date(e.lastReaction.reaction.createdAt))){const t=e.lastReaction.reaction.sender.did===c?.did,o=e.lastReaction.message.text,n=l({id:"rwz4vR"});if(t)s=l({id:"KoAr/Z",values:{0:e.lastReaction.reaction.value,1:o?`"${e.lastReaction.message.text}"`:n}});else{const t=e.lastReaction.reaction.sender.did,a=e.members.find((e=>e.did===t));s=l(a?{id:"feU+oN",values:{0:(0,Ma.sanitizeDisplayName)(a.displayName||a.handle),1:e.lastReaction.reaction.value,2:o?`"${e.lastReaction.message.text}"`:n}}:{id:"zrdOXB",values:{0:e.lastReaction.reaction.value,1:o?`"${e.lastReaction.message.text}"`:n}})}}return{lastMessage:s,lastMessageSentAt:o,latestReportableMessage:t}}),[l,e.lastMessage,e.lastReaction,c?.did,j,e.members]),[C,I]=(0,lt.useState)(!1),A=(0,lt.useCallback)((()=>{I(!0)}),[]),P=(0,lt.useCallback)((()=>{I(!1)}),[]),E=(0,lt.useCallback)((e=>{null!=e.nativeEvent.relatedTarget&&I(!0)}),[]),L=(0,lt.useCallback)((t=>{if((0,Ut.precacheProfile)(x,h),Wf(x,e),(0,nv.decrementBadgeCount)(e.unreadCount),j)return t.preventDefault(),d.open(),!1;a.metric("chat:open",{logContext:"ChatsList"})}),[a,j,d,x,h,e]),R=(0,lt.useCallback)((()=>{g(),d.open()}),[g,d]),B={threshold:120,color:i.palette.primary_500,icon:GE,action:()=>{p({convoId:e.id})}},D={threshold:225,color:i.palette.negative_500,icon:ml.Trash_Stroke2_Corner0_Rounded,action:()=>{u.open()}},O=_?{leftFirst:B,leftSecond:D}:{leftFirst:D},M=e.unreadCount>0&&!j;return(0,bt.jsx)(qE.Provider,{children:(0,bt.jsx)(EE,{actions:O,children:(0,bt.jsxs)(Fs.default,{onMouseEnter:A,onMouseLeave:P,onFocus:E,onBlur:P,style:[qs.atoms.relative,i.atoms.bg],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.z_10,qs.atoms.absolute,{top:HT.space.md,left:HT.space.lg}],children:(0,bt.jsx)(Gi.PreviewableUserAvatar,{profile:h,size:52,moderation:f.ui("avatar")})}),(0,bt.jsx)(io.Link,{to:`/messages/${e.id}`,label:v,accessibilityHint:l(j?{id:"qzsGk4"}:{id:"Ka0mCC",values:{0:h.handle}}),accessibilityActions:r.IS_NATIVE?[{name:"magicTap",label:l({id:"r5hPkG"})},{name:"longpress",label:l({id:"r5hPkG"})}]:void 0,onPress:L,onLongPress:r.IS_NATIVE?R:void 0,onAccessibilityAction:R,children:({hovered:t,pressed:s,focused:o})=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,j?qs.atoms.align_center:qs.atoms.align_start,qs.atoms.flex_1,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.gap_md,(t||s||o)&&i.atoms.bg_contrast_25],children:[(0,bt.jsx)(Fs.default,{style:{width:52,height:52}}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_center,(0,qs.web)({paddingRight:45})],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_end,qs.atoms.pb_2xs],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_shrink],children:(0,bt.jsx)(co.Text,{emoji:!0,numberOfLines:1,style:[qs.atoms.text_md,i.atoms.text,qs.atoms.font_semi_bold,{lineHeight:21},S&&i.atoms.text_contrast_medium],children:v})}),y.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_xs,qs.atoms.self_center],children:(0,bt.jsx)(Hu.VerificationCheck,{width:14,verifier:"verifier"===y.role})}),T&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_xs],children:(0,bt.jsx)(zu,{timestamp:T,children:({timeElapsed:e})=>(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_sm,{lineHeight:21},i.atoms.text_contrast_medium,(0,qs.web)({whiteSpace:"preserve nowrap"})],children:["\xb7 ",e]})})}),(e.muted||f.blocked)&&(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_sm,{lineHeight:21},i.atoms.text_contrast_medium,(0,qs.web)({whiteSpace:"preserve nowrap"})],children:[" ","\xb7"," ",(0,bt.jsx)(WE,{size:"xs",style:[i.atoms.text_contrast_medium]})]})]}),!j&&(0,bt.jsxs)(co.Text,{numberOfLines:1,style:[qs.atoms.text_sm,i.atoms.text_contrast_medium,qs.atoms.pb_xs],children:["@",h.handle]}),(0,bt.jsx)(co.Text,{emoji:!0,numberOfLines:2,style:[qs.atoms.text_sm,qs.atoms.leading_snug,M?qs.atoms.font_semi_bold:i.atoms.text_contrast_high,S&&i.atoms.text_contrast_medium],children:w}),(0,bt.jsx)(om,{modui:f.ui("contentList"),size:"lg",style:[qs.atoms.pt_xs]}),n]}),M&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,{backgroundColor:S?i.palette.contrast_200:i.palette.primary_500,height:7,width:7,top:15,right:12}]})]})}),(0,bt.jsx)(qE.Outlet,{}),o&&(0,bt.jsx)(VE,{convo:e,profile:h,control:d,currentScreen:"list",showMarkAsRead:e.unreadCount>0,hideTrigger:r.IS_NATIVE,blockInfo:b,style:[qs.atoms.absolute,qs.atoms.h_full,qs.atoms.self_end,qs.atoms.justify_center,{right:HT.space.lg,opacity:!m||C||d.isOpen?1:0}],latestReportableMessage:k}),(0,bt.jsx)(FE,{control:u,convoId:e.id,currentScreen:"list"})]})})})}function ZE(e){const t=(0,n.c)(24),{profiles:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)();let r,i,l,c,d,u,m,h,p,f,g,x,_;return t[0]!==o?(r=o({id:"rxzAgN"}),t[0]=o,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i={marginTop:-1*qs.atoms.border_t.borderTopWidth},t[2]=i):i=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l={minHeight:44},t[3]=l):l=t[3],t[4]!==a.atoms.border_contrast_low?(c=[qs.atoms.flex_1,qs.atoms.px_xl,qs.atoms.py_sm,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md,qs.atoms.border_t,i,qs.atoms.border_b,a.atoms.border_contrast_low,l,qs.atoms.rounded_0],t[4]=a.atoms.border_contrast_low,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.relative],u=(0,bt.jsx)(ao.ButtonIcon,{icon:bo.Envelope_Stroke2_Corner2_Rounded,size:"lg"}),t[6]=d,t[7]=u):(d=t[6],u=t[7]),t[8]!==s.length||t[9]!==a.palette?(m=s.length>0&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,qs.atoms.z_20,{top:-4,right:-5,width:10,height:10,backgroundColor:a.palette.primary_500}]}),t[8]=s.length,t[9]=a.palette,t[10]=m):m=t[10],t[11]!==m?(h=(0,bt.jsxs)(Fs.default,{style:d,children:[u,m]}),t[11]=m,t[12]=h):h=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,qs.atoms.font_semi_bold,qs.atoms.text_left],t[13]=p):p=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ao.ButtonText,{style:p,numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"ZjJ8vi"})}),t[14]=f):f=t[14],t[15]!==s||t[16]!==a.atoms.bg_contrast_25.backgroundColor?(g=(0,bt.jsx)(i_,{profiles:s,backgroundColor:a.atoms.bg_contrast_25.backgroundColor}),t[15]=s,t[16]=a.atoms.bg_contrast_25.backgroundColor,t[17]=g):g=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowRight_Stroke2_Corner0_Rounded,size:"lg"}),t[18]=x):x=t[18],t[19]!==r||t[20]!==g||t[21]!==c||t[22]!==h?(_=(0,bt.jsxs)(io.Link,{label:r,style:c,to:"/messages/inbox",color:"secondary",variant:"solid",children:[h,f,g,x]}),t[19]=r,t[20]=g,t[21]=c,t[22]=h,t[23]=_):_=t[23],_}function YE({item:e}){switch(e.type){case"INBOX":return(0,bt.jsx)(ZE,{profiles:e.profiles});case"CONVERSATION":return(0,bt.jsx)(QE,{convo:e.conversation})}}function $E(e){return"INBOX"===e.type?"INBOX":e.conversation.id}function XE(e){const t=(0,n.c)(14),{_:s}=(0,dt.useLingui)(),o=Mi();let a;t[0]!==s?(a=s({id:"8Q+lLG"}),t[0]=s,t[1]=a):a=t[1];const r=o.chatsInfoText;let i,l,c,d,u;return t[2]!==s?(i=s({id:"t+yDOf"}),t[2]=s,t[3]=i):i=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"t+yDOf"})}),t[4]=l):l=t[4],t[5]!==i?(c=(0,bt.jsx)(io.Link,{to:"/messages/settings",label:i,size:"small",color:"secondary",children:l}),t[5]=i,t[6]=c):c=t[6],t[7]!==e?(d=(0,bt.jsx)(JE,Object.assign({},e)),t[7]=e,t[8]=d):d=t[8],t[9]!==o.chatsInfoText||t[10]!==a||t[11]!==c||t[12]!==d?(u=(0,bt.jsx)(IE,{screenTitle:a,infoText:r,rightHeaderSlot:c,children:d}),t[9]=o.chatsInfoText,t[10]=a,t[11]=c,t[12]=d,t[13]=u):u=t[13],u}function JE({navigation:e,route:t}){const{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),{currentAccount:n}=(0,Gt.useSession)(),a=(0,Qs.useDialogControl)(),i=(0,yn.useAnimatedRef)(),l=t.params?.pushToConversation;(0,lt.useEffect)((()=>{l&&(e.navigate("MessagesConversation",{conversation:l}),e.setParams({pushToConversation:void 0}))}),[e,l]);const c=(0,es.useMessagesEventBus)(),d="active"===(0,$i.useAppState)();(0,Ns.useFocusEffect)((0,lt.useCallback)((()=>{if(d){const e=c.requestPollInterval(bE);return()=>e()}}),[c,d]));const u=$r({minItemHeight:80}),[m,h]=(0,lt.useState)(!1),{data:p,isLoading:f,isFetchingNextPage:g,hasNextPage:x,fetchNextPage:_,isError:y,error:b,refetch:j}=(0,ts.useListConvosQuery)({status:"accepted"}),{data:v,refetch:S}=(0,ts.useListConvosQuery)({status:"request"});PE(j),PE(S);const w=(0,vE.useLeftConvos)(),T=v?.pages.flatMap((e=>e.convos)).filter((e=>!w.includes(e.id)&&!e.muted&&e.members.every((e=>"missing.invalid"!==e.handle))))??[],k=T?.length>0,C=T.filter((e=>e.unreadCount>0)).map((e=>e.members.find((e=>e.did!==n?.did)))).filter((e=>!!e)),I=(0,lt.useMemo)((()=>{if(p?.pages){const e=p.pages.flatMap((e=>e.convos)).filter((e=>!w.includes(e.id)));return[...k?[{type:"INBOX",count:C.length,profiles:C.slice(0,3)}]:[],...e.map((e=>({type:"CONVERSATION",conversation:e})))]}return[]}),[p,w,k,C]),A=(0,lt.useCallback)((async()=>{h(!0);try{await Promise.all([j(),S()])}catch(e){Mt.logger.error("Failed to refresh conversations",{message:e})}h(!1)}),[j,S,h]),P=(0,lt.useCallback)((async()=>{if(!g&&x&&!y)try{await _()}catch(e){Mt.logger.error("Failed to load more conversations",{message:e})}}),[g,x,y,_]),E=(0,lt.useCallback)((t=>e.navigate("MessagesConversation",{conversation:t})),[e]),L=(0,lt.useCallback)((async()=>{i.current?.scrollToOffset({animated:r.IS_NATIVE,offset:0});try{await j()}catch(e){Mt.logger.error("Failed to refresh conversations",{message:e})}}),[i,j]),R=(0,Ns.useIsFocused)();(0,lt.useEffect)((()=>{if(R)return(0,_t.listenSoftReset)(L)}),[L,R]);return 0===I.filter((e=>"CONVERSATION"===e.type)).length?(0,bt.jsxs)(ya.Screen,{children:[(0,bt.jsx)(eL,{newChatControl:a}),(0,bt.jsxs)(ya.Center,{children:[!f&&k&&(0,bt.jsx)(ZE,{profiles:C}),f?(0,bt.jsx)(vi,{}):(0,bt.jsx)(bt.Fragment,{children:y?(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_3xl,qs.atoms.align_center],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{width:48,fill:o.atoms.text_contrast_low.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"wXgOPE"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.pb_xl,qs.atoms.text_center,qs.atoms.leading_snug,o.atoms.text_contrast_medium,{maxWidth:360}],children:(0,Tn.cleanError)(b)||s({id:"+kTLLA"})}),(0,bt.jsxs)(ao.Button,{label:s({id:"TAGkuP"}),size:"small",color:"secondary_inverted",variant:"solid",onPress:()=>j(),children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded,position:"right"})]})]})}):(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_3xl,qs.atoms.align_center],children:[(0,bt.jsx)(by,{width:48,fill:o.palette.primary_500}),(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"ntMyuO"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.pb_xl,qs.atoms.text_center,qs.atoms.leading_snug,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"GhFvIt"})})]})})})]}),!f&&!y&&(0,bt.jsx)(AE,{onNewChat:E,control:a})]}):(0,bt.jsxs)(ya.Screen,{testID:"messagesScreen",children:[(0,bt.jsx)(eL,{newChatControl:a}),(0,bt.jsx)(AE,{onNewChat:E,control:a}),(0,bt.jsx)(ei.List,{ref:i,data:I,renderItem:YE,keyExtractor:$E,refreshing:m,onRefresh:A,onEndReached:P,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:g,error:(0,Tn.cleanError)(b),onRetry:_,style:{borderColor:"transparent"},hasNextPage:x}),onEndReachedThreshold:r.IS_NATIVE?1.5:0,initialNumToRender:u,windowSize:11,desktopFixedHeight:!0,sideBorders:!1})]})}function eL(e){const t=(0,n.c)(17),{newChatControl:s}=e,{_:o}=(0,dt.useLingui)(),{gtMobile:a}=(0,qs.useBreakpoints)(),r=Uo();let i;t[0]!==s?(i=()=>{s.open()},t[0]=s,t[1]=i):i=t[1];const l=i;let c,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(dt.Trans,{id:"oYqWde"},"new-chat"),t[2]=c):c=t[2],t[3]!==l||t[4]!==r?(d=r(l,{instructions:[c]}),t[3]=l,t[4]=r,t[5]=d):d=t[5];const u=d;let m,h,p,f;t[6]!==o?(m=o({id:"t+yDOf"}),t[6]=o,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.justify_center],p=(0,bt.jsx)(ao.ButtonIcon,{icon:Tf,size:"lg"}),t[8]=h,t[9]=p):(h=t[8],p=t[9]),t[10]!==m?(f=(0,bt.jsx)(io.Link,{to:"/messages/settings",label:m,size:"small",variant:"ghost",color:"secondary",shape:"round",style:h,children:p}),t[10]=m,t[11]=f):f=t[11];const g=f;let x;return t[12]!==o||t[13]!==a||t[14]!==g||t[15]!==u?(x=(0,bt.jsx)(ya.Header.Outer,{children:a?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"8Q+lLG"})})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[g,(0,bt.jsxs)(ao.Button,{label:o({id:"hIQkLb"}),color:"primary",size:"small",variant:"solid",onPress:u,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded,position:"left"}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hIQkLb"})})]})]})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.MenuButton,{}),(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"8Q+lLG"})})}),(0,bt.jsx)(ya.Header.Slot,{children:g})]})}),t[12]=o,t[13]=a,t[14]=g,t[15]=u,t[16]=x):x=t[16],x}QE=lt.memo(QE);let tL=function(e){return e.Uninitialized="uninitialized",e.Initializing="initializing",e.Ready="ready",e.Error="error",e.Backgrounded="backgrounded",e.Suspended="suspended",e.Disabled="disabled",e}({}),sL=function(e){return e.FirehoseFailed="firehoseFailed",e.HistoryFailed="historyFailed",e}({}),oL=function(e){return e.InitFailed="initFailed",e}({}),nL=function(e){return e.Init="init",e.Ready="ready",e.Resume="resume",e.Background="background",e.Suspend="suspend",e.Error="error",e.Disable="disable",e}({});const aL=Mt.Logger.create(Mt.Logger.Context.ConversationAgent);function rL(e){return!!e&&("message"===e.type||"deleted-message"===e.type||"pending-message"===e.type)}class iL{status=tL.Uninitialized;oldestRev=void 0;isFetchingHistory=!1;latestRev=void 0;pastMessages=new Map;newMessages=new Map;pendingMessages=new Map;deletedMessages=new Set;isProcessingPendingMessages=!1;emitter=new Ys.default;constructor(e){this.id=(0,Nd.nanoid)(3),this.convoId=e.convoId,this.agent=e.agent,this.events=e.events,this.senderUserDid=e.agent.assertDid,e.placeholderData&&this.setupPlaceholderData(e.placeholderData),this.subscribe=this.subscribe.bind(this),this.getSnapshot=this.getSnapshot.bind(this),this.sendMessage=this.sendMessage.bind(this),this.deleteMessage=this.deleteMessage.bind(this),this.fetchMessageHistory=this.fetchMessageHistory.bind(this),this.ingestFirehose=this.ingestFirehose.bind(this),this.onFirehoseConnect=this.onFirehoseConnect.bind(this),this.onFirehoseError=this.onFirehoseError.bind(this),this.markConvoAccepted=this.markConvoAccepted.bind(this),this.addReaction=this.addReaction.bind(this),this.removeReaction=this.removeReaction.bind(this)}commit(){this.snapshot=void 0,this.subscribers.forEach((e=>e()))}subscribers=[];subscribe(e){return 0===this.subscribers.length&&this.init(),this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((t=>t!==e)),0===this.subscribers.length&&this.suspend()}}getSnapshot(){return this.snapshot||(this.snapshot=this.generateSnapshot()),this.snapshot}generateSnapshot(){switch(this.status){case tL.Initializing:return{status:tL.Initializing,items:[],convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:this.isFetchingHistory,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0};case tL.Disabled:case tL.Suspended:case tL.Backgrounded:case tL.Ready:return{status:this.status,items:this.getItems(),convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:this.isFetchingHistory,deleteMessage:this.deleteMessage,sendMessage:this.sendMessage,fetchMessageHistory:this.fetchMessageHistory,markConvoAccepted:this.markConvoAccepted,addReaction:this.addReaction,removeReaction:this.removeReaction};case tL.Error:return{status:tL.Error,items:[],convo:void 0,error:this.error,sender:void 0,recipients:void 0,isFetchingHistory:!1,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0};default:return{status:tL.Uninitialized,items:[],convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:!1,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0}}}dispatch(e){const t=this.status;switch(this.status){case tL.Uninitialized:if(e.event===nL.Init)this.status=tL.Initializing,this.setup(),this.setupFirehose(),this.requestPollInterval(yE);break;case tL.Initializing:switch(e.event){case nL.Ready:this.status=tL.Ready,this.fetchMessageHistory();break;case nL.Background:this.status=tL.Backgrounded,this.fetchMessageHistory(),this.requestPollInterval(6e4);break;case nL.Suspend:this.status=tL.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Error:this.status=tL.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Disable:this.status=tL.Disabled,this.fetchMessageHistory(),this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case tL.Ready:switch(e.event){case nL.Resume:this.refreshConvo(),this.requestPollInterval(yE);break;case nL.Background:this.status=tL.Backgrounded,this.requestPollInterval(6e4);break;case nL.Suspend:this.status=tL.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Error:this.status=tL.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Disable:this.status=tL.Disabled,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case tL.Backgrounded:switch(e.event){case nL.Resume:this.wasChatInactive()?this.reset():(this.convo?(this.status=tL.Ready,this.refreshConvo(),this.maybeRecoverFromNetworkError()):(this.status=tL.Initializing,this.setup()),this.requestPollInterval(yE));break;case nL.Suspend:this.status=tL.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Error:this.status=tL.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case nL.Disable:this.status=tL.Disabled,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case tL.Suspended:switch(e.event){case nL.Init:case nL.Resume:this.reset();break;case nL.Error:this.status=tL.Error,this.error=e.payload;break;case nL.Disable:this.status=tL.Disabled}break;case tL.Error:switch(e.event){case nL.Init:case nL.Resume:this.reset();break;case nL.Suspend:this.status=tL.Suspended;break;case nL.Error:this.status=tL.Error,this.error=e.payload;break;case nL.Disable:this.status=tL.Disabled}case tL.Disabled:}aL.debug(`dispatch '${e.event}'`,{id:this.id,prev:t,next:this.status}),this.updateLastActiveTimestamp(),this.commit()}reset(){this.convo=void 0,this.sender=void 0,this.recipients=void 0,this.snapshot=void 0,this.status=tL.Uninitialized,this.error=void 0,this.oldestRev=void 0,this.latestRev=void 0,this.pastMessages=new Map,this.newMessages=new Map,this.pendingMessages=new Map,this.deletedMessages=new Set,this.pendingMessageFailure=null,this.fetchMessageHistoryError=void 0,this.firehoseError=void 0,this.dispatch({event:nL.Init})}maybeRecoverFromNetworkError(){this.firehoseError?(this.firehoseError.retry(),this.firehoseError=void 0,this.commit()):this.batchRetryPendingMessages(),this.fetchMessageHistoryError&&(this.fetchMessageHistoryError.retry(),this.fetchMessageHistoryError=void 0,this.commit())}setupPlaceholderData(e){this.convo=e.convo,this.sender=e.convo.members.find((e=>e.did===this.senderUserDid)),this.recipients=e.convo.members.filter((e=>e.did!==this.senderUserDid))}async setup(){try{const{convo:e,sender:t,recipients:s}=await this.fetchConvo();if(this.convo=e,this.sender=t,this.recipients=s,!this.convo)throw new Error("could not find convo");if(!this.sender)throw new Error("could not find sender in convo");if(!this.recipients)throw new Error("could not find recipients in convo");Boolean(this.sender.chatDisabled)?this.dispatch({event:nL.Disable}):this.dispatch({event:nL.Ready})}catch(e){(0,Tn.isNetworkError)(e)||(0,Tn.isErrorMaybeAppPasswordPermissions)(e)||aL.error("setup failed",{safeMessage:e.message}),this.dispatch({event:nL.Error,payload:{exception:e,code:oL.InitFailed,retry:()=>{this.reset()}}}),this.commit()}}init(){this.dispatch({event:nL.Init})}resume(){this.dispatch({event:nL.Resume})}background(){this.dispatch({event:nL.Background})}suspend(){this.dispatch({event:nL.Suspend})}updateLastActiveTimestamp(){this.lastActiveTimestamp=Date.now()}wasChatInactive(){return!this.lastActiveTimestamp||Date.now()-this.lastActiveTimestamp>3e5}requestPollInterval(e){this.withdrawRequestedPollInterval(),this.requestedPollInterval=this.events.requestPollInterval(e)}withdrawRequestedPollInterval(){this.requestedPollInterval&&this.requestedPollInterval()}async fetchConvo(){return this.pendingFetchConvo||(this.pendingFetchConvo=new Promise((async(e,t)=>{try{const t=(await(0,$p.networkRetry)(2,(()=>this.agent.api.chat.bsky.convo.getConvo({convoId:this.convoId},{headers:Vt.DM_SERVICE_HEADERS})))).data.convo;e({convo:t,sender:t.members.find((e=>e.did===this.senderUserDid)),recipients:t.members.filter((e=>e.did!==this.senderUserDid))})}catch(s){t(s)}finally{this.pendingFetchConvo=void 0}}))),this.pendingFetchConvo}async refreshConvo(){try{const{convo:e,sender:t,recipients:s}=await this.fetchConvo();this.convo=e||this.convo,this.sender=t||this.sender,this.recipients=s||this.recipients}catch(e){(0,Tn.isNetworkError)(e)||(0,Tn.isErrorMaybeAppPasswordPermissions)(e)||aL.error("failed to refresh convo",{safeMessage:e.message})}}async fetchMessageHistory(){if(aL.debug("fetch message history",{}),null!==this.oldestRev&&!this.isFetchingHistory&&!this.fetchMessageHistoryError)try{this.isFetchingHistory=!0,this.commit();const e=this.oldestRev,t=await(0,$p.networkRetry)(2,(()=>this.agent.api.chat.bsky.convo.getMessages({cursor:e,convoId:this.convoId,limit:r.IS_NATIVE?30:60},{headers:Vt.DM_SERVICE_HEADERS}))),{cursor:s,messages:o}=t.data;this.oldestRev=s??null;for(const n of o)(Dn.ChatBskyConvoDefs.isMessageView(n)||Dn.ChatBskyConvoDefs.isDeletedMessageView(n))&&(this.newMessages.has(n.id)&&this.newMessages.delete(n.id),this.pastMessages.set(n.id,n))}catch(e){(0,Tn.isNetworkError)(e)||(0,Tn.isErrorMaybeAppPasswordPermissions)(e)||aL.error("failed to fetch message history",{safeMessage:e.message}),this.fetchMessageHistoryError={retry:()=>{this.fetchMessageHistory()}}}finally{this.isFetchingHistory=!1,this.commit()}}setupFirehose(){this.cleanupFirehoseConnection?.(),this.cleanupFirehoseConnection=this.events.on((e=>{switch(e.type){case"connect":this.onFirehoseConnect();break;case"error":this.onFirehoseError(e.error);break;case"logs":this.ingestFirehose(e.logs)}}),{convoId:this.convoId})}onFirehoseConnect(){this.firehoseError=void 0,this.batchRetryPendingMessages(),this.commit()}onFirehoseError(e){this.firehoseError=e,this.commit()}ingestFirehose(e){let t=!1;for(const s of e)if("rev"in s&&"string"===typeof s.rev){const e=!this.latestRev,o=this.latestRev&&s.rev>this.latestRev;void 0===this.oldestRev&&e&&(this.oldestRev=s.rev),(o||e)&&(this.latestRev=s.rev,Dn.ChatBskyConvoDefs.isLogCreateMessage(s)&&Dn.ChatBskyConvoDefs.isMessageView(s.message)?(this.newMessages.has(s.message.id)&&this.newMessages.delete(s.message.id),this.newMessages.set(s.message.id,s.message),t=!0):Dn.ChatBskyConvoDefs.isLogDeleteMessage(s)&&Dn.ChatBskyConvoDefs.isDeletedMessageView(s.message)?(this.pastMessages.has(s.message.id)||this.newMessages.has(s.message.id))&&(this.pastMessages.delete(s.message.id),this.newMessages.delete(s.message.id),this.deletedMessages.delete(s.message.id),t=!0):(Dn.ChatBskyConvoDefs.isLogAddReaction(s)||Dn.ChatBskyConvoDefs.isLogRemoveReaction(s))&&Dn.ChatBskyConvoDefs.isMessageView(s.message)&&(this.pastMessages.has(s.message.id)&&(this.pastMessages.set(s.message.id,s.message),t=!0),this.newMessages.has(s.message.id)&&(this.newMessages.set(s.message.id,s.message),t=!0)))}t&&this.commit()}pendingMessageFailure=null;sendMessage(e){if(!e.text.trim()&&!e.embed)return;aL.debug("send message",{});const t=(0,Nd.nanoid)();this.pendingMessageFailure=null,this.pendingMessages.set(t,{id:t,message:e}),"request"===this.convo?.status&&(this.convo=Object.assign({},this.convo,{status:"accepted"})),this.commit(),this.isProcessingPendingMessages||this.pendingMessageFailure||this.processPendingMessages()}markConvoAccepted(){this.convo&&(this.convo=Object.assign({},this.convo,{status:"accepted"})),this.commit()}async processPendingMessages(){aL.debug(`processing messages (${this.pendingMessages.size} remaining)`,{});const e=Array.from(this.pendingMessages.values()).shift();if(e)try{this.isProcessingPendingMessages=!0;const{id:t,message:s}=e,o=(await this.agent.api.chat.bsky.convo.sendMessage({convoId:this.convoId,message:s},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS})).data;this.pendingMessages.delete(t),this.newMessages.set(o.id,Object.assign({},o,{$type:"chat.bsky.convo.defs#messageView"})),this.commit(),await this.processPendingMessages()}catch(t){this.handleSendMessageFailure(t),this.isProcessingPendingMessages=!1}else this.isProcessingPendingMessages=!1}handleSendMessageFailure(e){if(e instanceof Ku.XRPCError)if(jE.includes(e.status))this.pendingMessageFailure="recoverable";else switch(this.pendingMessageFailure="unrecoverable",e.message){case"block between recipient and sender":this.emitter.emit("event",{type:"invalidate-block-state",accountDids:[this.sender.did,...this.recipients.map((e=>e.did))]});break;case"Account is disabled":this.dispatch({event:nL.Disable});break;case"Convo not found":case"Account does not exist":case"recipient does not exist":case"recipient requires incoming messages to come from someone they follow":case"recipient has disabled incoming messages":break;default:(0,Tn.isNetworkError)(e)||aL.warn("handleSendMessageFailure could not handle error",{status:e.status,message:e.message})}else this.pendingMessageFailure="unrecoverable",(0,Tn.isNetworkError)(e)||(0,Tn.isErrorMaybeAppPasswordPermissions)(e)||aL.error("handleSendMessageFailure received unknown error",{safeMessage:e.message});this.commit()}async batchRetryPendingMessages(){if(null===this.pendingMessageFailure)return;const e=Array.from(this.pendingMessages.values());if(0!==e.length){this.pendingMessageFailure=null,this.commit(),aL.debug(`batch retrying ${this.pendingMessages.size} pending messages`,{});try{const{data:t}=await this.agent.api.chat.bsky.convo.sendMessageBatch({items:e.map((({message:e})=>({convoId:this.convoId,message:e})))},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS}),{items:s}=t;for(const e of s)this.newMessages.set(e.id,Object.assign({},e,{$type:"chat.bsky.convo.defs#messageView"}));for(const o of e)this.pendingMessages.delete(o.id);this.commit(),aL.debug(`sent ${this.pendingMessages.size} pending messages`,{})}catch(t){this.handleSendMessageFailure(t)}}}async deleteMessage(e){aL.debug("delete message",{}),this.deletedMessages.add(e),this.commit();try{await(0,$p.networkRetry)(2,(()=>this.agent.api.chat.bsky.convo.deleteMessageForSelf({convoId:this.convoId,messageId:e},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS})))}catch(t){throw(0,Tn.isNetworkError)(t)||(0,Tn.isErrorMaybeAppPasswordPermissions)(t)||aL.error("failed to delete message",{safeMessage:t.message}),this.deletedMessages.delete(e),this.commit(),t}}on(e){return this.emitter.on("event",e),()=>{this.emitter.off("event",e)}}getItems(){const e=[];return this.pastMessages.forEach((t=>{Dn.ChatBskyConvoDefs.isMessageView(t)?e.unshift({type:"message",key:t.id,message:t,nextMessage:null,prevMessage:null}):Dn.ChatBskyConvoDefs.isDeletedMessageView(t)&&e.unshift({type:"deleted-message",key:t.id,message:t,nextMessage:null,prevMessage:null})})),this.fetchMessageHistoryError&&e.unshift({type:"error",code:sL.HistoryFailed,key:sL.HistoryFailed,retry:()=>{this.maybeRecoverFromNetworkError()}}),this.newMessages.forEach((t=>{Dn.ChatBskyConvoDefs.isMessageView(t)?e.push({type:"message",key:t.id,message:t,nextMessage:null,prevMessage:null}):Dn.ChatBskyConvoDefs.isDeletedMessageView(t)&&e.push({type:"deleted-message",key:t.id,message:t,nextMessage:null,prevMessage:null})})),this.pendingMessages.forEach((t=>{e.push({type:"pending-message",key:t.id,message:Object.assign({},t.message,{embed:void 0,$type:"chat.bsky.convo.defs#messageView",id:(0,Nd.nanoid)(),rev:"__fake__",sentAt:(new Date).toISOString(),sender:{$type:"chat.bsky.convo.defs#messageViewSender",did:this.sender.did}}),nextMessage:null,prevMessage:null,failed:null!==this.pendingMessageFailure,retry:"recoverable"===this.pendingMessageFailure?()=>{this.maybeRecoverFromNetworkError()}:void 0})})),this.firehoseError&&e.push({type:"error",code:sL.FirehoseFailed,key:sL.FirehoseFailed,retry:()=>{this.firehoseError?.retry()}}),e.filter((e=>!rL(e)||!this.deletedMessages.has(e.message.id))).map(((e,t,s)=>{let o=null,n=null;if(rL(e)){if(Dn.ChatBskyConvoDefs.isMessageView(e.message)||Dn.ChatBskyConvoDefs.isDeletedMessageView(e.message)){const e=s[t+1];rL(e)&&(Dn.ChatBskyConvoDefs.isMessageView(e.message)||Dn.ChatBskyConvoDefs.isDeletedMessageView(e.message))&&(o=e.message);const a=s[t-1];rL(a)&&(Dn.ChatBskyConvoDefs.isMessageView(a.message)||Dn.ChatBskyConvoDefs.isDeletedMessageView(a.message))&&(n=a.message)}return Object.assign({},e,{nextMessage:o,prevMessage:n})}return e}))}async addReaction(e,t){const s={value:t,sender:{did:this.senderUserDid},createdAt:(new Date).toISOString()};let o=null;if(this.pastMessages.has(e)){const n=this.pastMessages.get(e);if(Dn.ChatBskyConvoDefs.isMessageView(n)&&!n.reactions?.find((e=>e.sender.did===this.senderUserDid&&e.value===t))){if(n.reactions&&n.reactions.filter((e=>e.sender.did===this.senderUserDid)).length>=5)throw new Error("Maximum reactions reached");this.pastMessages.set(e,Object.assign({},n,{reactions:[...n.reactions??[],s]})),this.commit(),o=()=>{this.pastMessages.set(e,n),this.commit()}}}else if(this.newMessages.has(e)){const n=this.newMessages.get(e);if(Dn.ChatBskyConvoDefs.isMessageView(n)&&!n.reactions?.find((e=>e.value===t))){if(n.reactions&&n.reactions.length>=5)throw new Error("Maximum reactions reached");this.newMessages.set(e,Object.assign({},n,{reactions:[...n.reactions??[],s]})),this.commit(),o=()=>{this.newMessages.set(e,n),this.commit()}}}try{aL.debug(`Adding reaction ${t} to message ${e}`);const{data:s}=await this.agent.chat.bsky.convo.addReaction({messageId:e,value:t,convoId:this.convoId},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS});Dn.ChatBskyConvoDefs.isMessageView(s.message)&&(this.pastMessages.has(e)?(this.pastMessages.set(e,s.message),this.commit()):this.newMessages.has(e)&&(this.newMessages.set(e,s.message),this.commit()))}catch(n){throw o&&o(),n}}async removeReaction(e,t){let s=null;if(this.pastMessages.has(e)){const o=this.pastMessages.get(e);Dn.ChatBskyConvoDefs.isMessageView(o)&&(this.pastMessages.set(e,Object.assign({},o,{reactions:o.reactions?.filter((e=>e.value!==t||e.sender.did!==this.senderUserDid))})),this.commit(),s=()=>{this.pastMessages.set(e,o),this.commit()})}else if(this.newMessages.has(e)){const o=this.newMessages.get(e);Dn.ChatBskyConvoDefs.isMessageView(o)&&(this.newMessages.set(e,Object.assign({},o,{reactions:o.reactions?.filter((e=>e.value!==t||e.sender.did!==this.senderUserDid))})),this.commit(),s=()=>{this.newMessages.set(e,o),this.commit()})}try{aL.debug(`Removing reaction ${t} from message ${e}`),await this.agent.chat.bsky.convo.removeReaction({messageId:e,value:t,convoId:this.convoId},{encoding:"application/json",headers:Vt.DM_SERVICE_HEADERS})}catch(o){throw s&&s(),o}}}function lL(e){return e.status===tL.Ready||e.status===tL.Backgrounded||e.status===tL.Suspended||e.status===tL.Disabled}const cL=lt.createContext(null);function dL(){const e=(0,lt.useContext)(cL);if(!e)throw new Error("useConvo must be used within a ConvoProvider");return e}function uL(){const e=(0,lt.useContext)(cL);if(!e)throw new Error("useConvo must be used within a ConvoProvider");if(!lL(e))throw new Error("useConvoActive must only be rendered when the Convo is ready.");return e}function mL(e){const t=(0,n.c)(17),{children:s,convoId:o}=e,a=(0,On.useQueryClient)(),r=(0,Gt.useAgent)(),i=(0,es.useMessagesEventBus)();let l;t[0]!==r||t[1]!==o||t[2]!==i||t[3]!==a?(l=()=>{const e=a.getQueryData(Uf(o));return new iL({convoId:o,agent:r,events:i,placeholderData:e?{convo:e}:void 0})},t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=l):l=t[4];const[c]=(0,lt.useState)(l),d=(0,lt.useSyncExternalStore)(c.subscribe,c.getSnapshot),{mutate:u}=Gf(),m="active"===(0,$i.useAppState)();let h,p,f,g;return t[5]!==c||t[6]!==o||t[7]!==m||t[8]!==u?(h=()=>{if(m)return c.resume(),u({convoId:o}),()=>{c.background(),u({convoId:o})}},t[5]=c,t[6]=o,t[7]=m,t[8]=u,t[9]=h):h=t[9],(0,Ns.useFocusEffect)(h),t[10]!==c||t[11]!==a?(p=()=>c.on((e=>{if("invalidate-block-state"===e.type){for(const t of e.accountDids)a.invalidateQueries({queryKey:(0,Ut.RQKEY)(t)});a.invalidateQueries({queryKey:[ts.RQKEY_ROOT]})}})),f=[c,a],t[10]=c,t[11]=a,t[12]=p,t[13]=f):(p=t[12],f=t[13]),lt.useEffect(p,f),t[14]!==s||t[15]!==d?(g=(0,bt.jsx)(cL.Provider,{value:d,children:s}),t[14]=s,t[15]=d,t[16]=g):g=t[16],g}cL.displayName="ChatContext";var hL=s(98415),pL=s(15565),fL=s(12268);const gL=new Ys.default,xL=40,_L=435+xL,yL=450;function bL({state:e,close:t,pinToTop:o}){const{_:n}=(0,dt.useLingui)(),{height:a,width:r}=(0,Qr.default)(),i=lt.useRef(!1),l=lt.useMemo((()=>{if(o)return{top:e.pos.top-_L+xL-10,left:e.pos.left};const t=e.pos.top+_L<a,s=_L<e.pos.top,n=yL<e.pos.left,i=a/2-_L/2;return t?{top:e.pos.top+xL}:s?{bottom:a-e.pos.bottom+xL}:{top:i,left:n?e.pos.left-yL:void 0,right:n?void 0:r-e.pos.right-yL}}),[e.pos,a,r,o]);lt.useEffect((()=>{if(!e.isOpen)return;const t=e=>{"Shift"===e.key&&(i.current=!0)},s=e=>{"Shift"===e.key&&(i.current=!1)};return window.addEventListener("keydown",t,!0),window.addEventListener("keyup",s,!0),()=>{window.removeEventListener("keydown",t,!0),window.removeEventListener("keyup",s,!0)}}),[e.isOpen]);return e.isOpen?(0,bt.jsx)(xI.Portal,{children:(0,bt.jsxs)(un.FocusScope,{loop:!0,trapped:!0,onUnmountAutoFocus:t=>{const s=e.pos.nextFocusRef,o=s?.current;o&&(t.preventDefault(),o.focus())},children:[(0,bt.jsx)(ln.default,{accessible:!0,accessibilityLabel:n({id:"YZxXK8"}),accessibilityHint:n({id:"K0Qb3v"}),onPress:t,style:[qs.atoms.fixed,qs.atoms.inset_0]}),(0,bt.jsx)(Fs.default,{style:(0,qs.flatten)([qs.atoms.fixed,qs.atoms.w_full,qs.atoms.h_full,qs.atoms.align_center,qs.atoms.z_10,{top:0,left:0,right:0}]),children:(0,bt.jsx)(Fs.default,{style:[{position:"absolute"},l],children:(0,bt.jsx)(fL.DismissableLayer,{onFocusOutside:e=>e.preventDefault(),onDismiss:t,children:(0,bt.jsx)(pL.default,{data:async()=>(await s.e(792).then(s.t.bind(s,73792,19))).default,onEmojiSelect:e=>{gL.emit("emoji-inserted",e),i.current||t()},autoFocus:!0})})})}),(0,bt.jsx)(ln.default,{accessible:!0,accessibilityLabel:n({id:"YZxXK8"}),accessibilityHint:n({id:"K0Qb3v"}),onPress:t,style:[qs.atoms.fixed,qs.atoms.inset_0]})]})}):null}function jL(){const e=(0,n.c)(18),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.p_md],e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25?(o=[qs.atoms.align_start,qs.atoms.p_xl,qs.atoms.rounded_md,t.atoms.bg_contrast_25],e[1]=t.atoms.bg_contrast_25,e[2]=o):o=e[2],e[3]!==t.atoms.text_contrast_high?(a=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.pb_sm,t.atoms.text_contrast_high],e[3]=t.atoms.text_contrast_high,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(dt.Trans,{id:"cpgLIe"}),e[5]=r):r=e[5],e[6]!==a?(i=(0,bt.jsx)(co.Text,{style:a,children:r}),e[6]=a,e[7]=i):i=e[7],e[8]!==t.atoms.text_contrast_medium?(l=[qs.atoms.text_sm,qs.atoms.leading_snug,t.atoms.text_contrast_medium],e[8]=t.atoms.text_contrast_medium,e[9]=l):l=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(dt.Trans,{id:"M9NMWw"}),e[10]=c):c=e[10],e[11]!==l?(d=(0,bt.jsx)(co.Text,{style:l,children:c}),e[11]=l,e[12]=d):d=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(vL,{}),e[13]=u):u=e[13],e[14]!==o||e[15]!==i||e[16]!==d?(m=(0,bt.jsx)(Fs.default,{style:s,children:(0,bt.jsxs)(Fs.default,{style:o,children:[i,d,u]})}),e[14]=o,e[15]=i,e[16]=d,e[17]=m):m=e[17],m}function vL(){const e=(0,n.c)(17),t=Qs.useDialogControl(),{_:s}=(0,dt.useLingui)(),o=t.open;let a,r,i,l,c,d,u,m;return e[0]!==s?(a=s({id:"c0PCYD"}),e[0]=s,e[1]=a):a=e[1],e[2]!==s?(r=s({id:"c0PCYD"}),e[2]=s,e[3]=r):r=e[3],e[4]!==r?(i=(0,bt.jsx)(ao.ButtonText,{children:r}),e[4]=r,e[5]=i):i=e[5],e[6]!==t.open||e[7]!==a||e[8]!==i?(l=(0,bt.jsx)(ao.Button,{testID:"appealDisabledChatBtn",variant:"ghost",color:"secondary",size:"small",onPress:o,label:a,style:qs.atoms.mt_sm,children:i}),e[6]=t.open,e[7]=a,e[8]=i,e[9]=l):l=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Qs.Handle,{}),d=(0,bt.jsx)(SL,{}),e[10]=c,e[11]=d):(c=e[10],d=e[11]),e[12]!==t?(u=(0,bt.jsxs)(Qs.Outer,{control:t,children:[c,d]}),e[12]=t,e[13]=u):u=e[13],e[14]!==l||e[15]!==u?(m=(0,bt.jsxs)(bt.Fragment,{children:[l,u]}),e[14]=l,e[15]=u,e[16]=m):m=e[16],m}function SL(){const e=(0,n.c)(64),{_:t}=(0,dt.useLingui)(),s=Qs.useDialogContext(),[o,a]=(0,lt.useState)(""),{gtMobile:r}=(0,qs.useBreakpoints)(),i=(0,Gt.useAgent)(),{currentAccount:l}=(0,Gt.useSession)();let c,d,u,m;e[0]!==i||e[1]!==l||e[2]!==o?(c=async()=>{if(!l)throw new Error("No current account, should be unreachable");await i.createModerationReport({reasonType:Dn.ToolsOzoneReportDefs.REASONAPPEAL,subject:{$type:"com.atproto.admin.defs#repoRef",did:l.did},reason:o},{encoding:"application/json",headers:Vt.BLUESKY_MOD_SERVICE_HEADERS})},e[0]=i,e[1]=l,e[2]=o,e[3]=c):c=e[3],e[4]!==t?(d=e=>{Mt.logger.error("Failed to submit chat appeal",{message:e}),Ds.show(t({id:"weFIXk"}),"xmark")},e[4]=t,e[5]=d):d=e[5],e[6]!==t||e[7]!==s?(u=()=>{s.close(),Ds.show(t({id:"tk78Wd"}))},e[6]=t,e[7]=s,e[8]=u):u=e[8],e[9]!==c||e[10]!==d||e[11]!==u?(m={mutationFn:c,onError:d,onSuccess:u},e[9]=c,e[10]=d,e[11]=u,e[12]=m):m=e[12];const{mutate:h,isPending:p}=(0,go.useMutation)(m);let f;e[13]!==h?(f=()=>h(),e[13]=h,e[14]=f):f=e[14];const g=f;let x;e[15]!==s?(x=()=>s.close(),e[15]=s,e[16]=x):x=e[16];const _=x;let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F;return e[17]!==t?(y=t({id:"c0PCYD"}),e[17]=t,e[18]=y):y=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.pb_xs,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"c0PCYD"})}),e[19]=b):b=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"u7I+xA"})}),e[20]=j):j=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.my_md],e[21]=v):v=e[21],e[22]!==t?(S=t({id:"p8Iz39"}),e[22]=t,e[23]=S):S=e[23],e[24]!==t?(w=t({id:"o6X9DK"}),e[24]=t,e[25]=w):w=e[25],e[26]!==o||e[27]!==S||e[28]!==w?(T=(0,bt.jsx)(Fs.default,{style:v,children:(0,bt.jsx)(Qs.Input,{label:S,placeholder:w,value:o,onChangeText:a,autoFocus:!0,numberOfLines:3,multiline:!0,maxLength:300})}),e[26]=o,e[27]=S,e[28]=w,e[29]=T):T=e[29],e[30]!==r?(k=r?[qs.atoms.flex_row,qs.atoms.justify_between]:[{flexDirection:"column-reverse"},qs.atoms.gap_sm],e[30]=r,e[31]=k):k=e[31],e[32]!==t?(C=t({id:"iH8pgl"}),e[32]=t,e[33]=C):C=e[33],e[34]!==t?(I=t({id:"iH8pgl"}),e[34]=t,e[35]=I):I=e[35],e[36]!==I?(A=(0,bt.jsx)(ao.ButtonText,{children:I}),e[36]=I,e[37]=A):A=e[37],e[38]!==_||e[39]!==C||e[40]!==A?(P=(0,bt.jsx)(ao.Button,{testID:"backBtn",variant:"solid",color:"secondary",size:"large",onPress:_,label:C,children:A}),e[38]=_,e[39]=C,e[40]=A,e[41]=P):P=e[41],e[42]!==t?(E=t({id:"hQRttt"}),e[42]=t,e[43]=E):E=e[43],e[44]!==t?(L=t({id:"hQRttt"}),e[44]=t,e[45]=L):L=e[45],e[46]!==L?(R=(0,bt.jsx)(ao.ButtonText,{children:L}),e[46]=L,e[47]=R):R=e[47],e[48]!==p?(B=p&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),e[48]=p,e[49]=B):B=e[49],e[50]!==g||e[51]!==E||e[52]!==R||e[53]!==B?(D=(0,bt.jsxs)(ao.Button,{testID:"submitBtn",variant:"solid",color:"primary",size:"large",onPress:g,label:E,children:[R,B]}),e[50]=g,e[51]=E,e[52]=R,e[53]=B,e[54]=D):D=e[54],e[55]!==k||e[56]!==P||e[57]!==D?(O=(0,bt.jsxs)(Fs.default,{style:k,children:[P,D]}),e[55]=k,e[56]=P,e[57]=D,e[58]=O):O=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(Qs.Close,{}),e[59]=M):M=e[59],e[60]!==T||e[61]!==O||e[62]!==y?(F=(0,bt.jsxs)(Qs.ScrollableInner,{label:y,children:[b,j,T,O,M]}),e[60]=T,e[61]=O,e[62]=y,e[63]=F):F=e[63],F}var wL=s(21785),TL=s(30100);function kL(e){const t=(0,n.c)(56),{embedUri:s,setEmbed:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),{data:i,status:l}=(0,Sp.usePostQuery)(s),c=(0,ds.useModerationOpts)();let d;t[0]!==c||t[1]!==i?(d=c&&i?(0,Dn.moderatePost)(i,c):void 0,t[0]=c,t[1]=i,t[2]=d):d=t[2];const u=d;let m;e:{if(i&&qc.dangerousIsType(i.record,Dn.AppBskyFeedPost.isRecord)){let e,s;t[3]!==i.record.facets||t[4]!==i.record.text?(e=new Dn.RichText({text:i.record.text,facets:i.record.facets}),t[3]=i.record.facets,t[4]=i.record.text,t[5]=e):e=t[5],t[6]!==i.record||t[7]!==e?(s={rt:e,record:i.record},t[6]=i.record,t[7]=e,t[8]=s):s=t[8],m=s;break e}let e;t[9]===Symbol.for("react.memo_cache_sentinel")?(e={rt:void 0,record:void 0},t[9]=e):e=t[9],m=e}const{rt:h,record:p}=m;if(!s)return null;let f,g=null;e:switch(l){case"pending":{let e;t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,{minHeight:64},qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{})}),t[10]=e):e=t[10],g=e;break e}case"error":{let e;t[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,{minHeight:64},qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(co.Text,{style:qs.atoms.text_center,children:"Could not fetch post"})}),t[11]=e):e=t[11],g=e;break e}case"success":{let e;if(t[12]!==i.author||t[13]!==i.uri){const s=new Dn.AtUri(i.uri);e=(0,Oa.makeProfileLink)(i.author,"post",s.rkey),t[12]=i.author,t[13]=i.uri,t[14]=e}else e=t[14];const s=e;if(!i||!u||!h||!p)return null;let o,n,r,l,c,d,m,f,x;t[15]!==a.atoms.bg||t[16]!==a.atoms.border_contrast_low?(o=[qs.atoms.flex_1,a.atoms.bg,a.atoms.border_contrast_low,qs.atoms.rounded_md,qs.atoms.border,qs.atoms.p_sm,qs.atoms.mb_sm],t[15]=a.atoms.bg,t[16]=a.atoms.border_contrast_low,t[17]=o):o=t[17],t[18]!==s||t[19]!==u||t[20]!==i.author||t[21]!==i.indexedAt?(n=(0,bt.jsx)(Uu,{showAvatar:!0,author:i.author,moderation:u,timestamp:i.indexedAt,postHref:s,style:qs.atoms.flex_0}),t[18]=s,t[19]=u,t[20]=i.author,t[21]=i.indexedAt,t[22]=n):n=t[22],t[23]!==u?(r=u.ui("contentView"),t[23]=u,t[24]=r):r=t[24],t[25]!==u?(l=u.ui("contentView"),t[25]=u,t[26]=l):l=t[26],t[27]!==l?(c=(0,bt.jsx)(om,{modui:l,style:qs.atoms.py_xs}),t[27]=l,t[28]=c):c=t[28],t[29]!==i.author||t[30]!==h||t[31]!==a.atoms.text_contrast_high?(d=h.text&&(0,bt.jsx)(Fs.default,{style:qs.atoms.mt_xs,children:(0,bt.jsx)(Yi.RichText,{enableTags:!0,testID:"postText",value:h,style:[qs.atoms.text_sm,a.atoms.text_contrast_high],authorHandle:i.author.handle,numberOfLines:3})}),t[29]=i.author,t[30]=h,t[31]=a.atoms.text_contrast_high,t[32]=d):d=t[32],t[33]!==i.embed?(m=(0,bt.jsx)(Zb,{embed:i.embed,style:qs.atoms.mt_sm}),t[33]=i.embed,t[34]=m):m=t[34],t[35]!==m||t[36]!==r||t[37]!==c||t[38]!==d?(f=(0,bt.jsxs)(qu,{modui:r,children:[c,d,m]}),t[35]=m,t[36]=r,t[37]=c,t[38]=d,t[39]=f):f=t[39],t[40]!==f||t[41]!==o||t[42]!==n?(x=(0,bt.jsxs)(Fs.default,{style:o,pointerEvents:"none",children:[n,f]}),t[40]=f,t[41]=o,t[42]=n,t[43]=x):x=t[43],g=x}}t[44]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.flex_row,qs.atoms.gap_sm],t[44]=f):f=t[44];const x=g;let _,y,b,j,v;return t[45]!==r?(_=r({id:"R2M2CM"}),t[45]=r,t[46]=_):_=t[46],t[47]!==o?(y=()=>{qr.default.configureNext(qr.default.Presets.easeInEaseOut),o(void 0)},t[47]=o,t[48]=y):y=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded}),t[49]=b):b=t[49],t[50]!==_||t[51]!==y?(j=(0,bt.jsx)(ao.Button,{label:_,onPress:y,size:"tiny",variant:"solid",color:"secondary",shape:"round",children:b}),t[50]=_,t[51]=y,t[52]=j):j=t[52],t[53]!==g||t[54]!==j?(v=(0,bt.jsxs)(Fs.default,{style:f,children:[x,j]}),t[53]=g,t[54]=j,t[55]=v):v=t[55],v}function CL(e){const t=(0,n.c)(67),{onSendMessage:s,hasEmbed:o,setEmbed:a,children:i,openEmojiPicker:l}=e,{isMobile:c}=(0,jn.useWebMediaQueries)(),{_:d}=(0,dt.useLingui)(),u=(0,qs.useTheme)(),{getDraft:m,clearDraft:h}=function(){const e=(0,n.c)(9),{currentConvoId:t}=(0,Jt.useCurrentConvoId)(),{state:s,dispatch:o}=os();let a,r,i;return e[0]!==t||e[1]!==s?(a=()=>t&&s[t]||"",e[0]=t,e[1]=s,e[2]=a):a=e[2],e[3]!==t||e[4]!==o?(r=()=>{t&&o({type:"clear",convoId:t})},e[3]=t,e[4]=o,e[5]=r):r=e[5],e[6]!==a||e[7]!==r?(i={getDraft:a,clearDraft:r},e[6]=a,e[7]=r,e[8]=i):i=e[8],i}(),[p,f]=lt.useState(m),g=(0,mo.useSharedInputStyles)(),x=lt.useRef(!1),[_,y]=lt.useState(!1),[b,j]=lt.useState(!1),[v,S]=lt.useState(38),w=lt.useRef(null);let T;t[0]!==d||t[1]!==h||t[2]!==o||t[3]!==p||t[4]!==s||t[5]!==a?(T=()=>{(o||""!==p.trim())&&((0,TL.countGraphemes)(p)>Vt.MAX_DM_GRAPHEME_LENGTH?Ds.show(d({id:"m5rSvL"}),"xmark"):(h(),s(p),f(""),a(void 0)))},t[0]=d,t[1]=h,t[2]=o,t[3]=p,t[4]=s,t[5]=a,t[6]=T):T=t[6];const k=T;let C;t[7]!==k?(C=e=>{if(!x.current&&(!r.IS_WEB_SAFARI||"Enter"!==e.key||229!==e.keyCode)&&"Enter"===e.key){if(e.shiftKey)return;e.preventDefault(),k()}},t[7]=k,t[8]=C):C=t[8];const I=C;let A;t[9]===Symbol.for("react.memo_cache_sentinel")?(A=e=>{f(e.target.value)},t[9]=A):A=t[9];const P=A;let E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=e=>{if(!w.current)return;const t=w.current.selectionStart??0;w.current.focus(),(0,Bv.flushSync)((()=>{f((s=>s.slice(0,t)+e.native+s.slice(t)))})),w.current.selectionStart=t+e.native.length,w.current.selectionEnd=t+e.native.length},t[10]=E):E=t[10];const L=E;let R,B;t[11]===Symbol.for("react.memo_cache_sentinel")?(R=()=>(gL.addListener("emoji-inserted",L),()=>{gL.removeListener("emoji-inserted",L)}),B=[L],t[11]=R,t[12]=B):(R=t[11],B=t[12]),lt.useEffect(R,B),function(e){const{currentConvoId:t}=(0,Jt.useCurrentConvoId)(),{dispatch:s}=os(),o=(0,lt.useRef)(e);o.current=e,(0,lt.useEffect)((()=>()=>{t&&s({type:"set",convoId:t,draft:o.current})}),[t,s])}(p),function(e,t){const s=(0,n.c)(8);let o,a,r;if(s[0]!==e){const t=new Dn.RichText({text:e});t.detectFacetsWithoutResolution();for(const e of t.facets??[])for(const t of e.features)if(Dn.AppBskyRichtextFacet.isLink(t)&&(0,zt.isBskyPostUrl)(t.uri)){o=t.uri;break}s[0]=e,s[1]=o}else o=s[1];s[2]!==t||s[3]!==o?(a=()=>{o&&t(o)},s[2]=t,s[3]=o,s[4]=a):a=s[4],s[5]!==t||s[6]!==o?(r=[o,t],s[5]=t,s[6]=o,s[7]=r):r=s[7],(0,lt.useEffect)(a,r)}(p,a);const D=v+23;let O;t[13]!==D?(O={paddingRight:qs.atoms.p_sm.padding-2,paddingLeft:qs.atoms.p_sm.padding-2,borderWidth:1,borderRadius:23,borderColor:"transparent",height:D},t[13]=D,t[14]=O):O=t[14];const M=b&&g.chromeHover,F=_&&g.chromeFocus;let N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J;t[15]!==u.atoms.bg_contrast_25||t[16]!==F||t[17]!==O||t[18]!==M?(N=[qs.atoms.flex_row,u.atoms.bg_contrast_25,O,M,F],t[15]=u.atoms.bg_contrast_25,t[16]=F,t[17]=O,t[18]=M,t[19]=N):N=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(H=()=>j(!0),V=()=>j(!1),t[20]=H,t[21]=V):(H=t[20],V=t[21]),t[22]!==l?(z=e=>{e.currentTarget.measure(((e,t,s,o,n,a)=>{l?.({top:a,left:n,right:n,bottom:a,nextFocusRef:w})}))},t[22]=l,t[23]=z):z=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(U=[qs.atoms.rounded_full,qs.atoms.overflow_hidden,qs.atoms.align_center,qs.atoms.justify_center,{marginTop:5,height:30,width:30}],t[24]=U):U=t[24],t[25]!==d?(W=d({id:"yovQyJ"}),t[25]=d,t[26]=W):W=t[26],t[27]!==u.atoms.bg?(G=e=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.align_center,qs.atoms.justify_center,{backgroundColor:e.hovered||e.focused||e.pressed?u.atoms.bg.backgroundColor:void 0}],children:(0,bt.jsx)(vf.EmojiArc_Stroke2_Corner0_Rounded,{size:"lg"})}),t[27]=u.atoms.bg,t[28]=G):G=t[28],t[29]!==z||t[30]!==W||t[31]!==G?(q=(0,bt.jsx)(ao.Button,{onPress:z,style:U,label:W,children:G}),t[29]=z,t[30]=W,t[31]=G,t[32]=q):q=t[32],t[33]!==u.atoms.text?(Q=(0,qs.flatten)([qs.atoms.flex_1,qs.atoms.px_sm,qs.atoms.border_0,u.atoms.text,{paddingTop:10,backgroundColor:"transparent",resize:"none"}]),t[33]=u.atoms.text,t[34]=Q):Q=t[34],t[35]!==d?(K=d({id:"eWlz27"}),t[35]=d,t[36]=K):K=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(Z=()=>y(!0),Y=()=>y(!1),$=()=>{x.current=!0},X=()=>{x.current=!1},J=e=>S(e),t[37]=Z,t[38]=Y,t[39]=$,t[40]=X,t[41]=J):(Z=t[37],Y=t[38],$=t[39],X=t[40],J=t[41]);const ee=r.IS_WEB_TOUCH_DEVICE&&c?void 0:I;let te,se,oe,ne,ae,re,ie,le;return t[42]!==p||t[43]!==Q||t[44]!==K||t[45]!==ee?(te=(0,bt.jsx)(wL.default,{ref:w,style:Q,maxRows:12,placeholder:K,defaultValue:"",value:p,dirName:"ltr",autoFocus:!0,onFocus:Z,onBlur:Y,onCompositionStart:$,onCompositionEnd:X,onHeightChange:J,onChange:P,onKeyDown:ee}),t[42]=p,t[43]=Q,t[44]=K,t[45]=ee,t[46]=te):te=t[46],t[47]!==d?(se=d({id:"pi1oME"}),t[47]=d,t[48]=se):se=t[48],t[49]!==u.palette.primary_500?(oe=[qs.atoms.rounded_full,qs.atoms.align_center,qs.atoms.justify_center,{height:30,width:30,marginTop:5,backgroundColor:u.palette.primary_500}],t[49]=u.palette.primary_500,t[50]=oe):oe=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(ne=[qs.atoms.relative,{left:1}],t[51]=ne):ne=t[51],t[52]!==u.palette.white?(ae=(0,bt.jsx)(lg.PaperPlane_Stroke2_Corner0_Rounded,{fill:u.palette.white,style:ne}),t[52]=u.palette.white,t[53]=ae):ae=t[53],t[54]!==k||t[55]!==se||t[56]!==oe||t[57]!==ae?(re=(0,bt.jsx)(ln.default,{accessibilityRole:"button",accessibilityLabel:se,accessibilityHint:"",style:oe,onPress:k,children:ae}),t[54]=k,t[55]=se,t[56]=oe,t[57]=ae,t[58]=re):re=t[58],t[59]!==N||t[60]!==q||t[61]!==te||t[62]!==re?(ie=(0,bt.jsxs)(Fs.default,{style:N,onMouseEnter:H,onMouseLeave:V,children:[q,te,re]}),t[59]=N,t[60]=q,t[61]=te,t[62]=re,t[63]=ie):ie=t[63],t[64]!==i||t[65]!==ie?(le=(0,bt.jsxs)(Fs.default,{style:qs.atoms.p_sm,children:[i,ie]}),t[64]=i,t[65]=ie,t[66]=le):le=t[66],le}function IL(e){const t=(0,n.c)(40),{item:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m,h,p;t[0]!==a?(r=a({id:"7dWu6a"}),t[0]=a,t[1]=r):r=t[1],t[2]!==a?(i=a({id:"y5SzFZ"}),t[2]=a,t[3]=i):i=t[3],t[4]!==a?(l=a({id:"gcoiFh"}),t[4]=a,t[5]=l):l=t[5],t[6]!==r||t[7]!==i||t[8]!==l?(c={description:r,help:i,cta:l},t[6]=r,t[7]=i,t[8]=l,t[9]=c):c=t[9],t[10]!==a?(d=a({id:"BXCCgM"}),t[10]=a,t[11]=d):d=t[11],t[12]!==a?(u=a({id:"Mey1Kb"}),t[12]=a,t[13]=u):u=t[13],t[14]!==a?(m=a({id:"6gRgw8"}),t[14]=a,t[15]=m):m=t[15],t[16]!==d||t[17]!==u||t[18]!==m?(h={description:d,help:u,cta:m},t[16]=d,t[17]=u,t[18]=m,t[19]=h):h=t[19],t[20]!==c||t[21]!==h?(p={[sL.FirehoseFailed]:c,[sL.HistoryFailed]:h},t[20]=c,t[21]=h,t[22]=p):p=t[22];const{description:f,help:g,cta:x}=p[s.code];let _,y,b,j,v,S,w;return t[23]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.py_md,qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.justify_center],t[23]=_):_=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.gap_sm,{maxWidth:400}],t[24]=y):y=t[24],t[25]!==o.palette.negative_400?(b=(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm",fill:o.palette.negative_400}),t[25]=o.palette.negative_400,t[26]=b):b=t[26],t[27]!==o.atoms.text_contrast_medium?(j=[qs.atoms.leading_snug,o.atoms.text_contrast_medium],t[27]=o.atoms.text_contrast_medium,t[28]=j):j=t[28],t[29]!==x||t[30]!==g||t[31]!==s?(v=s.retry&&(0,bt.jsx)(io.InlineLinkText,{to:"#",label:g,onPress:e=>(e.preventDefault(),s.retry?.(),!1),children:x}),t[29]=x,t[30]=g,t[31]=s,t[32]=v):v=t[32],t[33]!==f||t[34]!==j||t[35]!==v?(S=(0,bt.jsxs)(co.Text,{style:j,children:[f," \xb7"," ",v]}),t[33]=f,t[34]=j,t[35]=v,t[36]=S):S=t[36],t[37]!==b||t[38]!==S?(w=(0,bt.jsx)(Fs.default,{style:_,children:(0,bt.jsxs)(Fs.default,{style:y,children:[b,S]})}),t[37]=b,t[38]=S,t[39]=w):w=t[39],w}const AL={code:"function ScaleAndFadeIn_ScaleAndFadeTs1(){const{withTiming}=this.__closure;const animations={opacity:withTiming(1),transform:[{scale:withTiming(1)}]};const initialValues={opacity:0,transform:[{scale:0.7}]};return{animations:animations,initialValues:initialValues};}"},PL=function(){const e=function(){return{animations:{opacity:(0,yn.withTiming)(1),transform:[{scale:(0,yn.withTiming)(1)}]},initialValues:{opacity:0,transform:[{scale:.7}]}}};return e.__closure={withTiming:yn.withTiming},e.__workletHash=0xbbc21774843,e.__initData=AL,e}(),EL={code:"function ScaleAndFadeOut_ScaleAndFadeTs2(){const{withTiming}=this.__closure;const animations={opacity:withTiming(0),transform:[{scale:withTiming(0.7)}]};const initialValues={opacity:1,transform:[{scale:1}]};return{animations:animations,initialValues:initialValues};}"},LL=function(){const e=function(){return{animations:{opacity:(0,yn.withTiming)(0),transform:[{scale:(0,yn.withTiming)(.7)}]},initialValues:{opacity:1,transform:[{scale:1}]}}};return e.__closure={withTiming:yn.withTiming},e.__workletHash=3037257615177,e.__initData=EL,e}(),RL={code:"function ShrinkAndPop_ShrinkAndPopTs1(){const{withDelay,withTiming,withSequence}=this.__closure;const animations={opacity:withDelay(125,withTiming(0,{duration:125})),transform:[{scale:withSequence(withTiming(0.7,{duration:75}),withTiming(1.1,{duration:150}))}]};const initialValues={opacity:1,transform:[{scale:1}]};return{animations:animations,initialValues:initialValues};}"},BL=function(){const e=function(){return{animations:{opacity:(0,yn.withDelay)(125,(0,yn.withTiming)(0,{duration:125})),transform:[{scale:(0,yn.withSequence)((0,yn.withTiming)(.7,{duration:75}),(0,yn.withTiming)(1.1,{duration:150}))}]},initialValues:{opacity:1,transform:[{scale:1}]}}};return e.__closure={withDelay:yn.withDelay,withTiming:yn.withTiming,withSequence:yn.withSequence},e.__workletHash=2025613361345,e.__initData=RL,e}(),DL=yn.default.createAnimatedComponent(ln.default);let OL=0;const ML={code:"function ChatEmptyPillTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function FL(){const e=(0,n.c)(42),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,im.useHaptics)(),[a,i]=lt.useState(OL),l=(0,yn.useSharedValue)(1);let c,d,u,m,h,p,f,g;e[0]!==s?(c=s({id:"z0lIxU"}),e[0]=s,e[1]=c):c=e[1],e[2]!==s?(d=s({id:"NKXbG5"}),e[2]=s,e[3]=d):d=e[3],e[4]!==s?(u=s({id:"kkqknh"}),e[4]=s,e[5]=u):u=e[5],e[6]!==s?(m=s({id:"4VGGIo"}),e[6]=s,e[7]=m):m=e[7],e[8]!==s?(h=s({id:"ToxyT7"}),e[8]=s,e[9]=h):h=e[9],e[10]!==s?(p=s({id:"jLGNDJ"}),e[10]=s,e[11]=p):p=e[11],e[12]!==s?(f=s({id:"sHJZj3"}),e[12]=s,e[13]=f):f=e[13],e[14]!==c||e[15]!==d||e[16]!==u||e[17]!==m||e[18]!==h||e[19]!==p||e[20]!==f?(g=[c,d,u,m,h,p,f],e[14]=c,e[15]=d,e[16]=u,e[17]=m,e[18]=h,e[19]=p,e[20]=f,e[21]=g):g=e[21];const x=g;let _;e[22]!==l?(_=()=>{r.IS_WEB||l.set(HL)},e[22]=l,e[23]=_):_=e[23];const y=_;let b;e[24]!==l?(b=()=>{r.IS_WEB||l.set(NL)},e[24]=l,e[25]=b):b=e[25];const j=b;let v;e[26]!==o||e[27]!==x.length?(v=()=>{(0,yn.runOnJS)(o)();let e=Math.floor(Math.random()*x.length);for(;e===OL;)e=Math.floor(Math.random()*x.length);i(e),OL=e},e[26]=o,e[27]=x.length,e[28]=v):v=e[28];const S=v,w=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:l.get()}]});return e.__closure={scale:l},e.__workletHash=7203604251e3,e.__initData=ML,e}());let T,k,C;e[29]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.absolute,qs.atoms.w_full,qs.atoms.z_10,qs.atoms.align_center,{top:-50}],e[29]=T):T=e[29],e[30]!==w||e[31]!==t.atoms.bg_contrast_25?(k=[qs.atoms.px_xl,qs.atoms.py_md,qs.atoms.rounded_full,t.atoms.bg_contrast_25,qs.atoms.align_center,w],e[30]=w,e[31]=t.atoms.bg_contrast_25,e[32]=k):k=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.font_semi_bold,qs.atoms.pointer_events_none],e[33]=C):C=e[33];const I=x[a];let A,P;return e[34]!==I?(A=(0,bt.jsx)(co.Text,{style:C,selectable:!1,children:I}),e[34]=I,e[35]=A):A=e[35],e[36]!==S||e[37]!==y||e[38]!==j||e[39]!==k||e[40]!==A?(P=(0,bt.jsx)(Fs.default,{style:T,children:(0,bt.jsx)(DL,{style:k,entering:PL,exiting:BL,onPress:S,onPressIn:y,onPressOut:j,children:A})}),e[36]=S,e[37]=y,e[38]=j,e[39]=k,e[40]=A,e[41]=P):P=e[41],P}function NL(){return(0,yn.withTiming)(1,{duration:100})}function HL(){return(0,yn.withTiming)(1.075,{duration:100})}function VL({children:e}){return e}function zL({}){return null}var UL=s(34914),WL=s(27767);let GL=!1;function qL(e){const t=(0,n.c)(11),{message:s,children:o,onEmojiSelect:a}=e;if(!o)throw new Error("EmojiReactionPicker requires the children prop on web");const{_:r}=(0,dt.useLingui)();let i,l,c,d;return t[0]!==r?(i=r({id:"MaDsRl"}),t[0]=r,t[1]=i):i=t[1],t[2]!==o||t[3]!==i?(l=(0,bt.jsx)(Kp.Trigger,{label:i,children:o}),t[2]=o,t[3]=i,t[4]=l):l=t[4],t[5]!==s||t[6]!==a?(c=(0,bt.jsx)(QL,{message:s,onEmojiSelect:a}),t[5]=s,t[6]=a,t[7]=c):c=t[7],t[8]!==l||t[9]!==c?(d=(0,bt.jsxs)(Kp.Root,{children:[l,c]}),t[8]=l,t[9]=c,t[10]=d):d=t[10],d}function QL(e){const t=(0,n.c)(8),{message:o,onEmojiSelect:a}=e,r=(0,qs.useTheme)(),{control:i}=Kp.useMenuContext(),{currentAccount:l}=(0,Gt.useSession)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={immediate:!0},t[0]=c):c=t[0],function({immediate:e}={}){const t=lt.useCallback((async()=>{if(!GL){GL=!0;try{const e=(await s.e(792).then(s.t.bind(s,73792,19))).default;(0,WL.init)({data:e})}catch(e){}}}),[]);e&&t()}(c);const[d,u]=(0,lt.useState)(!1),[m,h]=(0,lt.useState)(i.isOpen);let p;if(i.isOpen!==m&&(h(i.isOpen),i.isOpen||u(!1)),t[1]!==i||t[2]!==l?.did||t[3]!==d||t[4]!==o||t[5]!==a||t[6]!==r){const e=e=>{s(e.native)},s=e=>{i.close(),a(e)},n=Jf(o,l?.did);p=d?(0,bt.jsx)(UL.Portal,{children:(0,bt.jsx)(UL.Content,{sideOffset:5,collisionPadding:{left:5,right:5,bottom:5},children:(0,bt.jsx)("div",{onWheel:KL,children:(0,bt.jsx)(pL.default,{onEmojiSelect:e,autoFocus:!0})})})}):(0,bt.jsx)(Kp.Outer,{style:[qs.atoms.rounded_full],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_xs],children:[["\ud83d\udc4d","\ud83d\ude06","\u2764\ufe0f","\ud83d\udc40","\ud83d\ude22"].map((e=>{const t=function(e,t,s){return!!e.reactions&&!!e.reactions.find((e=>e.value===s&&e.sender.did===t))}(o,l?.did,e);return(0,bt.jsx)(UL.Item,{className:["EmojiReactionPicker__Pressable",t&&"__selected",n&&"__disabled"].filter(Boolean).join(" "),onSelect:()=>s(e),style:(0,qs.flatten)([qs.atoms.flex,qs.atoms.flex_col,qs.atoms.rounded_full,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.transition_transform,{width:34,height:34},t&&{backgroundColor:r.atoms.bg_contrast_100.backgroundColor}]),children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,{fontSize:28}],emoji:!0,children:e})},e)})),(0,bt.jsx)(UL.Item,{asChild:!0,className:"EmojiReactionPicker__PickerButton",children:(0,bt.jsx)(ln.default,{accessibilityRole:"button",role:"button",onPress:()=>u(!0),style:(0,qs.flatten)([qs.atoms.rounded_full,{height:34,width:34},qs.atoms.justify_center,qs.atoms.align_center]),children:(0,bt.jsx)(Qp,{size:"lg",style:r.atoms.text_contrast_medium})})})]})}),t[1]=i,t[2]=l?.did,t[3]=d,t[4]=o,t[5]=a,t[6]=r,t[7]=p}else p=t[7];return p}function KL(e){return e.stopPropagation()}let ZL=e=>{const t=(0,n.c)(105),{message:s,children:o}=e,{_:a}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)(),{currentAccount:l}=(0,Gt.useSession)(),c=uL(),d=(0,Zi.usePromptControl)(),u=(0,Zi.usePromptControl)(),m=(0,Zi.usePromptControl)(),h=(0,Bt.useLanguagePrefs)(),p=Da(),f=s.sender?.did===l?.did;let g;t[0]!==a||t[1]!==s.facets||t[2]!==s.text?(g=()=>{const e=Yp(new Dn.RichText({text:s.text,facets:s.facets}),!0);Zp.setStringAsync(e),Ds.show(a({id:"FxVG/l"}),"clipboard-check")},t[0]=a,t[1]=s.facets,t[2]=s.text,t[3]=g):g=t[3];const x=g;let _;t[4]!==i||t[5]!==h.primaryLanguage||t[6]!==s.text||t[7]!==p?(_=()=>{p(s.text,h.primaryLanguage),i.metric("translate",{sourceLanguages:[],targetLanguage:h.primaryLanguage,textLength:s.text.length})},t[4]=i,t[5]=h.primaryLanguage,t[6]=s.text,t[7]=p,t[8]=_):_=t[8];const y=_;let b;t[9]!==a||t[10]!==c||t[11]!==s.id?(b=()=>{qr.default.configureNext(qr.default.Presets.easeInEaseOut),c.deleteMessage(s.id).then((()=>Ds.show(a({id:"CVz5nt"})))).catch((()=>Ds.show(a({id:"DRNLR9"}))))},t[9]=a,t[10]=c,t[11]=s.id,t[12]=b):b=t[12];const j=b;let v;t[13]!==a||t[14]!==c||t[15]!==l?.did||t[16]!==s?(v=e=>{if(s.reactions?.find((t=>t.value===e&&t.sender.did===l?.did)))c.removeReaction(s.id,e).catch((()=>Ds.show(a({id:"gOTI56"}))));else{if(Jf(s,l?.did))return;c.addReaction(s.id,e).catch((()=>Ds.show(a({id:"GWyR0D"}),"xmark")))}},t[13]=a,t[14]=c,t[15]=l?.did,t[16]=s,t[17]=v):v=t[17],l?.did;const S=v;let w,T,k,C,I,A;if(t[18]!==a||t[19]!==c.convo.members||t[20]!==f||t[21]!==s||t[22]!==S){let e;t[28]!==s.sender?(e=e=>e.did===s.sender.did,t[28]=s.sender,t[29]=e):e=t[29];const o=c.convo.members.find(e);T=Kp.Root,t[30]!==f||t[31]!==s||t[32]!==S?(I=r.IS_NATIVE&&(0,bt.jsx)(zL,{align:f?"right":"left",children:(0,bt.jsx)(qL,{message:s,onEmojiSelect:S})}),t[30]=f,t[31]=s,t[32]=S,t[33]=I):I=t[33],w=Kp.Trigger,t[34]!==a?(k=a({id:"wejo0T"}),t[34]=a,t[35]=k):k=t[35],C=a({id:"zCVGdX",values:{0:o?.handle??"unknown",1:s.text}}),t[18]=a,t[19]=c.convo.members,t[20]=f,t[21]=s,t[22]=S,t[23]=w,t[24]=T,t[25]=k,t[26]=C,t[27]=I}else w=t[23],T=t[24],k=t[25],C=t[26],I=t[27];t[36]!==w||t[37]!==o||t[38]!==k||t[39]!==C?(A=(0,bt.jsx)(w,{label:k,contentLabel:C,children:o}),t[36]=w,t[37]=o,t[38]=k,t[39]=C,t[40]=A):A=t[40];const P=f?"right":"left";let E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y;return t[41]!==a||t[42]!==s.text.length||t[43]!==x||t[44]!==y?(E=s.text.length>0&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Item,{testID:"messageDropdownTranslateBtn",label:a({id:"pi8x/S"}),onPress:y,children:[(0,bt.jsx)(Kp.ItemText,{children:a({id:"pi8x/S"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:si,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{testID:"messageDropdownCopyBtn",label:a({id:"2JeDHF"}),onPress:x,children:[(0,bt.jsx)(Kp.ItemText,{children:a({id:"2JeDHF"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:jf,position:"right"})]}),(0,bt.jsx)(Kp.Divider,{})]}),t[41]=a,t[42]=s.text.length,t[43]=x,t[44]=y,t[45]=E):E=t[45],t[46]!==a?(L=a({id:"OncGWz"}),t[46]=a,t[47]=L):L=t[47],t[48]!==d?(R=()=>d.open(),t[48]=d,t[49]=R):R=t[49],t[50]!==a?(B=a({id:"JBC8PN"}),t[50]=a,t[51]=B):B=t[51],t[52]!==B?(D=(0,bt.jsx)(Kp.ItemText,{children:B}),t[52]=B,t[53]=D):D=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(Kp.ItemIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded,position:"right"}),t[54]=O):O=t[54],t[55]!==L||t[56]!==R||t[57]!==D?(M=(0,bt.jsxs)(Kp.Item,{testID:"messageDropdownDeleteBtn",label:L,onPress:R,children:[D,O]}),t[55]=L,t[56]=R,t[57]=D,t[58]=M):M=t[58],t[59]!==a||t[60]!==f||t[61]!==u?(F=!f&&(0,bt.jsxs)(Kp.Item,{testID:"messageDropdownReportBtn",label:a({id:"0lcpCZ"}),onPress:()=>u.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:a({id:"gjpdaf"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Cf.Warning_Stroke2_Corner0_Rounded,position:"right"})]}),t[59]=a,t[60]=f,t[61]=u,t[62]=F):F=t[62],t[63]!==E||t[64]!==M||t[65]!==F||t[66]!==P?(N=(0,bt.jsxs)(Kp.Outer,{align:P,children:[E,M,F]}),t[63]=E,t[64]=M,t[65]=F,t[66]=P,t[67]=N):N=t[67],t[68]!==T||t[69]!==N||t[70]!==I||t[71]!==A?(H=(0,bt.jsxs)(T,{children:[I,A,N]}),t[68]=T,t[69]=N,t[70]=I,t[71]=A,t[72]=H):H=t[72],t[73]!==c.convo.id||t[74]!==s?(V={view:"message",convoId:c.convo.id,message:s},t[73]=c.convo.id,t[74]=s,t[75]=V):V=t[75],t[76]!==m?(z=()=>{m.open()},t[76]=m,t[77]=z):z=t[77],t[78]!==u||t[79]!==V||t[80]!==z?(U=(0,bt.jsx)(If.ReportDialog,{control:u,subject:V,onAfterSubmit:z}),t[78]=u,t[79]=V,t[80]=z,t[81]=U):U=t[81],t[82]!==c.convo.id||t[83]!==s?(W={convoId:c.convo.id,message:s},t[82]=c.convo.id,t[83]=s,t[84]=W):W=t[84],t[85]!==m||t[86]!==W?(G=(0,bt.jsx)(LE,{control:m,currentScreen:"conversation",params:W}),t[85]=m,t[86]=W,t[87]=G):G=t[87],t[88]!==a?(q=a({id:"KDfTdX"}),t[88]=a,t[89]=q):q=t[89],t[90]!==a?(Q=a({id:"kz7gxP"}),t[90]=a,t[91]=Q):Q=t[91],t[92]!==a?(K=a({id:"cnGeoo"}),t[92]=a,t[93]=K):K=t[93],t[94]!==d||t[95]!==j||t[96]!==q||t[97]!==Q||t[98]!==K?(Z=(0,bt.jsx)(Zi.Basic,{control:d,title:q,description:Q,confirmButtonCta:K,confirmButtonColor:"negative",onConfirm:j}),t[94]=d,t[95]=j,t[96]=q,t[97]=Q,t[98]=K,t[99]=Z):Z=t[99],t[100]!==H||t[101]!==U||t[102]!==G||t[103]!==Z?(Y=(0,bt.jsxs)(bt.Fragment,{children:[H,U,G,Z]}),t[100]=H,t[101]=U,t[102]=G,t[103]=Z,t[104]=Y):Y=t[104],Y};function YL(e){const t=(0,n.c)(39),{message:s,isFromSelf:o,children:a}=e,r=(0,lt.useRef)(null),i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),c=uL(),{currentAccount:d}=(0,Gt.useSession)(),[u,m]=(0,lt.useState)(!1);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{m(!0)},t[0]=h):h=t[0];const p=h;let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{m(!1)},t[1]=f):f=t[1];const g=f;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=e=>{null!=e.nativeEvent.relatedTarget&&m(!0)},t[2]=x):x=t[2];const _=x;let y;t[3]!==l||t[4]!==c||t[5]!==d?.did||t[6]!==s?(y=e=>{if(s.reactions?.find((t=>t.value===e&&t.sender.did===d?.did)))c.removeReaction(s.id,e).catch((()=>Ds.show(l({id:"gOTI56"}))));else{if(Jf(s,d?.did))return;c.addReaction(s.id,e).catch((()=>Ds.show(l({id:"GWyR0D"}),"xmark")))}},t[3]=l,t[4]=c,t[5]=d?.did,t[6]=s,t[7]=y):y=t[7],d?.did;const b=y,j=o?qs.atoms.flex_row:qs.atoms.flex_row_reverse;let v,S,w,T,k,C,I,A;t[8]!==j?(v=[qs.atoms.flex_1,j],t[8]=j,t[9]=v):v=t[9],t[10]!==o?(S=[qs.atoms.justify_center,qs.atoms.flex_row,qs.atoms.align_center,o?[qs.atoms.mr_xs,{marginLeft:"auto"},qs.atoms.flex_row_reverse]:[qs.atoms.ml_xs,{marginRight:"auto"}]],t[10]=o,t[11]=S):S=t[11],t[12]!==u||t[13]!==i?(w=e=>{const{props:t,state:s,IS_NATIVE:o,control:n}=e;if(o)return null;const a=u||n.isOpen?1:0;return(0,bt.jsx)(ln.default,Object.assign({},t,{style:[{opacity:a},qs.atoms.p_xs,qs.atoms.rounded_full,(s.hovered||s.pressed)&&i.atoms.bg_contrast_25],children:(0,bt.jsx)(vf.EmojiSmile_Stroke2_Corner0_Rounded,{size:"md",style:i.atoms.text_contrast_medium})}))},t[12]=u,t[13]=i,t[14]=w):w=t[14],t[15]!==s||t[16]!==b||t[17]!==w?(T=(0,bt.jsx)(qL,{message:s,onEmojiSelect:b,children:w}),t[15]=s,t[16]=b,t[17]=w,t[18]=T):T=t[18],t[19]!==u||t[20]!==i?(k=e=>{const{props:t,state:s,IS_NATIVE:o,control:n}=e;if(o)return null;const a=u||n.isOpen?1:0;return(0,bt.jsx)(ln.default,Object.assign({},t,{style:[{opacity:a},qs.atoms.p_xs,qs.atoms.rounded_full,(s.hovered||s.pressed)&&i.atoms.bg_contrast_25],children:(0,bt.jsx)(Qp,{size:"md",style:i.atoms.text_contrast_medium})}))},t[19]=u,t[20]=i,t[21]=k):k=t[21],t[22]!==s||t[23]!==k?(C=(0,bt.jsx)(ZL,{message:s,children:k}),t[22]=s,t[23]=k,t[24]=C):C=t[24],t[25]!==C||t[26]!==S||t[27]!==T?(I=(0,bt.jsxs)(Fs.default,{style:S,children:[T,C]}),t[25]=C,t[26]=S,t[27]=T,t[28]=I):I=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(A={maxWidth:"80%"},t[29]=A):A=t[29];const P=o?qs.atoms.align_end:qs.atoms.align_start;let E,L,R;return t[30]!==P?(E=[A,P],t[30]=P,t[31]=E):E=t[31],t[32]!==a||t[33]!==E?(L=(0,bt.jsx)(Fs.default,{style:E,children:a}),t[32]=a,t[33]=E,t[34]=L):L=t[34],t[35]!==I||t[36]!==L||t[37]!==v?(R=(0,bt.jsxs)(Fs.default,{onMouseEnter:p,onMouseLeave:g,onFocus:_,onBlur:g,style:v,ref:r,children:[I,L]}),t[35]=I,t[36]=L,t[37]=v,t[38]=R):R=t[38],R}ZL=(0,lt.memo)(ZL);var $L=s(517);const XL=new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric"}),JL=new Intl.DateTimeFormat(void 0,{weekday:"long"}),eR=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"long",day:"numeric"}),tR=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"long",day:"numeric",year:"numeric"});let sR=e=>{const t=(0,n.c)(25),{date:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)();let r,i,l,c,d,u,m,h;if(t[0]!==o||t[1]!==s){let e;t[4]!==s?(e=XL.format(new Date(s)),t[4]=s,t[5]=e):e=t[5],i=e;const n=new Date(s),a=new Date,l=(0,$L.default)(a,1),c=(0,$L.default)(a,7);if(Xf(a)===Xf(n)){let e;t[6]!==o?(e=o({id:"ecUA8p"}),t[6]=o,t[7]=e):e=t[7],r=e}else if(Xf(l)===Xf(n)){let e;t[8]!==o?(e=o({id:"y/0uwd"}),t[8]=o,t[9]=e):e=t[9],r=e}else r=n<c?n.getFullYear()===a.getFullYear()?eR.format(n):tR.format(n):JL.format(n);t[0]=o,t[1]=s,t[2]=r,t[3]=i}else r=t[2],i=t[3];return t[10]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.w_full,qs.atoms.my_lg],t[10]=l):l=t[10],t[11]!==a.atoms.bg||t[12]!==a.atoms.text_contrast_medium?(c=[qs.atoms.text_xs,qs.atoms.text_center,a.atoms.bg,a.atoms.text_contrast_medium,qs.atoms.px_md],t[11]=a.atoms.bg,t[12]=a.atoms.text_contrast_medium,t[13]=c):c=t[13],t[14]!==r||t[15]!==i?(d={date:r,time:i},t[14]=r,t[15]=i,t[16]=d):d=t[16],t[17]!==a.atoms.text_contrast_medium?(u={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,a.atoms.text_contrast_medium,qs.atoms.font_semi_bold]})},t[17]=a.atoms.text_contrast_medium,t[18]=u):u=t[18],t[19]!==d||t[20]!==u?(m=(0,bt.jsx)(dt.Trans,{id:"qalL8H",values:d,components:u}),t[19]=d,t[20]=u,t[21]=m):m=t[21],t[22]!==c||t[23]!==m?(h=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsx)(co.Text,{style:c,children:m})}),t[22]=c,t[23]=m,t[24]=h):h=t[24],h};sR=lt.memo(sR);let oR=e=>{const t=(0,n.c)(12),{embed:s}=e,o=(0,qs.useTheme)(),a=(0,Qr.default)(),r=o.atoms.bg,i=Math.min(a.width,600)/1.4;let l,c,d,u,m,h;return t[0]!==i?(l=(0,qs.native)({flexBasis:0,width:i}),t[0]=i,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,qs.web)({width:"100%",minWidth:280,maxWidth:360}),t[2]=c):c=t[2],t[3]!==o.atoms.bg||t[4]!==l?(d=[qs.atoms.my_xs,r,qs.atoms.rounded_md,l,c],t[3]=o.atoms.bg,t[4]=l,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u={marginTop:-1*qs.tokens.space.sm},t[6]=u):u=t[6],t[7]!==s?(m=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(sp,{embed:s,allowNestedQuotes:!0,viewContext:Hm.Feed})}),t[7]=s,t[8]=m):m=t[8],t[9]!==d||t[10]!==m?(h=(0,bt.jsx)(mh,{children:(0,bt.jsx)(Fs.default,{style:d,children:m})}),t[9]=d,t[10]=m,t[11]=h):h=t[11],h};oR=lt.memo(oR);let nR=e=>{const t=(0,n.c)(50),{item:s}=e,o=(0,qs.useTheme)(),{currentAccount:a}=(0,Gt.useSession)(),{_:i}=(0,dt.useLingui)(),{convo:l}=uL(),{message:c,nextMessage:d,prevMessage:u}=s,m="pending-message"===s.type,h=c.sender?.did===a?.did;let p;t[0]!==d?(p=Dn.ChatBskyConvoDefs.isMessageView(d),t[0]=d,t[1]=p):p=t[1];const f=p,g=(f&&d.sender?.did===a?.did)===h;let x;e:{if(!u){x=!0;break e}const e=new Date(c.sentAt),t=new Date(u.sentAt);x=Xf(e)!==Xf(t)}const _=x;let y;e:{if(!d||!f){y=!0;break e}const e=new Date(c.sentAt),t=new Date(d.sentAt);y=Xf(e)!==Xf(t)}const b=y||!g;let j;if(m&&d)j=!1;else if(Dn.ChatBskyConvoDefs.isMessageView(d)){const e=new Date(c.sentAt);j=new Date(d.sentAt).getTime()-e.getTime()>3e5}else j=!0;const v=j,S=o.palette.primary_200;let w;t[2]!==c.facets||t[3]!==c.text?(w=new Dn.RichText({text:c.text,facets:c.facets}),t[2]=c.facets,t[3]=c.text,t[4]=w):w=t[4];const T=w;let k,C;t[5]!==i||t[6]!==l||t[7]!==a?.did||t[8]!==h||t[9]!==c.reactions||t[10]!==o.atoms?(k=c.reactions&&c.reactions.length>0&&(0,bt.jsx)(Fs.default,{style:[h?qs.atoms.align_end:qs.atoms.align_start,qs.atoms.px_sm,qs.atoms.pb_2xs],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_2xs,qs.atoms.py_xs,qs.atoms.px_xs,qs.atoms.justify_center,h?qs.atoms.justify_end:qs.atoms.justify_start,qs.atoms.flex_wrap,qs.atoms.pb_xs,o.atoms.bg_contrast_25,qs.atoms.border,o.atoms.border_contrast_low,qs.atoms.rounded_lg,o.atoms.shadow_sm,{transform:[{translateY:-11}]}],children:c.reactions.map(((e,t,s)=>{let o;if(e.sender.did===a?.did)o=i({id:"MVdxdj",values:{0:e.value}});else{const t=e.sender.did,s=l.members.find((e=>e.did===t));o=i(s?{id:"lgGy4I",values:{0:(0,Ma.sanitizeDisplayName)(s.displayName||s.handle),1:e.value}}:{id:"2RmYrM",values:{0:e.value}})}return(0,bt.jsx)(yn.default.View,{entering:(0,qs.native)(yn.ZoomIn.springify(200).delay(400)),exiting:s.length>1&&(0,qs.native)(yn.ZoomOut.delay(200)),layout:(0,qs.native)(yn.LinearTransition.delay(300)),style:[qs.atoms.p_2xs],accessible:!0,accessibilityLabel:o,accessibilityHint:i({id:"0y2AgQ"}),children:(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.text_sm],children:e.value})},e.sender.did+e.value)}))})}),t[5]=i,t[6]=l,t[7]=a?.did,t[8]=h,t[9]=c.reactions,t[10]=o.atoms,t[11]=k):k=t[11],t[12]!==k?(C=(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:k}),t[12]=k,t[13]=C):C=t[13];const I=C;let A;t[14]!==_||t[15]!==c.sentAt?(A=_&&(0,bt.jsx)(sR,{date:c.sentAt}),t[14]=_,t[15]=c.sentAt,t[16]=A):A=t[16];const P=h?qs.atoms.mr_md:qs.atoms.ml_md,E=f&&!g&&qs.atoms.mb_md;let L,R,B;t[17]!==E||t[18]!==P?(L=[P,E],t[17]=E,t[18]=P,t[19]=L):L=t[19],t[20]!==c.embed?(R=Dn.AppBskyEmbedRecord.isView(c.embed)&&(0,bt.jsx)(oR,{embed:c.embed}),t[20]=c.embed,t[21]=R):R=t[21],t[22]!==h||t[23]!==m||t[24]!==c.text||t[25]!==b||t[26]!==S||t[27]!==T||t[28]!==o.palette.contrast_50||t[29]!==o.palette.primary_500||t[30]!==o.palette.white?(B=T.text.length>0&&(0,bt.jsx)(Fs.default,{style:!(0,Tp.isOnlyEmoji)(c.text)&&[qs.atoms.py_sm,qs.atoms.my_2xs,qs.atoms.rounded_md,{paddingLeft:14,paddingRight:14,backgroundColor:h?m?S:o.palette.primary_500:o.palette.contrast_50,borderRadius:17},h?qs.atoms.self_end:qs.atoms.self_start,h?{borderBottomRightRadius:b?2:17}:{borderBottomLeftRadius:b?2:17}],children:(0,bt.jsx)(Yi.RichText,{value:T,style:[qs.atoms.text_md,h&&{color:o.palette.white}],interactiveStyle:qs.atoms.underline,enableTags:!0,emojiMultiplier:3,shouldProxyLinks:!0})}),t[22]=h,t[23]=m,t[24]=c.text,t[25]=b,t[26]=S,t[27]=T,t[28]=o.palette.contrast_50,t[29]=o.palette.primary_500,t[30]=o.palette.white,t[31]=B):B=t[31];const D=r.IS_NATIVE&&I;let O;t[32]!==h||t[33]!==c||t[34]!==R||t[35]!==B||t[36]!==D?(O=(0,bt.jsxs)(YL,{isFromSelf:h,message:c,children:[R,B,D]}),t[32]=h,t[33]=c,t[34]=R,t[35]=B,t[36]=D,t[37]=O):O=t[37];const M=!r.IS_NATIVE&&I;let F,N,H;return t[38]!==h||t[39]!==v||t[40]!==s?(F=v&&(0,bt.jsx)(aR,{item:s,style:h?qs.atoms.text_right:qs.atoms.text_left}),t[38]=h,t[39]=v,t[40]=s,t[41]=F):F=t[41],t[42]!==L||t[43]!==O||t[44]!==M||t[45]!==F?(N=(0,bt.jsxs)(Fs.default,{style:L,children:[O,M,F]}),t[42]=L,t[43]=O,t[44]=M,t[45]=F,t[46]=N):N=t[46],t[47]!==N||t[48]!==A?(H=(0,bt.jsxs)(bt.Fragment,{children:[A,N]}),t[47]=N,t[48]=A,t[49]=H):H=t[49],H};nR=lt.memo(nR);let aR=e=>{const t=(0,n.c)(24),{item:s,style:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),{message:i}=s;let l;t[0]!==s?(l=e=>{if("pending-message"===s.type&&s.retry)return e.preventDefault(),s.retry(),!1},t[0]=s,t[1]=l):l=t[1];const c=l;let d;t[2]!==r?(d=(e,t)=>{const s=new Date(t),o=new Date,n=e.date(s,{hour:"numeric",minute:"numeric"});return o.getTime()-s.getTime()<3e4?r({id:"cH5kXP"}):n},t[2]=r,t[3]=d):d=t[3];const u=d;let m,h,p,f,g;return t[4]!==o||t[5]!==a.atoms.text_contrast_medium?(m=[qs.atoms.text_xs,qs.atoms.mt_2xs,qs.atoms.mb_lg,a.atoms.text_contrast_medium,o],t[4]=o,t[5]=a.atoms.text_contrast_medium,t[6]=m):m=t[6],t[7]!==a.atoms.text_contrast_medium?(h=e=>{const{timeElapsed:t}=e;return(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,a.atoms.text_contrast_medium],children:t})},t[7]=a.atoms.text_contrast_medium,t[8]=h):h=t[8],t[9]!==i.sentAt||t[10]!==u||t[11]!==h?(p=(0,bt.jsx)(zu,{timestamp:i.sentAt,timeToString:u,children:h}),t[9]=i.sentAt,t[10]=u,t[11]=h,t[12]=p):p=t[12],t[13]!==r||t[14]!==c||t[15]!==s.failed||t[16]!==s.retry||t[17]!==s.type||t[18]!==a.palette?(f="pending-message"===s.type&&s.failed&&(0,bt.jsxs)(bt.Fragment,{children:[" ","\xb7"," ",(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,{color:a.palette.negative_400}],children:r({id:"lDjxmT"})}),s.retry&&(0,bt.jsxs)(bt.Fragment,{children:[" ","\xb7"," ",(0,bt.jsx)(io.InlineLinkText,{label:r({id:"rNLyNW"}),to:"#",onPress:c,style:[qs.atoms.text_xs],children:r({id:"6gRgw8"})})]})]}),t[13]=r,t[14]=c,t[15]=s.failed,t[16]=s.retry,t[17]=s.type,t[18]=a.palette,t[19]=f):f=t[19],t[20]!==m||t[21]!==p||t[22]!==f?(g=(0,bt.jsxs)(co.Text,{style:m,children:[p,f]}),t[20]=m,t[21]=p,t[22]=f,t[23]=g):g=t[23],g};aR=lt.memo(aR);const rR=yn.default.createAnimatedComponent(ln.default),iR={code:"function NewMessagesPillTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function lR(e){const t=(0,n.c)(23),{onPress:s}=e,o=(0,qs.useTheme)(),a=(0,im.useHaptics)(),{bottom:i}=(0,ct.useSafeAreaInsets)(),l=r.IS_IOS?42:r.IS_ANDROID?60:0,c=r.IS_WEB?0:i+l,d=(0,yn.useSharedValue)(1);let u;t[0]!==d?(u=()=>{r.IS_WEB||d.set(dR)},t[0]=d,t[1]=u):u=t[1];const m=u;let h;t[2]!==d?(h=()=>{r.IS_WEB||d.set(cR)},t[2]=d,t[3]=h):h=t[3];const p=h;let f;t[4]!==s||t[5]!==a?(f=()=>{(0,yn.runOnJS)(a)(),s?.()},t[4]=s,t[5]=a,t[6]=f):f=t[6];const g=f,x=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:d.get()}]});return e.__closure={scale:d},e.__workletHash=351654691735,e.__initData=iR,e}()),_=c+70;let y,b,j,v,S,w;return t[7]!==_?(y=[qs.atoms.absolute,qs.atoms.w_full,qs.atoms.z_10,qs.atoms.align_center,{bottom:_,pointerEvents:"box-none"}],t[7]=_,t[8]=y):y=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(b={width:160,alignItems:"center",shadowOpacity:.125,shadowRadius:12,shadowOffset:{width:0,height:5},pointerEvents:"box-only"},t[9]=b):b=t[9],t[10]!==x||t[11]!==o.atoms.bg_contrast_50||t[12]!==o.atoms.border_contrast_medium?(j=[qs.atoms.py_sm,qs.atoms.rounded_full,qs.atoms.shadow_sm,qs.atoms.border,o.atoms.bg_contrast_50,o.atoms.border_contrast_medium,b,x],t[10]=x,t[11]=o.atoms.bg_contrast_50,t[12]=o.atoms.border_contrast_medium,t[13]=j):j=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"nhncVG"})}),t[14]=v):v=t[14],t[15]!==g||t[16]!==m||t[17]!==p||t[18]!==j?(S=(0,bt.jsx)(rR,{style:j,entering:PL,exiting:LL,onPress:g,onPressIn:m,onPressOut:p,children:v}),t[15]=g,t[16]=m,t[17]=p,t[18]=j,t[19]=S):S=t[19],t[20]!==y||t[21]!==S?(w=(0,bt.jsx)(Fs.default,{style:y,children:S}),t[20]=y,t[21]=S,t[22]=w):w=t[22],w}function cR(){return(0,yn.withTiming)(1,{duration:100})}function dR(){return(0,yn.withTiming)(1.075,{duration:100})}const uR=["convo","profile","size","color","label","showDeleteConvo","currentScreen"],mR=["convo","size","color","label","currentScreen","onAcceptConvo"],hR=["convo","size","color","label","currentScreen"];function pR(e){const t=(0,n.c)(65);let s,o,a,r,i,l,c,d;if(t[0]!==e){var u=e;({convo:s,profile:r,size:c,color:d,label:a,showDeleteConvo:l,currentScreen:o}=u),i=(0,ta.default)(u,uR),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l,t[7]=c,t[8]=d}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6],c=t[7],d=t[8];const m=void 0===c?"tiny":c,h=void 0===d?"secondary":d,{_:p}=(0,dt.useLingui)(),f=(0,Va.useProfileShadow)(r),g=(0,Ns.useNavigation)();let x,_,y;t[9]!==o||t[10]!==g?(x=()=>{"conversation"===o&&g.dispatch(Ns.StackActions.pop())},t[9]=o,t[10]=g,t[11]=x):x=t[11],t[12]!==p?(_=()=>{Ds.show(p({id:"JwZyOx"}),"xmark")},t[12]=p,t[13]=_):_=t[13],t[14]!==x||t[15]!==_?(y={onMutate:x,onError:_},t[14]=x,t[15]=_,t[16]=y):y=t[16];const{mutate:b}=(0,vE.useLeaveConvo)(s.id,y),[j]=(0,Ut.useProfileBlockMutationQueue)(f);let v;t[17]!==p||t[18]!==b?(v=()=>{Ds.show(p({id:"LLnhat"}),"check"),b()},t[17]=p,t[18]=b,t[19]=v):v=t[19];const S=v;let w;t[20]!==p||t[21]!==b||t[22]!==j?(w=()=>{Ds.show(p({id:"ZJdD7R"}),"check"),j(),b()},t[20]=p,t[21]=b,t[22]=j,t[23]=w):w=t[23];const T=w,k=(0,Qs.useDialogControl)(),C=(0,Qs.useDialogControl)(),I=Dn.ChatBskyConvoDefs.isMessageView(s.lastMessage)?s.lastMessage:null;let A,P,E,L,R,B,D,O,M,F,N,H,V;return t[24]!==p?(A=p({id:"G1zqST"}),t[24]=p,t[25]=A):A=t[25],t[26]!==h||t[27]!==a||t[28]!==i||t[29]!==m?(P=e=>{const{props:t}=e;return(0,bt.jsx)(ao.Button,Object.assign({},t,i,{label:t.accessibilityLabel,style:[qs.atoms.flex_1],color:h,size:m,children:(0,bt.jsx)(ao.ButtonText,{children:a||(0,bt.jsx)(dt.Trans,{id:"1t/NnN"})})}))},t[26]=h,t[27]=a,t[28]=i,t[29]=m,t[30]=P):P=t[30],t[31]!==A||t[32]!==P?(E=(0,bt.jsx)(Kp.Trigger,{label:A,children:P}),t[31]=A,t[32]=P,t[33]=E):E=t[33],t[34]!==p||t[35]!==S||t[36]!==l?(L=l&&(0,bt.jsxs)(Kp.Item,{label:p({id:"2GCE3m"}),onPress:S,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"2GCE3m"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:b_.CircleX_Stroke2_Corner0_Rounded})]}),t[34]=p,t[35]=S,t[36]=l,t[37]=L):L=t[37],t[38]!==p?(R=p({id:"ERffXY"}),t[38]=p,t[39]=R):R=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ERffXY"})}),D=(0,bt.jsx)(Kp.ItemIcon,{icon:pc.PersonX_Stroke2_Corner0_Rounded}),t[40]=B,t[41]=D):(B=t[40],D=t[41]),t[42]!==T||t[43]!==R?(O=(0,bt.jsxs)(Kp.Item,{label:R,onPress:T,children:[B,D]}),t[42]=T,t[43]=R,t[44]=O):O=t[44],t[45]!==p||t[46]!==I||t[47]!==k?(M=I&&(0,bt.jsxs)(Kp.Item,{label:p({id:"a5ISwI"}),onPress:k.open,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"a5ISwI"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:j_})]}),t[45]=p,t[46]=I,t[47]=k,t[48]=M):M=t[48],t[49]!==L||t[50]!==O||t[51]!==M?(F=(0,bt.jsx)(Kp.Outer,{showCancel:!0,children:(0,bt.jsxs)(Kp.Group,{children:[L,O,M]})}),t[49]=L,t[50]=O,t[51]=M,t[52]=F):F=t[52],t[53]!==E||t[54]!==F?(N=(0,bt.jsxs)(Kp.Root,{children:[E,F]}),t[53]=E,t[54]=F,t[55]=N):N=t[55],t[56]!==C||t[57]!==s.id||t[58]!==o||t[59]!==I||t[60]!==k?(H=I&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(If.ReportDialog,{subject:{view:"convo",convoId:s.id,message:I},control:k,onAfterSubmit:()=>{C.open()}}),(0,bt.jsx)(LE,{control:C,currentScreen:o,params:{convoId:s.id,message:I}})]}),t[56]=C,t[57]=s.id,t[58]=o,t[59]=I,t[60]=k,t[61]=H):H=t[61],t[62]!==N||t[63]!==H?(V=(0,bt.jsxs)(bt.Fragment,{children:[N,H]}),t[62]=N,t[63]=H,t[64]=V):V=t[64],V}function fR(e){const t=(0,n.c)(36);let s,o,a,r,i,l,c;if(t[0]!==e){var d=e;({convo:s,size:l,color:c,label:a,currentScreen:o,onAcceptConvo:r}=d),i=(0,ta.default)(d,mR),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l,t[7]=c}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6],c=t[7];const u=void 0===l?"tiny":l,m=void 0===c?"secondary_inverted":c,{_:h}=(0,dt.useLingui)(),p=(0,On.useQueryClient)(),f=(0,Ns.useNavigation)(),{needsEmailVerification:g}=Kt(),x=Ho();let _,y,b;t[8]!==s||t[9]!==o||t[10]!==f||t[11]!==r||t[12]!==p?(_=()=>{r?.(),"list"===o&&(Wf(p,Object.assign({},s,{status:"accepted"})),f.navigate("MessagesConversation",{conversation:s.id,accept:!0}))},t[8]=s,t[9]=o,t[10]=f,t[11]=r,t[12]=p,t[13]=_):_=t[13],t[14]!==h?(y=()=>{Ds.show(h({id:"BdPa51"}),"xmark")},t[14]=h,t[15]=y):y=t[15],t[16]!==_||t[17]!==y?(b={onMutate:_,onError:y},t[16]=_,t[17]=y,t[18]=b):b=t[18];const{mutate:j,isPending:v}=function(e,t){const s=(0,n.c)(18),{onSuccess:o,onMutate:a,onError:r}=t,i=(0,On.useQueryClient)(),l=(0,Gt.useAgent)();let c,d,u,m,h;return s[0]!==l||s[1]!==e?(c=async()=>{const{data:t}=await l.chat.bsky.convo.acceptConvo({convoId:e},{headers:Vt.DM_SERVICE_HEADERS});return t},s[0]=l,s[1]=e,s[2]=c):c=s[2],s[3]!==e||s[4]!==a||s[5]!==i?(d=()=>{let t,s=[],o=[];return i.setQueryData((0,ts.RQKEY)("request"),(s=>s?(o=s.pages,Object.assign({},s,{pages:s.pages.map((s=>{const o=s.convos.find((t=>t.id===e));return o?(t=o,Object.assign({},s,{convos:s.convos.filter((t=>t.id!==e))})):s}))})):s)),i.setQueryData((0,ts.RQKEY)("accepted"),(e=>e?(s=e.pages,t?Object.assign({},e,{pages:[Object.assign({},e.pages[0],{convos:[Object.assign({},t,{status:"accepted"}),...e.pages[0].convos]}),...e.pages.slice(1)]}):e):e)),a?.(),{prevAcceptedPages:s,prevInboxPages:o}},s[3]=e,s[4]=a,s[5]=i,s[6]=d):d=s[6],s[7]!==o||s[8]!==i?(u=e=>{i.invalidateQueries({queryKey:[ts.RQKEY]}),o?.(e)},s[7]=o,s[8]=i,s[9]=u):u=s[9],s[10]!==r||s[11]!==i?(m=(e,t,s)=>{Mt.logger.error(e),i.setQueryData((0,ts.RQKEY)("accepted"),(e=>e?Object.assign({},e,{pages:s?.prevAcceptedPages||e.pages}):e)),i.setQueryData((0,ts.RQKEY)("request"),(e=>e?Object.assign({},e,{pages:s?.prevInboxPages||e.pages}):e)),i.invalidateQueries({queryKey:[ts.RQKEY_ROOT]}),r?.(e)},s[10]=r,s[11]=i,s[12]=m):m=s[12],s[13]!==c||s[14]!==d||s[15]!==u||s[16]!==m?(h={mutationFn:c,onMutate:d,onSuccess:u,onError:m},s[13]=c,s[14]=d,s[15]=u,s[16]=m,s[17]=h):h=s[17],(0,go.useMutation)(h)}(s.id,b);let S;t[19]!==j||t[20]!==x||t[21]!==g?(S=()=>{g?x.open({id:To.Verify,instructions:[(0,bt.jsx)(dt.Trans,{id:"Mp9N3x"},"request-btn")]}):j()},t[19]=j,t[20]=x,t[21]=g,t[22]=S):S=t[22];const w=S;let T,k,C;return t[23]!==h||t[24]!==a?(T=a||h({id:"kqD/pe"}),t[23]=h,t[24]=a,t[25]=T):T=t[25],t[26]!==v||t[27]!==a?(k=v?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}):(0,bt.jsx)(ao.ButtonText,{children:a||(0,bt.jsx)(dt.Trans,{id:"g3UF2V"})}),t[26]=v,t[27]=a,t[28]=k):k=t[28],t[29]!==m||t[30]!==w||t[31]!==i||t[32]!==u||t[33]!==T||t[34]!==k?(C=(0,bt.jsx)(ao.Button,Object.assign({},i,{label:T,size:u,color:m,style:qs.atoms.flex_1,onPress:w,children:k})),t[29]=m,t[30]=w,t[31]=i,t[32]=u,t[33]=T,t[34]=k,t[35]=C):C=t[35],C}function gR(e){const t=(0,n.c)(32);let s,o,a,r,i,l;if(t[0]!==e){var c=e;({convo:s,size:i,color:l,label:a,currentScreen:o}=c),r=(0,ta.default)(c,hR),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r,t[5]=i,t[6]=l}else s=t[1],o=t[2],a=t[3],r=t[4],i=t[5],l=t[6];const d=void 0===i?"tiny":i,u=void 0===l?"secondary":l,{_:m}=(0,dt.useLingui)(),h=(0,Ns.useNavigation)();let p,f,g;t[7]!==o||t[8]!==h?(p=()=>{"conversation"===o&&h.dispatch(Ns.StackActions.pop())},t[7]=o,t[8]=h,t[9]=p):p=t[9],t[10]!==m?(f=()=>{Ds.show(m({id:"JwZyOx"}),"xmark")},t[10]=m,t[11]=f):f=t[11],t[12]!==p||t[13]!==f?(g={onMutate:p,onError:f},t[12]=p,t[13]=f,t[14]=g):g=t[14];const{mutate:x}=(0,vE.useLeaveConvo)(s.id,g);let _;t[15]!==m||t[16]!==x?(_=()=>{Ds.show(m({id:"LLnhat"}),"check"),x()},t[15]=m,t[16]=x,t[17]=_):_=t[17];const y=_;let b,j,v,S;return t[18]!==m||t[19]!==a?(b=a||m({id:"YFpLoV"}),t[18]=m,t[19]=a,t[20]=b):b=t[20],t[21]!==a?(j=a||(0,bt.jsx)(dt.Trans,{id:"YFpLoV"}),t[21]=a,t[22]=j):j=t[22],t[23]!==j?(v=(0,bt.jsx)(ao.ButtonText,{children:j}),t[23]=j,t[24]=v):v=t[24],t[25]!==u||t[26]!==y||t[27]!==r||t[28]!==d||t[29]!==b||t[30]!==v?(S=(0,bt.jsx)(ao.Button,Object.assign({label:b,size:d,color:u,style:qs.atoms.flex_1,onPress:y},r,{children:v})),t[25]=u,t[26]=y,t[27]=r,t[28]=d,t[29]=b,t[30]=v,t[31]=S):S=t[31],S}function xR(e){const t=(0,n.c)(41),{convoState:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),r=(0,ds.useModerationOpts)(),{currentAccount:i}=(0,Gt.useSession)(),l=(0,Zi.usePromptControl)();let c;t[0]!==s?(c=()=>{s.markConvoAccepted()},t[0]=s,t[1]=c):c=t[1];const d=c;let u;if(t[2]!==s.recipients||t[3]!==i?.did){let e;t[5]!==i?.did?(e=e=>e.did!==i?.did,t[5]=i?.did,t[6]=e):e=t[6],u=s.recipients.find(e),t[2]=s.recipients,t[3]=i?.did,t[4]=u}else u=t[4];const m=u;if(!r)return null;let h,p;t[7]!==o.atoms.bg?(h=[o.atoms.bg,qs.atoms.p_lg,qs.atoms.gap_md,qs.atoms.align_center],t[7]=o.atoms.bg,t[8]=h):h=t[8],t[9]!==r||t[10]!==m?(p=m&&(0,bt.jsx)(vy.KnownFollowers,{profile:m,moderationOpts:r,showIfEmpty:!0}),t[9]=r,t[10]=m,t[11]=p):p=t[11];const f=m&&qs.atoms.pt_sm;let g,x,_,y,b,j,v,S,w;return t[12]!==f?(g=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.w_full,f],t[12]=f,t[13]=g):g=t[13],t[14]!==a||t[15]!==s.convo||t[16]!==m?(x=m&&(0,bt.jsx)(pR,{label:a({id:"1okU3r"}),convo:s.convo,profile:m,color:"negative_subtle",size:"small",currentScreen:"conversation"}),t[14]=a,t[15]=s.convo,t[16]=m,t[17]=x):x=t[17],t[18]!==a?(_=a({id:"cnGeoo"}),t[18]=a,t[19]=_):_=t[19],t[20]!==s.convo||t[21]!==l.open||t[22]!==_?(y=(0,bt.jsx)(gR,{label:_,convo:s.convo,color:"secondary",size:"small",currentScreen:"conversation",onPress:l.open}),t[20]=s.convo,t[21]=l.open,t[22]=_,t[23]=y):y=t[23],t[24]!==s.convo.id||t[25]!==l?(b=(0,bt.jsx)(FE,{convoId:s.convo.id,control:l,currentScreen:"conversation",hasMessages:!1}),t[24]=s.convo.id,t[25]=l,t[26]=b):b=t[26],t[27]!==b||t[28]!==g||t[29]!==x||t[30]!==y?(j=(0,bt.jsxs)(Fs.default,{style:g,children:[x,y,b]}),t[27]=b,t[28]=g,t[29]=x,t[30]=y,t[31]=j):j=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.w_full,qs.atoms.flex_row],t[32]=v):v=t[32],t[33]!==s.convo||t[34]!==d?(S=(0,bt.jsx)(Fs.default,{style:v,children:(0,bt.jsx)(fR,{onAcceptConvo:d,convo:s.convo,color:"primary_subtle",size:"small",currentScreen:"conversation"})}),t[33]=s.convo,t[34]=d,t[35]=S):S=t[35],t[36]!==j||t[37]!==S||t[38]!==h||t[39]!==p?(w=(0,bt.jsxs)(Fs.default,{style:h,children:[p,j,S]}),t[36]=j,t[37]=S,t[38]=h,t[39]=p,t[40]=w):w=t[40],w}function _R(e){const t=(0,n.c)(5),{isLoading:s}=e;let o,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={height:50,width:"100%",alignItems:"center",justifyContent:"center"},t[0]=o):o=t[0],t[1]!==s?(a=s&&(0,bt.jsx)(lo.Loader,{size:"xl"}),t[1]=s,t[2]=a):a=t[2],t[3]!==a?(r=(0,bt.jsx)(Fs.default,{style:o,children:a}),t[3]=a,t[4]=r):r=t[4],r}function yR({item:e}){return"message"===e.type||"pending-message"===e.type?(0,bt.jsx)(nR,{item:e}):"deleted-message"===e.type?(0,bt.jsx)(co.Text,{children:"Deleted message"}):"error"===e.type?(0,bt.jsx)(IL,{item:e}):null}function bR(e){return e.key}function jR(){}const vR={code:"function MessagesListTsx1(e){const{layoutHeight,isAtBottom,isAtTop,newMessagesPill,runOnJS,setNewMessagesPill}=this.__closure;layoutHeight.set(e.layoutMeasurement.height);const bottomOffset=e.contentOffset.y+e.layoutMeasurement.height;isAtBottom.set(e.contentSize.height-100<bottomOffset);isAtTop.set(e.contentOffset.y<=1);if(newMessagesPill.show&&(e.contentOffset.y>newMessagesPill.startContentOffset+200||isAtBottom.get())){runOnJS(setNewMessagesPill)({show:false,startContentOffset:0});}}"},SR={code:"function MessagesListTsx2(e_0){const{layoutScrollWithoutAnimation,keyboardHeight,keyboardIsOpening}=this.__closure;if(e_0.duration===0){layoutScrollWithoutAnimation.set(true);keyboardHeight.set(e_0.height);}else{keyboardIsOpening.set(true);}}"},wR={code:"function MessagesListTsx3(e_1){const{keyboardHeight,footerHeight,scrollTo,flatListRef}=this.__closure;keyboardHeight.set(e_1.height);if(e_1.height>footerHeight.get()){scrollTo(flatListRef,0,1e7,false);}}"},TR={code:"function MessagesListTsx4(e_2){const{keyboardHeight,footerHeight,scrollTo,flatListRef,keyboardIsOpening}=this.__closure;keyboardHeight.set(e_2.height);if(e_2.height>footerHeight.get()){scrollTo(flatListRef,0,1e7,false);}keyboardIsOpening.set(false);}"},kR={code:"function MessagesListTsx5(){const{keyboardHeight,footerHeight}=this.__closure;return{marginBottom:Math.max(keyboardHeight.get(),footerHeight.get())};}"},CR={code:"function MessagesListTsx6(){const{keyboardHeight,footerHeight}=this.__closure;return{transform:[{translateY:-Math.max(keyboardHeight.get(),footerHeight.get())}]};}"};function IR({hasScrolled:e,setHasScrolled:t,blocked:s,footer:o,hasAcceptOverride:a}){const i=uL(),l=(0,Gt.useAgent)(),c=(0,Sp.useGetPost)(),{embedUri:d,setEmbed:u}=function(){const e=(0,n.c)(6),t=(0,Ns.useRoute)(),s=(0,Ns.useNavigation)(),o=t.params.embed,[a,r]=(0,lt.useState)(o);let i;o&&a!==o&&r(o),e[0]!==o||e[1]!==s?(i=e=>{if(!e)return s.setParams({embed:""}),void r(void 0);if(o)return;const t=(0,zt.convertBskyAppUrlIfNeeded)(e),[,n,,a]=t.split("/").filter(Boolean),i=(0,zt.makeRecordUri)(n,"app.bsky.feed.post",a);r(i)},e[0]=o,e[1]=s,e[2]=i):i=e[2];const l=i;let c;return e[3]!==a||e[4]!==l?(c={embedUri:a,setEmbed:l},e[3]=a,e[4]=l,e[5]=c):c=e[5],c}();nw();const m=(0,yn.useAnimatedRef)(),[h,p]=(0,lt.useState)({show:!1,startContentOffset:0}),[f,g]=(0,lt.useState)({isOpen:!1,pos:{top:0,left:0,right:0,bottom:0,nextFocusRef:null}}),x=(0,yn.useSharedValue)(!0),_=(0,yn.useSharedValue)(!0),y=(0,lt.useRef)(0),b=(0,lt.useRef)(0),j=(0,yn.useSharedValue)(0),v=(0,lt.useRef)(!1);(0,lt.useEffect)((()=>{i.status===tL.Backgrounded&&(v.current=!0)}),[i.status]);const S=(0,lt.useCallback)(((s,o)=>{r.IS_WEB&&_.get()&&e&&m.current?.scrollToOffset({offset:o-y.current,animated:!1}),o>50&&x.get()&&(v.current&&e&&o-y.current>j.get()-50&&i.items.length-b.current>1?(m.current?.scrollToOffset({offset:y.current-65,animated:!0}),p({show:!0,startContentOffset:y.current-65})):(m.current?.scrollToOffset({offset:o,animated:e&&o>y.current}),e||i.isFetchingHistory||setTimeout((()=>{t(!0)}),100))),y.current=o,b.current=i.items.length,v.current=!1}),[e,t,i.isFetchingHistory,i.items.length,m,_,x,j]),w=(0,lt.useCallback)((()=>{e&&y.current>j.get()&&i.fetchMessageHistory()}),[i,e,j]),T=(0,lt.useCallback)(function(){const e=function(e){j.set(e.layoutMeasurement.height);const t=e.contentOffset.y+e.layoutMeasurement.height;x.set(e.contentSize.height-100<t),_.set(e.contentOffset.y<=1),h.show&&(e.contentOffset.y>h.startContentOffset+200||x.get())&&(0,yn.runOnJS)(p)({show:!1,startContentOffset:0})};return e.__closure={layoutHeight:j,isAtBottom:x,isAtTop:_,newMessagesPill:h,runOnJS:yn.runOnJS,setNewMessagesPill:p},e.__workletHash=4331343289557,e.__initData=vR,e}(),[j,h,x,_]),{footerHeight:k}=(0,Ej.useShellLayout)(),C=(0,yn.useSharedValue)(0),I=(0,yn.useSharedValue)(!1),A=(0,yn.useSharedValue)(!1);(0,hL.useKeyboardHandler)({onStart:function(){const e=function(e){0===e.duration?(A.set(!0),C.set(e.height)):I.set(!0)};return e.__closure={layoutScrollWithoutAnimation:A,keyboardHeight:C,keyboardIsOpening:I},e.__workletHash=0xbff0e0a4768,e.__initData=SR,e}(),onMove:function(){const e=function(e){C.set(e.height),e.height>k.get()&&(0,yn.scrollTo)(m,0,1e7,!1)};return e.__closure={keyboardHeight:C,footerHeight:k,scrollTo:yn.scrollTo,flatListRef:m},e.__workletHash=0x9c9a7bdb72e,e.__initData=wR,e}(),onEnd:function(){const e=function(e){C.set(e.height),e.height>k.get()&&(0,yn.scrollTo)(m,0,1e7,!1),I.set(!1)};return e.__closure={keyboardHeight:C,footerHeight:k,scrollTo:yn.scrollTo,flatListRef:m,keyboardIsOpening:I},e.__workletHash=7837565241389,e.__initData=TR,e}()},[k]);const P=(0,yn.useAnimatedStyle)(function(){const e=()=>({marginBottom:Math.max(C.get(),k.get())});return e.__closure={keyboardHeight:C,footerHeight:k},e.__workletHash=0xbb5f6f314b9,e.__initData=kR,e}()),E=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:-Math.max(C.get(),k.get())}]});return e.__closure={keyboardHeight:C,footerHeight:k},e.__workletHash=2242232101455,e.__initData=CR,e}()),L=(0,lt.useCallback)((async s=>{let o,n=new Dn.RichText({text:s.trimEnd()},{cleanNewlines:!0});if(n.detectFacetsWithoutResolution(),d)try{const e=await c({uri:d});if(e){o={$type:"app.bsky.embed.record",record:{uri:e.uri,cid:e.cid}};const t=n.facets?.find((t=>t.features.find((t=>{if(Dn.AppBskyRichtextFacet.isLink(t)&&(0,zt.isBskyPostUrl)(t.uri)){const s=(0,zt.convertBskyAppUrlIfNeeded)(t.uri),[o,n,a,r]=s.split("/").filter(Boolean);return e.uri.endsWith(r)}return!1}))));if(t){const e=0===t.index.byteStart,s=t.index.byteEnd===n.unicodeText.graphemeLength;(e||s)&&n.delete(t.index.byteStart,t.index.byteEnd),n=new Dn.RichText({text:n.text.trim()},{cleanNewlines:!0})}}}catch(a){Mt.logger.error("Failed to get post as quote for DM",{error:a})}await n.detectFacets(l),n=(0,Vd.shortenLinks)(n),n=(0,Vd.stripInvalidMentions)(n),e||t(!0),i.sendMessage({text:n.text,facets:n.facets,embed:o})}),[l,i,d,c,e,t]),R=(0,lt.useCallback)((e=>{j.set(e.nativeEvent.layout.height),!r.IS_WEB&&I.get()||(m.current?.scrollToEnd({animated:!A.get()}),A.set(!1))}),[m,I,A,j]),B=(0,lt.useCallback)((()=>{m.current?.scrollToOffset({offset:y.current,animated:!0})}),[m]),D=(0,lt.useCallback)((e=>{g({isOpen:!0,pos:e})}),[]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(uv.ScrollProvider,{onScroll:T,children:(0,bt.jsx)(ei.List,{ref:m,data:i.items,renderItem:yR,keyExtractor:bR,disableFullWindowScroll:!0,disableVirtualization:!0,style:P,initialNumToRender:r.IS_NATIVE?32:62,maxToRenderPerBatch:r.IS_WEB?32:62,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",maintainVisibleContentPosition:{minIndexForVisible:0},removeClippedSubviews:!1,sideBorders:!1,onContentSizeChange:S,onLayout:R,onStartReached:w,onScrollToIndexFailed:jR,scrollEventThrottle:100,ListHeaderComponent:(0,bt.jsx)(_R,{isLoading:i.isFetchingHistory})})}),(0,bt.jsx)(yn.default.View,{style:E,children:i.status===tL.Disabled?(0,bt.jsx)(jL,{}):s?o:(0,bt.jsx)(AR,{convoState:i,hasAcceptOverride:a,children:(0,bt.jsx)(CL,{onSendMessage:L,hasEmbed:!!d,setEmbed:u,openEmojiPicker:D,children:(0,bt.jsx)(kL,{embedUri:d,setEmbed:u})})})}),r.IS_WEB&&(0,bt.jsx)(bL,{pinToTop:!0,state:f,close:()=>g((e=>Object.assign({},e,{isOpen:!1})))}),h.show&&(0,bt.jsx)(lR,{onPress:B})]})}function AR(e){const t=(0,n.c)(5),{convoState:s,hasAcceptOverride:o,children:a}=e;if(!lL(s))return null;const r=function(e,t){return 0===e.items.length?e.isFetchingHistory?"loading":"new-chat":"request"!==e.convo.status||t?"standard":"request"}(s,o);switch(r){case"loading":return null;case"new-chat":{let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(FL,{}),t[0]=e):e=t[0],t[1]!==a?(s=(0,bt.jsxs)(bt.Fragment,{children:[e,a]}),t[1]=a,t[2]=s):s=t[2],s}case"request":{let e;return t[3]!==s?(e=(0,bt.jsx)(xR,{convoState:s}),t[3]=s,t[4]=e):e=t[4],e}case"standard":return a}}function PR(e){const t=(0,n.c)(73),{recipient:s,convoId:o,hasMessages:a,moderation:r}=e,i=(0,qs.useTheme)(),{gtMobile:l}=(0,qs.useBreakpoints)(),{_:c}=(0,dt.useLingui)(),d=(0,Va.useProfileShadow)(s),[,u]=(0,Ut.useProfileBlockMutationQueue)(d),m=(0,Qs.useDialogControl)(),h=(0,Qs.useDialogControl)(),p=(0,Qs.useDialogControl)();let f,g;if(t[0]!==r){const e=r.ui("profileView").alerts.filter(RR);f=e.filter(LR),g=e.find(ER),t[0]=r,t[1]=f,t[2]=g}else f=t[1],g=t[2];const x=g;let _;t[3]!==f||t[4]!==x?(_={listBlocks:f,userBlock:x},t[3]=f,t[4]=x,t[5]=_):_=t[5];const{listBlocks:y,userBlock:b}=_,j=!!b||!!y.length;let v;t[6]!==p||t[7]!==y.length||t[8]!==u?(v=()=>{y.length?p.open():u()},t[6]=p,t[7]=y.length,t[8]=u,t[9]=v):v=t[9];const S=v,w=a&&qs.atoms.pt_md;let T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K;return t[10]!==w?(T=[w,qs.atoms.pb_xl,qs.atoms.gap_lg],t[10]=w,t[11]=T):T=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(yo,{}),t[12]=k):k=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.text_center],t[13]=C):C=t[13],t[14]!==j?(I=(0,bt.jsx)(co.Text,{style:C,children:j?(0,bt.jsx)(dt.Trans,{id:"cXmhfS"}):(0,bt.jsx)(dt.Trans,{id:"IG/qsq"})}),t[14]=j,t[15]=I):I=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.gap_lg,qs.atoms.px_md],t[16]=A):A=t[16],t[17]!==c?(P=c({id:"kye4mk"}),t[17]=c,t[18]=P):P=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.flex_1],t[19]=E):E=t[19],t[20]!==i.palette.negative_500?(L={color:i.palette.negative_500},t[20]=i.palette.negative_500,t[21]=L):L=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(dt.Trans,{id:"kye4mk"}),t[22]=R):R=t[22],t[23]!==L?(B=(0,bt.jsx)(ao.ButtonText,{style:L,children:R}),t[23]=L,t[24]=B):B=t[24],t[25]!==m.open||t[26]!==P||t[27]!==B?(D=(0,bt.jsx)(ao.Button,{label:P,color:"secondary",variant:"solid",size:"small",style:E,onPress:m.open,children:B}),t[25]=m.open,t[26]=P,t[27]=B,t[28]=D):D=t[28],t[29]!==c?(O=c({id:"gjpdaf"}),t[29]=c,t[30]=O):O=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.flex_1],t[31]=M):M=t[31],t[32]!==i.palette.negative_500?(F={color:i.palette.negative_500},t[32]=i.palette.negative_500,t[33]=F):F=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(dt.Trans,{id:"gjpdaf"}),t[34]=N):N=t[34],t[35]!==F?(H=(0,bt.jsx)(ao.ButtonText,{style:F,children:N}),t[35]=F,t[36]=H):H=t[36],t[37]!==h.open||t[38]!==O||t[39]!==H?(V=(0,bt.jsx)(ao.Button,{label:O,color:"secondary",variant:"solid",size:"small",style:M,onPress:h.open,children:H}),t[37]=h.open,t[38]=O,t[39]=H,t[40]=V):V=t[40],t[41]!==c||t[42]!==l||t[43]!==j||t[44]!==S||t[45]!==i.palette.primary_500?(z=j&&l&&(0,bt.jsx)(ao.Button,{label:c({id:"tuS5Jz"}),color:"secondary",variant:"solid",size:"small",style:[qs.atoms.flex_1],onPress:S,children:(0,bt.jsx)(ao.ButtonText,{style:{color:i.palette.primary_500},children:(0,bt.jsx)(dt.Trans,{id:"tuS5Jz"})})}),t[41]=c,t[42]=l,t[43]=j,t[44]=S,t[45]=i.palette.primary_500,t[46]=z):z=t[46],t[47]!==D||t[48]!==V||t[49]!==z?(U=(0,bt.jsxs)(Fs.default,{style:A,children:[D,V,z]}),t[47]=D,t[48]=V,t[49]=z,t[50]=U):U=t[50],t[51]!==c||t[52]!==l||t[53]!==j||t[54]!==S||t[55]!==i.palette.primary_500?(W=j&&!l&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.px_md],children:(0,bt.jsx)(ao.Button,{label:c({id:"tuS5Jz"}),color:"secondary",variant:"solid",size:"small",style:[qs.atoms.flex_1],onPress:S,children:(0,bt.jsx)(ao.ButtonText,{style:{color:i.palette.primary_500},children:(0,bt.jsx)(dt.Trans,{id:"tuS5Jz"})})})}),t[51]=c,t[52]=l,t[53]=j,t[54]=S,t[55]=i.palette.primary_500,t[56]=W):W=t[56],t[57]!==o||t[58]!==m?(G=(0,bt.jsx)(FE,{control:m,currentScreen:"conversation",convoId:o}),t[57]=o,t[58]=m,t[59]=G):G=t[59],t[60]!==h?(q=(0,bt.jsx)(NE,{control:h}),t[60]=h,t[61]=q):q=t[61],t[62]!==p||t[63]!==y?(Q=(0,bt.jsx)(DE,{control:p,listBlocks:y}),t[62]=p,t[63]=y,t[64]=Q):Q=t[64],t[65]!==U||t[66]!==W||t[67]!==G||t[68]!==q||t[69]!==Q||t[70]!==T||t[71]!==I?(K=(0,bt.jsxs)(Fs.default,{style:T,children:[k,I,U,W,G,q,Q]}),t[65]=U,t[66]=W,t[67]=G,t[68]=q,t[69]=Q,t[70]=T,t[71]=I,t[72]=K):K=t[72],K}function ER(e){return"user"===e.source.type}function LR(e){return"list"===e.source.type}function RR(e){return"blocking"===e.type}const BR=r.IS_WEB?40:ya.HEADER_SLOT_SIZE;function DR(e){const t=(0,n.c)(13),{profile:s,moderation:o}=e,a=(0,qs.useTheme)();let r;e:{if(!o){r=void 0;break e}let e,s;if(t[0]!==o){const n=o.ui("profileView").alerts.filter(FR);e=n.filter(MR),s=n.find(OR),t[0]=o,t[1]=e,t[2]=s}else e=t[1],s=t[2];const n=s;let a;t[3]!==e||t[4]!==n?(a={listBlocks:e,userBlock:n},t[3]=e,t[4]=n,t[5]=a):a=t[5],r=a}const i=r;let l,c,d;return t[6]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_start],t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Fs.default,{style:[{minHeight:BR},qs.atoms.justify_center],children:(0,bt.jsx)(ya.Header.BackButton,{})}),t[7]=c):c=t[7],t[8]!==i||t[9]!==o||t[10]!==s||t[11]!==a?(d=(0,bt.jsx)(ya.Header.Outer,{children:(0,bt.jsxs)(Fs.default,{style:l,children:[c,s&&o&&i?(0,bt.jsx)(NR,{profile:s,moderation:o,blockInfo:i}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md,qs.atoms.flex_1],children:[(0,bt.jsx)(Fs.default,{style:[{width:BR,height:BR},qs.atoms.rounded_full,a.atoms.bg_contrast_25]}),(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_xs,children:[(0,bt.jsx)(Fs.default,{style:[{width:120,height:16},qs.atoms.rounded_xs,a.atoms.bg_contrast_25,qs.atoms.mt_xs]}),(0,bt.jsx)(Fs.default,{style:[{width:175,height:12},qs.atoms.rounded_xs,a.atoms.bg_contrast_25]})]})]}),(0,bt.jsx)(ya.Header.Slot,{})]})]})}),t[8]=i,t[9]=o,t[10]=s,t[11]=a,t[12]=d):d=t[12],d}function OR(e){return"user"===e.source.type}function MR(e){return"list"===e.source.type}function FR(e){return"blocking"===e.type}function NR(e){const t=(0,n.c)(80),{profile:s,moderation:o,blockInfo:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),l=dL();let c;t[0]!==s?(c={profile:s},t[0]=s,t[1]=c):c=t[1];const d=(0,Nu.useSimpleVerificationState)(c),u="missing.invalid"===s?.handle;let m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V;if(t[2]!==r||t[3]!==l.items||t[4]!==u||t[5]!==o||t[6]!==s){let e;if(f=u?r({id:"XvivR7"}):(0,Ma.sanitizeDisplayName)(s.displayName||s.handle,o.ui("displayName")),t[15]!==l.items||t[16]!==s){let o;t[18]!==s?(o=e=>"message"===e.type&&e.message.sender.did===s.did,t[18]=s,t[19]=o):o=t[19],e=l.items.findLast(o),t[15]=l.items,t[16]=s,t[17]=e}else e=t[17];const n=e;g="message"===n?.type?n.message:void 0,p=Fs.default,t[20]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1],t[20]=y):y=t[20],h=Fs.default,t[21]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between],t[21]=_):_=t[21],m=io.Link,x=r({id:"+TzBrU",values:{displayName:f}}),t[2]=r,t[3]=l.items,t[4]=u,t[5]=o,t[6]=s,t[7]=m,t[8]=h,t[9]=p,t[10]=f,t[11]=g,t[12]=x,t[13]=_,t[14]=y}else m=t[7],h=t[8],p=t[9],f=t[10],g=t[11],x=t[12],_=t[13],y=t[14];return t[22]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.gap_md,qs.atoms.flex_1,qs.atoms.pr_md],t[22]=b):b=t[22],t[23]!==s?(j=(0,Oa.makeProfileLink)(s),t[23]=s,t[24]=j):j=t[24],t[25]!==o?(v=o.ui("avatar"),t[25]=o,t[26]=v):v=t[26],t[27]!==o.blocked||t[28]!==s||t[29]!==v?(S=(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:BR,profile:s,moderation:v,disableHoverCard:o.blocked}),t[27]=o.blocked,t[28]=s,t[29]=v,t[30]=S):S=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.flex_1],t[31]=w):w=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.flex_row,qs.atoms.align_center],t[32]=T):T=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.self_start,(0,qs.web)(qs.atoms.leading_normal)],t[33]=k):k=t[33],t[34]!==f?(C=(0,bt.jsx)(co.Text,{emoji:!0,style:k,numberOfLines:1,children:f}),t[34]=f,t[35]=C):C=t[35],t[36]!==d.role||t[37]!==d.showBadge?(I=d.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_xs],children:(0,bt.jsx)(Hu.VerificationCheck,{width:14,verifier:"verifier"===d.role})}),t[36]=d.role,t[37]=d.showBadge,t[38]=I):I=t[38],t[39]!==C||t[40]!==I?(A=(0,bt.jsxs)(Fs.default,{style:T,children:[C,I]}),t[39]=C,t[40]=I,t[41]=A):A=t[41],t[42]!==l.convo?.muted||t[43]!==u||t[44]!==s||t[45]!==i?(P=!u&&(0,bt.jsxs)(co.Text,{style:[i.atoms.text_contrast_medium,qs.atoms.text_xs,(0,qs.web)([qs.atoms.leading_normal,{marginTop:-2}])],numberOfLines:1,children:["@",s.handle,l.convo?.muted&&(0,bt.jsxs)(bt.Fragment,{children:[" ","\xb7"," ",(0,bt.jsx)(WE,{size:"xs",style:i.atoms.text_contrast_medium})]})]}),t[42]=l.convo?.muted,t[43]=u,t[44]=s,t[45]=i,t[46]=P):P=t[46],t[47]!==A||t[48]!==P?(E=(0,bt.jsxs)(Fs.default,{style:w,children:[A,P]}),t[47]=A,t[48]=P,t[49]=E):E=t[49],t[50]!==m||t[51]!==E||t[52]!==x||t[53]!==j||t[54]!==S?(L=(0,bt.jsxs)(m,{label:x,style:b,to:j,children:[S,E]}),t[50]=m,t[51]=E,t[52]=x,t[53]=j,t[54]=S,t[55]=L):L=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(R=[{minHeight:BR},qs.atoms.justify_center],t[56]=R):R=t[56],t[57]!==a||t[58]!==l||t[59]!==g||t[60]!==s?(B=lL(l)&&(0,bt.jsx)(VE,{convo:l.convo,profile:s,currentScreen:"conversation",blockInfo:a,latestReportableMessage:g}),t[57]=a,t[58]=l,t[59]=g,t[60]=s,t[61]=B):B=t[61],t[62]!==B?(D=(0,bt.jsx)(Fs.default,{style:R,children:(0,bt.jsx)(ya.Header.Slot,{children:B})}),t[62]=B,t[63]=D):D=t[63],t[64]!==h||t[65]!==L||t[66]!==D||t[67]!==_?(O=(0,bt.jsxs)(h,{style:_,children:[L,D]}),t[64]=h,t[65]=L,t[66]=D,t[67]=_,t[68]=O):O=t[68],t[69]===Symbol.for("react.memo_cache_sentinel")?(M=[{paddingLeft:BR+qs.atoms.gap_md.gap}],t[69]=M):M=t[69],t[70]!==o?(F=o.ui("contentList"),t[70]=o,t[71]=F):F=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(N=[qs.atoms.pt_xs],t[72]=N):N=t[72],t[73]!==F?(H=(0,bt.jsx)(Fs.default,{style:M,children:(0,bt.jsx)(om,{modui:F,size:"lg",style:N})}),t[73]=F,t[74]=H):H=t[74],t[75]!==p||t[76]!==O||t[77]!==H||t[78]!==y?(V=(0,bt.jsxs)(p,{style:y,children:[O,H]}),t[75]=p,t[76]=O,t[77]=H,t[78]=y,t[79]=V):V=t[79],V}function HR(e){const t=(0,n.c)(8),{_:s}=(0,dt.useLingui)(),o=Mi();let a,r,i;return t[0]!==s?(a=s({id:"YyNOE7"}),t[0]=s,t[1]=a):a=t[1],t[2]!==e?(r=(0,bt.jsx)(VR,Object.assign({},e)),t[2]=e,t[3]=r):r=t[3],t[4]!==o.chatsInfoText||t[5]!==a||t[6]!==r?(i=(0,bt.jsx)(IE,{screenTitle:a,infoText:o.chatsInfoText,children:r}),t[4]=o.chatsInfoText,t[5]=a,t[6]=r,t[7]=i):i=t[7],i}function VR(e){const t=(0,n.c)(9),{route:s}=e,{gtMobile:o}=(0,qs.useBreakpoints)(),a=(0,hs.useSetMinimalShellMode)(),i=s.params.conversation,{setCurrentConvoId:l}=(0,Jt.useCurrentConvoId)();let c,d,u,m;return t[0]!==i||t[1]!==o||t[2]!==l||t[3]!==a?(c=()=>(l(i),r.IS_WEB&&!o?a(!0):a(!1),()=>{l(void 0),a(!1)}),t[0]=i,t[1]=o,t[2]=l,t[3]=a,t[4]=c):c=t[4],(0,Ns.useFocusEffect)(c),t[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,qs.web)([{minHeight:0},qs.atoms.flex_1]),t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(zR,{}),t[6]=u):u=t[6],t[7]!==i?(m=(0,bt.jsx)(ya.Screen,{testID:"convoScreen",style:d,children:(0,bt.jsx)(mL,{convoId:i,children:u},i)}),t[7]=i,t[8]=m):m=t[8],m}function zR(){const e=(0,n.c)(47),t=(0,qs.useTheme)(),s=dL(),{_:o}=(0,dt.useLingui)(),a=(0,ds.useModerationOpts)(),r=s.recipients?.[0].did;let i;e[0]!==r?(i={did:r},e[0]=r,e[1]=i):i=e[1];const{data:l}=(0,Ut.useProfileQuery)(i),c=(0,Va.useMaybeProfileShadow)(l);let d;e:{if(!c||!a){d=null;break e}let t;e[2]!==a||e[3]!==c?(t=(0,Dn.moderateProfile)(c,a),e[2]=a,e[3]=c,e[4]=t):t=e[4],d=t}const u=d,[m,h]=lt.useState(!1);let p;e[5]!==s||e[6]!==m?(p=m||lL(s)&&!s.isFetchingHistory&&0===s.items.length,e[5]=s,e[6]=m,e[7]=p):p=e[7];const f=p;let g,x,_,y,b,j,v,S,w;if(e[8]!==s.status?(g=()=>{s.status===tL.Initializing&&h(!1)},x=[s.status],e[8]=s.status,e[9]=g,e[10]=x):(g=e[9],x=e[10]),lt.useEffect(g,x),s.status===tL.Error){let t,n,a,r,i,l,d;return e[11]===Symbol.for("react.memo_cache_sentinel")?(t=[qs.atoms.flex_1],e[11]=t):t=e[11],e[12]!==u||e[13]!==c?(n=(0,bt.jsx)(ya.Center,{style:t,children:u?(0,bt.jsx)(DR,{moderation:u,profile:c}):(0,bt.jsx)(DR,{})}),e[12]=u,e[13]=c,e[14]=n):n=e[14],e[15]!==o?(a=o({id:"nwtY4N"}),e[15]=o,e[16]=a):a=e[16],e[17]!==o?(r=o({id:"3JCSvL"}),e[17]=o,e[18]=r):r=e[18],e[19]!==s.error?(i=()=>s.error.retry(),e[19]=s.error,e[20]=i):i=e[20],e[21]!==i||e[22]!==a||e[23]!==r?(l=(0,bt.jsx)(gS,{title:a,message:r,onRetry:i,sideBorders:!1}),e[21]=i,e[22]=a,e[23]=r,e[24]=l):l=e[24],e[25]!==l||e[26]!==n?(d=(0,bt.jsxs)(bt.Fragment,{children:[n,l]}),e[25]=l,e[26]=n,e[27]=d):d=e[27],d}return e[28]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.flex_1],e[28]=_):_=e[28],e[29]!==u||e[30]!==f||e[31]!==c?(y=!f&&(u?(0,bt.jsx)(DR,{moderation:u,profile:c}):(0,bt.jsx)(DR,{})),e[29]=u,e[30]=f,e[31]=c,e[32]=y):y=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_1],e[33]=b):b=e[33],e[34]!==m||e[35]!==u||e[36]!==c?(j=u&&c?(0,bt.jsx)(UR,{moderation:u,recipient:c,hasScrolled:m,setHasScrolled:h}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.flex_1]}),e[34]=m,e[35]=u,e[36]=c,e[37]=j):j=e[37],e[38]!==f||e[39]!==t?(v=!f&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.z_10,qs.atoms.w_full,qs.atoms.h_full,qs.atoms.justify_center,qs.atoms.align_center,t.atoms.bg],children:(0,bt.jsx)(Fs.default,{style:[{marginBottom:75}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})})}),e[38]=f,e[39]=t,e[40]=v):v=e[40],e[41]!==v||e[42]!==j?(S=(0,bt.jsxs)(Fs.default,{style:b,children:[j,v]}),e[41]=v,e[42]=j,e[43]=S):S=e[43],e[44]!==S||e[45]!==y?(w=(0,bt.jsxs)(ya.Center,{style:_,children:[y,S]}),e[44]=S,e[45]=y,e[46]=w):w=e[46],w}function UR(e){const t=(0,n.c)(20),{moderation:s,recipient:o,hasScrolled:a,setHasScrolled:r}=e,i=dL(),l=(0,Ns.useNavigation)(),{params:c}=(0,Ns.useRoute)(),{needsEmailVerification:d}=Kt(),u=Ho();let m;t[0]!==u||t[1]!==l||t[2]!==d?(m=()=>{d&&setTimeout((()=>u.open({id:To.Verify,instructions:[(0,bt.jsx)(dt.Trans,{id:"oYqWde"},"pre-compose")],onCloseWithoutVerifying:()=>{l.canGoBack()?l.goBack():l.navigate("Messages",{animation:"pop"})}})))},t[0]=u,t[1]=l,t[2]=d,t[3]=m):m=t[3];const h=(0,Bn.useNonReactiveCallback)(m);let p,f,g,x,_;return t[4]!==h?(p=()=>{h()},f=[h],t[4]=h,t[5]=p,t[6]=f):(p=t[5],f=t[6]),(0,lt.useEffect)(p,f),t[7]!==s||t[8]!==o?(g=(0,bt.jsx)(DR,{profile:o,moderation:s}),t[7]=s,t[8]=o,t[9]=g):g=t[9],t[10]!==i||t[11]!==a||t[12]!==s||t[13]!==c||t[14]!==o||t[15]!==r?(x=lL(i)&&(0,bt.jsx)(IR,{hasScrolled:a,setHasScrolled:r,blocked:s?.blocked,hasAcceptOverride:!!c.accept,footer:(0,bt.jsx)(PR,{recipient:o,convoId:i.convo.id,hasMessages:i.items.length>0,moderation:s})}),t[10]=i,t[11]=a,t[12]=s,t[13]=c,t[14]=o,t[15]=r,t[16]=x):x=t[16],t[17]!==g||t[18]!==x?(_=(0,bt.jsxs)(bt.Fragment,{children:[g,x]}),t[17]=g,t[18]=x,t[19]=_):_=t[19],_}function WR(e,t){const s=(0,n.c)(20),{onSuccess:o,onMutate:a,onError:r}=t,i=(0,On.useQueryClient)(),l=(0,Gt.useAgent)();let c,d,u,m,h;return s[0]!==l||s[1]!==e?(c=async()=>{const{data:t}=await l.chat.bsky.convo.updateAllRead({status:e},{headers:Vt.DM_SERVICE_HEADERS,encoding:"application/json"});return t},s[0]=l,s[1]=e,s[2]=c):c=s[2],s[3]!==a||s[4]!==i||s[5]!==e?(d=()=>{let t=[];return i.setQueryData((0,ts.RQKEY)(e),(e=>e?(t=e.pages,Object.assign({},e,{pages:e.pages.map(GR)})):e)),i.setQueryData((0,ts.RQKEY)("all","unread"),(t=>t?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>t.status!==e))})))}):t)),a?.(),{prevPages:t}},s[3]=a,s[4]=i,s[5]=e,s[6]=d):d=s[6],s[7]!==o||s[8]!==i||s[9]!==e?(u=()=>{i.invalidateQueries({queryKey:(0,ts.RQKEY)(e)}),o?.()},s[7]=o,s[8]=i,s[9]=e,s[10]=u):u=s[10],s[11]!==r||s[12]!==i||s[13]!==e?(m=(t,s,o)=>{Mt.logger.error(t),i.setQueryData((0,ts.RQKEY)(e),(e=>e?Object.assign({},e,{pages:o?.prevPages||e.pages}):e)),i.invalidateQueries({queryKey:(0,ts.RQKEY)(e)}),i.invalidateQueries({queryKey:(0,ts.RQKEY)("all","unread")}),r?.(t)},s[11]=r,s[12]=i,s[13]=e,s[14]=m):m=s[14],s[15]!==c||s[16]!==d||s[17]!==u||s[18]!==m?(h={mutationFn:c,onMutate:d,onSuccess:u,onError:m},s[15]=c,s[16]=d,s[17]=u,s[18]=m,s[19]=h):h=s[19],(0,go.useMutation)(h)}function GR(e){return Object.assign({},e,{convos:e.convos.map(qR)})}function qR(e){return Object.assign({},e,{unreadCount:0})}function QR(e){const t=(0,n.c)(21),{convo:s}=e,{currentAccount:o}=(0,Gt.useSession)(),a=(0,ds.useModerationOpts)();let r;if(t[0]!==s.members||t[1]!==o?.did){let e;t[3]!==o?.did?(e=e=>e.did!==o?.did,t[3]=o?.did,t[4]=e):e=t[4],r=s.members.find(e),t[0]=s.members,t[1]=o?.did,t[2]=r}else r=t[2];const i=r;if(!i||!a)return null;const l="missing.invalid"===i.handle;let c,d,u,m,h,p,f,g;return t[5]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.relative,qs.atoms.flex_1],t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.pt_xs,qs.atoms.pb_2xs],t[6]=d):d=t[6],t[7]!==a||t[8]!==i?(u=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(vy.KnownFollowers,{profile:i,moderationOpts:a,minimal:!0,showIfEmpty:!0})}),t[7]=a,t[8]=i,t[9]=u):u=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.pt_md,qs.atoms.pb_xs,qs.atoms.w_full,{opacity:0}],t[10]=m):m=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Fs.default,{style:m,"aria-hidden":!0,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,qs.atoms.leading_tight,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"cwk+Lh"})})}),t[11]=h):h=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.absolute,qs.atoms.pr_md,qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,{bottom:qs.tokens.space.md,paddingLeft:qs.tokens.space.lg+52+qs.tokens.space.md}],t[12]=p):p=t[12],t[13]!==s||t[14]!==l||t[15]!==i?(f=(0,bt.jsx)(qE.Portal,{children:(0,bt.jsx)(Fs.default,{style:p,children:l?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(gR,{convo:s,currentScreen:"list"}),(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(fR,{convo:s,currentScreen:"list"}),(0,bt.jsx)(pR,{convo:s,profile:i,showDeleteConvo:!0,currentScreen:"list"})]})})}),t[13]=s,t[14]=l,t[15]=i,t[16]=f):f=t[16],t[17]!==s||t[18]!==u||t[19]!==f?(g=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsxs)(QE,{convo:s,showMenu:!1,children:[u,h,f]})}),t[17]=s,t[18]=u,t[19]=f,t[20]=g):g=t[20],g}function KR(e){const t=(0,n.c)(8),{_:s}=(0,dt.useLingui)(),o=Mi();let a,r,i;return t[0]!==s?(a=s({id:"ZjJ8vi"}),t[0]=s,t[1]=a):a=t[1],t[2]!==e?(r=(0,bt.jsx)(ZR,Object.assign({},e)),t[2]=e,t[3]=r):r=t[3],t[4]!==o.chatsInfoText||t[5]!==a||t[6]!==r?(i=(0,bt.jsx)(IE,{screenTitle:a,infoText:o.chatsInfoText,children:r}),t[4]=o.chatsInfoText,t[5]=a,t[6]=r,t[7]=i):i=t[7],i}function ZR({}){const{gtTablet:e}=(0,qs.useBreakpoints)(),t=(0,ts.useListConvosQuery)({status:"request"}),{data:s}=t,o=(0,vE.useLeftConvos)(),n=(0,lt.useMemo)((()=>{if(s?.pages){return s.pages.flatMap((e=>e.convos)).filter((e=>!o.includes(e.id)))}return[]}),[s,o]),a=(0,lt.useMemo)((()=>n.some((e=>e.members.every((e=>"missing.invalid"!==e.handle))&&e.unreadCount>0))),[n]);return(0,bt.jsxs)(ya.Screen,{testID:"messagesInboxScreen",children:[(0,bt.jsxs)(ya.Header.Outer,{children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{align:e?"left":"platform",children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"ZjJ8vi"})})}),a&&e?(0,bt.jsx)(eB,{}):(0,bt.jsx)(ya.Header.Slot,{})]}),(0,bt.jsx)(YR,{listConvosQuery:t,conversations:n,hasUnreadConvos:a})]})}function YR(e){const t=(0,n.c)(39),{listConvosQuery:s,conversations:o,hasUnreadConvos:a}=e,{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)(),c=(0,Ns.useNavigation)(),d=(0,es.useMessagesEventBus)(),u="active"===(0,$i.useAppState)();let m,h;t[0]!==u||t[1]!==d?(m=()=>{if(u){const e=d.requestPollInterval(bE);return()=>e()}},t[0]=u,t[1]=d,t[2]=m):m=t[2],(0,Ns.useFocusEffect)(m),t[3]===Symbol.for("react.memo_cache_sentinel")?(h={minItemHeight:130},t[3]=h):h=t[3];const p=$r(h),[f,g]=(0,lt.useState)(!1),{isLoading:x,isFetchingNextPage:_,hasNextPage:y,fetchNextPage:b,isError:j,error:v,refetch:S}=s;let w;PE(S),t[4]!==S?(w=async()=>{g(!0);try{await S()}catch(k){const t=k;Mt.logger.error("Failed to refresh conversations",{message:t})}g(!1)},t[4]=S,t[5]=w):w=t[5];const T=w;let k;t[6]!==b||t[7]!==y||t[8]!==j||t[9]!==_?(k=async()=>{if(!_&&y&&!j)try{await b()}catch(I){const t=I;Mt.logger.error("Failed to load more conversations",{message:t})}},t[6]=b,t[7]=y,t[8]=j,t[9]=_,t[10]=k):k=t[10];const C=k;if(o.length<1){let e;return t[11]!==i||t[12]!==v||t[13]!==j||t[14]!==x||t[15]!==c||t[16]!==S||t[17]!==l?(e=(0,bt.jsx)(ya.Center,{children:x?(0,bt.jsx)(vi,{}):(0,bt.jsx)(bt.Fragment,{children:j?(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_3xl,qs.atoms.align_center],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{width:48,fill:l.atoms.text_contrast_low.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"wXgOPE"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.pb_xl,qs.atoms.text_center,qs.atoms.leading_snug,l.atoms.text_contrast_medium,{maxWidth:360}],children:(0,Tn.cleanError)(v)||i({id:"+kTLLA"})}),(0,bt.jsxs)(ao.Button,{label:i({id:"TAGkuP"}),size:"small",color:"secondary_inverted",variant:"solid",onPress:()=>S(),children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"6gRgw8"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded,position:"right"})]})]})}):(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_3xl,qs.atoms.align_center],children:[(0,bt.jsx)(by,{width:48,fill:l.palette.primary_500}),(0,bt.jsx)(co.Text,{style:[qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"Oeid3W"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.pb_xl,qs.atoms.text_center,qs.atoms.leading_snug,l.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"nKWCSf"})}),(0,bt.jsxs)(ao.Button,{variant:"solid",color:"secondary",size:"small",label:i({id:"CKyk7Q"}),onPress:()=>{c.canGoBack()?c.goBack():c.navigate("Messages",{animation:"pop"})},children:[(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Fjehxw"})})]})]})})})}),t[11]=i,t[12]=v,t[13]=j,t[14]=x,t[15]=c,t[16]=S,t[17]=l,t[18]=e):e=t[18],e}let I,A,P,E,L,R;return t[19]!==v?(I=(0,Tn.cleanError)(v),t[19]=v,t[20]=I):I=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(A={borderColor:"transparent"},t[21]=A):A=t[21],t[22]!==b||t[23]!==y||t[24]!==_||t[25]!==I?(P=(0,bt.jsx)(xS,{isFetchingNextPage:_,error:I,onRetry:b,style:A,hasNextPage:y}),t[22]=b,t[23]=y,t[24]=_,t[25]=I,t[26]=P):P=t[26],t[27]!==o||t[28]!==p||t[29]!==f||t[30]!==C||t[31]!==T||t[32]!==P?(E=(0,bt.jsx)(ei.List,{data:o,renderItem:XR,keyExtractor:$R,refreshing:f,onRefresh:T,onEndReached:C,ListFooterComponent:P,onEndReachedThreshold:r.IS_NATIVE?1.5:0,initialNumToRender:p,windowSize:11,desktopFixedHeight:!0,sideBorders:!1}),t[27]=o,t[28]=p,t[29]=f,t[30]=C,t[31]=T,t[32]=P,t[33]=E):E=t[33],t[34]!==a?(L=a&&(0,bt.jsx)(JR,{}),t[34]=a,t[35]=L):L=t[35],t[36]!==E||t[37]!==L?(R=(0,bt.jsxs)(bt.Fragment,{children:[E,L]}),t[36]=E,t[37]=L,t[38]=R):R=t[38],R}function $R(e){return e.id}function XR({item:e}){return(0,bt.jsx)(QR,{convo:e})}function JR(){const e=(0,n.c)(12),{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)();let o;e[0]!==t?(o={onMutate:()=>{Ds.show(t({id:"puukLG"}),"check")},onError:()=>{Ds.show(t({id:"XJ833g"}),"xmark")}},e[0]=t,e[1]=o):o=e[1];const{mutate:a}=WR("request",o);let r,i,l,c;return e[2]!==a?(r=()=>a(),e[2]=a,e[3]=r):r=e[3],e[4]!==s.palette.white?(i=(0,bt.jsx)(ro.Check_Stroke2_Corner0_Rounded,{size:"lg",fill:s.palette.white}),e[4]=s.palette.white,e[5]=i):i=e[5],e[6]!==t?(l=t({id:"onllUU"}),e[6]=t,e[7]=l):l=e[7],e[8]!==r||e[9]!==i||e[10]!==l?(c=(0,bt.jsx)(Hj,{testID:"markAllAsReadFAB",onPress:r,icon:i,accessibilityRole:"button",accessibilityLabel:l,accessibilityHint:""}),e[8]=r,e[9]=i,e[10]=l,e[11]=c):c=e[11],c}function eB(){const e=(0,n.c)(11),{_:t}=(0,dt.useLingui)();let s;e[0]!==t?(s={onMutate:()=>{Ds.show(t({id:"puukLG"}),"check")},onError:()=>{Ds.show(t({id:"XJ833g"}),"xmark")}},e[0]=t,e[1]=s):s=e[1];const{mutate:o}=WR("request",s);let a,r,i,l,c;return e[2]!==t?(a=t({id:"onllUU"}),e[2]=t,e[3]=a):a=e[3],e[4]!==o?(r=()=>o(),e[4]=o,e[5]=r):r=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(ao.ButtonIcon,{icon:ro.Check_Stroke2_Corner0_Rounded}),e[6]=i):i=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"onllUU"})}),e[7]=l):l=e[7],e[8]!==a||e[9]!==r?(c=(0,bt.jsxs)(ao.Button,{label:a,size:"small",color:"secondary",variant:"solid",onPress:r,children:[i,l]}),e[8]=a,e[9]=r,e[10]=c):c=e[10],c}var tB=s(27418);const sB=lt.createContext({}),oB=()=>lt.useContext(sB);function nB(e){const t=(0,n.c)(9),{children:s}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={playSoundChat:!0},t[0]=o):o=t[0];const[a,r]=lt.useState(o);let i,l,c,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{(async()=>{const e=await tB.BackgroundNotificationHandler.getAllPrefsAsync();r(e)})()},l=[],t[1]=i,t[2]=l):(i=t[1],l=t[2]),lt.useEffect(i,l),t[3]===Symbol.for("react.memo_cache_sentinel")?(c=async(e,t)=>{e:switch(typeof t){case"boolean":await tB.BackgroundNotificationHandler.setBoolAsync(e,t);break e;case"string":await tB.BackgroundNotificationHandler.setStringAsync(e,t);break e;default:throw new Error("Invalid type for value: "+typeof t)}r((s=>Object.assign({},s,{[e]:t})))},t[3]=c):c=t[3],t[4]!==a?(d={preferences:a,setPref:c},t[4]=a,t[5]=d):d=t[5];const u=d;let m;return t[6]!==s||t[7]!==u?(m=(0,bt.jsx)(sB.Provider,{value:u,children:s}),t[6]=s,t[7]=u,t[8]=m):m=t[8],m}function aB(e){const t=(0,n.c)(2);let s;return t[0]!==e?(s=(0,bt.jsx)(rB,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}function rB(e){const t=(0,n.c)(54),{_:s}=(0,dt.useLingui)(),{currentAccount:o}=(0,Gt.useSession)();let a;t[0]!==o.did?(a={did:o.did},t[0]=o.did,t[1]=a):a=t[1];const{data:i}=(0,Ut.useProfileQuery)(a),{preferences:l,setPref:c}=oB();let d;t[2]!==s?(d={onError:()=>{Ds.show(s({id:"tOcErW"}),"xmark")}},t[2]=s,t[3]=d):d=t[3];const{mutate:u}=function(e){const t=(0,n.c)(15),{onSuccess:s,onError:o}=e,a=(0,On.useQueryClient)(),{currentAccount:r}=(0,Gt.useSession)(),i=(0,Gt.useAgent)();let l,c,d,u;return t[0]!==i||t[1]!==r?(l=async e=>{if(!r)throw new Error("Not signed in");return await i.com.atproto.repo.putRecord({repo:r.did,collection:"chat.bsky.actor.declaration",rkey:"self",record:{$type:"chat.bsky.actor.declaration",allowIncoming:e}})},t[0]=i,t[1]=r,t[2]=l):l=t[2],t[3]!==r||t[4]!==a?(c=e=>{r&&a.setQueryData((0,Ut.RQKEY)(r?.did),(t=>t?Object.assign({},t,{associated:Object.assign({},t.associated,{chat:{allowIncoming:e}})}):t))},t[3]=r,t[4]=a,t[5]=c):c=t[5],t[6]!==r||t[7]!==o||t[8]!==a?(d=e=>{Mt.logger.error(e),r&&a.invalidateQueries({queryKey:(0,Ut.RQKEY)(r.did)}),o?.(e)},t[6]=r,t[7]=o,t[8]=a,t[9]=d):d=t[9],t[10]!==s||t[11]!==l||t[12]!==c||t[13]!==d?(u={mutationFn:l,onMutate:c,onSuccess:s,onError:d},t[10]=s,t[11]=l,t[12]=c,t[13]=d,t[14]=u):u=t[14],(0,go.useMutation)(u)}(d);let m;t[4]!==u?(m=e=>{const t=e[0];t&&u(t)},t[4]=u,t[5]=m):m=t[5];const h=m;let p;t[6]!==c?(p=e=>{const t=e[0];t&&c("playSoundChat","enabled"===t)},t[6]=c,t[7]=p):p=t[7];const f=p;let g,x,_,y,b;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ya.Header.BackButton,{}),t[8]=g):g=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsxs)(ya.Header.Outer,{children:[g,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"yaImr3"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[9]=x):x=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.p_lg,qs.atoms.gap_md],t[10]=_):_=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"wh9RBc"})}),t[11]=y):y=t[11],t[12]!==s?(b=s({id:"wh9RBc"}),t[12]=s,t[13]=b):b=t[13];const j=i?.associated?.chat?.allowIncoming??"following";let v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return t[14]!==j?(v=[j],t[14]=j,t[15]=v):v=t[15],t[16]!==s?(S=s({id:"PsQmAw"}),t[16]=s,t[17]=S):S=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.justify_between,qs.atoms.py_sm],t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"PsQmAw"})}),k=(0,bt.jsx)(af.Radio,{}),t[19]=T,t[20]=k):(T=t[19],k=t[20]),t[21]!==S?(C=(0,bt.jsxs)(af.Item,{name:"all",label:S,style:w,children:[T,k]}),t[21]=S,t[22]=C):C=t[22],t[23]!==s?(I=s({id:"IV/zYj"}),t[23]=s,t[24]=I):I=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.justify_between,qs.atoms.py_sm],t[25]=A):A=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"IV/zYj"})}),E=(0,bt.jsx)(af.Radio,{}),t[26]=P,t[27]=E):(P=t[26],E=t[27]),t[28]!==I?(L=(0,bt.jsxs)(af.Item,{name:"following",label:I,style:A,children:[P,E]}),t[28]=I,t[29]=L):L=t[29],t[30]!==s?(R=s({id:"wxB7DM"}),t[30]=s,t[31]=R):R=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.justify_between,qs.atoms.py_sm],t[32]=B):B=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"wxB7DM"})}),O=(0,bt.jsx)(af.Radio,{}),t[33]=D,t[34]=O):(D=t[33],O=t[34]),t[35]!==R?(M=(0,bt.jsxs)(af.Item,{name:"none",label:R,style:B,children:[D,O]}),t[35]=R,t[36]=M):M=t[36],t[37]!==C||t[38]!==L||t[39]!==M?(F=(0,bt.jsxs)(Fs.default,{children:[C,L,M]}),t[37]=C,t[38]=L,t[39]=M,t[40]=F):F=t[40],t[41]!==h||t[42]!==v||t[43]!==F||t[44]!==b?(N=(0,bt.jsx)(af.Group,{label:b,type:"radio",values:v,onChange:h,children:F}),t[41]=h,t[42]=v,t[43]=F,t[44]=b,t[45]=N):N=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"hbg5ET"})}),t[46]=H):H=t[46],t[47]!==s||t[48]!==f||t[49]!==l?(V=r.IS_NATIVE&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{style:qs.atoms.my_md}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"z4p6HG"})}),(0,bt.jsx)(af.Group,{label:s({id:"Dnsq/8"}),type:"radio",values:[l.playSoundChat?"enabled":"disabled"],onChange:f,children:(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsxs)(af.Item,{name:"enabled",label:s({id:"RxzN1M"}),style:[qs.atoms.justify_between,qs.atoms.py_sm],children:[(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"RxzN1M"})}),(0,bt.jsx)(af.Radio,{})]}),(0,bt.jsxs)(af.Item,{name:"disabled",label:s({id:"E/QGRL"}),style:[qs.atoms.justify_between,qs.atoms.py_sm],children:[(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"E/QGRL"})}),(0,bt.jsx)(af.Radio,{})]})]})})]}),t[47]=s,t[48]=f,t[49]=l,t[50]=V):V=t[50],t[51]!==N||t[52]!==V?(z=(0,bt.jsxs)(ya.Screen,{testID:"messagesSettingsScreen",children:[x,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:_,children:[y,N,H,V]})})]}),t[51]=N,t[52]=V,t[53]=z):z=t[53],z}var iB=s(4e3),lB=s(94348);const cB="https://blueskyweb.zendesk.com/hc/requests/new";let dB=function(e){return e.AA_DID="AA_DID",e.AA_BIRTHDATE="AA_BIRTHDATE",e}({});function uB(){const e=(0,n.c)(3),{_:t}=(0,dt.useLingui)(),{currentAccount:s}=(0,Gt.useSession)();let o;return e[0]!==t||e[1]!==s?(o=e=>{const{code:o,email:n}=e,a=new URL(cB);return s&&(a.search=new URLSearchParams({tf_anonymous_requester_email:n||s.email||"",tf_description:`[Code: ${o}] \u2014 `+t({id:"OjM9vI"}),tf_17205412673421:s.handle+` (${s.did})`}).toString()),a.toString()},e[0]=t,e[1]=s,e[2]=o):o=e[2],o}const mB={kwsHome:"https://www.kidswebservices.com/en-US",kwsTermsOfUse:"https://www.kidswebservices.com/en-US/terms-of-use",kwsPrivacyPolicy:"https://www.kidswebservices.com/en-US/privacy-policy"},hB=[{value:"en",label:"English"},{value:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"},{value:"zh-Hans",label:"\u7b80\u4f53\u4e2d\u6587"},{value:"nl",label:"Nederlands"},{value:"tl",label:"Filipino"},{value:"fr",label:"Fran\xe7ais"},{value:"de",label:"Deutsch"},{value:"id",label:"Bahasa Indonesia"},{value:"it",label:"Italiano"},{value:"ja",label:"\u65e5\u672c\u8a9e"},{value:"ko",label:"\ud55c\uad6d\uc5b4"},{value:"pt",label:"Portugu\xeas"},{value:"pt-BR",label:"Portugu\xeas (Brasil)"},{value:"ru",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{value:"es",label:"Espa\xf1ol"},{value:"tr",label:"T\xfcrk\xe7e"},{value:"th",label:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22"},{value:"vi",label:"Ti\u1ebfng Vi\u1ec7t"}];function pB({value:e,onChange:t,items:s=Rt.APP_LANGUAGES.map((e=>({label:e.name,value:e.code2}))),label:o}){const{_:n}=(0,dt.useLingui)(),a=lt.useCallback((e=>{e&&t((0,Lt.sanitizeAppLanguageSetting)(e))}),[t]);return(0,bt.jsxs)(V_.Root,{value:e?(0,Lt.sanitizeAppLanguageSetting)(e):void 0,onValueChange:a,children:[(0,bt.jsxs)(V_.Trigger,{label:n({id:"k/sb6z"}),children:[(0,bt.jsx)(V_.ValueText,{placeholder:n({id:"k/sb6z"})}),(0,bt.jsx)(V_.Icon,{})]}),(0,bt.jsx)(V_.Content,{label:o,renderItem:({label:e,value:t})=>(0,bt.jsxs)(V_.Item,{value:t,label:e,children:[(0,bt.jsx)(V_.ItemIndicator,{}),(0,bt.jsx)(V_.ItemText,{children:e})]}),items:s})]})}var fB=s(4359);const gB=r.BLUESKY_PROXY_DID!==Vt.PUBLIC_APPVIEW_DID?Vt.DEV_ENV_APPVIEW:Vt.PUBLIC_APPVIEW;var xB=s(94346);function _B(e){const t=(0,n.c)(11),{control:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Qs.Handle,{}),t[0]=a):a=t[0],t[1]!==o?(r=o({id:"HYfLHN"}),t[1]=o,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=[(0,qs.web)({maxWidth:400})],l=(0,bt.jsx)(yB,{}),c=(0,bt.jsx)(Qs.Close,{}),t[3]=i,t[4]=l,t[5]=c):(i=t[3],l=t[4],c=t[5]),t[6]!==r?(d=(0,bt.jsxs)(Qs.ScrollableInner,{label:r,style:i,children:[l,c]}),t[6]=r,t[7]=d):d=t[7],t[8]!==s||t[9]!==d?(u=(0,bt.jsxs)(Qs.Outer,{control:s,children:[a,d]}),t[8]=s,t[9]=d,t[10]=u):u=t[10],u}function yB(){const e=(0,n.c)(46),{_:t}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),{currentAccount:a}=(0,Gt.useSession)(),i=(0,Bt.useLanguagePrefs)(),l=to(),{close:c}=Qs.useDialogContext(),d=(0,Fi.useAgeAssurance)().state.lastInitiatedAt,u=(0,Vu.useGetTimeAgo)(),m=function(){const[e,t]=(0,lt.useState)();return(0,lt.useEffect)((()=>{s.e(812).then(s.t.bind(s,64812,19)).then((e=>{t(e)}))}),[]),e}(),h=uB();let p;e[0]!==d?(p=d&&new Date(d).getTime()>Date.now()-3e5,e[0]=d,e[1]=p):p=e[1];const f=p,[g,x]=(0,lt.useState)(!1),[_,y]=(0,lt.useState)(a?.email||""),[b,j]=(0,lt.useState)(""),[v,S]=(0,lt.useState)(!1),[w,T]=(0,lt.useState)(!1);let k;e[2]!==i.appLanguage?(k=function(e){switch(e){case"en-GB":return"en";case"pt-PT":return"pt";case"zh-Hans-CN":case"zh-Hant-HK":case"zh-Hant-TW":return"zh-Hans";default:return hB.find((t=>t.value===e))?.value}}(i.appLanguage),e[2]=i.appLanguage,e[3]=k):k=e[3];const[C,I]=(0,lt.useState)(k),[A,P]=(0,lt.useState)(null),{mutateAsync:E,isPending:L}=function(){const e=(0,Xo.useAnalytics)(),t=(0,Gt.useAgent)(),s=(0,MC.useGeolocation)(),o=(0,Fi.usePatchAgeAssuranceServerState)();return(0,go.useMutation)({async mutationFn(n){const a=s?.countryCode?.toUpperCase(),i=s?.regionCode?.toUpperCase();if(!a)throw new Error("Geolocation not available, cannot init age assurance.");const{data:{token:l}}=await t.com.atproto.server.getServiceAuth({aud:r.BLUESKY_PROXY_DID,lxm:"app.bsky.ageassurance.begin"}),c=new Dn.AtpAgent({service:gB});c.sessionManager.session=Object.assign({},t.session),c.sessionManager.session.accessJwt=l,c.sessionManager.session.refreshJwt="",e.metric("ageAssurance:api:begin",{platform:"web",countryCode:a,regionCode:i});const{data:d}=await(0,eo.wait)(2e3,c.app.bsky.ageassurance.begin(Object.assign({},n,{countryCode:a,regionCode:i})));o(d)},onError(e){oo(e)||fB.logger.error("useBeginAgeAssurance failed",{safeMessage:e})}})}();let R;e[4]!==t||e[5]!==_||e[6]!==m?(R=()=>(0,Co.validate)(_)?(j(""),T(!1),m&&RC(_,m)?(j(t({id:"Htk+Ee"})),{status:"maybe"}):{status:"valid"}):(j(t({id:"Wq6Wcm"})),T(!0),{status:"invalid"}),e[4]=t,e[5]=_,e[6]=m,e[7]=R):R=e[7];const B=R;let D;e[8]!==t||e[9]!==o||e[10]!==E||e[11]!==l||e[12]!==h||e[13]!==_||e[14]!==C||e[15]!==B?(D=async()=>{S(!1),o.metric("ageAssurance:initDialogSubmit",{});try{const{status:e}=B();if("invalid"===e)return;if(!C)return void S(!0);await E({email:_,language:C}),x(!0)}catch(M){const s=M;let n=t({id:"qny5F6"});if(s instanceof Ku.XRPCError)"InvalidEmail"===s.error?(n=t({id:"NG58Yu"}),o.metric("ageAssurance:initDialogError",{code:"InvalidEmail"})):"DidTooLong"===s.error?(n=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(dt.Trans,{id:"rZXWbO",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,{to:h({code:dB.AA_DID,email:_}),label:t({id:"mpby9d"})})}})}),o.metric("ageAssurance:initDialogError",{code:"DidTooLong"})):o.metric("ageAssurance:initDialogError",{code:"other"});else{const{clean:e,raw:t}=l(s);n=e||t||n,o.metric("ageAssurance:initDialogError",{code:"other"})}P(n)}},e[8]=t,e[9]=o,e[10]=E,e[11]=l,e[12]=h,e[13]=_,e[14]=C,e[15]=B,e[16]=D):D=e[16];const O=D;let M,F,N,H,V,z,U,W;return e[17]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.align_start],F=(0,bt.jsx)(SE.AgeAssuranceBadge,{}),e[17]=M,e[18]=F):(M=e[17],F=e[18]),e[19]===Symbol.for("react.memo_cache_sentinel")?(N=[qs.atoms.text_xl,qs.atoms.font_bold,qs.atoms.pt_xl,qs.atoms.pb_md],e[19]=N):N=e[19],e[20]!==g?(H=(0,bt.jsx)(co.Text,{style:N,children:g?(0,bt.jsx)(dt.Trans,{id:"oMgC5V"}):(0,bt.jsx)(dt.Trans,{id:"UXfhL/"})}),e[20]=g,e[21]=H):H=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.pb_xl,qs.atoms.gap_sm],e[22]=V):V=e[22],e[23]!==t||e[24]!==g?(z=(0,bt.jsx)(Fs.default,{style:V,children:g?(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"uJHbA8"})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"R06uT6",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,{label:t({id:"YlHZy7"}),to:mB.kwsHome,style:[qs.atoms.text_sm,qs.atoms.leading_snug]})}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"a407rr"})})]})}),e[23]=t,e[24]=g,e[25]=z):z=e[25],e[26]!==t||e[27]!==c||e[28]!==w||e[29]!==_||e[30]!==b||e[31]!==A||e[32]!==u||e[33]!==L||e[34]!==C||e[35]!==v||e[36]!==d||e[37]!==O||e[38]!==B||e[39]!==g||e[40]!==f?(U=g?(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full],children:(0,bt.jsx)(ao.Button,{label:t({id:"cu6iol"}),size:"large",variant:"solid",color:"secondary",onPress:()=>c(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"cu6iol"})})})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_xl,qs.atoms.gap_lg,qs.atoms.pb_lg],children:[f&&(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"xcGGGp",values:{0:u(d,new Date,{format:"long"})}})}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"z8F4/3"})}),(0,bt.jsx)(mo.Root,{isInvalid:!!b,children:(0,bt.jsx)(mo.Input,{label:t({id:"z8F4/3"}),placeholder:t({id:"z8F4/3"}),value:_,onChangeText:y,onFocus:()=>j(""),onBlur:()=>{B()},returnKeyType:"done",autoCapitalize:"none",autoComplete:"off",autoCorrect:!1,onSubmitEditing:O})}),b?(0,bt.jsx)(no.Admonition,{type:"error",style:[qs.atoms.mt_sm],children:b}):(0,bt.jsx)(no.Admonition,{type:"tip",style:[qs.atoms.mt_sm],children:(0,bt.jsx)(dt.Trans,{id:"6P/eQF"})})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ZVJN/B"})}),(0,bt.jsx)(pB,{label:t({id:"5v4qYi"}),value:C,onChange:e=>{I(e),S(!1)},items:hB}),v&&(0,bt.jsx)(no.Admonition,{type:"error",style:[qs.atoms.mt_sm],children:(0,bt.jsx)(dt.Trans,{id:"p5JUFn"})})]}),A&&(0,bt.jsx)(no.Admonition,{type:"error",children:A}),(0,bt.jsxs)(ao.Button,{disabled:w,label:t({id:"OqENEG"}),size:"large",variant:"solid",color:"primary",onPress:O,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"gpCYVr"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:L?lo.Loader:ho.ShieldCheck_Stroke2_Corner0_Rounded,position:"right"})]})]})]}),e[26]=t,e[27]=c,e[28]=w,e[29]=_,e[30]=b,e[31]=A,e[32]=u,e[33]=L,e[34]=C,e[35]=v,e[36]=d,e[37]=O,e[38]=B,e[39]=g,e[40]=f,e[41]=U):U=e[41],e[42]!==U||e[43]!==H||e[44]!==z?(W=(0,bt.jsx)(Fs.default,{children:(0,bt.jsxs)(Fs.default,{style:M,children:[F,H,z,U]})}),e[42]=U,e[43]=H,e[44]=z,e[45]=W):W=e[45],W}function bB(e){const t=(0,n.c)(6),{children:s,style:o}=e,a=(0,xB.useDialogControl)(),r=(0,Fi.useAgeAssurance)();if(r.state.access===r.Access.Full)return null;if("config"===r.state.error){let e;return t[0]!==o?(e=(0,bt.jsx)(TE,{style:o}),t[0]=o,t[1]=e):e=t[1],e}let i;return t[2]!==s||t[3]!==a||t[4]!==o?(i=(0,bt.jsx)(jB,{style:o,control:a,children:s}),t[2]=s,t[3]=a,t[4]=o,t[5]=i):i=t[5],i}function jB(e){const t=(0,n.c)(40),{children:s,style:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)();let l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T;return t[0]!==a.name||t[1]!==a.palette.primary_25?(l=(0,qs.select)(a.name,{light:a.palette.primary_25,dark:a.palette.primary_25,dim:a.palette.primary_25}),t[0]=a.name,t[1]=a.palette.primary_25,t[2]=l):l=t[2],t[3]!==a.name||t[4]!==a.palette.primary_100?(c=(0,qs.select)(a.name,{light:a.palette.primary_100,dark:a.palette.primary_100,dim:a.palette.primary_100}),t[3]=a.name,t[4]=a.palette.primary_100,t[5]=c):c=t[5],t[6]!==l||t[7]!==c?(d=[qs.atoms.p_md,qs.atoms.rounded_md,qs.atoms.border,qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.gap_sm,{backgroundColor:l,borderColor:c}],t[6]=l,t[7]=c,t[8]=d):d=t[8],t[9]!==a.name||t[10]!==a.palette.primary_100?(u=(0,qs.select)(a.name,{light:a.palette.primary_100,dark:a.palette.primary_100,dim:a.palette.primary_100}),t[9]=a.name,t[10]=a.palette.primary_100,t[11]=u):u=t[11],t[12]!==u?(m=[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,{width:32,height:32,backgroundColor:u}],t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ho.ShieldCheck_Stroke2_Corner0_Rounded,{size:"md"}),t[14]=h):h=t[14],t[15]!==m?(p=(0,bt.jsx)(Fs.default,{style:m,children:h}),t[15]=m,t[16]=p):p=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.flex_1,qs.atoms.gap_xs,qs.atoms.pr_4xl],t[17]=f):f=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.text_sm,qs.atoms.leading_snug],t[18]=g):g=t[18],t[19]!==s?(x=(0,bt.jsx)(co.Text,{style:g,children:s}),t[19]=s,t[20]=x):x=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.font_semi_bold],t[21]=_):_=t[21],t[22]!==r?(y=r({id:"UhGK8m"}),t[22]=r,t[23]=y):y=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.font_semi_bold],t[24]=b):b=t[24],t[25]!==i?(j=()=>{i.metric("ageAssurance:navigateToSettings",{})},t[25]=i,t[26]=j):j=t[26],t[27]!==y||t[28]!==j?(v=(0,bt.jsx)(co.Text,{style:_,children:(0,bt.jsx)(dt.Trans,{id:"kjqprW",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:y,to:"/settings/account",style:b,onPress:j})}})}),t[27]=y,t[28]=j,t[29]=v):v=t[29],t[30]!==x||t[31]!==v?(S=(0,bt.jsxs)(Fs.default,{style:f,children:[x,v]}),t[30]=x,t[31]=v,t[32]=S):S=t[32],t[33]!==S||t[34]!==d||t[35]!==p?(w=(0,bt.jsxs)(Fs.default,{style:d,children:[p,S]}),t[33]=S,t[34]=d,t[35]=p,t[36]=w):w=t[36],t[37]!==o||t[38]!==w?(T=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(Fs.default,{style:o,children:w})}),t[37]=o,t[38]=w,t[39]=T):T=t[39],T}function vB(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.w_full,qs.atoms.p_lg,qs.atoms.pr_md,qs.atoms.overflow_hidden,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,bt.jsx)(Fs.default,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}function SB(e){const t=(0,n.c)(2),{avatar:s}=e;let o;return t[0]!==s?(o=(0,bt.jsx)(Gi.UserAvatar,{type:"labeler",size:40,avatar:s}),t[0]=s,t[1]=o):o=t[1],o}function wB(e){const t=(0,n.c)(3),{value:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_tight],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(co.Text,{emoji:!0,style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function TB(e){const t=(0,n.c)(4),{value:s,handle:o}=e,{_:a}=(0,dt.useLingui)();let r;return t[0]!==a||t[1]!==o||t[2]!==s?(r=s?(0,bt.jsx)(co.Text,{numberOfLines:2,children:(0,bt.jsx)(Yi.RichText,{value:s})}):(0,bt.jsx)(co.Text,{emoji:!0,style:[qs.atoms.leading_snug],children:a({id:"aavdrC",values:{0:(0,Fa.sanitizeHandle)(o,"@")}})}),t[0]=a,t[1]=o,t[2]=s,t[3]=r):r=t[3],r}function kB(){const e=(0,n.c)(6),t=(0,qs.useTheme)();let s,o,a,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.pt_2xs,{marginLeft:-2}],e[0]=s):s=e[0],e[1]!==t.atoms.text_contrast_low.color?(o=(0,bt.jsx)(j_,{fill:t.atoms.text_contrast_low.color,size:"sm"}),e[1]=t.atoms.text_contrast_low.color,e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"6EV+IC"})}),e[3]=a):a=e[3],e[4]!==o?(r=(0,bt.jsxs)(Fs.default,{style:s,children:[o,a]}),e[4]=o,e[5]=r):r=e[5],r}function CB(e){const t=(0,n.c)(9),{children:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.align_center,qs.atoms.justify_between],t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.gap_2xs,qs.atoms.flex_1],t[1]=r):r=t[1],t[2]!==s?(i=(0,bt.jsx)(Fs.default,{style:r,children:s}),t[2]=s,t[3]=i):i=t[3],t[4]!==o.atoms.text_contrast_low?(l=(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.z_10,o.atoms.text_contrast_low]}),t[4]=o.atoms.text_contrast_low,t[5]=l):l=t[5],t[6]!==i||t[7]!==l?(c=(0,bt.jsxs)(Fs.default,{style:a,children:[i,l]}),t[6]=i,t[7]=l,t[8]=c):c=t[8],c}function IB(e){const t=(0,n.c)(9),{children:s,labeler:o}=e,{_:a}=(0,dt.useLingui)();let r,i,l;return t[0]!==o.creator.did?(r={screen:"Profile",params:{name:o.creator.did}},t[0]=o.creator.did,t[1]=r):r=t[1],t[2]!==a||t[3]!==o.creator.handle?(i=a({id:"ZC2Eon",values:{0:o.creator.handle}}),t[2]=a,t[3]=o.creator.handle,t[4]=i):i=t[4],t[5]!==s||t[6]!==r||t[7]!==i?(l=(0,bt.jsx)(io.Link,{to:r,label:i,children:s}),t[5]=s,t[6]=r,t[7]=i,t[8]=l):l=t[8],l}function AB(e){const t=(0,n.c)(17),{error:s}=e,o=(0,qs.useTheme)();let a,r,i,l,c,d,u,m,h;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.p_xl],t[0]=a):a=t[0],t[1]!==o.atoms.text_contrast_medium?(r=[qs.atoms.text_md,qs.atoms.leading_normal,qs.atoms.pb_md,o.atoms.text_contrast_medium],t[1]=o.atoms.text_contrast_medium,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(dt.Trans,{id:"c8NEGo"}),t[3]=i):i=t[3],t[4]!==r?(l=(0,bt.jsx)(co.Text,{style:r,children:i}),t[4]=r,t[5]=l):l=t[5],t[6]!==o.atoms.bg_contrast_25?(c=[qs.atoms.relative,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,qs.atoms.mb_2xl,o.atoms.bg_contrast_25],t[6]=o.atoms.bg_contrast_25,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.text_md,qs.atoms.leading_normal],t[8]=d):d=t[8],t[9]!==s?(u=(0,bt.jsx)(co.Text,{style:d,children:s}),t[9]=s,t[10]=u):u=t[10],t[11]!==c||t[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:c,children:u}),t[11]=c,t[12]=u,t[13]=m):m=t[13],t[14]!==l||t[15]!==m?(h=(0,bt.jsxs)(Fs.default,{style:a,children:[l,m]}),t[14]=l,t[15]=m,t[16]=h):h=t[16],h}function PB(e){const t=(0,n.c)(8),{_:s}=(0,dt.useLingui)(),{isLoading:o,error:a,data:r}=(0,xr.usePreferencesQuery)(),i=o,l=a;let c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=c):c=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsxs)(ya.Header.Outer,{children:[c,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"DzmsLV"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=d):d=t[1],t[2]!==s||t[3]!==l||t[4]!==i||t[5]!==r||t[6]!==a?(u=(0,bt.jsxs)(ya.Screen,{testID:"moderationScreen",children:[d,(0,bt.jsx)(ya.Content,{children:i?(0,bt.jsx)(yS,{isLoading:!0,sideBorders:!1}):l||!r?(0,bt.jsx)(AB,{error:a?.toString()||s({id:"y47vGS"})}):(0,bt.jsx)(LB,{preferences:r})})]}),t[2]=s,t[3]=l,t[4]=i,t[5]=r,t[6]=a,t[7]=u):u=t[7],u}function EB(e){const t=(0,n.c)(21),{title:s,icon:o,style:a}=e,r=(0,qs.useTheme)();let i,l,c,d,u,m,h,p,f,g;return t[0]!==a?(i=[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.p_lg,qs.atoms.gap_sm,a],t[0]=a,t[1]=i):i=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md],t[2]=l):l=t[2],t[3]!==r.atoms.text_contrast_medium?(c=[r.atoms.text_contrast_medium],t[3]=r.atoms.text_contrast_medium,t[4]=c):c=t[4],t[5]!==o||t[6]!==c?(d=(0,bt.jsx)(o,{size:"md",style:c}),t[5]=o,t[6]=c,t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.text_sm,qs.atoms.font_semi_bold],t[8]=u):u=t[8],t[9]!==s?(m=(0,bt.jsx)(co.Text,{style:u,children:s}),t[9]=s,t[10]=m):m=t[10],t[11]!==d||t[12]!==m?(h=(0,bt.jsxs)(Fs.default,{style:l,children:[d,m]}),t[11]=d,t[12]=m,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(p={paddingBottom:2},t[14]=p):p=t[14],t[15]!==r.atoms.text_contrast_low?(f=(0,bt.jsx)(mn.ChevronRight_Stroke2_Corner0_Rounded,{size:"sm",style:[r.atoms.text_contrast_low,qs.atoms.self_end,p]}),t[15]=r.atoms.text_contrast_low,t[16]=f):f=t[16],t[17]!==i||t[18]!==h||t[19]!==f?(g=(0,bt.jsxs)(Fs.default,{style:i,children:[h,f]}),t[17]=i,t[18]=h,t[19]=f,t[20]=g):g=t[20],g}function LB(e){const t=(0,n.c)(127),{preferences:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),i=(0,hs.useSetMinimalShellMode)(),{gtMobile:l}=(0,qs.useBreakpoints)(),{mutedWordsDialogControl:c}=(0,Ks.useGlobalDialogsControlContext)(),{isLoading:d,data:u,error:m}=(0,xr.useMyLabelersQuery)(),h=(0,Fi.useAgeAssurance)(),p=(0,iB.useIsBirthdateUpdateAllowed)(),f=Mi();let g;t[0]!==i?(g=()=>{i(!1)},t[0]=i,t[1]=g):g=t[1],(0,Ns.useFocusEffect)(g);const{mutateAsync:x,variables:_}=(0,xr.usePreferencesSetAdultContentMutation)();let y=!!(_&&_.enabled||!_&&s.moderationPrefs.adultContentEnabled);const b=r.IS_IOS&&!y;let j,v=b;h.flags.adultContentDisabled&&(y=!1,v=!0),t[2]!==x?(j=async e=>{try{await x({enabled:e})}catch(w){const t=w;Mt.logger.error("Failed to set adult content pref",{message:t.message})}},t[2]=x,t[3]=j):j=t[3];const S=j,w=l&&qs.atoms.px_2xl;let T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge;return t[4]!==w?(T=[qs.atoms.pt_2xl,qs.atoms.px_lg,w],t[4]=w,t[5]=T):T=t[5],t[6]!==o||t[7]!==h.flags.adultContentDisabled||t[8]!==p?(k=h.flags.adultContentDisabled&&p&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_2xl],children:(0,bt.jsx)(no.Admonition,{type:"tip",style:[qs.atoms.pb_md],children:(0,bt.jsx)(dt.Trans,{id:"Bf+Iv/",components:{0:(0,bt.jsx)(io.InlineLinkText,{to:"/settings/account",label:o({id:"UhGK8m"})})}})})}),t[6]=o,t[7]=h.flags.adultContentDisabled,t[8]=p,t[9]=k):k=t[9],t[10]!==a.atoms.text_contrast_high?(C=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.pb_md,a.atoms.text_contrast_high],t[10]=a.atoms.text_contrast_high,t[11]=C):C=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(dt.Trans,{id:"918nZs"}),t[12]=I):I=t[12],t[13]!==C?(A=(0,bt.jsx)(co.Text,{style:C,children:I}),t[13]=C,t[14]=A):A=t[14],t[15]!==a.atoms.bg_contrast_25?(P=[qs.atoms.w_full,qs.atoms.rounded_md,qs.atoms.overflow_hidden,a.atoms.bg_contrast_25],t[15]=a.atoms.bg_contrast_25,t[16]=P):P=t[16],t[17]!==o?(E=o({id:"RMpIrX"}),t[17]=o,t[18]=E):E=t[18],t[19]!==o||t[20]!==a.atoms.bg_contrast_50?(L=e=>(0,bt.jsx)(EB,{title:o({id:"hyrjdx"}),icon:jT.EditBig_Stroke2_Corner0_Rounded,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[19]=o,t[20]=a.atoms.bg_contrast_50,t[21]=L):L=t[21],t[22]!==E||t[23]!==L?(R=(0,bt.jsx)(io.Link,{label:E,testID:"interactionSettingsBtn",to:"/moderation/interaction-settings",children:L}),t[22]=E,t[23]=L,t[24]=R):R=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(yo,{}),t[25]=B):B=t[25],t[26]!==o?(D=o({id:"MbFkiL"}),t[26]=o,t[27]=D):D=t[27],t[28]!==c?(O=()=>c.open(),t[28]=c,t[29]=O):O=t[29],t[30]!==o||t[31]!==a.atoms.bg_contrast_50?(M=e=>(0,bt.jsx)(EB,{title:o({id:"M9ya/M"}),icon:wf,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[30]=o,t[31]=a.atoms.bg_contrast_50,t[32]=M):M=t[32],t[33]!==D||t[34]!==O||t[35]!==M?(F=(0,bt.jsx)(ao.Button,{testID:"mutedWordsBtn",label:D,onPress:O,children:M}),t[33]=D,t[34]=O,t[35]=M,t[36]=F):F=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(yo,{}),t[37]=N):N=t[37],t[38]!==o?(H=o({id:"tW1+xY"}),t[38]=o,t[39]=H):H=t[39],t[40]!==o||t[41]!==a.atoms.bg_contrast_50?(V=e=>(0,bt.jsx)(EB,{title:o({id:"NTIbv4"}),icon:jx,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[40]=o,t[41]=a.atoms.bg_contrast_50,t[42]=V):V=t[42],t[43]!==H||t[44]!==V?(z=(0,bt.jsx)(io.Link,{label:H,testID:"moderationlistsBtn",to:"/moderation/modlists",children:V}),t[43]=H,t[44]=V,t[45]=z):z=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsx)(yo,{}),t[46]=U):U=t[46],t[47]!==o?(W=o({id:"PsW9QQ"}),t[47]=o,t[48]=W):W=t[48],t[49]!==o||t[50]!==a.atoms.bg_contrast_50?(G=e=>(0,bt.jsx)(EB,{title:o({id:"s22grX"}),icon:pc.Person_Stroke2_Corner0_Rounded,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[49]=o,t[50]=a.atoms.bg_contrast_50,t[51]=G):G=t[51],t[52]!==W||t[53]!==G?(q=(0,bt.jsx)(io.Link,{label:W,testID:"mutedAccountsBtn",to:"/moderation/muted-accounts",children:G}),t[52]=W,t[53]=G,t[54]=q):q=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(yo,{}),t[55]=Q):Q=t[55],t[56]!==o?(K=o({id:"ZRkG+v"}),t[56]=o,t[57]=K):K=t[57],t[58]!==o||t[59]!==a.atoms.bg_contrast_50?(Z=e=>(0,bt.jsx)(EB,{title:o({id:"KWykPE"}),icon:bx.CircleBanSign_Stroke2_Corner0_Rounded,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[58]=o,t[59]=a.atoms.bg_contrast_50,t[60]=Z):Z=t[60],t[61]!==K||t[62]!==Z?(Y=(0,bt.jsx)(io.Link,{label:K,testID:"blockedAccountsBtn",to:"/moderation/blocked-accounts",children:Z}),t[61]=K,t[62]=Z,t[63]=Y):Y=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?($=(0,bt.jsx)(yo,{}),t[64]=$):$=t[64],t[65]!==o?(X=o({id:"gANuJy"}),t[65]=o,t[66]=X):X=t[66],t[67]!==o||t[68]!==a.atoms.bg_contrast_50?(J=e=>(0,bt.jsx)(EB,{title:o({id:"/Idgng"}),icon:wg.CircleCheck_Stroke2_Corner0_Rounded,style:[(e.hovered||e.pressed)&&[a.atoms.bg_contrast_50]]}),t[67]=o,t[68]=a.atoms.bg_contrast_50,t[69]=J):J=t[69],t[70]!==X||t[71]!==J?(ee=(0,bt.jsx)(io.Link,{label:X,testID:"verificationSettingsBtn",to:"/moderation/verification-settings",children:J}),t[70]=X,t[71]=J,t[72]=ee):ee=t[72],t[73]!==R||t[74]!==F||t[75]!==z||t[76]!==q||t[77]!==Y||t[78]!==ee||t[79]!==P?(te=(0,bt.jsxs)(Fs.default,{style:P,children:[R,B,F,N,z,U,q,Q,Y,$,ee]}),t[73]=R,t[74]=F,t[75]=z,t[76]=q,t[77]=Y,t[78]=ee,t[79]=P,t[80]=te):te=t[80],t[81]!==a.atoms.text_contrast_high?(se=[qs.atoms.pt_2xl,qs.atoms.pb_md,qs.atoms.text_md,qs.atoms.font_semi_bold,a.atoms.text_contrast_high],t[81]=a.atoms.text_contrast_high,t[82]=se):se=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,bt.jsx)(dt.Trans,{id:"vQp+7g"}),t[83]=oe):oe=t[83],t[84]!==se?(ne=(0,bt.jsx)(co.Text,{style:se,children:oe}),t[84]=se,t[85]=ne):ne=t[85],t[86]===Symbol.for("react.memo_cache_sentinel")?(ae=[qs.atoms.pb_md],t[86]=ae):ae=t[86],t[87]!==f.notice?(re=(0,bt.jsx)(bB,{style:ae,children:f.notice}),t[87]=f.notice,t[88]=re):re=t[88],t[89]===Symbol.for("react.memo_cache_sentinel")?(ie=[qs.atoms.gap_md],t[89]=ie):ie=t[89],t[90]!==a.atoms.bg_contrast_25?(le=[qs.atoms.w_full,qs.atoms.rounded_md,qs.atoms.overflow_hidden,a.atoms.bg_contrast_25],t[90]=a.atoms.bg_contrast_25,t[91]=le):le=t[91],t[92]!==o||t[93]!==h.Access.Full||t[94]!==h.state.access||t[95]!==y||t[96]!==v||t[97]!==b||t[98]!==S||t[99]!==a.atoms.text_contrast_high||t[100]!==a.atoms.text_contrast_medium?(ce=h.state.access===h.Access.Full&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.py_lg,qs.atoms.px_lg,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,v&&{opacity:.5}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,a.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"8iLAJ5"})}),(0,bt.jsx)(af.Item,{label:o({id:"4tj/JO"}),disabled:v,name:"adultContent",value:y,onChange:S,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[a.atoms.text_contrast_medium],children:y?(0,bt.jsx)(dt.Trans,{id:"RxzN1M"}):(0,bt.jsx)(dt.Trans,{id:"E/QGRL"})}),(0,bt.jsx)(af.Switch,{})]})})]}),b&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_lg,qs.atoms.px_lg],children:(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"xiMmLz",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:o({id:"60qGwF"}),to:"",onPress:RB})}})})}),y&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsx)(IT,{labelDefinition:Dn.LABELS.porn}),(0,bt.jsx)(yo,{}),(0,bt.jsx)(IT,{labelDefinition:Dn.LABELS.sexual}),(0,bt.jsx)(yo,{}),(0,bt.jsx)(IT,{labelDefinition:Dn.LABELS["graphic-media"]}),(0,bt.jsx)(yo,{}),(0,bt.jsx)(IT,{labelDefinition:Dn.LABELS.nudity})]})]}),t[92]=o,t[93]=h.Access.Full,t[94]=h.state.access,t[95]=y,t[96]=v,t[97]=b,t[98]=S,t[99]=a.atoms.text_contrast_high,t[100]=a.atoms.text_contrast_medium,t[101]=ce):ce=t[101],t[102]!==le||t[103]!==ce?(de=(0,bt.jsx)(Fs.default,{style:ie,children:(0,bt.jsx)(Fs.default,{style:le,children:ce})}),t[102]=le,t[103]=ce,t[104]=de):de=t[104],t[105]!==a.atoms.text_contrast_high?(ue=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.pt_2xl,qs.atoms.pb_md,a.atoms.text_contrast_high],t[105]=a.atoms.text_contrast_high,t[106]=ue):ue=t[106],t[107]===Symbol.for("react.memo_cache_sentinel")?(me=(0,bt.jsx)(dt.Trans,{id:"sxkWRg"}),t[107]=me):me=t[107],t[108]!==ue?(he=(0,bt.jsx)(co.Text,{style:ue,children:me}),t[108]=ue,t[109]=he):he=t[109],t[110]!==d||t[111]!==u||t[112]!==m||t[113]!==a.atoms.bg_contrast_25||t[114]!==a.atoms.bg_contrast_50?(pe=d?(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.p_lg],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):m||!u?(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,qs.atoms.rounded_sm,a.atoms.bg_contrast_25],children:(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"GhA80w"})})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_sm,a.atoms.bg_contrast_25],children:u.map(((e,t)=>(0,bt.jsxs)(lt.Fragment,{children:[0!==t&&(0,bt.jsx)(yo,{}),(0,bt.jsx)(IB,{labeler:e,children:s=>(0,bt.jsxs)(vB,{style:[0===t&&{borderTopLeftRadius:qs.atoms.rounded_sm.borderRadius,borderTopRightRadius:qs.atoms.rounded_sm.borderRadius},t===u.length-1&&{borderBottomLeftRadius:qs.atoms.rounded_sm.borderRadius,borderBottomRightRadius:qs.atoms.rounded_sm.borderRadius},(s.hovered||s.pressed)&&[a.atoms.bg_contrast_50]],children:[(0,bt.jsx)(SB,{avatar:e.creator.avatar}),(0,bt.jsxs)(CB,{children:[(0,bt.jsx)(wB,{value:(0,Wu.getLabelingServiceTitle)({displayName:e.creator.displayName,handle:e.creator.handle})}),(0,bt.jsx)(TB,{value:e.creator.description,handle:e.creator.handle}),(0,lB.isNonConfigurableModerationAuthority)(e.creator.did)&&(0,bt.jsx)(kB,{})]})]})})]},e.creator.did)))}),t[110]=d,t[111]=u,t[112]=m,t[113]=a.atoms.bg_contrast_25,t[114]=a.atoms.bg_contrast_50,t[115]=pe):pe=t[115],t[116]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,bt.jsx)(Fs.default,{style:{height:150}}),t[116]=fe):fe=t[116],t[117]!==te||t[118]!==ne||t[119]!==re||t[120]!==T||t[121]!==de||t[122]!==he||t[123]!==pe||t[124]!==k||t[125]!==A?(ge=(0,bt.jsxs)(Fs.default,{style:T,children:[k,A,te,ne,re,de,he,pe,fe]}),t[117]=te,t[118]=ne,t[119]=re,t[120]=T,t[121]=de,t[122]=he,t[123]=pe,t[124]=k,t[125]=A,t[126]=ge):ge=t[126],ge}function RB(e){return e.preventDefault(),In.default.openURL("https://bsky.app/"),!1}var BB=s(92005);function DB(){const e=(0,n.c)(17),{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["base"],e[0]=o):o=e[0];const a=(0,qs.useGutters)(o),{data:r}=(0,xr.usePreferencesQuery)();let i,l,c,d,u,m,h,p;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(ya.Header.BackButton,{}),e[1]=i):i=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(ya.Header.Outer,{children:[i,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"JogI0j"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),e[2]=l):l=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.flex_1],e[3]=c):c=e[3],e[4]!==t?(d=t({id:"XCWG6Q"}),e[4]=t,e[5]=d):d=e[5],e[6]!==s?(u=()=>{s.metric("verification:learn-more",{location:"verificationSettings"})},e[6]=s,e[7]=u):u=e[7],e[8]!==d||e[9]!==u?(m=(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(no.Admonition,{type:"tip",style:c,children:(0,bt.jsx)(dt.Trans,{id:"NXGB4m",components:{0:(0,bt.jsx)(io.InlineLinkText,{overridePresentation:!0,to:Vt.urls.website.blog.initialVerificationAnnouncement,label:d,onPress:u})}})})}),e[8]=d,e[9]=u,e[10]=m):m=e[10],e[11]!==a||e[12]!==r?(h=r?(0,bt.jsx)(OB,{preferences:r}):(0,bt.jsx)(Fs.default,{style:[a,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),e[11]=a,e[12]=r,e[13]=h):h=e[13],e[14]!==m||e[15]!==h?(p=(0,bt.jsxs)(ya.Screen,{testID:"ModerationVerificationSettingsScreen",children:[l,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[m,h]})})]}),e[14]=m,e[15]=h,e[16]=p):p=e[16],p}function OB(e){const t=(0,n.c)(11),{preferences:s}=e,{_:o}=(0,dt.useLingui)(),{hideBadges:a}=s.verificationPrefs,{mutate:r,isPending:i}=(0,xr.useSetVerificationPrefsMutation)();let l,c,d,u,m;return t[0]!==o?(l=o({id:"dou2yc"}),t[0]=o,t[1]=l):l=t[1],t[2]!==r?(c=e=>{r({hideBadges:e})},t[2]=r,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(BB.ItemIcon,{icon:wg.CircleCheck_Stroke2_Corner0_Rounded}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(BB.Item,{children:[d,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"dou2yc"})}),(0,bt.jsx)(af.Platform,{})]}),t[5]=u):u=t[5],t[6]!==a||t[7]!==i||t[8]!==l||t[9]!==c?(m=(0,bt.jsx)(af.Item,{type:"checkbox",name:"hideBadges",label:l,value:a,disabled:i,onChange:c,children:u}),t[6]=a,t[7]=i,t[8]=l,t[9]=c,t[10]=m):m=t[10],m}var MB=s(82352),FB=s.n(MB);function NB(e){const t=(0,n.c)(7);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{onError:o,onSettled:a}=s,r=(0,On.useQueryClient)(),i=(0,Gt.useAgent)();let l;return t[2]!==i||t[3]!==o||t[4]!==a||t[5]!==r?(l={async mutationFn(e){await i.setPostInteractionSettings(e)},async onSuccess(){await r.invalidateQueries({queryKey:xr.preferencesQueryKey})},onError:o,onSettled:a},t[2]=i,t[3]=o,t[4]=a,t[5]=r,t[6]=l):l=t[6],(0,go.useMutation)(l)}function HB(){const e=(0,n.c)(12);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["base"],e[0]=t):t=e[0];const s=(0,qs.useGutters)(t),{data:o}=(0,xr.usePreferencesQuery)();let a,r,i,l,c,d;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"qX55km"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),e[2]=r):r=e[2],e[3]!==s?(i=[s,qs.atoms.gap_xl],e[3]=s,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"iZYMiH"})}),e[5]=l):l=e[5],e[6]!==s||e[7]!==o?(c=o?(0,bt.jsx)(VB,{preferences:o}):(0,bt.jsx)(Fs.default,{style:[s,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),e[6]=s,e[7]=o,e[8]=c):c=e[8],e[9]!==i||e[10]!==c?(d=(0,bt.jsxs)(ya.Screen,{testID:"ModerationInteractionSettingsScreen",children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:i,children:[l,c]})})]}),e[9]=i,e[10]=c,e[11]=d):d=e[11],d}function VB({preferences:e}){const{_:t}=(0,dt.useLingui)(),{mutateAsync:s,isPending:o}=NB(),[n,a]=lt.useState(void 0),r=lt.useMemo((()=>(0,Yd.threadgateRecordToAllowUISetting)({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toString(),allow:e.postInteractionSettings.threadgateAllowRules})),[e.postInteractionSettings.threadgateAllowRules]),i=lt.useMemo((()=>Wd({post:"",embeddingRules:e.postInteractionSettings.postgateEmbeddingRules})),[e.postInteractionSettings.postgateEmbeddingRules]),[l,c]=lt.useState(r),[d,u]=lt.useState(i),m=lt.useMemo((()=>!FB()(r,l)||!FB()(i.embeddingRules,d.embeddingRules)),[i,r,l,d]),h=lt.useCallback((async()=>{a("");try{await s({threadgateAllowRules:(0,Yd.threadgateAllowUISettingToAllowRecordValue)(l),postgateEmbeddingRules:d.embeddingRules??[]}),Ds.show(t({id:"4fNKE2"}))}catch(e){Mt.logger.error("Failed to save post interaction settings",{source:"ModerationInteractionSettingsScreen",safeMessage:e.message}),a(t({id:"HFJEro"}))}}),[t,d,l,s]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(gf,{canSave:m,isSaving:o,onSave:h,postgate:d,onChangePostgate:u,threadgateAllowUISettings:l,onChangeThreadgateAllowUISettings:c}),n&&(0,bt.jsx)(no.Admonition,{type:"error",children:n})]})}function zB(e){const t=(0,n.c)(7),{route:s}=e,{params:o}=s,{posts:a}=o,r=decodeURIComponent(a),{_:i}=(0,dt.useLingui)();let l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=l):l=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(ya.Header.Outer,{children:[l,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=c):c=t[1];const d=`posts|${r}`;let u,m;return t[2]!==i?(u=()=>(0,bt.jsx)(pS.EmptyState,{icon:jT.EditBig_Stroke1_Corner0_Rounded,iconSize:"2xl",message:i({id:"Gj0beT"})}),t[2]=i,t[3]=u):u=t[3],t[4]!==d||t[5]!==u?(m=(0,bt.jsxs)(ya.Screen,{testID:"NotificationsActivityListScreen",children:[c,(0,bt.jsx)(Ag,{feed:d,disablePoll:!0,renderEmptyState:u,renderEndOfFeed:UB})]}),t[4]=d,t[5]=u,t[6]=m):m=t[6],m}function UB(){return(0,bt.jsx)(xS,{})}const WB=e=>{const t=(0,n.c)(19),{route:s}=e,o=(0,hs.useSetMinimalShellMode)(),{name:a,rkey:r}=s.params;let i;t[0]!==a||t[1]!==r?(i=(0,zt.makeRecordUri)(a,"app.bsky.feed.post",r),t[0]=a,t[1]=r,t[2]=i):i=t[2];const l=i,{data:c}=(0,Sp.usePostQuery)(l);let d,u,m,h,p,f,g,x,_;return c&&(d=c.likeCount),t[3]!==o?(u=()=>{o(!1)},t[3]=o,t[4]=u):u=t[4],(0,Ns.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(ya.Header.BackButton,{}),t[5]=m):m=t[5],t[6]!==d||t[7]!==c?(h=c&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"d2RphL"})}),(0,bt.jsx)(ya.Header.SubtitleText,{children:(0,bt.jsx)(dt.Trans,{id:"J6qsxL",values:{0:d??0}})})]}),t[6]=d,t[7]=c,t[8]=h):h=t[8],t[9]!==h?(p=(0,bt.jsx)(ya.Header.Content,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ya.Header.Slot,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,bt.jsxs)(ya.Header.Outer,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==l?(x=(0,bt.jsx)(rk,{uri:l}),t[14]=l,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,bt.jsxs)(ya.Screen,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};var GB=s(19260);function qB({item:e,index:t}){return(0,bt.jsx)(Wb,{post:e.post,hideTopBorder:0===t})}function QB(e){return e.post.uri}function KB(e){const t=(0,n.c)(41),{uri:s}=e,{_:o}=(0,dt.useLingui)(),a=$r(),[r,i]=(0,lt.useState)(!1),l=MS("PostQuotes"),{data:c,error:d,isLoading:u}=(0,_r.useResolveUriQuery)(s),{data:m,isLoading:h,isFetchingNextPage:p,hasNextPage:f,fetchNextPage:g,error:x,refetch:_}=(0,GB.usePostQuotesQuery)(c?.uri),y=(0,ds.useModerationOpts)(),b=Boolean(d||x);let j;t[0]!==m?.pages||t[1]!==y?(j=m?.pages.flatMap((e=>e.posts.map((e=>{if(!Dn.AppBskyFeedPost.isRecord(e.record)||!y)return null;const t=(0,Dn.moderatePost)(e,y);return{post:e,record:e.record,moderation:t}})))).filter(ZB)??[],t[0]=m?.pages,t[1]=y,t[2]=j):j=t[2];const v=j;let S;t[3]!==_?(S=async()=>{i(!0);try{await _()}catch(T){const t=T;Mt.logger.error("Failed to refresh quotes",{message:t})}i(!1)},t[3]=_,t[4]=S):S=t[4];const w=S;let T;t[5]!==g||t[6]!==f||t[7]!==b||t[8]!==p?(T=async()=>{if(!p&&f&&!b)try{await g()}catch(C){const t=C;Mt.logger.error("Failed to load more quotes",{message:t})}},t[5]=g,t[6]=f,t[7]=b,t[8]=p,t[9]=T):T=t[9];const k=T;if(v.length<1){const e=u||h;let s,n;t[10]!==o?(s=o({id:"/Xg6f6"}),t[10]=o,t[11]=s):s=t[11],t[12]!==o?(n=o({id:"CmA7By"}),t[12]=o,t[13]=n):n=t[13];const a=d||x;let r,i;return t[14]!==a?(r=(0,Tn.cleanError)(a),t[14]=a,t[15]=r):r=t[15],t[16]!==b||t[17]!==e||t[18]!==s||t[19]!==n||t[20]!==r?(i=(0,bt.jsx)(yS,{isLoading:e,isError:b,emptyType:"results",emptyTitle:s,emptyMessage:n,errorMessage:r,sideBorders:!1}),t[16]=b,t[17]=e,t[18]=s,t[19]=n,t[20]=r,t[21]=i):i=t[21],i}let C,I,A,P,E;return t[22]!==l?(C=e=>l(e.post),t[22]=l,t[23]=C):C=t[23],t[24]!==x?(I=(0,Tn.cleanError)(x),t[24]=x,t[25]=I):I=t[25],t[26]!==o?(A=o({id:"n8U9gf"}),t[26]=o,t[27]=A):A=t[27],t[28]!==g||t[29]!==p||t[30]!==I||t[31]!==A?(P=(0,bt.jsx)(xS,{isFetchingNextPage:p,error:I,onRetry:g,showEndMessage:!0,endMessageText:A}),t[28]=g,t[29]=p,t[30]=I,t[31]=A,t[32]=P):P=t[32],t[33]!==a||t[34]!==r||t[35]!==k||t[36]!==w||t[37]!==v||t[38]!==C||t[39]!==P?(E=(0,bt.jsx)(ei.List,{data:v,renderItem:qB,keyExtractor:QB,refreshing:r,onRefresh:w,onEndReached:k,onEndReachedThreshold:4,onItemSeen:C,ListFooterComponent:P,desktopFixedHeight:!0,initialNumToRender:a,windowSize:11,sideBorders:!1}),t[33]=a,t[34]=r,t[35]=k,t[36]=w,t[37]=v,t[38]=C,t[39]=P,t[40]=E):E=t[40],E}function ZB(e){return null!==e}const YB=e=>{const t=(0,n.c)(19),{route:s}=e,o=(0,hs.useSetMinimalShellMode)(),{name:a,rkey:r}=s.params;let i;t[0]!==a||t[1]!==r?(i=(0,zt.makeRecordUri)(a,"app.bsky.feed.post",r),t[0]=a,t[1]=r,t[2]=i):i=t[2];const l=i,{data:c}=(0,Sp.usePostQuery)(l);let d,u,m,h,p,f,g,x,_;return c&&(d=c.quoteCount),t[3]!==o?(u=()=>{o(!1)},t[3]=o,t[4]=u):u=t[4],(0,Ns.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(ya.Header.BackButton,{}),t[5]=m):m=t[5],t[6]!==c||t[7]!==d?(h=c&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"eWLklq"})}),(0,bt.jsx)(ya.Header.SubtitleText,{children:(0,bt.jsx)(dt.Trans,{id:"0Wv08D",values:{0:d??0}})})]}),t[6]=c,t[7]=d,t[8]=h):h=t[8],t[9]!==h?(p=(0,bt.jsx)(ya.Header.Content,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ya.Header.Slot,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,bt.jsxs)(ya.Header.Outer,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==l?(x=(0,bt.jsx)(KB,{uri:l}),t[14]=l,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,bt.jsxs)(ya.Screen,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};var $B=s(10181);function XB({item:e,index:t}){return(0,bt.jsx)(ok,{profile:e,noBorder:0===t},e.did)}function JB(e){return e.did}function eD(e){const t=(0,n.c)(35),{uri:s}=e,{_:o}=(0,dt.useLingui)(),a=$r(),[r,i]=(0,lt.useState)(!1),{data:l,error:c,isLoading:d}=(0,_r.useResolveUriQuery)(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=(0,$B.usePostRepostedByQuery)(l?.uri),_=Boolean(c||g);let y;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(tD),t[0]=u.pages,t[1]=e):e=t[1],y=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],y=e}const b=y;let j;t[3]!==x?(j=async()=>{i(!0);try{await x()}catch(S){const t=S;Mt.logger.error("Failed to refresh reposts",{message:t})}i(!1)},t[3]=x,t[4]=j):j=t[4];const v=j;let S;t[5]!==f||t[6]!==p||t[7]!==_||t[8]!==h?(S=async()=>{if(!h&&p&&!_)try{await f()}catch(T){const t=T;Mt.logger.error("Failed to load more reposts",{message:t})}},t[5]=f,t[6]=p,t[7]=_,t[8]=h,t[9]=S):S=t[9];const w=S;if(b.length<1){const e=d||m;let s,n;t[10]!==o?(s=o({id:"2aFsVD"}),t[10]=o,t[11]=s):s=t[11],t[12]!==o?(n=o({id:"V5rsDs"}),t[12]=o,t[13]=n):n=t[13];const a=c||g;let r,i;return t[14]!==a?(r=(0,Tn.cleanError)(a),t[14]=a,t[15]=r):r=t[15],t[16]!==_||t[17]!==e||t[18]!==s||t[19]!==n||t[20]!==r?(i=(0,bt.jsx)(yS,{isLoading:e,isError:_,emptyType:"results",emptyTitle:s,emptyMessage:n,errorMessage:r,sideBorders:!1}),t[16]=_,t[17]=e,t[18]=s,t[19]=n,t[20]=r,t[21]=i):i=t[21],i}let T,k,C;return t[22]!==g?(T=(0,Tn.cleanError)(g),t[22]=g,t[23]=T):T=t[23],t[24]!==f||t[25]!==h||t[26]!==T?(k=(0,bt.jsx)(xS,{isFetchingNextPage:h,error:T,onRetry:f}),t[24]=f,t[25]=h,t[26]=T,t[27]=k):k=t[27],t[28]!==a||t[29]!==r||t[30]!==w||t[31]!==v||t[32]!==b||t[33]!==k?(C=(0,bt.jsx)(ei.List,{data:b,renderItem:XB,keyExtractor:JB,refreshing:r,onRefresh:v,onEndReached:w,onEndReachedThreshold:4,ListFooterComponent:k,desktopFixedHeight:!0,initialNumToRender:a,windowSize:11,sideBorders:!1}),t[28]=a,t[29]=r,t[30]=w,t[31]=v,t[32]=b,t[33]=k,t[34]=C):C=t[34],C}function tD(e){return e.repostedBy}const sD=e=>{const t=(0,n.c)(19),{route:s}=e,{name:o,rkey:a}=s.params;let r;t[0]!==o||t[1]!==a?(r=(0,zt.makeRecordUri)(o,"app.bsky.feed.post",a),t[0]=o,t[1]=a,t[2]=r):r=t[2];const i=r,l=(0,hs.useSetMinimalShellMode)(),{data:c}=(0,Sp.usePostQuery)(i);let d,u,m,h,p,f,g,x,_;return c&&(d=c.repostCount),t[3]!==l?(u=()=>{l(!1)},t[3]=l,t[4]=u):u=t[4],(0,Ns.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(ya.Header.BackButton,{}),t[5]=m):m=t[5],t[6]!==c||t[7]!==d?(h=c&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"d11QMf"})}),(0,bt.jsx)(ya.Header.SubtitleText,{children:(0,bt.jsx)(dt.Trans,{id:"4xWh2D",values:{0:d??0}})})]}),t[6]=c,t[7]=d,t[8]=h):h=t[8],t[9]!==h?(p=(0,bt.jsx)(ya.Header.Content,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ya.Header.Slot,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,bt.jsxs)(ya.Header.Outer,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==i?(x=(0,bt.jsx)(eD,{uri:i}),t[14]=i,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,bt.jsxs)(ya.Screen,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};var oD=s(27306);function nD({item:e,index:t}){return(0,bt.jsx)(ok,{profile:e,noBorder:0===t},e.did)}function aD(e){return e.did}const rD=e=>{const t=(0,n.c)(50),{route:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,hs.useSetMinimalShellMode)(),r=$r(),{name:i}=s.params,[l,c]=lt.useState(!1),{data:d,isLoading:u,error:m}=(0,_r.useResolveDidQuery)(s.params.name),{data:h,isLoading:p,isFetchingNextPage:f,hasNextPage:g,fetchNextPage:x,error:_,refetch:y}=(0,oD.useProfileKnownFollowersQuery)(d);let b;t[0]!==y?(b=async()=>{c(!0);try{await y()}catch(v){const t=v;Mt.logger.error("Failed to refresh followers",{message:t})}c(!1)},t[0]=y,t[1]=b):b=t[1];const j=b;let v;t[2]!==_||t[3]!==x||t[4]!==g||t[5]!==f?(v=async()=>{if(!f&&g&&!_)try{await x()}catch(w){const t=w;Mt.logger.error("Failed to load more followers",{message:t})}},t[2]=_,t[3]=x,t[4]=g,t[5]=f,t[6]=v):v=t[6];const S=v;let w;e:{if(h?.pages){let e;t[7]!==h.pages?(e=h.pages.flatMap(iD),t[7]=h.pages,t[8]=e):e=t[8],w=e;break e}let e;t[9]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[9]=e):e=t[9],w=e}const T=w,k=Boolean(m||_);let C,I,A,P,E,L,R;if(t[10]!==a?(C=()=>{a(!1)},t[10]=a,t[11]=C):C=t[11],(0,Ns.useFocusEffect)(C),T.length<1){let e,s;t[12]!==o?(e=o({id:"TyTvoo"}),t[12]=o,t[13]=e):e=t[13],t[14]!==e?(s=(0,bt.jsx)(ka,{title:e}),t[14]=e,t[15]=s):s=t[15];const n=u||p;let a;t[16]!==o||t[17]!==i?(a=o({id:"eGkQ9j",values:{name:i}}),t[16]=o,t[17]=i,t[18]=a):a=t[18];const r=m||_;let l;t[19]!==r?(l=(0,Tn.cleanError)(r),t[19]=r,t[20]=l):l=t[20];const c=k?y:void 0;let d,h;return t[21]!==k||t[22]!==l||t[23]!==c||t[24]!==n||t[25]!==a?(d=(0,bt.jsx)(yS,{isLoading:n,isError:k,emptyType:"results",emptyMessage:a,errorMessage:l,onRetry:c,topBorder:!1,sideBorders:!1}),t[21]=k,t[22]=l,t[23]=c,t[24]=n,t[25]=a,t[26]=d):d=t[26],t[27]!==d||t[28]!==s?(h=(0,bt.jsxs)(ya.Screen,{children:[s,d]}),t[27]=d,t[28]=s,t[29]=h):h=t[29],h}return t[30]!==o?(I=o({id:"TyTvoo"}),t[30]=o,t[31]=I):I=t[31],t[32]!==I?(A=(0,bt.jsx)(ka,{title:I}),t[32]=I,t[33]=A):A=t[33],t[34]!==_?(P=(0,Tn.cleanError)(_),t[34]=_,t[35]=P):P=t[35],t[36]!==x||t[37]!==f||t[38]!==P?(E=(0,bt.jsx)(xS,{isFetchingNextPage:f,error:P,onRetry:x}),t[36]=x,t[37]=f,t[38]=P,t[39]=E):E=t[39],t[40]!==T||t[41]!==r||t[42]!==l||t[43]!==S||t[44]!==j||t[45]!==E?(L=(0,bt.jsx)(ei.List,{data:T,renderItem:nD,keyExtractor:aD,refreshing:l,onRefresh:j,onEndReached:S,onEndReachedThreshold:4,ListFooterComponent:E,desktopFixedHeight:!0,initialNumToRender:r,windowSize:11,sideBorders:!1}),t[40]=T,t[41]=r,t[42]=l,t[43]=S,t[44]=j,t[45]=E,t[46]=L):L=t[46],t[47]!==A||t[48]!==L?(R=(0,bt.jsxs)(ya.Screen,{children:[A,L]}),t[47]=A,t[48]=L,t[49]=R):R=t[49],R};function iD(e){return e.followers}function lD(){const e=(0,n.c)(15),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(ya.Header.BackButton,{}),e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={height:40},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25?(a=(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.rounded_sm,t.atoms.bg_contrast_25,o]})}),e[2]=t.atoms.bg_contrast_25,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r={height:34,width:34},e[4]=r):r=e[4],e[5]!==t.atoms.bg_contrast_25?(i=[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.rounded_full,t.atoms.bg_contrast_25,r],e[5]=t.atoms.bg_contrast_25,e[6]=i):i=e[6],e[7]!==t.atoms.text_contrast_low.color?(l=(0,bt.jsx)(Qi,{size:"lg",fill:t.atoms.text_contrast_low.color}),e[7]=t.atoms.text_contrast_low.color,e[8]=l):l=e[8],e[9]!==i||e[10]!==l?(c=(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(Fs.default,{style:i,children:l})}),e[9]=i,e[10]=l,e[11]=c):c=e[11],e[12]!==a||e[13]!==c?(d=(0,bt.jsxs)(ya.Header.Outer,{children:[s,a,c]}),e[12]=a,e[13]=c,e[14]=d):d=e[14],d}function cD(e){const t=(0,n.c)(85),{info:s}=e,o=(0,qs.useTheme)(),{_:a,i18n:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),{hasSession:c}=(0,Gt.useSession)(),{gtMobile:d}=(0,qs.useBreakpoints)(),u=Qs.useDialogControl(),m=(0,im.useHaptics)(),{data:h}=(0,xr.usePreferencesQuery)(),[p,f]=lt.useState(s.likeUri||""),g=(s.likeCount||0)+(p&&!s.likeUri?1:!p&&s.likeUri?-1:0),{mutateAsync:x,isPending:_}=(0,xr.useAddSavedFeedsMutation)(),{mutateAsync:y,isPending:b}=(0,xr.useRemoveFeedMutation)(),{mutateAsync:j,isPending:v}=(0,xr.useUpdateSavedFeedsMutation)(),S=_||b||v;let w;t[0]!==s.uri||t[1]!==h?.savedFeeds?(w=h?.savedFeeds?.find((e=>e.value===s.uri)),t[0]=s.uri,t[1]=h?.savedFeeds,t[2]=w):w=t[2];const T=w,k=Boolean(T),C=Boolean(T?.pinned);let I;t[3]!==a||t[4]!==x||t[5]!==l||t[6]!==s.uri||t[7]!==m||t[8]!==y||t[9]!==T?(I=async()=>{try{m(),T?(await y(T),Ds.show(a({id:"lLrUFY"})),l.metric("feed:unsave",{feedUrl:s.uri})):(await x([{type:"feed",value:s.uri,pinned:!1}]),Ds.show(a({id:"faoc1p"})),l.metric("feed:save",{feedUrl:s.uri}))}catch(P){const t=P;Ds.show(a({id:"BUQ9V9"}),"xmark"),Mt.logger.error("Failed to update feeds",{message:t})}},t[3]=a,t[4]=x,t[5]=l,t[6]=s.uri,t[7]=m,t[8]=y,t[9]=T,t[10]=I):I=t[10];const A=I;let P;t[11]!==a||t[12]!==x||t[13]!==l||t[14]!==s.displayName||t[15]!==s.uri||t[16]!==m||t[17]!==T||t[18]!==j?(P=async()=>{try{if(m(),T){const e=!T.pinned;await j([Object.assign({},T,{pinned:e})]),e?(Ds.show(a({id:"ofKt50",values:{0:s.displayName}})),l.metric("feed:pin",{feedUrl:s.uri})):(Ds.show(a({id:"eHvRer",values:{0:s.displayName}})),l.metric("feed:unpin",{feedUrl:s.uri}))}else await x([{type:"feed",value:s.uri,pinned:!0}]),Ds.show(a({id:"ofKt50",values:{0:s.displayName}})),l.metric("feed:pin",{feedUrl:s.uri})}catch(L){const t=L;Ds.show(a({id:"6bZi7H"}),"xmark"),Mt.logger.error("Failed to toggle pinned feed",{message:t})}},t[11]=a,t[12]=x,t[13]=l,t[14]=s.displayName,t[15]=s.uri,t[16]=m,t[17]=T,t[18]=j,t[19]=P):P=t[19];const E=P,L=o.atoms.bg;let R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$;return t[20]===Symbol.for("react.memo_cache_sentinel")?(R=(0,qs.web)([qs.atoms.sticky,qs.atoms.z_10,{top:0}]),t[20]=R):R=t[20],t[21]!==o.atoms.bg?(B=[L,qs.atoms.z_10,R],t[21]=o.atoms.bg,t[22]=B):B=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(ya.Header.BackButton,{}),t[23]=D):D=t[23],t[24]!==a?(O=a({id:"BUgm1N"}),t[24]=a,t[25]=O):O=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.justify_start,{paddingVertical:r.IS_WEB?2:4,paddingRight:8}],t[26]=M):M=t[26],t[27]!==u||t[28]!==m?(F=()=>{m(),u.open()},t[27]=u,t[28]=m,t[29]=F):F=t[29],t[30]!==d||t[31]!==i||t[32]!==s.avatar||t[33]!==s.creatorHandle||t[34]!==s.displayName||t[35]!==g||t[36]!==p||t[37]!==o.atoms.bg_contrast_25||t[38]!==o.atoms.text_contrast_low.color||t[39]!==o.atoms.text_contrast_medium||t[40]!==o.palette?(N=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.rounded_sm,qs.atoms.transition_all,o.atoms.bg_contrast_25,{opacity:0,left:r.IS_WEB?-2:-4,right:0},n&&{opacity:1},t&&{opacity:1,transform:[{scaleX:1.01},{scaleY:1.1}]}]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[s.avatar&&(0,bt.jsx)(Gi.UserAvatar,{size:36,type:"algo",avatar:s.avatar}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_bold,qs.atoms.leading_snug,d&&qs.atoms.text_lg],numberOfLines:2,emoji:!0,children:s.displayName}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,{gap:6}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_shrink,qs.atoms.text_sm,qs.atoms.leading_snug,o.atoms.text_contrast_medium],numberOfLines:1,children:(0,Fa.sanitizeHandle)(s.creatorHandle,"@")}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,{gap:2}],children:[(0,bt.jsx)(ii,{size:"xs",fill:p?o.palette.like:o.atoms.text_contrast_low.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,o.atoms.text_contrast_medium],numberOfLines:1,children:(0,Bc.formatCount)(i,g)})]})]})]}),(0,bt.jsx)(Qp,{size:"md",fill:o.atoms.text_contrast_low.color})]})]})},t[30]=d,t[31]=i,t[32]=s.avatar,t[33]=s.creatorHandle,t[34]=s.displayName,t[35]=g,t[36]=p,t[37]=o.atoms.bg_contrast_25,t[38]=o.atoms.text_contrast_low.color,t[39]=o.atoms.text_contrast_medium,t[40]=o.palette,t[41]=N):N=t[41],t[42]!==F||t[43]!==N||t[44]!==O?(H=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ao.Button,{label:O,style:M,onPress:F,children:N})}),t[42]=F,t[43]=N,t[44]=O,t[45]=H):H=t[45],t[46]!==a||t[47]!==c||t[48]!==S||t[49]!==C||t[50]!==k||t[51]!==E||t[52]!==A||t[53]!==o.palette?(V=c&&(0,bt.jsx)(ya.Header.Slot,{children:C?(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:a({id:"HDh1Y6"}),children:e=>{const{props:t}=e;return(0,bt.jsx)(ao.Button,Object.assign({},t,{label:a({id:"HDh1Y6"}),size:"small",variant:"ghost",shape:"square",color:"secondary",children:(0,bt.jsx)(Ki,{size:"lg",fill:o.palette.primary_500})}))}}),(0,bt.jsxs)(Kp.Outer,{children:[(0,bt.jsxs)(Kp.Item,{disabled:S,label:a({id:"CrB+p0"}),onPress:E,children:[(0,bt.jsx)(Kp.ItemText,{children:a({id:"CrB+p0"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{disabled:S,label:a(k?{id:"Yy3FzB"}:{id:"VjLHSR"}),onPress:A,children:[(0,bt.jsx)(Kp.ItemText,{children:a(k?{id:"Yy3FzB"}:{id:"VjLHSR"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:k?ml.Trash_Stroke2_Corner0_Rounded:zg.PlusLarge_Stroke2_Corner0_Rounded,position:"right"})]})]})]}):(0,bt.jsx)(ao.Button,{label:a({id:"SlO/Ik"}),size:"small",variant:"ghost",shape:"square",color:"secondary",onPress:E,children:(0,bt.jsx)(ao.ButtonIcon,{icon:Qi,size:"lg"})})}),t[46]=a,t[47]=c,t[48]=S,t[49]=C,t[50]=k,t[51]=E,t[52]=A,t[53]=o.palette,t[54]=V):V=t[54],t[55]!==H||t[56]!==V?(z=(0,bt.jsxs)(ya.Header.Outer,{children:[D,H,V]}),t[55]=H,t[56]=V,t[57]=z):z=t[57],t[58]!==z||t[59]!==B?(U=(0,bt.jsx)(ya.Center,{style:B,children:z}),t[58]=z,t[59]=B,t[60]=U):U=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(W=(0,bt.jsx)(Qs.Handle,{}),t[61]=W):W=t[61],t[62]!==a?(G=a({id:"5hc2Cg"}),t[62]=a,t[63]=G):G=t[63],t[64]!==d?(q=d?{width:"auto",minWidth:450}:qs.atoms.w_full,t[64]=d,t[65]=q):q=t[65],t[66]!==q?(Q=[q],t[66]=q,t[67]=Q):Q=t[67],t[68]!==s||t[69]!==S||t[70]!==C||t[71]!==g||t[72]!==p||t[73]!==E?(K=(0,bt.jsx)(dD,{info:s,likeUri:p,setLikeUri:f,likeCount:g,isPinned:C,onTogglePinned:E,isFeedStateChangePending:S}),t[68]=s,t[69]=S,t[70]=C,t[71]=g,t[72]=p,t[73]=E,t[74]=K):K=t[74],t[75]!==G||t[76]!==Q||t[77]!==K?(Z=(0,bt.jsx)(Qs.ScrollableInner,{label:G,style:Q,children:K}),t[75]=G,t[76]=Q,t[77]=K,t[78]=Z):Z=t[78],t[79]!==u||t[80]!==Z?(Y=(0,bt.jsxs)(Qs.Outer,{control:u,children:[W,Z]}),t[79]=u,t[80]=Z,t[81]=Y):Y=t[81],t[82]!==U||t[83]!==Y?($=(0,bt.jsxs)(bt.Fragment,{children:[U,Y]}),t[82]=U,t[83]=Y,t[84]=$):$=t[84],$}function dD({info:e,likeUri:t,setLikeUri:s,likeCount:o,isPinned:n,onTogglePinned:a,isFeedStateChangePending:r}){const i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),c=(0,Xo.useAnalytics)(),{hasSession:d}=(0,Gt.useSession)(),u=(0,im.useHaptics)(),m=Qs.useDialogContext(),h=(0,If.useReportDialogControl)(),[p]=(0,XC.useRichText)(e.description.text),{mutateAsync:f,isPending:g}=aT(),{mutateAsync:x,isPending:_}=rT(),y=!!t,b=lt.useMemo((()=>new Dn.AtUri(e.uri).rkey),[e.uri]),j=lt.useCallback((()=>{u();const t=(0,zt.toShareUrl)(e.route.href);(0,lm.shareUrl)(t),c.metric("feed:share",{feedUrl:e.uri})}),[e,u]),v=lt.useCallback((()=>{h.open()}),[h]);return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md],children:[(0,bt.jsx)(Gi.UserAvatar,{type:"algo",size:48,avatar:e.avatar}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold,qs.atoms.leading_tight],numberOfLines:2,emoji:!0,children:e.displayName}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_relaxed,i.atoms.text_contrast_medium],numberOfLines:1,children:(0,bt.jsx)(dt.Trans,{id:"AG+QUV",values:{0:(0,Fa.sanitizeHandle)(e.creatorHandle,"@")},components:{0:(0,bt.jsx)(io.InlineLinkText,{label:l({id:"tBW0ZQ",values:{0:e.creatorHandle}}),to:(0,Oa.makeProfileLink)({did:e.creatorDid,handle:e.creatorHandle}),style:[qs.atoms.text_sm,qs.atoms.underline,i.atoms.text_contrast_medium],numberOfLines:1,onPress:()=>m.close()})}})})]}),(0,bt.jsx)(ao.Button,{label:l({id:"yrygXY"}),size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:j,children:(0,bt.jsx)(ao.ButtonIcon,{icon:y_,size:"lg"})})]}),(0,bt.jsx)(Yi.RichText,{value:p,style:[qs.atoms.text_md]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],children:"number"===typeof o&&(0,bt.jsx)(io.InlineLinkText,{label:l({id:"8m++hT"}),to:(0,Oa.makeCustomFeedLink)(e.creatorDid,b,"liked-by"),style:[qs.atoms.underline,i.atoms.text_contrast_medium],onPress:()=>m.close(),children:(0,bt.jsx)(dt.Trans,{id:"YD7py1",values:{likeCount:o}})})}),d&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,qs.atoms.pt_sm],children:[(0,bt.jsxs)(ao.Button,{disabled:g||_,label:l({id:"BvSY1i"}),size:"small",variant:"solid",color:"secondary",onPress:async()=>{try{if(u(),y&&t)await x({uri:t}),s(""),c.metric("feed:unlike",{feedUrl:e.uri});else{const t=await f({uri:e.uri,cid:e.cid});s(t.uri),c.metric("feed:like",{feedUrl:e.uri})}}catch(o){Ds.show(l({id:"9sa1PU"}),"xmark"),Mt.logger.error("Failed to toggle like",{message:o})}},style:[qs.atoms.flex_1],children:[y?(0,bt.jsx)(ii,{size:"sm",fill:i.palette.like}):(0,bt.jsx)(ao.ButtonIcon,{icon:ri,position:"left"}),(0,bt.jsx)(ao.ButtonText,{children:y?(0,bt.jsx)(dt.Trans,{id:"OcUmcH"}):(0,bt.jsx)(dt.Trans,{id:"W9FRBT"})})]}),(0,bt.jsxs)(ao.Button,{disabled:r,label:l(n?{id:"00Xva0"}:{id:"UN1A69"}),size:"small",variant:"solid",color:n?"secondary":"primary",onPress:a,style:[qs.atoms.flex_1],children:[(0,bt.jsx)(ao.ButtonText,{children:n?(0,bt.jsx)(dt.Trans,{id:"00Xva0"}):(0,bt.jsx)(dt.Trans,{id:"UN1A69"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:Qi,position:"right"})]})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_xs,qs.atoms.gap_lg],children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.justify_between],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,i.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"8zDhQV"})}),(0,bt.jsxs)(ao.Button,{label:l({id:"NKmI9f"}),size:"small",variant:"solid",color:"secondary",onPress:v,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"NKmI9f"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:Cn.CircleInfo_Stroke2_Corner0_Rounded,position:"right"})]})]}),e.view&&(0,bt.jsx)(If.ReportDialog,{control:h,subject:Object.assign({},e.view,{$type:"app.bsky.feed.defs#generatorView"})})]})]})]})}function uD(e){const t=(0,n.c)(44),{rkey:s,name:o}=e.route.params;let a;t[0]!==e.route.params.feedCacheKey?(a=e.route.params.feedCacheKey?{feedCacheKey:e.route.params.feedCacheKey}:void 0,t[0]=e.route.params.feedCacheKey,t[1]=a):a=t[1];const r=a,i=(0,bn.usePalette)("default"),{_:l}=(0,dt.useLingui)(),c=(0,Ns.useNavigation)();let d;t[2]!==o||t[3]!==s?(d=(0,zt.makeRecordUri)(o,"app.bsky.feed.generator",s),t[2]=o,t[3]=s,t[4]=d):d=t[4];const u=d,{error:m,data:h}=(0,_r.useResolveUriQuery)(u);let p;t[5]!==c?(p=()=>{c.canGoBack()?c.goBack():c.navigate("Home")},t[5]=c,t[6]=p):p=t[6];const f=p;if(m){let e,s,o,n,a,r,c,d,u,h,p,g,x,_,y;return t[7]!==i.border||t[8]!==i.view?(e=[i.view,i.border,pD.notFoundContainer],t[7]=i.border,t[8]=i.view,t[9]=e):e=t[9],t[10]!==i.text?(s=[i.text,kn.s.mb10],t[10]=i.text,t[11]=s):s=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(dt.Trans,{id:"7wWvgo"}),t[12]=o):o=t[12],t[13]!==s?(n=(0,bt.jsx)(ua.Text,{type:"title-lg",style:s,children:o}),t[13]=s,t[14]=n):n=t[14],t[15]!==i.text?(a=[i.text,kn.s.mb20],t[15]=i.text,t[16]=a):a=t[16],t[17]!==m?(r=m.toString(),t[17]=m,t[18]=r):r=t[18],t[19]!==a||t[20]!==r?(c=(0,bt.jsx)(ua.Text,{type:"md",style:a,children:r}),t[19]=a,t[20]=r,t[21]=c):c=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(d={flexDirection:"row"},t[22]=d):d=t[22],t[23]!==l?(u=l({id:"CKyk7Q"}),t[23]=l,t[24]=u):u=t[24],t[25]!==l?(h=l({id:"wpAjsg"}),t[25]=l,t[26]=h):h=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:1},t[27]=p):p=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(dt.Trans,{id:"sr0UJD"}),t[28]=g):g=t[28],t[29]!==i.text?(x=(0,bt.jsx)(ua.Text,{type:"button",style:i.text,children:g}),t[29]=i.text,t[30]=x):x=t[30],t[31]!==f||t[32]!==u||t[33]!==h||t[34]!==x?(_=(0,bt.jsx)(Fs.default,{style:d,children:(0,bt.jsx)(Ti.Button,{type:"default",accessibilityLabel:u,accessibilityHint:h,onPress:f,style:p,children:x})}),t[31]=f,t[32]=u,t[33]=h,t[34]=x,t[35]=_):_=t[35],t[36]!==_||t[37]!==e||t[38]!==n||t[39]!==c?(y=(0,bt.jsx)(ya.Screen,{testID:"profileFeedScreenError",children:(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:e,children:[n,c,_]})})}),t[36]=_,t[37]=e,t[38]=n,t[39]=c,t[40]=y):y=t[40],y}let g;return t[41]!==r||t[42]!==h?(g=h?(0,bt.jsx)(ya.Screen,{testID:"profileFeedScreen",children:(0,bt.jsx)(mD,{feedUri:h.uri,feedParams:r})}):(0,bt.jsxs)(ya.Screen,{testID:"profileFeedScreen",children:[(0,bt.jsx)(lD,{}),(0,bt.jsx)(ya.Content,{children:(0,bt.jsx)(pi,{})})]}),t[41]=r,t[42]=h,t[43]=g):g=t[43],g}function mD(e){const t=(0,n.c)(7),{feedUri:s,feedParams:o}=e,{data:a}=(0,xr.usePreferencesQuery)();let r;t[0]!==s?(r={uri:s},t[0]=s,t[1]=r):r=t[1];const{data:i}=wr(r);if(!a||!i){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsxs)(ya.Content,{children:[(0,bt.jsx)(lD,{}),(0,bt.jsx)(pi,{})]}),t[2]=e):e=t[2],e}const l=i;let c;return t[3]!==o||t[4]!==a||t[5]!==l?(c=(0,bt.jsx)(hD,{preferences:a,feedInfo:l,feedParams:o}),t[3]=o,t[4]=a,t[5]=l,t[6]=c):c=t[6],c}function hD(e){const t=(0,n.c)(38),{feedInfo:s,feedParams:o}=e,{_:a}=(0,dt.useLingui)(),{hasSession:i}=(0,Gt.useSession)(),{openComposer:l}=Wo(),c=(0,Ns.useIsFocused)();ov(s?.displayName);const d=`feedgen|${s.uri}`,[u,m]=lt.useState(!1),[h,p]=lt.useState(!1),f=(0,On.useQueryClient)(),g=Og(s,i),x=(0,yn.useAnimatedRef)();let _;t[0]!==d||t[1]!==f||t[2]!==x?(_=()=>{x.current?.scrollToOffset({animated:r.IS_NATIVE,offset:0}),(0,Nn.truncateAndInvalidate)(f,(0,Jr.RQKEY)(d)),m(!1)},t[0]=d,t[1]=f,t[2]=x,t[3]=_):_=t[3];const y=_;let b,j,v;t[4]!==c||t[5]!==y?(b=()=>{if(c)return(0,_t.listenSoftReset)(y)},j=[y,c],t[4]=c,t[5]=y,t[6]=b,t[7]=j):(b=t[6],j=t[7]),lt.useEffect(b,j),t[8]!==a?(v=()=>(0,bt.jsx)(pS.EmptyState,{icon:Pl,iconSize:"2xl",message:a({id:"KD13F8"})}),t[8]=a,t[9]=v):v=t[9];const S=v;let w;t[10]!==s.uri?(w=Vt.VIDEO_FEED_URIS.includes(s.uri),t[10]=s.uri,t[11]=w):w=t[11];const T=w,k=s.contentMode===Dn.AppBskyFeedDefs.CONTENTMODEVIDEO,C=T||k,I=r.IS_NATIVE&&C;let A,P,E,L,R,B;return t[12]!==s?(A=(0,bt.jsx)(cD,{info:s}),t[12]=s,t[13]=A):A=t[13],t[14]!==d||t[15]!==o||t[16]!==u||t[17]!==I||t[18]!==S||t[19]!==x?(P=(0,bt.jsx)(Ag,{feed:d,feedParams:o,pollInterval:6e4,disablePoll:u,onHasNew:m,scrollElRef:x,onScrolledDownChange:p,renderEmptyState:S,isVideoFeed:I}),t[14]=d,t[15]=o,t[16]=u,t[17]=I,t[18]=S,t[19]=x,t[20]=P):P=t[20],t[21]!==g||t[22]!==P?(E=(0,bt.jsx)(Mg,{value:g,children:P}),t[21]=g,t[22]=P,t[23]=E):E=t[23],t[24]!==a||t[25]!==u||t[26]!==h||t[27]!==y?(L=(h||u)&&(0,bt.jsx)(cv,{onPress:y,label:a({id:"VkLESX"}),showIndicator:u}),t[24]=a,t[25]=u,t[26]=h,t[27]=y,t[28]=L):L=t[28],t[29]!==a||t[30]!==i||t[31]!==l?(R=i&&(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:()=>l({logContext:"Fab"}),icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:a({id:"2B7HLH"}),accessibilityHint:""}),t[29]=a,t[30]=i,t[31]=l,t[32]=R):R=t[32],t[33]!==R||t[34]!==A||t[35]!==E||t[36]!==L?(B=(0,bt.jsxs)(bt.Fragment,{children:[A,E,L,R]}),t[33]=R,t[34]=A,t[35]=E,t[36]=L,t[37]=B):B=t[37],B}const pD=Os.default.create({btn:{flexDirection:"row",alignItems:"center",gap:6,paddingVertical:7,paddingHorizontal:14,borderRadius:50,marginLeft:6},notFoundContainer:{margin:10,paddingHorizontal:18,paddingVertical:14,borderRadius:6},aboutSectionContainer:{paddingVertical:4,paddingHorizontal:16,gap:12}});var fD=s(33494);function gD(e){return e.did}function xD(e){const t=(0,n.c)(73),{name:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),r=(0,Ns.useNavigation)(),i=$r(),{currentAccount:l}=(0,Gt.useSession)(),[c,d]=lt.useState(!1),{data:u,isLoading:m,error:h}=(0,_r.useResolveDidQuery)(s),{data:p,isLoading:f,isFetchingNextPage:g,hasNextPage:x,fetchNextPage:_,error:y,refetch:b}=(0,fD.useProfileFollowersQuery)(u),j=!!h||!!y,v=u===l?.did;let S;e:{if(p?.pages){let e;t[0]!==p.pages?(e=p.pages.flatMap(_D),t[0]=p.pages,t[1]=e):e=t[1],S=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],S=e}const w=S;let T;t[3]===Symbol.for("react.memo_cache_sentinel")?(T={did:void 0,page:0},t[3]=T):T=t[3];const k=lt.useRef(T);let C;t[4]!==a||t[5]!==p?.pages?.length||t[6]!==w.length||t[7]!==u?(C=()=>{const e=p?.pages?.length||0;k.current.did===u?(u&&e>=3&&e>k.current.page&&a.metric("profile:followers:paginate",{contextProfileDid:u,itemCount:w.length,page:e}),k.current.page=e):k.current={did:u,page:e}},t[4]=a,t[5]=p?.pages?.length,t[6]=w.length,t[7]=u,t[8]=C):C=t[8];const I=p?.pages?.length;let A,P;t[9]!==a||t[10]!==w.length||t[11]!==u||t[12]!==I?(A=[a,I,u,w.length],t[9]=a,t[10]=w.length,t[11]=u,t[12]=I,t[13]=A):A=t[13],lt.useEffect(C,A),t[14]!==b?(P=async()=>{d(!0);try{await b()}catch(L){const t=L;Mt.logger.error("Failed to refresh followers",{message:t})}d(!1)},t[14]=b,t[15]=P):P=t[15];const E=P;let L;t[16]!==y||t[17]!==_||t[18]!==x||t[19]!==g?(L=async()=>{if(!g&&x&&!y)try{await _()}catch(B){const t=B;Mt.logger.error("Failed to load more followers",{message:t})}},t[16]=y,t[17]=_,t[18]=x,t[19]=g,t[20]=L):L=t[20];const R=L;let B;t[21]!==u?(B=e=>{const{item:t,index:s}=e;return function({item:e,index:t,contextProfileDid:s}){return(0,bt.jsx)(ok,{profile:e,noBorder:0===t,position:t+1,contextProfileDid:s},e.did)}({item:t,index:s,contextProfileDid:u})},t[21]=u,t[22]=B):B=t[22];const D=B;let O,M,F;t[23]!==a||t[24]!==v||t[25]!==u?(M=()=>{u&&a.metric("profile:followers:view",{contextProfileDid:u,isOwnProfile:v})},O=[a,u,v],t[23]=a,t[24]=v,t[25]=u,t[26]=O,t[27]=M):(O=t[26],M=t[27]),lt.useEffect(M,O),t[28]===Symbol.for("react.memo_cache_sentinel")?(F=new Set,t[28]=F):F=t[28];const N=lt.useRef(F);let H,V,z;t[29]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{N.current.clear()},t[29]=H):H=t[29],t[30]!==u?(V=[u],t[30]=u,t[31]=V):V=t[31],lt.useEffect(H,V),t[32]!==a||t[33]!==w||t[34]!==u?(z=e=>{if(N.current.has(e.did))return;N.current.add(e.did);const t=w.findIndex((t=>t.did===e.did))+1;0!==t&&a.metric("profileCard:seen",Object.assign({profileDid:e.did,position:t},void 0!==u&&{contextProfileDid:u}))},t[32]=a,t[33]=w,t[34]=u,t[35]=z):z=t[35];const U=z;if(w.length<1){const e=m||f;let s;t[36]!==o||t[37]!==v?(s=o(v?{id:"ANadva"}:{id:"romkSJ"}),t[36]=o,t[37]=v,t[38]=s):s=t[38];const n=h||y;let a;t[39]!==n?(a=(0,Tn.cleanError)(n),t[39]=n,t[40]=a):a=t[40];const i=j?b:void 0;let l,c,d,u,p;return t[41]!==o?(l=o({id:"CKyk7Q"}),t[41]=o,t[42]=l):l=t[42],t[43]!==o?(c=o({id:"CKyk7Q"}),t[43]=o,t[44]=c):c=t[44],t[45]!==r?(d=()=>r.goBack(),t[45]=r,t[46]=d):d=t[46],t[47]!==l||t[48]!==c||t[49]!==d?(u={label:l,text:c,color:"secondary",size:"small",onPress:d},t[47]=l,t[48]=c,t[49]=d,t[50]=u):u=t[50],t[51]!==j||t[52]!==e||t[53]!==s||t[54]!==a||t[55]!==i||t[56]!==u?(p=(0,bt.jsx)(yS,{isLoading:e,isError:j,emptyType:"results",emptyMessage:s,errorMessage:a,onRetry:i,sideBorders:!1,useEmptyState:!0,emptyStateIcon:S_,emptyStateButton:u}),t[51]=j,t[52]=e,t[53]=s,t[54]=a,t[55]=i,t[56]=u,t[57]=p):p=t[57],p}let W,G,q;return t[58]!==y?(W=(0,Tn.cleanError)(y),t[58]=y,t[59]=W):W=t[59],t[60]!==_||t[61]!==g||t[62]!==W?(G=(0,bt.jsx)(xS,{isFetchingNextPage:g,error:W,onRetry:_}),t[60]=_,t[61]=g,t[62]=W,t[63]=G):G=t[63],t[64]!==w||t[65]!==i||t[66]!==c||t[67]!==R||t[68]!==U||t[69]!==E||t[70]!==D||t[71]!==G?(q=(0,bt.jsx)(ei.List,{data:w,renderItem:D,keyExtractor:gD,refreshing:c,onRefresh:E,onEndReached:R,onEndReachedThreshold:4,onItemSeen:U,ListFooterComponent:G,desktopFixedHeight:!0,initialNumToRender:i,windowSize:11,sideBorders:!1}),t[64]=w,t[65]=i,t[66]=c,t[67]=R,t[68]=U,t[69]=E,t[70]=D,t[71]=G,t[72]=q):q=t[72],q}function _D(e){return e.followers}const yD=e=>{const t=(0,n.c)(17),{route:s}=e,{name:o}=s.params,a=(0,hs.useSetMinimalShellMode)(),{data:r}=(0,_r.useResolveDidQuery)(o);let i;t[0]!==r?(i={did:r},t[0]=r,t[1]=i):i=t[1];const{data:l}=(0,Ut.useProfileQuery)(i);let c,d,u,m,h,p,f,g;return t[2]!==a?(c=()=>{a(!1)},t[2]=a,t[3]=c):c=t[3],(0,Ns.useFocusEffect)(c),t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.BackButton,{}),t[4]=d):d=t[4],t[5]!==l?(u=l&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:(0,Ma.sanitizeDisplayName)(l.displayName||l.handle)}),(0,bt.jsx)(ya.Header.SubtitleText,{children:(0,bt.jsx)(dt.Trans,{id:"YEOVrK",values:{0:l.followersCount??0}})})]}),t[5]=l,t[6]=u):u=t[6],t[7]!==u?(m=(0,bt.jsx)(ya.Header.Content,{children:u}),t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ya.Header.Slot,{}),t[9]=h):h=t[9],t[10]!==m?(p=(0,bt.jsxs)(ya.Header.Outer,{children:[d,m,h]}),t[10]=m,t[11]=p):p=t[11],t[12]!==o?(f=(0,bt.jsx)(xD,{name:o}),t[12]=o,t[13]=f):f=t[13],t[14]!==p||t[15]!==f?(g=(0,bt.jsxs)(ya.Screen,{testID:"profileFollowersScreen",children:[p,f]}),t[14]=p,t[15]=f,t[16]=g):g=t[16],g};function bD(){const e=(0,n.c)(45),t=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),{visible:i,close:l}=function(){const e=(0,n.c)(6),t=(0,Xo.useAnalytics)(),{nux:s}=Di(Ii.FindContactsDismissibleBanner),{mutate:o,variables:a}=Oi(),i=!!a,l=fA();let c;c=!r.IS_WEB&&(!i&&((!s||!s.completed)&&!!l));const d=c;let u;e[0]!==t||e[1]!==o?(u=()=>{o({id:Ii.FindContactsDismissibleBanner,completed:!0,data:void 0}),t.metric("contacts:nux:bannerDismissed",{})},e[0]=t,e[1]=o,e[2]=u):u=e[2];const m=u;let h;e[3]!==m||e[4]!==d?(h={visible:d,close:m},e[3]=m,e[4]=d,e[5]=h):h=e[5];return h}();if(!i)return null;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L;return e[0]!==t.atoms.border_contrast_low?(c=[qs.atoms.w_full,qs.atoms.p_lg,qs.atoms.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=c):c=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(d={screen:"FindContactsFlow"},e[2]=d):d=e[2],e[3]!==o?(u=o({id:"GUKTnW"}),e[3]=o,e[4]=u):u=e[4],e[5]!==a?(m=()=>{a.metric("contacts:nux:bannerPressed",{})},e[5]=a,e[6]=m):m=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.w_full,qs.atoms.rounded_xl,qs.atoms.curve_continuous,qs.atoms.overflow_hidden],e[7]=h):h=e[7],e[8]!==t.palette.primary_200||e[9]!==t.palette.primary_50?(p=[t.palette.primary_200,t.palette.primary_50],e[8]=t.palette.primary_200,e[9]=t.palette.primary_50,e[10]=p):p=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(f={x:0,y:.5},g={x:1,y:.5},x=[qs.atoms.w_full,qs.atoms.h_full,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_lg,qs.atoms.pl_lg],e[11]=f,e[12]=g,e[13]=x):(f=e[11],g=e[12],x=e[13]),e[14]===Symbol.for("react.memo_cache_sentinel")?(_=s(78370),e[14]=_):_=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(cn.Image,{source:_,accessibilityIgnoresInvertColors:!0,style:[{height:70,aspectRatio:2.0034965034965033},qs.atoms.self_end,qs.atoms.mt_sm]}),e[15]=y):y=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.py_xl,qs.atoms.pr_5xl],e[16]=b):b=e[16],e[17]!==t.palette.primary_900?(j=[qs.atoms.text_md,qs.atoms.font_bold,{color:t.palette.primary_900}],e[17]=t.palette.primary_900,e[18]=j):j=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"GUKTnW"}),e[19]=v):v=e[19],e[20]!==j?(S=(0,bt.jsx)(Fs.default,{style:b,children:(0,bt.jsx)(co.Text,{style:j,children:v})}),e[20]=j,e[21]=S):S=e[21],e[22]!==S||e[23]!==p?(w=(0,bt.jsxs)(Lo.LinearGradient,{colors:p,start:f,end:g,style:x,children:[y,S]}),e[22]=S,e[23]=p,e[24]=w):w=e[24],e[25]!==w||e[26]!==u||e[27]!==m?(T=(0,bt.jsx)(io.Link,{to:d,label:u,onPress:m,style:h,children:w}),e[25]=w,e[26]=u,e[27]=m,e[28]=T):T=e[28],e[29]!==o?(k=o({id:"ebHaxT"}),e[29]=o,e[30]=k):k=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.absolute,{top:14,right:14}],e[31]=C):C=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.bg_transparent,{opacity:.5}],e[32]=I):I=e[32],e[33]!==t.atoms.text_contrast_low?(A=(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:"xs",style:[t.atoms.text_contrast_low]}),e[33]=t.atoms.text_contrast_low,e[34]=A):A=e[34],e[35]!==l||e[36]!==k||e[37]!==A?(P=(0,bt.jsx)(ao.Button,{label:k,hitSlop:Vt.HITSLOP_10,onPress:l,style:C,hoverStyle:I,children:A}),e[35]=l,e[36]=k,e[37]=A,e[38]=P):P=e[38],e[39]!==T||e[40]!==P?(E=(0,bt.jsxs)(Fs.default,{style:qs.atoms.w_full,children:[T,P]}),e[39]=T,e[40]=P,e[41]=E):E=e[41],e[42]!==c||e[43]!==E?(L=(0,bt.jsx)(Fs.default,{style:c,children:E}),e[42]=c,e[43]=E,e[44]=L):L=e[44],L}function jD(e){return e.did}function vD(e){const t=(0,n.c)(74),{name:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),i=$r(),{currentAccount:l}=(0,Gt.useSession)(),c=(0,Ns.useNavigation)();let d;t[0]!==c?(d=()=>{r.IS_WEB?c.navigate("Search",{}):(c.navigate("SearchTab"),c.popToTop())},t[0]=c,t[1]=d):d=t[1];const u=d,[m,h]=lt.useState(!1),{data:p,isLoading:f,error:g}=(0,_r.useResolveDidQuery)(s),{data:x,isLoading:_,isFetchingNextPage:y,hasNextPage:b,fetchNextPage:j,error:v,refetch:S}=(0,hc.useProfileFollowsQuery)(p),w=!!g||!!v,T=p===l?.did;let k;e:{if(x?.pages){let e;t[2]!==x.pages?(e=x.pages.flatMap(SD),t[2]=x.pages,t[3]=e):e=t[3],k=e;break e}let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[4]=e):e=t[4],k=e}const C=k;let I;t[5]===Symbol.for("react.memo_cache_sentinel")?(I={did:void 0,page:0},t[5]=I):I=t[5];const A=lt.useRef(I);let P;t[6]!==a||t[7]!==x?.pages?.length||t[8]!==C.length||t[9]!==p?(P=()=>{const e=x?.pages?.length||0;A.current.did===p?(p&&e>=3&&e>A.current.page&&a.metric("profile:following:paginate",{contextProfileDid:p,itemCount:C.length,page:e}),A.current.page=e):A.current={did:p,page:e}},t[6]=a,t[7]=x?.pages?.length,t[8]=C.length,t[9]=p,t[10]=P):P=t[10];const E=x?.pages?.length;let L,R;t[11]!==a||t[12]!==C.length||t[13]!==p||t[14]!==E?(L=[a,E,p,C.length],t[11]=a,t[12]=C.length,t[13]=p,t[14]=E,t[15]=L):L=t[15],lt.useEffect(P,L),t[16]!==S?(R=async()=>{h(!0);try{await S()}catch(D){const t=D;Mt.logger.error("Failed to refresh follows",{error:t})}h(!1)},t[16]=S,t[17]=R):R=t[17];const B=R;let D;t[18]!==v||t[19]!==j||t[20]!==b||t[21]!==y?(D=async()=>{if(!y&&b&&!v)try{await j()}catch(M){const t=M;Mt.logger.error("Failed to load more follows",{error:t})}},t[18]=v,t[19]=j,t[20]=b,t[21]=y,t[22]=D):D=t[22];const O=D;let M;t[23]!==p?(M=e=>{const{item:t,index:s}=e;return function({item:e,index:t,contextProfileDid:s}){return(0,bt.jsx)(ok,{profile:e,noBorder:0===t,position:t+1,contextProfileDid:s},e.did)}({item:t,index:s,contextProfileDid:p})},t[23]=p,t[24]=M):M=t[24];const F=M;let N,H,V;t[25]!==a||t[26]!==T||t[27]!==p?(N=()=>{p&&a.metric("profile:following:view",{contextProfileDid:p,isOwnProfile:T})},H=[a,p,T],t[25]=a,t[26]=T,t[27]=p,t[28]=N,t[29]=H):(N=t[28],H=t[29]),lt.useEffect(N,H),t[30]===Symbol.for("react.memo_cache_sentinel")?(V=new Set,t[30]=V):V=t[30];const z=lt.useRef(V);let U,W,G;t[31]===Symbol.for("react.memo_cache_sentinel")?(U=()=>{z.current.clear()},t[31]=U):U=t[31],t[32]!==p?(W=[p],t[32]=p,t[33]=W):W=t[33],lt.useEffect(U,W),t[34]!==a||t[35]!==C||t[36]!==p?(G=e=>{if(z.current.has(e.did))return;z.current.add(e.did);const t=C.findIndex((t=>t.did===e.did))+1;0!==t&&a.metric("profileCard:seen",Object.assign({profileDid:e.did,position:t},void 0!==p&&{contextProfileDid:p}))},t[34]=a,t[35]=C,t[36]=p,t[37]=G):G=t[37];const q=G;if(C.length<1){const e=f||_;let s;t[38]!==o||t[39]!==T?(s=o(T?{id:"zPxORZ"}:{id:"Rkueab"}),t[38]=o,t[39]=T,t[40]=s):s=t[40];const n=g||v;let a;t[41]!==n?(a=(0,Tn.cleanError)(n),t[41]=n,t[42]=a):a=t[42];const r=w?S:void 0;let i,l,c,d;return t[43]!==o?(i=o({id:"/cnS+u"}),t[43]=o,t[44]=i):i=t[44],t[45]!==o?(l=o({id:"/cnS+u"}),t[45]=o,t[46]=l):l=t[46],t[47]!==u||t[48]!==i||t[49]!==l?(c={label:i,text:l,onPress:u,size:"tiny",color:"primary"},t[47]=u,t[48]=i,t[49]=l,t[50]=c):c=t[50],t[51]!==w||t[52]!==e||t[53]!==s||t[54]!==a||t[55]!==r||t[56]!==c?(d=(0,bt.jsx)(yS,{isLoading:e,isError:w,emptyType:"results",emptyMessage:s,errorMessage:a,onRetry:r,sideBorders:!1,useEmptyState:!0,emptyStateIcon:S_,emptyStateButton:c}),t[51]=w,t[52]=e,t[53]=s,t[54]=a,t[55]=r,t[56]=c,t[57]=d):d=t[57],d}let Q,K,Z,Y;return t[58]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(bD,{}),t[58]=Q):Q=t[58],t[59]!==v?(K=(0,Tn.cleanError)(v),t[59]=v,t[60]=K):K=t[60],t[61]!==j||t[62]!==y||t[63]!==K?(Z=(0,bt.jsx)(xS,{isFetchingNextPage:y,error:K,onRetry:j}),t[61]=j,t[62]=y,t[63]=K,t[64]=Z):Z=t[64],t[65]!==C||t[66]!==i||t[67]!==m||t[68]!==O||t[69]!==q||t[70]!==B||t[71]!==F||t[72]!==Z?(Y=(0,bt.jsx)(ei.List,{data:C,renderItem:F,keyExtractor:jD,refreshing:m,onRefresh:B,onEndReached:O,onEndReachedThreshold:4,onItemSeen:q,ListHeaderComponent:Q,ListFooterComponent:Z,desktopFixedHeight:!0,initialNumToRender:i,windowSize:11,sideBorders:!1}),t[65]=C,t[66]=i,t[67]=m,t[68]=O,t[69]=q,t[70]=B,t[71]=F,t[72]=Z,t[73]=Y):Y=t[73],Y}function SD(e){return e.follows}const wD=e=>{const t=(0,n.c)(17),{route:s}=e,{name:o}=s.params,a=(0,hs.useSetMinimalShellMode)(),{data:r}=(0,_r.useResolveDidQuery)(o);let i;t[0]!==r?(i={did:r},t[0]=r,t[1]=i):i=t[1];const{data:l}=(0,Ut.useProfileQuery)(i);let c,d,u,m,h,p,f,g;return t[2]!==a?(c=()=>{a(!1)},t[2]=a,t[3]=c):c=t[3],(0,Ns.useFocusEffect)(c),t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.BackButton,{}),t[4]=d):d=t[4],t[5]!==l?(u=l&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ya.Header.TitleText,{children:(0,Ma.sanitizeDisplayName)(l.displayName||l.handle)}),(0,bt.jsx)(ya.Header.SubtitleText,{children:(0,bt.jsx)(dt.Trans,{id:"2Szrsw",values:{0:l.followsCount??0}})})]}),t[5]=l,t[6]=u):u=t[6],t[7]!==u?(m=(0,bt.jsx)(ya.Header.Content,{children:u}),t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ya.Header.Slot,{}),t[9]=h):h=t[9],t[10]!==m?(p=(0,bt.jsxs)(ya.Header.Outer,{children:[d,m,h]}),t[10]=m,t[11]=p):p=t[11],t[12]!==o?(f=(0,bt.jsx)(vD,{name:o}),t[12]=o,t[13]=f):f=t[13],t[14]!==p||t[15]!==f?(g=(0,bt.jsxs)(ya.Screen,{testID:"profileFollowsScreen",children:[p,f]}),t[14]=p,t[15]=f,t[16]=g):g=t[16],g};function TD({item:e,index:t}){return(0,bt.jsx)(ok,{profile:e.actor,noBorder:0===t},e.actor.did)}function kD(e){return e.actor.did}function CD(e){const t=(0,n.c)(36),{uri:s}=e,{_:o}=(0,dt.useLingui)(),a=$r(),[r,i]=lt.useState(!1),{data:l,error:c,isLoading:d}=(0,_r.useResolveUriQuery)(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=(0,sk.useLikedByQuery)(l?.uri),_=c||g,y=!!c||!!g;let b;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(ID),t[0]=u.pages,t[1]=e):e=t[1],b=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],b=e}const j=b;let v;t[3]!==x?(v=async()=>{i(!0);try{await x()}catch(w){const t=w;Mt.logger.error("Failed to refresh likes",{message:t})}i(!1)},t[3]=x,t[4]=v):v=t[4];const S=v;let w;t[5]!==f||t[6]!==p||t[7]!==y||t[8]!==h?(w=async()=>{if(!h&&p&&!y)try{await f()}catch(k){const t=k;Mt.logger.error("Failed to load more likes",{message:t})}},t[5]=f,t[6]=p,t[7]=y,t[8]=h,t[9]=w):w=t[9];const T=w;if(j.length<1){const e=d||m;let s,n;t[10]!==o?(s=o({id:"LFwnn2"}),t[10]=o,t[11]=s):s=t[11],t[12]!==o?(n=o({id:"o6HS3Q"}),t[12]=o,t[13]=n):n=t[13];const a=c||_;let r;t[14]!==a?(r=(0,Tn.cleanError)(a),t[14]=a,t[15]=r):r=t[15];const i=y?x:void 0;let l;return t[16]!==y||t[17]!==e||t[18]!==s||t[19]!==n||t[20]!==r||t[21]!==i?(l=(0,bt.jsx)(yS,{isLoading:e,isError:y,emptyType:"results",emptyTitle:s,emptyMessage:n,errorMessage:r,onRetry:i,topBorder:!1,sideBorders:!1}),t[16]=y,t[17]=e,t[18]=s,t[19]=n,t[20]=r,t[21]=i,t[22]=l):l=t[22],l}let k,C,I;return t[23]!==_?(k=(0,Tn.cleanError)(_),t[23]=_,t[24]=k):k=t[24],t[25]!==f||t[26]!==h||t[27]!==k?(C=(0,bt.jsx)(xS,{isFetchingNextPage:h,error:k,onRetry:f}),t[25]=f,t[26]=h,t[27]=k,t[28]=C):C=t[28],t[29]!==a||t[30]!==r||t[31]!==j||t[32]!==T||t[33]!==S||t[34]!==C?(I=(0,bt.jsx)(ei.List,{data:j,renderItem:TD,keyExtractor:kD,refreshing:r,onRefresh:S,onEndReached:T,ListFooterComponent:C,onEndReachedThreshold:3,initialNumToRender:a,windowSize:11,sideBorders:!1}),t[29]=a,t[30]=r,t[31]=j,t[32]=T,t[33]=S,t[34]=C,t[35]=I):I=t[35],I}function ID(e){return e.likes}function AD(e){const t=(0,n.c)(13),{route:s}=e,o=(0,hs.useSetMinimalShellMode)(),{name:a}=s.params;let r;t[0]!==a?(r=(0,zt.makeRecordUri)(a,"app.bsky.labeler.service","self"),t[0]=a,t[1]=r):r=t[1];const i=r,{_:l}=(0,dt.useLingui)();let c,d,u,m,h;return t[2]!==o?(c=()=>{o(!1)},t[2]=o,t[3]=c):c=t[3],(0,Ns.useFocusEffect)(c),t[4]!==l?(d=l({id:"d2RphL"}),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(u=(0,bt.jsx)(ka,{title:d}),t[6]=d,t[7]=u):u=t[7],t[8]!==i?(m=(0,bt.jsx)(CD,{uri:i}),t[8]=i,t[9]=m):m=t[9],t[10]!==u||t[11]!==m?(h=(0,bt.jsxs)(ya.Screen,{children:[u,m]}),t[10]=u,t[11]=m,t[12]=h):h=t[12],h}function PD(e,t){return[e,Object.entries(t).filter((([e,t])=>t)).map((([e,t])=>`${e}:${t}`)).join(" ")].filter(Boolean).join(" ")}let ED=e=>{const t=(0,n.c)(9),{isAutocompleteFetching:s,autocompleteData:o,searchText:a,onSubmit:i,onResultPress:l,onProfileClick:c}=e,{_:d}=(0,dt.useLingui)(),u=(0,ds.useModerationOpts)();let m;return t[0]!==d||t[1]!==o||t[2]!==s||t[3]!==u||t[4]!==c||t[5]!==l||t[6]!==i||t[7]!==a?(m=(0,bt.jsx)(bt.Fragment,{children:s&&!o?.length||!u?(0,bt.jsx)(ya.Content,{children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xl],children:(0,bt.jsx)(vn.default,{})})}):(0,bt.jsxs)(ya.Content,{keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",children:[(0,bt.jsx)(OP,{label:d({id:"X570XR",values:{searchText:a}}),onPress:(0,qs.native)(i),to:r.IS_NATIVE?void 0:`/search?q=${encodeURIComponent(a)}`,style:qs.atoms.border_b}),o?.map((e=>(0,bt.jsx)(DP,{profile:e,moderationOpts:u,onPress:()=>{c(e),l()}},e.did))),(0,bt.jsx)(Fs.default,{style:{height:200}})]})}),t[0]=d,t[1]=o,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=i,t[7]=a,t[8]=m):m=t[8],m};function LD(e){const t=(0,n.c)(18),{searchHistory:s,selectedProfiles:o,onItemClick:a,onProfileClick:r,onRemoveItemClick:i,onRemoveProfileClick:l}=e,{_:c}=(0,dt.useLingui)(),d=(0,ds.useModerationOpts)();let u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.w_full,qs.atoms.gap_md],t[0]=u):u=t[0],t[1]!==s.length||t[2]!==o.length?(m=(s.length>0||o.length>0)&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_sm],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"3JTlG8"})})}),t[1]=s.length,t[2]=o.length,t[3]=m):m=t[3],t[4]!==d||t[5]!==r||t[6]!==l||t[7]!==o?(h=o.length>0&&(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Wi,{children:(0,bt.jsx)(Vi.default,{horizontal:!0,keyboardShouldPersistTaps:"handled",showsHorizontalScrollIndicator:!1,contentContainerStyle:[qs.atoms.px_lg,qs.atoms.flex_row,qs.atoms.flex_nowrap,qs.atoms.gap_xl],children:d&&o.map((e=>(0,bt.jsx)(RD,{profile:e,moderationOpts:d,onPress:()=>r(e),onRemove:()=>l(e)},e.did)))})})}),t[4]=d,t[5]=r,t[6]=l,t[7]=o,t[8]=h):h=t[8],t[9]!==c||t[10]!==a||t[11]!==i||t[12]!==s?(p=s.length>0&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_sm],children:s.slice(0,5).map(((e,t)=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center],children:[(0,bt.jsx)(ln.default,{accessibilityRole:"button",onPress:()=>a(e),hitSlop:Vt.HITSLOP_10,style:[qs.atoms.flex_1,qs.atoms.py_sm],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:e})}),(0,bt.jsx)(ao.Button,{label:c({id:"BsB4CB",values:{historyItem:e}}),onPress:()=>i(e),size:"small",variant:"ghost",color:"secondary",shape:"round",children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})})]},t)))}),t[9]=c,t[10]=a,t[11]=i,t[12]=s,t[13]=p):p=t[13],t[14]!==m||t[15]!==h||t[16]!==p?(f=(0,bt.jsx)(ya.Content,{keyboardDismissMode:"interactive",keyboardShouldPersistTaps:"handled",children:(0,bt.jsxs)(Fs.default,{style:u,children:[m,h,p]})}),t[14]=m,t[15]=h,t[16]=p,t[17]=f):f=t[17],f}function RD(e){const t=(0,n.c)(42),{profile:s,moderationOpts:o,onPress:a,onRemove:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,Dn.moderateProfile)(s,o),c=(0,Ma.sanitizeDisplayName)(s.displayName||(0,Fa.sanitizeHandle)(s.handle),l.ui("displayName"));let d;t[0]!==s?(d={profile:s},t[0]=s,t[1]=d):d=t[1];const u=(0,Nu.useSimpleVerificationState)(d),m=Fs.default;let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.relative],t[2]=h):h=t[2];const p=io.Link;let f;t[3]!==s?(f=(0,Oa.makeProfileLink)(s),t[3]=s,t[4]=f):f=t[4];const g=s.handle;let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_col,qs.atoms.align_center,qs.atoms.gap_xs,{width:80}],t[5]=x):x=t[5];const _=Gi.UserAvatar,y=s.avatar,b=s.associated?.labeler?"labeler":"user",j=l.ui("avatar");let v,S,w,T,k,C,I,A,P,E,L,R,B;return t[6]!==_||t[7]!==s.avatar||t[8]!==b||t[9]!==j?(v=(0,bt.jsx)(_,{avatar:y,type:b,size:72,moderation:j}),t[6]=_,t[7]=s.avatar,t[8]=b,t[9]=j,t[10]=v):v=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.w_full],t[11]=S):S=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.text_xs,qs.atoms.leading_snug],t[12]=w):w=t[12],t[13]!==c?(T=(0,bt.jsx)(co.Text,{emoji:!0,style:w,numberOfLines:1,children:c}),t[13]=c,t[14]=T):T=t[14],t[15]!==u.role||t[16]!==u.showBadge?(k=u.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_2xs],children:(0,bt.jsx)(Hu.VerificationCheck,{width:10,verifier:"verifier"===u.role})}),t[15]=u.role,t[16]=u.showBadge,t[17]=k):k=t[17],t[18]!==T||t[19]!==k?(C=(0,bt.jsxs)(Fs.default,{style:S,children:[T,k]}),t[18]=T,t[19]=k,t[20]=C):C=t[20],t[21]!==p||t[22]!==a||t[23]!==s.handle||t[24]!==v||t[25]!==C||t[26]!==f||t[27]!==x?(I=(0,bt.jsxs)(p,{to:f,label:g,onPress:a,style:x,children:[v,C]}),t[21]=p,t[22]=a,t[23]=s.handle,t[24]=v,t[25]=C,t[26]=f,t[27]=x,t[28]=I):I=t[28],t[29]!==i?(A=i({id:"OKWHpk"}),t[29]=i,t[30]=A):A=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Vt.createHitslop)(6),t[31]=P):P=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.absolute,{top:0,right:0,height:18,width:18}],L=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded}),t[32]=E,t[33]=L):(E=t[32],L=t[33]),t[34]!==r||t[35]!==A?(R=(0,bt.jsx)(ao.Button,{label:A,hitSlop:P,size:"tiny",variant:"outline",color:"secondary",shape:"round",onPress:r,style:E,children:L}),t[34]=r,t[35]=A,t[36]=R):R=t[36],t[37]!==m||t[38]!==I||t[39]!==h||t[40]!==R?(B=(0,bt.jsxs)(m,{style:h,children:[I,R]}),t[37]=m,t[38]=I,t[39]=h,t[40]=R,t[41]=B):B=t[41],B}function BD({value:e,onChange:t}){const{_:s}=(0,dt.useLingui)(),{appLanguage:o,contentLanguages:n}=(0,Bt.useLanguagePrefs)(),a=(0,lt.useMemo)((()=>Rt.LANGUAGES.filter(((e,t,s)=>Boolean(e.code2)&&t===s.findIndex((t=>t.code2===e.code2)))).map((e=>({label:(0,Lt.languageName)(e,o),value:e.code2,key:e.code2+e.code3}))).sort(((e,t)=>{const s=n.includes(e.value),o=n.includes(t.value);if(s&&!o)return-1;if(o&&!s)return 1;const a=!!Rt.APP_LANGUAGES.find((t=>"ast"!==t.code2&&t.code2.startsWith(e.value))),r=!!Rt.APP_LANGUAGES.find((e=>"ast"!==e.code2&&e.code2.startsWith(t.value)));return a&&!r?-1:r&&!a?1:e.label.localeCompare(t.label)}))),[o,n]),r=a.find((t=>t.value===e))?.label??s({id:"r2QauF"});return(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:s({id:"xr4AMR",values:{currentLanguageLabel:r}}),children:({props:e})=>(0,bt.jsxs)(ao.Button,Object.assign({},e,{label:e.accessibilityLabel,size:"small",color:(0,qs.platform)({native:"primary",default:"secondary"}),variant:(0,qs.platform)({native:"ghost",default:"solid"}),style:(0,qs.native)([qs.atoms.py_sm,qs.atoms.px_sm,{marginRight:-1*qs.tokens.space.sm}]),children:[(0,bt.jsx)(ao.ButtonIcon,{icon:dm.Earth_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:r}),(0,bt.jsx)(ao.ButtonIcon,{icon:(0,qs.platform)({native:mn.ChevronTopBottom_Stroke2_Corner0_Rounded,default:mn.ChevronBottom_Stroke2_Corner0_Rounded})})]}))}),(0,bt.jsxs)(Kp.Outer,{children:[(0,bt.jsx)(Kp.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"AVo6fX"})}),(0,bt.jsxs)(Kp.Item,{label:s({id:"r2QauF"}),onPress:()=>t(""),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"r2QauF"})}),(0,bt.jsx)(Kp.ItemRadio,{selected:""===e})]}),(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsx)(Kp.Group,{children:a.map((s=>(0,bt.jsxs)(Kp.Item,{label:s.label,onPress:()=>t(s.value),children:[(0,bt.jsx)(Kp.ItemText,{children:s.label}),(0,bt.jsx)(Kp.ItemRadio,{selected:e===s.value})]},s.key)))})]})]})}ED=(0,lt.memo)(ED);var DD=s(14523);const OD=15,MD=()=>["suggested-feeds"];const FD=5,ND=()=>["trends"];const HD=e=>["suggested-starter-packs",e?.join(",")];const VD=(0,ti.createSinglePathSVG)({path:"M7 3a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2H8v2a1 1 0 1 1-2 0V8H4a1 1 0 0 1 0-2h2V4a1 1 0 0 1 1-1Zm6 4a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3 14a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-6Zm2 1v4h4v-4H5Zm9.171-.829a1 1 0 0 1 1.415 0L17 15.585l1.414-1.414a1 1 0 1 1 1.414 1.414L18.414 17l1.414 1.414a1 1 0 0 1-1.414 1.414L17 18.414l-1.415 1.414a1 1 0 0 1-1.414-1.414l1.415-1.415-1.415-1.414a1 1 0 0 1 0-1.414Z"});function zD(){const e=(0,n.c)(13),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),{data:o}=(0,xr.usePreferencesQuery)(),a=Ml(),{mutateAsync:r}=Oi(),i=Zi.usePromptControl(),[l,c]=(0,lt.useState)(!1);let d;e[0]!==i?(d=()=>{i.open()},e[0]=i,e[1]=d):d=e[1];const u=d;let m;e[2]!==r?(m=()=>{c(!0),r({id:Ii.ExploreInterestsCard,completed:!0,data:void 0}).catch(UD)},e[2]=r,e[3]=m):m=e[3];const h=m;let p;return e[4]!==s||e[5]!==l||e[6]!==a||e[7]!==u||e[8]!==h||e[9]!==o||e[10]!==t||e[11]!==i?(p=l?null:(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Zi.Basic,{control:i,title:s({id:"WI1rGT"}),description:s({id:"kyTmg+"}),confirmButtonCta:s({id:"zga9sT"}),onConfirm:h}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_2xs],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.p_lg,qs.atoms.border_b,qs.atoms.gap_md,t.atoms.border_contrast_medium],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],children:[(0,bt.jsx)(VD,{}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"4zDzuI"})})]}),o?.interests?.tags&&o.interests.tags.length>0?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,{gap:6}],children:o.interests.tags.map((e=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.rounded_full,t.atoms.bg_contrast_25,qs.atoms.px_lg,{height:32}],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,t.atoms.text_contrast_high],children:a[e]})},e)))}):null,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"Atg3C1"})}),(0,bt.jsx)(io.Link,{label:s({id:"I5CIJr"}),to:"/settings/interests",size:"small",variant:"solid",color:"primary",style:[qs.atoms.justify_center],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"I5CIJr"})})}),(0,bt.jsx)(ao.Button,{label:s({id:"ZFzipL"}),size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:u,style:[qs.atoms.absolute,{top:qs.atoms.pt_sm.paddingTop,right:qs.atoms.pr_sm.paddingRight}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"md"})})]})})]}),e[4]=s,e[5]=l,e[6]=a,e[7]=u,e[8]=h,e[9]=o,e[10]=t,e[11]=i,e[12]=p):p=e[12],p}function UD(){}function WD(){const e=(0,n.c)(2),{enabled:t}=(0,Wt.useTrendingConfig)();let s;return e[0]!==t?(s=t?(0,bt.jsx)(GD,{}):null,e[0]=t,e[1]=s):s=e[1],s}function GD(){const e=(0,n.c)(12),t=(0,qs.useTheme)(),s=(0,Xo.useAnalytics)();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[0,"compact"],e[0]=o):o=e[0];const a=(0,qs.useGutters)(o),{data:i,error:l,isLoading:c}=rd(),d=!c&&!l&&!i?.suggested?.length;let u;e[1]!==i?(u=i?.suggested&&i.suggested.every((e=>{const t=e.link.split("/").slice(1);return"profile"===t[0]&&"feed"===t[2]})),e[1]=i,e[2]=u):u=e[2];const m=u;let h;return e[3]!==m||e[4]!==s||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==d||e[9]!==t||e[10]!==i?(h=l||d?null:(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,r.IS_WEB?[qs.atoms.px_lg,qs.atoms.py_lg,qs.atoms.pt_2xl,qs.atoms.gap_md]:[qs.atoms.p_lg,qs.atoms.pt_2xl,qs.atoms.gap_md],qs.atoms.border_b,t.atoms.border_contrast_low],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_sm],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[(0,bt.jsx)(El,{size:"lg",fill:t.palette.primary_500,style:{marginLeft:-2}}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold,t.atoms.text],children:(0,bt.jsx)(dt.Trans,{id:"WEYdDv"})})]}),m?(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_high,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"goDafQ"})}):(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_high,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"f7efUB"})})]})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.pt_md,qs.atoms.pb_lg],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_start,qs.atoms.flex_wrap,{rowGap:8,columnGap:6},a],children:c?Array(od).fill(0).map(qD):i?.suggested?(0,bt.jsx)(bt.Fragment,{children:i.suggested.map((e=>(0,bt.jsx)(yd,{topic:e,onPress:()=>{s.metric("recommendedTopic:click",{context:"explore"})},children:s=>{const{hovered:o}=s;return(0,bt.jsx)(xd,{topic:e,style:[o&&[t.atoms.border_contrast_high,t.atoms.bg_contrast_25]]})}},e.link)))}):null})})]}),e[3]=m,e[4]=s,e[5]=l,e[6]=a,e[7]=c,e[8]=d,e[9]=t,e[10]=i,e[11]=h):h=e[11],h}function qD(e,t){return(0,bt.jsx)(_d,{index:t},t)}const QD=(0,ti.createSinglePathSVG)({path:"M11.158 2.879c.584-.835 1.757-1.137 2.673-.507.951.654 2.597 1.92 4.013 3.694S20.5 10.194 20.5 13c0 4.997-3.752 9-8.5 9s-8.5-4.003-8.5-9c0-2.035.874-4.636 2.578-6.712.746-.91 2.034-.855 2.786-.133l2.294-3.276Zm-3.04 15.758C6.538 17.386 5.5 15.37 5.5 13c0-1.511.666-3.616 2.042-5.342.87.797 2.254.653 2.939-.325l2.286-3.265c.871.606 2.299 1.723 3.514 3.246C17.53 8.879 18.5 10.804 18.5 13c0 2.369-1.038 4.386-2.618 5.637q.117-.518.118-1.061c0-2.601-2.038-4.382-2.911-5.04a1.8 1.8 0 0 0-2.177 0C10.038 13.195 8 14.976 8 17.577q0 .543.118 1.061ZM12 14.222c-.825.648-2 1.859-2 3.354C10 19.043 11.016 20 12 20s2-.957 2-2.424c0-1.495-1.175-2.706-2-3.354Z"}),KD=5;function ZD(){const e=(0,n.c)(3),{enabled:t}=(0,Wt.useTrendingConfig)(),{trendingDisabled:s}=(0,Xr.useTrendingSettings)();let o;return e[0]!==t||e[1]!==s?(o=t&&!s?(0,bt.jsx)(YD,{}):null,e[0]=t,e[1]=s,e[2]=o):o=e[2],o}function YD(){const e=(0,n.c)(7),t=(0,Xo.useAnalytics)(),{data:s,error:o,isLoading:a,isRefetching:r}=function(){const e=(0,n.c)(12),t=(0,Gt.useAgent)(),{data:s}=(0,xr.usePreferencesQuery)();let o;s?.moderationPrefs,e[0]!==s?.moderationPrefs?.mutedWords?(o=s?.moderationPrefs?.mutedWords||[],e[0]=s?.moderationPrefs?.mutedWords,e[1]=o):o=e[1];const a=o,r=!!s;let i,l,c;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=ND(),e[2]=i):i=e[2],e[3]!==t||e[4]!==s?(l=async()=>{const e=(0,EA.getContentLanguages)().join(","),{data:o}=await t.app.bsky.unspecced.getTrends({limit:FD},{headers:Object.assign({},(0,PA.createBskyTopicsHeader)((0,PA.aggregateUserInterests)(s)),{"Accept-Language":e})});return o},e[3]=t,e[4]=s,e[5]=l):l=e[5],e[6]!==a?(c=e=>({trends:(e.trends??[]).filter((e=>!(0,Dn.hasMutedWord)({mutedWords:a,text:e.topic+" "+e.displayName+" "+e.category})))}),e[6]=a,e[7]=c):c=e[7];const d=c;let u;return e[8]!==r||e[9]!==l||e[10]!==d?(u={enabled:r,staleTime:yt.STALE.MINUTES.THREE,queryKey:i,queryFn:l,select:d},e[8]=r,e[9]=l,e[10]=d,e[11]=u):u=e[11],(0,Zs.useQuery)(u)}(),i=!a&&!o&&!s?.trends?.length;let l;return e[0]!==t||e[1]!==o||e[2]!==a||e[3]!==r||e[4]!==i||e[5]!==s?(l=a||r?Array.from({length:KD}).map($D):o||!s?.trends||i?null:(0,bt.jsx)(bt.Fragment,{children:s.trends.map(((e,s)=>(0,bt.jsx)(XD,{trend:e,rank:s+1,onPress:()=>{t.metric("trendingTopic:click",{context:"explore"})}},e.link)))}),e[0]=t,e[1]=o,e[2]=a,e[3]=r,e[4]=i,e[5]=s,e[6]=l):l=e[6],l}function $D(e,t){return(0,bt.jsx)(eO,{withPosts:0===t},t)}function XD(e){const t=(0,n.c)(21),{trend:s,rank:o,children:a,onPress:r}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[0,"base"],t[0]=c):c=t[0];const d=(0,qs.useGutters)(c),u=function(e){const t=(0,n.c)(10),{_:s}=(0,dt.useLingui)();switch(e){case"sports":{let e;return t[0]!==s?(e=s({id:"7JFNej"}),t[0]=s,t[1]=e):e=t[1],e}case"politics":{let e;return t[2]!==s?(e=s({id:"wGvJH+"}),t[2]=s,t[3]=e):e=t[3],e}case"video-games":{let e;return t[4]!==s?(e=s({id:"59Bkqw"}),t[4]=s,t[5]=e):e=t[5],e}case"pop-culture":{let e;return t[6]!==s?(e=s({id:"x7ZLZ3"}),t[6]=s,t[7]=e):e=t[7],e}case"news":{let e;return t[8]!==s?(e=s({id:"qdyV/M"}),t[8]=s,t[9]=e):e=t[9],e}default:return null}}(s?.category||"other"),m=Math.floor((Date.now()-new Date(s.startedAt||Date.now()).getTime())/36e5),h="hot"===s.status?"hot":m<2?"new":m,p=function(e){const t=(0,n.c)(6),s=(0,ds.useModerationOpts)();let o;e:{if(!s){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],o=e;break e}let n;if(t[1]!==e||t[2]!==s){let o;t[4]!==s?(o=e=>{const t=(0,Dn.moderateProfile)(e,s);return!t.ui("avatar").filter&&!t.ui("avatar").blur},t[4]=s,t[5]=o):o=t[5],n=e.filter(o).slice(0,3),t[1]=e,t[2]=s,t[3]=n}else n=t[3];o=n}return o}(s.actors),f=s.link;let g,x,_,y;return t[1]!==l||t[2]!==s.displayName?(g=l({id:"0fVlgm",values:{0:s.displayName}}),t[1]=l,t[2]=s.displayName,t[3]=g):g=t[3],t[4]!==i.atoms.border_contrast_low?(x=[qs.atoms.border_b,i.atoms.border_contrast_low],t[4]=i.atoms.border_contrast_low,t[5]=x):x=t[5],t[6]!==p||t[7]!==h||t[8]!==u||t[9]!==a||t[10]!==d||t[11]!==o||t[12]!==i.atoms.text_contrast_medium||t[13]!==s.displayName?(_=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ju,{hover:t||n,native:!0}),(0,bt.jsxs)(Fs.default,{style:[d,qs.atoms.w_full,qs.atoms.py_lg,qs.atoms.flex_row,qs.atoms.gap_2xs],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_xs],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_tight,{width:20}],children:(0,bt.jsx)(dt.Trans,{id:"hxvIrC",values:{rank:o}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.leading_tight],numberOfLines:1,children:s.displayName})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,{paddingLeft:20}],children:[p.length>0&&(0,bt.jsx)(i_,{size:20,profiles:p}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,i.atoms.text_contrast_medium,(0,qs.web)(qs.atoms.leading_snug)],numberOfLines:1,children:u})]})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_shrink_0],children:(0,bt.jsx)(JD,{type:h})})]}),a]})},t[6]=p,t[7]=h,t[8]=u,t[9]=a,t[10]=d,t[11]=o,t[12]=i.atoms.text_contrast_medium,t[13]=s.displayName,t[14]=_):_=t[14],t[15]!==r||t[16]!==g||t[17]!==x||t[18]!==_||t[19]!==s.link?(y=(0,bt.jsx)(io.Link,{testID:f,label:g,to:s.link,onPress:r,style:x,PressableComponent:ln.default,children:_}),t[15]=r,t[16]=g,t[17]=x,t[18]=_,t[19]=s.link,t[20]=y):y=t[20],y}function JD(e){const t=(0,n.c)(24),{type:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.rounded_full,{height:28,paddingHorizontal:10}],t[0]=r):r=t[0];const i=r;let l,c,d,u,m,h,p,f,g=null;e:switch(s){case"skeleton":{let e;return t[1]!==o.palette.contrast_25?(e=(0,bt.jsx)(Fs.default,{style:[i,{backgroundColor:o.palette.contrast_25,width:65,height:28}]}),t[1]=o.palette.contrast_25,t[2]=e):e=t[2],e}case"hot":{let e;g=QD,c="light"===o.scheme?o.palette.negative_500:o.palette.negative_950,d="light"===o.scheme?o.palette.negative_50:o.palette.negative_200,t[3]!==a?(e=a({id:"Jd58Fo"}),t[3]=a,t[4]=e):e=t[4],l=e;break e}case"new":{let e;g=ld,t[5]!==a?(e=a({id:"isRobC"}),t[5]=a,t[6]=e):e=t[6],l=e,c=o.palette.positive_600,d=o.palette.positive_50;break e}default:{let e;t[7]!==a||t[8]!==s?(e=a({values:{type:s},id:"P5HM2K"}),t[7]=a,t[8]=s,t[9]=e):e=t[9],l=e,c=o.atoms.text_contrast_medium.color,d=o.atoms.bg_contrast_25.backgroundColor}}return t[10]!==d?(u=[i,{backgroundColor:d}],t[10]=d,t[11]=u):u=t[11],t[12]!==g||t[13]!==c?(m=g&&(0,bt.jsx)(g,{size:"sm",style:{color:c}}),t[12]=g,t[13]=c,t[14]=m):m=t[14],t[15]!==c?(h=[qs.atoms.text_sm,qs.atoms.font_medium,{color:c}],t[15]=c,t[16]=h):h=t[16],t[17]!==h||t[18]!==l?(p=(0,bt.jsx)(co.Text,{style:h,children:l}),t[17]=h,t[18]=l,t[19]=p):p=t[19],t[20]!==u||t[21]!==m||t[22]!==p?(f=(0,bt.jsxs)(Fs.default,{style:u,children:[m,p]}),t[20]=u,t[21]=m,t[22]=p,t[23]=f):f=t[23],f}function eO(e){const t=(0,n.c)(12),s=(0,qs.useTheme)();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[0,"base"],t[0]=o):o=t[0];const a=(0,qs.useGutters)(o);let r,i,l,c,d,u,m,h;return t[1]!==a||t[2]!==s.atoms.border_contrast_low?(r=[a,qs.atoms.w_full,qs.atoms.py_lg,qs.atoms.flex_row,qs.atoms.gap_2xs,qs.atoms.border_b,s.atoms.border_contrast_low],t[1]=a,t[2]=s.atoms.border_contrast_low,t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_1,qs.atoms.gap_sm],t[4]=i):i=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.flex_row,qs.atoms.align_center],t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=[{width:20}],t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsxs)(Fs.default,{style:l,children:[(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsx)(mi,{width:12,height:12,style:[qs.atoms.rounded_full]})}),(0,bt.jsx)(mi,{width:90,height:17})]}),t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(Fs.default,{style:i,children:[d,(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,{paddingLeft:20}],children:[(0,bt.jsx)(mi,{width:70,height:16}),(0,bt.jsx)(mi,{width:40,height:16}),(0,bt.jsx)(mi,{width:60,height:16})]})]}),t[8]=u):u=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_shrink_0],children:(0,bt.jsx)(JD,{type:"skeleton"})}),t[9]=m):m=t[9],t[10]!==r?(h=(0,bt.jsxs)(Fs.default,{style:r,children:[u,m]}),t[10]=r,t[11]=h):h=t[11],h}const tO=100,sO=`feedgen|${Vt.VIDEO_FEED_URI}`,oO={feedCacheKey:"explore"};function nO(){const e=(0,n.c)(14);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[0,"base"],e[0]=t):t=e[0];const s=(0,qs.useGutters)(t),{data:o,isLoading:a,error:r}=(0,Jr.usePostFeedQuery)(sO,oO),i=(0,On.useQueryClient)();let l,c,d,u,m;return e[1]!==i?(l=()=>()=>{const e=i.getQueryCache().find({queryKey:(0,Jr.RQKEY)(sO,oO)});e&&e.getObserversCount()<=1&&e.fetch()},e[1]=i,e[2]=l):l=e[2],(0,Ns.useFocusEffect)(l),r?null:(e[3]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.pb_xl],e[3]=c):c=e[3],e[4]!==s.paddingLeft||e[5]!==s.paddingRight?(d=[qs.atoms.pt_lg,qs.atoms.flex_row,qs.atoms.gap_sm,{paddingLeft:s.paddingLeft,paddingRight:s.paddingRight}],e[4]=s.paddingLeft,e[5]=s.paddingRight,e[6]=d):d=e[6],e[7]!==o||e[8]!==r||e[9]!==a?(u=a?Array(10).fill(0).map(aO):r||!o?(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"SOQezB"})}):(0,bt.jsx)(rO,{data:o}),e[7]=o,e[8]=r,e[9]=a,e[10]=u):u=e[10],e[11]!==d||e[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:c,children:(0,bt.jsx)(Wi,{children:(0,bt.jsx)(Vi.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToInterval:tO+qs.tokens.space.sm,children:(0,bt.jsx)(Fs.default,{style:d,children:u})})})}),e[11]=d,e[12]=u,e[13]=m):m=e[13],m)}function aO(e,t){return(0,bt.jsx)(Fs.default,{style:[{width:tO}],children:(0,bt.jsx)(Xc,{})},t)}function rO({data:e}){const t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),n=(0,lt.useMemo)((()=>e.pages.flatMap((e=>e.slices)).map((e=>e.items[0])).filter(Boolean).filter((e=>Dn.AppBskyEmbedVideo.isView(e.post.embed))).slice(0,8)),[e]),a=(0,lt.useMemo)((()=>{const e=new Dn.AtUri(Vt.VIDEO_FEED_URI);return(0,Oa.makeCustomFeedLink)(e.host,e.rkey,void 0,"explore")}),[]);return(0,bt.jsxs)(bt.Fragment,{children:[n.map((e=>(0,bt.jsx)(Fs.default,{style:[{width:tO}],children:(0,bt.jsx)($c,{post:e.post,moderation:e.moderation,sourceContext:{type:"feedgen",uri:Vt.VIDEO_FEED_URI,sourceInterstitial:"explore"},onInteract:()=>{o.metric("videoCard:click",{context:"interstitial:explore"})}})},e.post.uri))),(0,bt.jsx)(Fs.default,{style:[{width:2*tO}],children:(0,bt.jsx)(io.Link,{to:a,label:s({id:"4m3nxQ"}),style:[qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.flex_1,qs.atoms.rounded_md,t.atoms.bg_contrast_25],children:({pressed:e})=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md,{opacity:e?.6:1}],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"4m3nxQ"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_full,{width:34,height:34,backgroundColor:t.palette.primary_500}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:mn.ChevronRight_Stroke2_Corner0_Rounded})})]})})})]})}function iO(){const e=(0,n.c)(5),t=(0,qs.useTheme)(),s=ll();let o;if(e[0]!==s.feeds||e[1]!==t){let n;e[3]!==t?(n=e=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,qs.atoms.border_b,t.atoms.border_contrast_low],children:(0,bt.jsx)(Ld,{feed:e,metricContext:"explore"})},e.id),e[3]=t,e[4]=n):n=e[4],o=s.feeds.map(n),e[0]=s.feeds,e[1]=t,e[2]=o}else o=e[2];return o}const lO=["style"],cO=["style"];function dO(e){const t=(0,n.c)(10),{style:s,children:o,bottomBorder:a}=e,r=(0,qs.useTheme)();let i,l,c;return t[0]!==a||t[1]!==r.atoms.border_contrast_low?(i=a&&[qs.atoms.border_b,r.atoms.border_contrast_low],t[0]=a,t[1]=r.atoms.border_contrast_low,t[2]=i):i=t[2],t[3]!==s||t[4]!==r.atoms.bg||t[5]!==i?(l=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.px_lg,qs.atoms.pt_2xl,qs.atoms.pb_md,qs.atoms.gap_sm,r.atoms.bg,i,s],t[3]=s,t[4]=r.atoms.bg,t[5]=i,t[6]=l):l=t[6],t[7]!==o||t[8]!==l?(c=(0,bt.jsx)(Fs.default,{style:l,children:o}),t[7]=o,t[8]=l,t[9]=c):c=t[9],c}function uO({feed:e,children:t}){const s=(0,qs.useTheme)(),{host:o,rkey:n}=(0,lt.useMemo)((()=>new Dn.AtUri(e.uri)),[e.uri]);return(0,bt.jsx)(io.Link,{to:(0,Oa.makeCustomFeedLink)(o,n),label:e.displayName,style:[qs.atoms.flex_1],children:({focused:e,hovered:o,pressed:n})=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,{gap:10},qs.atoms.rounded_md,qs.atoms.p_xs,{marginLeft:-6},(e||o||n)&&s.atoms.bg_contrast_25],children:t})})}function mO(e){const t=(0,n.c)(2),{feed:s}=e;let o;return t[0]!==s.avatar?(o=(0,bt.jsx)(Gi.UserAvatar,{type:"algo",size:38,avatar:s.avatar}),t[0]=s.avatar,t[1]=o):o=t[1],o}function hO(e){const t=(0,n.c)(8),{icon:s,size:o}=e,a=void 0===o?"lg":o,r=Wg.sizes[a];let i,l,c;return t[0]!==r?(i=[qs.atoms.z_20,{width:r,height:r,marginLeft:-2}],t[0]=r,t[1]=i):i=t[1],t[2]!==s||t[3]!==r?(l=(0,bt.jsx)(s,{width:r}),t[2]=s,t[3]=r,t[4]=l):l=t[4],t[5]!==i||t[6]!==l?(c=(0,bt.jsx)(Fs.default,{style:i,children:l}),t[5]=i,t[6]=l,t[7]=c):c=t[7],c}function pO(e){const t=(0,n.c)(8);let s,o,a,r;if(t[0]!==e){var i=e;({style:o}=i),s=(0,ta.default)(i,lO),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];return t[3]!==o?(a=[qs.atoms.font_semi_bold,qs.atoms.flex_1,qs.atoms.text_xl,o],t[3]=o,t[4]=a):a=t[4],t[5]!==s||t[6]!==a?(r=(0,bt.jsx)(co.Text,Object.assign({style:a,emoji:!0},s)),t[5]=s,t[6]=a,t[7]=r):r=t[7],r}function fO(e){const t=(0,n.c)(9);let s,o;if(t[0]!==e){var a=e;({style:o}=a),s=(0,ta.default)(a,cO),t[0]=e,t[1]=s,t[2]=o}else s=t[1],o=t[2];const r=(0,qs.useTheme)();let i,l;return t[3]!==o||t[4]!==r.atoms.text_contrast_medium?(i=[r.atoms.text_contrast_medium,qs.atoms.leading_tight,qs.atoms.flex_1,qs.atoms.text_sm,o],t[3]=o,t[4]=r.atoms.text_contrast_medium,t[5]=i):i=t[5],t[6]!==s||t[7]!==i?(l=(0,bt.jsx)(co.Text,Object.assign({style:i},s)),t[6]=s,t[7]=i,t[8]=l):l=t[8],l}function gO(e){const t=(0,n.c)(10),{label:s,metricsTag:o,onPress:a}=e,r=(0,Xo.useAnalytics)();let i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,qs.native)(hd),t[0]=i):i=t[0],t[1]!==r||t[2]!==o||t[3]!==a?(l=()=>{r.metric("explore:module:searchButtonPress",{module:o}),a?.()},t[1]=r,t[2]=o,t[3]=a,t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=[{right:-4}],d=(0,bt.jsx)(ao.ButtonIcon,{icon:Hl.MagnifyingGlass_Stroke2_Corner0_Rounded,size:"lg"}),t[5]=c,t[6]=d):(c=t[5],d=t[6]),t[7]!==s||t[8]!==l?(u=(0,bt.jsx)(ao.Button,{label:s,size:"small",variant:"ghost",color:"secondary",shape:"round",PressableComponent:i,onPress:l,style:c,children:d}),t[7]=s,t[8]=l,t[9]=u):u=t[9],u}function xO(e){const t=(0,n.c)(3),{feed:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.z_20,{marginRight:-6}],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(Fs.default,{style:o,children:(0,bt.jsx)(Cl,{pin:!0,view:s,size:"large",color:"secondary",variant:"ghost",shape:"square",text:!1})}),t[1]=s,t[2]=a):a=t[2],a}function _O(e){const t=(0,n.c)(24),{selectedInterest:s,onSelectInterest:o,hideDefaultTab:a,defaultTabLabel:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),c=Ml(),{data:d}=(0,xr.usePreferencesQuery)(),u=d?.interests?.tags;let m,h,p,f;t[0]!==a||t[1]!==c||t[2]!==u?(p=Object.keys(c).sort(Zl(Ol)).sort(Zl(u)),h=Wi,m=Ql,f=a?p:["all",...p],t[0]=a,t[1]=c,t[2]=u,t[3]=m,t[4]=h,t[5]=p,t[6]=f):(m=t[3],h=t[4],p=t[5],f=t[6]);const g=s||(a?p[0]:"all");let x,_,y,b;return t[7]!==l||t[8]!==o?(x=e=>{l.metric("explore:suggestedAccounts:tabPressed",{tab:e}),o("all"===e?null:e)},t[7]=l,t[8]=o,t[9]=x):x=t[9],t[10]!==i||t[11]!==r||t[12]!==a||t[13]!==c?(_=a?c:Object.assign({all:r||i({id:"S0/Qnt"})},c),t[10]=i,t[11]=r,t[12]=a,t[13]=c,t[14]=_):_=t[14],t[15]!==m||t[16]!==f||t[17]!==g||t[18]!==x||t[19]!==_?(y=(0,bt.jsx)(m,{interests:f,selectedInterest:g,onSelectTab:x,interestsDisplayNames:_}),t[15]=m,t[16]=f,t[17]=g,t[18]=x,t[19]=_,t[20]=y):y=t[20],t[21]!==h||t[22]!==y?(b=(0,bt.jsx)(h,{children:y}),t[21]=h,t[22]=y,t[23]=b):b=t[23],b}let yO=e=>{const t=(0,n.c)(17),{profile:s,moderationOpts:o,recId:a,position:r}=e,i=(0,qs.useTheme)(),l=(0,Xo.useAnalytics)();let c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.flex_1],t[0]=c):c=t[0],t[1]!==l||t[2]!==r||t[3]!==s.did||t[4]!==a?(d=()=>{l.metric("suggestedUser:press",{logContext:"Explore",recId:a,position:r,suggestedDid:s.did,category:null})},t[1]=l,t[2]=r,t[3]=s.did,t[4]=a,t[5]=d):d=t[5],t[6]!==l||t[7]!==o||t[8]!==r||t[9]!==s||t[10]!==a||t[11]!==i.atoms.border_contrast_low?(u=e=>(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ju,{hover:e.hovered||e.pressed}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.w_full,qs.atoms.py_lg,qs.atoms.px_lg,qs.atoms.border_t,i.atoms.border_contrast_low],children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:o}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:o}),(0,bt.jsx)(Rl.FollowButton,{profile:s,moderationOpts:o,withIcon:!1,logContext:"ExploreSuggestedAccounts",onFollow:()=>{l.metric("suggestedUser:follow",{logContext:"Explore",location:"Card",recId:a,position:r,suggestedDid:s.did,category:null})}})]}),(0,bt.jsx)(Rl.Description,{profile:s,numberOfLines:2})]})})]}),t[6]=l,t[7]=o,t[8]=r,t[9]=s,t[10]=a,t[11]=i.atoms.border_contrast_low,t[12]=u):u=t[12],t[13]!==s||t[14]!==d||t[15]!==u?(m=(0,bt.jsx)(Rl.Link,{profile:s,style:c,onPress:d,children:u}),t[13]=s,t[14]=d,t[15]=u,t[16]=m):m=t[16],m};function bO(e){const t=(0,n.c)(11),{item:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r,i,l,c;return t[0]!==a?(r=a({id:"yQ2kGp"}),t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.relative,qs.atoms.w_full],t[2]=i):i=t[2],t[3]!==s.isLoadingMore||t[4]!==s.message||t[5]!==o?(l=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ju,{hover:t||n}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:s.message}),s.isLoadingMore?(0,bt.jsx)(lo.Loader,{size:"sm"}):(0,bt.jsx)(mn.ChevronBottom_Stroke2_Corner0_Rounded,{size:"sm",style:o.atoms.text_contrast_medium})]})]})},t[3]=s.isLoadingMore,t[4]=s.message,t[5]=o,t[6]=l):l=t[6],t[7]!==s.onLoadMore||t[8]!==r||t[9]!==l?(c=(0,bt.jsx)(ao.Button,{label:r,onPress:s.onLoadMore,style:i,children:l}),t[7]=s.onLoadMore,t[8]=r,t[9]=l,t[10]=c):c=t[10],c}function jO({focusSearchInput:e}){const t=(0,Xo.useAnalytics)(),{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),{data:a,error:r}=(0,xr.usePreferencesQuery)(),i=(0,ds.useModerationOpts)(),[l,c]=(0,lt.useState)(null),{contentLanguages:d}=(0,EA.useLanguagePrefs)(),u=(0,lt.useMemo)((()=>0===d.length||dI.basicFilter("en",d).length>0),[d]),m=a?.interests?.tags,h=Ml(),p=Object.keys(h).sort(Zl(Ol)).sort(Zl(m)),{data:f,isLoading:g,error:x,isRefetching:_}=wA({category:l||(u?null:p[0]),search:!u}),{data:y,hasNextPage:b,isLoading:j,isFetchingNextPage:v,error:S,fetchNextPage:w}=kr({limit:10,enabled:u}),T=Di(Ii.ExploreInterestsCard),k="ready"===T.status&&!T.nux?.completed,{data:C,isLoading:I,error:A,isRefetching:P}=function(e){const t=(0,n.c)(11),{enabled:s,overrideInterests:o}=e,a=(0,Gt.useAgent)(),{data:r}=(0,xr.usePreferencesQuery)();let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,EA.getContentLanguages)().join(","),t[0]=i):i=t[0];const l=i,c=!!r&&!1!==s;let d,u,m;return t[1]!==o?(d=HD(o),t[1]=o,t[2]=d):d=t[2],t[3]!==a||t[4]!==o||t[5]!==r?(u=async()=>{const{data:e}=await a.app.bsky.unspecced.getSuggestedStarterPacks(void 0,{headers:Object.assign({},(0,PA.createBskyTopicsHeader)(o?o.join(","):(0,PA.aggregateUserInterests)(r)),{"Accept-Language":l})});return e},t[3]=a,t[4]=o,t[5]=r,t[6]=u):u=t[6],t[7]!==c||t[8]!==d||t[9]!==u?(m={enabled:c,staleTime:yt.STALE.MINUTES.THREE,queryKey:d,queryFn:u},t[7]=c,t[8]=d,t[9]=u,t[10]=m):m=t[10],(0,Zs.useQuery)(m)}({enabled:u}),E=v&&!j,[L,R]=(0,lt.useState)(!1),B=(0,lt.useCallback)((async()=>{if(!v&&b&&!S)if(L)try{await w()}catch(e){t.logger.error("Failed to load more suggested follows",{message:e})}else R(!0)}),[t,v,b,S,w,L]),{data:D,error:O}=function(e){const t=(0,n.c)(8),{enabled:s}=e,o=(0,Gt.useAgent)(),{data:a}=(0,xr.usePreferencesQuery)(),r=a?.savedFeeds,i=!!a&&!1!==s;let l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=MD(),t[0]=l):l=t[0],t[1]!==o||t[2]!==a||t[3]!==r?(c=async()=>{const e=(0,EA.getContentLanguages)().join(","),{data:t}=await o.app.bsky.unspecced.getSuggestedFeeds({limit:OD},{headers:Object.assign({},(0,PA.createBskyTopicsHeader)((0,PA.aggregateUserInterests)(a)),{"Accept-Language":e})});return{feeds:t.feeds.filter((e=>!r?.find((t=>t.value===e.uri))))}},t[1]=o,t[2]=a,t[3]=r,t[4]=c):c=t[4],t[5]!==i||t[6]!==c?(d={enabled:i,staleTime:yt.STALE.MINUTES.THREE,queryKey:l,queryFn:c},t[5]=i,t[6]=c,t[7]=d):d=t[7],(0,Zs.useQuery)(d)}({enabled:u}),{data:M,query:{isPending:F,isFetchingNextPage:N,fetchNextPage:H,hasNextPage:V,error:z}}=(0,DD.useFeedPreviews)(D?.feeds??[],u),U=(0,On.useQueryClient)(),[W,G]=(0,lt.useState)(!1),q=(0,lt.useCallback)((async()=>{G(!0),await Promise.all([U.resetQueries({queryKey:ND()}),U.resetQueries({queryKey:HD()}),U.resetQueries({queryKey:[Nl.getSuggestedUsersQueryKeyRoot]}),U.resetQueries({queryKey:[Fl.RQKEY_ROOT]}),U.resetQueries({queryKey:MD()})]),G(!1)}),[U,G]),Q=(0,lt.useCallback)((async()=>{if(!F&&!N&&V&&!z)try{await H()}catch(e){t.logger.error("Failed to load more feed previews",{message:e})}}),[t,F,N,V,z,H]),K=(0,lt.useMemo)((()=>({type:"topBorder",key:"top-border"})),[]),Z=(0,lt.useMemo)((()=>({type:"trendingTopics",key:"trending-topics"})),[]),Y=(0,lt.useMemo)((()=>{const e=[];if(e.push({type:"tabbedHeader",key:"suggested-accounts-header",title:s({id:"C/oQ9R"}),icon:_P,searchButton:{label:s({id:"hcAVXh"}),metricsTag:"suggestedAccounts",tab:"user"},hideDefaultTab:!u}),g||_)e.push({type:"profilePlaceholder",key:"profilePlaceholder"});else if(x)e.push({type:"error",key:"suggestedUsersError",message:s({id:"NyMVkx"}),error:(0,Tn.cleanError)(x)});else if(void 0!==f)if(f.actors.length>0&&i){let t=new Set;const s=[];for(const e of f.actors)t.has(e.did)||e.viewer?.following||(t.add(e.did),s.push({type:"profile",key:e.did,profile:e}));0===s.length?e.push({type:"profileEmpty",key:"profileEmpty"}):null===l&&u?e.push(...s.slice(0,5)):e.push(...s)}else e.push({type:"profileEmpty",key:"profileEmpty"});else e.push({type:"profilePlaceholder",key:"profilePlaceholder"});return e}),[s,i,f,g,_,x,l,u]),$=(0,lt.useMemo)((()=>{const e=[];if(e.push({type:"header",key:"suggested-feeds-header",title:s({id:"j89vnL"}),icon:v_,searchButton:{label:s({id:"IJwpzF"}),metricsTag:"suggestedFeeds",tab:"feed"}}),u)if(D&&a){let o=new Set;const n=[];for(const e of D.feeds)o.has(e.uri)||(o.add(e.uri),n.push({type:"feed",key:e.uri,feed:e}));if(O)e.push({type:"error",key:"feedsError",message:s({id:"lKD/wH"}),error:(0,Tn.cleanError)(S)});else if(r)e.push({type:"error",key:"preferencesError",message:s({id:"5wadOg"}),error:(0,Tn.cleanError)(r)});else{if(0===n.length)e.pop();else{L?e.push(...n):e.push(...n.slice(0,6));for(const[e,s]of n.entries())"feed"===s.type&&(L&&e<6||t.metric("feed:suggestion:seen",{feedUrl:s.feed.uri}))}L||e.push({type:"loadMore",key:"loadMoreFeeds",message:s({id:"LRsBid"}),isLoadingMore:E,onLoadMore:B})}}else S?e.push({type:"error",key:"feedsError",message:s({id:"lKD/wH"}),error:(0,Tn.cleanError)(S)}):r?e.push({type:"error",key:"preferencesError",message:s({id:"5wadOg"}),error:(0,Tn.cleanError)(r)}):e.push({type:"feedPlaceholder",key:"feedPlaceholder"});else if(y&&a){let t=new Set;const o=[];for(const e of y.pages)for(const s of e.feeds)t.has(s.uri)||(t.add(s.uri),o.push({type:"feed",key:s.uri,feed:s}));S?e.push({type:"error",key:"feedsError",message:s({id:"lKD/wH"}),error:(0,Tn.cleanError)(S)}):r?e.push({type:"error",key:"preferencesError",message:s({id:"5wadOg"}),error:(0,Tn.cleanError)(r)}):(0===o.length?b||e.pop():L?e.push(...o):e.push(...o.slice(0,3)),b&&e.push({type:"loadMore",key:"loadMoreFeeds",message:s({id:"LRsBid"}),isLoadingMore:E,onLoadMore:B}))}else S?e.push({type:"error",key:"feedsError",message:s({id:"lKD/wH"}),error:(0,Tn.cleanError)(S)}):r?e.push({type:"error",key:"preferencesError",message:s({id:"5wadOg"}),error:(0,Tn.cleanError)(r)}):e.push({type:"feedPlaceholder",key:"feedPlaceholder"});return e}),[s,t,u,D,a,O,r,S,b,L,E,B,y]),X=(0,lt.useMemo)((()=>{const e=[];return e.push({type:"header",key:"suggested-starterPacks-header",title:s({id:"vKtclE"}),icon:fd.StarterPack,iconSize:"xl"}),I||P?Array.from({length:3}).forEach(((t,s)=>e.push({type:"starterPackSkeleton",key:`starterPackSkeleton-${s}`}))):A||!C?e.pop():C.starterPacks.map((t=>{e.push({type:"starterPack",key:t.uri,view:t})})),e}),[C,s,I,A,P]),J=(0,lt.useMemo)((()=>{const e=[];return e.push(...M),N&&e.push({type:"preview:loading",key:"preview-loading-more"}),e}),[M,N]),ee=(0,lt.useMemo)((()=>k?[{type:"interests-card",key:"interests-card"}]:[]),[k]),te=(0,lt.useMemo)((()=>{const e=[];return e.push(K),e.push(...ee),e.push({type:"liveEventFeedsBanner",key:"liveEventFeedsBanner"}),u?(e.push(Z),e.push(...$),e.push(...Y),e.push(...X),e.push(...J)):e.push(...Y),e}),[K,Y,X,$,Z,J,ee,u]),se=(0,lt.useCallback)((({item:n,index:a})=>{switch(n.type){case"topBorder":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,o.atoms.border_contrast_low,qs.atoms.border_t]});case"header":return(0,bt.jsxs)(dO,{bottomBorder:n.bottomBorder,children:[(0,bt.jsx)(hO,{icon:n.icon,size:n.iconSize}),(0,bt.jsx)(pO,{children:n.title}),n.searchButton&&(0,bt.jsx)(gO,Object.assign({},n.searchButton,{onPress:()=>e(n.searchButton?.tab||"user")}))]});case"tabbedHeader":return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_md],children:[(0,bt.jsxs)(dO,{style:[qs.atoms.pb_xs],children:[(0,bt.jsx)(hO,{icon:n.icon}),(0,bt.jsx)(pO,{children:n.title}),n.searchButton&&(0,bt.jsx)(gO,Object.assign({},n.searchButton,{onPress:()=>e(n.searchButton?.tab||"user")}))]}),(0,bt.jsx)(_O,{selectedInterest:l,onSelectInterest:c,hideDefaultTab:n.hideDefaultTab})]});case"trendingTopics":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_md],children:(0,bt.jsx)(ZD,{})});case"trendingVideos":return(0,bt.jsx)(nO,{});case"recommendations":return(0,bt.jsx)(WD,{});case"profile":return(0,bt.jsx)(yO,{profile:n.profile,moderationOpts:i,recId:n.recId,position:a});case"profileEmpty":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pb_lg],children:(0,bt.jsx)(no.Admonition,{children:l?(0,bt.jsx)(dt.Trans,{id:"ihruyH",values:{0:h[l]}}):(0,bt.jsx)(dt.Trans,{id:"1dhpFr"})})});case"feed":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,o.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg],children:(0,bt.jsx)(xl,{view:n.feed,onPress:()=>{u&&t.metric("feed:suggestion:press",{feedUrl:n.feed.uri})}})});case"starterPack":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pb_lg],children:(0,bt.jsx)(BA,{view:n.view})});case"starterPackSkeleton":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pb_lg],children:(0,bt.jsx)(MA,{})});case"loadMore":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,o.atoms.border_contrast_low],children:(0,bt.jsx)(bO,{item:n})});case"profilePlaceholder":return(0,bt.jsx)(bt.Fragment,{children:Array.from({length:3}).map(((e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.py_lg,qs.atoms.border_t,o.atoms.border_contrast_low],children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.AvatarPlaceholder,{}),(0,bt.jsx)(Rl.NameAndHandlePlaceholder,{})]}),(0,bt.jsx)(Rl.DescriptionPlaceholder,{numberOfLines:2})]})},t)))});case"feedPlaceholder":return(0,bt.jsx)(bi,{});case"error":case"preview:error":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,qs.atoms.pt_md,qs.atoms.px_md,o.atoms.border_contrast_low],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_md,qs.atoms.p_lg,qs.atoms.rounded_sm,o.atoms.bg_contrast_25],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"md",fill:o.palette.negative_400}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:n.message}),(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.leading_snug,o.atoms.text_contrast_medium],children:n.error})]})]})});case"preview:spacer":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_4xl]});case"preview:empty":return null;case"preview:loading":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_2xl,qs.atoms.flex_1,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"lg"})});case"preview:header":return(0,bt.jsxs)(dO,{style:[qs.atoms.pt_xs],bottomBorder:!0,children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,o.atoms.bg,{top:-2}]}),(0,bt.jsxs)(uO,{feed:n.feed,children:[(0,bt.jsx)(mO,{feed:n.feed}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs],children:[(0,bt.jsx)(pO,{style:[qs.atoms.text_lg],children:n.feed.displayName}),(0,bt.jsx)(fO,{children:(0,bt.jsx)(dt.Trans,{id:"aavdrC",values:{0:(0,Fa.sanitizeHandle)(n.feed.creator.handle,"@")}})})]})]}),(0,bt.jsx)(xO,{feed:n.feed})]});case"preview:footer":return(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,o.atoms.border_contrast_low,qs.atoms.w_full,qs.atoms.pt_4xl]});case"preview:sliceItem":{const e=n.slice,t=n.indexInSlice,s=e.items[t];return(0,bt.jsx)(bg,{post:s.post,record:s.record,reason:0===t?e.reason:void 0,feedContext:e.feedContext,reqId:e.reqId,moderation:s.moderation,parentAuthor:s.parentAuthor,showReplyTo:n.showReplyTo,isThreadParent:Eg(e.items,t),isThreadChild:Lg(e.items,t),isThreadLastChild:Lg(e.items,t)&&e.items.length===t+1,isParentBlocked:s.isParentBlocked,isParentNotFound:s.isParentNotFound,hideTopBorder:n.hideTopBorder,rootPost:e.items[0].post})}case"preview:sliceViewFullThread":return(0,bt.jsx)(kg,{uri:n.uri});case"preview:loadMoreError":return(0,bt.jsx)(ki,{label:s({id:"P7AR2V"}),onPress:H});case"interests-card":return(0,bt.jsx)(zD,{});case"liveEventFeedsBanner":return(0,bt.jsx)(iO,{})}}),[t,o.atoms.border_contrast_low,o.atoms.bg_contrast_25,o.atoms.text_contrast_medium,o.atoms.bg,o.palette.negative_400,e,l,i,h,u,s,H]),oe=(0,lt.useMemo)((()=>te.reduce(((e,t)=>["topBorder","preview:header"].includes(t.type)?e.concat(te.indexOf(t)):e),[])),[te]),ne=(0,lt.useRef)(new Map),ae=(0,lt.useRef)(new Set),re=(0,lt.useCallback)((e=>{let s;if("trendingTopics"===e.type||"trendingVideos"===e.type)s=e.type;else if("profile"===e.type){if(s="suggestedAccounts",!ae.current.has(e.profile.did)){ae.current.add(e.profile.did);const s=Y.findIndex((t=>"profile"===t.type&&t.profile.did===e.profile.did));t.metric("suggestedUser:seen",{logContext:"Explore",recId:e.recId,position:-1!==s?s-1:0,suggestedDid:e.profile.did,category:null})}}else if("feed"===e.type)s="suggestedFeeds";else if("starterPack"===e.type)s="suggestedStarterPacks";else{if("preview:sliceItem"!==e.type)return;s=`feed:feedgen|${e.feed.uri}`}ne.current.has(s)||(ne.current.set(s,s),t.metric("explore:module:seen",{module:s}))}),[t,Y]);return(0,bt.jsx)(ei.List,{data:te,renderItem:se,keyExtractor:vO,desktopFixedHeight:!0,contentContainerStyle:{paddingBottom:100},keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",stickyHeaderIndices:(0,qs.native)(oe),viewabilityConfig:SO,onItemSeen:re,onEndReached:Q,onEndReachedThreshold:4,initialNumToRender:10,windowSize:(0,qs.platform)({android:11}),maxToRenderPerBatch:(0,qs.platform)({android:10,ios:20}),updateCellsBatchingPeriod:50,refreshing:W,onRefresh:q})}function vO(e){return e.key}yO=(0,lt.memo)(yO);const SO={itemVisiblePercentThreshold:100};let wO=e=>{const t=(0,n.c)(42),{query:s,queryWithParams:o,activeTab:a,onPageSelected:r,headerHeight:i,initialPage:l}=e,c=void 0===l?0:l,{_:d}=(0,dt.useLingui)();let u;e:{if(!o){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],u=e;break e}const e=o===s;let n;t[1]!==d?(n=d({id:"WWy8TN"}),t[1]=d,t[2]=n):n=t[2];const r=0===a;let i,l,c;t[3]!==o||t[4]!==r?(i=(0,bt.jsx)(IO,{query:o,sort:"top",active:r}),t[3]=o,t[4]=r,t[5]=i):i=t[5],t[6]!==n||t[7]!==i?(l={title:n,component:i},t[6]=n,t[7]=i,t[8]=l):l=t[8],t[9]!==d?(c=d({id:"wL3cK8"}),t[9]=d,t[10]=c):c=t[10];const m=1===a;let h,p,f,g,x;t[11]!==o||t[12]!==m?(h=(0,bt.jsx)(IO,{query:o,sort:"latest",active:m}),t[11]=o,t[12]=m,t[13]=h):h=t[13],t[14]!==c||t[15]!==h?(p={title:c,component:h},t[14]=c,t[15]=h,t[16]=p):p=t[16],t[17]!==d||t[18]!==a||t[19]!==e||t[20]!==s?(f=e&&{title:d({id:"1wdjme"}),component:(0,bt.jsx)(AO,{query:s,active:2===a})},t[17]=d,t[18]=a,t[19]=e,t[20]=s,t[21]=f):f=t[21],t[22]!==d||t[23]!==a||t[24]!==e||t[25]!==s?(g=e&&{title:d({id:"2DoBvq"}),component:(0,bt.jsx)(PO,{query:s,active:3===a})},t[22]=d,t[23]=a,t[24]=e,t[25]=s,t[26]=g):g=t[26],t[27]!==p||t[28]!==f||t[29]!==g||t[30]!==l?(x=[l,p,f,g].filter(Boolean),t[27]=p,t[28]=f,t[29]=g,t[30]=l,t[31]=x):x=t[31],u=x}const m=u;let h,p,f;return t[32]!==i||t[33]!==m?(h=e=>(0,bt.jsx)(ya.Center,{style:[qs.atoms.z_10,(0,qs.web)([qs.atoms.sticky,{top:i}])],children:(0,bt.jsx)(wv,Object.assign({items:m.map(EO)},e))}),t[32]=i,t[33]=m,t[34]=h):h=t[34],t[35]!==m?(p=m.map(LO),t[35]=m,t[36]=p):p=t[36],t[37]!==c||t[38]!==r||t[39]!==h||t[40]!==p?(f=(0,bt.jsx)(Mv,{onPageSelected:r,renderTabBar:h,initialPage:c,children:p}),t[37]=c,t[38]=r,t[39]=h,t[40]=p,t[41]=f):f=t[41],f};function TO(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(ya.Content,{children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xl],children:(0,bt.jsx)(vn.default,{})})}),e[0]=t):t=e[0],t}function kO(e){const t=(0,n.c)(15),{messageText:s,error:o,children:a}=e,r=(0,qs.useTheme)();let i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.p_xl],t[0]=i):i=t[0],t[1]!==r.atoms.bg_contrast_25?(l=[r.atoms.bg_contrast_25,qs.atoms.rounded_sm,qs.atoms.p_lg],t[1]=r.atoms.bg_contrast_25,t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.text_md],t[3]=c):c=t[3],t[4]!==s?(d=(0,bt.jsx)(co.Text,{style:c,children:s}),t[4]=s,t[5]=d):d=t[5],t[6]!==o||t[7]!==r.atoms.text||t[8]!==r.atoms.text_contrast_medium?(u=o&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[{marginVertical:12,height:1,width:"100%",backgroundColor:r.atoms.text.color,opacity:.2}]}),(0,bt.jsx)(co.Text,{style:[r.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"r64ohk",values:{error:o}})})]}),t[6]=o,t[7]=r.atoms.text,t[8]=r.atoms.text_contrast_medium,t[9]=u):u=t[9],t[10]!==a||t[11]!==l||t[12]!==d||t[13]!==u?(m=(0,bt.jsx)(ya.Content,{children:(0,bt.jsx)(Fs.default,{style:i,children:(0,bt.jsxs)(Fs.default,{style:l,children:[d,u,a]})})}),t[10]=a,t[11]=l,t[12]=d,t[13]=u,t[14]=m):m=t[14],m}function CO(e){const t=(0,n.c)(25),{query:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r,i,l,c,d,u,m,h,p,f,g;return t[0]!==o.atoms.text_contrast_high?(r=[qs.atoms.text_lg,o.atoms.text_contrast_high],t[0]=o.atoms.text_contrast_high,t[1]=r):r=t[1],t[2]!==s?(i={query:s},t[2]=s,t[3]=i):i=t[3],t[4]!==o.atoms.text?(l={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,o.atoms.text,qs.atoms.font_medium]})},t[4]=o.atoms.text,t[5]=l):l=t[5],t[6]!==i||t[7]!==l?(c=(0,bt.jsx)(dt.Trans,{id:"GywrFj",values:i,components:l}),t[6]=i,t[7]=l,t[8]=c):c=t[8],t[9]!==r||t[10]!==c?(d=(0,bt.jsx)(co.Text,{style:r,children:c}),t[9]=r,t[10]=c,t[11]=d):d=t[11],t[12]!==o.atoms.text_contrast_high?(u=[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_high],t[12]=o.atoms.text_contrast_high,t[13]=u):u=t[13],t[14]!==a?(m=a({id:"p1R6N2"}),t[14]=a,t[15]=m):m=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.text_md,qs.atoms.leading_snug],t[16]=h):h=t[16],t[17]!==m?(p=(0,bt.jsx)(dt.Trans,{id:"SzFtLS",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:m,to:Vt.urls.website.blog.searchTipsAndTricks,style:h})}}),t[17]=m,t[18]=p):p=t[18],t[19]!==u||t[20]!==p?(f=(0,bt.jsx)(co.Text,{style:u,children:p}),t[19]=u,t[20]=p,t[21]=f):f=t[21],t[22]!==f||t[23]!==d?(g=(0,bt.jsxs)(bt.Fragment,{children:[d,"\n\n",f]}),t[22]=f,t[23]=d,t[24]=g):g=t[24],g}wO=(0,lt.memo)(wO);let IO=({query:e,sort:t,active:s})=>{const{_:o}=(0,dt.useLingui)(),{currentAccount:n,hasSession:a}=(0,Gt.useSession)(),[r,i]=(0,lt.useState)(!1),l=MS("SearchResults"),c=(0,lt.useMemo)((()=>(0,Eu.augmentSearchQuery)(e||"",{did:n?.did})),[e,n]),{isFetched:d,data:u,isFetching:m,error:h,refetch:p,fetchNextPage:f,isFetchingNextPage:g,hasNextPage:x}=(0,lE.useSearchPostsQuery)({query:c,sort:t,enabled:s}),_=(0,qs.useTheme)(),y=(0,lt.useCallback)((async()=>{i(!0),await p(),i(!1)}),[i,p]),b=(0,lt.useCallback)((()=>{m||!x||h||f()}),[m,h,x,f]),j=(0,lt.useMemo)((()=>u?.pages.flatMap((e=>e.posts))||[]),[u]),v=(0,lt.useMemo)((()=>{let e=[];const t=new Set;for(const s of j)t.has(s.uri)||(e.push({type:"post",key:s.uri,post:s}),t.add(s.uri));return g&&e.push({type:"loadingMore",key:"loadingMore"}),e}),[j,g]),S=(0,Gs.useCloseAllActiveElements)(),{requestSwitchToAccount:w}=Ts(),T=()=>{S(),w({requestedAccount:"none"})},k=()=>{S(),w({requestedAccount:"new"})};return a?h?(0,bt.jsx)(kO,{messageText:o({id:"WBQOQ0"}),error:(0,Tn.cleanError)(h)}):(0,bt.jsx)(bt.Fragment,{children:d?(0,bt.jsx)(bt.Fragment,{children:j.length?(0,bt.jsx)(ei.List,{data:v,renderItem:({item:e})=>"post"===e.type?(0,bt.jsx)(Wb,{post:e.post}):null,keyExtractor:e=>e.key,refreshing:r,onRefresh:y,onEndReached:b,onItemSeen:e=>{"post"===e.type&&l(e.post)},desktopFixedHeight:!0,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:g,hasNextPage:x})}):(0,bt.jsx)(kO,{messageText:(0,bt.jsx)(CO,{query:e})})}):(0,bt.jsx)(TO,{})}):(0,bt.jsx)(cE,{title:o({id:"EtHPEZ"}),children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.text_center,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"c0B9fT",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:o({id:"5lWFkC"}),to:"#",onPress:T}),1:(0,bt.jsx)(co.Text,{style:_.atoms.text_contrast_medium}),2:(0,bt.jsx)(io.InlineLinkText,{label:o({id:"3T8ziB"}),to:"#",onPress:k}),3:(0,bt.jsx)(co.Text,{}),4:(0,bt.jsx)(co.Text,{style:_.atoms.text_contrast_medium})}})})})};IO=(0,lt.memo)(IO);let AO=e=>{const t=(0,n.c)(30),{query:s,active:o}=e,{_:a}=(0,dt.useLingui)(),{hasSession:r}=(0,Gt.useSession)(),[i,l]=(0,lt.useState)(!1);let c;t[0]!==o||t[1]!==s?(c={query:s,enabled:o},t[0]=o,t[1]=s,t[2]=c):c=t[2];const{isFetched:d,data:u,isFetching:m,error:h,refetch:p,fetchNextPage:f,isFetchingNextPage:g,hasNextPage:x}=(0,Fl.useActorSearch)(c);let _;t[3]!==p?(_=async()=>{l(!0),await p(),l(!1)},t[3]=p,t[4]=_):_=t[4];const y=_;let b;t[5]!==h||t[6]!==f||t[7]!==x||t[8]!==r||t[9]!==m?(b=()=>{r&&(m||!x||h||f())},t[5]=h,t[6]=f,t[7]=x,t[8]=r,t[9]=m,t[10]=b):b=t[10];const j=b;let v;t[11]!==u?.pages?(v=u?.pages.flatMap(RO)||[],t[11]=u?.pages,t[12]=v):v=t[12];const S=v;if(h){let e,s,o;return t[13]!==a?(e=a({id:"WBQOQ0"}),t[13]=a,t[14]=e):e=t[14],t[15]!==h?(s=h.toString(),t[15]=h,t[16]=s):s=t[16],t[17]!==e||t[18]!==s?(o=(0,bt.jsx)(kO,{messageText:e,error:s}),t[17]=e,t[18]=s,t[19]=o):o=t[19],o}let w;return t[20]!==x||t[21]!==r||t[22]!==d||t[23]!==g||t[24]!==i||t[25]!==j||t[26]!==y||t[27]!==S||t[28]!==s?(w=d&&S?(0,bt.jsx)(bt.Fragment,{children:S.length?(0,bt.jsx)(ei.List,{data:S,renderItem:BO,keyExtractor:DO,refreshing:i,onRefresh:y,onEndReached:j,desktopFixedHeight:!0,ListFooterComponent:(0,bt.jsx)(xS,{hasNextPage:x&&r,isFetchingNextPage:g})}):(0,bt.jsx)(kO,{messageText:(0,bt.jsx)(CO,{query:s})})}):(0,bt.jsx)(TO,{}),t[20]=x,t[21]=r,t[22]=d,t[23]=g,t[24]=i,t[25]=j,t[26]=y,t[27]=S,t[28]=s,t[29]=w):w=t[29],w};AO=(0,lt.memo)(AO);let PO=e=>{const t=(0,n.c)(8),{query:s,active:o}=e,a=(0,qs.useTheme)();let r;t[0]!==o||t[1]!==s?(r={query:s,enabled:o},t[0]=o,t[1]=s,t[2]=r):r=t[2];const{data:i,isFetched:l}=Ar(r);let c;return t[3]!==l||t[4]!==s||t[5]!==i||t[6]!==a?(c=l&&i?(0,bt.jsx)(bt.Fragment,{children:i.length?(0,bt.jsx)(ei.List,{data:i,renderItem:e=>{const{item:t}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,a.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.py_lg],children:(0,bt.jsx)(xl,{view:t})})},keyExtractor:OO,desktopFixedHeight:!0,ListFooterComponent:(0,bt.jsx)(xS,{})}):(0,bt.jsx)(kO,{messageText:(0,bt.jsx)(CO,{query:s})})}):(0,bt.jsx)(TO,{}),t[3]=l,t[4]=s,t[5]=i,t[6]=a,t[7]=c):c=t[7],c};function EO(e){return e.title}function LO(e,t){return(0,bt.jsx)(Fs.default,{children:e.component},t)}function RO(e){return e.actors}function BO(e){const{item:t}=e;return(0,bt.jsx)(ok,{profile:t})}function DO(e){return e.did}function OO(e){return e.uri}PO=(0,lt.memo)(PO);const MO=["q","tab"],FO=["q","tab"];function NO({queryParam:e,testID:t,fixedParams:s,navButton:o="menu",inputPlaceholder:n,isExplore:a}){const i=(0,qs.useTheme)(),{gtMobile:l}=(0,qs.useBreakpoints)(),c=(0,Ns.useNavigation)(),d=(0,Ns.useRoute)(),u=(0,lt.useRef)(null),{_:m}=(0,dt.useLingui)(),h=(0,hs.useSetMinimalShellMode)(),{currentAccount:p}=(0,Gt.useSession)(),f=(0,On.useQueryClient)(),[g,x]=(0,lt.useState)(e),{data:_,isFetching:y}=Zf(g,!0),[b,j]=(0,lt.useState)(!1),[v=[],S]=(0,Is.useStorage)(Is.account,[p?.did??"pwi","searchTermHistory"]),[w=[],T]=(0,Is.useStorage)(Is.account,[p?.did??"pwi","searchAccountHistory"]),{data:k}=(0,Ut.useProfilesQuery)({handles:w,maintainData:!0}),C=(0,lt.useCallback)((async e=>{if(!e)return;const t=[e,...v.filter((t=>t!==e))].slice(0,6);S(t)}),[v,S]),I=(0,lt.useCallback)((async e=>{const t=[e.did,...w.filter((t=>t!==e.did))].slice(0,10);T(t)}),[w,T]),A=(0,lt.useCallback)((async e=>{S(v.filter((t=>t!==e)))}),[v,S]),P=(0,lt.useCallback)((async e=>{T(w.filter((t=>t!==e.did)))}),[w,T]),{params:E,query:L,queryWithParams:R}=function({initialQuery:e,fixedParams:t}){const{query:s,params:o}=(0,lt.useMemo)((()=>function(e){let t=e;const s=e.match(/[^:\w\d]".+?"/gi)||[];for(const a of s)t=t.replace(a.trim(),"");const o=t.match(/[a-z]+:[a-z-\.@\d:"]+/gi)||[];for(const a of o)t=t.replace(a,"");t=t.trim();const n=o.reduce(((e,t)=>{const[s,...o]=t.split(/:/);return e[s]=o.join(":").replace(/"/g,""),e}),{});return{query:[t,s.map((e=>String(e).trim())).join(" ")].filter(Boolean).join(" "),params:n}}(e||"")),[e]),[n,a]=(0,lt.useState)(e),[r,i]=(0,lt.useState)(o.lang||"");e!==n&&(a(e),i(o.lang||""));const l=(0,lt.useMemo)((()=>Object.assign({},o,{lang:r},t)),[r,o,t]),c=(0,lt.useMemo)((()=>({setLang:i})),[i]);return(0,lt.useMemo)((()=>({query:s,queryWithParams:PD(s,l),params:Object.assign({},l,c)})),[s,l,c])}({initialQuery:e,fixedParams:s}),B=Boolean(R&&!b),[D,O]=(0,lt.useState)(0),M=(0,lt.useRef)(null);(0,lt.useLayoutEffect)((()=>{if(r.IS_WEB){if(!M.current)return;const e=M.current.getBoundingClientRect();O(e.height)}}),[]),(0,Ns.useFocusEffect)((0,Bn.useNonReactiveCallback)((()=>{r.IS_WEB&&x(e)})));const F=(0,lt.useCallback)((()=>{VO(),x(""),u.current?.focus()}),[]),N=(0,lt.useCallback)((async e=>{VO(),x(e)}),[]),H=(0,lt.useCallback)((e=>{VO(),j(!1),C(e),r.IS_WEB?c.push(d.name,Object.assign({},d.params,{q:e})):(u.current?.blur(),c.setParams({q:e}))}),[C,c,d]),V=(0,lt.useCallback)((()=>{if(VO(),u.current?.blur(),j(!1),r.IS_WEB){const e=d.params??{},t=(0,ta.default)(e,MO);c.replace(d.name,t)}else x(""),c.setParams({q:"",tab:void 0})}),[j,x,c,d.params,d.name]),z=(0,lt.useCallback)((()=>{H(g)}),[H,g]),U=(0,lt.useCallback)((()=>{r.IS_WEB?j(!1):u.current?.blur()}),[]),W=(0,lt.useCallback)((e=>{x(e),H(e)}),[H]),G=(0,lt.useCallback)((e=>{(0,Ut.unstableCacheProfileView)(f,e),setTimeout((()=>{I(e)}),400)}),[I,f]),q=(0,lt.useCallback)((()=>{if(r.IS_WEB){const e=d.params??{},t=(0,ta.default)(e,FO);c.replace(d.name,t)}else x(""),c.setParams({q:"",tab:void 0}),u.current?.focus()}),[c,d]);(0,Ns.useFocusEffect)((0,lt.useCallback)((()=>(h(!1),(0,_t.listenSoftReset)(q))),[q,h]));const Q=(0,lt.useCallback)((()=>{r.IS_WEB?requestAnimationFrame((()=>{j(!0)})):j(!0)}),[j]),K=(0,lt.useCallback)((e=>{u.current?.focus(),e&&(r.IS_WEB?c.setParams(Object.assign({},d.params,{tab:e})):c.setParams({tab:e}))}),[c,d]),Z=!l||"menu"!==o;return(0,bt.jsxs)(ya.Screen,{testID:t,children:[(0,bt.jsx)(Fs.default,{ref:M,onLayout:e=>{r.IS_WEB&&O(e.nativeEvent.layout.height)},style:[qs.atoms.relative,qs.atoms.z_10,(0,qs.web)({position:"sticky",top:0})],children:(0,bt.jsxs)(ya.Center,{style:i.atoms.bg,children:[Z&&(0,bt.jsx)(Fs.default,{style:{marginBottom:-1*qs.tokens.space.xs},children:(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,children:["menu"===o?(0,bt.jsx)(ya.Header.MenuButton,{}):(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:a?(0,bt.jsx)(dt.Trans,{id:"8tjQCz"}):(0,bt.jsx)(dt.Trans,{id:"A1taO8"})})}),B?(0,bt.jsx)(BD,{value:E.lang,onChange:E.setLang}):(0,bt.jsx)(ya.Header.Slot,{})]})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_sm,qs.atoms.pb_sm,qs.atoms.overflow_hidden],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_stretch,qs.atoms.gap_xs],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(Gj,{ref:u,value:g,onFocus:Q,onChangeText:N,onClearText:F,onSubmitEditing:z,placeholder:n??m({id:"9rRLtx"}),hitSlop:Object.assign({},Vt.HITSLOP_20,{top:0})})}),b&&(0,bt.jsx)(ao.Button,{label:m({id:"5TviPn"}),size:"large",variant:"ghost",color:"secondary",shape:"rectangular",style:[qs.atoms.px_sm],onPress:V,hitSlop:Vt.HITSLOP_10,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})})]}),B&&!Z&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.gap_sm],children:(0,bt.jsx)(BD,{value:E.lang,onChange:E.setLang})})]})})]})}),(0,bt.jsx)(Fs.default,{style:{display:b&&!s?"flex":"none",flex:1},children:g.length>0?(0,bt.jsx)(ED,{isAutocompleteFetching:y,autocompleteData:_,searchText:g,onSubmit:z,onResultPress:U,onProfileClick:G}):(0,bt.jsx)(LD,{searchHistory:v,selectedProfiles:k?.profiles||[],onItemClick:W,onProfileClick:G,onRemoveItemClick:A,onRemoveProfileClick:P})}),(0,bt.jsx)(Fs.default,{style:{display:b?"none":"flex",flex:1},children:(0,bt.jsx)(HO,{query:L,queryWithParams:R,headerHeight:D,focusSearchInput:K})})]})}let HO=e=>{const t=(0,n.c)(21),{query:s,queryWithParams:o,headerHeight:a,focusSearchInput:r}=e,i=(0,qs.useTheme)(),l=(0,hs.useSetMinimalShellMode)(),{hasSession:c}=(0,Gt.useSession)(),{gtTablet:d}=(0,qs.useBreakpoints)(),u=(0,Ns.useRoute)(),m=u.params?.tab;let h;t[0]!==m?(h=()=>{if(!m)return 0;switch(m){case"user":case"profile":return 2;case"feed":return 3;default:return 0}},t[0]=m,t[1]=h):h=t[1];const p=h,[f,g]=(0,lt.useState)(p());let x,_,y;t[2]!==f||t[3]!==p?(x=()=>{const e=p();e!==f&&g(e)},t[2]=f,t[3]=p,t[4]=x):x=t[4],t[5]!==f||t[6]!==p||t[7]!==m?(_=[m,f,p],t[5]=f,t[6]=p,t[7]=m,t[8]=_):_=t[8],(0,lt.useLayoutEffect)(x,_),t[9]!==l?(y=e=>{l(!1),g(e)},t[9]=l,t[10]=y):y=t[10];const b=y;let j;return t[11]!==f||t[12]!==r||t[13]!==d||t[14]!==c||t[15]!==a||t[16]!==b||t[17]!==s||t[18]!==o||t[19]!==i?(j=o?(0,bt.jsx)(wO,{query:s,queryWithParams:o,activeTab:f,headerHeight:a,onPageSelected:b,initialPage:f}):c?(0,bt.jsx)(jO,{focusSearchInput:r,headerHeight:a}):(0,bt.jsx)(ya.Center,{children:(0,bt.jsxs)(Fs.default,{style:qs.atoms.flex_1,children:[d&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_b,i.atoms.border_contrast_low,qs.atoms.px_lg,qs.atoms.pt_sm,qs.atoms.pb_lg],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"A1taO8"})})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.py_4xl,qs.atoms.gap_lg],children:[(0,bt.jsx)(wu,{strokeWidth:3,size:60,style:i.atoms.text_contrast_medium}),(0,bt.jsx)(co.Text,{style:[i.atoms.text_contrast_medium,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"aUjjfa"})})]})]})}),t[11]=f,t[12]=r,t[13]=d,t[14]=c,t[15]=a,t[16]=b,t[17]=s,t[18]=o,t[19]=i,t[20]=j):j=t[20],j};function VO(){r.IS_WEB&&window.scrollTo(0,0)}HO=(0,lt.memo)(HO);const zO=e=>{const t=(0,n.c)(12),{route:s}=e,{name:o,q:a}=s.params,r=void 0===a?"":a,{_:i}=(0,dt.useLingui)(),{currentAccount:l}=(0,Gt.useSession)(),{data:c}=(0,_r.useResolveDidQuery)(o);let d;t[0]!==c?(d={did:c},t[0]=c,t[1]=d):d=t[1];const{data:u}=(0,Ut.useProfileQuery)(d);u?.handle;const m=u?.handle??o;let h;t[2]!==m?(h={from:m},t[2]=m,t[3]=h):h=t[3];const p=h;let f,g;return t[4]!==i||t[5]!==l?.did||t[6]!==u?(f=u?l?.did===u.did?i({id:"BmW9JG"}):i({id:"h7t/Tx",values:{0:u.handle}}):i({id:"YIix5Y"}),t[4]=i,t[5]=l?.did,t[6]=u,t[7]=f):f=t[7],t[8]!==p||t[9]!==r||t[10]!==f?(g=(0,bt.jsx)(NO,{navButton:"back",inputPlaceholder:f,fixedParams:p,queryParam:r,testID:"searchPostsScreen"}),t[8]=p,t[9]=r,t[10]=f,t[11]=g):g=t[11],g};function UO({list:e,preferences:t}){const{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),{currentAccount:n}=(0,Gt.useSession)(),{gtMobile:a}=(0,qs.useBreakpoints)(),r=n?.did===e.creator.did,i=fS(),l=(0,On.useQueryClient)(),c=e.purpose===Dn.AppBskyGraphDefs.MODLIST,[d,u]=lt.useState(!1),m=fr(),h=pr(),{mutateAsync:p}=(0,xr.useRemoveFeedMutation)(),{setIsContentVisible:f}=Vc(),g=t.savedFeeds.find((t=>t.value===e.uri)),x=async()=>{if(g)try{await p(g),Ds.show(s({id:"uymP/+"}))}catch(e){Mt.logger.error("Failed to remove list from saved feeds",{message:e}),Ds.show(s({id:"zghcp1"}))}finally{u(!1)}};return(0,bt.jsxs)(Sa,{style:[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.gap_5xl,!a&&qs.atoms.justify_between,o.atoms.border_contrast_low,{paddingTop:175,paddingBottom:110}],sideBorders:!0,children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.gap_lg],children:[(0,bt.jsx)(Oc.EyeSlash_Stroke2_Corner0_Rounded,{style:{color:o.atoms.text_contrast_medium.color},height:42,width:42}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.align_center],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_3xl],children:e.creator.viewer?.blocking||e.creator.viewer?.blockedBy?(0,bt.jsx)(dt.Trans,{id:"1CeoQP"}):(0,bt.jsx)(dt.Trans,{id:"CBZUm8"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.text_center,qs.atoms.px_md,o.atoms.text_contrast_high,{lineHeight:1.4}],children:e.creator.viewer?.blocking||e.creator.viewer?.blockedBy?(0,bt.jsx)(dt.Trans,{id:"FIU6Pm"}):r?(0,bt.jsx)(dt.Trans,{id:"BKWeBU"}):(0,bt.jsx)(dt.Trans,{id:"tBlmFu",values:{0:(0,Fa.sanitizeHandle)(e.creator.handle,"@")},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold]})}})})]})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,a?{width:350}:[qs.atoms.w_full,qs.atoms.px_lg]],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[g?(0,bt.jsxs)(ao.Button,{variant:"solid",color:"secondary",size:"large",label:s({id:"KhoznC"}),onPress:x,disabled:d,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"KhoznC"})}),d?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader,position:"right"}):null]}):null,r?(0,bt.jsx)(ao.Button,{variant:"solid",color:"secondary",size:"large",label:s({id:"3UFzY7"}),onPress:()=>f(!0),disabled:d,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"aWAdCb"})})}):e.viewer?.muted||e.viewer?.blocked?(0,bt.jsxs)(ao.Button,{variant:"solid",color:"secondary",size:"large",label:s({id:"hBI+vy"}),onPress:()=>{c?(async()=>{if(u(!0),e.viewer?.muted)try{await h.mutateAsync({uri:e.uri,mute:!1})}catch(t){return u(!1),Mt.logger.error("Failed to unmute list",{message:t}),void Ds.show(s({id:"zghcp1"}))}if(e.viewer?.blocked)try{await m.mutateAsync({uri:e.uri,block:!1})}catch(o){return u(!1),Mt.logger.error("Failed to unblock list",{message:o}),void Ds.show(s({id:"zghcp1"}))}l.invalidateQueries({queryKey:[lr]}),Ds.show(s({id:"OHHMDK"})),u(!1)})():x()},disabled:d,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hBI+vy"})}),d?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader,position:"right"}):null]}):null]}),(0,bt.jsx)(ao.Button,{variant:"solid",color:"primary",label:s({id:"/lgEIe"}),onPress:i,size:"large",disabled:d,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"sr0UJD"})})})]})]})}function WO(e){const t=(0,n.c)(7),{control:s,list:o,onChange:a}=e;let r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Qs.Handle,{}),t[0]=r):r=t[0],t[1]!==o||t[2]!==a?(i=(0,bt.jsx)(GO,{list:o,onChange:a}),t[1]=o,t[2]=a,t[3]=i):i=t[3],t[4]!==s||t[5]!==i?(l=(0,bt.jsxs)(Qs.Outer,{control:s,testID:"listAddRemoveUsersDialog",children:[r,i]}),t[4]=s,t[5]=i,t[6]=l):l=t[6],l}function GO(e){const t=(0,n.c)(10),{list:s,onChange:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,ds.useModerationOpts)(),{data:i}=s_();let l;t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==o?(l=e=>(0,bt.jsx)(qO,{profile:e.profile,onChange:o,memberships:i,list:s,moderationOpts:r}),t[0]=s,t[1]=i,t[2]=r,t[3]=o,t[4]=l):l=t[4];const c=l;let d,u;return t[5]!==a?(d=a({id:"DKUfUF"}),t[5]=a,t[6]=d):d=t[6],t[7]!==c||t[8]!==d?(u=(0,bt.jsx)(eg,{title:d,renderProfileCard:c}),t[7]=c,t[8]=d,t[9]=u):u=t[9],u}function qO(e){const t=(0,n.c)(40),{profile:s,list:o,memberships:a,onChange:r,moderationOpts:i}=e,{_:l}=(0,dt.useLingui)();let c;t[0]!==o.uri||t[1]!==a||t[2]!==s.did?(c=n_(a,o.uri,s.did),t[0]=o.uri,t[1]=a,t[2]=s.did,t[3]=c):c=t[3];const d=c;let u;t[4]!==l||t[5]!==r||t[6]!==s?(u={onSuccess:()=>{Ds.show(l({id:"GluCXm"})),r?.("add",s)},onError:KO},t[4]=l,t[5]=r,t[6]=s,t[7]=u):u=t[7];const{mutate:m,isPending:h}=a_(u);let p;t[8]!==l||t[9]!==r||t[10]!==s?(p={onSuccess:()=>{Ds.show(l({id:"Obm5+c"})),r?.("remove",s)},onError:QO},t[8]=l,t[9]=r,t[10]=s,t[11]=p):p=t[11];const{mutate:f,isPending:g}=r_(p),x=h||g;let _;t[12]!==o.uri||t[13]!==m||t[14]!==f||t[15]!==d||t[16]!==s.did?(_=()=>{"undefined"!==typeof d&&(!1===d?m({listUri:o.uri,actorDid:s.did}):f({listUri:o.uri,actorDid:s.did,membershipUri:d}))},t[12]=o.uri,t[13]=m,t[14]=f,t[15]=d,t[16]=s.did,t[17]=_):_=t[17];const y=_;if(!i)return null;let b,j,v,S,w,T,k,C;return t[18]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_1,qs.atoms.py_sm,qs.atoms.px_lg],t[18]=b):b=t[18],t[19]!==i||t[20]!==s?(j=(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:i}),t[19]=i,t[20]=s,t[21]=j):j=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_1],t[22]=v):v=t[22],t[23]!==i||t[24]!==s?(S=(0,bt.jsx)(Rl.Name,{profile:s,moderationOpts:i}),t[23]=i,t[24]=s,t[25]=S):S=t[25],t[26]!==s?(w=(0,bt.jsx)(Rl.Handle,{profile:s}),t[26]=s,t[27]=w):w=t[27],t[28]!==S||t[29]!==w?(T=(0,bt.jsxs)(Fs.default,{style:v,children:[S,w]}),t[28]=S,t[29]=w,t[30]=T):T=t[30],t[31]!==l||t[32]!==x||t[33]!==d||t[34]!==y?(k=void 0!==d&&(0,bt.jsx)(ao.Button,{label:l(!1===d?{id:"j57DK5"}:{id:"3snmy8"}),onPress:y,disabled:x,size:"small",variant:"solid",color:"secondary",children:x?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}):(0,bt.jsx)(ao.ButtonText,{children:!1===d?(0,bt.jsx)(dt.Trans,{id:"m16xKo"}):(0,bt.jsx)(dt.Trans,{id:"t/YqKh"})})}),t[31]=l,t[32]=x,t[33]=d,t[34]=y,t[35]=k):k=t[35],t[36]!==T||t[37]!==k||t[38]!==j?(C=(0,bt.jsx)(Fs.default,{style:b,children:(0,bt.jsxs)(Rl.Header,{children:[j,T,k]})}),t[36]=T,t[37]=k,t[38]=j,t[39]=C):C=t[39],C}function QO(e){return Ds.show((0,Tn.cleanError)(e),"xmark")}function KO(e){return Ds.show((0,Tn.cleanError)(e),"xmark")}const ZO={_reactKey:"__loading__"},YO={_reactKey:"__empty__"},$O={_reactKey:"__error__"},XO={_reactKey:"__load_more_error__"};function JO(e){const t=(0,n.c)(55),{list:s,style:o,scrollElRef:a,onScrolledDownChange:r,onPressTryAgain:i,renderHeader:l,renderEmptyState:c,testID:d,headerOffset:u,desktopFixedHeightOffset:m}=e,h=void 0===u?0:u,p=(0,qs.useTheme)(),{_:f}=(0,dt.useLingui)(),[g,x]=lt.useState(!1),{openModal:_}=(0,is.useModalControls)(),{currentAccount:y}=(0,Gt.useSession)(),b=(0,ds.useModerationOpts)(),{data:j,isFetching:v,isFetched:S,isError:w,error:T,refetch:k,fetchNextPage:C,hasNextPage:I,isFetchingNextPage:A}=(0,Xx.useListMembersQuery)(s),P=!v&&!j?.pages[0].items.length,E=y&&j?.pages[0].list.creator.did===y.did;let L;if(t[0]!==j||t[1]!==P||t[2]!==w||t[3]!==S||t[4]!==v){if(L=[],S){if(P&&w&&(L=L.concat([$O])),P)L=L.concat([YO]);else if(j)for(const e of j.pages)L=L.concat(e.items);!P&&w&&(L=L.concat([XO]))}else if(v){let e;if(t[6]!==L){let s;t[8]===Symbol.for("react.memo_cache_sentinel")?(s=[ZO],t[8]=s):s=t[8],e=L.concat(s),t[6]=L,t[7]=e}else e=t[7];L=e}t[0]=j,t[1]=P,t[2]=w,t[3]=S,t[4]=v,t[5]=L}else L=t[5];const R=L;let B;t[9]!==k?(B=async()=>{x(!0);try{await k()}catch(O){const t=O;Mt.logger.error("Failed to refresh lists",{message:t})}x(!1)},t[9]=k,t[10]=B):B=t[10];const D=B;let O;t[11]!==C||t[12]!==I||t[13]!==w||t[14]!==v?(O=async()=>{if(!v&&I&&!w)try{await C()}catch(F){const t=F;Mt.logger.error("Failed to load more lists",{message:t})}},t[11]=C,t[12]=I,t[13]=w,t[14]=v,t[15]=O):O=t[15];const M=O;let F;t[16]!==C?(F=()=>{C()},t[16]=C,t[17]=F):F=t[17];const N=F;let H;t[18]!==_?(H=(e,t)=>{e.preventDefault(),_({name:"user-add-remove-lists",subject:t.did,displayName:t.displayName||t.handle,handle:t.handle})},t[18]=_,t[19]=H):H=t[19];const V=H;let z;t[20]!==f||t[21]!==T||t[22]!==E||t[23]!==b||t[24]!==V||t[25]!==N||t[26]!==i||t[27]!==c||t[28]!==p?(z=e=>{const{item:t}=e;if(t===YO)return c();if(t===$O)return(0,bt.jsx)(Dy.ErrorMessage,{message:(0,Tn.cleanError)(T),onPressTryAgain:i});if(t===XO)return(0,bt.jsx)(ki,{label:f({id:"32IlWM"}),onPress:N});if(t===ZO)return(0,bt.jsx)(_i,{});const s=t.subject;return b?(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,p.atoms.border_contrast_low],children:(0,bt.jsx)(Rl.Link,{profile:s,children:(0,bt.jsxs)(Rl.Outer,{children:[(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:b}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:b}),E&&(0,bt.jsx)(ao.Button,{testID:`user-${s.handle}-editBtn`,label:f({id:"Yqmf1T"}),onPress:e=>V(e,s),size:"small",variant:"solid",color:"secondary",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Yqmf1T"})})})]}),(0,bt.jsx)(Rl.Labels,{profile:s,moderationOpts:b}),(0,bt.jsx)(Rl.Description,{profile:s})]})})}):null},t[20]=f,t[21]=T,t[22]=E,t[23]=b,t[24]=V,t[25]=N,t[26]=i,t[27]=c,t[28]=p,t[29]=z):z=t[29];const U=z;let W;t[30]!==T||t[31]!==C||t[32]!==I||t[33]!==h||t[34]!==P||t[35]!==A?(W=()=>P?null:(0,bt.jsx)(xS,{hasNextPage:I,error:(0,Tn.cleanError)(T),isFetchingNextPage:A,onRetry:C,height:180+h}),t[30]=T,t[31]=C,t[32]=I,t[33]=h,t[34]=P,t[35]=A,t[36]=W):W=t[36];const G=W,q=d?`${d}-flatlist`:void 0,Q=P?void 0:l;let K;t[37]===Symbol.for("react.memo_cache_sentinel")?(K={minHeight:1.5*Gr.default.get("window").height},t[37]=K):K=t[37];const Z=m||!0;let Y,$;return t[38]!==h||t[39]!==g||t[40]!==R||t[41]!==M||t[42]!==D||t[43]!==r||t[44]!==G||t[45]!==U||t[46]!==a||t[47]!==Z||t[48]!==q||t[49]!==Q?(Y=(0,bt.jsx)(ei.List,{testID:q,ref:a,data:R,keyExtractor:eM,renderItem:U,ListHeaderComponent:Q,ListFooterComponent:G,refreshing:g,onRefresh:D,headerOffset:h,contentContainerStyle:K,onScrolledDownChange:r,onEndReached:M,onEndReachedThreshold:.6,removeClippedSubviews:!0,desktopFixedHeight:Z}),t[38]=h,t[39]=g,t[40]=R,t[41]=M,t[42]=D,t[43]=r,t[44]=G,t[45]=U,t[46]=a,t[47]=Z,t[48]=q,t[49]=Q,t[50]=Y):Y=t[50],t[51]!==o||t[52]!==Y||t[53]!==d?($=(0,bt.jsx)(Fs.default,{testID:d,style:o,children:Y}),t[51]=o,t[52]=Y,t[53]=d,t[54]=$):$=t[54],$}function eM(e){return e.subject?.did||e._reactKey}function tM(e){const t=(0,n.c)(27),{ref:s,list:o,onPressAddUser:a,headerHeight:i,scrollElRef:l}=e,{_:c}=(0,dt.useLingui)(),{currentAccount:d}=(0,Gt.useSession)(),{gtMobile:u}=(0,qs.useBreakpoints)(),[m,h]=(0,lt.useState)(!1),p=o.creator.did===d?.did;let f;t[0]!==i||t[1]!==l?(f=()=>{l.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-i})},t[0]=i,t[1]=l,t[2]=f):f=t[2];const g=f;let x,_;t[3]!==g?(x=()=>({scrollToTop:g}),t[3]=g,t[4]=x):x=t[4],(0,lt.useImperativeHandle)(s,x),t[5]!==c||t[6]!==u||t[7]!==p||t[8]!==a?(_=()=>p?u?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.flex_row_reverse],children:(0,bt.jsxs)(ao.Button,{testID:"addUserBtn",label:c({id:"JU3hs2"}),onPress:a,color:"primary",size:"small",variant:"ghost",style:[qs.atoms.py_sm],children:[(0,bt.jsx)(ao.ButtonIcon,{icon:pc.PersonPlus_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"+1O5zr"})})]})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_sm,qs.atoms.py_sm],children:(0,bt.jsxs)(ao.Button,{testID:"addUserBtn",label:c({id:"JU3hs2"}),onPress:a,color:"primary",size:"small",variant:"outline",style:[qs.atoms.py_md],children:[(0,bt.jsx)(ao.ButtonIcon,{icon:pc.PersonPlus_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"+1O5zr"})})]})}):(0,bt.jsx)(Fs.default,{}),t[5]=c,t[6]=u,t[7]=p,t[8]=a,t[9]=_):_=t[9];const y=_;let b;t[10]!==c||t[11]!==p||t[12]!==a?(b=()=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xl,qs.atoms.align_center],children:[(0,bt.jsx)(pS.EmptyState,{icon:Xv,message:c({id:"50YuyB"})}),p&&(0,bt.jsxs)(ao.Button,{testID:"emptyStateAddUserBtn",label:c({id:"A3BCK8"}),onPress:a,color:"primary",size:"small",children:[(0,bt.jsx)(ao.ButtonIcon,{icon:pc.PersonPlus_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"vjUnLD"})})]})]}),t[10]=c,t[11]=p,t[12]=a,t[13]=b):b=t[13];const j=b;let v,S,w;return t[14]!==i||t[15]!==o.uri||t[16]!==j||t[17]!==y||t[18]!==l?(v=(0,bt.jsx)(JO,{testID:"listItems",list:o.uri,scrollElRef:l,renderHeader:y,renderEmptyState:j,headerOffset:i,onScrolledDownChange:h}),t[14]=i,t[15]=o.uri,t[16]=j,t[17]=y,t[18]=l,t[19]=v):v=t[19],t[20]!==c||t[21]!==m||t[22]!==g?(S=m&&(0,bt.jsx)(cv,{onPress:g,label:c({id:"bUUv3P"}),showIndicator:!1}),t[20]=c,t[21]=m,t[22]=g,t[23]=S):S=t[23],t[24]!==v||t[25]!==S?(w=(0,bt.jsxs)(Fs.default,{children:[v,S]}),t[24]=v,t[25]=S,t[26]=w):w=t[26],w}function sM(e){const t=(0,n.c)(22),{error:s}=e,o=(0,qs.useTheme)(),a=(0,Ns.useNavigation)(),{_:r}=(0,dt.useLingui)();let i;t[0]!==a?(i=()=>{a.canGoBack()?a.goBack():a.navigate("Home")},t[0]=a,t[1]=i):i=t[1];const l=i;let c,d,u,m,h,p,f,g,x,_;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.px_xl,qs.atoms.py_md,qs.atoms.gap_md],t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_4xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"8NNr/O"})}),t[3]=d):d=t[3],t[4]!==o.atoms.text_contrast_high?(u=[qs.atoms.text_md,o.atoms.text_contrast_high,qs.atoms.leading_snug],t[4]=o.atoms.text_contrast_high,t[5]=u):u=t[5],t[6]!==s||t[7]!==u?(m=(0,bt.jsx)(co.Text,{style:u,children:s}),t[6]=s,t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_row,qs.atoms.mt_lg],t[9]=h):h=t[9],t[10]!==r?(p=r({id:"CKyk7Q"}),t[10]=r,t[11]=p):p=t[11],t[12]!==r?(f=r({id:"wpAjsg"}),t[12]=r,t[13]=f):f=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"CKyk7Q"})}),t[14]=g):g=t[14],t[15]!==l||t[16]!==p||t[17]!==f?(x=(0,bt.jsx)(Fs.default,{style:h,children:(0,bt.jsx)(ao.Button,{label:p,accessibilityHint:f,onPress:l,size:"small",color:"secondary",children:g})}),t[15]=l,t[16]=p,t[17]=f,t[18]=x):x=t[18],t[19]!==x||t[20]!==m?(_=(0,bt.jsxs)(Fs.default,{style:c,children:[d,m,x]}),t[19]=x,t[20]=m,t[21]=_):_=t[21],_}const oM={code:"function ProfileSubpageHeaderTsx1(){const{measure,aviRef,runOnJS,_openLightbox,avatar}=this.__closure;const rect=measure(aviRef);runOnJS(_openLightbox)(avatar,rect);}"};function nM(e){const t=(0,n.c)(51),{isLoading:s,href:o,title:a,avatar:r,isOwner:i,purpose:l,creator:c,avatarType:d,children:u}=e,m=(0,Ns.useNavigation)(),{_:h}=(0,dt.useLingui)(),{isMobile:p}=(0,jn.useWebMediaQueries)(),{openLightbox:f}=(0,Xt.useLightboxControls)(),g=(0,bn.usePalette)("default");let x;t[0]!==m?(x=m.canGoBack(),t[0]=m,t[1]=x):x=t[1];const _=x,y=(0,yn.useAnimatedRef)();let b;t[2]!==f?(b=(e,t)=>{f({images:[{uri:e,thumbUri:e,thumbRect:t,dimensions:{height:1e3,width:1e3},thumbDimensions:null,type:"rect-avi"}],index:0})},t[2]=f,t[3]=b):b=t[3];const j=b;let v;t[4]!==j||t[5]!==r||t[6]!==y?(v=()=>{r&&(0,yn.runOnUI)(function(){const e=function(){const e=(0,yn.measure)(y);(0,yn.runOnJS)(j)(r,e)};return e.__closure={measure:yn.measure,aviRef:y,runOnJS:yn.runOnJS,_openLightbox:j,avatar:r},e.__workletHash=0xd62153890a6,e.__initData=oM,e}())()},t[4]=j,t[5]=r,t[6]=y,t[7]=v):v=t[7];const S=v;let w,T,k;t[8]!==_?(w=_?(0,bt.jsx)(ya.Header.BackButton,{}):(0,bt.jsx)(ya.Header.MenuButton,{}),t[8]=_,t[9]=w):w=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(ya.Header.Content,{}),t[10]=T):T=t[10],t[11]!==u||t[12]!==w?(k=(0,bt.jsxs)(ya.Header.Outer,{children:[w,T,u]}),t[11]=u,t[12]=w,t[13]=k):k=t[13];const C=p?12:14;let I,A,P,E,L,R,B,D,O,M,F,N;return t[14]!==C?(I={flexDirection:"row",alignItems:"flex-start",gap:10,paddingTop:14,paddingBottom:14,paddingHorizontal:C},t[14]=C,t[15]=I):I=t[15],t[16]!==h?(A=h({id:"47jzzd"}),t[16]=h,t[17]=A):A=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(P={width:58},t[18]=P):P=t[18],t[19]!==r||t[20]!==d?(E="starter-pack"===d?(0,bt.jsx)(fd.StarterPack,{width:58,gradient:"sky"}):(0,bt.jsx)(Gi.UserAvatar,{type:d,size:58,avatar:r}),t[19]=r,t[20]=d,t[21]=E):E=t[21],t[22]!==S||t[23]!==E||t[24]!==A?(L=(0,bt.jsx)(ln.default,{testID:"headerAviButton",onPress:S,accessibilityRole:"image",accessibilityLabel:A,accessibilityHint:"",style:P,children:E}),t[22]=S,t[23]=E,t[24]=A,t[25]=L):L=t[25],t[26]!==y||t[27]!==L?(R=(0,bt.jsx)(yn.default.View,{ref:y,collapsable:!1,children:L}),t[26]=y,t[27]=L,t[28]=R):R=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(B={flex:1,gap:4},t[29]=B):B=t[29],t[30]!==o||t[31]!==s||t[32]!==g||t[33]!==a?(D=s?(0,bt.jsx)(mi,{width:200,height:32,style:{marginVertical:6}}):(0,bt.jsx)(ga,{testID:"headerTitle",type:"title-xl",href:o,style:[g.text,{fontWeight:"600"}],text:a||"",onPress:_t.emitSoftReset,numberOfLines:4}),t[30]=o,t[31]=s,t[32]=g,t[33]=a,t[34]=D):D=t[34],t[35]!==c||t[36]!==s||t[37]!==i||t[38]!==g||t[39]!==l?(O=s||!c?(0,bt.jsx)(mi,{width:50,height:8}):(0,bt.jsx)(ua.Text,{type:"lg",style:[g.textLight],numberOfLines:1,children:"app.bsky.graph.defs#curatelist"===l?i?(0,bt.jsx)(dt.Trans,{id:"pHvply"}):(0,bt.jsx)(dt.Trans,{id:"iqM1lC",components:{0:(0,bt.jsx)(ga,{text:(0,Fa.sanitizeHandle)(c.handle||"","@"),href:(0,Oa.makeProfileLink)(c),style:g.textLight})}}):"app.bsky.graph.defs#modlist"===l?i?(0,bt.jsx)(dt.Trans,{id:"q1sOfA"}):(0,bt.jsx)(dt.Trans,{id:"91w5Hh",components:{0:(0,bt.jsx)(ga,{text:(0,Fa.sanitizeHandle)(c.handle||"","@"),href:(0,Oa.makeProfileLink)(c),style:g.textLight})}}):"app.bsky.graph.defs#referencelist"===l?i?(0,bt.jsx)(dt.Trans,{id:"kjPWUY"}):(0,bt.jsx)(dt.Trans,{id:"ewY+uL",components:{0:(0,bt.jsx)(ga,{text:(0,Fa.sanitizeHandle)(c.handle||"","@"),href:(0,Oa.makeProfileLink)(c),style:g.textLight})}}):null}),t[35]=c,t[36]=s,t[37]=i,t[38]=g,t[39]=l,t[40]=O):O=t[40],t[41]!==D||t[42]!==O?(M=(0,bt.jsxs)(Fs.default,{style:B,children:[D,O]}),t[41]=D,t[42]=O,t[43]=M):M=t[43],t[44]!==R||t[45]!==M||t[46]!==I?(F=(0,bt.jsxs)(Fs.default,{style:I,children:[R,M]}),t[44]=R,t[45]=M,t[46]=I,t[47]=F):F=t[47],t[48]!==F||t[49]!==k?(N=(0,bt.jsxs)(bt.Fragment,{children:[k,F]}),t[48]=F,t[49]=k,t[50]=N):N=t[50],N}function aM(e){const t=(0,n.c)(98),{list:s,savedFeedConfig:o}=e,{_:a}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)(),{currentAccount:l}=(0,Gt.useSession)(),c=(0,Qs.useDialogControl)(),d=(0,Qs.useDialogControl)(),u=(0,If.useReportDialogControl)(),m=(0,Ns.useNavigation)(),{mutateAsync:h}=(0,xr.useRemoveFeedMutation)(),{mutateAsync:p}=function(){const e=(0,n.c)(7),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)(),o=(0,On.useQueryClient)();let a,r;return e[0]!==s||e[1]!==t?(a=async e=>{const{uri:o}=e;if(!t)return;let n,a=[];for(let l=0;l<100;l++){const e=await s.app.bsky.graph.listitem.list({repo:t.did,cursor:n,limit:100});if(a=a.concat(e.records.filter((e=>e.value.list===o)).map(hr)),n=e.cursor,!n)break}const r=mr,i=a.map((e=>r(e))).concat([r(o)]);for(const l of Qa()(i,10))await s.com.atproto.repo.applyWrites({repo:t.did,writes:l});await gr(s,o,ur)},e[0]=s,e[1]=t,e[2]=a):a=e[2],e[3]!==t||e[4]!==o||e[5]!==a?(r={mutationFn:a,onSuccess(){or(o),o.invalidateQueries({queryKey:rr(t.did)})}},e[3]=t,e[4]=o,e[5]=a,e[6]=r):r=e[6],(0,go.useMutation)(r)}(),{mutateAsync:f}=pr(),{mutateAsync:g}=fr(),x=s.purpose===Dn.AppBskyGraphDefs.CURATELIST,_=s.purpose===Dn.AppBskyGraphDefs.MODLIST,y=!!s.viewer?.blocked,b=!!s.viewer?.muted,j=Boolean(o?.pinned),v=l?.did===s.creator.did;let S;t[0]!==s.creator.did||t[1]!==s.uri?(S=()=>{const{rkey:e}=new Dn.AtUri(s.uri),t=(0,zt.toShareUrl)(`/profile/${s.creator.did}/lists/${e}`);(0,lm.shareUrl)(t)},t[0]=s.creator.did,t[1]=s.uri,t[2]=S):S=t[2];const w=S;let T;t[3]!==a||t[4]!==h||t[5]!==o?(T=async()=>{if(o)try{await h(o),Pd.show(a({id:"lLrUFY"}))}catch(C){const t=C;Pd.show(a({id:"6bZi7H"}),{type:"error"}),Mt.logger.error("Failed to remove pinned list",{message:t})}},t[3]=a,t[4]=h,t[5]=o,t[6]=T):T=t[6];const k=T;let C;t[7]!==a||t[8]!==p||t[9]!==s.uri||t[10]!==m||t[11]!==h||t[12]!==o?(C=async()=>{await p({uri:s.uri}),o&&await h(o),Pd.show(a({id:"MdgA95"})),m.canGoBack()?m.goBack():m.navigate("Home")},t[7]=a,t[8]=p,t[9]=s.uri,t[10]=m,t[11]=h,t[12]=o,t[13]=C):C=t[13];const I=C;let A;t[14]!==a||t[15]!==h||t[16]!==o?(A=async()=>{try{if(!o)return;await h(o),Pd.show(a({id:"cdgCx2"}))}catch{Pd.show(a({id:"dUg1el"}),{type:"error"})}},t[14]=a,t[15]=h,t[16]=o,t[17]=A):A=t[17];const P=A;let E;t[18]!==a||t[19]!==i||t[20]!==s.uri||t[21]!==f?(E=async()=>{try{await f({uri:s.uri,mute:!1}),Pd.show(a({id:"OfphAR"})),i.metric("moderation:unsubscribedFromList",{listType:"mute"})}catch{Pd.show(a({id:"zghcp1"}))}},t[18]=a,t[19]=i,t[20]=s.uri,t[21]=f,t[22]=E):E=t[22];const L=E;let R;t[23]!==a||t[24]!==i||t[25]!==g||t[26]!==s.uri?(R=async()=>{try{await g({uri:s.uri,block:!1}),Pd.show(a({id:"u+/2ah"})),i.metric("moderation:unsubscribedFromList",{listType:"block"})}catch{Pd.show(a({id:"zghcp1"}))}},t[23]=a,t[24]=i,t[25]=g,t[26]=s.uri,t[27]=R):R=t[27];const B=R;let D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se;return t[28]!==a?(D=a({id:"3Siwmw"}),t[28]=a,t[29]=D):D=t[29],t[30]!==D?(O=(0,bt.jsx)(Kp.Trigger,{label:D,children:rM}),t[30]=D,t[31]=O):O=t[31],t[32]!==a?(M=r.IS_WEB?a({id:"7LTXf4"}):a({id:"tz4YI4"}),t[32]=a,t[33]=M):M=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(Kp.ItemText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"7LTXf4"}):(0,bt.jsx)(dt.Trans,{id:"tz4YI4"})}),t[34]=F):F=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:r.IS_WEB?ig:y_}),t[35]=N):N=t[35],t[36]!==w||t[37]!==M?(H=(0,bt.jsxs)(Kp.Item,{label:M,onPress:w,children:[F,N]}),t[36]=w,t[37]=M,t[38]=H):H=t[38],t[39]!==a||t[40]!==k||t[41]!==o?(V=o&&(0,bt.jsxs)(Kp.Item,{label:a({id:"Yy3FzB"}),onPress:k,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Yy3FzB"})}),(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:ml.Trash_Stroke2_Corner0_Rounded})]}),t[39]=a,t[40]=k,t[41]=o,t[42]=V):V=t[42],t[43]!==H||t[44]!==V?(z=(0,bt.jsxs)(Kp.Group,{children:[H,V]}),t[43]=H,t[44]=V,t[45]=z):z=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsx)(Kp.Divider,{}),t[46]=U):U=t[46],t[47]!==a||t[48]!==d||t[49]!==c||t[50]!==v||t[51]!==u?(W=v?(0,bt.jsxs)(Kp.Group,{children:[(0,bt.jsxs)(Kp.Item,{label:a({id:"S7M0uU"}),onPress:c.open,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"S7M0uU"})}),(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:Fk})]}),(0,bt.jsxs)(Kp.Item,{label:a({id:"lYT7pQ"}),onPress:d.open,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"lYT7pQ"})}),(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:ml.Trash_Stroke2_Corner0_Rounded})]})]}):(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{label:a({id:"svXvA9"}),onPress:u.open,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"svXvA9"})}),(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:Cf.Warning_Stroke2_Corner0_Rounded})]})}),t[47]=a,t[48]=d,t[49]=c,t[50]=v,t[51]=u,t[52]=W):W=t[52],t[53]!==a||t[54]!==_||t[55]!==j||t[56]!==P?(G=_&&j&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{label:a({id:"EvGmWj"}),onPress:P,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"EvGmWj"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Qi})]})})]}),t[53]=a,t[54]=_,t[55]=j,t[56]=P,t[57]=G):G=t[57],t[58]!==a||t[59]!==y||t[60]!==x||t[61]!==b||t[62]!==B||t[63]!==L?(q=x&&(y||b)&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Divider,{}),(0,bt.jsxs)(Kp.Group,{children:[y&&(0,bt.jsxs)(Kp.Item,{label:a({id:"KXAXeV"}),onPress:B,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"KXAXeV"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:pc.PersonCheck_Stroke2_Corner0_Rounded})]}),b&&(0,bt.jsxs)(Kp.Item,{label:a({id:"Hp6Aoq"}),onPress:L,children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Hp6Aoq"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Eh})]})]})]}),t[58]=a,t[59]=y,t[60]=x,t[61]=b,t[62]=B,t[63]=L,t[64]=q):q=t[64],t[65]!==z||t[66]!==W||t[67]!==G||t[68]!==q?(Q=(0,bt.jsxs)(Kp.Outer,{children:[z,U,W,G,q]}),t[65]=z,t[66]=W,t[67]=G,t[68]=q,t[69]=Q):Q=t[69],t[70]!==Q||t[71]!==O?(K=(0,bt.jsxs)(Kp.Root,{children:[O,Q]}),t[70]=Q,t[71]=O,t[72]=K):K=t[72],t[73]!==c||t[74]!==s?(Z=(0,bt.jsx)(cS,{control:c,list:s}),t[73]=c,t[74]=s,t[75]=Z):Z=t[75],t[76]!==a?(Y=a({id:"+kQ/cY"}),t[76]=a,t[77]=Y):Y=t[77],t[78]!==a?($=a({id:"+l6Ur/"}),t[78]=a,t[79]=$):$=t[79],t[80]!==a?(X=a({id:"cnGeoo"}),t[80]=a,t[81]=X):X=t[81],t[82]!==d||t[83]!==I||t[84]!==Y||t[85]!==$||t[86]!==X?(J=(0,bt.jsx)(Zi.Basic,{control:d,title:Y,description:$,onConfirm:I,confirmButtonCta:X,confirmButtonColor:"negative"}),t[82]=d,t[83]=I,t[84]=Y,t[85]=$,t[86]=X,t[87]=J):J=t[87],t[88]!==s?(ee=Object.assign({},s,{$type:"app.bsky.graph.defs#listView"}),t[88]=s,t[89]=ee):ee=t[89],t[90]!==u||t[91]!==ee?(te=(0,bt.jsx)(If.ReportDialog,{control:u,subject:ee}),t[90]=u,t[91]=ee,t[92]=te):te=t[92],t[93]!==K||t[94]!==Z||t[95]!==J||t[96]!==te?(se=(0,bt.jsxs)(bt.Fragment,{children:[K,Z,J,te]}),t[93]=K,t[94]=Z,t[95]=J,t[96]=te,t[97]=se):se=t[97],se}function rM(e){const{props:t}=e;return(0,bt.jsx)(ao.Button,Object.assign({label:t.accessibilityLabel,testID:"moreOptionsBtn",size:"small",color:"secondary",shape:"round"},t,{children:(0,bt.jsx)(ao.ButtonIcon,{icon:Qp})}))}function iM(e){const t=(0,n.c)(65),{list:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),r=Zi.usePromptControl(),i=Zi.usePromptControl(),{mutateAsync:l,isPending:c}=pr(),{mutateAsync:d,isPending:u}=fr(),m=c||u;let h;t[0]!==o||t[1]!==a||t[2]!==s||t[3]!==l?(h=async()=>{try{await l({uri:s.uri,mute:!0}),Pd.show(o({id:"GPt/ZL"})),a.metric("moderation:subscribedToList",{listType:"mute"})}catch{Pd.show(o({id:"zghcp1"}),{type:"error"})}},t[0]=o,t[1]=a,t[2]=s,t[3]=l,t[4]=h):h=t[4];const p=h;let f;t[5]!==o||t[6]!==a||t[7]!==d||t[8]!==s?(f=async()=>{try{await d({uri:s.uri,block:!0}),Pd.show(o({id:"Q42Dr4"})),a.metric("moderation:subscribedToList",{listType:"block"})}catch{Pd.show(o({id:"zghcp1"}),{type:"error"})}},t[5]=o,t[6]=a,t[7]=d,t[8]=s,t[9]=f):f=t[9];const g=f;let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F;return t[10]!==o?(x=o({id:"5z3ICN"}),t[10]=o,t[11]=x):x=t[11],t[12]!==m?(_=e=>{const{props:t}=e;return(0,bt.jsxs)(ao.Button,Object.assign({label:t.accessibilityLabel,testID:"subscribeBtn",size:"small",color:"primary_subtle",style:[qs.atoms.rounded_full],disabled:m},t,{children:[m&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"EDl9kS"})})]}))},t[12]=m,t[13]=_):_=t[13],t[14]!==x||t[15]!==_?(y=(0,bt.jsx)(Kp.Trigger,{label:x,children:_}),t[14]=x,t[15]=_,t[16]=y):y=t[16],t[17]!==o?(b=o({id:"du0opt"}),t[17]=o,t[18]=b):b=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"du0opt"})}),v=(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:Ph.Mute_Stroke2_Corner0_Rounded}),t[19]=j,t[20]=v):(j=t[19],v=t[20]),t[21]!==r.open||t[22]!==b?(S=(0,bt.jsxs)(Kp.Item,{label:b,onPress:r.open,children:[j,v]}),t[21]=r.open,t[22]=b,t[23]=S):S=t[23],t[24]!==o?(w=o({id:"ffIfdM"}),t[24]=o,t[25]=w):w=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ffIfdM"})}),k=(0,bt.jsx)(Kp.ItemIcon,{position:"right",icon:pc.PersonX_Stroke2_Corner0_Rounded}),t[26]=T,t[27]=k):(T=t[26],k=t[27]),t[28]!==i.open||t[29]!==w?(C=(0,bt.jsxs)(Kp.Item,{label:w,onPress:i.open,children:[T,k]}),t[28]=i.open,t[29]=w,t[30]=C):C=t[30],t[31]!==C||t[32]!==S?(I=(0,bt.jsx)(Kp.Outer,{showCancel:!0,children:(0,bt.jsxs)(Kp.Group,{children:[S,C]})}),t[31]=C,t[32]=S,t[33]=I):I=t[33],t[34]!==I||t[35]!==y?(A=(0,bt.jsxs)(Kp.Root,{children:[y,I]}),t[34]=I,t[35]=y,t[36]=A):A=t[36],t[37]!==o?(P=o({id:"izOxJM"}),t[37]=o,t[38]=P):P=t[38],t[39]!==o?(E=o({id:"1QJzM7"}),t[39]=o,t[40]=E):E=t[40],t[41]!==o?(L=o({id:"25PHAB"}),t[41]=o,t[42]=L):L=t[42],t[43]!==p||t[44]!==r||t[45]!==P||t[46]!==E||t[47]!==L?(R=(0,bt.jsx)(Zi.Basic,{control:r,title:P,description:E,onConfirm:p,confirmButtonCta:L}),t[43]=p,t[44]=r,t[45]=P,t[46]=E,t[47]=L,t[48]=R):R=t[48],t[49]!==o?(B=o({id:"fdYcMy"}),t[49]=o,t[50]=B):B=t[50],t[51]!==o?(D=o({id:"zl+QbX"}),t[51]=o,t[52]=D):D=t[52],t[53]!==o?(O=o({id:"hIysMc"}),t[53]=o,t[54]=O):O=t[54],t[55]!==g||t[56]!==i||t[57]!==B||t[58]!==D||t[59]!==O?(M=(0,bt.jsx)(Zi.Basic,{control:i,title:B,description:D,onConfirm:g,confirmButtonCta:O,confirmButtonColor:"negative"}),t[55]=g,t[56]=i,t[57]=B,t[58]=D,t[59]=O,t[60]=M):M=t[60],t[61]!==A||t[62]!==R||t[63]!==M?(F=(0,bt.jsxs)(bt.Fragment,{children:[A,R,M]}),t[61]=A,t[62]=R,t[63]=M,t[64]=F):F=t[64],F}function lM({rkey:e,list:t,preferences:s}){const{_:o}=(0,dt.useLingui)(),n=(0,Xo.useAnalytics)(),{currentAccount:a}=(0,Gt.useSession)(),r=t.purpose===Dn.AppBskyGraphDefs.CURATELIST,i=t.purpose===Dn.AppBskyGraphDefs.MODLIST,l=!!t.viewer?.blocked,c=!!t.viewer?.muted,d=(0,im.useHaptics)(),{mutateAsync:u,isPending:m}=pr(),{mutateAsync:h,isPending:p}=fr(),{mutateAsync:f,isPending:g}=(0,xr.useAddSavedFeedsMutation)(),{mutateAsync:x,isPending:_}=(0,xr.useUpdateSavedFeedsMutation)(),y=g||_,b=s?.savedFeeds?.find((e=>e.value===t.uri)),j=Boolean(b?.pinned),v=(0,lt.useMemo)((()=>t.description?new Dn.RichText({text:t.description,facets:t.descriptionFacets}):void 0),[t]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(nM,{href:(0,Oa.makeListLink)(t.creator.handle||t.creator.did||"",e),title:t.name,avatar:t.avatar,isOwner:t.creator.did===a?.did,creator:t.creator,purpose:t.purpose,avatarType:"list",children:[r?(0,bt.jsxs)(ao.Button,{testID:j?"unpinBtn":"pinBtn",color:j?"secondary":"primary_subtle",label:o(j?{id:"nWMRxa"}:{id:"yoM4Y/"}),onPress:async()=>{d();try{if(b){const e=!b.pinned;await x([Object.assign({},b,{pinned:e})]),Pd.show(o(e?{id:"gdFob6"}:{id:"G8TSOA"}))}else await f([{type:"list",value:t.uri,pinned:!0}]),Pd.show(o({id:"faoc1p"}))}catch(e){Pd.show(o({id:"6bZi7H"}),{type:"error"}),Mt.logger.error("Failed to toggle pinned feed",{message:e})}},disabled:y,size:"small",style:[qs.atoms.rounded_full],children:[!j&&(0,bt.jsx)(ao.ButtonIcon,{icon:y?lo.Loader:Qi}),(0,bt.jsx)(ao.ButtonText,{children:j?(0,bt.jsx)(dt.Trans,{id:"nWMRxa"}):(0,bt.jsx)(dt.Trans,{id:"yoM4Y/"})})]}):i?l?(0,bt.jsxs)(ao.Button,{testID:"unblockBtn",color:"secondary",label:o({id:"tuS5Jz"}),onPress:async()=>{try{await h({uri:t.uri,block:!1}),Pd.show(o({id:"u+/2ah"})),n.metric("moderation:unsubscribedFromList",{listType:"block"})}catch{Pd.show(o({id:"zghcp1"}))}},size:"small",style:[qs.atoms.rounded_full],disabled:p,children:[p&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tuS5Jz"})})]}):c?(0,bt.jsxs)(ao.Button,{testID:"unmuteBtn",color:"secondary",label:o({id:"rn6SBY"}),onPress:async()=>{try{await u({uri:t.uri,mute:!1}),Pd.show(o({id:"OfphAR"})),n.metric("moderation:unsubscribedFromList",{listType:"mute"})}catch{Pd.show(o({id:"zghcp1"}))}},size:"small",style:[qs.atoms.rounded_full],disabled:m,children:[m&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"rn6SBY"})})]}):(0,bt.jsx)(iM,{list:t}):null,(0,bt.jsx)(aM,{list:t})]}),v?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_sm,qs.atoms.pb_sm,qs.atoms.gap_md],children:(0,bt.jsx)(Yi.RichText,{value:v,style:[qs.atoms.text_md]})}):null]})}function cM(e){const t=(0,n.c)(30),{ref:s,feed:o,scrollElRef:a,headerHeight:i,isFocused:l,isOwner:c,onPressAddUser:d}=e,u=(0,On.useQueryClient)(),[m,h]=(0,lt.useState)(!1),[p,f]=(0,lt.useState)(!1),g=(0,Ns.useIsFocused)(),{_:x}=(0,dt.useLingui)();let _;t[0]!==o||t[1]!==i||t[2]!==u||t[3]!==a?(_=()=>{a.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-i}),u.resetQueries({queryKey:(0,Jr.RQKEY)(o)}),h(!1)},t[0]=o,t[1]=i,t[2]=u,t[3]=a,t[4]=_):_=t[4];const y=_;let b,j,v,S;t[5]!==y?(b=()=>({scrollToTop:y}),t[5]=y,t[6]=b):b=t[6],(0,lt.useImperativeHandle)(s,b),t[7]!==g||t[8]!==y?(j=()=>{if(g)return(0,_t.listenSoftReset)(y)},v=[y,g],t[7]=g,t[8]=y,t[9]=j,t[10]=v):(j=t[9],v=t[10]),(0,lt.useEffect)(j,v),t[11]!==x||t[12]!==c||t[13]!==d?(S=()=>(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xl,qs.atoms.align_center],children:[(0,bt.jsx)(pS.EmptyState,{icon:Pl,iconSize:"2xl",message:x({id:"KD13F8"})}),c&&(0,bt.jsxs)(ao.Button,{label:x({id:"A3BCK8"}),onPress:d,color:"primary",size:"small",children:[(0,bt.jsx)(ao.ButtonIcon,{icon:pc.PersonPlus_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"vjUnLD"})})]})]}),t[11]=x,t[12]=c,t[13]=d,t[14]=S):S=t[14];const w=S;let T,k,C;return t[15]!==o||t[16]!==m||t[17]!==i||t[18]!==l||t[19]!==w||t[20]!==a?(T=(0,bt.jsx)(Ag,{testID:"listFeed",enabled:l,feed:o,pollInterval:6e4,disablePoll:m,scrollElRef:a,onHasNew:h,onScrolledDownChange:f,renderEmptyState:w,headerOffset:i}),t[15]=o,t[16]=m,t[17]=i,t[18]=l,t[19]=w,t[20]=a,t[21]=T):T=t[21],t[22]!==x||t[23]!==m||t[24]!==p||t[25]!==y?(k=(p||m)&&(0,bt.jsx)(cv,{onPress:y,label:x({id:"VkLESX"}),showIndicator:m}),t[22]=x,t[23]=m,t[24]=p,t[25]=y,t[26]=k):k=t[26],t[27]!==T||t[28]!==k?(C=(0,bt.jsxs)(Fs.default,{children:[T,k]}),t[27]=T,t[28]=k,t[29]=C):C=t[29],C}function dM(e){const t=(0,n.c)(2);let s;return t[0]!==e?(s=(0,bt.jsx)(ya.Screen,{testID:"profileListScreen",children:(0,bt.jsx)(uM,Object.assign({},e))}),t[0]=e,t[1]=s):s=t[1],s}function uM(e){const t=(0,n.c)(22),{_:s}=(0,dt.useLingui)(),{name:o,rkey:a}=e.route.params;let r;t[0]!==o||t[1]!==a?(r=Dn.AtUri.make(o,"app.bsky.graph.list",a).toString(),t[0]=o,t[1]=a,t[2]=r):r=t[2];const{data:i,error:l}=(0,_r.useResolveUriQuery)(r),{data:c}=(0,xr.usePreferencesQuery)(),{data:d,error:u}=function(e){const t=(0,n.c)(6),s=(0,Gt.useAgent)(),o=e||"";let a,r;return t[0]!==o?(a=cr(o),t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a||t[4]!==e?(r={staleTime:yt.STALE.MINUTES.ONE,queryKey:a,async queryFn(){if(!e)throw new Error("URI not provided");return(await s.app.bsky.graph.getList({list:e,limit:1})).data.list},enabled:!!e},t[2]=s,t[3]=a,t[4]=e,t[5]=r):r=t[5],(0,Zs.useQuery)(r)}(i?.uri),m=(0,ds.useModerationOpts)();if(l){let e,n,a,r;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(ya.Header.BackButton,{}),t[3]=e):e=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,bt.jsxs)(ya.Header.Outer,{children:[e,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"8NNr/O"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[4]=n):n=t[4],t[5]!==s||t[6]!==o?(a=s({id:"AHBzub",values:{handleOrDid:o}}),t[5]=s,t[6]=o,t[7]=a):a=t[7],t[8]!==a?(r=(0,bt.jsxs)(bt.Fragment,{children:[n,(0,bt.jsx)(ya.Content,{centerContent:!0,children:(0,bt.jsx)(sM,{error:a})})]}),t[8]=a,t[9]=r):r=t[9],r}if(u){let e,s,o,n;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(ya.Header.BackButton,{}),t[10]=e):e=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsxs)(ya.Header.Outer,{children:[e,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"8NNr/O"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[11]=s):s=t[11],t[12]!==u?(o=(0,Tn.cleanError)(u),t[12]=u,t[13]=o):o=t[13],t[14]!==o?(n=(0,bt.jsxs)(bt.Fragment,{children:[s,(0,bt.jsx)(ya.Content,{centerContent:!0,children:(0,bt.jsx)(sM,{error:o})})]}),t[14]=o,t[15]=n):n=t[15],n}let h;return t[16]!==d||t[17]!==m||t[18]!==c||t[19]!==e||t[20]!==i?(h=i&&d&&m&&c?(0,bt.jsx)(mM,Object.assign({},e,{uri:i.uri,list:d,moderationOpts:m,preferences:c})):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(ya.Header.Outer,{children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{}),(0,bt.jsx)(ya.Header.Slot,{})]}),(0,bt.jsx)(ya.Content,{centerContent:!0,contentContainerStyle:(0,qs.platform)({web:[qs.atoms.mx_auto],native:[qs.atoms.align_center]}),children:(0,bt.jsx)(lo.Loader,{size:"2xl"})})]}),t[16]=d,t[17]=m,t[18]=c,t[19]=e,t[20]=i,t[21]=h):h=t[21],h}function mM({route:e,uri:t,list:s,moderationOpts:o,preferences:n}){const a=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),l=(0,On.useQueryClient)(),{openComposer:c}=Wo(),d=(0,hs.useSetMinimalShellMode)(),{currentAccount:u}=(0,Gt.useSession)(),{rkey:m}=e.params,h=(0,lt.useRef)(null),p=(0,lt.useRef)(null),f=s.purpose===Dn.AppBskyGraphDefs.CURATELIST,g=(0,Ns.useIsFocused)(),x=-1!==s.labels?.findIndex((e=>"!hide"===e.val)),_=u?.did===s.creator.did,y=(0,yn.useAnimatedRef)(),b=(0,Qs.useDialogControl)(),j=[i({id:"+owNNn"}),i({id:"1wdjme"})],[v,S]=(0,lt.useState)(null),w=(0,lt.useMemo)((()=>(0,Dn.moderateUserList)(s,o)),[s,o]);ov(x?i({id:"6kYfCl"}):s.name),(0,Ns.useFocusEffect)((0,lt.useCallback)((()=>{d(!1)}),[d]));const T=()=>{f&&(0,Nn.truncateAndInvalidate)(l,(0,Jr.RQKEY)(`list|${s.uri}`))},k=(0,lt.useCallback)((e=>{0===e?h.current?.scrollToTop():1===e&&p.current?.scrollToTop()}),[h]),C=(0,lt.useCallback)((()=>(0,bt.jsx)(lM,{rkey:m,list:s,preferences:n})),[m,s,n]);return f?(0,bt.jsxs)(zc,{modui:w.ui("contentView"),allowOverride:_,children:[(0,bt.jsx)(Gc,{children:(0,bt.jsx)(UO,{list:s,preferences:n})}),(0,bt.jsxs)(Wc,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.util_screen_outer],children:[(0,bt.jsxs)(eT,{items:j,isHeaderReady:!0,renderHeader:C,onCurrentPageSelected:k,children:[({headerHeight:e,scrollElRef:s,isFocused:o})=>(0,bt.jsx)(cM,{ref:h,feed:`list|${t}`,scrollElRef:s,headerHeight:e,isFocused:g&&o,isOwner:_,onPressAddUser:b.open}),({headerHeight:e,scrollElRef:t})=>(0,bt.jsx)(tM,{ref:p,scrollElRef:t,list:s,onPressAddUser:b.open,headerHeight:e})]}),(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:()=>c({logContext:"Fab"}),icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:i({id:"2B7HLH"}),accessibilityHint:""})]}),(0,bt.jsx)(WO,{control:b,list:s,onChange:T})]})]}):(0,bt.jsxs)(zc,{modui:w.ui("contentView"),allowOverride:_,children:[(0,bt.jsx)(Gc,{children:(0,bt.jsx)(UO,{list:s,preferences:n})}),(0,bt.jsxs)(Wc,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.util_screen_outer],children:[(0,bt.jsx)(ya.Center,{onLayout:e=>S(e.nativeEvent.layout.height),style:[(0,qs.native)([qs.atoms.absolute,qs.atoms.z_10,a.atoms.bg]),qs.atoms.border_b,a.atoms.border_contrast_low],children:C()}),null!==v&&(0,bt.jsx)(tM,{list:s,scrollElRef:y,onPressAddUser:b.open,headerHeight:r.IS_WEB?0:v}),(0,bt.jsx)(Hj,{testID:"composeFAB",onPress:()=>c({logContext:"Fab"}),icon:(0,bt.jsx)(Tu,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:i({id:"2B7HLH"}),accessibilityHint:""})]}),(0,bt.jsx)(WO,{control:b,list:s,onChange:T})]})]})}const hM=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h13a1 1 0 0 1 .707.293l3 3A1 1 0 0 1 21 7v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm6 15h6v-5H9v5Zm8 0v-6a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6H5V5h2v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5.414l2 2V19h-2ZM15 5H9v2h6V5Z"});function pM(e){const t=(0,n.c)(3),{data:s}=(0,xr.usePreferencesQuery)();if(!s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{}),t[0]=e):e=t[0],e}let o;return t[1]!==s?(o=(0,bt.jsx)(fM,{preferences:s}),t[1]=s,t[2]=o):o=t[2],o}function fM(e){const t=(0,n.c)(59),{preferences:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{gtMobile:r}=(0,qs.useBreakpoints)(),i=(0,hs.useSetMinimalShellMode)(),{mutateAsync:l,isPending:c}=(0,xr.useOverwriteSavedFeedsMutation)(),d=(0,Ns.useNavigation)();let u;t[0]!==s.savedFeeds?(u=()=>s.savedFeeds||[],t[0]=s.savedFeeds,t[1]=u):u=t[1];const[m,h]=(0,lt.useState)(u),p=m!==s.savedFeeds,f=m.filter(bM),g=m.filter(yM),x=f.length+g.length===0;let _;t[2]!==m||t[3]!==x?(_=m.every(_M)&&!x,t[2]=m,t[3]=x,t[4]=_):_=t[4];const y=_;let b,j;t[5]!==i?(b=()=>{i(!1)},t[5]=i,t[6]=b):b=t[6],(0,Ns.useFocusEffect)(b),t[7]!==a||t[8]!==m||t[9]!==d||t[10]!==l?(j=async()=>{try{await l(m),Ds.show(a({id:"oIkrPj"})),d.canGoBack()?d.goBack():d.navigate("Feeds")}catch(S){const t=S;Ds.show(a({id:"6bZi7H"}),"xmark"),Mt.logger.error("Failed to toggle pinned feed",{message:t})}},t[7]=a,t[8]=m,t[9]=d,t[10]=l,t[11]=j):j=t[11];const v=j,S=ya;let w,T;t[12]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(ya.Header.BackButton,{}),t[12]=w):w=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"2DoBvq"})})}),t[13]=T):T=t[13];const k=p?"primary":"secondary";let C;t[14]!==a?(C=a({id:"y3aU20"}),t[14]=a,t[15]=C):C=t[15];const I=c||!p,A=c?lo.Loader:hM;let P,E,L;t[16]!==A?(P=(0,bt.jsx)(ao.ButtonIcon,{icon:A}),t[16]=A,t[17]=P):P=t[17],t[18]!==r?(E=(0,bt.jsx)(ao.ButtonText,{children:r?(0,bt.jsx)(dt.Trans,{id:"y3aU20"}):(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),t[18]=r,t[19]=E):E=t[19],t[20]!==v||t[21]!==I||t[22]!==P||t[23]!==E||t[24]!==k||t[25]!==C?(L=(0,bt.jsxs)(ya.Header.Outer,{children:[w,T,(0,bt.jsxs)(ao.Button,{testID:"saveChangesBtn",size:"small",color:k,onPress:v,label:C,disabled:I,children:[P,E]})]}),t[20]=v,t[21]=I,t[22]=P,t[23]=E,t[24]=k,t[25]=C,t[26]=L):L=t[26];const R=ya;let B,D;t[27]!==x||t[28]!==o.atoms.border_contrast_low?(B=x&&(0,bt.jsx)(Fs.default,{style:[o.atoms.border_contrast_low,qs.atoms.border_b],children:(0,bt.jsx)(zj,{onAddRecommendedFeeds:()=>h(Vt.RECOMMENDED_SAVED_FEEDS.map(xM))})}),t[27]=x,t[28]=o.atoms.border_contrast_low,t[29]=B):B=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(TM,{children:(0,bt.jsx)(dt.Trans,{id:"zgoxy5"})}),t[30]=D):D=t[30];const O=s?f.length?f.map((e=>(0,bt.jsx)(jM,{feed:e,isPinned:!0,currentFeeds:m,setCurrentFeeds:h,preferences:s},e.id))):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.p_lg],children:(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"aFZZYi"})})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.py_2xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})});let M,F;t[31]!==y||t[32]!==o.atoms.border_contrast_low?(M=y&&(0,bt.jsx)(Fs.default,{style:[o.atoms.border_contrast_low,qs.atoms.border_b],children:(0,bt.jsx)(Vj,{onAddFeed:()=>h(gM)})}),t[31]=y,t[32]=o.atoms.border_contrast_low,t[33]=M):M=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(TM,{children:(0,bt.jsx)(dt.Trans,{id:"+K+JDj"})}),t[34]=F):F=t[34];const N=s?g.length?g.map((e=>(0,bt.jsx)(jM,{feed:e,isPinned:!1,currentFeeds:m,setCurrentFeeds:h,preferences:s},e.id))):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.p_lg],children:(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"nbz3Iq"})})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.py_2xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})});let H,V,z,U,W,G,q,Q;return t[35]===Symbol.for("react.memo_cache_sentinel")?(H=[qs.atoms.px_lg,qs.atoms.py_xl],t[35]=H):H=t[35],t[36]!==o.atoms.text_contrast_medium?(V=[qs.atoms.text_sm,o.atoms.text_contrast_medium,qs.atoms.leading_snug],t[36]=o.atoms.text_contrast_medium,t[37]=V):V=t[37],t[38]!==a?(z=a({id:"4y0PKa"}),t[38]=a,t[39]=z):z=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(U=[qs.atoms.leading_snug],t[40]=U):U=t[40],t[41]!==z?(W=(0,bt.jsx)(dt.Trans,{id:"9znJx1",components:{0:(0,bt.jsx)(io.InlineLinkText,{to:"https://github.com/bluesky-social/feed-generator",label:z,disableMismatchWarning:!0,style:U})}}),t[41]=z,t[42]=W):W=t[42],t[43]!==V||t[44]!==W?(G=(0,bt.jsx)(Fs.default,{style:H,children:(0,bt.jsx)(co.Text,{style:V,children:W})}),t[43]=V,t[44]=W,t[45]=G):G=t[45],t[46]!==R.Content||t[47]!==B||t[48]!==D||t[49]!==O||t[50]!==M||t[51]!==F||t[52]!==N||t[53]!==G?(q=(0,bt.jsxs)(R.Content,{children:[B,D,O,M,F,N,G]}),t[46]=R.Content,t[47]=B,t[48]=D,t[49]=O,t[50]=M,t[51]=F,t[52]=N,t[53]=G,t[54]=q):q=t[54],t[55]!==L||t[56]!==q||t[57]!==S.Screen?(Q=(0,bt.jsxs)(S.Screen,{children:[L,q]}),t[55]=L,t[56]=q,t[57]=S.Screen,t[58]=Q):Q=t[58],Q}function gM(e){return[...e,Object.assign({},Vt.TIMELINE_SAVED_FEED,{id:I_.TID.next().toString()})]}function xM(e){return Object.assign({},e,{id:I_.TID.nextStr()})}function _M(e){return"timeline"!==e.type}function yM(e){return!e.pinned}function bM(e){return e.pinned}function jM(e){const t=(0,n.c)(52),{feed:s,isPinned:o,currentFeeds:a,setCurrentFeeds:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)(),c=(0,im.useHaptics)(),d=s.value;let u;t[0]!==a||t[1]!==s||t[2]!==c||t[3]!==r?(u=async()=>{c(),r(a.map((e=>e.id===s.id?Object.assign({},s,{pinned:!s.pinned}):e)))},t[0]=a,t[1]=s,t[2]=c,t[3]=r,t[4]=u):u=t[4];const m=u;let h;t[5]!==a||t[6]!==s.id||t[7]!==o||t[8]!==r?(h=async()=>{if(!o)return;const e=a.slice(),t=a.map(wM).indexOf(s.id),n=t-1;if(-1===t||0===t)return;const[i,l]=[e[n],e[t]];e[t]=i,e[n]=l,r(e)},t[5]=a,t[6]=s.id,t[7]=o,t[8]=r,t[9]=h):h=t[9];const p=h;let f;t[10]!==a||t[11]!==s.id||t[12]!==o||t[13]!==r?(f=async()=>{if(!o)return;const e=a.slice(),t=a.map(SM).indexOf(s.id),n=t+1;if(-1===t||t>=e.filter(vM).length-1)return;const[i,l]=[e[n],e[t]];e[t]=i,e[n]=l,r(e)},t[10]=a,t[11]=s.id,t[12]=o,t[13]=r,t[14]=f):f=t[14];const g=f;let x;t[15]!==a||t[16]!==s.id||t[17]!==c||t[18]!==r?(x=async()=>{c(),r(a.filter((e=>e.id!==s.id)))},t[15]=a,t[16]=s.id,t[17]=c,t[18]=r,t[19]=x):x=t[19];const _=x;let y,b,j,v,S;t[20]!==l.atoms.border_contrast_low?(y=[qs.atoms.flex_row,qs.atoms.border_b,l.atoms.border_contrast_low],t[20]=l.atoms.border_contrast_low,t[21]=y):y=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(b=yn.LinearTransition.duration(100),t[22]=b):b=t[22],t[23]!==s.type||t[24]!==d||t[25]!==o?(j="timeline"===s.type?(0,bt.jsx)(kM,{}):(0,bt.jsx)(Vb,{feedUri:d,style:[o&&qs.atoms.pr_sm],showMinimalPlaceholder:!0,hideTopBorder:!0},d),t[23]=s.type,t[24]=d,t[25]=o,t[26]=j):j=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.pr_lg,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[27]=v):v=t[27],t[28]!==i||t[29]!==s.type||t[30]!==d||t[31]!==o||t[32]!==g||t[33]!==_||t[34]!==p?(S=o?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{testID:`feed-${s.type}-moveUp`,label:i({id:"eX6w51"}),onPress:p,size:"small",color:"secondary",shape:"square",children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowTop_Stroke2_Corner0_Rounded})}),(0,bt.jsx)(ao.Button,{testID:`feed-${s.type}-moveDown`,label:i({id:"UGM6RP"}),onPress:g,size:"small",color:"secondary",shape:"square",children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowBottom_Stroke2_Corner0_Rounded})})]}):(0,bt.jsx)(ao.Button,{testID:`feed-${d}-toggleSave`,label:i({id:"Yy3FzB"}),onPress:_,size:"small",color:"secondary",variant:"ghost",shape:"square",children:(0,bt.jsx)(ao.ButtonIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded})}),t[28]=i,t[29]=s.type,t[30]=d,t[31]=o,t[32]=g,t[33]=_,t[34]=p,t[35]=S):S=t[35];const w=`feed-${s.type}-togglePin`;let T;t[36]!==i||t[37]!==o?(T=i(o?{id:"00Xva0"}:{id:"UN1A69"}),t[36]=i,t[37]=o,t[38]=T):T=t[38];const k=o?"primary_subtle":"secondary";let C,I,A,P;return t[39]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(ao.ButtonIcon,{icon:Ki}),t[39]=C):C=t[39],t[40]!==m||t[41]!==w||t[42]!==T||t[43]!==k?(I=(0,bt.jsx)(ao.Button,{testID:w,label:T,onPress:m,size:"small",color:k,shape:"square",children:C}),t[40]=m,t[41]=w,t[42]=T,t[43]=k,t[44]=I):I=t[44],t[45]!==I||t[46]!==S?(A=(0,bt.jsxs)(Fs.default,{style:v,children:[S,I]}),t[45]=I,t[46]=S,t[47]=A):A=t[47],t[48]!==A||t[49]!==y||t[50]!==j?(P=(0,bt.jsxs)(yn.default.View,{style:y,layout:b,children:[j,A]}),t[48]=A,t[49]=y,t[50]=j,t[51]=P):P=t[51],P}function vM(e){return e.pinned}function SM(e){return e.id}function wM(e){return e.id}function TM(e){const t=(0,n.c)(8),{children:s}=e,o=(0,qs.useTheme)();let a,r,i,l;return t[0]!==o.atoms.border_contrast_low?(a=[qs.atoms.flex_row,qs.atoms.flex_1,qs.atoms.px_lg,qs.atoms.pt_2xl,qs.atoms.pb_md,qs.atoms.border_b,o.atoms.border_contrast_low],t[0]=o.atoms.border_contrast_low,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.text_xl,qs.atoms.font_bold,qs.atoms.leading_snug],t[2]=r):r=t[2],t[3]!==s?(i=(0,bt.jsx)(co.Text,{style:r,children:s}),t[3]=s,t[4]=i):i=t[4],t[5]!==a||t[6]!==i?(l=(0,bt.jsx)(Fs.default,{style:a,children:i}),t[5]=a,t[6]=i,t[7]=l):l=t[7],l}function kM(){const e=(0,n.c)(13),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.flex_1,qs.atoms.p_lg],e[0]=s):s=e[0],e[1]!==t.palette.primary_500?(o=[qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.rounded_sm,qs.atoms.mr_md,{width:36,height:36,backgroundColor:t.palette.primary_500}],e[1]=t.palette.primary_500,e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=[{width:22,height:22}],e[3]=a):a=e[3],e[4]!==t.palette.white?(r=(0,bt.jsx)(Qj,{style:a,fill:t.palette.white}),e[4]=t.palette.white,e[5]=r):r=e[5],e[6]!==o||e[7]!==r?(i=(0,bt.jsx)(Fs.default,{style:o,children:r}),e[6]=o,e[7]=r,e[8]=i):i=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],e[9]=l):l=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"CF9uW8"})})}),e[10]=c):c=e[10],e[11]!==i?(d=(0,bt.jsxs)(Fs.default,{style:s,children:[i,c]}),e[11]=i,e[12]=d):d=e[12],d}function CM(e){const t=(0,n.c)(2),s=e.route?.params?.q??"";let o;return t[0]!==s?(o=(0,bt.jsx)(NO,{queryParam:s,testID:"searchScreen",isExplore:!0}),t[0]=s,t[1]=o):o=t[1],o}var IM=s(96106),AM=s(12936);const PM=(0,ti.createSinglePathSVG)({path:"M20.494 2.13a1 1 0 0 1 .375 1.364l-4.658 8.2.263.095c1.52.554 2.737 2.062 2.484 3.864-.336 2.393-1.358 4.12-3.245 6.047a1 1 0 0 1-1.102.222l-9.5-4a1 1 0 0 1-.166-1.754c1.458-.971 2.623-1.923 3.498-3.3 1.057-1.662 3.154-2.854 5.281-2.08l.58.212 4.827-8.494a1 1 0 0 1 1.363-.375ZM13.04 12.669c-.983-.358-2.19.142-2.91 1.273-.737 1.16-1.628 2.054-2.601 2.828l1.708.72a.2.2 0 0 0 .177-.011l2.13-1.218a.2.2 0 0 1 .29.237l-.551 1.653a.2.2 0 0 0 .112.247l3.353 1.413c1.359-1.494 1.994-2.76 2.23-4.435.094-.675-.359-1.405-1.188-1.707l-2.75-1ZM4.407 7.184a.5.5 0 0 1-.224.224l-1.29.645a.5.5 0 0 0 0 .894l1.29.645a.5.5 0 0 1 .224.224l.645 1.29a.5.5 0 0 0 .894 0l.645-1.29a.5.5 0 0 1 .224-.224l1.29-.645a.5.5 0 0 0 0-.894l-1.29-.645a.5.5 0 0 1-.224-.224l-.645-1.29a.5.5 0 0 0-.894 0l-.645 1.29ZM9.559 3.72a.36.36 0 0 0 .16-.16l.46-.921a.357.357 0 0 1 .64 0l.46.921q.054.106.16.16l.921.46a.357.357 0 0 1 0 .64l-.921.46a.36.36 0 0 0-.16.16l-.46.921a.357.357 0 0 1-.64 0l-.46-.921a.36.36 0 0 0-.16-.16l-.921-.46a.357.357 0 0 1 0-.64l.921-.46Z"}),EM=(0,ti.createSinglePathSVG)({path:"M2 5a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm15 0a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1ZM2 12a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm10 0a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2h-8a1 1 0 0 1-1-1ZM2 19a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm12 0a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1Z"}),LM=(0,ti.createSinglePathSVG)({path:"M1 6.5A2.5 2.5 0 0 1 3.5 4H9a4 4 0 0 1 3 1.354A4 4 0 0 1 15 4h5.5A2.5 2.5 0 0 1 23 6.5v11a2.5 2.5 0 0 1-2.5 2.5h-5.223c-.52 0-1 .125-1.4.372-.421.26-.761.633-.983 1.075a1 1 0 0 1-1.788 0 2.66 2.66 0 0 0-.983-1.075c-.4-.247-.88-.372-1.4-.372H3.5A2.5 2.5 0 0 1 1 17.5v-11ZM11 8a2 2 0 0 0-2-2H3.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h5.223c.776 0 1.564.173 2.277.569V8Zm2 10.569A4.7 4.7 0 0 1 15.277 18H20.5a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5H15a2 2 0 0 0-2 2v10.569Z"}),RM=(0,ti.createSinglePathSVG)({path:"M14.5 4a5.5 5.5 0 0 0-5.078 7.616 1 1 0 0 1-.216 1.092L4.37 17.543a1 1 0 0 0 0 1.414l.672.672a1 1 0 0 0 1.414 0l4.835-4.835a1 1 0 0 1 1.092-.216A5.5 5.5 0 0 0 20 9.414l-1.293 1.293a3.828 3.828 0 1 1-5.414-5.414L14.585 4 14.5 4ZM7 9.5a7.5 7.5 0 0 1 9.969-7.084 1 1 0 0 1 .378 1.651l-2.64 2.64a1.829 1.829 0 0 0 2.586 2.586l2.64-2.64a1 1 0 0 1 1.65.378 7.5 7.5 0 0 1-9.328 9.627l-4.384 4.385a3 3 0 0 1-4.242 0l-.672-.672a3 3 0 0 1 0-4.242l4.385-4.385A7.5 7.5 0 0 1 7 9.5Z"});var BM=s(9422);function DM(){return null}function OM(e){const t=(0,n.c)(65),{_:s,i18n:o}=(0,dt.useLingui)(),[a,i]=(0,tl.useDevMode)(),[l,c]=Gv();let d;t[0]!==s||t[1]!==o?(d={mutationFn:MM,onSuccess:e=>{r.IS_ANDROID?Ds.show(s({values:{0:o.number(Math.abs(e/1024/1024),{notation:"compact",style:"unit",unit:"megabyte"})},id:"KnR93A"})):Ds.show(s({id:"APWc+S"}))}},t[0]=s,t[1]=o,t[2]=d):d=t[2];const{mutate:u,isPending:m}=(0,go.useMutation)(d);let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return t[3]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ya.Header.BackButton,{}),t[3]=h):h=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsxs)(ya.Header.Outer,{children:[h,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"uyJsf6"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[4]=p):p=t[4],t[5]!==s?(f=s({id:"xowcRf"}),t[5]=s,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(BB.ItemIcon,{icon:LM}),t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"xowcRf"})}),t[8]=x):x=t[8],t[9]!==f?(_=(0,bt.jsxs)(BB.LinkItem,{to:"https://bsky.social/about/support/tos",label:f,children:[g,x]}),t[9]=f,t[10]=_):_=t[10],t[11]!==s?(y=s({id:"LcET2C"}),t[11]=s,t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(BB.ItemIcon,{icon:LM}),t[13]=b):b=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"LcET2C"})}),t[14]=j):j=t[14],t[15]!==y?(v=(0,bt.jsxs)(BB.LinkItem,{to:"https://bsky.social/about/support/privacy-policy",label:y,children:[b,j]}),t[15]=y,t[16]=v):v=t[16],t[17]!==s?(S=s({id:"SNoxqa"}),t[17]=s,t[18]=S):S=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(BB.ItemIcon,{icon:dm.Globe_Stroke2_Corner0_Rounded}),t[19]=w):w=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"SNoxqa"})}),t[20]=T):T=t[20],t[21]!==S?(k=(0,bt.jsxs)(BB.LinkItem,{to:Vt.STATUS_PAGE_URL,label:S,children:[w,T]}),t[21]=S,t[22]=k):k=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(BB.Divider,{}),t[23]=C):C=t[23],t[24]!==s?(I=s({id:"fP8jTZ"}),t[24]=s,t[25]=I):I=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(BB.ItemIcon,{icon:EM}),t[26]=A):A=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"fP8jTZ"})}),t[27]=P):P=t[27],t[28]!==I?(E=(0,bt.jsxs)(BB.LinkItem,{to:"/sys/log",label:I,children:[A,P]}),t[28]=I,t[29]=E):E=t[29],t[30]!==s||t[31]!==m||t[32]!==u?(L=r.IS_NATIVE&&(0,bt.jsxs)(BB.PressableItem,{onPress:()=>u(),label:s({id:"3vmoZB"}),disabled:m,children:[(0,bt.jsx)(BB.ItemIcon,{icon:PM}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"3vmoZB"})}),m&&(0,bt.jsx)(BB.ItemIcon,{icon:lo.Loader})]}),t[30]=s,t[31]=m,t[32]=u,t[33]=L):L=t[33],t[34]!==s?(R=s({id:"YYdC3A",values:{0:r.APP_VERSION}}),t[34]=s,t[35]=R):R=t[35],t[36]!==s?(B=s({id:"fyFJ26"}),t[36]=s,t[37]=B):B=t[37],t[38]!==s||t[39]!==a||t[40]!==i?(D=()=>{const e=!a;i(e),Ds.show(s(e?{id:"vBFSIP"}:{id:"hYm0F8"}))},t[38]=s,t[39]=a,t[40]=i,t[41]=D):D=t[41],t[42]!==s?(O=()=>{(0,Zp.setStringAsync)(`Build version: ${r.APP_VERSION}; Bundle info: ${r.APP_METADATA}; Bundle date: ${r.BUNDLE_DATE}; Platform: web; Platform version: ${IM.default.Version}; Device ID: ${(0,BM.getDeviceId)()??"N/A"}`),Ds.show(s({id:"dA5Bz0"}))},t[42]=s,t[43]=O):O=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(BB.ItemIcon,{icon:RM}),t[44]=M):M=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"YYdC3A",values:{0:r.APP_VERSION}})}),N=(0,bt.jsx)(BB.BadgeText,{children:r.APP_METADATA}),t[45]=F,t[46]=N):(F=t[45],N=t[46]),t[47]!==R||t[48]!==B||t[49]!==D||t[50]!==O?(H=(0,bt.jsxs)(BB.PressableItem,{label:R,accessibilityHint:B,onLongPress:D,onPress:O,children:[M,F,N]}),t[47]=R,t[48]=B,t[49]=D,t[50]=O,t[51]=H):H=t[51],t[52]!==l||t[53]!==a||t[54]!==m||t[55]!==c?(V=a&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(DM,{}),r.IS_IOS&&(0,bt.jsxs)(BB.PressableItem,{onPress:()=>{const e=!l;c(e),Ds.show("Demo mode "+(e?"enabled":"disabled"))},label:l?"Disable demo mode":"Enable demo mode",disabled:m,children:[(0,bt.jsx)(BB.ItemIcon,{icon:bf}),(0,bt.jsx)(BB.ItemText,{children:l?"Disable demo mode":"Enable demo mode"})]})]}),t[52]=l,t[53]=a,t[54]=m,t[55]=c,t[56]=V):V=t[56],t[57]!==v||t[58]!==k||t[59]!==E||t[60]!==L||t[61]!==H||t[62]!==V||t[63]!==_?(z=(0,bt.jsxs)(ya.Screen,{children:[p,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[_,v,k,C,E,L,H,V]})})]}),t[57]=v,t[58]=k,t[59]=E,t[60]=L,t[61]=H,t[62]=V,t[63]=_,t[64]=z):z=t[64],z}async function MM(){const e=await AM.getFreeDiskStorageAsync();await cn.Image.clearDiskCache();return-1*(e-await AM.getFreeDiskStorageAsync())}const FM=(0,ti.createSinglePathSVG)({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 7.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm-2.86.26.014.002c.944.125 1.893.238 2.846.238.95 0 1.904-.113 2.846-.238l.014-.002h.003a1 1 0 0 1 .273 1.98l-.006.002-.017.002c-.67.089-1.341.162-2.014.21.195 1.32.65 2.33 1.626 3.357a1 1 0 0 1-1.45 1.378 8.3 8.3 0 0 1-1.234-1.647 8.2 8.2 0 0 1-1.342 1.673 1 1 0 0 1-1.398-1.43c.673-.658 1.088-1.274 1.342-1.922.163-.42.269-.878.32-1.404a33 33 0 0 1-2.075-.215l-.017-.002-.006-.001a1 1 0 0 1 .271-1.982l.004.001Z"}),NM=(0,ti.createSinglePathSVG)({path:"M9 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9ZM6 6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V6Zm4 1a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Zm-5.793.293a1 1 0 0 1 0 1.414L3.155 9.76a.546.546 0 0 0-.05.713c.678.906.678 2.15 0 3.056a.546.546 0 0 0 .05.713l1.052 1.052a1 1 0 1 1-1.414 1.414L1.74 15.655a2.546 2.546 0 0 1-.237-3.327.55.55 0 0 0 0-.655 2.546 2.546 0 0 1 .237-3.328l1.052-1.052a1 1 0 0 1 1.414 0Zm15.586 0a1 1 0 0 1 1.414 0l1.052 1.052c.896.896.997 2.314.237 3.327a.55.55 0 0 0 0 .656 2.546 2.546 0 0 1-.237 3.327l-1.052 1.052a1 1 0 0 1-1.414-1.414l1.052-1.052a.546.546 0 0 0 .05-.713 2.55 2.55 0 0 1 0-3.056.546.546 0 0 0-.05-.713l-1.052-1.052a1 1 0 0 1 0-1.414Z"});function HM(e){const t=(0,n.c)(37),{_:s}=(0,dt.useLingui)(),o=(0,Bt.useRequireAltTextEnabled)(),a=(0,Bt.useSetRequireAltTextEnabled)(),i=(0,Bt.useHapticsDisabled)(),l=(0,Bt.useSetHapticsDisabled)(),c=(0,Dm.useLargeAltBadgeEnabled)(),d=(0,Dm.useSetLargeAltBadgeEnabled)();let u,m,h,p,f,g;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=u):u=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsxs)(ya.Header.Outer,{children:[u,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"AnNF5e"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_sm],p=(0,bt.jsx)(BB.ItemIcon,{icon:FM}),t[2]=h,t[3]=p):(h=t[2],p=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"u/DP73"})}),t[4]=f):f=t[4],t[5]!==s?(g=s({id:"2d9VrZ"}),t[5]=s,t[6]=g):g=t[6];const x=o??!1;let _,y,b,j,v,S;t[7]!==a?(_=e=>a(e),t[7]=a,t[8]=_):_=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.w_full],t[9]=y):y=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"2d9VrZ"})}),j=(0,bt.jsx)(af.Platform,{}),t[10]=b,t[11]=j):(b=t[10],j=t[11]),t[12]!==g||t[13]!==x||t[14]!==_?(v=(0,bt.jsxs)(af.Item,{name:"require_alt_text",label:g,value:x,onChange:_,style:y,children:[b,j]}),t[12]=g,t[13]=x,t[14]=_,t[15]=v):v=t[15],t[16]!==s?(S=s({id:"dW9jIz"}),t[16]=s,t[17]=S):S=t[17];const w=!!c;let T,k,C,I,A,P,E,L;return t[18]!==d?(T=e=>d(e),t[18]=d,t[19]=T):T=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.w_full],t[20]=k):k=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"dW9jIz"})}),I=(0,bt.jsx)(af.Platform,{}),t[21]=C,t[22]=I):(C=t[21],I=t[22]),t[23]!==S||t[24]!==w||t[25]!==T?(A=(0,bt.jsxs)(af.Item,{name:"large_alt_badge",label:S,value:w,onChange:T,style:k,children:[C,I]}),t[23]=S,t[24]=w,t[25]=T,t[26]=A):A=t[26],t[27]!==v||t[28]!==A?(P=(0,bt.jsxs)(BB.Group,{contentContainerStyle:h,children:[p,f,v,A]}),t[27]=v,t[28]=A,t[29]=P):P=t[29],t[30]!==s||t[31]!==i||t[32]!==l?(E=r.IS_NATIVE&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),(0,bt.jsxs)(BB.Group,{contentContainerStyle:[qs.atoms.gap_sm],children:[(0,bt.jsx)(BB.ItemIcon,{icon:NM}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"EBRcBj"})}),(0,bt.jsxs)(af.Item,{name:"haptics",label:s({id:"7J/NOa"}),value:i??!1,onChange:e=>l(e),style:[qs.atoms.w_full],children:[(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"7J/NOa"})}),(0,bt.jsx)(af.Platform,{})]})]})]}),t[30]=s,t[31]=i,t[32]=l,t[33]=E):E=t[33],t[34]!==P||t[35]!==E?(L=(0,bt.jsxs)(ya.Screen,{children:[m,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[P,E]})})]}),t[34]=P,t[35]=E,t[36]=L):L=t[36],L}function VM(e){const t=(0,n.c)(13),{control:s}=e,{_:o}=(0,dt.useLingui)();let a,r,i,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(Qs.Handle,{}),t[0]=a):a=t[0],t[1]!==o?(r=o({id:"A83LVV"}),t[1]=o,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=[(0,qs.web)({maxWidth:400})],t[3]=i):i=t[3],t[4]!==s?(l=(0,bt.jsx)(zM,{control:s}),t[4]=s,t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(Qs.Close,{}),t[6]=c):c=t[6],t[7]!==r||t[8]!==l?(d=(0,bt.jsxs)(Qs.ScrollableInner,{label:r,style:i,children:[l,c]}),t[7]=r,t[8]=l,t[9]=d):d=t[9],t[10]!==s||t[11]!==d?(u=(0,bt.jsxs)(Qs.Outer,{control:s,children:[a,d]}),t[10]=s,t[11]=d,t[12]=u):u=t[12],u}function zM(e){const t=(0,n.c)(58),{control:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),{currentAccount:r}=(0,Gt.useSession)(),{gtPhone:i}=(0,qs.useBreakpoints)(),l=(0,Gt.useAgent)(),[c,d]=lt.useState(""),u=c.length>1e3;let m,h,p,f;t[0]!==l||t[1]!==a||t[2]!==r?.did||t[3]!==c?(m=async()=>{a.metric("ageAssurance:appealDialogSubmit",{}),await l.createModerationReport({reasonType:Dn.ToolsOzoneReportDefs.REASONAPPEAL,subject:{$type:"com.atproto.admin.defs#repoRef",did:r?.did},reason:"AGE_ASSURANCE_INQUIRY: "+c},{encoding:"application/json",headers:Vt.BLUESKY_MOD_SERVICE_HEADERS})},t[0]=l,t[1]=a,t[2]=r?.did,t[3]=c,t[4]=m):m=t[4],t[5]!==o?(h=e=>{Fi.logger.error("AgeAssuranceAppealDialog failed",{safeMessage:e}),Ds.show(o({id:"4YTvvV"}),"xmark")},t[5]=o,t[6]=h):h=t[6],t[7]!==o||t[8]!==s?(p=()=>{s.close(),Ds.show(o({id:"z+cAwR"}))},t[7]=o,t[8]=s,t[9]=p):p=t[9],t[10]!==m||t[11]!==h||t[12]!==p?(f={mutationFn:m,onError:h,onSuccess:p},t[10]=m,t[11]=h,t[12]=p,t[13]=f):f=t[13];const{mutate:g,isPending:x}=(0,go.useMutation)(f);let _,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F;return t[14]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_start],children:(0,bt.jsx)(SE.AgeAssuranceBadge,{})}),t[14]=_):_=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_bold,qs.atoms.pt_md,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"Bhgd0l"})}),t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.pt_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"DUu266"})}),t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.pt_md],t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=e=>{d(e)},t[18]=v):v=t[18],t[19]!==o?(S=o({id:"vLJAM+"}),t[19]=o,t[20]=S):S=t[20],t[21]!==g?(w=()=>g(),t[21]=g,t[22]=w):w=t[22],t[23]!==c||t[24]!==u||t[25]!==S||t[26]!==w?(T=(0,bt.jsx)(Qs.Input,{multiline:!0,isInvalid:u,value:c,onChangeText:v,label:S,numberOfLines:4,onSubmitEditing:w}),t[23]=c,t[24]=u,t[25]=S,t[26]=w,t[27]=T):T=t[27],t[28]!==i?(k=i&&[qs.atoms.flex_row_reverse],t[28]=i,t[29]=k):k=t[29],t[30]!==k?(C=[qs.atoms.pt_md,qs.atoms.gap_sm,k],t[30]=k,t[31]=C):C=t[31],t[32]!==o?(I=o({id:"hQRttt"}),t[32]=o,t[33]=I):I=t[33],t[34]!==g?(A=()=>g(),t[34]=g,t[35]=A):A=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hQRttt"})}),t[36]=P):P=t[36],t[37]!==x?(E=x&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader,position:"right"}),t[37]=x,t[38]=E):E=t[38],t[39]!==I||t[40]!==A||t[41]!==E?(L=(0,bt.jsxs)(ao.Button,{label:I,size:"small",variant:"solid",color:"primary",onPress:A,children:[P,E]}),t[39]=I,t[40]=A,t[41]=E,t[42]=L):L=t[42],t[43]!==o?(R=o({id:"dEgA5A"}),t[43]=o,t[44]=R):R=t[44],t[45]!==s?(B=()=>s.close(),t[45]=s,t[46]=B):B=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})}),t[47]=D):D=t[47],t[48]!==R||t[49]!==B?(O=(0,bt.jsx)(ao.Button,{label:R,size:"small",variant:"solid",color:"secondary",onPress:B,children:D}),t[48]=R,t[49]=B,t[50]=O):O=t[50],t[51]!==C||t[52]!==L||t[53]!==O?(M=(0,bt.jsxs)(Fs.default,{style:C,children:[L,O]}),t[51]=C,t[52]=L,t[53]=O,t[54]=M):M=t[54],t[55]!==T||t[56]!==M?(F=(0,bt.jsxs)(Fs.default,{children:[_,y,b,(0,bt.jsxs)(Fs.default,{style:j,children:[T,M]})]}),t[55]=T,t[56]=M,t[57]=F):F=t[57],F}var UM=s(34151);function WM(){const e=(0,n.c)(3),{config:t,data:s}=(0,wE.useAgeAssuranceDataContext)();let o;return e[0]!==t||e[1]!==s?(o=e=>{if(!t)return fB.logger.warn("useComputeAgeAssuranceRegionAccess: missing config"),UM.AgeAssuranceAccess.Unknown;const o=(0,GC.getAgeAssuranceRegionConfigWithFallback)(t,e),n=(0,Dn.computeAgeAssuranceRegionAccess)(o,s);return n?(0,UM.parseAccessFromString)(n.access):UM.AgeAssuranceAccess.Full},e[0]=t,e[1]=s,e[2]=o):o=e[2],o}function GM(e){const t=(0,n.c)(5),{style:s}=e,o=(0,Fi.useAgeAssurance)();if(o.state.access===o.Access.Full)return null;if("config"===o.state.error){let e,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(TE,{}),t[0]=e):e=t[0],t[1]!==s?(o=(0,bt.jsx)(Fs.default,{style:s,children:e}),t[1]=s,t[2]=o):o=t[2],o}let a;return t[3]!==s?(a=(0,bt.jsx)(qM,{style:s}),t[3]=s,t[4]=a):a=t[4],a}function qM(e){const t=(0,n.c)(50),{style:s}=e,o=(0,qs.useTheme)(),{_:a,i18n:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),c=(0,xB.useDialogControl)(),d=Qs.useDialogControl(),u=Qs.useDialogControl(),m=(0,Vu.useGetTimeAgo)(),{gtPhone:h}=(0,qs.useBreakpoints)(),{setDeviceGeolocation:p}=(0,MC.useDeviceGeolocationApi)(),f=WM(),g=Mi(),x=(0,Fi.useAgeAssurance)(),{status:_,lastInitiatedAt:y}=x.state,b=_===x.Status.Blocked,j=!!y;let v;t[0]!==m||t[1]!==y?(v=y?m(y,new Date):null,t[0]=m,t[1]=y,t[2]=v):v=t[2];const S=v;let w;t[3]!==y?(w=y?(0,Vu.dateDiff)(y,new Date,"down"):null,t[3]=y,t[4]=w):w=t[4];const T=w;let k,C,I,A,P,E,L,R,B,D,O,M,F,N;return t[5]!==c?(k=(0,bt.jsx)(_B,{control:c}),t[5]=c,t[6]=k):k=t[6],t[7]!==d?(C=(0,bt.jsx)(VM,{control:d}),t[7]=d,t[8]=C):C=t[8],t[9]!==o.atoms.border_contrast_low?(I=[qs.atoms.p_lg,qs.atoms.rounded_md,qs.atoms.border,o.atoms.border_contrast_low],t[9]=o.atoms.border_contrast_low,t[10]=I):I=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.gap_lg,qs.atoms.pb_md,qs.atoms.z_10],t[11]=A):A=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(Fs.default,{style:A,children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_start],children:(0,bt.jsx)(SE.AgeAssuranceBadge,{})})}),t[12]=P):P=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.pb_md,qs.atoms.gap_xs],t[13]=E):E=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.text_sm,qs.atoms.leading_snug],t[14]=L):L=t[14],t[15]!==g.notice?(R=(0,bt.jsx)(co.Text,{style:L,children:g.notice}),t[15]=g.notice,t[16]=R):R=t[16],t[17]!==a||t[18]!==x.Access||t[19]!==f||t[20]!==u||t[21]!==p?(B=r.IS_NATIVE&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"v9+PSC",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:a({id:"+TMC6s"})},(0,io.createStaticClick)((()=>{u.open()}))))}})}),(0,bt.jsx)(FC,{control:u,onLocationAcquired:e=>{f(e.geolocation)!==x.Access.Full?(e.disableDialogAction(),e.setDialogError(a({id:"fTxCDR"}))):e.closeDialog((()=>{p(e.geolocation),Pd.show(a({id:"JveX4q"}),{type:"success"})}))}})]}),t[17]=a,t[18]=x.Access,t[19]=f,t[20]=u,t[21]=p,t[22]=B):B=t[22],t[23]!==R||t[24]!==B?(D=(0,bt.jsxs)(Fs.default,{style:E,children:[R,B]}),t[23]=R,t[24]=B,t[25]=D):D=t[25],t[26]!==a||t[27]!==d||t[28]!==l||t[29]!==c||t[30]!==T||t[31]!==h||t[32]!==j||t[33]!==i||t[34]!==b||t[35]!==y||t[36]!==o.atoms.text_contrast_medium||t[37]!==S?(O=b?(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"rSHUvw",components:{0:(0,bt.jsx)(io.InlineLinkText,Object.assign({label:a({id:"A83LVV"})},(0,io.createStaticClick)((()=>{d.open(),l.metric("ageAssurance:appealDialogOpen",{})}))))}})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_md,h?[qs.atoms.flex_row_reverse,qs.atoms.gap_xl,qs.atoms.justify_between,qs.atoms.align_center]:[qs.atoms.gap_md]],children:[(0,bt.jsx)(ao.Button,{label:a({id:"XnHyFh"}),size:"small",variant:"solid",color:j?"secondary":"primary",onPress:()=>{c.open(),l.metric("ageAssurance:initDialogOpen",{hasInitiatedPreviously:j})},children:(0,bt.jsx)(ao.ButtonText,{children:j?(0,bt.jsx)(dt.Trans,{id:"NAGk5g"}):(0,bt.jsx)(dt.Trans,{id:"XnHyFh"})})}),y&&S&&T?(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.italic,o.atoms.text_contrast_medium],title:i.date(y,{dateStyle:"medium",timeStyle:"medium"}),children:0===T.value?(0,bt.jsx)(dt.Trans,{id:"YKYQVI"}):(0,bt.jsx)(dt.Trans,{id:"Q83iHn",values:{timeAgo:S}})}):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.italic,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"+Df1WK"})})]})]}),t[26]=a,t[27]=d,t[28]=l,t[29]=c,t[30]=T,t[31]=h,t[32]=j,t[33]=i,t[34]=b,t[35]=y,t[36]=o.atoms.text_contrast_medium,t[37]=S,t[38]=O):O=t[38],t[39]!==D||t[40]!==O||t[41]!==I?(M=(0,bt.jsxs)(Fs.default,{style:I,children:[P,D,O]}),t[39]=D,t[40]=O,t[41]=I,t[42]=M):M=t[42],t[43]!==s||t[44]!==M?(F=(0,bt.jsx)(Fs.default,{style:s,children:M}),t[43]=s,t[44]=M,t[45]=F):F=t[45],t[46]!==F||t[47]!==k||t[48]!==C?(N=(0,bt.jsxs)(bt.Fragment,{children:[k,C,F]}),t[46]=F,t[47]=k,t[48]=C,t[49]=N):N=t[49],N}function QM(e){const t=(0,n.c)(16),{control:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{isLoading:r,error:i,data:l}=(0,xr.usePreferencesQuery)(),c=(0,iB.useIsBirthdateUpdateAllowed)(),{currentAccount:d}=(0,Gt.useSession)(),u=d?.accessJwt||"";let m;t[0]!==u?(m=(0,_k.isAppPassword)(u),t[0]=u,t[1]=m):m=t[1];const h=m;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p={preventExpansion:!0},f=(0,bt.jsx)(Qs.Handle,{}),t[2]=p,t[3]=f):(p=t[2],f=t[3]),t[4]!==a||t[5]!==s||t[6]!==i||t[7]!==c||t[8]!==r||t[9]!==h||t[10]!==l||t[11]!==o.atoms.text_contrast_medium?(g=c?(0,bt.jsxs)(Qs.ScrollableInner,{label:a({id:"iFKbfH"}),style:(0,qs.web)({maxWidth:400}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"iFKbfH"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"RInsgZ"})}),r?(0,bt.jsx)(lo.Loader,{size:"xl"}):i||!l?(0,bt.jsx)(Dy.ErrorMessage,{message:i?.toString()||a({id:"9q2CPa"}),style:[qs.atoms.rounded_sm]}):h?(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"pcRP0D",components:{0:(0,bt.jsx)(co.Span,{style:[qs.atoms.italic]})}})}):(0,bt.jsx)(KM,{control:s,preferences:l})]}),(0,bt.jsx)(Qs.Close,{})]}):(0,bt.jsxs)(Qs.ScrollableInner,{label:a({id:"8+Cd2S"}),style:(0,qs.web)({maxWidth:400}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.leading_snug,{paddingRight:32}],children:(0,bt.jsx)(dt.Trans,{id:"8+Cd2S"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"L/9ftr"})})]}),(0,bt.jsx)(Qs.Close,{})]}),t[4]=a,t[5]=s,t[6]=i,t[7]=c,t[8]=r,t[9]=h,t[10]=l,t[11]=o.atoms.text_contrast_medium,t[12]=g):g=t[12],t[13]!==s||t[14]!==g?(x=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:p,children:[f,g]}),t[13]=s,t[14]=g,t[15]=x):x=t[15],x}function KM({control:e,preferences:t}){const{_:s}=(0,dt.useLingui)(),o=to(),[n,a]=lt.useState(t.birthDate||(0,Na.getDateAgo)(18)),{isPending:i,error:l,mutateAsync:c}=(0,iB.useBirthdateMutation)(),d=n!==t.birthDate,u=lt.useMemo((()=>{if(l){const{raw:e,clean:t}=o(l);return t||e||l.toString()}}),[l,o]),m=(0,Na.getAge)(new Date(n)),h=m<13,p=m>=13&&m<18,f=lt.useCallback((async()=>{try{d&&await c({birthDate:n}),e.close()}catch(t){Mt.logger.error("setBirthDate failed",{message:t.message})}}),[n,c,e,d]);return(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_lg,testID:"birthDateSettingsDialog",children:[(0,bt.jsx)(Fs.default,{style:r.IS_IOS&&[qs.atoms.w_full,qs.atoms.align_center],children:(0,bt.jsx)(HC.DateField,{testID:"birthdayInput",value:n,onChangeDate:e=>a(new Date(e)),label:s({id:"GRGVyN"}),accessibilityHint:s({id:"HLRq4o"})})}),p&&d&&(0,bt.jsx)(no.Admonition,{type:"info",children:(0,bt.jsx)(dt.Trans,{id:"7zok6J"})}),h&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"8Dlt5o",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,{to:"https://bsky.social/about/support/tos",label:s({id:"xowcRf"})})}})}),u?(0,bt.jsx)(Dy.ErrorMessage,{message:u,style:[qs.atoms.rounded_sm]}):void 0,(0,bt.jsx)(Fs.default,{style:r.IS_WEB&&[qs.atoms.flex_row,qs.atoms.justify_end],children:(0,bt.jsxs)(ao.Button,{label:s(d?{id:"vdwbyF"}:{id:"DPfwMq"}),size:"large",onPress:f,variant:"solid",color:"primary",disabled:h,children:[(0,bt.jsx)(ao.ButtonText,{children:d?(0,bt.jsx)(dt.Trans,{id:"tfDRzk"}):(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})}),i&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})})]})}var ZM=s(66428);const YM=(0,ti.createSinglePathSVG)({path:"M7.018 6a1 1 0 0 0-.808.412L5.4 5.824l.809.588L3 10.825V17a1 1 0 1 0 2 0 1 1 0 0 1 1-1h12a1 1 0 0 1 1 1 1 1 0 1 0 2 0v-5.998l-3.22-4.577A1 1 0 0 0 16.962 6H7.018ZM23 11.686V17a3 3 0 0 1-5.83 1H6.83A3.001 3.001 0 0 1 1 17v-5.5a1 1 0 1 1 0-2h.49l3.102-4.265A3 3 0 0 1 7.018 4h9.944a3 3 0 0 1 2.453 1.274l3.104 4.412H23a1 1 0 1 1 0 2ZM5 13a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm10 0a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}),$M=(0,ti.createSinglePathSVG)({path:"M8.789 2.293a1 1 0 0 1 1.414 0l1.793 1.793 1.793-1.793a1 1 0 1 1 1.414 1.414l-2.207 2.207v4.355l3.772-2.178.808-3.015a1 1 0 1 1 1.931.518l-.656 2.449 2.45.656a1 1 0 1 1-.518 1.932l-3.015-.808L13.998 12l3.77 2.177 3.015-.808a1 1 0 1 1 .517 1.932l-2.449.656.657 2.45a1 1 0 1 1-1.932.517l-.808-3.015-3.772-2.178v4.355l2.207 2.207a1 1 0 0 1-1.414 1.414l-1.793-1.793-1.793 1.793a1 1 0 0 1-1.414-1.414l2.207-2.207v-4.353l-3.77 2.176-.807 3.015a1 1 0 0 1-1.932-.518l.656-2.449-2.449-.656a1 1 0 1 1 .518-1.932l3.015.808L9.997 12l-3.77-2.177-3.015.808a1 1 0 0 1-.518-1.932l2.45-.656-.657-2.45a1 1 0 0 1 1.932-.517l.808 3.015 3.77 2.176V5.914L8.788 3.707a1 1 0 0 1 0-1.414Z"}),XM=(0,ti.createSinglePathSVG)({path:"M8 8V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-5v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h5Zm1 8a1 1 0 0 1-1-1v-5H4v10h10v-4H9Z"}),JM=["style","value","onPress"];function eF(e){const t=(0,n.c)(25);let s,o,a,r;if(t[0]!==e){var i=e;({style:a,value:r,onPress:s}=i),o=(0,ta.default)(i,JM),t[0]=e,t[1]=s,t[2]=o,t[3]=a,t[4]=r}else s=t[1],o=t[2],a=t[3],r=t[4];const[l,c]=(0,lt.useState)(!1),d=(0,qs.useTheme)(),u=(0,yn.useReducedMotion)();let m,h,p;t[5]!==l||t[6]!==u?(m=()=>{if(l){const e=setTimeout((()=>c(!1)),u?2e3:100);return()=>clearTimeout(e)}},h=[l,u],t[5]=l,t[6]=u,t[7]=m,t[8]=h):(m=t[7],h=t[8]),(0,lt.useEffect)(m,h),t[9]!==s||t[10]!==r?(p=e=>{Zp.setStringAsync(r),c(!0),s?.(e)},t[9]=s,t[10]=r,t[11]=p):p=t[11];const f=p;let g,x,_,y,b;return t[12]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.relative],t[12]=g):g=t[12],t[13]!==l||t[14]!==d?(x=l&&(0,bt.jsx)(yn.default.View,{entering:yn.ZoomIn.duration(100),exiting:yn.FadeOutUp.duration(2e3),style:[qs.atoms.absolute,{bottom:"100%",right:0},qs.atoms.justify_center,qs.atoms.gap_sm,qs.atoms.z_10,qs.atoms.pb_sm],pointerEvents:"none",children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_medium,qs.atoms.text_right,qs.atoms.text_sm,d.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"PiH3UR"})})}),t[13]=l,t[14]=d,t[15]=x):x=t[15],t[16]!==a?(_=[qs.atoms.flex_1,qs.atoms.justify_between,a],t[16]=a,t[17]=_):_=t[17],t[18]!==f||t[19]!==o||t[20]!==_?(y=(0,bt.jsx)(ao.Button,Object.assign({style:_,onPress:f},o)),t[18]=f,t[19]=o,t[20]=_,t[21]=y):y=t[21],t[22]!==x||t[23]!==y?(b=(0,bt.jsxs)(Fs.default,{style:g,children:[x,y]}),t[22]=x,t[23]=y,t[24]=b):b=t[24],b}function tF(e){const t=(0,n.c)(6),{control:s}=e,{height:o}=(0,Qr.default)();let a,r,i;return t[0]!==o?(a={minHeight:o},t[0]=o,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(sF,{}),t[2]=r):r=t[2],t[3]!==s||t[4]!==a?(i=(0,bt.jsx)(Qs.Outer,{control:s,nativeOptions:a,children:r}),t[3]=s,t[4]=a,t[5]=i):i=t[5],i}function sF(){const e=(0,n.c)(22),t=Qs.useDialogContext(),{_:s}=(0,dt.useLingui)(),o=(0,Gt.useAgent)();let a;e[0]!==o.serviceUrl?(a=o.serviceUrl.toString(),e[0]=o.serviceUrl,e[1]=a):a=e[1];const{data:r,error:i,refetch:l}=Pk(a),[c,d]=(0,lt.useState)("provided-handle");let u;e[2]!==s||e[3]!==t?(u=()=>(0,bt.jsx)(ao.Button,{label:s({id:"dEgA5A"}),onPress:()=>t.close(),size:"small",color:"primary",variant:"ghost",style:[qs.atoms.rounded_full],children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})}),e[2]=s,e[3]=t,e[4]=u):u=e[4];const m=u;let h,p,f,g,x,_,y;return e[5]!==s?(h=s({id:"Q5e1U/"}),e[5]=s,e[6]=h):h=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(Qs.HeaderText,{children:(0,bt.jsx)(dt.Trans,{id:"Q5e1U/"})}),e[7]=p):p=e[7],e[8]!==m?(f=(0,bt.jsx)(Qs.Header,{renderLeft:m,children:p}),e[8]=m,e[9]=f):f=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.pt_0,qs.atoms.px_0],e[10]=g):g=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_1,qs.atoms.pt_lg,qs.atoms.px_xl],e[11]=x):x=e[11],e[12]!==s||e[13]!==c||e[14]!==l||e[15]!==r||e[16]!==i?(_=(0,bt.jsx)(Fs.default,{style:x,children:i?(0,bt.jsx)(lh,{title:s({id:"5yIPLp"}),message:s({id:"ZEyUs5"}),details:(0,Tn.cleanError)(i),onPressTryAgain:l}):r?(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:"provided-handle"===c?(0,bt.jsx)(yn.default.View,{entering:(0,qs.native)(yn.SlideInLeft),exiting:(0,qs.native)(yn.SlideOutLeft),children:(0,bt.jsx)(oF,{serviceInfo:r,goToOwnHandle:()=>d("own-handle")})},c):(0,bt.jsx)(yn.default.View,{entering:(0,qs.native)(yn.SlideInRight),exiting:(0,qs.native)(yn.SlideOutRight),children:(0,bt.jsx)(nF,{goToServiceHandle:()=>d("provided-handle")})},c)}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.py_4xl],children:(0,bt.jsx)(lo.Loader,{size:"xl"})})}),e[12]=s,e[13]=c,e[14]=l,e[15]=r,e[16]=i,e[17]=_):_=e[17],e[18]!==h||e[19]!==f||e[20]!==_?(y=(0,bt.jsx)(Qs.ScrollableInner,{label:h,header:f,contentContainerStyle:g,children:_}),e[18]=h,e[19]=f,e[20]=_,e[21]=y):y=e[21],y}function oF(e){const t=(0,n.c)(88),{serviceInfo:s,goToOwnHandle:o}=e,{_:a}=(0,dt.useLingui)(),[r,i]=(0,lt.useState)(""),l=(0,Gt.useAgent)(),c=Qs.useDialogContext(),{currentAccount:d}=(0,Gt.useSession)(),u=(0,On.useQueryClient)(),m=(0,Fd.useCurrentAccountProfile)();let h;t[0]!==m?(h={profile:m},t[0]=m,t[1]=h):h=t[1];const p=(0,Nu.useSimpleVerificationState)(h);let f;t[2]!==l||t[3]!==c||t[4]!==d||t[5]!==u?(f={onSuccess:()=>{d&&u.invalidateQueries({queryKey:(0,Ut.RQKEY)(d.did)}),l.resumeSession(l.session).then((()=>c.close()))}},t[2]=l,t[3]=c,t[4]=d,t[5]=u,t[6]=f):f=t[6];const{mutate:g,isPending:x,error:_,isSuccess:y}=fP(f),b=s.availableUserDomains[0];let j;t[7]!==b||t[8]!==r?(j=(0,Fa.validateServiceHandle)(r,b),t[7]=b,t[8]=r,t[9]=j):j=t[9];const v=j,S=!v.handleChars||!v.hyphenStartOrEnd||!v.totalLength;let w,T,k,C,I,A,P,E;t[10]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.flex_1,qs.atoms.gap_md],t[10]=w):w=t[10],t[11]!==a||t[12]!==y?(T=y&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(iF,{text:a({id:"1EXUCU"})})}),t[11]=a,t[12]=y,t[13]=T):T=t[13],t[14]!==_?(k=_&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(rF,{error:_})}),t[14]=_,t[15]=k):k=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(C=(0,qs.native)(yn.LinearTransition),I=[qs.atoms.flex_1,qs.atoms.gap_md],t[16]=C,t[17]=I):(C=t[16],I=t[17]),t[18]!==a||t[19]!==p.isVerified||t[20]!==p.role?(A=p.isVerified&&"default"===p.role&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"rtcGXC",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:a({id:"XCWG6Q"}),to:Vt.urls.website.blog.initialVerificationAnnouncement})}})}),t[18]=a,t[19]=p.isVerified,t[20]=p.role,t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"2uxKUz"})}),t[22]=P):P=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(mo.Icon,{icon:Vk}),t[23]=E):E=t[23];const L=!x;let R,B,D,O,M,F,N,H,V,z,U,W;t[24]===Symbol.for("react.memo_cache_sentinel")?(R=e=>i(e),t[24]=R):R=t[24],t[25]!==a?(B=a({id:"2uxKUz"}),t[25]=a,t[26]=B):B=t[26],t[27]!==a?(D=a({id:"YZJ/Ve"}),t[27]=a,t[28]=D):D=t[28],t[29]!==r||t[30]!==L||t[31]!==B||t[32]!==D?(O=(0,bt.jsx)(Qs.Input,{editable:L,defaultValue:r,onChangeText:R,label:B,placeholder:D,autoCapitalize:"none",autoCorrect:!1}),t[29]=r,t[30]=L,t[31]=B,t[32]=D,t[33]=O):O=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(M=[{maxWidth:"40%"}],t[34]=M):M=t[34],t[35]!==b?(F=(0,bt.jsx)(mo.SuffixText,{label:b,style:M,children:b}),t[35]=b,t[36]=F):F=t[36],t[37]!==S||t[38]!==O||t[39]!==F?(N=(0,bt.jsxs)(Fs.default,{children:[P,(0,bt.jsxs)(mo.Root,{isInvalid:S,children:[E,O,F]})]}),t[37]=S,t[38]=O,t[39]=F,t[40]=N):N=t[40],t[41]!==b||t[42]!==r?(H=(0,Fa.createFullHandle)(r,b),t[41]=b,t[42]=r,t[43]=H):H=t[43],t[44]!==H?(V={0:H},t[44]=H,t[45]=V):V=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(z={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold]})},t[46]=z):z=t[46],t[47]!==V?(U=(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"dZ3j0E",values:V,components:z})}),t[47]=V,t[48]=U):U=t[48],t[49]!==a?(W=a({id:"G6Ev2x"}),t[49]=a,t[50]=W):W=t[50];const G=v.overall?"primary":"secondary",q=!v.overall;let Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae;return t[51]!==g||t[52]!==b||t[53]!==r||t[54]!==v.overall?(Q=()=>{v.overall&&g({handle:(0,Fa.createFullHandle)(r,b)})},t[51]=g,t[52]=b,t[53]=r,t[54]=v.overall,t[55]=Q):Q=t[55],t[56]!==x?(K=x?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}):(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),t[56]=x,t[57]=K):K=t[57],t[58]!==W||t[59]!==G||t[60]!==q||t[61]!==Q||t[62]!==K?(Z=(0,bt.jsx)(ao.Button,{label:W,variant:"solid",size:"large",color:G,disabled:q,onPress:Q,children:K}),t[58]=W,t[59]=G,t[60]=q,t[61]=Q,t[62]=K,t[63]=Z):Z=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(Y=[qs.atoms.leading_snug],t[64]=Y):Y=t[64],t[65]!==a?($=a({id:"XCWG6Q"}),t[65]=a,t[66]=$):$=t[66],t[67]===Symbol.for("react.memo_cache_sentinel")?(X=[qs.atoms.font_semi_bold],t[67]=X):X=t[67],t[68]!==$?(J=(0,bt.jsx)(co.Text,{style:Y,children:(0,bt.jsx)(dt.Trans,{id:"U59W9N",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:$,to:"https://bsky.social/about/blog/4-28-2023-domain-handle-tutorial",style:X,disableMismatchWarning:!0})}})}),t[68]=$,t[69]=J):J=t[69],t[70]!==a?(ee=a({id:"wey2os"}),t[70]=a,t[71]=ee):ee=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(te=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"wey2os"})}),se=(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowRight_Stroke2_Corner0_Rounded,position:"right"}),t[72]=te,t[73]=se):(te=t[72],se=t[73]),t[74]!==o||t[75]!==ee?(oe=(0,bt.jsxs)(ao.Button,{label:ee,variant:"outline",color:"primary",size:"large",onPress:o,children:[te,se]}),t[74]=o,t[75]=ee,t[76]=oe):oe=t[76],t[77]!==N||t[78]!==U||t[79]!==Z||t[80]!==J||t[81]!==oe||t[82]!==A?(ne=(0,bt.jsxs)(yn.default.View,{layout:C,style:I,children:[A,N,U,Z,J,oe]}),t[77]=N,t[78]=U,t[79]=Z,t[80]=J,t[81]=oe,t[82]=A,t[83]=ne):ne=t[83],t[84]!==ne||t[85]!==T||t[86]!==k?(ae=(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,children:(0,bt.jsxs)(Fs.default,{style:w,children:[T,k,ne]})}),t[84]=ne,t[85]=T,t[86]=k,t[87]=ae):ae=t[87],ae}function nF(e){const t=(0,n.c)(117),{goToServiceHandle:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),{currentAccount:r}=(0,Gt.useSession)(),[i,l]=(0,lt.useState)(!0),[c,d]=(0,lt.useState)(""),u=(0,Gt.useAgent)(),m=Qs.useDialogContext(),h=function(){const e=(0,n.c)(3),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o=async e=>t.fetchQuery({staleTime:yt.STALE.INFINITY,queryKey:pP(e),queryFn:async()=>{let t=e;return t.startsWith("did:")||(t=(await s.resolveHandle({handle:t})).data.did),t}}),e[0]=s,e[1]=t,e[2]=o):o=e[2],o}(),p=(0,On.useQueryClient)();let f;t[0]!==u||t[1]!==m||t[2]!==r||t[3]!==p?(f={onSuccess:()=>{r&&p.invalidateQueries({queryKey:(0,Ut.RQKEY)(r.did)}),u.resumeSession(u.session).then((()=>m.close()))}},t[0]=u,t[1]=m,t[2]=r,t[3]=p,t[4]=f):f=t[4];const{mutate:g,isPending:x,error:_,isSuccess:y}=fP(f);let b,j,v;t[5]!==c?(b=["verify-handle",c],t[5]=c,t[6]=b):b=t[6],t[7]!==r?.did||t[8]!==c||t[9]!==h?(j=async()=>{const e=await h(c);if(e!==r?.did)throw new aF(e);return!0},t[7]=r?.did,t[8]=c,t[9]=h,t[10]=j):j=t[10],t[11]!==b||t[12]!==j?(v={mutationKey:b,mutationFn:j},t[11]=b,t[12]=j,t[13]=v):v=t[13];const{mutate:S,isPending:w,isSuccess:T,error:k,reset:C}=(0,go.useMutation)(v);let I,A,P,E,L,R,B,D,O,M;t[14]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.flex_1,qs.atoms.gap_lg],t[14]=I):I=t[14],t[15]!==o||t[16]!==y?(A=y&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(iF,{text:o({id:"1EXUCU"})})}),t[15]=o,t[16]=y,t[17]=A):A=t[17],t[18]!==_?(P=_&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(rF,{error:_})}),t[18]=_,t[19]=P):P=t[19],t[20]!==k?(E=k&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(no.Admonition,{type:"error",children:k instanceof aF?(0,bt.jsx)(dt.Trans,{id:"sxGRF8",values:{0:k.did}}):(0,bt.jsx)(dt.Trans,{id:"Tz7gtF"})})}),t[20]=k,t[21]=E):E=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(R=(0,qs.native)(yn.LinearTransition),L=[qs.atoms.flex_1,qs.atoms.gap_md,qs.atoms.overflow_hidden],t[22]=L,t[23]=R):(L=t[22],R=t[23]),t[24]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"BfIgP6"})}),t[24]=B):B=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(mo.Icon,{icon:Vk}),t[25]=D):D=t[25],t[26]!==o?(O=o({id:"2uxKUz"}),t[26]=o,t[27]=O):O=t[27],t[28]!==o?(M=o({id:"weTf5j"}),t[28]=o,t[29]=M):M=t[29];const F=!x;let N,H,V;t[30]!==C?(N=e=>{d(e),C()},t[30]=C,t[31]=N):N=t[31],t[32]!==c||t[33]!==O||t[34]!==M||t[35]!==F||t[36]!==N?(H=(0,bt.jsxs)(Fs.default,{children:[B,(0,bt.jsxs)(mo.Root,{children:[D,(0,bt.jsx)(Qs.Input,{label:O,placeholder:M,editable:F,defaultValue:c,onChangeText:N,autoCapitalize:"none",autoCorrect:!1})]})]}),t[32]=c,t[33]=O,t[34]=M,t[35]=F,t[36]=N,t[37]=H):H=t[37],t[38]!==o?(V=o({id:"qZx4IW"}),t[38]=o,t[39]=V):V=t[39];const z=i?"dns":"file";let U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se;t[40]===Symbol.for("react.memo_cache_sentinel")?(U=e=>l("dns"===e),t[40]=U):U=t[40],t[41]!==o?(W=o({id:"MAEhBJ"}),t[41]=o,t[42]=W):W=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(G=(0,bt.jsx)(Bf.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"MAEhBJ"})}),t[43]=G):G=t[43],t[44]!==W?(q=(0,bt.jsx)(Bf.Item,{value:"dns",label:W,children:G}),t[44]=W,t[45]=q):q=t[45],t[46]!==o?(Q=o({id:"CX2YJd"}),t[46]=o,t[47]=Q):Q=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(Bf.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"CX2YJd"})}),t[48]=K):K=t[48],t[49]!==Q?(Z=(0,bt.jsx)(Bf.Item,{value:"file",label:Q,children:K}),t[49]=Q,t[50]=Z):Z=t[50],t[51]!==V||t[52]!==z||t[53]!==q||t[54]!==Z?(Y=(0,bt.jsxs)(Bf.Root,{label:V,type:"tabs",value:z,onChange:U,children:[q,Z]}),t[51]=V,t[52]=z,t[53]=q,t[54]=Z,t[55]=Y):Y=t[55],t[56]!==o||t[57]!==r?.did||t[58]!==i||t[59]!==c||t[60]!==a.atoms.bg_contrast_25||t[61]!==a.atoms.border_contrast_low||t[62]!==a.atoms.text_contrast_medium?($=i?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"x6laaL"})}),(0,bt.jsxs)(Fs.default,{style:[a.atoms.bg_contrast_25,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.border,a.atoms.border_contrast_low],children:[(0,bt.jsx)(co.Text,{style:[a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"zwE9Td"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xs],children:(0,bt.jsxs)(eF,{color:"secondary",value:"_atproto",label:o({id:"YYVxgQ"}),style:[qs.atoms.bg_transparent],hoverStyle:[qs.atoms.bg_transparent],hitSlop:Vt.HITSLOP_10,children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.flex_1],children:"_atproto"}),(0,bt.jsx)(ao.ButtonIcon,{icon:XM})]})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.mt_xs,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"lMdXuD"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xs],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md],children:"TXT"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.mt_xs,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"1/40so"})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xs],children:(0,bt.jsxs)(eF,{color:"secondary",value:"did="+r?.did,label:o({id:"E07nyi"}),style:[qs.atoms.bg_transparent],hoverStyle:[qs.atoms.bg_transparent],hitSlop:Vt.HITSLOP_10,children:[(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md,qs.atoms.flex_1],children:["did=",r?.did]}),(0,bt.jsx)(ao.ButtonIcon,{icon:XM})]})})]}),(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"6bGciP"})}),(0,bt.jsx)(Fs.default,{style:[a.atoms.bg_contrast_25,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.border,a.atoms.border_contrast_low],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md],children:["_atproto.",c]})})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"Vwkfp4"})}),(0,bt.jsx)(Fs.default,{style:[a.atoms.bg_contrast_25,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.border,a.atoms.border_contrast_low],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md],children:["https://",c,"/.well-known/atproto-did"]})}),(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"uNxEzQ"})}),(0,bt.jsxs)(eF,{value:r?.did??"",label:o({id:"f56KS4"}),size:"large",shape:"rectangular",color:"secondary",style:[qs.atoms.px_md,qs.atoms.border,a.atoms.border_contrast_low,a.atoms.bg_contrast_25],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.flex_1],children:r?.did}),(0,bt.jsx)(ao.ButtonIcon,{icon:XM})]})]}),t[56]=o,t[57]=r?.did,t[58]=i,t[59]=c,t[60]=a.atoms.bg_contrast_25,t[61]=a.atoms.border_contrast_low,t[62]=a.atoms.text_contrast_medium,t[63]=$):$=t[63],t[64]!==H||t[65]!==Y||t[66]!==$?(X=(0,bt.jsxs)(yn.default.View,{layout:R,style:L,children:[H,Y,$]}),t[64]=H,t[65]=Y,t[66]=$,t[67]=X):X=t[67],t[68]!==o||t[69]!==T?(J=T&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,layout:(0,qs.native)(yn.LinearTransition),children:(0,bt.jsx)(iF,{text:o({id:"iZ5pMB"})})}),t[68]=o,t[69]=T,t[70]=J):J=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,qs.native)(yn.LinearTransition),t[71]=ee):ee=t[71],t[72]!==r?.handle?(te=r?.handle?.endsWith(".bsky.social")&&(0,bt.jsx)(no.Admonition,{type:"info",style:[qs.atoms.mb_md],children:(0,bt.jsx)(dt.Trans,{id:"rlC9XR",values:{0:(0,Fa.sanitizeHandle)(r?.handle||"","@")},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold]})}})}),t[72]=r?.handle,t[73]=te):te=t[73],t[74]!==o||t[75]!==i||t[76]!==c||t[77]!==T?(se=o(T?{id:"NFr2Bq",values:{domain:c}}:i?{id:"MPzp/2"}:{id:"ySvaBI"}),t[74]=o,t[75]=i,t[76]=c,t[77]=T,t[78]=se):se=t[78];const oe=0===c.trim().length;let ne,ae,re,ie,le,ce,de,ue,me,he,pe;return t[79]!==g||t[80]!==c||t[81]!==T||t[82]!==S?(ne=()=>{T?g({handle:c}):S()},t[79]=g,t[80]=c,t[81]=T,t[82]=S,t[83]=ne):ne=t[83],t[84]!==i||t[85]!==c||t[86]!==x||t[87]!==T||t[88]!==w?(ae=x||w?(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}):(0,bt.jsx)(ao.ButtonText,{children:T?(0,bt.jsx)(dt.Trans,{id:"NFr2Bq",values:{domain:c}}):i?(0,bt.jsx)(dt.Trans,{id:"MPzp/2"}):(0,bt.jsx)(dt.Trans,{id:"ySvaBI"})}),t[84]=i,t[85]=c,t[86]=x,t[87]=T,t[88]=w,t[89]=ae):ae=t[89],t[90]!==se||t[91]!==oe||t[92]!==ne||t[93]!==ae?(re=(0,bt.jsx)(ao.Button,{label:se,variant:"solid",size:"large",color:"primary",disabled:oe,onPress:ne,children:ae}),t[90]=se,t[91]=oe,t[92]=ne,t[93]=ae,t[94]=re):re=t[94],t[95]!==o?(ie=o({id:"CH1am9"}),t[95]=o,t[96]=ie):ie=t[96],t[97]!==o?(le=o({id:"wpAjsg"}),t[97]=o,t[98]=le):le=t[98],t[99]===Symbol.for("react.memo_cache_sentinel")?(ce=[qs.atoms.mt_sm],de=(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded,position:"left"}),t[99]=ce,t[100]=de):(ce=t[99],de=t[100]),t[101]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"KWVr7D"})}),t[101]=ue):ue=t[101],t[102]!==s||t[103]!==ie||t[104]!==le?(me=(0,bt.jsxs)(ao.Button,{label:ie,accessibilityHint:le,onPress:s,variant:"outline",color:"secondary",size:"large",style:ce,children:[de,ue]}),t[102]=s,t[103]=ie,t[104]=le,t[105]=me):me=t[105],t[106]!==te||t[107]!==re||t[108]!==me?(he=(0,bt.jsxs)(yn.default.View,{layout:ee,children:[te,re,me]}),t[106]=te,t[107]=re,t[108]=me,t[109]=he):he=t[109],t[110]!==X||t[111]!==J||t[112]!==he||t[113]!==A||t[114]!==P||t[115]!==E?(pe=(0,bt.jsxs)(Fs.default,{style:I,children:[A,P,E,X,J,he]}),t[110]=X,t[111]=J,t[112]=he,t[113]=A,t[114]=P,t[115]=E,t[116]=pe):pe=t[116],pe}class aF extends Error{constructor(e){super("DID mismatch"),this.name="DidMismatchError",this.did=e}}function rF(e){const t=(0,n.c)(14),{error:s}=e,{_:o}=(0,dt.useLingui)();let a;t[0]!==o?(a=o({id:"t9qHZ+"}),t[0]=o,t[1]=a):a=t[1];let r,i=a;if(s instanceof Error)if(s.message.startsWith("Handle already taken")){let e;t[2]!==o?(e=o({id:"2+OoLw"}),t[2]=o,t[3]=e):e=t[3],i=e}else if("Reserved handle"===s.message){let e;t[4]!==o?(e=o({id:"atHC5c"}),t[4]=o,t[5]=e):e=t[5],i=e}else if("Handle too long"===s.message){let e;t[6]!==o?(e=o({id:"kjWNi6"}),t[6]=o,t[7]=e):e=t[7],i=e}else if("Input/handle must be a valid handle"===s.message){let e;t[8]!==o?(e=o({id:"7eKeEy"}),t[8]=o,t[9]=e):e=t[9],i=e}else if("Rate Limit Exceeded"===s.message){let e;t[10]!==o?(e=o({id:"FxOKJM"}),t[10]=o,t[11]=e):e=t[11],i=e}return t[12]!==i?(r=(0,bt.jsx)(no.Admonition,{type:"error",children:i}),t[12]=i,t[13]=r):r=t[13],r}function iF(e){const t=(0,n.c)(18),{text:s}=e,{gtMobile:o}=(0,qs.useBreakpoints)(),a=(0,qs.useTheme)(),r=o?qs.atoms.px_md:qs.atoms.px_sm;let i,l,c,d,u,m,h,p;return t[0]!==a.atoms.border_contrast_low||t[1]!==r?(i=[qs.atoms.flex_1,qs.atoms.gap_md,qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.align_center,r,qs.atoms.py_xs,a.atoms.border_contrast_low],t[0]=a.atoms.border_contrast_low,t[1]=r,t[2]=i):i=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l={height:20,width:20},t[3]=l):l=t[3],t[4]!==a.palette.positive_500?(c=[l,qs.atoms.rounded_full,qs.atoms.align_center,qs.atoms.justify_center,{backgroundColor:a.palette.positive_500}],t[4]=a.palette.positive_500,t[5]=c):c=t[5],t[6]!==a.palette.white?(d=(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{fill:a.palette.white,size:"xs"}),t[6]=a.palette.white,t[7]=d):d=t[7],t[8]!==c||t[9]!==d?(u=(0,bt.jsx)(Fs.default,{style:c,children:d}),t[8]=c,t[9]=d,t[10]=u):u=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.text_md],t[11]=m):m=t[11],t[12]!==s?(h=(0,bt.jsx)(co.Text,{style:m,children:s}),t[12]=s,t[13]=h):h=t[13],t[14]!==i||t[15]!==u||t[16]!==h?(p=(0,bt.jsxs)(Fs.default,{style:i,children:[u,h]}),t[14]=i,t[15]=u,t[16]=h,t[17]=p):p=t[17],p}var lF=function(e){return e.RequestCode="RequestCode",e.ChangePassword="ChangePassword",e.Done="Done",e}(lF||{});function cF(e){const t=(0,n.c)(7),{control:s}=e,{height:o}=(0,Qr.default)(),a=o/2;let r,i,l,c;return t[0]!==a?(r=(0,qs.android)({minHeight:a}),t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Qs.Handle,{}),l=(0,bt.jsx)(dF,{}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]!==s||t[5]!==r?(c=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:r,children:[i,l]}),t[4]=s,t[5]=r,t[6]=c):c=t[6],c}function dF(){const{_:e}=(0,dt.useLingui)(),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)(),o=Qs.useDialogContext(),[n,a]=(0,lt.useState)(lF.RequestCode),[i,l]=(0,lt.useState)(!1),[c,d]=(0,lt.useState)(""),[u,m]=(0,lt.useState)(""),[h,p]=(0,lt.useState)(""),f={RequestCode:{title:e({id:"qRxXtM"}),message:e({id:"d4jjUi"})},ChangePassword:{title:e({id:"lPgKS3"}),message:e({id:"Losuew"})},Done:{title:e({id:"zJx6Vx"}),message:e({id:"Q/GqNS"})}};return(0,bt.jsxs)(Qs.ScrollableInner,{label:e({id:"xhP5JZ"}),style:(0,qs.web)({maxWidth:400}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xl],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold,qs.atoms.text_2xl],children:f[n].title}),h?(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_sm,qs.atoms.overflow_hidden],children:(0,bt.jsx)(Dy.ErrorMessage,{message:h})}):null,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:f[n].message})]}),n===lF.ChangePassword&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ioZOzk"})}),(0,bt.jsx)(mo.Root,{children:(0,bt.jsx)(mo.Input,{label:e({id:"ioZOzk"}),placeholder:"XXXXX-XXXXX",value:c,onChangeText:d,onBlur:()=>{const e=$k(c);e&&d(e)},autoCapitalize:"none",autoCorrect:!1,autoComplete:"one-time-code"})})]}),(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"/nT6AE"})}),(0,bt.jsx)(mo.Root,{children:(0,bt.jsx)(mo.Input,{label:e({id:"/nT6AE"}),placeholder:e({id:"bU39dx"}),value:u,onChangeText:m,secureTextEntry:!0,autoCapitalize:"none",autoComplete:"new-password",passwordRules:"minlength: 8;"})})]})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.gap_sm],children:n===lF.RequestCode?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(ao.Button,{label:e({id:"2gGvBs"}),color:"primary",size:"large",disabled:i,onPress:async()=>{if(!t?.email||!Co.validate(t.email))return p(e({id:"tBpzKB"}));p(""),l(!0);try{await s.com.atproto.server.requestPasswordReset({email:t.email}),a(lF.ChangePassword)}catch(o){(0,Tn.isNetworkError)(o)?p(e({id:"iKk7y/"})):(Mt.logger.error("Failed to request password reset",{safeMessage:o}),p((0,Tn.cleanError)(o)))}finally{l(!1)}},children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"2gGvBs"})}),i&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(ao.Button,{label:e({id:"FTT4a4"}),onPress:()=>a(lF.ChangePassword),size:"large",color:"primary_subtle",disabled:i,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"FTT4a4"})})}),r.IS_NATIVE&&(0,bt.jsx)(ao.Button,{label:e({id:"dEgA5A"}),color:"secondary",size:"large",disabled:i,onPress:()=>o.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})})]}):n===lF.ChangePassword?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(ao.Button,{label:e({id:"GptGxg"}),color:"primary",size:"large",disabled:i,onPress:async()=>{const t=$k(c);if(t)if(u)if(u.length<8)p(e({id:"Kv2KMJ"}));else{p(""),l(!0);try{await s.com.atproto.server.resetPassword({token:t,password:u}),a(lF.Done)}catch(o){(0,Tn.isNetworkError)(o)?p(e({id:"iKk7y/"})):o?.toString().includes("Token is invalid")?p(e({id:"SaQF5C"})):(Mt.logger.error("Failed to set new password",{safeMessage:o}),p((0,Tn.cleanError)(o)))}finally{l(!1)}}else p(e({id:"PmYr1Y"}));else p(e({id:"svKSj/"}))},children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"GptGxg"})}),i&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(ao.Button,{label:e({id:"iH8pgl"}),color:"secondary",size:"large",disabled:i,onPress:()=>{d(""),a(lF.RequestCode)},children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})})})]}):n===lF.Done?(0,bt.jsx)(ao.Button,{label:e({id:"yz7wBu"}),color:"primary",size:"large",onPress:()=>o.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})}):null})]}),(0,bt.jsx)(Qs.Close,{})]})}function uF(e){const t=(0,n.c)(5),{control:s}=e;let o,a;return t[0]!==s?(o=(0,bt.jsx)(mF,{control:s}),t[0]=s,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(a=(0,bt.jsx)(Zi.Outer,{control:s,children:o}),t[2]=s,t[3]=o,t[4]=a):a=t[4],a}function mF({control:e}){const t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),o=(0,Gt.useAgent)(),{logoutCurrentAccount:n}=(0,Gt.useSessionApi)(),[a,r]=lt.useState(!1),[i,l]=lt.useState(),c=lt.useCallback((async()=>{try{r(!0),await o.com.atproto.server.deactivateAccount({}),e.close((()=>{n("Deactivated")}))}catch(t){if("Bad token scope"===t.message)l(s({id:"W8A0aT"}));else l(s({id:"qny5F6"}));Mt.logger.error(t,{message:"Failed to deactivate account"})}finally{r(!1)}}),[o,e,n,s,r]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Zi.TitleText,{children:s({id:"bm0hju"})}),(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"jPKBV3"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_xl],children:[(0,bt.jsx)(yo,{}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.pt_lg,qs.atoms.pb_xl],children:[(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"tXaf8O"})}),(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"pDHYg7"})})]}),(0,bt.jsx)(yo,{})]}),(0,bt.jsxs)(Zi.Actions,{children:[(0,bt.jsxs)(ao.Button,{color:"negative",size:"large",label:s({id:"nnfo5S"}),onPress:c,children:[(0,bt.jsx)(ao.ButtonText,{children:s({id:"nnfo5S"})}),a&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader,position:"right"})]}),(0,bt.jsx)(Zi.Cancel,{})]}),i&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.mt_md,qs.atoms.p_md,qs.atoms.rounded_sm,t.atoms.bg_contrast_25],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"md",fill:t.palette.negative_400}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.leading_snug],children:i})]})]})}const hF=(0,ti.createSinglePathSVG)({path:"M12 3a1 1 0 0 1 1 1v8.086l1.793-1.793a1 1 0 1 1 1.414 1.414l-3.5 3.5a1 1 0 0 1-1.414 0l-3.5-3.5a1 1 0 1 1 1.414-1.414L11 12.086V4a1 1 0 0 1 1-1ZM4 14a1 1 0 0 1 1 1v4h14v-4a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1Z"});function pF({control:e}){const{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),o=(0,Gt.useAgent)(),[n,a]=(0,lt.useState)(!1),r=(0,lt.useCallback)((async()=>{if(o.session)try{a(!0);const e=o.session.did,s=await o.com.atproto.sync.getRepo({did:e});await(0,Oy.saveBytesToDisk)("repo.car",s.data,s.headers["content-type"]||"application/vnd.ipld.car")&&Pd.show(t({id:"MCqxGN"}))}catch(s){Mt.logger.error("Error occurred while downloading CAR file",{message:s}),Pd.show(t({id:"OkfWor"}),{type:"error"})}finally{a(!1),e.close()}}),[t,e,o]);return(0,bt.jsxs)(Qs.Outer,{control:e,nativeOptions:{preventExpansion:!0},children:[(0,bt.jsx)(Qs.Handle,{}),(0,bt.jsxs)(Qs.ScrollableInner,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",style:(0,qs.web)({maxWidth:500}),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.gap_lg,qs.atoms.w_full],children:[(0,bt.jsx)(co.Text,{nativeID:"dialog-title",style:[qs.atoms.text_2xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"+4XIMb"})}),(0,bt.jsx)(co.Text,{nativeID:"dialog-description",style:[qs.atoms.text_sm,qs.atoms.leading_snug,s.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"qh/7le"})}),(0,bt.jsxs)(ao.Button,{color:"primary",size:"large",label:t({id:"GMXFIB"}),disabled:n,onPress:r,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:hF}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"GMXFIB"})}),n&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(co.Text,{style:[s.atoms.text_contrast_medium,qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"DgGFfG",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:t({id:"wVd4pI"}),to:"https://docs.bsky.app/blog/repo-export",style:[qs.atoms.text_sm]})}})})]}),(0,bt.jsx)(Qs.Close,{})]})]})}function fF(e){const t=(0,n.c)(116),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),{currentAccount:a}=(0,Gt.useSession)(),{openModal:r}=(0,is.useModalControls)(),i=Ho(),l=(0,Qs.useDialogControl)(),c=(0,Qs.useDialogControl)(),d=(0,Qs.useDialogControl)(),u=(0,Qs.useDialogControl)(),m=(0,Qs.useDialogControl)();let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe;return t[0]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=h):h=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsxs)(ya.Header.Outer,{children:[h,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"AeXO77"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=p):p=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(BB.ItemIcon,{icon:bo.Envelope_Stroke2_Corner2_Rounded}),t[2]=f):f=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(BB.ItemText,{style:[qs.atoms.flex_0],children:(0,bt.jsx)(dt.Trans,{id:"O3oNi5"})}),t[3]=g):g=t[3],t[4]!==a||t[5]!==s?(x=a&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.BadgeText,{style:[qs.atoms.flex_1],children:a.email||(0,bt.jsx)(dt.Trans,{id:"L3PXBq"})}),a.emailConfirmed&&(0,bt.jsx)(ho.ShieldCheck_Stroke2_Corner0_Rounded,{fill:s.palette.primary_500,size:"md"})]}),t[4]=a,t[5]=s,t[6]=x):x=t[6],t[7]!==x?(_=(0,bt.jsxs)(BB.Item,{children:[f,g,x]}),t[7]=x,t[8]=_):_=t[8],t[9]!==o||t[10]!==a||t[11]!==i||t[12]!==s?(y=a&&!a.emailConfirmed&&(0,bt.jsxs)(BB.PressableItem,{label:o({id:"/IBv6X"}),onPress:()=>i.open({id:To.Verify}),style:[qs.atoms.my_xs,qs.atoms.mx_lg,qs.atoms.rounded_md,{backgroundColor:s.palette.primary_50}],hoverStyle:[{backgroundColor:s.palette.primary_100}],contentContainerStyle:[qs.atoms.rounded_md,qs.atoms.px_lg],children:[(0,bt.jsx)(BB.ItemIcon,{icon:ho.ShieldCheck_Stroke2_Corner0_Rounded,color:s.palette.primary_500}),(0,bt.jsx)(BB.ItemText,{style:[{color:s.palette.primary_500},qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"/IBv6X"})}),(0,bt.jsx)(BB.Chevron,{color:s.palette.primary_500})]}),t[9]=o,t[10]=a,t[11]=i,t[12]=s,t[13]=y):y=t[13],t[14]!==o?(b=o({id:"F3cQW2"}),t[14]=o,t[15]=b):b=t[15],t[16]!==i?(j=()=>i.open({id:To.Update}),t[16]=i,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(BB.ItemIcon,{icon:Nk}),t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"F3cQW2"})}),w=(0,bt.jsx)(BB.Chevron,{}),t[19]=S,t[20]=w):(S=t[19],w=t[20]),t[21]!==b||t[22]!==j?(T=(0,bt.jsxs)(BB.PressableItem,{label:b,onPress:j,children:[v,S,w]}),t[21]=b,t[22]=j,t[23]=T):T=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(BB.Divider,{}),t[24]=k):k=t[24],t[25]!==o?(C=o({id:"8ZsakT"}),t[25]=o,t[26]=C):C=t[26],t[27]!==d?(I=()=>d.open(),t[27]=d,t[28]=I):I=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(BB.ItemIcon,{icon:mw}),t[29]=A):A=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"8ZsakT"})}),E=(0,bt.jsx)(BB.Chevron,{}),t[30]=P,t[31]=E):(P=t[30],E=t[31]),t[32]!==C||t[33]!==I?(L=(0,bt.jsxs)(BB.PressableItem,{label:C,onPress:I,children:[A,P,E]}),t[32]=C,t[33]=I,t[34]=L):L=t[34],t[35]!==o?(R=o({id:"Nf7oXL"}),t[35]=o,t[36]=R):R=t[36],t[37]!==o?(B=o({id:"MTOy00"}),t[37]=o,t[38]=B):B=t[38],t[39]!==c?(D=()=>c.open(),t[39]=c,t[40]=D):D=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(BB.ItemIcon,{icon:zk}),t[41]=O):O=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Nf7oXL"})}),F=(0,bt.jsx)(BB.Chevron,{}),t[42]=M,t[43]=F):(M=t[42],F=t[43]),t[44]!==R||t[45]!==B||t[46]!==D?(N=(0,bt.jsxs)(BB.PressableItem,{label:R,accessibilityHint:B,onPress:D,children:[O,M,F]}),t[44]=R,t[45]=B,t[46]=D,t[47]=N):N=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(BB.ItemIcon,{icon:ZM.BirthdayCake_Stroke2_Corner2_Rounded}),t[48]=H):H=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(V=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"+gCI2a"})}),t[49]=V):V=t[49],t[50]!==o?(z=o({id:"ePK91l"}),t[50]=o,t[51]=z):z=t[51],t[52]!==l?(U=()=>l.open(),t[52]=l,t[53]=U):U=t[53],t[54]!==z||t[55]!==U?(W=(0,bt.jsxs)(BB.Item,{children:[H,V,(0,bt.jsx)(BB.BadgeButton,{label:z,onPress:U})]}),t[54]=z,t[55]=U,t[56]=W):W=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(G=(0,bt.jsx)(GM,{style:[qs.atoms.px_xl,qs.atoms.pt_xs,qs.atoms.pb_md]}),q=(0,bt.jsx)(BB.Divider,{}),t[57]=G,t[58]=q):(G=t[57],q=t[58]),t[59]!==o?(Q=o({id:"ut4/No"}),t[59]=o,t[60]=Q):Q=t[60],t[61]!==u?(K=()=>u.open(),t[61]=u,t[62]=K):K=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,bt.jsx)(BB.ItemIcon,{icon:YM}),t[63]=Z):Z=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ut4/No"})}),$=(0,bt.jsx)(BB.Chevron,{}),t[64]=Y,t[65]=$):(Y=t[64],$=t[65]),t[66]!==Q||t[67]!==K?(X=(0,bt.jsxs)(BB.PressableItem,{label:Q,onPress:K,children:[Z,Y,$]}),t[66]=Q,t[67]=K,t[68]=X):X=t[68],t[69]!==o?(J=o({id:"bm0hju"}),t[69]=o,t[70]=J):J=t[70],t[71]!==m?(ee=()=>m.open(),t[71]=m,t[72]=ee):ee=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(te=(0,bt.jsx)(BB.ItemIcon,{icon:$M}),t[73]=te):te=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(se=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"bm0hju"})}),oe=(0,bt.jsx)(BB.Chevron,{}),t[74]=se,t[75]=oe):(se=t[74],oe=t[75]),t[76]!==J||t[77]!==ee?(ne=(0,bt.jsxs)(BB.PressableItem,{label:J,onPress:ee,destructive:!0,children:[te,se,oe]}),t[76]=J,t[77]=ee,t[78]=ne):ne=t[78],t[79]!==o?(ae=o({id:"ZDGm40"}),t[79]=o,t[80]=ae):ae=t[80],t[81]!==r?(re=()=>r({name:"delete-account"}),t[81]=r,t[82]=re):re=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,bt.jsx)(BB.ItemIcon,{icon:ml.Trash_Stroke2_Corner2_Rounded}),t[83]=ie):ie=t[83],t[84]===Symbol.for("react.memo_cache_sentinel")?(le=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ZDGm40"})}),ce=(0,bt.jsx)(BB.Chevron,{}),t[84]=le,t[85]=ce):(le=t[84],ce=t[85]),t[86]!==ae||t[87]!==re?(de=(0,bt.jsxs)(BB.PressableItem,{label:ae,onPress:re,destructive:!0,children:[ie,le,ce]}),t[86]=ae,t[87]=re,t[88]=de):de=t[88],t[89]!==T||t[90]!==L||t[91]!==N||t[92]!==W||t[93]!==X||t[94]!==ne||t[95]!==de||t[96]!==_||t[97]!==y?(ue=(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[_,y,T,k,L,N,W,G,q,X,ne,de]})}),t[89]=T,t[90]=L,t[91]=N,t[92]=W,t[93]=X,t[94]=ne,t[95]=de,t[96]=_,t[97]=y,t[98]=ue):ue=t[98],t[99]!==l?(me=(0,bt.jsx)(QM,{control:l}),t[99]=l,t[100]=me):me=t[100],t[101]!==c?(he=(0,bt.jsx)(tF,{control:c}),t[101]=c,t[102]=he):he=t[102],t[103]!==d?(pe=(0,bt.jsx)(cF,{control:d}),t[103]=d,t[104]=pe):pe=t[104],t[105]!==u?(fe=(0,bt.jsx)(pF,{control:u}),t[105]=u,t[106]=fe):fe=t[106],t[107]!==m?(ge=(0,bt.jsx)(uF,{control:m}),t[107]=m,t[108]=ge):ge=t[108],t[109]!==ue||t[110]!==me||t[111]!==he||t[112]!==pe||t[113]!==fe||t[114]!==ge?(xe=(0,bt.jsxs)(ya.Screen,{children:[p,ue,me,he,pe,fe,ge]}),t[109]=ue,t[110]=me,t[111]=he,t[112]=pe,t[113]=fe,t[114]=ge,t[115]=xe):xe=t[115],xe}function gF(e){const t=(0,n.c)(15),{titleText:s,subtitleText:o,bold:a,showSkeleton:r}=e,i=void 0!==a&&a,l=void 0!==r&&r,c=(0,qs.useTheme)(),d=i?qs.atoms.gap_xs:qs.atoms.gap_2xs;let u,m,h,p,f;return t[0]!==d?(u=[qs.atoms.flex_1,d],t[0]=d,t[1]=u):u=t[1],t[2]!==i?(m=i&&[qs.atoms.font_semi_bold,qs.atoms.text_lg],t[2]=i,t[3]=m):m=t[3],t[4]!==m||t[5]!==s?(h=(0,bt.jsx)(BB.ItemText,{style:m,children:s}),t[4]=m,t[5]=s,t[6]=h):h=t[6],t[7]!==l||t[8]!==o||t[9]!==c?(p=l?(0,bt.jsx)(Ip,{style:[qs.atoms.text_sm,{width:120}]}):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,c.atoms.text_contrast_medium,qs.atoms.leading_snug],children:o}),t[7]=l,t[8]=o,t[9]=c,t[10]=p):p=t[10],t[11]!==u||t[12]!==h||t[13]!==p?(f=(0,bt.jsxs)(Fs.default,{style:u,children:[h,p]}),t[11]=u,t[12]=h,t[13]=p,t[14]=f):f=t[14],f}function xF(e){const t=(0,n.c)(10),{data:s,isPending:o,isError:a}=(0,hy.useNotificationDeclarationQuery)();let r,i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsxs)(ya.Header.Outer,{children:[r,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"RyQRel"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=i):i=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.align_start],c=(0,bt.jsx)(BB.ItemIcon,{icon:ey.BellRinging_Stroke2_Corner0_Rounded}),t[2]=l,t[3]=c):(l=t[2],c=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsxs)(BB.Item,{style:l,children:[c,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"usU9El"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"dEEi0r"})})]}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.px_xl,qs.atoms.pt_md],t[5]=u):u=t[5],t[6]!==a||t[7]!==o||t[8]!==s?(m=(0,bt.jsxs)(ya.Screen,{children:[i,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[d,(0,bt.jsx)(Fs.default,{style:u,children:a?(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"YYE8sa"})}):o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_5xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):(0,bt.jsx)(_F,{notificationDeclaration:s})})]})})]}),t[6]=a,t[7]=o,t[8]=s,t[9]=m):m=t[9],m}function _F(e){const t=(0,n.c)(52),{notificationDeclaration:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{mutate:r}=(0,hy.useNotificationDeclarationMutation)();let i;t[0]!==r?(i=e=>{const[t]=e;r({$type:"app.bsky.notification.declaration",allowSubscriptions:t})},t[0]=r,t[1]=i):i=t[1];const l=i;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B;return t[2]!==a?(c=a({id:"n9LYK5"}),t[2]=a,t[3]=c):c=t[3],t[4]!==s.value.allowSubscriptions?(d=[s.value.allowSubscriptions],t[4]=s.value.allowSubscriptions,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.gap_sm],t[6]=u):u=t[6],t[7]!==a?(m=a({id:"Nvju1p"}),t[7]=a,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_row,qs.atoms.py_xs,qs.atoms.gap_sm],p=(0,bt.jsx)(af.Radio,{}),t[9]=h,t[10]=p):(h=t[9],p=t[10]),t[11]!==o.atoms.text?(f=[o.atoms.text,qs.atoms.font_normal,qs.atoms.text_md],t[11]=o.atoms.text,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(dt.Trans,{id:"Nvju1p"}),t[13]=g):g=t[13],t[14]!==f?(x=(0,bt.jsx)(af.LabelText,{style:f,children:g}),t[14]=f,t[15]=x):x=t[15],t[16]!==x||t[17]!==m?(_=(0,bt.jsxs)(af.Item,{label:m,name:"followers",style:h,children:[p,x]}),t[16]=x,t[17]=m,t[18]=_):_=t[18],t[19]!==a?(y=a({id:"KotIA5"}),t[19]=a,t[20]=y):y=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_row,qs.atoms.py_xs,qs.atoms.gap_sm],j=(0,bt.jsx)(af.Radio,{}),t[21]=b,t[22]=j):(b=t[21],j=t[22]),t[23]!==o.atoms.text?(v=[o.atoms.text,qs.atoms.font_normal,qs.atoms.text_md],t[23]=o.atoms.text,t[24]=v):v=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(dt.Trans,{id:"KotIA5"}),t[25]=S):S=t[25],t[26]!==v?(w=(0,bt.jsx)(af.LabelText,{style:v,children:S}),t[26]=v,t[27]=w):w=t[27],t[28]!==y||t[29]!==w?(T=(0,bt.jsxs)(af.Item,{label:y,name:"mutuals",style:b,children:[j,w]}),t[28]=y,t[29]=w,t[30]=T):T=t[30],t[31]!==a?(k=a({id:"BpgSik"}),t[31]=a,t[32]=k):k=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.flex_row,qs.atoms.py_xs,qs.atoms.gap_sm],I=(0,bt.jsx)(af.Radio,{}),t[33]=C,t[34]=I):(C=t[33],I=t[34]),t[35]!==o.atoms.text?(A=[o.atoms.text,qs.atoms.font_normal,qs.atoms.text_md],t[35]=o.atoms.text,t[36]=A):A=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(dt.Trans,{id:"BpgSik"}),t[37]=P):P=t[37],t[38]!==A?(E=(0,bt.jsx)(af.LabelText,{style:A,children:P}),t[38]=A,t[39]=E):E=t[39],t[40]!==k||t[41]!==E?(L=(0,bt.jsxs)(af.Item,{label:k,name:"none",style:C,children:[I,E]}),t[40]=k,t[41]=E,t[42]=L):L=t[42],t[43]!==_||t[44]!==T||t[45]!==L?(R=(0,bt.jsxs)(Fs.default,{style:u,children:[_,T,L]}),t[43]=_,t[44]=T,t[45]=L,t[46]=R):R=t[46],t[47]!==l||t[48]!==c||t[49]!==R||t[50]!==d?(B=(0,bt.jsx)(af.Group,{type:"radio",label:c,values:d,onChange:l,children:R}),t[47]=l,t[48]=c,t[49]=R,t[50]=d,t[51]=B):B=t[51],B}function yF(){}const bF=(0,ti.createSinglePathSVG)({path:"M12.097 2.53a1 1 0 0 1-.041 1.07 6 6 0 0 0 8.345 8.344 1 1 0 0 1 1.563.908c-.434 5.122-4.728 9.144-9.962 9.144-5.522 0-9.998-4.476-9.998-9.998 0-5.234 4.021-9.528 9.144-9.962a1 1 0 0 1 .949.494ZM9.424 4.424a7.998 7.998 0 1 0 10.152 10.152A8 8 0 0 1 9.424 4.424Z"}),jF=(0,ti.createSinglePathSVG)({path:"M5 4a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V4Zm3-1a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H8Zm2 2a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}),vF=((0,ti.createSinglePathSVG)({path:"M16 6a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V6ZM2.87 7.225a1 1 0 0 1 1.337 1.482L3.155 9.759a.546.546 0 0 0-.05.714l.119.173c.52.827.52 1.88 0 2.707l-.12.174a.546.546 0 0 0 .051.714l1.052 1.052.069.076a1 1 0 0 1-1.407 1.406l-.076-.068-1.052-1.052a2.55 2.55 0 0 1-.237-3.328l.048-.075a.55.55 0 0 0 0-.504l-.048-.075a2.55 2.55 0 0 1 .237-3.328l1.052-1.052.076-.068Zm16.923.068a1 1 0 0 1 1.338-.068l.076.068 1.052 1.052.16.174c.696.837.78 2.03.209 2.958l-.133.196a.55.55 0 0 0 0 .654l.133.196a2.55 2.55 0 0 1-.21 2.958l-.16.174-1.05 1.052a1 1 0 1 1-1.415-1.414l1.052-1.052.064-.077a.55.55 0 0 0 .04-.552l-.053-.085a2.545 2.545 0 0 1 0-3.054l.052-.085a.55.55 0 0 0-.039-.552l-.064-.077-1.052-1.052-.068-.076a1 1 0 0 1 .068-1.338ZM13 6l.103.005a1 1 0 0 1 0 1.99L13 8h-2a1 1 0 1 1 0-2h2Zm5 12a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12Z"}),(0,ti.createSinglePathSVG)({path:"M9 5a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2h-5v14a1 1 0 1 1-2 0V6h-5a1 1 0 0 1-1-1Zm-3.073 7v8a1 1 0 1 0 2 0v-8H12a1 1 0 1 0 0-2H6.971a1.015 1.015 0 0 0-.089 0H2a1 1 0 1 0 0 2h3.927Z"})),SF=(0,ti.createSinglePathSVG)({path:"M3.65 17.247c-.242.832-.632 1.178-1.325 1.178-.814 0-1.325-.476-1.325-1.23 0-.216.06-.51.173-.831L4.586 7.07c.364-1.014.979-1.482 1.966-1.482 1.022 0 1.629.45 2.001 1.473l3.43 9.303c.121.337.165.571.165.831 0 .72-.546 1.23-1.308 1.23-.736 0-1.126-.338-1.36-1.152l-.658-1.975H4.309l-.658 1.95ZM6.5 8.152l-1.62 5.12h3.335l-1.654-5.12H6.5Zm13.005 8.688c-.52.988-1.68 1.568-2.84 1.568-1.768 0-3.11-1.144-3.11-2.815 0-1.69 1.299-2.668 3.62-2.807l2.34-.138v-.615c0-.867-.607-1.369-1.56-1.369-.771 0-1.239.251-1.802.979-.277.312-.597.468-1.004.468-.615 0-1.057-.399-1.057-.97 0-.2.043-.382.13-.572.433-1.109 1.923-1.793 3.845-1.793 2.383 0 3.933 1.23 3.933 3.1v5.293c0 .84-.511 1.273-1.23 1.273-.684 0-1.16-.38-1.213-1.126v-.476h-.052Zm-3.43-1.386c0 .693.572 1.126 1.42 1.126 1.11 0 2.02-.719 2.02-1.723v-.676l-1.959.121c-.944.07-1.48.494-1.48 1.152Z"});function wF(e){const t=(0,n.c)(92),{_:s}=(0,dt.useLingui)(),{fonts:o}=(0,qs.useAlf)(),{colorMode:a,darkTheme:i}=(0,hs.useThemePrefs)(),{setColorMode:l,setDarkTheme:c}=(0,hs.useSetThemePrefs)();let d;t[0]!==l?(d=e=>{l(e)},t[0]=l,t[1]=d):d=t[1];const u=d;let m;t[2]!==c?(m=e=>{c(e)},t[2]=c,t[3]=m):m=t[3];const h=m;let p;t[4]!==o?(p=e=>{o.setFontFamily(e)},t[4]=o,t[5]=p):p=t[5];const f=p;let g;t[6]!==o?(g=e=>{o.setFontScale(e)},t[6]=o,t[7]=g):g=t[7];const x=g;let _,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$;return t[8]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(ya.Header.BackButton,{}),t[8]=_):_=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsxs)(ya.Header.Outer,{children:[_,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"aAIQg2"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[9]=y):y=t[9],t[10]!==s?(b=s({id:"YDWhuY"}),t[10]=s,t[11]=b):b=t[11],t[12]!==s?(j=s({id:"D+NlUC"}),t[12]=s,t[13]=j):j=t[13],t[14]!==j?(v={label:j,name:"system"},t[14]=j,t[15]=v):v=t[15],t[16]!==s?(S=s({id:"1njn7W"}),t[16]=s,t[17]=S):S=t[17],t[18]!==S?(w={label:S,name:"light"},t[18]=S,t[19]=w):w=t[19],t[20]!==s?(T=s({id:"pvnfJD"}),t[20]=s,t[21]=T):T=t[21],t[22]!==T?(k={label:T,name:"dark"},t[22]=T,t[23]=k):k=t[23],t[24]!==w||t[25]!==k||t[26]!==v?(C=[v,w,k],t[24]=w,t[25]=k,t[26]=v,t[27]=C):C=t[27],t[28]!==a||t[29]!==u||t[30]!==C||t[31]!==b?(I=(0,bt.jsx)(TF,{title:b,icon:jF,items:C,value:a,onChange:u}),t[28]=a,t[29]=u,t[30]=C,t[31]=b,t[32]=I):I=t[32],t[33]!==s||t[34]!==a||t[35]!==i||t[36]!==h?(A="light"!==a&&(0,bt.jsx)(yn.default.View,{entering:(0,qs.native)(yn.FadeInUp),exiting:(0,qs.native)(yn.FadeOutUp),children:(0,bt.jsx)(TF,{title:s({id:"GtpQwI"}),icon:bF,items:[{label:s({id:"DwvMe2"}),name:"dim"},{label:s({id:"pvnfJD"}),name:"dark"}],value:i??"dim",onChange:h})}),t[33]=s,t[34]=a,t[35]=i,t[36]=h,t[37]=A):A=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(P=(0,qs.native)(yn.LinearTransition),E=(0,bt.jsx)(BB.Divider,{}),t[38]=P,t[39]=E):(P=t[38],E=t[39]),t[40]!==s?(L=s({id:"5Cj9Ws"}),t[40]=s,t[41]=L):L=t[41],t[42]!==s?(R=s({id:"PBstcX"}),t[42]=s,t[43]=R):R=t[43],t[44]!==s?(B=s({id:"D+NlUC"}),t[44]=s,t[45]=B):B=t[45],t[46]!==B?(D={label:B,name:"system"},t[46]=B,t[47]=D):D=t[47],t[48]!==s?(O=s({id:"FEr96N"}),t[48]=s,t[49]=O):O=t[49],t[50]!==O?(M={label:O,name:"theme"},t[50]=O,t[51]=M):M=t[51],t[52]!==D||t[53]!==M?(F=[D,M],t[52]=D,t[53]=M,t[54]=F):F=t[54],t[55]!==o.family||t[56]!==f||t[57]!==L||t[58]!==R||t[59]!==F?(N=(0,bt.jsx)(TF,{title:L,description:R,icon:SF,items:F,value:o.family,onChange:f}),t[55]=o.family,t[56]=f,t[57]=L,t[58]=R,t[59]=F,t[60]=N):N=t[60],t[61]!==s?(H=s({id:"q3il6U"}),t[61]=s,t[62]=H):H=t[62],t[63]!==s?(V=s({id:"OueVS2"}),t[63]=s,t[64]=V):V=t[64],t[65]!==V?(z={label:V,name:"-1"},t[65]=V,t[66]=z):z=t[66],t[67]!==s?(U=s({id:"ovBPCi"}),t[67]=s,t[68]=U):U=t[68],t[69]!==U?(W={label:U,name:"0"},t[69]=U,t[70]=W):W=t[70],t[71]!==s?(G=s({id:"ke14uo"}),t[71]=s,t[72]=G):G=t[72],t[73]!==G?(q={label:G,name:"1"},t[73]=G,t[74]=q):q=t[74],t[75]!==z||t[76]!==W||t[77]!==q?(Q=[z,W,q],t[75]=z,t[76]=W,t[77]=q,t[78]=Q):Q=t[78],t[79]!==o.scale||t[80]!==x||t[81]!==H||t[82]!==Q?(K=(0,bt.jsx)(TF,{title:H,icon:vF,items:Q,value:o.scale,onChange:x}),t[79]=o.scale,t[80]=x,t[81]=H,t[82]=Q,t[83]=K):K=t[83],t[84]===Symbol.for("react.memo_cache_sentinel")?(Z=r.IS_NATIVE&&r.IS_INTERNAL&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),(0,bt.jsx)(yF,{})]}),t[84]=Z):Z=t[84],t[85]!==N||t[86]!==K?(Y=(0,bt.jsxs)(yn.default.View,{layout:P,children:[E,N,K,Z]}),t[85]=N,t[86]=K,t[87]=Y):Y=t[87],t[88]!==I||t[89]!==A||t[90]!==Y?($=(0,bt.jsx)(yn.LayoutAnimationConfig,{skipExiting:!0,skipEntering:!0,children:(0,bt.jsxs)(ya.Screen,{testID:"preferencesThreadsScreen",children:[y,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[I,A,Y]})})]})}),t[88]=I,t[89]=A,t[90]=Y,t[91]=$):$=t[91],$}function TF(e){const t=(0,n.c)(20),{title:s,description:o,icon:a,items:r,value:i,onChange:l}=e,c=(0,qs.useTheme)();let d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.gap_sm],t[0]=d):d=t[0],t[1]!==a?(u=(0,bt.jsx)(BB.ItemIcon,{icon:a}),t[1]=a,t[2]=u):u=t[2],t[3]!==s?(m=(0,bt.jsx)(BB.ItemText,{children:s}),t[3]=s,t[4]=m):m=t[4],t[5]!==o||t[6]!==c?(h=o&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,c.atoms.text_contrast_medium,qs.atoms.w_full],children:o}),t[5]=o,t[6]=c,t[7]=h):h=t[7],t[8]!==r?(p=r.map(kF),t[8]=r,t[9]=p):p=t[9],t[10]!==l||t[11]!==p||t[12]!==s||t[13]!==i?(f=(0,bt.jsx)(Bf.Root,{type:"radio",label:s,value:i,onChange:l,children:p}),t[10]=l,t[11]=p,t[12]=s,t[13]=i,t[14]=f):f=t[14],t[15]!==u||t[16]!==m||t[17]!==h||t[18]!==f?(g=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(BB.Group,{contentContainerStyle:d,iconInset:!1,children:[u,m,h,f]})}),t[15]=u,t[16]=m,t[17]=h,t[18]=f,t[19]=g):g=t[19],g}function kF(e){return(0,bt.jsx)(Bf.Item,{label:e.label,value:e.name,children:(0,bt.jsx)(Bf.ItemText,{children:e.label})},e.name)}function CF(){throw new Error("Not supported on web")}const IF=()=>["app-passwords"];function AF(){const e=(0,n.c)(3),t=(0,Gt.useAgent)();let s,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=IF(),e[0]=s):s=e[0],e[1]!==t?(o={staleTime:yt.STALE.MINUTES.FIVE,queryKey:s,queryFn:async()=>(await t.com.atproto.server.listAppPasswords({})).data.passwords},e[1]=t,e[2]=o):o=e[2],(0,Zs.useQuery)(o)}const PF=(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 1 1-1h1a8.003 8.003 0 0 1 7.75 6.006A7.985 7.985 0 0 1 19 6h1a1 1 0 0 1 1 1v1a8 8 0 0 1-8 8v4a1 1 0 1 1-2 0v-7a8 8 0 0 1-8-8V4Zm2 1a6 6 0 0 1 6 6 6 6 0 0 1-6-6Zm8 9a6 6 0 0 1 6-6 6 6 0 0 1-6 6Z"});function EF(e){const t=(0,n.c)(9),{control:s,passwords:o}=e,{height:a}=(0,Qr.default)();let r,i,l,c;return t[0]!==a?(r={minHeight:a},t[0]=a,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Qs.Handle,{}),t[2]=i):i=t[2],t[3]!==o?(l=(0,bt.jsx)(LF,{passwords:o}),t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==r||t[7]!==l?(c=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:r,children:[i,l]}),t[5]=s,t[6]=r,t[7]=l,t[8]=c):c=t[8],c}function LF(e){const t=(0,n.c)(34),{passwords:s}=e,o=Qs.useDialogContext(),a=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)(),l=(0,lt.useState)(BF)[0],[c,d]=(0,lt.useState)(""),[u,m]=(0,lt.useState)(!1),{mutateAsync:h,error:p,data:f}=function(){const e=(0,n.c)(5),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o,a;return e[0]!==s?(o=async e=>{const{name:t,privileged:o}=e;return(await s.com.atproto.server.createAppPassword({name:t,privileged:o})).data},e[0]=s,e[1]=o):o=e[1],e[2]!==t||e[3]!==o?(a={mutationFn:o,onSuccess(){t.invalidateQueries({queryKey:IF()})}},e[2]=t,e[3]=o,e[4]=a):a=e[4],(0,go.useMutation)(a)}();let g;t[0]!==i?(g=new RF(i({id:"yDYWff"})),t[0]=i,t[1]=g):g=t[1];const x=g;let _;t[2]!==i||t[3]!==h||t[4]!==l||t[5]!==c||t[6]!==s||t[7]!==u?(_={mutationFn:async()=>{const e=c.trim()||l;if(e.length<4)throw new RF(i({id:"iVns5q"}));if(s.find((t=>t===e)))throw new RF(i({id:"VKPP7C"}));return await h({name:e,privileged:u})}},t[2]=i,t[3]=h,t[4]=l,t[5]=c,t[6]=s,t[7]=u,t[8]=_):_=t[8];const{mutate:y,error:b,isPending:j}=(0,go.useMutation)(_),[v,S]=(0,lt.useState)(!1);let w,T,k;t[9]!==v?(w=()=>{if(v){const e=setTimeout((()=>S(!1)),100);return()=>clearTimeout(e)}},T=[v],t[9]=v,t[10]=w,t[11]=T):(w=t[10],T=t[11]),(0,lt.useEffect)(w,T),t[12]!==c||t[13]!==x||t[14]!==b?(k=b||!c.match(/^[a-zA-Z0-9-_ ]*$/)&&x,t[12]=c,t[13]=x,t[14]=b,t[15]=k):k=t[15];const C=k;let I,A,P,E,L;return t[16]!==i?(I=i({id:"47bquP"}),t[16]=i,t[17]=I):I=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(A=[(0,qs.native)(qs.atoms.pt_md)],t[18]=A):A=t[18],t[19]!==i||t[20]!==p||t[21]!==l||t[22]!==o||t[23]!==y||t[24]!==f||t[25]!==C||t[26]!==j||t[27]!==u||t[28]!==a?(P=(0,bt.jsx)(Fs.default,{style:A,children:(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:f?(0,bt.jsxs)(yn.default.View,{style:[qs.atoms.gap_lg],entering:r.IS_WEB?yn.FadeIn.delay(200):yn.SlideInRight,children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"wtxgb4"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"I6JXEO"})}),(0,bt.jsxs)(eF,{value:f.password,label:i({id:"DJsNG+"}),size:"large",color:"secondary",children:[(0,bt.jsx)(ao.ButtonText,{children:f.password}),(0,bt.jsx)(ao.ButtonIcon,{icon:XM})]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"31ojML"})}),(0,bt.jsx)(ao.Button,{label:i({id:"DPfwMq"}),size:"large",variant:"outline",color:"primary",style:[qs.atoms.flex_1],onPress:()=>o.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})})})]},1):(0,bt.jsxs)(yn.default.View,{style:[qs.atoms.gap_lg],exiting:(0,qs.native)(yn.SlideOutLeft),children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"5dXC5d"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"uX2EJC"})}),(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(mo.Root,{isInvalid:!!C,children:(0,bt.jsx)(Qs.Input,{label:i({id:"0Xf97/"}),placeholder:l,onChangeText:d,returnKeyType:"done",onSubmitEditing:()=>y(),blurOnSubmit:!0,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",autoFocus:!0})})}),C instanceof RF&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(no.Admonition,{type:"error",children:C.message})}),(0,bt.jsxs)(yn.default.View,{style:[qs.atoms.gap_lg],layout:(0,qs.native)(yn.LinearTransition),children:[(0,bt.jsxs)(af.Item,{name:"privileged",type:"checkbox",label:i({id:"isIf7e"}),value:u,onChange:m,style:[qs.atoms.flex_1],children:[(0,bt.jsx)(af.Checkbox,{}),(0,bt.jsx)(af.LabelText,{style:[qs.atoms.font_normal,qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"isIf7e"})})]}),(0,bt.jsxs)(ao.Button,{label:i({id:"hXzOVo"}),size:"large",variant:"solid",color:"primary",style:[qs.atoms.flex_1],onPress:()=>y(),disabled:j,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})}),(0,bt.jsx)(ao.ButtonIcon,{icon:mn.ChevronRight_Stroke2_Corner0_Rounded})]}),!!p||C&&!(C instanceof RF)&&(0,bt.jsx)(yn.default.View,{entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"QmVkwS"})})})]})]},0)})}),t[19]=i,t[20]=p,t[21]=l,t[22]=o,t[23]=y,t[24]=f,t[25]=C,t[26]=j,t[27]=u,t[28]=a,t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(Qs.Close,{}),t[30]=E):E=t[30],t[31]!==I||t[32]!==P?(L=(0,bt.jsxs)(Qs.ScrollableInner,{label:I,children:[P,E]}),t[31]=I,t[32]=P,t[33]=L):L=t[33],L}class RF extends Error{constructor(e){super(e),this.name="DisplayableError"}}function BF(){return DF[Math.floor(Math.random()*DF.length)]}const DF=["AliceBlue","Aqua","Aquamarine","Azure","BabyBlue","Blue","BlueViolet","CadetBlue","CornflowerBlue","Cyan","DarkBlue","DarkCyan","DarkSlateBlue","DeepSkyBlue","DodgerBlue","ElectricBlue","LightBlue","LightCyan","LightSkyBlue","LightSteelBlue","MediumAquaMarine","MediumBlue","MediumSlateBlue","MidnightBlue","Navy","PowderBlue","RoyalBlue","SkyBlue","SlateBlue","SteelBlue","Teal","Turquoise"];function OF(e){const t=(0,n.c)(15),{_:s}=(0,dt.useLingui)(),{data:o,error:a}=AF(),r=(0,Qs.useDialogControl)();let i,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=i):i=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(ya.Header.Outer,{children:[i,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"8q4WlH"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=l):l=t[1],t[2]!==s||t[3]!==o||t[4]!==r||t[5]!==a?(c=(0,bt.jsx)(ya.Content,{children:a?(0,bt.jsx)(lh,{title:s({id:"5yIPLp"}),message:s({id:"SONz55"}),details:(0,Tn.cleanError)(a)}):(0,bt.jsxs)(BB.Container,{children:[(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(no.Admonition,{type:"tip",style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"7+c6/U"})})}),(0,bt.jsx)(BB.Item,{children:(0,bt.jsxs)(ao.Button,{label:s({id:"5dXC5d"}),size:"large",color:"primary",variant:"solid",onPress:()=>r.open(),style:[qs.atoms.flex_1],children:[(0,bt.jsx)(ao.ButtonIcon,{icon:zg.PlusLarge_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"5dXC5d"})})]})}),(0,bt.jsx)(BB.Divider,{}),(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:o?o.length>0?(0,bt.jsx)(Fs.default,{style:[qs.atoms.overflow_hidden],children:o.map(FF)}):(0,bt.jsx)(pS.EmptyState,{icon:PF,message:s({id:"pRxzv9"})}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.py_4xl],children:(0,bt.jsx)(lo.Loader,{size:"xl"})})})]})}),t[2]=s,t[3]=o,t[4]=r,t[5]=a,t[6]=c):c=t[6],t[7]!==o?(d=o?.map(MF)||[],t[7]=o,t[8]=d):d=t[8],t[9]!==r||t[10]!==d?(u=(0,bt.jsx)(EF,{control:r,passwords:d}),t[9]=r,t[10]=d,t[11]=u):u=t[11],t[12]!==c||t[13]!==u?(m=(0,bt.jsxs)(ya.Screen,{testID:"AppPasswordsScreen",children:[l,c,u]}),t[12]=c,t[13]=u,t[14]=m):m=t[14],m}function MF(e){return e.name}function FF(e){return(0,bt.jsx)(yn.default.View,{style:qs.atoms.w_full,entering:yn.FadeIn,exiting:yn.FadeOut,layout:yn.LinearTransition.delay(150),children:(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(NF,{appPassword:e})})},e.name)}function NF(e){const t=(0,n.c)(60),{appPassword:s}=e,o=(0,qs.useTheme)(),{i18n:a,_:r}=(0,dt.useLingui)(),i=Zi.usePromptControl(),{mutateAsync:l}=function(){const e=(0,n.c)(5),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o,a;return e[0]!==s?(o=async e=>{const{name:t}=e;await s.com.atproto.server.revokeAppPassword({name:t})},e[0]=s,e[1]=o):o=e[1],e[2]!==t||e[3]!==o?(a={mutationFn:o,onSuccess(){t.invalidateQueries({queryKey:IF()})}},e[2]=t,e[3]=o,e[4]=a):a=e[4],(0,go.useMutation)(a)}();let c;t[0]!==r||t[1]!==s.name||t[2]!==l?(c=async()=>{await l({name:s.name}),Ds.show(r({id:"sPECGn"}))},t[0]=r,t[1]=s.name,t[2]=l,t[3]=c):c=t[3];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L;return t[4]!==o.atoms.bg_contrast_25||t[5]!==o.atoms.border_contrast_low?(u=[qs.atoms.w_full,qs.atoms.border,qs.atoms.rounded_sm,qs.atoms.px_md,qs.atoms.py_sm,o.atoms.bg_contrast_25,o.atoms.border_contrast_low],t[4]=o.atoms.bg_contrast_25,t[5]=o.atoms.border_contrast_low,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_start,qs.atoms.w_full,qs.atoms.gap_sm],t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_xs],t[8]=h):h=t[8],t[9]!==o.atoms.text?(p=[o.atoms.text,qs.atoms.text_md,qs.atoms.font_semi_bold],t[9]=o.atoms.text,t[10]=p):p=t[10],t[11]!==s.name||t[12]!==p?(f=(0,bt.jsx)(co.Text,{style:p,children:s.name}),t[11]=s.name,t[12]=p,t[13]=f):f=t[13],t[14]!==o.atoms.text_contrast_medium?(g=[o.atoms.text_contrast_medium],t[14]=o.atoms.text_contrast_medium,t[15]=g):g=t[15],t[16]!==s.createdAt||t[17]!==a?(x=a.date(s.createdAt,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),t[16]=s.createdAt,t[17]=a,t[18]=x):x=t[18],t[19]!==x?(_=(0,bt.jsx)(dt.Trans,{id:"MXSt4t",values:{0:x}}),t[19]=x,t[20]=_):_=t[20],t[21]!==g||t[22]!==_?(y=(0,bt.jsx)(co.Text,{style:g,children:_}),t[21]=g,t[22]=_,t[23]=y):y=t[23],t[24]!==y||t[25]!==f?(b=(0,bt.jsxs)(Fs.default,{style:h,children:[f,y]}),t[24]=y,t[25]=f,t[26]=b):b=t[26],t[27]!==r?(j=r({id:"gUEtxf"}),t[27]=r,t[28]=j):j=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.bg_transparent],t[29]=v):v=t[29],t[30]!==i?(S=()=>i.open(),t[30]=i,t[31]=S):S=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(ao.ButtonIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded}),t[32]=w):w=t[32],t[33]!==j||t[34]!==S?(T=(0,bt.jsx)(ao.Button,{label:j,variant:"ghost",color:"negative",size:"small",shape:"square",style:v,onPress:S,children:w}),t[33]=j,t[34]=S,t[35]=T):T=t[35],t[36]!==b||t[37]!==T?(k=(0,bt.jsxs)(Fs.default,{style:m,children:[b,T]}),t[36]=b,t[37]=T,t[38]=k):k=t[38],t[39]!==s.privileged||t[40]!==o.atoms.text_contrast_high?(C=s.privileged&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center,qs.atoms.mt_md],children:[(0,bt.jsx)(Cf.Warning_Stroke2_Corner0_Rounded,{style:[{color:no.colors.warning}]}),(0,bt.jsx)(co.Text,{style:o.atoms.text_contrast_high,children:(0,bt.jsx)(dt.Trans,{id:"AByanR"})})]}),t[39]=s.privileged,t[40]=o.atoms.text_contrast_high,t[41]=C):C=t[41],t[42]!==r?(I=r({id:"dCr4rv"}),t[42]=r,t[43]=I):I=t[43],t[44]!==r||t[45]!==s.name?(A=r({id:"WzcJeT",values:{0:s.name}}),t[44]=r,t[45]=s.name,t[46]=A):A=t[46],t[47]!==r?(P=r({id:"cnGeoo"}),t[47]=r,t[48]=P):P=t[48],t[49]!==i||t[50]!==d||t[51]!==I||t[52]!==A||t[53]!==P?(E=(0,bt.jsx)(Zi.Basic,{control:i,title:I,description:A,onConfirm:d,confirmButtonCta:P,confirmButtonColor:"negative"}),t[49]=i,t[50]=d,t[51]=I,t[52]=A,t[53]=P,t[54]=E):E=t[54],t[55]!==k||t[56]!==C||t[57]!==u||t[58]!==E?(L=(0,bt.jsxs)(Fs.default,{style:u,children:[k,C,E]}),t[55]=k,t[56]=C,t[57]=u,t[58]=E,t[59]=L):L=t[59],L}var HF=s(53161);(0,ti.createSinglePathSVG)({path:"M11.37 1.724a1 1 0 0 1 1.26 0l8 6.5A1 1 0 0 1 21 9v11a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-5h-2v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 .37-.776l8-6.5ZM5 9.476V19h4v-5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5h4V9.476l-7-5.688-7 5.688Z"});const VF=(0,ti.createSinglePathSVG)({path:"M12.659 3.905a1 1 0 0 0-1.318 0l-6 5.25A1 1 0 0 0 5 9.907V18a1 1 0 0 0 1 1h3v-3a3 3 0 0 1 6 0v3h3a1 1 0 0 0 1-1V9.907a1 1 0 0 0-.341-.752l-6-5.25ZM10.024 2.4a3 3 0 0 1 3.952 0l6 5.25A3 3 0 0 1 21 9.907V18a3 3 0 0 1-3 3h-3a2 2 0 0 1-2-2v-3a1 1 0 0 0-2 0v3a2 2 0 0 1-2 2H6a3 3 0 0 1-3-3V9.907A3 3 0 0 1 4.024 7.65l6-5.25Z"}),zF=((0,ti.createSinglePathSVG)({path:"M13.261 1.736a2 2 0 0 0-2.522 0l-7 5.687A2 2 0 0 0 3 8.976V19a2 2 0 0 0 2 2h3v-8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8h3a2 2 0 0 0 2-2V8.976a2 2 0 0 0-.739-1.553l-7-5.687ZM14 21h-4v-7h4v7Z"}),(0,ti.createSinglePathSVG)({path:"M4 5a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v11c0 .889-.386 1.687-1 2.236V20a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-1.764c-.614-.55-1-1.348-1-2.236V5Zm3 14v1h10v-1H7ZM7 4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7Zm0 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V6Zm2 1v4h6V7H9Zm4 8a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}));var UF=s(91155);function WF(e){const t=(0,n.c)(64),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),a=(0,Bt.useAutoplayDisabled)(),i=(0,Bt.useSetAutoplayDisabled)(),l=(0,HF.useInAppBrowser)(),c=(0,HF.useSetInAppBrowser)(),{enabled:d}=(0,Wt.useTrendingConfig)(),{trendingDisabled:u,trendingVideoDisabled:m}=(0,Xr.useTrendingSettings)(),{setTrendingDisabled:h,setTrendingVideoDisabled:p}=(0,Xr.useTrendingSettingsApi)();let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=f):f=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsxs)(ya.Header.Outer,{children:[f,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"ECLlp+"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=g):g=t[1],t[2]!==s?(x=s({id:"iisdNe"}),t[2]=s,t[3]=x):x=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(BB.ItemIcon,{icon:El}),t[4]=_):_=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"iisdNe"})}),t[5]=y):y=t[5],t[6]!==x?(b=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/saved-feeds",label:x,children:[_,y]}),t[6]=x,t[7]=b):b=t[7],t[8]!==s?(j=s({id:"Ro2Yw5"}),t[8]=s,t[9]=j):j=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(BB.ItemIcon,{icon:ni}),t[10]=v):v=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Ro2Yw5"})}),t[11]=S):S=t[11],t[12]!==j?(w=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/threads",label:j,children:[v,S]}),t[12]=j,t[13]=w):w=t[13],t[14]!==s?(T=s({id:"QeCnnh"}),t[14]=s,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(BB.ItemIcon,{icon:VF}),t[16]=k):k=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"QeCnnh"})}),t[17]=C):C=t[17],t[18]!==T?(I=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/following-feed",label:T,children:[k,C]}),t[18]=T,t[19]=I):I=t[19],t[20]!==s?(A=s({id:"Dk+Kkl"}),t[20]=s,t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.ItemIcon,{icon:zF}),t[22]=P):P=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Dk+Kkl"})}),t[23]=E):E=t[23],t[24]!==A?(L=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/external-embeds",label:A,children:[P,E]}),t[24]=A,t[25]=L):L=t[25],t[26]!==s?(R=s({id:"4zDzuI"}),t[26]=s,t[27]=R):R=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(BB.ItemIcon,{icon:Cn.CircleInfo_Stroke2_Corner0_Rounded}),t[28]=B):B=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"4zDzuI"})}),t[29]=D):D=t[29],t[30]!==R?(O=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/interests",label:R,children:[B,D]}),t[30]=R,t[31]=O):O=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(BB.Divider,{}),t[32]=M):M=t[32],t[33]!==s||t[34]!==l||t[35]!==c?(F=r.IS_NATIVE&&(0,bt.jsx)(af.Item,{name:"use_in_app_browser",label:s({id:"ro9NQJ"}),value:l??!1,onChange:e=>c(e),children:(0,bt.jsxs)(BB.Item,{children:[(0,bt.jsx)(BB.ItemIcon,{icon:UF.Window_Stroke2_Corner2_Rounded}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ro9NQJ"})}),(0,bt.jsx)(af.Platform,{})]})}),t[33]=s,t[34]=l,t[35]=c,t[36]=F):F=t[36],t[37]!==s?(N=s({id:"KPgb40"}),t[37]=s,t[38]=N):N=t[38];const H=!a;let V,z,U,W,G,q;return t[39]!==i?(V=e=>i(!e),t[39]=i,t[40]=V):V=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(BB.ItemIcon,{icon:pm}),t[41]=z):z=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsxs)(BB.Item,{children:[z,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"KPgb40"})}),(0,bt.jsx)(af.Platform,{})]}),t[42]=U):U=t[42],t[43]!==N||t[44]!==H||t[45]!==V?(W=(0,bt.jsx)(af.Item,{name:"disable_autoplay",label:N,value:H,onChange:V,children:U}),t[43]=N,t[44]=H,t[45]=V,t[46]=W):W=t[46],t[47]!==s||t[48]!==o||t[49]!==h||t[50]!==p||t[51]!==u||t[52]!==d||t[53]!==m?(G=d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),(0,bt.jsx)(af.Item,{name:"show_trending_topics",label:s({id:"dQfi6A"}),value:!u,onChange:e=>{const t=Boolean(!e);t?o.metric("trendingTopics:hide",{context:"settings"}):o.metric("trendingTopics:show",{context:"settings"}),h(t)},children:(0,bt.jsxs)(BB.Item,{children:[(0,bt.jsx)(BB.ItemIcon,{icon:id}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"dQfi6A"})}),(0,bt.jsx)(af.Platform,{})]})}),(0,bt.jsx)(af.Item,{name:"show_trending_videos",label:s({id:"SEh/Dd"}),value:!m,onChange:e=>{const t=Boolean(!e);t?o.metric("trendingVideos:hide",{context:"settings"}):o.metric("trendingVideos:show",{context:"settings"}),p(t)},children:(0,bt.jsxs)(BB.Item,{children:[(0,bt.jsx)(BB.ItemIcon,{icon:id}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"SEh/Dd"})}),(0,bt.jsx)(af.Platform,{})]})})]}):null,t[47]=s,t[48]=o,t[49]=h,t[50]=p,t[51]=u,t[52]=d,t[53]=m,t[54]=G):G=t[54],t[55]!==w||t[56]!==I||t[57]!==L||t[58]!==O||t[59]!==F||t[60]!==W||t[61]!==G||t[62]!==b?(q=(0,bt.jsxs)(ya.Screen,{children:[g,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[b,w,I,L,O,M,F,W,G]})})]}),t[55]=w,t[56]=I,t[57]=L,t[58]=O,t[59]=F,t[60]=W,t[61]=G,t[62]=b,t[63]=q):q=t[63],q}function GF(e){const t=(0,n.c)(6);let s,o,a,r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=s):s=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsxs)(ya.Header.Outer,{children:[s,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"KMwkQy"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(no.Admonition,{type:"info",style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"n+JXGp"})})}),t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"3wOj10"})}),t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.mt_sm,qs.atoms.w_full],t[4]=i):i=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsxs)(ya.Screen,{testID:"externalMediaPreferencesScreen",children:[o,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[a,(0,bt.jsxs)(BB.Group,{iconInset:!1,children:[r,(0,bt.jsxs)(Fs.default,{style:i,children:[(0,qs.native)((0,bt.jsx)(BB.Divider,{style:[qs.atoms.my_0]})),Object.entries(cm.externalEmbedLabels).filter(QF).map(qF)]})]})]})})]}),t[5]=l):l=t[5],l}function qF(e){const[t,s]=e;return(0,bt.jsxs)(lt.Fragment,{children:[(0,bt.jsx)(KF,{source:t,label:s},t),(0,qs.native)((0,bt.jsx)(BB.Divider,{style:[qs.atoms.my_0]}))]},t)}function QF(e){const[t]=e;return"tenor"!==t}function KF(e){const t=(0,n.c)(14),{source:s,label:o}=e,a=(0,Bt.useSetExternalEmbedPref)(),r=(0,Bt.useExternalEmbedsPrefs)(),i="show"===r?.[s];let l,c,d,u,m,h;return t[0]!==a||t[1]!==s||t[2]!==r?(l=()=>a(s,"show"===r?.[s]?"hide":"show"),t[0]=a,t[1]=s,t[2]=r,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.flex_1,qs.atoms.py_md,(0,qs.native)([qs.atoms.justify_between,qs.atoms.flex_row_reverse])],d=(0,bt.jsx)(af.Platform,{}),t[4]=c,t[5]=d):(c=t[4],d=t[5]),t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.text_md],t[6]=u):u=t[6],t[7]!==o?(m=(0,bt.jsx)(af.LabelText,{style:u,children:o}),t[7]=o,t[8]=m):m=t[8],t[9]!==o||t[10]!==i||t[11]!==l||t[12]!==m?(h=(0,bt.jsxs)(af.Item,{name:o,label:o,type:"checkbox",value:i,onChange:l,style:c,children:[d,m]}),t[9]=o,t[10]=i,t[11]=l,t[12]=m,t[13]=h):h=t[13],h}var ZF=s(38897),YF=s(49149);function $F(){const e=(0,n.c)(11),t=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)();let a,r,i,l,c,d;return e[0]!==t.palette.primary_50?(a=[qs.atoms.w_full,qs.atoms.pl_3xl,qs.atoms.pr_2xl,qs.atoms.pt_4xl,qs.atoms.pb_3xl,qs.atoms.rounded_lg,{backgroundColor:t.palette.primary_50}],e[0]=t.palette.primary_50,e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=s(36487),e[2]=r):r=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.w_full,{aspectRatio:1.9334341906202723}],e[3]=i):i=e[3],e[4]!==o?(l=o({id:"GiVeqq"}),e[4]=o,e[5]=l):l=e[5],e[6]!==l?(c=(0,bt.jsx)(cn.Image,{source:r,accessibilityIgnoresInvertColors:!0,style:i,alt:l}),e[6]=l,e[7]=c):c=e[7],e[8]!==a||e[9]!==c?(d=(0,bt.jsx)(Fs.default,{style:a,children:c}),e[8]=a,e[9]=c,e[10]=d):d=e[10],d}function XF(e){const t=(0,n.c)(14),{_:s}=(0,dt.useLingui)(),o=(0,Xo.useAnalytics)(),{data:a,error:i,refetch:l}=(0,YF.useContactsSyncStatusQuery)(),c=(0,Ns.useIsFocused)();let d,u,m,h,p;return t[0]!==o||t[1]!==a||t[2]!==c?(d=()=>{a&&c&&o.metric("contacts:settings:presented",{hasPreviouslySynced:!!a.syncStatus,matchCount:a.syncStatus?.matchesCount})},t[0]=o,t[1]=a,t[2]=c,t[3]=d):d=t[3],t[4]!==a||t[5]!==c?(u=[a,c],t[4]=a,t[5]=c,t[6]=u):u=t[6],(0,lt.useEffect)(d,u),t[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(ya.Header.BackButton,{}),t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsxs)(ya.Header.Outer,{children:[m,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"D3sOo9"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[8]=h):h=t[8],t[9]!==s||t[10]!==a||t[11]!==i||t[12]!==l?(p=(0,bt.jsxs)(ya.Screen,{children:[h,r.IS_NATIVE?a?a.syncStatus?(0,bt.jsx)(tN,{info:a.syncStatus,refetchStatus:l}):(0,bt.jsx)(JF,{}):i?(0,bt.jsx)(lh,{title:s({id:"yhP0T8"}),message:(0,Tn.cleanError)(i),onPressTryAgain:l}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}):(0,bt.jsx)(lh,{title:s({id:"9a8GkI"}),message:s({id:"P3f3cm"})})]}),t[9]=s,t[10]=a,t[11]=i,t[12]=l,t[13]=p):p=t[13],p}function JF(){const e=(0,n.c)(23);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["base"],e[0]=t):t=e[0];const s=(0,qs.useGutters)(t),o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)();let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r={queryKey:["contacts-available"],queryFn:eN},e[1]=r):r=e[1];const{data:i,isSuccess:l}=(0,Zs.useQuery)(r);let c,d,u,m,h,p,f,g,x;return e[2]!==s?(c=[s,qs.atoms.gap_lg],e[2]=s,e[3]=c):c=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)($F,{}),e[4]=d):d=e[4],e[5]!==o.atoms.text_contrast_medium?(u=[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_medium],e[5]=o.atoms.text_contrast_medium,e[6]=u):u=e[6],e[7]!==a?(m=a({id:"ZS6YGs"}),e[7]=a,e[8]=m):m=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.text_md,qs.atoms.leading_snug],e[9]=h):h=e[9],e[10]!==m?(p=(0,bt.jsx)(dt.Trans,{id:"yTwTOo",components:{0:(0,bt.jsx)(io.InlineLinkText,{to:Vt.urls.website.blog.findFriendsAnnouncement,label:m,style:h})}}),e[10]=m,e[11]=p):p=e[11],e[12]!==u||e[13]!==p?(f=(0,bt.jsx)(co.Text,{style:u,children:p}),e[12]=u,e[13]=p,e[14]=f):f=e[14],e[15]!==a||e[16]!==i||e[17]!==l?(g=i?(0,bt.jsx)(io.Link,{to:{screen:"FindContactsFlow"},label:a({id:"RQkDtT"}),size:"large",color:"primary",style:[qs.atoms.flex_1,qs.atoms.justify_center],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"RQkDtT"})})}):l&&(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"nC1v/A"})}),e[15]=a,e[16]=i,e[17]=l,e[18]=g):g=e[18],e[19]!==c||e[20]!==f||e[21]!==g?(x=(0,bt.jsxs)(ya.Content,{contentContainerStyle:c,children:[d,f,g]}),e[19]=c,e[20]=f,e[21]=g,e[22]=x):x=e[22],x}async function eN(){return await ZF.isAvailableAsync()}function tN(e){const t=(0,n.c)(41),{info:s,refetchStatus:o}=e,a=(0,Xo.useAnalytics)(),r=(0,Gt.useAgent)(),i=(0,On.useQueryClient)(),{_:l}=(0,dt.useLingui)(),c=(0,ds.useModerationOpts)(),{data:d,isPending:u,hasNextPage:m,fetchNextPage:h,isFetchingNextPage:p,refetch:f}=(0,YF.useContactsMatchesQuery)(),[g,x]=(0,lt.useState)(!1);let _;t[0]!==f||t[1]!==o?(_=()=>{x(!0),Promise.all([o(),f()]).finally((()=>{x(!1)}))},t[0]=f,t[1]=o,t[2]=_):_=t[2];const y=_;let b,j,v,S;t[3]!==r?(b=async e=>{await r.app.bsky.contact.dismissMatch({subject:e})},t[3]=r,t[4]=b):b=t[4],t[5]!==a||t[6]!==i?(j=async e=>{a.metric("contacts:settings:dismiss",{}),(0,YF.optimisticRemoveMatch)(i,e)},t[5]=a,t[6]=i,t[7]=j):j=t[7],t[8]!==l||t[9]!==f?(v=e=>{f(),(0,Tn.isNetworkError)(e)?Pd.show(l({id:"kLYzKp"}),{type:"error"}):(Mt.logger.error("Failed to follow all matches",{safeMessage:e}),Pd.show(l({id:"sMZbdz",values:{0:(0,Tn.cleanError)(e)}}),{type:"error"}))},t[8]=l,t[9]=f,t[10]=v):v=t[10],t[11]!==b||t[12]!==j||t[13]!==v?(S={mutationFn:b,onMutate:j,onError:v},t[11]=b,t[12]=j,t[13]=v,t[14]=S):S=t[14];const{mutate:w}=(0,go.useMutation)(S);let T,k,C;t[15]!==d?.pages?(k=d?.pages?.flatMap(oN)??[],T=k.length,C=k.some(sN),t[15]=d?.pages,t[16]=T,t[17]=k,t[18]=C):(T=t[16],k=t[17],C=t[18]);const I=C;let A;t[19]!==w||t[20]!==c||t[21]!==T?(A=e=>{const{item:t,index:s}=e;return c?(0,bt.jsx)(nN,{profile:t,isFirst:0===s,isLast:s===T-1,moderationOpts:c,dismissMatch:w}):null},t[19]=w,t[20]=c,t[21]=T,t[22]=A):A=t[22];const P=A;let E;t[23]!==h||t[24]!==m||t[25]!==p?(E=()=>{m&&!p&&h()},t[23]=h,t[24]=m,t[25]=p,t[26]=E):E=t[26];const L=E;let R,B,D;return t[27]!==s.matchesCount||t[28]!==I||t[29]!==u?(R=(0,bt.jsx)(aN,{numMatches:s.matchesCount,isPending:u,isAnyUnfollowed:I}),t[27]=s.matchesCount,t[28]=I,t[29]=u,t[30]=R):R=t[30],t[31]!==s.syncedAt?(B=(0,bt.jsx)(rN,{syncedAt:s.syncedAt}),t[31]=s.syncedAt,t[32]=B):B=t[32],t[33]!==g||t[34]!==L||t[35]!==y||t[36]!==k||t[37]!==P||t[38]!==B||t[39]!==R?(D=(0,bt.jsx)(ei.List,{data:k,renderItem:P,ListHeaderComponent:R,ListFooterComponent:B,onRefresh:y,refreshing:g,onEndReached:L}),t[33]=g,t[34]=L,t[35]=y,t[36]=k,t[37]=P,t[38]=B,t[39]=R,t[40]=D):D=t[40],D}function sN(e){return!e.viewer?.following}function oN(e){return e.matches}function nN(e){const t=(0,n.c)(32),{profile:s,isFirst:o,isLast:a,moderationOpts:r,dismissMatch:i}=e,l=(0,qs.useTheme)(),{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)(),u=(0,Va.useProfileShadow)(s);let m,h,p,f,g,x,_,y,b,j,v;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.px_xl],t[0]=m):m=t[0],t[1]!==o?(h=o&&[qs.atoms.curve_continuous,{borderTopLeftRadius:qs.tokens.borderRadius.lg},{borderTopRightRadius:qs.tokens.borderRadius.lg}],t[1]=o,t[2]=h):h=t[2],t[3]!==a?(p=a&&[qs.atoms.border_b,qs.atoms.curve_continuous,{borderBottomLeftRadius:qs.tokens.borderRadius.lg},{borderBottomRightRadius:qs.tokens.borderRadius.lg},qs.atoms.mb_sm],t[3]=a,t[4]=p):p=t[4],t[5]!==l.atoms.border_contrast_high||t[6]!==h||t[7]!==p?(f=[qs.atoms.p_md,qs.atoms.border_t,qs.atoms.border_x,l.atoms.border_contrast_high,h,p],t[5]=l.atoms.border_contrast_high,t[6]=h,t[7]=p,t[8]=f):f=t[8],t[9]!==r||t[10]!==s?(g=(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:r}),x=(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:r}),t[9]=r,t[10]=s,t[11]=g,t[12]=x):(g=t[11],x=t[12]),t[13]!==d?(_=()=>d.metric("contacts:settings:follow",{}),t[13]=d,t[14]=_):_=t[14],t[15]!==r||t[16]!==s||t[17]!==_?(y=(0,bt.jsx)(Rl.FollowButton,{profile:s,moderationOpts:r,logContext:"FindContacts",onFollow:_}),t[15]=r,t[16]=s,t[17]=_,t[18]=y):y=t[18],t[19]!==c||t[20]!==i||t[21]!==s||t[22]!==u.viewer?.following?(b=!u.viewer?.following&&(0,bt.jsx)(ao.Button,{color:"secondary",variant:"ghost",label:c({id:"44tx/+"}),onPress:()=>i(s.did),hoverStyle:[qs.atoms.bg_transparent,{opacity:.5}],hitSlop:8,children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})}),t[19]=c,t[20]=i,t[21]=s,t[22]=u.viewer?.following,t[23]=b):b=t[23],t[24]!==g||t[25]!==x||t[26]!==y||t[27]!==b?(j=(0,bt.jsxs)(Rl.Header,{children:[g,x,y,b]}),t[24]=g,t[25]=x,t[26]=y,t[27]=b,t[28]=j):j=t[28],t[29]!==j||t[30]!==f?(v=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(Fs.default,{style:f,children:j})}),t[29]=j,t[30]=f,t[31]=v):v=t[31],v}function aN(e){const t=(0,n.c)(26),{numMatches:s,isPending:o,isAnyUnfollowed:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)(),l=(0,Gt.useAgent)(),c=(0,On.useQueryClient)(),{currentAccount:d}=(0,Gt.useSession)();let u,m,h,p;t[0]!==l||t[1]!==i||t[2]!==d?.did||t[3]!==c?(u=async()=>{const e=[];let t;do{const s=await l.app.bsky.contact.getMatches({limit:100,cursor:t});t=s.data.cursor;for(const t of s.data.matches)t.did===d?.did||vA(t)||SA(t)||t.viewer?.following||e.push(t.did)}while(t);i.metric("contacts:settings:followAll",{followCount:e.length});const s=await(0,eo.wait)(500,kI(l,e));for(const o of e){const e=s.get(o);(0,Va.updateProfileShadow)(c,o,{followingUri:e})}},t[0]=l,t[1]=i,t[2]=d?.did,t[3]=c,t[4]=u):u=t[4],t[5]!==r?(m=()=>{Pd.show(r({id:"Zs42ak"}),{type:"success"})},h=e=>{(0,Tn.isNetworkError)(e)?Pd.show(r({id:"kLYzKp"}),{type:"error"}):(Mt.logger.error("Failed to follow all matches",{safeMessage:e}),Pd.show(r({id:"sMZbdz",values:{0:(0,Tn.cleanError)(e)}}),{type:"error"}))},t[5]=r,t[6]=m,t[7]=h):(m=t[6],h=t[7]),t[8]!==u||t[9]!==m||t[10]!==h?(p={mutationFn:u,onSuccess:m,onError:h},t[8]=u,t[9]=m,t[10]=h,t[11]=p):p=t[11];const{mutate:f,isPending:g,isSuccess:x}=(0,go.useMutation)(p);if(s>0){if(o){let e;return t[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.py_3xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[12]=e):e=t[12],e}let e,n,i,l,c;return t[13]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.pt_xl,qs.atoms.px_xl,qs.atoms.pb_md,qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center],t[13]=e):e=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.text_md,qs.atoms.font_semi_bold],t[14]=n):n=t[14],t[15]!==s?(i=(0,bt.jsx)(co.Text,{style:n,children:(0,bt.jsx)(dt.Trans,{id:"DK52I9",values:{numMatches:s}})}),t[15]=s,t[16]=i):i=t[16],t[17]!==r||t[18]!==x||t[19]!==a||t[20]!==g||t[21]!==f?(l=a&&(0,bt.jsx)(ao.Button,{label:r({id:"8P26C7"}),color:"primary",size:"small",variant:"ghost",onPress:()=>f(),disabled:g||x,hitSlop:Vt.HITSLOP_10,style:[qs.atoms.px_0,qs.atoms.py_0,qs.atoms.rounded_0],hoverStyle:[qs.atoms.bg_transparent,{opacity:.5}],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"8P26C7"})})}),t[17]=r,t[18]=x,t[19]=a,t[20]=g,t[21]=f,t[22]=l):l=t[22],t[23]!==i||t[24]!==l?(c=(0,bt.jsxs)(Fs.default,{style:e,children:[i,l]}),t[23]=i,t[24]=l,t[25]=c):c=t[25],c}return null}function rN(e){const t=(0,n.c)(77),{syncedAt:s}=e,{_:o,i18n:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)(),i=(0,Xo.useAnalytics)(),l=(0,Gt.useAgent)(),c=(0,On.useQueryClient)();let d,u,m,h,p;t[0]!==l?(d=async()=>{await l.app.bsky.contact.removeData({})},t[0]=l,t[1]=d):d=t[1],t[2]!==i?(u=()=>i.metric("contacts:settings:removeData",{}),t[2]=i,t[3]=u):u=t[3],t[4]!==o||t[5]!==c?(m=()=>{Pd.show(o({id:"bfHJjl"})),c.setQueryData(YF.findContactsStatusQueryKey,{syncStatus:void 0})},t[4]=o,t[5]=c,t[6]=m):m=t[6],t[7]!==o?(h=e=>{(0,Tn.isNetworkError)(e)?Pd.show(o({id:"yYztth"}),{type:"error"}):(Mt.logger.error("Remove data failed",{safeMessage:e}),Pd.show(o({id:"sRXMWZ",values:{0:(0,Tn.cleanError)(e)}}),{type:"error"}))},t[7]=o,t[8]=h):h=t[8],t[9]!==d||t[10]!==u||t[11]!==m||t[12]!==h?(p={mutationFn:d,onMutate:u,onSuccess:m,onError:h},t[9]=d,t[10]=u,t[11]=m,t[12]=h,t[13]=p):p=t[13];const{mutate:f,isPending:g}=(0,go.useMutation)(p);let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W;t[14]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.px_xl,qs.atoms.py_xl,qs.atoms.gap_4xl],t[14]=x):x=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.gap_xs,qs.atoms.align_start],t[15]=_):_=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"JGUS8m"})}),t[16]=y):y=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_2xs],t[17]=b):b=t[17],t[18]!==r.atoms.text_contrast_medium?(j=[qs.atoms.text_sm,qs.atoms.leading_snug,r.atoms.text_contrast_medium],t[18]=r.atoms.text_contrast_medium,t[19]=j):j=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"9XLLjv"}),t[20]=v):v=t[20],t[21]!==j?(S=(0,bt.jsx)(co.Text,{style:j,children:v}),t[21]=j,t[22]=S):S=t[22],t[23]!==r.atoms.text_contrast_medium?(w=[qs.atoms.text_sm,qs.atoms.leading_snug,r.atoms.text_contrast_medium],t[23]=r.atoms.text_contrast_medium,t[24]=w):w=t[24],t[25]!==a||t[26]!==s?(T=a.date(new Date(s),{dateStyle:"long"}),t[25]=a,t[26]=s,t[27]=T):T=t[27],t[28]!==T?(k=(0,bt.jsx)(dt.Trans,{id:"5WzHv2",values:{0:T}}),t[28]=T,t[29]=k):k=t[29],t[30]!==w||t[31]!==k?(C=(0,bt.jsx)(co.Text,{style:w,children:k}),t[30]=w,t[31]=k,t[32]=C):C=t[32],t[33]!==S||t[34]!==C?(I=(0,bt.jsxs)(Fs.default,{style:b,children:[S,C]}),t[33]=S,t[34]=C,t[35]=I):I=t[35],t[36]!==o?(A=o({id:"Ca58zV"}),t[36]=o,t[37]=A):A=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(P={screen:"FindContactsFlow"},t[38]=P):P=t[38],t[39]!==i||t[40]!==s?(E=()=>{const e=Math.floor((Date.now()-new Date(s).getTime())/864e5);i.metric("contacts:settings:resync",{daysSinceLastSync:e})},t[39]=i,t[40]=s,t[41]=E):E=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.mt_xs],R=(0,bt.jsx)(ao.ButtonIcon,{icon:qo.ArrowRotateClockwise_Stroke2_Corner0_Rounded}),t[42]=L,t[43]=R):(L=t[42],R=t[43]),t[44]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Ca58zV"})}),t[44]=B):B=t[44],t[45]!==A||t[46]!==E?(D=(0,bt.jsxs)(io.Link,{label:A,to:P,onPress:E,size:"small",color:"primary_subtle",style:L,children:[R,B]}),t[45]=A,t[46]=E,t[47]=D):D=t[47],t[48]!==I||t[49]!==D?(O=(0,bt.jsxs)(Fs.default,{style:_,children:[y,I,D]}),t[48]=I,t[49]=D,t[50]=O):O=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.gap_xs,qs.atoms.align_start],t[51]=M):M=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"zcOslo"})}),t[52]=F):F=t[52],t[53]!==r.atoms.text_contrast_medium?(N=[qs.atoms.text_sm,qs.atoms.leading_snug,r.atoms.text_contrast_medium],t[53]=r.atoms.text_contrast_medium,t[54]=N):N=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(dt.Trans,{id:"YowO0o"}),t[55]=H):H=t[55],t[56]!==N?(V=(0,bt.jsx)(co.Text,{style:N,children:H}),t[56]=N,t[57]=V):V=t[57],t[58]!==o?(z=o({id:"gDhddQ"}),t[58]=o,t[59]=z):z=t[59],t[60]!==f?(U=()=>f(),t[60]=f,t[61]=U):U=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.mt_xs],t[62]=W):W=t[62];const G=g?lo.Loader:ml.Trash_Stroke2_Corner0_Rounded;let q,Q,K,Z,Y;return t[63]!==G?(q=(0,bt.jsx)(ao.ButtonIcon,{icon:G}),t[63]=G,t[64]=q):q=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"gDhddQ"})}),t[65]=Q):Q=t[65],t[66]!==g||t[67]!==z||t[68]!==U||t[69]!==q?(K=(0,bt.jsxs)(ao.Button,{label:z,onPress:U,size:"small",color:"negative_subtle",disabled:g,style:W,children:[q,Q]}),t[66]=g,t[67]=z,t[68]=U,t[69]=q,t[70]=K):K=t[70],t[71]!==V||t[72]!==K?(Z=(0,bt.jsxs)(Fs.default,{style:M,children:[F,V,K]}),t[71]=V,t[72]=K,t[73]=Z):Z=t[73],t[74]!==O||t[75]!==Z?(Y=(0,bt.jsxs)(Fs.default,{style:x,children:[O,Z]}),t[74]=O,t[75]=Z,t[76]=Y):Y=t[76],Y}const iN=(0,ti.createSinglePathSVG)({path:"M13.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM10 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 6a1 1 0 0 0 0 2v2.64q-.319.374-.711.8l-.129.142c-.312.342-.649.711-.974 1.092-.731.857-1.488 1.866-1.89 2.99A4.9 4.9 0 0 0 4 17.298 4.7 4.7 0 0 0 8.702 22h6.596A4.7 4.7 0 0 0 20 17.298c0-.575-.114-1.122-.297-1.634-.401-1.124-1.157-2.133-1.89-2.99-.324-.38-.66-.75-.973-1.092h0l-.129-.141c-.26-.286-.5-.55-.711-.8V8a1 1 0 1 0 0-2H8Zm2 5.35V8h4v3.35l.22.275c.306.383.661.777 1.013 1.163l.13.143h0c.315.345.628.688.93 1.042.372.435.704.861.974 1.28l-.159.025c-.845.13-1.838.242-2.581.222-.842-.022-1.475-.217-2.227-.454l-.027-.008c-.746-.235-1.61-.507-2.746-.538-.743-.02-1.617.064-2.38.165q.26-.342.56-.692c.302-.354.615-.697.93-1.042l.13-.143c.352-.386.707-.78 1.014-1.163L10 11.35Zm7.41 5.905q.316-.048.586-.095.004.07.004.138A2.7 2.7 0 0 1 15.298 20H8.702A2.7 2.7 0 0 1 6 17.298q0-.213.039-.434c.236-.043.53-.093.853-.142.845-.13 1.837-.242 2.581-.222.842.022 1.475.217 2.227.454l.027.008c.746.235 1.61.507 2.746.538.931.024 2.07-.113 2.937-.245Z"});function lN(e){const t=(0,n.c)(52),{_:s}=(0,dt.useLingui)(),{data:o}=(0,xr.usePreferencesQuery)(),{mutate:a,variables:r}=(0,xr.useSetFeedViewPreferencesMutation)(),i=!(r?.hideReplies??o?.feedViewPrefs?.hideReplies),l=!(r?.hideReposts??o?.feedViewPrefs?.hideReposts),c=!(r?.hideQuotePosts??o?.feedViewPrefs?.hideQuotePosts),d=Boolean(r?.lab_mergeFeedEnabled??o?.feedViewPrefs?.lab_mergeFeedEnabled);let u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=u):u=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsxs)(ya.Header.Outer,{children:[u,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"sQH88t"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(no.Admonition,{type:"tip",style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"hgoaNH"})})}),t[2]=h):h=t[2],t[3]!==s?(p=s({id:"r+Wkd8"}),t[3]=s,t[4]=p):p=t[4],t[5]!==a?(f=e=>a({hideReplies:!e}),t[5]=a,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(BB.ItemIcon,{icon:ni}),t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsxs)(BB.Item,{children:[g,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"r+Wkd8"})}),(0,bt.jsx)(af.Platform,{})]}),t[8]=x):x=t[8],t[9]!==i||t[10]!==p||t[11]!==f?(_=(0,bt.jsx)(af.Item,{type:"checkbox",name:"show-replies",label:p,value:i,onChange:f,children:x}),t[9]=i,t[10]=p,t[11]=f,t[12]=_):_=t[12],t[13]!==s?(y=s({id:"six5KA"}),t[13]=s,t[14]=y):y=t[14],t[15]!==a?(b=e=>a({hideReposts:!e}),t[15]=a,t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(BB.ItemIcon,{icon:ci}),t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsxs)(BB.Item,{children:[j,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"six5KA"})}),(0,bt.jsx)(af.Platform,{})]}),t[18]=v):v=t[18],t[19]!==l||t[20]!==b||t[21]!==y?(S=(0,bt.jsx)(af.Item,{type:"checkbox",name:"show-reposts",label:y,value:l,onChange:b,children:v}),t[19]=l,t[20]=b,t[21]=y,t[22]=S):S=t[22],t[23]!==s?(w=s({id:"52jApw"}),t[23]=s,t[24]=w):w=t[24],t[25]!==a?(T=e=>a({hideQuotePosts:!e}),t[25]=a,t[26]=T):T=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(BB.ItemIcon,{icon:lf}),t[27]=k):k=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsxs)(BB.Item,{children:[k,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"52jApw"})}),(0,bt.jsx)(af.Platform,{})]}),t[28]=C):C=t[28],t[29]!==c||t[30]!==w||t[31]!==T?(I=(0,bt.jsx)(af.Item,{type:"checkbox",name:"show-quotes",label:w,value:c,onChange:T,children:C}),t[29]=c,t[30]=w,t[31]=T,t[32]=I):I=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(BB.Divider,{}),t[33]=A):A=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.ItemIcon,{icon:iN}),t[34]=P):P=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Rsjgm0"})}),t[35]=E):E=t[35],t[36]!==s?(L=s({id:"4qLA0J"}),t[36]=s,t[37]=L):L=t[37],t[38]!==a?(R=e=>a({lab_mergeFeedEnabled:e}),t[38]=a,t[39]=R):R=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.w_full,qs.atoms.gap_md],t[40]=B):B=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"4qLA0J"})}),O=(0,bt.jsx)(af.Platform,{}),t[41]=D,t[42]=O):(D=t[41],O=t[42]),t[43]!==d||t[44]!==L||t[45]!==R?(M=(0,bt.jsxs)(BB.Group,{children:[P,E,(0,bt.jsxs)(af.Item,{type:"checkbox",name:"merge-feed",label:L,value:d,onChange:R,style:B,children:[D,O]})]}),t[43]=d,t[44]=L,t[45]=R,t[46]=M):M=t[46],t[47]!==S||t[48]!==I||t[49]!==M||t[50]!==_?(F=(0,bt.jsxs)(ya.Screen,{testID:"followingFeedPreferencesScreen",children:[m,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[h,_,S,I,A,M]})})]}),t[47]=S,t[48]=I,t[49]=M,t[50]=_,t[51]=F):F=t[51],F}function cN(e){const t=(0,n.c)(24),s=(0,qs.useTheme)();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=["base"],t[0]=o):o=t[0];const a=(0,qs.useGutters)(o),{data:r}=(0,xr.usePreferencesQuery)(),[i,l]=(0,lt.useState)(!1);let c,d,u,m,h,p,f,g,x,_,y,b;return t[1]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(ya.Header.BackButton,{}),t[1]=c):c=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"4zDzuI"})})}),t[2]=d):d=t[2],t[3]!==i?(u=i&&(0,bt.jsx)(lo.Loader,{}),t[3]=i,t[4]=u):u=t[4],t[5]!==u?(m=(0,bt.jsxs)(ya.Header.Outer,{children:[c,d,(0,bt.jsx)(ya.Header.Slot,{children:u})]}),t[5]=u,t[6]=m):m=t[6],t[7]!==a?(h=[a,qs.atoms.gap_lg],t[7]=a,t[8]=h):h=t[8],t[9]!==s.atoms.text_contrast_medium?(p=[qs.atoms.flex_1,qs.atoms.text_sm,qs.atoms.leading_snug,s.atoms.text_contrast_medium],t[9]=s.atoms.text_contrast_medium,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(dt.Trans,{id:"oHGm0u"}),t[11]=f):f=t[11],t[12]!==p?(g=(0,bt.jsx)(co.Text,{style:p,children:f}),t[12]=p,t[13]=g):g=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(yo,{}),t[14]=x):x=t[14],t[15]!==r?(_=r?(0,bt.jsx)(dN,{preferences:r,setIsSaving:l}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.p_lg],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[15]=r,t[16]=_):_=t[16],t[17]!==_||t[18]!==h||t[19]!==g?(y=(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(Fs.default,{style:h,children:[g,x,_]})}),t[17]=_,t[18]=h,t[19]=g,t[20]=y):y=t[20],t[21]!==y||t[22]!==m?(b=(0,bt.jsxs)(ya.Screen,{children:[m,y]}),t[21]=y,t[22]=m,t[23]=b):b=t[23],b}function dN({preferences:e,setIsSaving:t}){const{_:s}=(0,dt.useLingui)(),o=(0,Gt.useAgent)(),n=(0,On.useQueryClient)(),a=Ml(),r=(0,lt.useMemo)((()=>e.interests.tags||[]),[e.interests.tags]),[i,l]=(0,lt.useState)(r),c=(0,lt.useMemo)((()=>Aj()((async e=>{if(!(e.length===r.length&&r.every((t=>e.find((e=>e===t)))))){t(!0);try{await o.setInterestsPref({tags:e}),n.setQueriesData({queryKey:xr.preferencesQueryKey},(t=>t?(t.interests.tags=e,t):t)),await Promise.all([n.resetQueries({queryKey:HD()}),n.resetQueries({queryKey:MD()}),n.resetQueries({queryKey:(0,Nl.createGetSuggestedUsersQueryKey)({})})]),Ds.show(s({id:"NrBW1B"}))}catch(a){Ds.show(s({id:"bDZ5lh"}),"xmark")}finally{t(!1)}}}),1500)),[s,o,t,n,r]);return(0,bt.jsxs)(bt.Fragment,{children:[0===i.length&&(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"/IMUDs"})}),(0,bt.jsx)(af.Group,{values:i,onChange:async e=>{l(e),c(e)},label:s({id:"banW+8"}),children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.flex_wrap,qs.atoms.gap_sm],children:Dl.map((e=>a[e]?(0,bt.jsx)(af.Item,{name:e,label:a[e],children:(0,bt.jsx)(uN,{interest:e})},e):null))})})]})}function uN(e){const t=(0,n.c)(54),{interest:s}=e,o=(0,qs.useTheme)(),a=Ml(),r=af.useItemContext();let i;t[0]!==o.atoms.bg_contrast_100?(i=[o.atoms.bg_contrast_100],t[0]=o.atoms.bg_contrast_100,t[1]=i):i=t[1];const l=i;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[2]=c):c=t[2];const d=c;let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[3]=u):u=t[3];const m=u;let h;t[4]!==o.atoms.bg_contrast_900?(h=[o.atoms.bg_contrast_900],t[4]=o.atoms.bg_contrast_900,t[5]=h):h=t[5];const p=h;let f;t[6]!==o.atoms.bg_contrast_975?(f=[o.atoms.bg_contrast_975],t[6]=o.atoms.bg_contrast_975,t[7]=f):f=t[7];const g=f;let x;t[8]!==o.atoms.text_inverted?(x=[o.atoms.text_inverted],t[8]=o.atoms.text_inverted,t[9]=x):x=t[9];const _=x;let y;t[10]!==l||t[11]!==p||t[12]!==g||t[13]!==_?(y={hovered:l,focused:d,pressed:m,selected:p,selectedHover:g,textSelected:_},t[10]=l,t[11]=p,t[12]=g,t[13]=_,t[14]=y):y=t[14];const b=y;let j,v,S,w,T,k,C,I,A;t[15]!==r.hovered||t[16]!==b?(j=r.hovered?b.hovered:{},t[15]=r.hovered,t[16]=b,t[17]=j):j=t[17],t[18]!==r.focused||t[19]!==b?(v=r.focused?b.hovered:{},t[18]=r.focused,t[19]=b,t[20]=v):v=t[20],t[21]!==r.pressed||t[22]!==b?(S=r.pressed?b.hovered:{},t[21]=r.pressed,t[22]=b,t[23]=S):S=t[23],t[24]!==r.selected||t[25]!==b?(w=r.selected?b.selected:{},t[24]=r.selected,t[25]=b,t[26]=w):w=t[26],t[27]!==r.focused||t[28]!==r.hovered||t[29]!==r.pressed||t[30]!==r.selected||t[31]!==b?(T=r.selected&&(r.hovered||r.focused||r.pressed)?b.selectedHover:{},t[27]=r.focused,t[28]=r.hovered,t[29]=r.pressed,t[30]=r.selected,t[31]=b,t[32]=T):T=t[32],t[33]!==o.atoms.bg_contrast_50||t[34]!==S||t[35]!==w||t[36]!==T||t[37]!==j||t[38]!==v?(k=[qs.atoms.rounded_full,qs.atoms.py_md,qs.atoms.px_xl,o.atoms.bg_contrast_50,j,v,S,w,T],t[33]=o.atoms.bg_contrast_50,t[34]=S,t[35]=w,t[36]=T,t[37]=j,t[38]=v,t[39]=k):k=t[39],t[40]!==o.palette.contrast_900?(C={color:o.palette.contrast_900},t[40]=o.palette.contrast_900,t[41]=C):C=t[41],t[42]!==r.selected||t[43]!==b?(I=r.selected?b.textSelected:{},t[42]=r.selected,t[43]=b,t[44]=I):I=t[44],t[45]!==C||t[46]!==I?(A=[C,qs.atoms.font_semi_bold,I],t[45]=C,t[46]=I,t[47]=A):A=t[47];const P=a[s];let E,L;return t[48]!==A||t[49]!==P?(E=(0,bt.jsx)(co.Text,{selectable:!1,style:A,children:P}),t[48]=A,t[49]=P,t[50]=E):E=t[50],t[51]!==k||t[52]!==E?(L=(0,bt.jsx)(Fs.default,{style:k,children:E}),t[51]=k,t[52]=E,t[53]=L):L=t[53],L}const mN=Rt.LANGUAGES.filter(((e,t,s)=>e.code2&&s.findIndex((t=>t.code2===e.code2))===t));function hN(e){const t=(0,n.c)(84),{_:s}=(0,dt.useLingui)(),o=(0,Bt.useLanguagePrefs)(),a=(0,Bt.useLanguagePrefsApi)(),r=(0,qs.useTheme)(),{openModal:i}=(0,is.useModalControls)();let l;t[0]!==i?(l=()=>{i({name:"content-languages-settings"})},t[0]=i,t[1]=l):l=t[1];const c=l;let d;t[2]!==o.primaryLanguage||t[3]!==a?(d=e=>{e&&o.primaryLanguage!==e&&a.setPrimaryLanguage(e)},t[2]=o.primaryLanguage,t[3]=a,t[4]=d):d=t[4];const u=d;let m;t[5]!==o.appLanguage||t[6]!==a?(m=e=>{e&&o.appLanguage!==e&&a.setAppLanguage((0,Lt.sanitizeAppLanguageSetting)(e))},t[5]=o.appLanguage,t[6]=a,t[7]=m):m=t[7];const h=m;let p;if(t[8]!==o.appLanguage||t[9]!==o.contentLanguages){let e;t[11]!==o.appLanguage?(e=e=>(0,Lt.languageName)(e,o.appLanguage),t[11]=o.appLanguage,t[12]=e):e=t[12],p=o.contentLanguages.map(xN).filter(Boolean).map(e).join(", "),t[8]=o.appLanguage,t[9]=o.contentLanguages,t[10]=p}else p=t[10];const f=p;let g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ya.Header.BackButton,{}),t[13]=g):g=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsxs)(ya.Header.Outer,{children:[g,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"GAmD3h"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[14]=x):x=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"fdjKGe"})}),t[15]=_):_=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.gap_md,qs.atoms.w_full],t[16]=y):y=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"BfTvve"})}),t[17]=b):b=t[17],t[18]!==o.appLanguage?(j=(0,Lt.sanitizeAppLanguageSetting)(o.appLanguage),t[18]=o.appLanguage,t[19]=j):j=t[19],t[20]!==s?(v=s({id:"tXa+/a"}),t[20]=s,t[21]=v):v=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(V_.ValueText,{}),w=(0,bt.jsx)(V_.Icon,{}),t[22]=S,t[23]=w):(S=t[22],w=t[23]),t[24]!==v?(T=(0,bt.jsxs)(V_.Trigger,{label:v,children:[S,w]}),t[24]=v,t[25]=T):T=t[25],t[26]!==s?(k=s({id:"cnAqww"}),t[26]=s,t[27]=k):k=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(C=Rt.APP_LANGUAGES.map(fN),t[28]=C):C=t[28],t[29]!==k?(I=(0,bt.jsx)(V_.Content,{label:k,renderItem:gN,items:C}),t[29]=k,t[30]=I):I=t[30],t[31]!==h||t[32]!==j||t[33]!==T||t[34]!==I?(A=(0,bt.jsxs)(BB.Group,{iconInset:!1,children:[_,(0,bt.jsxs)(Fs.default,{style:y,children:[b,(0,bt.jsxs)(V_.Root,{value:j,onValueChange:h,children:[T,I]})]})]}),t[31]=h,t[32]=j,t[33]=T,t[34]=I,t[35]=A):A=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.Divider,{}),t[36]=P):P=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"HeBcM5"})}),t[37]=E):E=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.gap_md,qs.atoms.w_full],t[38]=L):L=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"TiiOza"})}),t[39]=R):R=t[39];const B=o.primaryLanguage;let D,O,M,F,N,H,V,z,U,W,G,q,Q,K;t[40]!==s?(D=s({id:"4StAiY"}),t[40]=s,t[41]=D):D=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(V_.ValueText,{}),M=(0,bt.jsx)(V_.Icon,{}),t[42]=O,t[43]=M):(O=t[42],M=t[43]),t[44]!==D?(F=(0,bt.jsxs)(V_.Trigger,{label:D,children:[O,M]}),t[44]=D,t[45]=F):F=t[45],t[46]!==s?(N=s({id:"b1FYSK"}),t[46]=s,t[47]=N):N=t[47],t[48]!==o.appLanguage?(H=mN.map((e=>({label:(0,Lt.languageName)(e,o.appLanguage),value:e.code2}))),t[48]=o.appLanguage,t[49]=H):H=t[49],t[50]!==N||t[51]!==H?(V=(0,bt.jsx)(V_.Content,{label:N,renderItem:pN,items:H}),t[50]=N,t[51]=H,t[52]=V):V=t[52],t[53]!==o.primaryLanguage||t[54]!==u||t[55]!==F||t[56]!==V?(z=(0,bt.jsxs)(BB.Group,{iconInset:!1,children:[E,(0,bt.jsxs)(Fs.default,{style:L,children:[R,(0,bt.jsxs)(V_.Root,{value:B,onValueChange:u,children:[F,V]})]})]}),t[53]=o.primaryLanguage,t[54]=u,t[55]=F,t[56]=V,t[57]=z):z=t[57],t[58]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsx)(BB.Divider,{}),t[58]=U):U=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(W=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"/PlAsF"})}),t[59]=W):W=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(G=[qs.atoms.gap_md],t[60]=G):G=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(q=(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"vECNLO"})}),t[61]=q):q=t[61],t[62]!==s?(Q=s({id:"pQWhRR"}),t[62]=s,t[63]=Q):Q=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(K=[qs.atoms.justify_start,(0,qs.web)({maxWidth:400})],t[64]=K):K=t[64];const Z=f.length>0?ro.Check_Stroke2_Corner0_Rounded:zg.PlusLarge_Stroke2_Corner0_Rounded;let Y,$,X,J,ee,te;return t[65]!==Z?(Y=(0,bt.jsx)(ao.ButtonIcon,{icon:Z}),t[65]=Z,t[66]=Y):Y=t[66],t[67]!==r.atoms.text?($=[r.atoms.text,qs.atoms.text_md,qs.atoms.flex_1,qs.atoms.text_left],t[67]=r.atoms.text,t[68]=$):$=t[68],t[69]!==s||t[70]!==f?(X=f.length>0?f:s({id:"05yWmq"}),t[69]=s,t[70]=f,t[71]=X):X=t[71],t[72]!==$||t[73]!==X?(J=(0,bt.jsx)(ao.ButtonText,{style:$,numberOfLines:1,children:X}),t[72]=$,t[73]=X,t[74]=J):J=t[74],t[75]!==c||t[76]!==Q||t[77]!==Y||t[78]!==J?(ee=(0,bt.jsxs)(BB.Group,{iconInset:!1,children:[W,(0,bt.jsxs)(Fs.default,{style:G,children:[q,(0,bt.jsxs)(ao.Button,{label:Q,size:"small",color:"secondary",shape:"rectangular",onPress:c,style:K,children:[Y,J]})]})]}),t[75]=c,t[76]=Q,t[77]=Y,t[78]=J,t[79]=ee):ee=t[79],t[80]!==A||t[81]!==z||t[82]!==ee?(te=(0,bt.jsxs)(ya.Screen,{testID:"PreferencesLanguagesScreen",children:[x,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[A,P,z,U,ee]})})]}),t[80]=A,t[81]=z,t[82]=ee,t[83]=te):te=t[83],te}function pN(e){const{label:t,value:s}=e;return(0,bt.jsxs)(V_.Item,{value:s,label:t,children:[(0,bt.jsx)(V_.ItemIndicator,{}),(0,bt.jsx)(V_.ItemText,{children:t})]})}function fN(e){return{label:e.name,value:e.code2}}function gN(e){const{label:t,value:s}=e;return(0,bt.jsxs)(V_.Item,{value:s,label:t,children:[(0,bt.jsx)(V_.ItemIndicator,{}),(0,bt.jsx)(V_.ItemText,{children:t})]})}function xN(e){return Rt.LANGUAGES.find((t=>t.code2===e))}function _N(e){const t=(0,n.c)(2),{navigation:s}=e;let o;return t[0]!==s?(o=()=>{s.replace("NotificationSettings")},t[0]=s,t[1]=o):o=t[1],(0,Ns.useFocusEffect)(o),null}var yN=s(41003);const bN=["notification-permissions"];function jN(e){const t=(0,n.c)(172),{_:s}=(0,dt.useLingui)(),o=(0,On.useQueryClient)(),{data:a,isError:i}=DS();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={queryKey:bN,queryFn:vN},t[0]=l):l=t[0];const{data:c,refetch:d}=(0,Zs.useQuery)(l),u=(0,$i.useAppState)();let m,h,p;t[1]!==u||t[2]!==d?(m=()=>{"active"===u&&d()},h=[u,d],t[1]=u,t[2]=d,t[3]=m,t[4]=h):(m=t[3],h=t[4]),(0,lt.useEffect)(m,h),t[5]!==c?.canAskAgain||t[6]!==o?(p=async()=>{if(!r.IS_WEB)if(c?.canAskAgain){const e=await yN.requestPermissionsAsync();o.setQueryData(bN,e)}else if(r.IS_ANDROID)try{await In.default.sendIntent("android.settings.APP_NOTIFICATION_SETTINGS",[{key:"android.provider.extra.APP_PACKAGE",value:"xyz.blueskyweb.app"}])}catch{In.default.openSettings()}else r.IS_IOS&&In.default.openSettings()},t[5]=c?.canAskAgain,t[6]=o,t[7]=p):p=t[7];const f=p;let g,x,_,y,b,j,v,S,w,T;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ya.Header.BackButton,{}),t[8]=g):g=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsxs)(ya.Header.Outer,{children:[g,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[9]=x):x=t[9],t[10]!==s||t[11]!==f||t[12]!==c?(_=c&&!c.granted&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(BB.PressableItem,{label:s({id:"LE+dJs"}),onPress:f,children:[(0,bt.jsx)(BB.ItemIcon,{icon:NM}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"LE+dJs"})})]}),(0,bt.jsx)(BB.Divider,{})]}),t[10]=s,t[11]=f,t[12]=c,t[13]=_):_=t[13],t[14]!==i?(y=i&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pb_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}),t[14]=i,t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.gap_sm],t[16]=b):b=t[16],t[17]!==s?(j=s({id:"TQdHiQ"}),t[17]=s,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v={screen:"LikeNotificationSettings"},S=[qs.atoms.align_start],w=(0,bt.jsx)(BB.ItemIcon,{icon:ri}),t[19]=v,t[20]=S,t[21]=w):(v=t[19],S=t[20],w=t[21]),t[22]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(dt.Trans,{id:"zZOZj7"}),t[22]=T):T=t[22];const k=a?.like;let C;t[23]!==k?(C=(0,bt.jsx)(SN,{preference:k}),t[23]=k,t[24]=C):C=t[24];const I=!a;let A,P,E,L,R,B,D;t[25]!==C||t[26]!==I?(A=(0,bt.jsx)(gF,{titleText:T,subtitleText:C,showSkeleton:I}),t[25]=C,t[26]=I,t[27]=A):A=t[27],t[28]!==j||t[29]!==A?(P=(0,bt.jsxs)(BB.LinkItem,{label:j,to:v,contentContainerStyle:S,children:[w,A]}),t[28]=j,t[29]=A,t[30]=P):P=t[30],t[31]!==s?(E=s({id:"oZYHWS"}),t[31]=s,t[32]=E):E=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L={screen:"NewFollowerNotificationSettings"},R=[qs.atoms.align_start],B=(0,bt.jsx)(BB.ItemIcon,{icon:pc.PersonPlus_Stroke2_Corner2_Rounded}),t[33]=L,t[34]=R,t[35]=B):(L=t[33],R=t[34],B=t[35]),t[36]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(dt.Trans,{id:"94726G"}),t[36]=D):D=t[36];const O=a?.follow;let M;t[37]!==O?(M=(0,bt.jsx)(SN,{preference:O}),t[37]=O,t[38]=M):M=t[38];const F=!a;let N,H,V,z,U,W,G;t[39]!==M||t[40]!==F?(N=(0,bt.jsx)(gF,{titleText:D,subtitleText:M,showSkeleton:F}),t[39]=M,t[40]=F,t[41]=N):N=t[41],t[42]!==E||t[43]!==N?(H=(0,bt.jsxs)(BB.LinkItem,{label:E,to:L,contentContainerStyle:R,children:[B,N]}),t[42]=E,t[43]=N,t[44]=H):H=t[44],t[45]!==s?(V=s({id:"owMZCf"}),t[45]=s,t[46]=V):V=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(z={screen:"ReplyNotificationSettings"},U=[qs.atoms.align_start],W=(0,bt.jsx)(BB.ItemIcon,{icon:oi}),t[47]=z,t[48]=U,t[49]=W):(z=t[47],U=t[48],W=t[49]),t[50]===Symbol.for("react.memo_cache_sentinel")?(G=(0,bt.jsx)(dt.Trans,{id:"N8UzTV"}),t[50]=G):G=t[50];const q=a?.reply;let Q;t[51]!==q?(Q=(0,bt.jsx)(SN,{preference:q}),t[51]=q,t[52]=Q):Q=t[52];const K=!a;let Z,Y,$,X,J,ee,te;t[53]!==Q||t[54]!==K?(Z=(0,bt.jsx)(gF,{titleText:G,subtitleText:Q,showSkeleton:K}),t[53]=Q,t[54]=K,t[55]=Z):Z=t[55],t[56]!==V||t[57]!==Z?(Y=(0,bt.jsxs)(BB.LinkItem,{label:V,to:z,contentContainerStyle:U,children:[W,Z]}),t[56]=V,t[57]=Z,t[58]=Y):Y=t[58],t[59]!==s?($=s({id:"I0DNn+"}),t[59]=s,t[60]=$):$=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(X={screen:"MentionNotificationSettings"},J=[qs.atoms.align_start],ee=(0,bt.jsx)(BB.ItemIcon,{icon:zk}),t[61]=X,t[62]=J,t[63]=ee):(X=t[61],J=t[62],ee=t[63]),t[64]===Symbol.for("react.memo_cache_sentinel")?(te=(0,bt.jsx)(dt.Trans,{id:"/bZzdR"}),t[64]=te):te=t[64];const se=a?.mention;let oe;t[65]!==se?(oe=(0,bt.jsx)(SN,{preference:se}),t[65]=se,t[66]=oe):oe=t[66];const ne=!a;let ae,re,ie,le,ce,de,ue;t[67]!==oe||t[68]!==ne?(ae=(0,bt.jsx)(gF,{titleText:te,subtitleText:oe,showSkeleton:ne}),t[67]=oe,t[68]=ne,t[69]=ae):ae=t[69],t[70]!==$||t[71]!==ae?(re=(0,bt.jsxs)(BB.LinkItem,{label:$,to:X,contentContainerStyle:J,children:[ee,ae]}),t[70]=$,t[71]=ae,t[72]=re):re=t[72],t[73]!==s?(ie=s({id:"77CXmv"}),t[73]=s,t[74]=ie):ie=t[74],t[75]===Symbol.for("react.memo_cache_sentinel")?(le={screen:"QuoteNotificationSettings"},ce=[qs.atoms.align_start],de=(0,bt.jsx)(BB.ItemIcon,{icon:rf}),t[75]=le,t[76]=ce,t[77]=de):(le=t[75],ce=t[76],de=t[77]),t[78]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,bt.jsx)(dt.Trans,{id:"eWLklq"}),t[78]=ue):ue=t[78];const me=a?.quote;let he;t[79]!==me?(he=(0,bt.jsx)(SN,{preference:me}),t[79]=me,t[80]=he):he=t[80];const pe=!a;let fe,ge,xe,_e,ye,be,je;t[81]!==he||t[82]!==pe?(fe=(0,bt.jsx)(gF,{titleText:ue,subtitleText:he,showSkeleton:pe}),t[81]=he,t[82]=pe,t[83]=fe):fe=t[83],t[84]!==ie||t[85]!==fe?(ge=(0,bt.jsxs)(BB.LinkItem,{label:ie,to:le,contentContainerStyle:ce,children:[de,fe]}),t[84]=ie,t[85]=fe,t[86]=ge):ge=t[86],t[87]!==s?(xe=s({id:"njOT8C"}),t[87]=s,t[88]=xe):xe=t[88],t[89]===Symbol.for("react.memo_cache_sentinel")?(_e={screen:"RepostNotificationSettings"},ye=[qs.atoms.align_start],be=(0,bt.jsx)(BB.ItemIcon,{icon:ci}),t[89]=_e,t[90]=ye,t[91]=be):(_e=t[89],ye=t[90],be=t[91]),t[92]===Symbol.for("react.memo_cache_sentinel")?(je=(0,bt.jsx)(dt.Trans,{id:"rJ6cpc"}),t[92]=je):je=t[92];const ve=a?.repost;let Se;t[93]!==ve?(Se=(0,bt.jsx)(SN,{preference:ve}),t[93]=ve,t[94]=Se):Se=t[94];const we=!a;let Te,ke,Ce,Ie,Ae,Pe,Ee;t[95]!==Se||t[96]!==we?(Te=(0,bt.jsx)(gF,{titleText:je,subtitleText:Se,showSkeleton:we}),t[95]=Se,t[96]=we,t[97]=Te):Te=t[97],t[98]!==xe||t[99]!==Te?(ke=(0,bt.jsxs)(BB.LinkItem,{label:xe,to:_e,contentContainerStyle:ye,children:[be,Te]}),t[98]=xe,t[99]=Te,t[100]=ke):ke=t[100],t[101]!==s?(Ce=s({id:"PgJSdg"}),t[101]=s,t[102]=Ce):Ce=t[102],t[103]===Symbol.for("react.memo_cache_sentinel")?(Ie={screen:"ActivityNotificationSettings"},Ae=[qs.atoms.align_start],Pe=(0,bt.jsx)(BB.ItemIcon,{icon:ey.BellRinging_Stroke2_Corner0_Rounded}),t[103]=Ie,t[104]=Ae,t[105]=Pe):(Ie=t[103],Ae=t[104],Pe=t[105]),t[106]===Symbol.for("react.memo_cache_sentinel")?(Ee=(0,bt.jsx)(dt.Trans,{id:"JNgsJ0"}),t[106]=Ee):Ee=t[106];const Le=a?.subscribedPost;let Re;t[107]!==Le?(Re=(0,bt.jsx)(SN,{preference:Le}),t[107]=Le,t[108]=Re):Re=t[108];const Be=!a;let De,Oe,Me,Fe,Ne,He,Ve;t[109]!==Re||t[110]!==Be?(De=(0,bt.jsx)(gF,{titleText:Ee,subtitleText:Re,showSkeleton:Be}),t[109]=Re,t[110]=Be,t[111]=De):De=t[111],t[112]!==Ce||t[113]!==De?(Oe=(0,bt.jsxs)(BB.LinkItem,{label:Ce,to:Ie,contentContainerStyle:Ae,children:[Pe,De]}),t[112]=Ce,t[113]=De,t[114]=Oe):Oe=t[114],t[115]!==s?(Me=s({id:"L9pbj6"}),t[115]=s,t[116]=Me):Me=t[116],t[117]===Symbol.for("react.memo_cache_sentinel")?(Fe={screen:"LikesOnRepostsNotificationSettings"},Ne=[qs.atoms.align_start],He=(0,bt.jsx)(BB.ItemIcon,{icon:li}),t[117]=Fe,t[118]=Ne,t[119]=He):(Fe=t[117],Ne=t[118],He=t[119]),t[120]===Symbol.for("react.memo_cache_sentinel")?(Ve=(0,bt.jsx)(dt.Trans,{id:"aLBh3c"}),t[120]=Ve):Ve=t[120];const ze=a?.likeViaRepost;let Ue;t[121]!==ze?(Ue=(0,bt.jsx)(SN,{preference:ze}),t[121]=ze,t[122]=Ue):Ue=t[122];const We=!a;let Ge,qe,Qe,Ke,Ze,Ye,$e;t[123]!==Ue||t[124]!==We?(Ge=(0,bt.jsx)(gF,{titleText:Ve,subtitleText:Ue,showSkeleton:We}),t[123]=Ue,t[124]=We,t[125]=Ge):Ge=t[125],t[126]!==Me||t[127]!==Ge?(qe=(0,bt.jsxs)(BB.LinkItem,{label:Me,to:Fe,contentContainerStyle:Ne,children:[He,Ge]}),t[126]=Me,t[127]=Ge,t[128]=qe):qe=t[128],t[129]!==s?(Qe=s({id:"FzugUl"}),t[129]=s,t[130]=Qe):Qe=t[130],t[131]===Symbol.for("react.memo_cache_sentinel")?(Ke={screen:"RepostsOnRepostsNotificationSettings"},Ze=[qs.atoms.align_start],Ye=(0,bt.jsx)(BB.ItemIcon,{icon:ui}),t[131]=Ke,t[132]=Ze,t[133]=Ye):(Ke=t[131],Ze=t[132],Ye=t[133]),t[134]===Symbol.for("react.memo_cache_sentinel")?($e=(0,bt.jsx)(dt.Trans,{id:"Jc/x8q"}),t[134]=$e):$e=t[134];const Xe=a?.repostViaRepost;let Je;t[135]!==Xe?(Je=(0,bt.jsx)(SN,{preference:Xe}),t[135]=Xe,t[136]=Je):Je=t[136];const et=!a;let tt,st,ot,nt,at,rt,it;t[137]!==Je||t[138]!==et?(tt=(0,bt.jsx)(gF,{titleText:$e,subtitleText:Je,showSkeleton:et}),t[137]=Je,t[138]=et,t[139]=tt):tt=t[139],t[140]!==Qe||t[141]!==tt?(st=(0,bt.jsxs)(BB.LinkItem,{label:Qe,to:Ke,contentContainerStyle:Ze,children:[Ye,tt]}),t[140]=Qe,t[141]=tt,t[142]=st):st=t[142],t[143]!==s?(ot=s({id:"BWXs/I"}),t[143]=s,t[144]=ot):ot=t[144],t[145]===Symbol.for("react.memo_cache_sentinel")?(nt={screen:"MiscellaneousNotificationSettings"},at=[qs.atoms.align_start],rt=(0,bt.jsx)(BB.ItemIcon,{icon:VD}),t[145]=nt,t[146]=at,t[147]=rt):(nt=t[145],at=t[146],rt=t[147]),t[148]===Symbol.for("react.memo_cache_sentinel")?(it=(0,bt.jsx)(dt.Trans,{id:"MYCnaz"}),t[148]=it):it=t[148];const ct=a?.starterpackJoined;let ut;t[149]!==ct?(ut=(0,bt.jsx)(SN,{preference:ct}),t[149]=ct,t[150]=ut):ut=t[150];const mt=!a;let ht,pt,ft,gt;return t[151]!==ut||t[152]!==mt?(ht=(0,bt.jsx)(gF,{titleText:it,subtitleText:ut,showSkeleton:mt}),t[151]=ut,t[152]=mt,t[153]=ht):ht=t[153],t[154]!==ot||t[155]!==ht?(pt=(0,bt.jsxs)(BB.LinkItem,{label:ot,to:nt,contentContainerStyle:at,children:[rt,ht]}),t[154]=ot,t[155]=ht,t[156]=pt):pt=t[156],t[157]!==pt||t[158]!==P||t[159]!==H||t[160]!==Y||t[161]!==re||t[162]!==ge||t[163]!==ke||t[164]!==Oe||t[165]!==qe||t[166]!==st?(ft=(0,bt.jsxs)(Fs.default,{style:b,children:[P,H,Y,re,ge,ke,Oe,qe,st,pt]}),t[157]=pt,t[158]=P,t[159]=H,t[160]=Y,t[161]=re,t[162]=ge,t[163]=ke,t[164]=Oe,t[165]=qe,t[166]=st,t[167]=ft):ft=t[167],t[168]!==ft||t[169]!==_||t[170]!==y?(gt=(0,bt.jsxs)(ya.Screen,{children:[x,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[_,y,ft]})})]}),t[168]=ft,t[169]=_,t[170]=y,t[171]=gt):gt=t[171],gt}async function vN(){return r.IS_WEB?null:await yN.getPermissionsAsync()}function SN(e){const t=(0,n.c)(20),{preference:s}=e,{_:o}=(0,dt.useLingui)();if(!s)return null;if("include"in s){if("all"===s.include){if(s.list&&s.push){let e;return t[0]!==o?(e=o({id:"mI0VOk"}),t[0]=o,t[1]=e):e=t[1],e}if(s.list){let e;return t[2]!==o?(e=o({id:"endltk"}),t[2]=o,t[3]=e):e=t[3],e}if(s.push){let e;return t[4]!==o?(e=o({id:"aFBTf6"}),t[4]=o,t[5]=e):e=t[5],e}}else if("follows"===s.include){if(s.list&&s.push){let e;return t[6]!==o?(e=o({id:"AJk+Yn"}),t[6]=o,t[7]=e):e=t[7],e}if(s.list){let e;return t[8]!==o?(e=o({id:"Xlgdo6"}),t[8]=o,t[9]=e):e=t[9],e}if(s.push){let e;return t[10]!==o?(e=o({id:"/z+TFB"}),t[10]=o,t[11]=e):e=t[11],e}}}else{if(s.list&&s.push){let e;return t[12]!==o?(e=o({id:"HVUC7l"}),t[12]=o,t[13]=e):e=t[13],e}if(s.list){let e;return t[14]!==o?(e=o({id:"w6cB8e"}),t[14]=o,t[15]=e):e=t[15],e}if(s.push){let e;return t[16]!==o?(e=o({id:"uO9WLl"}),t[16]=o,t[17]=e):e=t[17],e}}let a;return t[18]!==o?(a=o({id:"az8lvo"}),t[18]=o,t[19]=a):a=t[19],a}function wN(e){const t=(0,n.c)(6),{name:s,syncOthers:o,preference:a,allowDisableInApp:r}=e,i=void 0===r||r;if(!a){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_5xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[0]=e):e=t[0],e}let l;return t[1]!==i||t[2]!==s||t[3]!==a||t[4]!==o?(l=(0,bt.jsx)(TN,{name:s,syncOthers:o,preference:a,allowDisableInApp:i}),t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=l):l=t[5],l}function TN(e){const t=(0,n.c)(54),{name:s,syncOthers:o,preference:a,allowDisableInApp:r}=e;let i;t[0]!==o?(i=void 0===o?[]:o,t[0]=o,t[1]=i):i=t[1];const l=i,c=(0,qs.useTheme)(),{_:d}=(0,dt.useLingui)(),u=(0,Xo.useAnalytics)(),{mutate:m}=OS();let h;t[2]!==a.list||t[3]!==a.push?(h=[],a.list&&h.push("list"),a.push&&h.push("push"),t[2]=a.list,t[3]=a.push,t[4]=h):h=t[4];const p=h;let f;t[5]!==u||t[6]!==m||t[7]!==s||t[8]!==a||t[9]!==l?(f=e=>{const t=Object.assign({},a,{list:e.includes("list"),push:e.includes("push")});u.metric("activityPreference:changeChannels",{name:s,push:t.push,list:t.list}),m(Object.assign({[s]:t},Object.fromEntries(l.map((e=>[e,t])))))},t[5]=u,t[6]=m,t[7]=s,t[8]=a,t[9]=l,t[10]=f):f=t[10];const g=f;let x;t[11]!==u||t[12]!==m||t[13]!==s||t[14]!==a||t[15]!==l?(x=e=>{const[t]=e;if("all"!==t&&"follows"!==t)throw new Error("Invalid filter");const o=Object.assign({},a,{include:t});u.metric("activityPreference:changeFilter",{name:s,value:t}),m(Object.assign({[s]:o},Object.fromEntries(l.map((e=>[e,o])))))},t[11]=u,t[12]=m,t[13]=s,t[14]=a,t[15]=l,t[16]=x):x=t[16];const _=x;let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;return t[17]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.px_xl,qs.atoms.pt_md,qs.atoms.gap_sm],t[17]=y):y=t[17],t[18]!==d?(b=d({id:"EFusZg"}),t[18]=d,t[19]=b):b=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.gap_sm],t[20]=j):j=t[20],t[21]!==d?(v=d({id:"/cgzj5"}),t[21]=d,t[22]=v):v=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.py_xs,(0,qs.platform)({native:[qs.atoms.justify_between],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_sm]})],t[23]=S):S=t[23],t[24]!==c.atoms.text?(w=[c.atoms.text,qs.atoms.font_normal,qs.atoms.text_md,qs.atoms.flex_1],t[24]=c.atoms.text,t[25]=w):w=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(dt.Trans,{id:"SZJG6+"}),t[26]=T):T=t[26],t[27]!==w?(k=(0,bt.jsx)(af.LabelText,{style:w,children:T}),t[27]=w,t[28]=k):k=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(af.Platform,{}),t[29]=C):C=t[29],t[30]!==k||t[31]!==v?(I=(0,bt.jsxs)(af.Item,{label:v,name:"push",style:S,children:[k,C]}),t[30]=k,t[31]=v,t[32]=I):I=t[32],t[33]!==d||t[34]!==r||t[35]!==c.atoms.text?(A=r&&(0,bt.jsxs)(af.Item,{label:d({id:"jfgtoR"}),name:"list",style:[qs.atoms.py_xs,(0,qs.platform)({native:[qs.atoms.justify_between],web:[qs.atoms.flex_row_reverse,qs.atoms.gap_sm]})],children:[(0,bt.jsx)(af.LabelText,{style:[c.atoms.text,qs.atoms.font_normal,qs.atoms.text_md,qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"d+XLaN"})}),(0,bt.jsx)(af.Platform,{})]}),t[33]=d,t[34]=r,t[35]=c.atoms.text,t[36]=A):A=t[36],t[37]!==I||t[38]!==A?(P=(0,bt.jsxs)(Fs.default,{style:j,children:[I,A]}),t[37]=I,t[38]=A,t[39]=P):P=t[39],t[40]!==p||t[41]!==g||t[42]!==P||t[43]!==b?(E=(0,bt.jsx)(af.Group,{type:"checkbox",label:b,values:p,onChange:g,children:P}),t[40]=p,t[41]=g,t[42]=P,t[43]=b,t[44]=E):E=t[44],t[45]!==d||t[46]!==p||t[47]!==_||t[48]!==a||t[49]!==c.atoms.text?(L="include"in a&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"ejVYRQ"})}),(0,bt.jsx)(af.Group,{type:"radio",label:d({id:"O8vGsZ"}),values:[a.include],onChange:_,disabled:0===p.length,children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(af.Item,{label:d({id:"PsQmAw"}),name:"all",style:[qs.atoms.flex_row,qs.atoms.py_xs,qs.atoms.gap_sm],children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{style:[p.length>0&&c.atoms.text,qs.atoms.font_normal,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"PsQmAw"})})]}),(0,bt.jsxs)(af.Item,{label:d({id:"1bj+Xr"}),name:"follows",style:[qs.atoms.flex_row,qs.atoms.py_xs,qs.atoms.gap_sm],children:[(0,bt.jsx)(af.Radio,{}),(0,bt.jsx)(af.LabelText,{style:[p.length>0&&c.atoms.text,qs.atoms.font_normal,qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"1bj+Xr"})})]})]})})]}),t[45]=d,t[46]=p,t[47]=_,t[48]=a,t[49]=c.atoms.text,t[50]=L):L=t[50],t[51]!==E||t[52]!==L?(R=(0,bt.jsxs)(Fs.default,{style:y,children:[E,L]}),t[51]=E,t[52]=L,t[53]=R):R=t[53],R}function kN(e){const t=(0,n.c)(40),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),{data:a,isError:r}=DS(),i=(0,ds.useModerationOpts)(),{data:l,isPending:c,error:d,isFetchingNextPage:u,fetchNextPage:m,hasNextPage:h}=(0,hy.useActivitySubscriptionsQuery)();let p;e:{if(!l){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],p=e;break e}let e;t[1]!==l?.pages?(e=l?.pages.flatMap(CN),t[1]=l?.pages,t[2]=e):e=t[2],p=e}const f=p;let g;t[3]!==i?(g=e=>{const{item:t}=e;return i?(0,bt.jsx)(AN,{profile:t,moderationOpts:i}):null},t[3]=i,t[4]=g):g=t[4];const x=g;let _;t[5]!==m||t[6]!==h||t[7]!==r||t[8]!==u?(_=async()=>{if(!u&&h&&!r)try{await m()}catch(b){const t=b;Mt.logger.error("Failed to load more likes",{message:t})}},t[5]=m,t[6]=h,t[7]=r,t[8]=u,t[9]=_):_=t[9];const y=_;let b,j,v,S,w,T,k;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(ya.Header.BackButton,{}),t[10]=b):b=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsxs)(ya.Header.Outer,{children:[b,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[11]=j):j=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.align_start],S=(0,bt.jsx)(BB.ItemIcon,{icon:ey.BellRinging_Stroke2_Corner0_Rounded}),t[12]=v,t[13]=S):(v=t[12],S=t[13]),t[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsxs)(BB.Item,{style:v,children:[S,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"JNgsJ0"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"sbHtsh"})})]}),t[14]=w):w=t[14],t[15]!==r||t[16]!==a?.subscribedPost?(T=(0,bt.jsxs)(BB.Container,{children:[w,r?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"subscribedPost",preference:a?.subscribedPost})]}),t[15]=r,t[16]=a?.subscribedPost,t[17]=T):T=t[17],t[18]!==o||t[19]!==d||t[20]!==c||t[21]!==s?(k=d?null:(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_xl,qs.atoms.py_md],children:c?(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.pt_xl],children:(0,bt.jsx)(lo.Loader,{size:"lg"})}):(0,bt.jsx)(no.Outer,{type:"tip",children:(0,bt.jsxs)(no.Row,{children:[(0,bt.jsx)(no.Icon,{}),(0,bt.jsxs)(no.Content,{children:[(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(dt.Trans,{id:"knIHvS",components:{0:(0,bt.jsx)(La.default,{style:[qs.atoms.font_semi_bold,s.atoms.text_contrast_high]}),1:(0,bt.jsx)(ey.BellRinging_Filled_Corner0_Rounded,{size:"xs",style:s.atoms.text_contrast_high})}})}),(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(dt.Trans,{id:"RwPwy0",components:{0:(0,bt.jsx)(io.InlineLinkText,{label:o({id:"akbI2S"}),to:{screen:"ActivityPrivacySettings"},style:[qs.atoms.font_semi_bold]})}})})]})]})})}),t[18]=o,t[19]=d,t[20]=c,t[21]=s,t[22]=k):k=t[22];const C=0===f.length&&qs.atoms.border_transparent;let I,A,P,E;return t[23]!==C?(I=[C],t[23]=C,t[24]=I):I=t[24],t[25]!==d?(A=(0,Tn.cleanError)(d),t[25]=d,t[26]=A):A=t[26],t[27]!==m||t[28]!==h||t[29]!==u||t[30]!==I||t[31]!==A?(P=(0,bt.jsx)(xS,{style:I,isFetchingNextPage:u,error:A,onRetry:m,hasNextPage:h}),t[27]=m,t[28]=h,t[29]=u,t[30]=I,t[31]=A,t[32]=P):P=t[32],t[33]!==f||t[34]!==y||t[35]!==x||t[36]!==k||t[37]!==P||t[38]!==T?(E=(0,bt.jsxs)(ya.Screen,{children:[j,(0,bt.jsx)(ei.List,{ListHeaderComponent:T,data:f,keyExtractor:IN,renderItem:x,onEndReached:y,onEndReachedThreshold:4,ListEmptyComponent:k,ListFooterComponent:P,windowSize:11})]}),t[33]=f,t[34]=y,t[35]=x,t[36]=k,t[37]=P,t[38]=T,t[39]=E):E=t[39],E}function CN(e){return e.subscriptions}function IN(e){return e.did}function AN(e){const t=(0,n.c)(44),{profile:s,moderationOpts:o}=e,a=(0,Va.useProfileShadow)(s),r=(0,Qs.useDialogControl)(),{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)();let c;a.viewer?.activitySubscription;e:{const e=a.viewer?.activitySubscription;if(e?.post&&e?.reply){let e;t[0]!==i?(e=i({id:"So/osf"}),t[0]=i,t[1]=e):e=t[1],c=e;break e}if(e?.post){let e;t[2]!==i?(e=i({id:"+owNNn"}),t[2]=i,t[3]=e):e=t[3],c=e;break e}if(e?.reply){let e;t[4]!==i?(e=i({id:"N8UzTV"}),t[4]=i,t[5]=e):e=t[5],c=e;break e}let s;t[6]!==i?(s=i({id:"EdQY6l"}),t[6]=i,t[7]=s):s=t[7],c=s}const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,S;return t[8]!==l.atoms.border_contrast_low?(u=[qs.atoms.py_md,qs.atoms.px_xl,qs.atoms.border_t,l.atoms.border_contrast_low],t[8]=l.atoms.border_contrast_low,t[9]=u):u=t[9],t[10]!==o||t[11]!==a?(m=(0,bt.jsx)(Rl.Avatar,{profile:a,moderationOpts:o}),t[10]=o,t[11]=a,t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_1,qs.atoms.gap_2xs],t[13]=h):h=t[13],t[14]!==o||t[15]!==a?(p=(0,bt.jsx)(Rl.NameAndHandle,{profile:a,moderationOpts:o,inline:!0}),t[14]=o,t[15]=a,t[16]=p):p=t[16],t[17]!==l.atoms.text_contrast_medium?(f=[qs.atoms.leading_snug,l.atoms.text_contrast_medium],t[17]=l.atoms.text_contrast_medium,t[18]=f):f=t[18],t[19]!==d||t[20]!==f?(g=(0,bt.jsx)(co.Text,{style:f,children:d}),t[19]=d,t[20]=f,t[21]=g):g=t[21],t[22]!==p||t[23]!==g?(x=(0,bt.jsxs)(Fs.default,{style:h,children:[p,g]}),t[22]=p,t[23]=g,t[24]=x):x=t[24],t[25]!==i||t[26]!==a?(_=i({id:"AUG9zg",values:{0:gg(a)}}),t[25]=i,t[26]=a,t[27]=_):_=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"ePK91l"})}),t[28]=y):y=t[28],t[29]!==r.open||t[30]!==_?(b=(0,bt.jsx)(ao.Button,{label:_,size:"small",color:"primary",variant:"solid",onPress:r.open,children:y}),t[29]=r.open,t[30]=_,t[31]=b):b=t[31],t[32]!==b||t[33]!==m||t[34]!==x?(j=(0,bt.jsx)(Rl.Outer,{children:(0,bt.jsxs)(Rl.Header,{children:[m,x,b]})}),t[32]=b,t[33]=m,t[34]=x,t[35]=j):j=t[35],t[36]!==r||t[37]!==o||t[38]!==a?(v=(0,bt.jsx)(py,{control:r,profile:a,moderationOpts:o,includeProfile:!0}),t[36]=r,t[37]=o,t[38]=a,t[39]=v):v=t[39],t[40]!==j||t[41]!==v||t[42]!==u?(S=(0,bt.jsxs)(Fs.default,{style:u,children:[j,v]}),t[40]=j,t[41]=v,t[42]=u,t[43]=S):S=t[43],S}function PN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:ri}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"zZOZj7"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"RnAXMF"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.like?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"like",preference:s?.like})]})})]}),t[5]=o,t[6]=s?.like,t[7]=d):d=t[7],d}function EN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:li}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"aLBh3c"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"iV6YEB"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.likeViaRepost?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"likeViaRepost",preference:s?.likeViaRepost})]})})]}),t[5]=o,t[6]=s?.likeViaRepost,t[7]=d):d=t[7],d}function LN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:zk}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"/bZzdR"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"ka96SB"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.mention?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"mention",preference:s?.mention})]})})]}),t[5]=o,t[6]=s?.mention,t[7]=d):d=t[7],d}function RN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:VD}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"MYCnaz"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"Wf6us3"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.starterpackJoined?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"starterpackJoined",preference:s?.starterpackJoined,syncOthers:["verified","unverified"],allowDisableInApp:!1})]})})]}),t[5]=o,t[6]=s?.starterpackJoined,t[7]=d):d=t[7],d}function BN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:pc.PersonPlus_Stroke2_Corner2_Rounded}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"94726G"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"dts740"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.follow?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"follow",preference:s?.follow})]})})]}),t[5]=o,t[6]=s?.follow,t[7]=d):d=t[7],d}function DN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:rf}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"eWLklq"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"fx3Jxj"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.quote?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"quote",preference:s?.quote})]})})]}),t[5]=o,t[6]=s?.quote,t[7]=d):d=t[7],d}function ON(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:oi}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"N8UzTV"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"mI3A4/"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.reply?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"reply",preference:s?.reply})]})})]}),t[5]=o,t[6]=s?.reply,t[7]=d):d=t[7],d}function MN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:ci}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"rJ6cpc"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"0ONKy2"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.repost?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"repost",preference:s?.repost})]})})]}),t[5]=o,t[6]=s?.repost,t[7]=d):d=t[7],d}function FN(e){const t=(0,n.c)(8),{data:s,isError:o}=DS();let a,r,i,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsxs)(ya.Header.Outer,{children:[a,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.align_start],l=(0,bt.jsx)(BB.ItemIcon,{icon:ui}),t[2]=i,t[3]=l):(i=t[2],l=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsxs)(BB.Item,{style:i,children:[l,(0,bt.jsx)(gF,{bold:!0,titleText:(0,bt.jsx)(dt.Trans,{id:"Jc/x8q"}),subtitleText:(0,bt.jsx)(dt.Trans,{id:"OYFPRS"})})]}),t[4]=c):c=t[4],t[5]!==o||t[6]!==s?.repostViaRepost?(d=(0,bt.jsxs)(ya.Screen,{children:[r,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[c,o?(0,bt.jsx)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md],children:(0,bt.jsx)(no.Admonition,{type:"error",children:(0,bt.jsx)(dt.Trans,{id:"warO5S"})})}):(0,bt.jsx)(wN,{name:"repostViaRepost",preference:s?.repostViaRepost})]})})]}),t[5]=o,t[6]=s?.repostViaRepost,t[7]=d):d=t[7],d}const NN=(0,ti.createSinglePathSVG)({path:"M3 12a4 4 0 0 1 7.212-2.385c.363.488.963.885 1.696.885h8.111l1.2 1.5-1.2 1.5h-1.783l-1.789-.894a1 1 0 0 0-.894 0l-1.79.894h-1.855c-.733 0-1.333.397-1.696.885A4 4 0 0 1 3 12Zm4-6a6 6 0 1 0 4.817 9.579.3.3 0 0 1 .076-.072l.017-.007H14a1 1 0 0 0 .447-.106L16 14.618l1.553.776c.139.07.292.106.447.106h2.02a2 2 0 0 0 1.561-.75l1.2-1.5a2 2 0 0 0 0-2.5l-1.2-1.5a2 2 0 0 0-1.562-.75h-8.11l-.016-.007a.3.3 0 0 1-.077-.071A6 6 0 0 0 7 6Zm0 7.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"});var HN=function(e){return e[e.Email=0]="Email",e[e.ConfirmCode=1]="ConfirmCode",e}(HN||{});function VN({control:e}){const{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),{gtMobile:o}=(0,qs.useBreakpoints)(),{currentAccount:n}=(0,Gt.useSession)(),a=(0,Gt.useAgent)(),[i,l]=(0,lt.useState)(HN.Email),[c,d]=(0,lt.useState)(""),[u,m]=(0,lt.useState)(!1),[h,p]=(0,lt.useState)(""),f=async()=>{p(""),m(!0);try{await a.com.atproto.server.requestEmailUpdate(),l(HN.ConfirmCode)}catch(e){p((0,Tn.cleanError)(String(e)))}finally{m(!1)}},g=async()=>{p(""),m(!0);try{n?.email&&(await a.com.atproto.server.updateEmail({email:n.email,token:c.trim(),emailAuthFactor:!1}),await a.resumeSession(a.session),Ds.show(t({id:"2rwarr"}))),e.close()}catch(s){const e=String(s);e.includes("Token is invalid")?p(t({id:"QPo/O5"})):p((0,Tn.cleanError)(e))}finally{m(!1)}};return(0,bt.jsxs)(Qs.Outer,{control:e,children:[(0,bt.jsx)(Qs.Handle,{}),(0,bt.jsx)(Qs.ScrollableInner,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.gap_md,qs.atoms.w_full],children:[(0,bt.jsx)(co.Text,{nativeID:"dialog-title",style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,s.atoms.text],children:(0,bt.jsx)(dt.Trans,{id:"jy+2+s"})}),(0,bt.jsx)(co.P,{nativeID:"dialog-description",children:i===HN.ConfirmCode?(0,bt.jsx)(dt.Trans,{id:"woXbjq",values:{0:n?.email||"(no email)"}}):(0,bt.jsx)(dt.Trans,{id:"FRsXF9"})}),h?(0,bt.jsx)(Dy.ErrorMessage,{message:h}):void 0,i===HN.Email?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,o&&[qs.atoms.flex_row,qs.atoms.justify_end,qs.atoms.gap_md]],children:[(0,bt.jsxs)(ao.Button,{testID:"sendEmailButton",variant:"solid",color:"primary",size:o?"small":"large",onPress:f,label:t({id:"IN+NvY"}),disabled:u,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"IN+NvY"})}),u&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(ao.Button,{testID:"haveCodeButton",variant:"ghost",color:"primary",size:o?"small":"large",onPress:()=>l(HN.ConfirmCode),label:t({id:"o+axy6"}),disabled:u,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"o+axy6"})})})]}):i===HN.ConfirmCode?(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mb_md],children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ioZOzk"})}),(0,bt.jsxs)(mo.Root,{children:[(0,bt.jsx)(mo.Icon,{icon:uw}),(0,bt.jsx)(Qs.Input,{testID:"confirmationCode",label:t({id:"ioZOzk"}),autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"off",value:c,onChangeText:d,onSubmitEditing:g,editable:!u})]})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,o&&[qs.atoms.flex_row,qs.atoms.justify_end,qs.atoms.gap_md]],children:[(0,bt.jsx)(ao.Button,{testID:"resendCodeBtn",variant:"ghost",color:"primary",size:o?"small":"large",onPress:f,label:t({id:"G42SNI"}),disabled:u,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"G42SNI"})})}),(0,bt.jsxs)(ao.Button,{testID:"confirmBtn",variant:"solid",color:"primary",size:o?"small":"large",onPress:g,label:t({id:"7VpPHA"}),disabled:u,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"7VpPHA"})}),u&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]})]})]}):void 0,!o&&r.IS_NATIVE&&(0,bt.jsx)(Fs.default,{style:{height:40}})]})})]})}function zN(){const e=(0,n.c)(13),{_:t}=(0,dt.useLingui)(),{currentAccount:s}=(0,Gt.useSession)(),o=(0,Qs.useDialogControl)(),a=Ho();let r;e[0]!==a?(r=()=>{a.open({id:To.Manage2FA})},e[0]=a,e[1]=r):r=e[1];const i=r;let l,c,d,u;return e[2]!==o?(l=(0,bt.jsx)(VN,{control:o}),e[2]=o,e[3]=l):l=e[3],e[4]!==t||e[5]!==s?.emailAuthFactor?(c=t(s?.emailAuthFactor?{id:"o+XJ9D"}:{id:"PaQ3df"}),e[4]=t,e[5]=s?.emailAuthFactor,e[6]=c):c=e[6],e[7]!==i||e[8]!==c?(d=(0,bt.jsx)(BB.BadgeButton,{label:c,onPress:i}),e[7]=i,e[8]=c,e[9]=d):d=e[9],e[10]!==l||e[11]!==d?(u=(0,bt.jsxs)(bt.Fragment,{children:[l,d]}),e[10]=l,e[11]=d,e[12]=u):u=e[12],u}function UN(){const e=(0,n.c)(26),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),{currentAccount:o}=(0,Gt.useSession)(),a=o?.did;let r;e[0]!==a?(r={did:a},e[0]=a,e[1]=r):r=e[1];const{data:i}=(0,Ut.useProfileQuery)(r),l=(0,Ut.useProfileUpdateMutation)();let c;e[2]!==i?.labels?(c=i?.labels?.some(QN)||!1,e[2]=i?.labels,e[3]=c):c=e[3];const d=c,u=i&&!l.isPending;let m;e[4]!==i||e[5]!==l?(m=()=>{if(!i)return;let e=!1;l.mutate({profile:i,updates:t=>{const s=qc.validate(t.labels,Dn.ComAtprotoLabelDefs.validateSelfLabels)?t.labels:{$type:"com.atproto.label.defs#selfLabels",values:[]};return s.values.some(qN)?(e=!1,s.values=s.values.filter(GN)):(e=!0,s.values.push({val:"!no-unauthenticated"})),0===s.values.length?delete t.labels:t.labels=s,t},checkCommitted:t=>!!t.data.labels?.some(WN)===e})},e[4]=i,e[5]=l,e[6]=m):m=e[6];const h=m;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_1,qs.atoms.gap_sm],e[7]=p):p=e[7];const f=!u||l.isPending;let g,x,_,y,b,j,v,S,w;return e[8]!==s?(g=s({id:"9Y7FMD"}),e[8]=s,e[9]=g):g=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.w_full],e[10]=x):x=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"9Y7FMD"})}),y=(0,bt.jsx)(af.Platform,{}),e[11]=_,e[12]=y):(_=e[11],y=e[12]),e[13]!==d||e[14]!==h||e[15]!==f||e[16]!==g?(b=(0,bt.jsxs)(af.Item,{name:"logged_out_visibility",disabled:f,value:d,onChange:h,label:g,style:x,children:[_,y]}),e[13]=d,e[14]=h,e[15]=f,e[16]=g,e[17]=b):b=e[17],e[18]!==t.atoms.text_contrast_high?(j=[qs.atoms.leading_snug,t.atoms.text_contrast_high],e[18]=t.atoms.text_contrast_high,e[19]=j):j=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"u9cCQU"}),e[20]=v):v=e[20],e[21]!==j?(S=(0,bt.jsx)(co.Text,{style:j,children:v}),e[21]=j,e[22]=S):S=e[22],e[23]!==b||e[24]!==S?(w=(0,bt.jsxs)(Fs.default,{style:p,children:[b,S]}),e[23]=b,e[24]=S,e[25]=w):w=e[25],w}function WN(e){return"!no-unauthenticated"===e.val}function GN(e){return"!no-unauthenticated"!==e.val}function qN(e){return"!no-unauthenticated"===e.val}function QN(e){return"!no-unauthenticated"===e.val}function KN(e){const t=(0,n.c)(50),{_:s}=(0,dt.useLingui)(),o=(0,qs.useTheme)(),{data:a}=AF(),{currentAccount:r}=(0,Gt.useSession)(),{data:i,isPending:l,isError:c}=(0,hy.useNotificationDeclarationQuery)();let d,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.BackButton,{}),t[0]=d):d=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(ya.Header.Outer,{children:[d,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"RyQRel"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[1]=u):u=t[1];const m=r?.emailAuthFactor?o.palette.primary_500:void 0;let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N;return t[2]!==m?(h=(0,bt.jsx)(BB.ItemIcon,{icon:ho.ShieldCheck_Stroke2_Corner0_Rounded,color:m}),t[2]=m,t[3]=h):h=t[3],t[4]!==r?.emailAuthFactor?(p=(0,bt.jsx)(BB.ItemText,{children:r?.emailAuthFactor?(0,bt.jsx)(dt.Trans,{id:"vzOC8R"}):(0,bt.jsx)(dt.Trans,{id:"WWDvcP"})}),t[4]=r?.emailAuthFactor,t[5]=p):p=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(zN,{}),t[6]=f):f=t[6],t[7]!==h||t[8]!==p?(g=(0,bt.jsxs)(BB.Item,{children:[h,p,f]}),t[7]=h,t[8]=p,t[9]=g):g=t[9],t[10]!==s?(x=s({id:"SMmUnj"}),t[10]=s,t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(BB.ItemIcon,{icon:NN}),t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"SMmUnj"})}),t[13]=y):y=t[13],t[14]!==a?(b=a&&a.length>0&&(0,bt.jsx)(BB.BadgeText,{children:a.length}),t[14]=a,t[15]=b):b=t[15],t[16]!==b||t[17]!==x?(j=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/app-passwords",label:x,children:[_,y,b]}),t[16]=b,t[17]=x,t[18]=j):j=t[18],t[19]!==s?(v=s({id:"3IRD9Z"}),t[19]=s,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(S={screen:"ActivityPrivacySettings"},w=[qs.atoms.align_start],T=(0,bt.jsx)(BB.ItemIcon,{icon:ey.BellRinging_Stroke2_Corner0_Rounded}),t[21]=S,t[22]=w,t[23]=T):(S=t[21],w=t[22],T=t[23]),t[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(dt.Trans,{id:"usU9El"}),t[24]=k):k=t[24],t[25]!==c||t[26]!==i?(C=(0,bt.jsx)(ZN,{data:i,isError:c}),t[25]=c,t[26]=i,t[27]=C):C=t[27],t[28]!==l||t[29]!==C?(I=(0,bt.jsx)(gF,{titleText:k,subtitleText:C,showSkeleton:l}),t[28]=l,t[29]=C,t[30]=I):I=t[30],t[31]!==v||t[32]!==I?(A=(0,bt.jsxs)(BB.LinkItem,{label:v,to:S,contentContainerStyle:w,children:[T,I]}),t[31]=v,t[32]=I,t[33]=A):A=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(BB.Divider,{}),t[34]=P):P=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(BB.ItemIcon,{icon:Oc.EyeSlash_Stroke2_Corner0_Rounded}),t[35]=E):E=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(L=(0,bt.jsxs)(BB.Group,{children:[E,(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"w2yNjr"})}),(0,bt.jsx)(UN,{})]}),t[36]=L):L=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_1],t[37]=R):R=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(no.Icon,{}),t[38]=B):B=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(dt.Trans,{id:"+lYa0i"})}),t[39]=D):D=t[39],t[40]!==s?(O=s({id:"lvYkpV"}),t[40]=s,t[41]=O):O=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(dt.Trans,{id:"lvYkpV"}),t[42]=M):M=t[42],t[43]!==O?(F=(0,bt.jsx)(BB.Item,{children:(0,bt.jsx)(no.Outer,{type:"tip",style:R,children:(0,bt.jsxs)(no.Row,{children:[B,(0,bt.jsxs)(no.Content,{children:[D,(0,bt.jsx)(no.Text,{children:(0,bt.jsx)(io.InlineLinkText,{label:O,to:"https://blueskyweb.zendesk.com/hc/en-us/articles/15835264007693-Data-Privacy",children:M})})]})]})})}),t[43]=O,t[44]=F):F=t[44],t[45]!==j||t[46]!==A||t[47]!==F||t[48]!==g?(N=(0,bt.jsxs)(ya.Screen,{children:[u,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[g,j,A,P,L,F]})})]}),t[45]=j,t[46]=A,t[47]=F,t[48]=g,t[49]=N):N=t[49],N}function ZN(e){const t=(0,n.c)(4),{data:s,isError:o}=e;if(o){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"wlGLuR"}),t[0]=e):e=t[0],e}switch(s?.value?.allowSubscriptions){case"mutuals":{let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"KotIA5"}),t[1]=e):e=t[1],e}case"none":{let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"BpgSik"}),t[2]=e):e=t[2],e}default:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(dt.Trans,{id:"Nvju1p"}),t[3]=e):e=t[3],e}}}function YN(e){const t=(0,n.c)(9),{style:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),r=(0,Fi.useAgeAssurance)(),{nux:i}=Di(Ii.AgeAssuranceDismissibleNotice),l=Mi(),{mutate:c,variables:d}=Oi(),u=!!d;if(r.state.access===r.Access.Full)return null;if(r.state.lastInitiatedAt)return null;if(u)return null;if(i&&i.completed)return null;let m,h;return t[0]!==o||t[1]!==r.state.error||t[2]!==a||t[3]!==l||t[4]!==c?(m="config"===r.state.error?(0,bt.jsx)(TE,{}):(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(bB,{children:l.notice}),(0,bt.jsx)(ao.Button,{label:o({id:"VbN7mk"}),size:"tiny",variant:"solid",color:"secondary_inverted",shape:"round",onPress:()=>{c({id:Ii.AgeAssuranceDismissibleNotice,completed:!0,data:void 0}),a.metric("ageAssurance:dismissSettingsNotice",{})},style:[qs.atoms.absolute,{top:12,right:12}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})})]}),t[0]=o,t[1]=r.state.error,t[2]=a,t[3]=l,t[4]=c,t[5]=m):m=t[5],t[6]!==s||t[7]!==m?(h=(0,bt.jsx)(Fs.default,{style:s,children:m}),t[6]=s,t[7]=m,t[8]=h):h=t[8],h}var $N=s(27689),XN=s(48992),JN=s(65823);function eH(e){const t=(0,n.c)(147),s=(0,Xo.useAnalytics)(),{_:o}=(0,dt.useLingui)(),a=(0,yn.useReducedMotion)(),{logoutEveryAccount:i}=(0,Gt.useSessionApi)(),{accounts:l,currentAccount:c}=(0,Gt.useSession)(),d=(0,Qs.useDialogControl)(),u=Zi.usePromptControl(),m=c?.did;let h;t[0]!==m?(h={did:m},t[0]=m,t[1]=h):h=t[1];const{data:p}=(0,Ut.useProfileQuery)(h);let f,g;if(t[2]!==l||t[3]!==c?.did){let e;t[5]!==c?.did?(e=e=>e.did!==c?.did,t[5]=c?.did,t[6]=e):e=t[6],f=l.filter(e).map(aH),t[2]=l,t[3]=c?.did,t[4]=f}else f=t[4];t[7]!==f?(g={handles:f},t[7]=f,t[8]=g):g=t[8];const{data:x}=(0,Ut.useProfilesQuery)(g),{pendingDid:_,onPressSwitchAccount:y}=Ln(),[b,j]=(0,lt.useState)(!1),[v,S]=(0,lt.useState)(!1),w=fA();let T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce,Ie,Ae,Pe,Ee,Le,Re,Be,De,Oe;return t[9]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(ya.Header.BackButton,{}),t[9]=T):T=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsxs)(ya.Header.Outer,{children:[T,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"Tz0i8g"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[10]=k):k=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(YN,{style:[qs.atoms.px_lg,qs.atoms.pt_xs,qs.atoms.pb_xl]}),t[11]=C):C=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.px_xl,qs.atoms.pt_md,qs.atoms.pb_md,qs.atoms.w_full,qs.atoms.gap_2xs,qs.atoms.align_center,{minHeight:160}],t[12]=I):I=t[12],t[13]!==p?(A=p&&(0,bt.jsx)(rH,{profile:p}),t[13]=p,t[14]=A):A=t[14],t[15]!==A?(P=(0,bt.jsx)(Fs.default,{style:I,children:A}),t[15]=A,t[16]=P):P=t[16],t[17]!==o||t[18]!==l||t[19]!==c?.did||t[20]!==y||t[21]!==x?.profiles||t[22]!==_||t[23]!==a||t[24]!==b?(E=l.length>1?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(BB.PressableItem,{label:o({id:"iSn7SN"}),accessibilityHint:o({id:"/8rX+T"}),onPress:()=>{a||qr.default.configureNext(qr.default.Presets.easeInEaseOut),j(nH)},children:[(0,bt.jsx)(BB.ItemIcon,{icon:pc.PersonGroup_Stroke2_Corner2_Rounded}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"iSn7SN"})}),b?(0,bt.jsx)(BB.ItemIcon,{icon:mn.ChevronTop_Stroke2_Corner0_Rounded,size:"md"}):(0,bt.jsx)(c_,{profiles:l.map(oH).filter((e=>e!==c?.did)).slice(0,5)})]}),b&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),l.filter((e=>e.did!==c?.did)).map((e=>(0,bt.jsx)(cH,{account:e,profile:x?.profiles?.find((t=>t.did===e.did)),pendingDid:_,onPressSwitchAccount:y},e.did))),(0,bt.jsx)(lH,{})]})]}):(0,bt.jsx)(lH,{}),t[17]=o,t[18]=l,t[19]=c?.did,t[20]=y,t[21]=x?.profiles,t[22]=_,t[23]=a,t[24]=b,t[25]=E):E=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,bt.jsx)(BB.Divider,{}),t[26]=L):L=t[26],t[27]!==o?(R=o({id:"AeXO77"}),t[27]=o,t[28]=R):R=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(BB.ItemIcon,{icon:pc.Person_Stroke2_Corner2_Rounded}),t[29]=B):B=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"AeXO77"})}),t[30]=D):D=t[30],t[31]!==R?(O=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/account",label:R,children:[B,D]}),t[31]=R,t[32]=O):O=t[32],t[33]!==o?(M=o({id:"FzYTte"}),t[33]=o,t[34]=M):M=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(BB.ItemIcon,{icon:mw}),t[35]=F):F=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"FzYTte"})}),t[36]=N):N=t[36],t[37]!==M?(H=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/privacy-and-security",label:M,children:[F,N]}),t[37]=M,t[38]=H):H=t[38],t[39]!==o?(V=o({id:"DzmsLV"}),t[39]=o,t[40]=V):V=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(BB.ItemIcon,{icon:JN.RaisingHand4Finger_Stroke2_Corner2_Rounded}),t[41]=z):z=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"DzmsLV"})}),t[42]=U):U=t[42],t[43]!==V?(W=(0,bt.jsxs)(BB.LinkItem,{to:"/moderation",label:V,children:[z,U]}),t[43]=V,t[44]=W):W=t[44],t[45]!==o?(G=o({id:"iDNBZe"}),t[45]=o,t[46]=G):G=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(q=(0,bt.jsx)(BB.ItemIcon,{icon:FS}),t[47]=q):q=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"iDNBZe"})}),t[48]=Q):Q=t[48],t[49]!==G?(K=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/notifications",label:G,children:[q,Q]}),t[49]=G,t[50]=K):K=t[50],t[51]!==o?(Z=o({id:"jaQv9r"}),t[51]=o,t[52]=Z):Z=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,bt.jsx)(BB.ItemIcon,{icon:UF.Window_Stroke2_Corner2_Rounded}),t[53]=Y):Y=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?($=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"jaQv9r"})}),t[54]=$):$=t[54],t[55]!==Z?(X=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/content-and-media",label:Z,children:[Y,$]}),t[55]=Z,t[56]=X):X=t[56],t[57]!==o||t[58]!==s||t[59]!==w?(J=r.IS_NATIVE&&w&&!s.features.enabled(s.features.ImportContactsSettingsDisable)&&(0,bt.jsxs)(BB.LinkItem,{to:"/settings/find-contacts",label:o({id:"/j495l"}),children:[(0,bt.jsx)(BB.ItemIcon,{icon:Qb}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"/j495l"})})]}),t[57]=o,t[58]=s,t[59]=w,t[60]=J):J=t[60],t[61]!==o?(ee=o({id:"aAIQg2"}),t[61]=o,t[62]=ee):ee=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(te=(0,bt.jsx)(BB.ItemIcon,{icon:XN.PaintRoller_Stroke2_Corner2_Rounded}),t[63]=te):te=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(se=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"aAIQg2"})}),t[64]=se):se=t[64],t[65]!==ee?(oe=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/appearance",label:ee,children:[te,se]}),t[65]=ee,t[66]=oe):oe=t[66],t[67]!==o?(ne=o({id:"AnNF5e"}),t[67]=o,t[68]=ne):ne=t[68],t[69]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,bt.jsx)(BB.ItemIcon,{icon:FM}),t[69]=ae):ae=t[69],t[70]===Symbol.for("react.memo_cache_sentinel")?(re=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"AnNF5e"})}),t[70]=re):re=t[70],t[71]!==ne?(ie=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/accessibility",label:ne,children:[ae,re]}),t[71]=ne,t[72]=ie):ie=t[72],t[73]!==o?(le=o({id:"GAmD3h"}),t[73]=o,t[74]=le):le=t[74],t[75]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,bt.jsx)(BB.ItemIcon,{icon:dm.Earth_Stroke2_Corner2_Rounded}),t[75]=ce):ce=t[75],t[76]===Symbol.for("react.memo_cache_sentinel")?(de=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"GAmD3h"})}),t[76]=de):de=t[76],t[77]!==le?(ue=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/language",label:le,children:[ce,de]}),t[77]=le,t[78]=ue):ue=t[78],t[79]!==o?(me=o({id:"c3XJ18"}),t[79]=o,t[80]=me):me=t[80],t[81]!==o?(he=o({id:"+v4w1h"}),t[81]=o,t[82]=he):he=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,bt.jsx)(BB.ItemIcon,{icon:$P.CircleQuestion_Stroke2_Corner2_Rounded}),t[83]=pe):pe=t[83],t[84]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"c3XJ18"})}),ge=(0,bt.jsx)(BB.Chevron,{}),t[84]=fe,t[85]=ge):(fe=t[84],ge=t[85]),t[86]!==me||t[87]!==he?(xe=(0,bt.jsxs)(BB.PressableItem,{onPress:sH,label:me,accessibilityHint:he,children:[pe,fe,ge]}),t[86]=me,t[87]=he,t[88]=xe):xe=t[88],t[89]!==o?(_e=o({id:"uyJsf6"}),t[89]=o,t[90]=_e):_e=t[90],t[91]===Symbol.for("react.memo_cache_sentinel")?(ye=(0,bt.jsx)(BB.ItemIcon,{icon:$N.BubbleInfo_Stroke2_Corner2_Rounded}),t[91]=ye):ye=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(be=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"uyJsf6"})}),t[92]=be):be=t[92],t[93]!==_e?(je=(0,bt.jsxs)(BB.LinkItem,{to:"/settings/about",label:_e,children:[ye,be]}),t[93]=_e,t[94]=je):je=t[94],t[95]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,bt.jsx)(BB.Divider,{}),t[95]=ve):ve=t[95],t[96]!==u?(Se=()=>u.open(),t[96]=u,t[97]=Se):Se=t[97],t[98]!==o?(we=o({id:"fcWrnU"}),t[98]=o,t[99]=we):we=t[99],t[100]===Symbol.for("react.memo_cache_sentinel")?(Te=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"fcWrnU"})}),t[100]=Te):Te=t[100],t[101]!==Se||t[102]!==we?(ke=(0,bt.jsx)(BB.PressableItem,{destructive:!0,onPress:Se,label:we,children:Te}),t[101]=Se,t[102]=we,t[103]=ke):ke=t[103],t[104]!==o||t[105]!==a||t[106]!==v?(Ce=r.IS_INTERNAL&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(BB.Divider,{}),(0,bt.jsxs)(BB.PressableItem,{onPress:()=>{a||qr.default.configureNext(qr.default.Presets.easeInEaseOut),S(tH)},label:o({id:"6NJBLi"}),children:[(0,bt.jsx)(BB.ItemIcon,{icon:Of}),(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"6NJBLi"})})]}),v&&(0,bt.jsx)(iH,{})]}),t[104]=o,t[105]=a,t[106]=v,t[107]=Ce):Ce=t[107],t[108]!==P||t[109]!==E||t[110]!==O||t[111]!==H||t[112]!==W||t[113]!==K||t[114]!==X||t[115]!==J||t[116]!==oe||t[117]!==ie||t[118]!==ue||t[119]!==xe||t[120]!==je||t[121]!==ke||t[122]!==Ce?(Ie=(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[C,P,E,L,O,H,W,K,X,J,oe,ie,ue,xe,je,ve,ke,Ce]})}),t[108]=P,t[109]=E,t[110]=O,t[111]=H,t[112]=W,t[113]=K,t[114]=X,t[115]=J,t[116]=oe,t[117]=ie,t[118]=ue,t[119]=xe,t[120]=je,t[121]=ke,t[122]=Ce,t[123]=Ie):Ie=t[123],t[124]!==o?(Ae=o({id:"NES1ey"}),t[124]=o,t[125]=Ae):Ae=t[125],t[126]!==o?(Pe=o({id:"jZnhlB"}),t[126]=o,t[127]=Pe):Pe=t[127],t[128]!==i?(Ee=()=>i("Settings"),t[128]=i,t[129]=Ee):Ee=t[129],t[130]!==o?(Le=o({id:"fcWrnU"}),t[130]=o,t[131]=Le):Le=t[131],t[132]!==o?(Re=o({id:"dEgA5A"}),t[132]=o,t[133]=Re):Re=t[133],t[134]!==u||t[135]!==Ae||t[136]!==Pe||t[137]!==Ee||t[138]!==Le||t[139]!==Re?(Be=(0,bt.jsx)(Zi.Basic,{control:u,title:Ae,description:Pe,onConfirm:Ee,confirmButtonCta:Le,cancelButtonCta:Re,confirmButtonColor:"negative"}),t[134]=u,t[135]=Ae,t[136]=Pe,t[137]=Ee,t[138]=Le,t[139]=Re,t[140]=Be):Be=t[140],t[141]!==d?(De=(0,bt.jsx)(vk,{control:d}),t[141]=d,t[142]=De):De=t[142],t[143]!==Ie||t[144]!==Be||t[145]!==De?(Oe=(0,bt.jsxs)(ya.Screen,{children:[k,Ie,Be,De]}),t[143]=Ie,t[144]=Be,t[145]=De,t[146]=Oe):Oe=t[146],Oe}function tH(e){return!e}function sH(){return In.default.openURL(Vt.HELP_DESK_URL)}function oH(e){return e.did}function nH(e){return!e}function aH(e){return e.handle}function rH(e){const t=(0,n.c)(41),{profile:s}=e,o=(0,qs.useTheme)(),{gtMobile:a}=(0,qs.useBreakpoints)(),r=(0,Va.useProfileShadow)(s),i=(0,ds.useModerationOpts)();let l;t[0]!==r?(l={profile:r},t[0]=r,t[1]=l):l=t[1];const c=(0,Nu.useFullVerificationState)(l),{isActive:d}=(0,Ra.useActorStatus)(s);if(!i)return null;let u,m,h,p,f;if(t[2]!==i||t[3]!==s||t[4]!==r.avatar){const e=(0,Dn.moderateProfile)(s,i);m=(0,Ma.sanitizeDisplayName)(s.displayName||(0,Fa.sanitizeHandle)(s.handle),e.ui("displayName")),u=Gi.UserAvatar,h=80,p=r.avatar,f=e.ui("avatar"),t[2]=i,t[3]=s,t[4]=r.avatar,t[5]=u,t[6]=m,t[7]=h,t[8]=p,t[9]=f}else u=t[5],m=t[6],h=t[7],p=t[8],f=t[9];const g=r.associated?.labeler?"labeler":"user";let x,_;t[10]!==u||t[11]!==d||t[12]!==h||t[13]!==p||t[14]!==f||t[15]!==g?(x=(0,bt.jsx)(u,{size:h,avatar:p,moderation:f,type:g,live:d}),t[10]=u,t[11]=d,t[12]=h,t[13]=p,t[14]=f,t[15]=g,t[16]=x):x=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.w_full],t[17]=_):_=t[17];const y=a?qs.atoms.text_4xl:qs.atoms.text_3xl;let b,j,v,S,w,T,k,C;return t[18]!==o.atoms.text||t[19]!==y?(b=[qs.atoms.pt_sm,o.atoms.text,y,qs.atoms.font_bold],t[18]=o.atoms.text,t[19]=y,t[20]=b):b=t[20],t[21]!==m||t[22]!==b?(j=(0,bt.jsx)(co.Text,{emoji:!0,testID:"profileHeaderDisplayName",numberOfLines:1,style:b,children:m}),t[21]=m,t[22]=b,t[23]=j):j=t[23],t[24]!==r||t[25]!==c?(v=xx(c)&&(0,bt.jsx)(Fs.default,{style:[{marginTop:(0,qs.platform)({web:8,ios:8,android:10})}],children:(0,bt.jsx)(_x,{profile:r,size:"lg"})}),t[24]=r,t[25]=c,t[26]=v):v=t[26],t[27]!==j||t[28]!==v?(S=(0,bt.jsxs)(Fs.default,{style:_,children:[j,v]}),t[27]=j,t[28]=v,t[29]=S):S=t[29],t[30]!==o.atoms.text_contrast_medium?(w=[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_medium],t[30]=o.atoms.text_contrast_medium,t[31]=w):w=t[31],t[32]!==s.handle?(T=(0,Fa.sanitizeHandle)(s.handle,"@"),t[32]=s.handle,t[33]=T):T=t[33],t[34]!==w||t[35]!==T?(k=(0,bt.jsx)(co.Text,{style:w,children:T}),t[34]=w,t[35]=T,t[36]=k):k=t[36],t[37]!==S||t[38]!==k||t[39]!==x?(C=(0,bt.jsxs)(bt.Fragment,{children:[x,S,k]}),t[37]=S,t[38]=k,t[39]=x,t[40]=C):C=t[40],C}function iH(){const e=(0,n.c)(117),{_:t}=(0,dt.useLingui)(),s=(0,Gt.useAgent)();let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=["policyUpdateDebugOverride"],e[0]=o):o=e[0];const[a,i]=(0,Is.useStorage)(Is.device,o),l=(0,hs.useOnboardingDispatch)(),c=(0,Ns.useNavigation)(),{mutate:d}=function(){const e=(0,n.c)(3),{currentAccount:t}=(0,Gt.useSession)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o={mutationFn:async()=>{if(!t)throw new Error("Not signed in");return await s.api.com.atproto.repo.deleteRecord({repo:t.did,collection:"chat.bsky.actor.declaration",rkey:"self"})}},e[0]=s,e[1]=t,e[2]=o):o=e[2],(0,go.useMutation)(o)}(),{tryApplyUpdate:u,revertToEmbedded:m,isCurrentlyRunningPullRequestDeployment:h,currentChannel:p}={tryApplyUpdate:()=>{},revertToEmbedded:()=>{},isCurrentlyRunningPullRequestDeployment:!1,currentChannel:"web-build",pending:!1},[f,g]=my();let x;e[1]!==t||e[2]!==c||e[3]!==l?(x=async()=>{c.navigate("Home"),l({type:"start"}),Ds.show(t({id:"firK30"}))},e[1]=t,e[2]=c,e[3]=l,e[4]=x):x=e[4];const _=x;let y;e[5]!==t?(y=async()=>{await(0,ls.clearStorage)(),Ds.show(t({id:"/G+96W"}))},e[5]=t,e[6]=y):y=e[6];const b=y;let j;e[7]!==t?(j=()=>{const e=new Date;e.setDate(e.getDate()-3),ls.write("reminders",Object.assign({},ls.get("reminders"),{lastEmailConfirm:e.toISOString()})),Ds.show(t({id:"BpDJl6"}))},e[7]=t,e[8]=j):j=e[8];const v=j;let S;e[9]!==g?(S=()=>{g(!1)},e[9]=g,e[10]=S):S=e[10];const w=S;let T;e[11]!==p||e[12]!==h||e[13]!==u?(T=()=>{Vs.default.prompt("Apply OTA","Enter the channel for the OTA you wish to apply.",[{style:"cancel",text:"Cancel"},{style:"default",text:"Apply",onPress:e=>{u(e??"")}}],"plain-text",h?p:"pull-request-")},e[11]=p,e[12]=h,e[13]=u,e[14]=T):T=e[14];const k=T;let C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie;e[15]!==c?(C=()=>c.navigate("Log"),e[15]=c,e[16]=C):C=e[16],e[17]!==t?(I=t({id:"a8gSOK"}),e[17]=t,e[18]=I):I=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"fP8jTZ"})}),e[19]=A):A=e[19],e[20]!==C||e[21]!==I?(P=(0,bt.jsx)(BB.PressableItem,{onPress:C,label:I,children:A}),e[20]=C,e[21]=I,e[22]=P):P=e[22],e[23]!==c?(E=()=>c.navigate("Debug"),e[23]=c,e[24]=E):E=e[24],e[25]!==t?(L=t({id:"2ydYQU"}),e[25]=t,e[26]=L):L=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"P5jja7"})}),e[27]=R):R=e[27],e[28]!==E||e[29]!==L?(B=(0,bt.jsx)(BB.PressableItem,{onPress:E,label:L,children:R}),e[28]=E,e[29]=L,e[30]=B):B=e[30],e[31]!==c?(D=()=>c.navigate("DebugMod"),e[31]=c,e[32]=D):D=e[32],e[33]!==t?(O=t({id:"RN9R0C"}),e[33]=t,e[34]=O):O=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"GGeRw+"})}),e[35]=M):M=e[35],e[36]!==D||e[37]!==O?(F=(0,bt.jsx)(BB.PressableItem,{onPress:D,label:O,children:M}),e[36]=D,e[37]=O,e[38]=F):F=e[38],e[39]!==d?(N=()=>d(),e[39]=d,e[40]=N):N=e[40],e[41]!==t?(H=t({id:"2ydYQU"}),e[41]=t,e[42]=H):H=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(V=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Viz9D1"})}),e[43]=V):V=e[43],e[44]!==N||e[45]!==H?(z=(0,bt.jsx)(BB.PressableItem,{onPress:N,label:H,children:V}),e[44]=N,e[45]=H,e[46]=z):z=e[46],e[47]!==_?(U=()=>_(),e[47]=_,e[48]=U):U=e[48],e[49]!==t?(W=t({id:"xEL92I"}),e[49]=t,e[50]=W):W=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(G=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"xEL92I"})}),e[51]=G):G=e[51],e[52]!==U||e[53]!==W?(q=(0,bt.jsx)(BB.PressableItem,{onPress:U,label:W,children:G}),e[52]=U,e[53]=W,e[54]=q):q=e[54],e[55]!==t?(Q=t({id:"Uzgbx8"}),e[55]=t,e[56]=Q):Q=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Uzgbx8"})}),e[57]=K):K=e[57],e[58]!==v||e[59]!==Q?(Z=(0,bt.jsx)(BB.PressableItem,{onPress:v,label:Q,children:K}),e[58]=v,e[59]=Q,e[60]=Z):Z=e[60],e[61]!==t||e[62]!==f||e[63]!==w?(Y=f&&(0,bt.jsx)(BB.PressableItem,{onPress:w,label:t({id:"retI5M"}),children:(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"retI5M"})})}),e[61]=t,e[62]=f,e[63]=w,e[64]=Y):Y=e[64],e[65]!==b?($=()=>b(),e[65]=b,e[66]=$):$=e[66],e[67]!==t?(X=t({id:"zxFM2c"}),e[67]=t,e[68]=X):X=e[68],e[69]===Symbol.for("react.memo_cache_sentinel")?(J=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"r+lhUL"})}),e[69]=J):J=e[69],e[70]!==$||e[71]!==X?(ee=(0,bt.jsx)(BB.PressableItem,{onPress:$,label:X,children:J}),e[70]=$,e[71]=X,e[72]=ee):ee=e[72],e[73]!==t||e[74]!==k?(te=r.IS_IOS?(0,bt.jsx)(BB.PressableItem,{onPress:k,label:t({id:"alTmEw"}),children:(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"alTmEw"})})}):null,e[73]=t,e[74]=k,e[75]=te):te=e[75],e[76]!==t||e[77]!==p||e[78]!==h||e[79]!==m?(se=r.IS_NATIVE&&h?(0,bt.jsx)(BB.PressableItem,{onPress:m,label:t({id:"Mrb8mK"}),children:(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"POPpkU",values:{currentChannel:p}})})}):null,e[76]=t,e[77]=p,e[78]=h,e[79]=m,e[80]=se):se=e[80],e[81]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,bt.jsx)(BB.Divider,{}),e[81]=oe):oe=e[81],e[82]===Symbol.for("react.memo_cache_sentinel")?(ne=[qs.atoms.p_xl,qs.atoms.gap_md],e[82]=ne):ne=e[82],e[83]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold],children:"PolicyUpdate202508 Debug"}),e[83]=ae):ae=e[83],e[84]===Symbol.for("react.memo_cache_sentinel")?(re=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.gap_md],e[84]=re):re=e[84],e[85]!==a||e[86]!==i?(ie=()=>{i(!a)},e[85]=a,e[86]=i,e[87]=ie):ie=e[87];const le=a?"primary":"secondary";let ce;e[88]===Symbol.for("react.memo_cache_sentinel")?(ce=[qs.atoms.flex_1],e[88]=ce):ce=e[88];const de=a?"Disable debug mode":"Enable debug mode";let ue,me,he;e[89]!==de?(ue=(0,bt.jsx)(ao.ButtonText,{children:de}),e[89]=de,e[90]=ue):ue=e[90],e[91]!==ie||e[92]!==le||e[93]!==ue?(me=(0,bt.jsx)(ao.Button,{onPress:ie,label:"Toggle",color:le,size:"small",style:ce,children:ue}),e[91]=ie,e[92]=le,e[93]=ue,e[94]=me):me=e[94],e[95]!==s?(he=()=>{Is.device.set([VC],!1),s.bskyAppRemoveNuxs([VC]),Ds.show("Done","info")},e[95]=s,e[96]=he):he=e[96];const pe=!a;let fe,ge,xe,_e,ye;return e[97]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,bt.jsx)(ao.ButtonText,{children:"Reset state"}),e[97]=fe):fe=e[97],e[98]!==he||e[99]!==pe?(ge=(0,bt.jsx)(ao.Button,{onPress:he,label:"Reset policy update nux",color:"secondary",size:"small",disabled:pe,children:fe}),e[98]=he,e[99]=pe,e[100]=ge):ge=e[100],e[101]!==me||e[102]!==ge?(xe=(0,bt.jsxs)(Fs.default,{style:ne,children:[ae,(0,bt.jsxs)(Fs.default,{style:re,children:[me,ge]})]}),e[101]=me,e[102]=ge,e[103]=xe):xe=e[103],e[104]===Symbol.for("react.memo_cache_sentinel")?(_e=(0,bt.jsx)(BB.Divider,{}),e[104]=_e):_e=e[104],e[105]!==B||e[106]!==F||e[107]!==z||e[108]!==q||e[109]!==Z||e[110]!==Y||e[111]!==ee||e[112]!==te||e[113]!==se||e[114]!==xe||e[115]!==P?(ye=(0,bt.jsxs)(bt.Fragment,{children:[P,B,F,z,q,Z,Y,ee,te,se,oe,xe,_e]}),e[105]=B,e[106]=F,e[107]=z,e[108]=q,e[109]=Z,e[110]=Y,e[111]=ee,e[112]=te,e[113]=se,e[114]=xe,e[115]=P,e[116]=ye):ye=e[116],ye}function lH(){const e=(0,n.c)(10),{_:t}=(0,dt.useLingui)(),{setShowLoggedOut:s}=Ts(),o=(0,Gs.useCloseAllActiveElements)();let a;e[0]!==o||e[1]!==s?(a=()=>{s(!0),o()},e[0]=o,e[1]=s,e[2]=a):a=e[2];const r=a;let i,l,c,d;return e[3]!==t?(i=t({id:"O5JHbm"}),e[3]=t,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(BB.ItemIcon,{icon:pc.PersonPlus_Stroke2_Corner2_Rounded}),e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"O5JHbm"})}),e[6]=c):c=e[6],e[7]!==r||e[8]!==i?(d=(0,bt.jsxs)(BB.PressableItem,{onPress:r,label:i,children:[l,c]}),e[7]=r,e[8]=i,e[9]=d):d=e[9],d}function cH(e){const t=(0,n.c)(51),{profile:s,account:o,pendingDid:a,onPressSwitchAccount:r}=e,{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)(),c=(0,ds.useModerationOpts)(),d=Zi.usePromptControl(),{removeAccount:u}=(0,Gt.useSessionApi)(),{isActive:m}=(0,Ra.useActorStatus)(s);let h;t[0]!==o||t[1]!==r||t[2]!==a?(h=()=>{a||r(o,"Settings")},t[0]=o,t[1]=r,t[2]=a,t[3]=h):h=t[3];const p=h;let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A;return t[4]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.relative],t[4]=f):f=t[4],t[5]!==i?(g=i({id:"iSn7SN"}),t[5]=i,t[6]=g):g=t[6],t[7]!==m||t[8]!==c||t[9]!==s?(x=c&&s?(0,bt.jsx)(Gi.UserAvatar,{size:28,avatar:s.avatar,moderation:(0,Dn.moderateProfile)(s,c).ui("avatar"),type:s.associated?.labeler?"labeler":"user",live:m,hideLiveBadge:!0}):(0,bt.jsx)(Fs.default,{style:[{width:28}]}),t[7]=m,t[8]=c,t[9]=s,t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.pr_2xl,qs.atoms.leading_snug],t[11]=_):_=t[11],t[12]!==o.handle?(y=(0,Fa.sanitizeHandle)(o.handle,"@"),t[12]=o.handle,t[13]=y):y=t[13],t[14]!==y?(b=(0,bt.jsx)(BB.ItemText,{numberOfLines:1,style:_,children:y}),t[14]=y,t[15]=b):b=t[15],t[16]!==o.did||t[17]!==a?(j=a===o.did&&(0,bt.jsx)(BB.ItemIcon,{icon:lo.Loader}),t[16]=o.did,t[17]=a,t[18]=j):j=t[18],t[19]!==p||t[20]!==g||t[21]!==x||t[22]!==b||t[23]!==j?(v=(0,bt.jsxs)(BB.PressableItem,{onPress:p,label:g,children:[x,b,j]}),t[19]=p,t[20]=g,t[21]=x,t[22]=b,t[23]=j,t[24]=v):v=t[24],t[25]!==i||t[26]!==a||t[27]!==d||t[28]!==l?(S=!a&&(0,bt.jsxs)(Kp.Root,{children:[(0,bt.jsx)(Kp.Trigger,{label:i({id:"4WY4MD"}),children:e=>{const{props:t,state:s}=e;return(0,bt.jsx)(ln.default,Object.assign({},t,{style:[qs.atoms.absolute,{top:10,right:qs.tokens.space.lg},qs.atoms.p_xs,qs.atoms.rounded_full,(s.hovered||s.pressed)&&l.atoms.bg_contrast_25],children:(0,bt.jsx)(Qp,{size:"md",style:l.atoms.text})}))}}),(0,bt.jsx)(Kp.Outer,{showCancel:!0,children:(0,bt.jsxs)(Kp.Item,{label:i({id:"1O32oy"}),onPress:()=>d.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"1O32oy"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:pc.PersonX_Stroke2_Corner0_Rounded})]})})]}),t[25]=i,t[26]=a,t[27]=d,t[28]=l,t[29]=S):S=t[29],t[30]!==i?(w=i({id:"Q7ctMe"}),t[30]=i,t[31]=w):w=t[31],t[32]!==i||t[33]!==o.handle?(T=i({id:"Oarw9X",values:{0:o.handle}}),t[32]=i,t[33]=o.handle,t[34]=T):T=t[34],t[35]!==i||t[36]!==o||t[37]!==u?(k=()=>{u(o),Ds.show(i({id:"lAg5yo"}))},t[35]=i,t[36]=o,t[37]=u,t[38]=k):k=t[38],t[39]!==i?(C=i({id:"t/YqKh"}),t[39]=i,t[40]=C):C=t[40],t[41]!==d||t[42]!==w||t[43]!==T||t[44]!==k||t[45]!==C?(I=(0,bt.jsx)(Zi.Basic,{control:d,title:w,description:T,onConfirm:k,confirmButtonCta:C,confirmButtonColor:"negative"}),t[41]=d,t[42]=w,t[43]=T,t[44]=k,t[45]=C,t[46]=I):I=t[46],t[47]!==S||t[48]!==I||t[49]!==v?(A=(0,bt.jsxs)(Fs.default,{style:f,children:[v,S,I]}),t[47]=S,t[48]=I,t[49]=v,t[50]=A):A=t[50],A}var dH=s(85126);const uH=(0,ti.createSinglePathSVG)({path:"M6 2a2.998 2.998 0 0 1 1 5.825V8a2 2 0 0 0 2 2h1.174c.412-1.165 1.52-2 2.826-2h5a3 3 0 1 1 0 6h-5a2.998 2.998 0 0 1-2.826-2H9a3.98 3.98 0 0 1-2-.537V16a2 2 0 0 0 2 2h1.174c.412-1.165 1.52-2 2.826-2h5a3 3 0 1 1 0 6h-5a2.998 2.998 0 0 1-2.826-2H9a4 4 0 0 1-4-4V7.825A2.998 2.998 0 0 1 6 2Zm7 16a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5Zm0-8a1 1 0 1 0 0 2h5a1 1 0 1 0 0-2h-5ZM6 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"});function mH(e){const t=(0,n.c)(64),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={save:!0},t[0]=a):a=t[0];const{sort:r,setSort:i,view:l,setView:c}=(0,dH.useThreadPreferences)(a);let d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ya.Header.BackButton,{}),t[1]=d):d=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsxs)(ya.Header.Outer,{children:[d,(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"u9ThjD"})})}),(0,bt.jsx)(ya.Header.Slot,{})]}),t[2]=u):u=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(BB.ItemIcon,{icon:ni}),t[3]=m):m=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"Gk7bDq"})}),t[4]=h):h=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.w_full,qs.atoms.gap_md],t[5]=p):p=t[5],t[6]!==s.atoms.text_contrast_medium?(f=[qs.atoms.flex_1,s.atoms.text_contrast_medium],t[6]=s.atoms.text_contrast_medium,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(dt.Trans,{id:"GH1Rgk"}),t[8]=g):g=t[8],t[9]!==f?(x=(0,bt.jsx)(co.Text,{style:f,children:g}),t[9]=f,t[10]=x):x=t[10],t[11]!==o?(_=o({id:"LdnLJh"}),t[11]=o,t[12]=_):_=t[12],t[13]!==r?(y=r?[r]:[],t[13]=r,t[14]=y):y=t[14],t[15]!==i?(b=e=>i((0,dH.normalizeSort)(e[0])),t[15]=i,t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.gap_sm,qs.atoms.flex_1],t[17]=j):j=t[17],t[18]!==o?(v=o({id:"VVy3h4"}),t[18]=o,t[19]=v):v=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(af.Radio,{}),t[20]=S):S=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"VVy3h4"})}),t[21]=w):w=t[21],t[22]!==v?(T=(0,bt.jsxs)(af.Item,{name:"top",label:v,children:[S,w]}),t[22]=v,t[23]=T):T=t[23],t[24]!==o?(k=o({id:"wuAcR7"}),t[24]=o,t[25]=k):k=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(af.Radio,{}),t[26]=C):C=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"wuAcR7"})}),t[27]=I):I=t[27],t[28]!==k?(A=(0,bt.jsxs)(af.Item,{name:"oldest",label:k,children:[C,I]}),t[28]=k,t[29]=A):A=t[29],t[30]!==o?(P=o({id:"l8y6yR"}),t[30]=o,t[31]=P):P=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(af.Radio,{}),t[32]=E):E=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"l8y6yR"})}),t[33]=L):L=t[33],t[34]!==P?(R=(0,bt.jsxs)(af.Item,{name:"newest",label:P,children:[E,L]}),t[34]=P,t[35]=R):R=t[35],t[36]!==T||t[37]!==A||t[38]!==R?(B=(0,bt.jsxs)(Fs.default,{style:j,children:[T,A,R]}),t[36]=T,t[37]=A,t[38]=R,t[39]=B):B=t[39],t[40]!==_||t[41]!==y||t[42]!==b||t[43]!==B?(D=(0,bt.jsx)(af.Group,{label:_,type:"radio",values:y,onChange:b,children:B}),t[40]=_,t[41]=y,t[42]=b,t[43]=B,t[44]=D):D=t[44],t[45]!==D||t[46]!==x?(O=(0,bt.jsxs)(BB.Group,{children:[m,h,(0,bt.jsxs)(Fs.default,{style:p,children:[x,D]})]}),t[45]=D,t[46]=x,t[47]=O):O=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(BB.ItemIcon,{icon:uH}),t[48]=M):M=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(F=(0,bt.jsx)(BB.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"F0vUzC"})}),t[49]=F):F=t[49],t[50]!==o?(N=o({id:"F0vUzC"}),t[50]=o,t[51]=N):N=t[51];const H="tree"===l;let V,z,U,W,G,q;return t[52]!==c?(V=e=>c((0,dH.normalizeView)({treeViewEnabled:e})),t[52]=c,t[53]=V):V=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(z=[qs.atoms.w_full,qs.atoms.gap_md],t[54]=z):z=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(U=(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"pefVHp"})}),W=(0,bt.jsx)(af.Platform,{}),t[55]=U,t[56]=W):(U=t[55],W=t[56]),t[57]!==N||t[58]!==H||t[59]!==V?(G=(0,bt.jsxs)(BB.Group,{children:[M,F,(0,bt.jsxs)(af.Item,{type:"checkbox",name:"threaded-mode",label:N,value:H,onChange:V,style:z,children:[U,W]})]}),t[57]=N,t[58]=H,t[59]=V,t[60]=G):G=t[60],t[61]!==O||t[62]!==G?(q=(0,bt.jsxs)(ya.Screen,{testID:"threadPreferencesScreen",children:[u,(0,bt.jsx)(ya.Content,{children:(0,bt.jsxs)(BB.Container,{children:[O,G]})})]}),t[61]=O,t[62]=G,t[63]=q):q=t[63],q}var hH=s(94963);const pH="https://go.bsky.app/",fH=e=>["resolved-short-link",e];function gH(e){return e.uri}const xH=lt.forwardRef((function(e,t){const s=(0,n.c)(15),{feeds:o,headerHeight:a,scrollElRef:i}=e,[l]=lt.useState(a),c=Zr(20),d=(0,qs.useTheme)();let u;s[0]!==a||s[1]!==i?(u=()=>{i.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-a})},s[0]=a,s[1]=i,s[2]=u):u=s[2];const m=u;let h,p;s[3]!==m?(h=()=>({scrollToTop:m}),s[3]=m,s[4]=h):h=s[4],lt.useImperativeHandle(t,h),s[5]!==d.atoms.border_contrast_low?(p=e=>{const{item:t,index:s}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,(r.IS_WEB||0!==s)&&qs.atoms.border_t,d.atoms.border_contrast_low],children:(0,bt.jsx)(xl,{view:t})})},s[5]=d.atoms.border_contrast_low,s[6]=p):p=s[6];const f=p,g=l+c;let x,_;return s[7]!==g?(x=(0,bt.jsx)(Fs.default,{style:[{height:g}]}),s[7]=g,s[8]=x):x=s[8],s[9]!==o||s[10]!==a||s[11]!==f||s[12]!==i||s[13]!==x?(_=(0,bt.jsx)(ei.List,{data:o,renderItem:f,keyExtractor:gH,ref:i,headerOffset:a,ListFooterComponent:x,showsVerticalScrollIndicator:!1,desktopFixedHeight:!0}),s[9]=o,s[10]=a,s[11]=f,s[12]=i,s[13]=x,s[14]=_):_=s[14],_})),_H=lt.forwardRef((function(e,t){const s=(0,n.c)(12),{listUri:o,headerHeight:a,scrollElRef:i}=e,l=`list|${o}`,{_:c}=(0,dt.useLingui)();let d;s[0]!==a||s[1]!==i?(d=()=>{i.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-a})},s[0]=a,s[1]=i,s[2]=d):d=s[2];const u=d;let m,h;s[3]!==u?(m=()=>({scrollToTop:u}),s[3]=u,s[4]=m):m=s[4],lt.useImperativeHandle(t,m),s[5]!==c?(h=()=>(0,bt.jsx)(pS.EmptyState,{icon:Pl,iconSize:"2xl",message:c({id:"KD13F8"})}),s[5]=c,s[6]=h):h=s[6];const p=h;let f;return s[7]!==l||s[8]!==a||s[9]!==p||s[10]!==i?(f=(0,bt.jsx)(Fs.default,{children:(0,bt.jsx)(Ag,{feed:l,pollInterval:6e4,scrollElRef:i,renderEmptyState:p,headerOffset:a})}),s[7]=l,s[8]=a,s[9]=p,s[10]=i,s[11]=f):f=s[11],f}));function yH(e,t){return`${e.did}-${t}`}const bH=lt.forwardRef((function(e,t){const s=(0,n.c)(21),{listUri:o,moderationOpts:a,headerHeight:i,scrollElRef:l}=e,c=(0,qs.useTheme)(),d=Zr(i),u=$r(),{currentAccount:m}=(0,Gt.useSession)(),{data:h,refetch:p,isError:f}=(0,Xx.useAllListMembersQuery)(o),[g,x]=lt.useState(!1),_=h?.filter(jH).map(vH).reverse(),y=new Dn.AtUri(o).host===m?.did,b=()=>{if(!_)return;if(!y)return _;const e=_.findIndex((e=>e.did===m?.did));return-1!==e?[_[e],..._.slice(0,e),..._.slice(e+1)]:_};let j;s[0]!==i||s[1]!==l?(j=()=>{l.current?.scrollToOffset({animated:r.IS_NATIVE,offset:-i})},s[0]=i,s[1]=l,s[2]=j):j=s[2];const v=j;let S,w;s[3]!==v?(S=()=>({scrollToTop:v}),s[3]=v,s[4]=S):S=s[4],lt.useImperativeHandle(t,S),s[5]!==a||s[6]!==c.atoms.border_contrast_low?(w=e=>{const{item:t,index:s}=e;return(0,bt.jsx)(Fs.default,{style:[qs.atoms.p_lg,c.atoms.border_contrast_low,(r.IS_WEB||0!==s)&&qs.atoms.border_t],children:(0,bt.jsx)(Rl.Default,{profile:t,moderationOpts:a,logContext:"StarterPackProfilesList"})})},s[5]=a,s[6]=c.atoms.border_contrast_low,s[7]=w):w=s[7];const T=w;if(!h){let e,t,o;return s[8]!==d||s[9]!==i?(e=[qs.atoms.h_full_vh,{marginTop:i,marginBottom:d}],s[8]=d,s[9]=i,s[10]=e):e=s[10],s[11]!==f||s[12]!==p?(t=(0,bt.jsx)(yS,{isLoading:!0,isError:f,onRetry:p}),s[11]=f,s[12]=p,s[13]=t):t=s[13],s[14]!==e||s[15]!==t?(o=(0,bt.jsx)(Fs.default,{style:e,children:t}),s[14]=e,s[15]=t,s[16]=o):o=s[16],o}if(h){let e,t;return s[17]!==d?(e=(0,bt.jsx)(xS,{style:{paddingBottom:d,borderTopWidth:0}}),s[17]=d,s[18]=e):e=s[18],s[19]!==p?(t=async()=>{x(!0),await p(),x(!1)},s[19]=p,s[20]=t):t=s[20],(0,bt.jsx)(ei.List,{data:b(),renderItem:T,keyExtractor:yH,ref:l,headerOffset:i,ListFooterComponent:e,showsVerticalScrollIndicator:!1,desktopFixedHeight:!0,initialNumToRender:u,refreshing:g,onRefresh:t})}}));function jH(e){return!vA(e.subject)&&!e.subject.associated?.labeler}function vH(e){return e.subject}var SH=s(4168),wH=s(38072),TH=s(5088);const kH=(0,lt.lazy)((()=>s.e(19).then(s.bind(s,19))));function CH(e){const t=(0,n.c)(22),{starterPack:s,link:o,ref:a}=e,{record:r}=s;if(!qc.dangerousIsType(r,Dn.AppBskyGraphStarterpack.isRecord))return null;let i,l,c,d,u,m,h,p,f,g,x,_,y,b,j;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{width:300,minHeight:390},qs.atoms.align_center,qs.atoms.px_sm,qs.atoms.py_xl,qs.atoms.rounded_sm,qs.atoms.justify_between,qs.atoms.gap_md],t[0]=i):i=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.gap_sm],t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[qs.atoms.font_semi_bold,qs.atoms.text_3xl,qs.atoms.text_center,{color:"white"}],t[2]=c):c=t[2],t[3]!==r.name?(d=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsx)(co.Text,{style:c,children:r.name})}),t[3]=r.name,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.gap_xl,qs.atoms.align_center],t[5]=u):u=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_center,{color:"white",fontSize:18}],children:(0,bt.jsx)(dt.Trans,{id:"fEV8+b"})}),t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.rounded_sm,qs.atoms.overflow_hidden],t[7]=h):h=t[7],t[8]!==o?(p=(0,bt.jsx)(Fs.default,{style:h,children:(0,bt.jsx)(IH,{link:o})}),t[8]=o,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.flex,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.font_semi_bold,{color:"white",fontSize:18,gap:6}],t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,{gap:6}]}),x=(0,bt.jsx)(Av,{width:25,fill:"white"}),t[11]=g,t[12]=x):(g=t[11],x=t[12]),t[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(co.Text,{style:f,children:(0,bt.jsx)(dt.Trans,{id:"wfi67/",components:{0:g,1:x,2:(0,bt.jsx)(Fs.default,{style:[{marginTop:3.5}]}),3:(0,bt.jsx)(xk,{width:72,fill:"white"})}})}),t[13]=_):_=t[13],t[14]!==p?(y=(0,bt.jsxs)(Fs.default,{style:u,children:[m,p,_]}),t[14]=p,t[15]=y):y=t[15],t[16]!==y||t[17]!==d?(b=(0,bt.jsxs)(VT,{style:i,children:[d,y]}),t[16]=y,t[17]=d,t[18]=b):b=t[18],t[19]!==a||t[20]!==b?(j=(0,bt.jsx)(kH,{ref:a,children:b}),t[19]=a,t[20]=b,t[21]=j):j=t[21],j}function IH(e){const t=(0,n.c)(26),{link:o}=e,a=(0,qs.useTheme)(),[i,l]=(0,lt.useState)(null);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{l(e)},t[0]=c):c=t[0];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,S,w;return t[1]===Symbol.for("react.memo_cache_sentinel")?(u={position:"relative"},t[1]=u):u=t[1],t[2]!==i?(m=r.IS_WEB&&i&&(0,bt.jsx)(Fs.default,{style:{position:"absolute",left:i.x,top:i.y+1,zIndex:1,padding:4},children:(0,bt.jsx)(Av,{width:i.width-14,height:i.height-14})}),t[2]=i,t[3]=m):m=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.rounded_sm,{height:225,width:225,backgroundColor:"#f3f3f3"}],t[4]=h):h=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[12,12,0,12],t[5]=p):p=t[5],t[6]!==a.palette.primary_500?(f={borderRadius:p,color:a.palette.primary_500},t[6]=a.palette.primary_500,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[12,12,12,0],t[8]=g):g=t[8],t[9]!==a.palette.primary_500?(x={borderRadius:g,color:a.palette.primary_500},t[9]=a.palette.primary_500,t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=[12,0,12,12],t[11]=_):_=t[11],t[12]!==a.palette.primary_500?(y={borderRadius:_,color:a.palette.primary_500},t[12]=a.palette.primary_500,t[13]=y):y=t[13],t[14]!==y||t[15]!==f||t[16]!==x?(b={topLeft:f,topRight:x,bottomLeft:y},t[14]=y,t[15]=f,t[16]=x,t[17]=b):b=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(j={borderRadius:3},v=Object.assign({href:s(46794)},r.IS_WEB&&{onChange:d,padding:28},!r.IS_WEB&&{padding:2,scale:.95},{hidePieces:!0}),t[18]=j,t[19]=v):(j=t[18],v=t[19]),t[20]!==o||t[21]!==b?(S=(0,bt.jsx)(TH.default,{data:o,style:h,pieceSize:r.IS_WEB?8:6,padding:20,pieceBorderRadius:r.IS_WEB?4.5:3.5,outerEyesOptions:b,innerEyesOptions:j,logo:v}),t[20]=o,t[21]=b,t[22]=S):S=t[22],t[23]!==S||t[24]!==m?(w=(0,bt.jsxs)(Fs.default,{style:u,children:[m,S]}),t[23]=S,t[24]=m,t[25]=w):w=t[25],w}function AH(e){const t=(0,n.c)(37),{starterPack:s,link:o,control:a}=e,{_:i}=(0,dt.useLingui)(),l=(0,Xo.useAnalytics)(),{gtMobile:c}=(0,qs.useBreakpoints)(),[d,u]=(0,lt.useState)(!1),[m,h]=(0,lt.useState)(!1),p=(0,lt.useRef)(null),f=EH;let g;t[0]!==i||t[1]!==l||t[2]!==a||t[3]!==s?(g=async()=>{p.current?.capture?.().then((async e=>{if(r.IS_NATIVE){if(!(await(0,FI.requestMediaLibraryPermissionsAsync)()).granted)return void Pd.show(i({id:"U4SeR5"}));try{await(0,SH.createAssetAsync)(`file://${e}`)}catch(_){const t=_;return Pd.show(i({id:"sH5H2L"}),{type:"error"}),void Mt.logger.error("Failed to save QR code",{error:t})}}else{if(u(!0),!qc.validate(s.record,Dn.AppBskyGraphStarterpack.validateRecord))return;const t=(await f(e)).toDataURL("image/png").replace("image/png","image/octet-stream"),o=document.createElement("a");o.setAttribute("download",`${s.record.name.replaceAll(" ","_")}_Share_Card.png`),o.setAttribute("href",t),o.click()}l.metric("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"save"}),u(!1),Pd.show(r.IS_WEB?i({id:"OblHaN"}):i({id:"D0slx3"})),a.close()}))},t[0]=i,t[1]=l,t[2]=a,t[3]=s,t[4]=g):g=t[4];const x=g;let _;t[5]!==i||t[6]!==l||t[7]!==a||t[8]!==s?(_=async()=>{h(!0),p.current?.capture?.().then((async e=>{(await f(e)).toBlob(PH),l.metric("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"copy"}),Pd.show(i({id:"JPRPkG"})),h(!1),a.close()}))},t[5]=i,t[6]=l,t[7]=a,t[8]=s,t[9]=_):_=t[9];const y=_;let b;t[10]!==l||t[11]!==a||t[12]!==s?(b=async()=>{p.current?.capture?.().then((async e=>{a.close((()=>{wH.shareAsync(e,{mimeType:"image/png",UTI:"image/png"}).then((()=>{l.metric("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"share"})}))}))}))},t[10]=l,t[11]=a,t[12]=s,t[13]=b):b=t[13];const j=b;let v,S,w,T,k,C,I,A,P;return t[14]===Symbol.for("react.memo_cache_sentinel")?(v={preventExpansion:!0},S=(0,bt.jsx)(Qs.Handle,{}),t[14]=v,t[15]=S):(v=t[14],S=t[15]),t[16]!==i?(w=i({id:"rDBnul"}),t[16]=i,t[17]=w):w=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.gap_5xl],t[18]=T):T=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(LH,{}),t[19]=k):k=t[19],t[20]!==i||t[21]!==c||t[22]!==m||t[23]!==d||t[24]!==o||t[25]!==y||t[26]!==x||t[27]!==j||t[28]!==s?(C=(0,bt.jsx)(Fs.default,{style:T,children:(0,bt.jsx)(lt.Suspense,{fallback:k,children:o?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(CH,{starterPack:s,link:o,ref:p}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.gap_md,c&&[qs.atoms.flex_row,qs.atoms.justify_center,qs.atoms.flex_wrap]],children:[(0,bt.jsxs)(ao.Button,{label:i({id:"Iymn9u"}),color:"primary_subtle",size:"large",onPress:r.IS_WEB?y:j,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:m?lo.Loader:r.IS_WEB?ig:y_}),(0,bt.jsx)(ao.ButtonText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"he3ygx"}):(0,bt.jsx)(dt.Trans,{id:"Z8lGw6"})})]}),(0,bt.jsxs)(ao.Button,{label:i({id:"vD4XP2"}),color:"secondary",size:"large",onPress:x,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:d?lo.Loader:hM}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})})]})]})]}):(0,bt.jsx)(LH,{})})}),t[20]=i,t[21]=c,t[22]=m,t[23]=d,t[24]=o,t[25]=y,t[26]=x,t[27]=j,t[28]=s,t[29]=C):C=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(Qs.Close,{}),t[30]=I):I=t[30],t[31]!==w||t[32]!==C?(A=(0,bt.jsxs)(Qs.ScrollableInner,{label:w,children:[C,I]}),t[31]=w,t[32]=C,t[33]=A):A=t[33],t[34]!==a||t[35]!==A?(P=(0,bt.jsxs)(Qs.Outer,{control:a,nativeOptions:v,children:[S,A]}),t[34]=a,t[35]=A,t[36]=P):P=t[36],P}function PH(e){const t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t])}function EH(e){return new Promise((t=>{const s=new Image;s.onload=()=>{const e=document.createElement("canvas");e.width=s.width,e.height=s.height;const o=e.getContext("2d");o?.drawImage(s,0,0),t(e)},s.src=e}))}function LH(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,{minHeight:400}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),e[0]=t):t=e[0],t}const RH=(0,ti.createSinglePathSVG)({path:"M3 5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm6 0H5v4h4V5ZM3 15a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4Zm6 0H5v4h4v-4ZM13 5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V5Zm6 0h-4v4h4V5ZM14 13a1 1 0 0 1 1 1v1h1a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1Zm3 1a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Zm0 4a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-1v1a1 1 0 1 1-2 0v-2Z"});function BH(e){const t=(0,n.c)(7);let s,o,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={preventExpansion:!0},o=(0,bt.jsx)(Qs.Handle,{}),t[0]=s,t[1]=o):(s=t[0],o=t[1]),t[2]!==e?(a=(0,bt.jsx)(DH,Object.assign({},e)),t[2]=e,t[3]=a):a=t[3],t[4]!==e.control||t[5]!==a?(r=(0,bt.jsxs)(Qs.Outer,{control:e.control,nativeOptions:s,children:[o,a]}),t[4]=e.control,t[5]=a,t[6]=r):r=t[6],r}function DH(e){const t=(0,n.c)(27),{starterPack:s,link:o,imageLoaded:a,qrDialogControl:i,control:l}=e,{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)(),u=(0,qs.useTheme)(),{gtMobile:m}=(0,qs.useBreakpoints)();let h;t[0]!==s?(h=(0,NT.getStarterPackOgCard)(s),t[0]=s,t[1]=h):h=t[1];const p=h;let f;t[2]!==d||t[3]!==l||t[4]!==o||t[5]!==s?(f=async()=>{o&&((0,lm.shareUrl)(o),d.metric("starterPack:share",{starterPack:s.uri,shareType:"link"}),l.close())},t[2]=d,t[3]=l,t[4]=o,t[5]=s,t[6]=f):f=t[6];const g=f,x=function(){const e=(0,n.c)(6),{_:t}=(0,dt.useLingui)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={granularPermissions:["photo"]},e[0]=s):s=e[0];const[o,a,i]=SH.usePermissions(s);let l;return e[1]!==t||e[2]!==i||e[3]!==o||e[4]!==a?(l=async e=>{if(!r.IS_NATIVE)throw new Error("useSaveImageToMediaLibrary is native only");const s=async function(){try{await(0,Oy.saveImageToMediaLibrary)({uri:e}),Pd.show(t({id:"toHzHC"}))}catch(f){const s=f;Pd.show(t({id:"o/QHDs",values:{0:String(s)}}),{type:"error"})}},n=o??await i();n.granted?await s():n.canAskAgain?(await a()).granted?await s():Pd.show(t({id:"ri0d5i"}),{type:"error"}):Pd.show(t({id:"IVtMTv"}),{type:"error"})},e[1]=t,e[2]=i,e[3]=o,e[4]=a,e[5]=l):l=e[5],l}();let _;t[7]!==p||t[8]!==x?(_=async()=>{await x(p)},t[7]=p,t[8]=x,t[9]=_):_=t[9];const y=_;let b,j,v,S;return t[10]!==c?(b=c({id:"F6IDJx"}),t[10]=c,t[11]=b):b=t[11],t[12]!==c||t[13]!==l||t[14]!==m||t[15]!==a||t[16]!==p||t[17]!==o||t[18]!==y||t[19]!==g||t[20]!==i||t[21]!==u?(j=a&&o?(0,bt.jsxs)(Fs.default,{style:[!m&&qs.atoms.gap_lg],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm,m&&qs.atoms.pb_lg],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_2xl],children:(0,bt.jsx)(dt.Trans,{id:"WQpKdx"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,u.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"N142Sr"})})]}),(0,bt.jsx)(cn.Image,{source:{uri:p},style:[qs.atoms.rounded_sm,qs.atoms.aspect_card,{transform:[{scale:m?.85:1}],marginTop:m?-20:0}],accessibilityIgnoresInvertColors:!0}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,m&&[qs.atoms.gap_sm,qs.atoms.justify_center,qs.atoms.flex_row,qs.atoms.flex_wrap]],children:[(0,bt.jsxs)(ao.Button,{label:r.IS_WEB?c({id:"y1eoq1"}):c({id:"uIZ2tg"}),color:"primary_subtle",size:"large",onPress:g,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:ig}),(0,bt.jsx)(ao.ButtonText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"ENCIQz"}):(0,bt.jsx)(dt.Trans,{id:"uIZ2tg"})})]}),(0,bt.jsxs)(ao.Button,{label:c({id:"wlA8SL"}),color:"primary_subtle",size:"large",onPress:()=>{l.close((()=>{i.open()}))},children:[(0,bt.jsx)(ao.ButtonIcon,{icon:RH}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"wlA8SL"})})]}),r.IS_NATIVE&&(0,bt.jsxs)(ao.Button,{label:c({id:"uKAEhd"}),color:"secondary",size:"large",onPress:y,children:[(0,bt.jsx)(ao.ButtonIcon,{icon:hF}),(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"uKAEhd"})})]})]})]}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.justify_center,{minHeight:350}],children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[12]=c,t[13]=l,t[14]=m,t[15]=a,t[16]=p,t[17]=o,t[18]=y,t[19]=g,t[20]=i,t[21]=u,t[22]=j):j=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(Qs.Close,{}),t[23]=v):v=t[23],t[24]!==b||t[25]!==j?(S=(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Qs.ScrollableInner,{label:b,children:[j,v]})}),t[24]=b,t[25]=j,t[26]=S):S=t[26],S}function OH(e){const t=(0,n.c)(2),{route:s}=e;let o;return t[0]!==s.params?(o=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(FH,{routeParams:s.params})}),t[0]=s.params,t[1]=o):o=t[1],o}function MH(e){const t=(0,n.c)(13),{route:s}=e,{_:o}=(0,dt.useLingui)();let a;t[0]!==s.params.code?(a={code:s.params.code},t[0]=s.params.code,t[1]=a):a=t[1];const{data:r,isLoading:i,isError:l}=function(e){const t=(0,n.c)(8),{code:s}=e;let o,a;t[0]!==s?(o=fH(s),t[0]=s,t[1]=o):o=t[1],t[2]!==s?(a=async()=>{const e=`${pH}${s}`,t=await(0,hH.resolveShortLink)(e);return(0,NT.parseStarterPackUri)(t)},t[2]=s,t[3]=a):a=t[3];const r=Boolean(s);let i;return t[4]!==o||t[5]!==a||t[6]!==r?(i={queryKey:o,queryFn:a,retry:1,enabled:r,staleTime:yt.STALE.HOURS.ONE},t[4]=o,t[5]=a,t[6]=r,t[7]=i):i=t[7],(0,Zs.useQuery)(i)}(a);if(i||l||!r){let e,s,n;return t[2]!==o?(e=o({id:"Arm8T4"}),t[2]=o,t[3]=e):e=t[3],t[4]!==o?(s=o({id:"Arm8T4"}),t[4]=o,t[5]=s):s=t[5],t[6]!==l||t[7]!==i||t[8]!==e||t[9]!==s?(n=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(yS,{isLoading:i,isError:l,errorMessage:e,emptyMessage:s})}),t[6]=l,t[7]=i,t[8]=e,t[9]=s,t[10]=n):n=t[10],n}let c;return t[11]!==r?(c=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(FH,{routeParams:r})}),t[11]=r,t[12]=c):c=t[12],c}function FH(e){const t=(0,n.c)(18),{routeParams:s}=e,{name:o,rkey:a}=s,{_:r}=(0,dt.useLingui)(),{currentAccount:i}=(0,Gt.useSession)(),l=(0,ds.useModerationOpts)(),{data:c,isLoading:d,isError:u}=(0,_r.useResolveDidQuery)(o);let m;t[0]!==c||t[1]!==a?(m={did:c,rkey:a},t[0]=c,t[1]=a,t[2]=m):m=t[2];const{data:h,isLoading:p,isError:f}=(0,dC.useStarterPackQuery)(m),g=h&&(h.list||h?.creator?.did===i?.did)&&Dn.AppBskyGraphDefs.validateStarterPackView(h)&&Dn.AppBskyGraphStarterpack.validateRecord(h.record);if(!c||!h||!g||!l){const e=d||p||!l,s=u||f||!g;let o,n,a;return t[3]!==r?(o=r({id:"Arm8T4"}),t[3]=r,t[4]=o):o=t[4],t[5]!==r?(n=r({id:"Arm8T4"}),t[5]=r,t[6]=n):n=t[6],t[7]!==e||t[8]!==s||t[9]!==o||t[10]!==n?(a=(0,bt.jsx)(yS,{isLoading:e,isError:s,errorMessage:o,emptyMessage:n}),t[7]=e,t[8]=s,t[9]=o,t[10]=n,t[11]=a):a=t[11],a}if(!h.list&&h.creator.did===i?.did){let e;return t[12]!==a?(e=(0,bt.jsx)(WH,{rkey:a}),t[12]=a,t[13]=e):e=t[13],e}let x;return t[14]!==l||t[15]!==s||t[16]!==h?(x=(0,bt.jsx)(NH,{starterPack:h,routeParams:s,moderationOpts:l}),t[14]=l,t[15]=s,t[16]=h,t[17]=x):x=t[17],x}function NH(e){const t=(0,n.c)(63),{starterPack:s,routeParams:o,moderationOpts:a}=e,r=Boolean(s.list),i=Boolean(s.feeds?.length),l=Boolean(s.list),{_:c}=(0,dt.useLingui)(),d=(0,Xo.useAnalytics)();let u,m,h,p;t[0]!==c||t[1]!==r?(u=r?[c({id:"1wdjme"})]:[],t[0]=c,t[1]=r,t[2]=u):u=t[2],t[3]!==c||t[4]!==i?(m=i?[c({id:"2DoBvq"})]:[],t[3]=c,t[4]=i,t[5]=m):m=t[5],t[6]!==c||t[7]!==l?(h=l?[c({id:"+owNNn"})]:[],t[6]=c,t[7]=l,t[8]=h):h=t[8],t[9]!==u||t[10]!==m||t[11]!==h?(p=[...u,...m,...h],t[9]=u,t[10]=m,t[11]=h,t[12]=p):p=t[12];const f=p,g=(0,Qs.useDialogControl)(),x=(0,Qs.useDialogControl)(),_=async e=>{const t=new URL(e),s=await fetch("https://go.bsky.app/link",{method:"POST",body:JSON.stringify({path:t.pathname}),headers:{"Content-Type":"application/json"}});return s.ok?s.json():(Mt.logger.error("Failed to shorten link",{safeMessage:s.status}),{url:e})},[y,b]=lt.useState(),[j,v]=lt.useState(!1);let S,w,T;t[13]!==d||t[14]!==s.uri?(S=()=>{d.metric("starterPack:opened",{starterPack:s.uri})},w=[d,s.uri],t[13]=d,t[14]=s.uri,t[15]=S,t[16]=w):(S=t[15],w=t[16]),lt.useEffect(S,w),t[17]!==x||t[18]!==_||t[19]!==s?(T=()=>{const e=new Dn.AtUri(s.uri).rkey;_((0,Oa.makeStarterPackLink)(s.creator.did,e)).then((e=>{b(e.url)})),cn.Image.prefetch((0,NT.getStarterPackOgCard)(s)).then((()=>{v(!0)})).catch((()=>{v(!0)})),x.open()},t[17]=x,t[18]=_,t[19]=s,t[20]=T):T=t[20];const k=T;let C,I,A,P,E,L,R,B,D,O;return t[21]!==k||t[22]!==o.new?(C=()=>{o.new&&k()},t[21]=k,t[22]=o.new,t[23]=C):C=t[23],t[24]!==k||t[25]!==o.new||t[26]!==x?(I=[k,o.new,x],t[24]=k,t[25]=o.new,t[26]=x,t[27]=I):I=t[27],lt.useEffect(C,I),t[28]!==k||t[29]!==o||t[30]!==s?(A=()=>(0,bt.jsx)(HH,{starterPack:s,routeParams:o,onOpenShareDialog:k}),t[28]=k,t[29]=o,t[30]=s,t[31]=A):A=t[31],t[32]!==a||t[33]!==r||t[34]!==s.list?(P=r?e=>{const{headerHeight:t,scrollElRef:o}=e;return(0,bt.jsx)(bH,{listUri:s.list.uri,headerHeight:t,scrollElRef:o,moderationOpts:a})}:null,t[32]=a,t[33]=r,t[34]=s.list,t[35]=P):P=t[35],t[36]!==i||t[37]!==s.feeds?(E=i?e=>{const{headerHeight:t,scrollElRef:o}=e;return(0,bt.jsx)(xH,{feeds:s?.feeds,headerHeight:t,scrollElRef:o})}:null,t[36]=i,t[37]=s.feeds,t[38]=E):E=t[38],t[39]!==a||t[40]!==l||t[41]!==s.list?(L=l?e=>{const{headerHeight:t,scrollElRef:o}=e;return(0,bt.jsx)(_H,{listUri:s.list.uri,headerHeight:t,scrollElRef:o,moderationOpts:a})}:null,t[39]=a,t[40]=l,t[41]=s.list,t[42]=L):L=t[42],t[43]!==A||t[44]!==P||t[45]!==E||t[46]!==L||t[47]!==f?(R=(0,bt.jsxs)(eT,{items:f,isHeaderReady:!0,renderHeader:A,children:[P,E,L]}),t[43]=A,t[44]=P,t[45]=E,t[46]=L,t[47]=f,t[48]=R):R=t[48],t[49]!==y||t[50]!==g||t[51]!==s?(B=(0,bt.jsx)(AH,{control:g,starterPack:s,link:y}),t[49]=y,t[50]=g,t[51]=s,t[52]=B):B=t[52],t[53]!==j||t[54]!==y||t[55]!==g||t[56]!==x||t[57]!==s?(D=(0,bt.jsx)(BH,{control:x,qrDialogControl:g,starterPack:s,link:y,imageLoaded:j}),t[53]=j,t[54]=y,t[55]=g,t[56]=x,t[57]=s,t[58]=D):D=t[58],t[59]!==R||t[60]!==B||t[61]!==D?(O=(0,bt.jsxs)(bt.Fragment,{children:[R,B,D]}),t[59]=R,t[60]=B,t[61]=D,t[62]=O):O=t[62],O}function HH(e){const t=(0,n.c)(49),{starterPack:s,routeParams:o,onOpenShareDialog:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),{currentAccount:l,hasSession:c}=(0,Gt.useSession)(),d=(0,Gt.useAgent)(),u=(0,On.useQueryClient)(),m=ys(),{requestSwitchToAccount:h}=Ts(),{captureAction:p}=(0,Cs.useProgressGuideControls)(),[f,g]=lt.useState(!1),{record:x,creator:_}=s,y=_?.did===l?.did,b=s.joinedAllTimeCount??0,j=(0,Xo.useAnalytics)(),v=(0,Ns.useNavigation)();let S,w,T;t[0]!==c||t[1]!==v||t[2]!==m||t[3]!==s.uri?(S=()=>{const e=()=>{c||m({uri:s.uri})},t=()=>{c||m(void 0)};return v.addListener("focus",e),v.addListener("beforeRemove",t),()=>{v.removeListener("focus",e),v.removeListener("beforeRemove",t)}},w=[c,v,m,s.uri],t[0]=c,t[1]=v,t[2]=m,t[3]=s.uri,t[4]=S,t[5]=w):(S=t[4],w=t[5]),lt.useEffect(S,w),t[6]!==r||t[7]!==d||t[8]!==j||t[9]!==p||t[10]!==l?.did||t[11]!==u||t[12]!==s.cid||t[13]!==s.list||t[14]!==s.uri?(T=async()=>{if(!s.list)return;let e;g(!0);try{e=await(0,Xx.getAllListMembers)(d,s.list.uri)}catch(C){const t=C;return g(!1),Ds.show(r({id:"yWbGrB"}),"xmark"),void Mt.logger.error("Failed to get list members for starter pack",{safeMessage:t})}const t=e.filter((e=>e.subject.did!==l?.did&&!vA(e.subject)&&!SA(e.subject)&&!e.subject.viewer?.following)).map(VH);let o;try{o=await kI(d,t,{uri:s.uri,cid:s.cid})}catch(A){const t=A;g(!1),Ds.show(r({id:"yWbGrB"}),"xmark"),Mt.logger.error("Failed to follow all accounts",{safeMessage:t})}g(!1),(0,RA.batchedUpdates)((()=>{for(const e of t)(0,Va.updateProfileShadow)(u,e,{followingUri:o.get(e)})})),Ds.show(r({id:"w9OS0x"})),p(Cs.ProgressGuideAction.Follow,t.length),j.metric("starterPack:followAll",{logContext:"StarterPackProfilesList",starterPack:s.uri,count:t.length})},t[6]=r,t[7]=d,t[8]=j,t[9]=p,t[10]=l?.did,t[11]=u,t[12]=s.cid,t[13]=s.list,t[14]=s.uri,t[15]=T):T=t[15];const k=T;if(!qc.dangerousIsType(x,Dn.AppBskyGraphStarterpack.isRecord))return null;let C;t[16]!==x.description||t[17]!==x.descriptionFacets?(C=x.description?new Dn.RichText({text:x.description,facets:x.descriptionFacets}):void 0,t[16]=x.description,t[17]=x.descriptionFacets,t[18]=C):C=t[18];const I=C;let A,P,E,L,R;return t[19]!==_?(A=(0,Oa.makeProfileLink)(_),t[19]=_,t[20]=A):A=t[20],t[21]!==r||t[22]!==c||t[23]!==y||t[24]!==f||t[25]!==k||t[26]!==a||t[27]!==o||t[28]!==s?(P=c?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.align_center],children:[y?(0,bt.jsx)(ao.Button,{label:r({id:"LX+0kd"}),hitSlop:Vt.HITSLOP_20,variant:"solid",color:"primary",size:"small",onPress:a,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Z8lGw6"})})}):(0,bt.jsxs)(ao.Button,{label:r({id:"8P26C7"}),variant:"solid",color:"primary",size:"small",disabled:f,onPress:k,style:[qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center],children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"8P26C7"})}),f&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}),(0,bt.jsx)(zH,{routeParams:o,starterPack:s,onOpenShareDialog:a})]}):null,t[21]=r,t[22]=c,t[23]=y,t[24]=f,t[25]=k,t[26]=a,t[27]=o,t[28]=s,t[29]=P):P=t[29],t[30]!==_||t[31]!==y||t[32]!==x.name||t[33]!==A||t[34]!==P?(E=(0,bt.jsx)(nM,{isLoading:!1,href:A,title:x.name,isOwner:y,avatar:void 0,creator:_,purpose:"app.bsky.graph.defs#referencelist",avatarType:"starter-pack",children:P}),t[30]=_,t[31]=y,t[32]=x.name,t[33]=A,t[34]=P,t[35]=E):E=t[35],t[36]!==r||t[37]!==c||t[38]!==b||t[39]!==h||t[40]!==I||t[41]!==m||t[42]!==s.joinedAllTimeCount||t[43]!==s.uri||t[44]!==i?(L=!c||I||b>=25?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.px_lg,qs.atoms.pt_md,qs.atoms.pb_sm,qs.atoms.gap_md],children:[I?(0,bt.jsx)(Yi.RichText,{value:I,style:[qs.atoms.text_md]}):null,c?null:(0,bt.jsx)(ao.Button,{label:r({id:"KBdkDa"}),onPress:()=>{m({uri:s.uri}),h({requestedAccount:"new"})},variant:"solid",color:"primary",size:"large",children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_lg],children:(0,bt.jsx)(dt.Trans,{id:"KBdkDa"})})}),b>=25?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:[(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"arrow-trend-up",size:12,color:i.atoms.text_contrast_medium.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_sm,i.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"UuBuVb",values:{0:s.joinedAllTimeCount||0}})})]}):null]}):null,t[36]=r,t[37]=c,t[38]=b,t[39]=h,t[40]=I,t[41]=m,t[42]=s.joinedAllTimeCount,t[43]=s.uri,t[44]=i,t[45]=L):L=t[45],t[46]!==E||t[47]!==L?(R=(0,bt.jsxs)(bt.Fragment,{children:[E,L]}),t[46]=E,t[47]=L,t[48]=R):R=t[48],R}function VH(e){return e.subject.did}function zH(e){const t=(0,n.c)(57),{starterPack:s,routeParams:o,onOpenShareDialog:a}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),c=(0,Xo.useAnalytics)(),{gtMobile:d}=(0,qs.useBreakpoints)(),{currentAccount:u}=(0,Gt.useSession)(),m=(0,If.useReportDialogControl)(),h=(0,Qs.useDialogControl)(),p=(0,Ns.useNavigation)();let f;t[0]!==c||t[1]!==h||t[2]!==p?(f={onSuccess:()=>{c.metric("starterPack:delete",{}),h.close((()=>{p.canGoBack()?p.popToTop():p.navigate("Home")}))},onError:UH},t[0]=c,t[1]=h,t[2]=p,t[3]=f):f=t[3];const{mutate:g,isPending:x,error:_}=(0,dC.useDeleteStarterPackMutation)(f),y=s.creator.did===u?.did;let b;t[4]!==c||t[5]!==g||t[6]!==o||t[7]!==s.list?(b=async()=>{s.list?(g({rkey:o.rkey,listUri:s.list.uri}),c.metric("starterPack:delete",{})):Mt.logger.error("Unable to delete starterpack because list is missing")},t[4]=c,t[5]=g,t[6]=o,t[7]=s.list,t[8]=b):b=t[8];const j=b;let v,S,w,T,k,C,I,A,P,E;t[9]!==l?(v=l({id:"JOV5dR"}),t[9]=l,t[10]=v):v=t[10],t[11]!==l?(S=e=>{const{props:t}=e;return(0,bt.jsx)(ao.Button,Object.assign({},t,{testID:"headerDropdownBtn",label:l({id:"9YwizI"}),hitSlop:Vt.HITSLOP_20,variant:"solid",color:"secondary",size:"small",shape:"round",children:(0,bt.jsx)(ao.ButtonIcon,{icon:Qp})}))},t[11]=l,t[12]=S):S=t[12],t[13]!==v||t[14]!==S?(w=(0,bt.jsx)(Kp.Trigger,{label:v,children:S}),t[13]=v,t[14]=S,t[15]=w):w=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(T={minWidth:170},t[16]=T):T=t[16],t[17]!==l||t[18]!==h||t[19]!==y||t[20]!==p||t[21]!==a||t[22]!==m||t[23]!==o?(k=(0,bt.jsx)(Kp.Outer,{style:T,children:y?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Kp.Item,{label:l({id:"1PgGZN"}),testID:"editStarterPackLinkBtn",onPress:()=>{p.navigate("StarterPackEdit",{rkey:o.rkey})},children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"ePK91l"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Mk,position:"right"})]}),(0,bt.jsxs)(Kp.Item,{label:l({id:"dOPMa3"}),testID:"deleteStarterPackBtn",onPress:()=>{h.open()},children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"cnGeoo"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:ml.Trash_Stroke2_Corner0_Rounded,position:"right"})]})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kp.Group,{children:(0,bt.jsxs)(Kp.Item,{label:r.IS_WEB?l({id:"Y46Uwb"}):l({id:"tz4YI4"}),testID:"shareStarterPackLinkBtn",onPress:a,children:[(0,bt.jsx)(Kp.ItemText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"y1eoq1"}):(0,bt.jsx)(dt.Trans,{id:"tz4YI4"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:r.IS_WEB?ig:y_,position:"right"})]})}),(0,bt.jsxs)(Kp.Item,{label:l({id:"AK2/8r"}),onPress:()=>m.open(),children:[(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"AK2/8r"})}),(0,bt.jsx)(Kp.ItemIcon,{icon:Cn.CircleInfo_Stroke2_Corner0_Rounded,position:"right"})]})]})}),t[17]=l,t[18]=h,t[19]=y,t[20]=p,t[21]=a,t[22]=m,t[23]=o,t[24]=k):k=t[24],t[25]!==w||t[26]!==k?(C=(0,bt.jsxs)(Kp.Root,{children:[w,k]}),t[25]=w,t[26]=k,t[27]=C):C=t[27],t[28]!==m||t[29]!==s?(I=s.list&&(0,bt.jsx)(If.ReportDialog,{control:m,subject:Object.assign({},s,{$type:"app.bsky.graph.defs#starterPackView"})}),t[28]=m,t[29]=s,t[30]=I):I=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(Zi.TitleText,{children:(0,bt.jsx)(dt.Trans,{id:"QF3NA8"})}),t[31]=A):A=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(Zi.DescriptionText,{children:(0,bt.jsx)(dt.Trans,{id:"yd++of"})}),t[32]=P):P=t[32],t[33]!==_||t[34]!==i?(E=_&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.mb_lg,qs.atoms.border,i.atoms.border_contrast_medium,i.atoms.bg_contrast_25],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"YX1RnP"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug],children:(0,Tn.cleanError)(_)})]}),(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm",fill:i.palette.negative_400})]}),t[33]=_,t[34]=i,t[35]=E):E=t[35];const L=d?"small":"large";let R,B,D,O,M,F,N,H;return t[36]!==l?(R=l({id:"r++CBj"}),t[36]=l,t[37]=R):R=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"cnGeoo"})}),t[38]=B):B=t[38],t[39]!==x?(D=x&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[39]=x,t[40]=D):D=t[40],t[41]!==j||t[42]!==L||t[43]!==R||t[44]!==D?(O=(0,bt.jsxs)(ao.Button,{variant:"solid",color:"negative",size:L,label:R,onPress:j,children:[B,D]}),t[41]=j,t[42]=L,t[43]=R,t[44]=D,t[45]=O):O=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(Zi.Cancel,{}),t[46]=M):M=t[46],t[47]!==O?(F=(0,bt.jsxs)(Zi.Actions,{children:[O,M]}),t[47]=O,t[48]=F):F=t[48],t[49]!==h||t[50]!==E||t[51]!==F?(N=(0,bt.jsxs)(Zi.Outer,{control:h,children:[A,P,E,F]}),t[49]=h,t[50]=E,t[51]=F,t[52]=N):N=t[52],t[53]!==N||t[54]!==C||t[55]!==I?(H=(0,bt.jsxs)(bt.Fragment,{children:[C,I,N]}),t[53]=N,t[54]=C,t[55]=I,t[56]=H):H=t[56],H}function UH(e){Mt.logger.error("Failed to delete starter pack",{safeMessage:e})}function WH(e){const t=(0,n.c)(54),{rkey:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)(),r=(0,Ns.useNavigation)(),{gtMobile:i}=(0,qs.useBreakpoints)(),[l,c]=lt.useState(!1);let d;t[0]!==r?(d=()=>{r.canGoBack()?r.goBack():r.replace("Home")},t[0]=r,t[1]=d):d=t[1];const u=d;let m,h,p;t[2]!==u?(m=()=>{c(!1),u()},t[2]=u,t[3]=m):m=t[3],t[4]!==o?(h=e=>{c(!1),Mt.logger.error("Failed to delete invalid starter pack",{safeMessage:e}),Ds.show(o({id:"eX1oC7"}),"xmark")},t[4]=o,t[5]=h):h=t[5],t[6]!==m||t[7]!==h?(p={onSuccess:m,onError:h},t[6]=m,t[7]=h,t[8]=p):p=t[8];const{mutate:f}=(0,dC.useDeleteStarterPackMutation)(p);let g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M;return t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.py_4xl,qs.atoms.px_xl,qs.atoms.align_center,qs.atoms.gap_5xl],t[9]=g):g=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.gap_lg],t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_3xl],children:(0,bt.jsx)(dt.Trans,{id:"17CVmq"})}),t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y={lineHeight:1.4},t[12]=y):y=t[12],t[13]!==i?(b=i?{width:450}:[qs.atoms.w_full,qs.atoms.px_lg],t[13]=i,t[14]=b):b=t[14],t[15]!==a.atoms.text_contrast_high||t[16]!==b?(j=[qs.atoms.text_md,qs.atoms.text_center,a.atoms.text_contrast_high,y,b],t[15]=a.atoms.text_contrast_high,t[16]=b,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(dt.Trans,{id:"x/SDbC"}),t[18]=v):v=t[18],t[19]!==j?(S=(0,bt.jsxs)(Fs.default,{style:x,children:[_,(0,bt.jsx)(co.Text,{style:j,children:v})]}),t[19]=j,t[20]=S):S=t[20],t[21]!==i?(w=i?{width:350}:[qs.atoms.w_full,qs.atoms.px_lg],t[21]=i,t[22]=w):w=t[22],t[23]!==w?(T=[qs.atoms.gap_md,w],t[23]=w,t[24]=T):T=t[24],t[25]!==o?(k=o({id:"dOPMa3"}),t[25]=o,t[26]=k):k=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.rounded_sm,qs.atoms.overflow_hidden,{paddingVertical:10}],t[27]=C):C=t[27],t[28]!==f||t[29]!==s?(I=()=>{c(!0),f({rkey:s})},t[28]=f,t[29]=s,t[30]=I):I=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(A=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"cnGeoo"})}),t[31]=A):A=t[31],t[32]!==l?(P=l&&(0,bt.jsx)(lo.Loader,{size:"xs",color:"white"}),t[32]=l,t[33]=P):P=t[33],t[34]!==l||t[35]!==k||t[36]!==I||t[37]!==P?(E=(0,bt.jsxs)(ao.Button,{variant:"solid",color:"primary",label:k,size:"large",style:C,disabled:l,onPress:I,children:[A,P]}),t[34]=l,t[35]=k,t[36]=I,t[37]=P,t[38]=E):E=t[38],t[39]!==o?(L=o({id:"/lgEIe"}),t[39]=o,t[40]=L):L=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.rounded_sm,qs.atoms.overflow_hidden,{paddingVertical:10}],t[41]=R):R=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"sr0UJD"})}),t[42]=B):B=t[42],t[43]!==u||t[44]!==l||t[45]!==L?(D=(0,bt.jsx)(ao.Button,{variant:"solid",color:"secondary",label:L,size:"large",style:R,disabled:l,onPress:u,children:B}),t[43]=u,t[44]=l,t[45]=L,t[46]=D):D=t[46],t[47]!==T||t[48]!==E||t[49]!==D?(O=(0,bt.jsxs)(Fs.default,{style:T,children:[E,D]}),t[47]=T,t[48]=E,t[49]=D,t[50]=O):O=t[50],t[51]!==S||t[52]!==O?(M=(0,bt.jsx)(ya.Content,{centerContent:!0,children:(0,bt.jsxs)(Fs.default,{style:g,children:[S,O]})}),t[51]=S,t[52]=O,t[53]=M):M=t[53],M}const GH=["Details","Profiles","Feeds"],qH=lt.createContext([{},e=>{}]);qH.displayName="StarterPackWizardStateContext";const QH=()=>lt.useContext(qH);function KH(e,t){let s=e;const o=GH.indexOf(e.currentStep);switch("Next"===t.type&&"Feeds"!==e.currentStep?s=Object.assign({},e,{currentStep:GH[o+1],transitionDirection:"Forward"}):"Back"===t.type&&"Details"!==e.currentStep&&(s=Object.assign({},e,{currentStep:GH[o-1],transitionDirection:"Backward"})),t.type){case"SetName":s=Object.assign({},e,{name:t.name.slice(0,50)});break;case"SetDescription":s=Object.assign({},e,{description:t.description});break;case"AddProfile":e.profiles.length>Vt.STARTER_PACK_MAX_SIZE?Ds.show({id:"HKUejG",values:{STARTER_PACK_MAX_SIZE:Vt.STARTER_PACK_MAX_SIZE}}.message??"","info"):s=Object.assign({},e,{profiles:[...e.profiles,t.profile]});break;case"RemoveProfile":s=Object.assign({},e,{profiles:e.profiles.filter((e=>e.did!==t.profileDid))});break;case"AddFeed":e.feeds.length>=3?Ds.show({id:"gftkMz"}.message??"","info"):s=Object.assign({},e,{feeds:[...e.feeds,t.feed]});break;case"RemoveFeed":s=Object.assign({},e,{feeds:e.feeds.filter((e=>e.uri!==t.feedUri))});break;case"SetProcessing":s=Object.assign({},e,{processing:t.processing})}return s}function ZH(e){const t=(0,n.c)(9),{starterPack:s,listItems:o,targetProfile:a,children:r}=e;let i;t[0]!==o||t[1]!==s||t[2]!==a?(i=()=>{const e=a?.did;return s&&qc.validate(s.record,Dn.AppBskyGraphStarterpack.validateRecord)?{canNext:!0,currentStep:"Details",name:s.record.name,description:s.record.description,profiles:o?.map(YH)??[],feeds:s.feeds??[],processing:!1,transitionDirection:"Forward",targetDid:e}:{canNext:!0,currentStep:"Details",profiles:[a],feeds:[],processing:!1,transitionDirection:"Forward",targetDid:e}},t[0]=o,t[1]=s,t[2]=a,t[3]=i):i=t[3];const l=i,[c,d]=lt.useReducer(KH,null,l);let u,m;return t[4]!==c?(u=[c,d],t[4]=c,t[5]=u):u=t[5],t[6]!==r||t[7]!==u?(m=(0,bt.jsx)(qH.Provider,{value:u,children:r}),t[6]=r,t[7]=u,t[8]=m):m=t[8],m}function YH(e){return e.subject}function $H(){const e=(0,n.c)(48),{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),[o,a]=QH(),{currentAccount:r}=(0,Gt.useSession)(),i=r?.did;let l;e[0]!==i?(l={did:i,staleTime:300},e[0]=i,e[1]=l):l=e[1];const{data:c}=(0,Ut.useProfileQuery)(l),d=o.transitionDirection;let u,m,h,p,f,g;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.px_xl,qs.atoms.gap_xl,qs.atoms.mt_4xl],e[2]=u):u=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.gap_md,qs.atoms.align_center,qs.atoms.px_md,qs.atoms.mb_md],h=(0,bt.jsx)(fd.StarterPack,{width:90,gradient:"sky"}),e[3]=m,e[4]=h):(m=e[3],h=e[4]),e[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_3xl],children:(0,bt.jsx)(dt.Trans,{id:"+CQsAE"})}),e[5]=p):p=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsxs)(Fs.default,{style:m,children:[h,p,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,qs.atoms.text_md,qs.atoms.px_md],children:(0,bt.jsx)(dt.Trans,{id:"lKFrFe"})})]}),e[6]=f):f=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"RJ43cr"})}),e[7]=g):g=e[7];const x=c?.displayName||c?.handle;let _,y,b;e[8]!==t||e[9]!==x?(_=t({id:"Jg5m1Z",values:{0:x}}),e[8]=t,e[9]=x,e[10]=_):_=e[10],e[11]!==a?(y=e=>a({type:"SetName",name:e}),e[11]=a,e[12]=y):y=e[12],e[13]!==o.name||e[14]!==_||e[15]!==y?(b=(0,bt.jsx)(mo.Input,{label:_,value:o.name,onChangeText:y}),e[13]=o.name,e[14]=_,e[15]=y,e[16]=b):b=e[16];const j=o.name?.length;let v,S;e[17]!==t||e[18]!==j?(v=t({values:{0:j},id:"1APnSj"}),e[17]=t,e[18]=j,e[19]=v):v=e[19],e[20]!==s.atoms.text_contrast_medium?(S=[s.atoms.text_contrast_medium],e[20]=s.atoms.text_contrast_medium,e[21]=S):S=e[21];const w=o.name?.length??0;let T,k,C,I;e[22]!==S||e[23]!==w?(T=(0,bt.jsxs)(co.Text,{style:S,children:[w,"/50"]}),e[22]=S,e[23]=w,e[24]=T):T=e[24],e[25]!==v||e[26]!==T?(k=(0,bt.jsx)(mo.SuffixText,{label:v,children:T}),e[25]=v,e[26]=T,e[27]=k):k=e[27],e[28]!==b||e[29]!==k?(C=(0,bt.jsxs)(Fs.default,{children:[g,(0,bt.jsxs)(mo.Root,{children:[b,k]})]}),e[28]=b,e[29]=k,e[30]=C):C=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"UViT5D"})}),e[31]=I):I=e[31];const A=c?.displayName||c?.handle;let P,E,L,R,B,D;return e[32]!==t||e[33]!==A?(P=t({id:"R0qT3x",values:{0:A}}),e[32]=t,e[33]=A,e[34]=P):P=e[34],e[35]!==a?(E=e=>a({type:"SetDescription",description:e}),e[35]=a,e[36]=E):E=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(L={minHeight:150},e[37]=L):L=e[37],e[38]!==o.description||e[39]!==P||e[40]!==E?(R=(0,bt.jsxs)(Fs.default,{children:[I,(0,bt.jsx)(mo.Root,{children:(0,bt.jsx)(mo.Input,{label:P,value:o.description,onChangeText:E,multiline:!0,style:L})})]}),e[38]=o.description,e[39]=P,e[40]=E,e[41]=R):R=e[41],e[42]!==C||e[43]!==R?(B=(0,bt.jsxs)(Fs.default,{style:u,children:[f,C,R]}),e[42]=C,e[43]=R,e[44]=B):B=e[44],e[45]!==o.transitionDirection||e[46]!==B?(D=(0,bt.jsx)(Jk,{direction:d,enabledWeb:!0,children:B}),e[45]=o.transitionDirection,e[46]=B,e[47]=D):D=e[47],D}function XH(e){const t=(0,n.c)(40),{type:s,btnType:o,displayName:a,subtitle:r,onPress:i,avatar:l,included:c,disabled:d,moderationUi:u}=e,m=(0,qs.useTheme)(),{_:h}=(0,dt.useLingui)();let p,f;t[0]!==h||t[1]!==s?(p=h("user"===s?{id:"d614yZ"}:{id:"4p8xnk"}),t[0]=h,t[1]=s,t[2]=p):p=t[2],t[3]!==h||t[4]!==a||t[5]!==c?(f=h(c?{id:"0nxlXm",values:{displayName:a}}:{id:"WUkRex",values:{displayName:a}}),t[3]=h,t[4]=a,t[5]=c,t[6]=f):f=t[6];const g="remove"===o||d;let x,_,y,b,j,v,S,w,T,k;return t[7]!==m.atoms.border_contrast_low?(x=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.px_lg,qs.atoms.py_md,qs.atoms.gap_md,qs.atoms.border_b,m.atoms.border_contrast_low],t[7]=m.atoms.border_contrast_low,t[8]=x):x=t[8],t[9]!==l||t[10]!==u||t[11]!==s?(_=(0,bt.jsx)(Gi.UserAvatar,{size:45,avatar:l,moderation:u,type:s}),t[9]=l,t[10]=u,t[11]=s,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_1,qs.atoms.gap_2xs],t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_1,qs.atoms.font_semi_bold,qs.atoms.text_md,qs.atoms.leading_tight,qs.atoms.self_start],t[14]=b):b=t[14],t[15]!==a?(j=(0,bt.jsx)(co.Text,{emoji:!0,style:b,numberOfLines:1,children:a}),t[15]=a,t[16]=j):j=t[16],t[17]!==m.atoms.text_contrast_medium?(v=[qs.atoms.flex_1,qs.atoms.leading_tight,m.atoms.text_contrast_medium],t[17]=m.atoms.text_contrast_medium,t[18]=v):v=t[18],t[19]!==r||t[20]!==v?(S=(0,bt.jsx)(co.Text,{style:v,numberOfLines:1,children:r}),t[19]=r,t[20]=v,t[21]=S):S=t[21],t[22]!==S||t[23]!==j?(w=(0,bt.jsxs)(Fs.default,{style:y,children:[j,S]}),t[22]=S,t[23]=j,t[24]=w):w=t[24],t[25]!==h||t[26]!==o||t[27]!==d||t[28]!==i?(T="checkbox"===o?(0,bt.jsx)(af.Checkbox,{}):d?null:(0,bt.jsx)(ao.Button,{label:h({id:"t/YqKh"}),variant:"solid",color:"secondary",size:"small",style:[qs.atoms.self_center,{marginLeft:"auto"}],onPress:i,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"t/YqKh"})})}),t[25]=h,t[26]=o,t[27]=d,t[28]=i,t[29]=T):T=t[29],t[30]!==c||t[31]!==i||t[32]!==p||t[33]!==w||t[34]!==T||t[35]!==f||t[36]!==g||t[37]!==x||t[38]!==_?(k=(0,bt.jsxs)(af.Item,{name:p,label:f,value:c,disabled:g,onChange:i,style:x,children:[_,w,T]}),t[30]=c,t[31]=i,t[32]=p,t[33]=w,t[34]=T,t[35]=f,t[36]=g,t[37]=x,t[38]=_,t[39]=k):k=t[39],k}function JH(e){const t=(0,n.c)(26),{btnType:s,state:o,dispatch:a,profile:r,moderationOpts:i}=e,l=(0,Xo.useAnalytics)(),{currentAccount:c}=(0,Gt.useSession)(),d=o.targetDid||c?.did,u=r.did===d;let m;t[0]!==u||t[1]!==r.did||t[2]!==o.profiles?(m=u||o.profiles.some((e=>e.did===r.did)),t[0]=u,t[1]=r.did,t[2]=o.profiles,t[3]=m):m=t[3];const h=m,p=u||!h&&o.profiles.length>=Vt.STARTER_PACK_MAX_SIZE-1;let f;t[4]!==i||t[5]!==r?(f=(0,Dn.moderateProfile)(r,i).ui("avatar"),t[4]=i,t[5]=r,t[6]=f):f=t[6];const g=f;let x;t[7]!==r.displayName||t[8]!==r.handle?(x=r.displayName?(0,Ma.sanitizeDisplayName)(r.displayName):`@${(0,Fa.sanitizeHandle)(r.handle)}`,t[7]=r.displayName,t[8]=r.handle,t[9]=x):x=t[9];const _=x;let y;t[10]!==l||t[11]!==p||t[12]!==a||t[13]!==h||t[14]!==r||t[15]!==d?(y=()=>{p||(Ws.default.dismiss(),r.did!==d&&(h?(l.metric("starterPack:removeUser",{}),a({type:"RemoveProfile",profileDid:r.did})):(l.metric("starterPack:addUser",{}),a({type:"AddProfile",profile:r}))))},t[10]=l,t[11]=p,t[12]=a,t[13]=h,t[14]=r,t[15]=d,t[16]=y):y=t[16];const b=y,j=`@${(0,Fa.sanitizeHandle)(r.handle)}`;let v;return t[17]!==s||t[18]!==p||t[19]!==_||t[20]!==h||t[21]!==g||t[22]!==b||t[23]!==r.avatar||t[24]!==j?(v=(0,bt.jsx)(XH,{type:"user",btnType:s,displayName:_,subtitle:j,onPress:b,avatar:r.avatar,included:h,disabled:p,moderationUi:g}),t[17]=s,t[18]=p,t[19]=_,t[20]=h,t[21]=g,t[22]=b,t[23]=r.avatar,t[24]=j,t[25]=v):v=t[25],v}function eV(e){const t=(0,n.c)(23),{btnType:s,generator:o,state:a,dispatch:r,moderationOpts:i}=e,l=o.uri===Vt.DISCOVER_FEED_URI;let c;t[0]!==o.uri||t[1]!==l||t[2]!==a?(c=l||a.feeds.some((e=>e.uri===o.uri)),t[0]=o.uri,t[1]=l,t[2]=a,t[3]=c):c=t[3];const d=c,u=l||!d&&a.feeds.length>=3;let m;t[4]!==o||t[5]!==i?(m=(0,Dn.moderateFeedGenerator)(o,i).ui("avatar"),t[4]=o,t[5]=i,t[6]=m):m=t[6];const h=m;let p;t[7]!==u||t[8]!==r||t[9]!==o||t[10]!==d?(p=()=>{u||(Ws.default.dismiss(),r(d?{type:"RemoveFeed",feedUri:o.uri}:{type:"AddFeed",feed:o}))},t[7]=u,t[8]=r,t[9]=o,t[10]=d,t[11]=p):p=t[11];const f=p;let g;t[12]!==o.displayName?(g=(0,Ma.sanitizeDisplayName)(o.displayName),t[12]=o.displayName,t[13]=g):g=t[13];const x=`Feed by @${(0,Fa.sanitizeHandle)(o.creator.handle)}`;let _;return t[14]!==s||t[15]!==u||t[16]!==o.avatar||t[17]!==d||t[18]!==h||t[19]!==f||t[20]!==g||t[21]!==x?(_=(0,bt.jsx)(XH,{type:"algo",btnType:s,displayName:g,subtitle:x,onPress:f,avatar:o.avatar,included:d,disabled:u,moderationUi:h}),t[14]=s,t[15]=u,t[16]=o.avatar,t[17]=d,t[18]=h,t[19]=f,t[20]=g,t[21]=x,t[22]=_):_=t[22],_}function tV(e){return e.uri}function sV(e){const t=(0,n.c)(35),{moderationOpts:s}=e,o=(0,qs.useTheme)(),[a,r]=QH(),[i,l]=(0,lt.useState)(""),c=CC(i,500),{screenReaderEnabled:d}=(0,Ft.useA11y)(),{data:u,isFetchedAfterMount:m}=Fr(),h=u?.feeds.filter(rV).map(aV);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={limit:30},t[0]=p):p=t[0];const{data:f,fetchNextPage:g,isLoading:x}=kr(p),_=f?.pages.flatMap(nV)??[],y=h||m?_?h.concat(_.filter((e=>!h.some((t=>t.uri===e.uri))))):h:void 0;let b;t[1]!==c?(b={query:c},t[1]=c,t[2]=b):b=t[2];const{data:j,isFetching:v}=Ar(b),S=!m||x||v;let w;t[3]!==r||t[4]!==s||t[5]!==a?(w=e=>{const{item:t}=e;return(0,bt.jsx)(eV,{generator:t,btnType:"checkbox",state:a,dispatch:r,moderationOpts:s})},t[3]=r,t[4]=s,t[5]=a,t[6]=w):w=t[6];const T=w;let k,C,I,A,P,E,L;t[7]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.flex_1],t[7]=k):k=t[7],t[8]!==o.atoms.border_contrast_medium?(C=[qs.atoms.border_b,o.atoms.border_contrast_medium],t[8]=o.atoms.border_contrast_medium,t[9]=C):C=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.py_sm,qs.atoms.px_md,{height:60}],t[10]=I):I=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(A=e=>l(e),P=()=>l(""),t[11]=A,t[12]=P):(A=t[11],P=t[12]),t[13]!==i?(E=(0,bt.jsx)(Fs.default,{style:I,children:(0,bt.jsx)(Gj,{value:i,onChangeText:A,onClearText:P})}),t[13]=i,t[14]=E):E=t[14],t[15]!==C||t[16]!==E?(L=(0,bt.jsx)(Fs.default,{style:C,children:E}),t[15]=C,t[16]=E,t[17]=L):L=t[17];const R=i?j:y;let B,D,O,M,F,N;return t[18]!==g||t[19]!==i||t[20]!==d?(B=i||d?void 0:()=>g(),t[18]=g,t[19]=i,t[20]=d,t[21]=B):B=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(D={flex:1},t[22]=D):D=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(O=[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.mt_lg,qs.atoms.px_lg],t[23]=O):O=t[23],t[24]!==S?(M=(0,bt.jsx)(Fs.default,{style:O,children:S?(0,bt.jsx)(lo.Loader,{size:"lg"}):(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_lg,qs.atoms.text_center,qs.atoms.mt_lg,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"zTBPHB"})})}),t[24]=S,t[25]=M):M=t[25],t[26]!==T||t[27]!==R||t[28]!==B||t[29]!==M?(F=(0,bt.jsx)(ei.List,{data:R,renderItem:T,keyExtractor:tV,onEndReached:B,onEndReachedThreshold:2,keyboardDismissMode:"on-drag",renderScrollComponent:oV,keyboardShouldPersistTaps:"handled",disableFullWindowScroll:!0,sideBorders:!1,style:D,ListEmptyComponent:M}),t[26]=T,t[27]=R,t[28]=B,t[29]=M,t[30]=F):F=t[30],t[31]!==a.transitionDirection||t[32]!==L||t[33]!==F?(N=(0,bt.jsxs)(Jk,{style:k,direction:a.transitionDirection,enabledWeb:!0,children:[L,F]}),t[31]=a.transitionDirection,t[32]=L,t[33]=F,t[34]=N):N=t[34],N}function oV(e){return(0,bt.jsx)(hL.KeyboardAwareScrollView,Object.assign({},e))}function nV(e){return e.feeds}function aV(e){return e.view}function rV(e){return"feed"===e.type&&e.view.uri!==Vt.DISCOVER_FEED_URI}function iV(e){return e?.did??""}function lV(e){const t=(0,n.c)(36),{moderationOpts:s}=e,o=(0,qs.useTheme)(),[a,i]=QH(),[l,c]=(0,lt.useState)(""),{screenReaderEnabled:d}=(0,Ft.useA11y)();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={query:encodeURIComponent("*")},t[0]=u):u=t[0];const{data:m,fetchNextPage:h,isLoading:p}=(0,Fl.useActorSearch)(u);let f;t[1]!==m?.pages?(f=m?.pages.flatMap(mV).filter(uV),t[1]=m?.pages,t[2]=f):f=t[2];const g=f,{data:x,isFetching:_}=Zf(l,!0,12);let y;t[3]!==x?(y=x?.filter(dV),t[3]=x,t[4]=y):y=t[4];const b=y,j=p||_;let v;t[5]!==i||t[6]!==s||t[7]!==a?(v=e=>{const{item:t}=e;return(0,bt.jsx)(JH,{profile:t,btnType:"checkbox",state:a,dispatch:i,moderationOpts:s})},t[5]=i,t[6]=s,t[7]=a,t[8]=v):v=t[8];const S=v;let w,T,k,C,I,A;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.flex_1],t[9]=w):w=t[9],t[10]!==o.atoms.border_contrast_medium?(T=[qs.atoms.border_b,o.atoms.border_contrast_medium],t[10]=o.atoms.border_contrast_medium,t[11]=T):T=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.py_sm,qs.atoms.px_md,{height:60}],t[12]=k):k=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(C=()=>c(""),t[13]=C):C=t[13],t[14]!==l?(I=(0,bt.jsx)(Fs.default,{style:k,children:(0,bt.jsx)(Gj,{value:l,onChangeText:c,onClearText:C})}),t[14]=l,t[15]=I):I=t[15],t[16]!==T||t[17]!==I?(A=(0,bt.jsx)(Fs.default,{style:T,children:I}),t[16]=T,t[17]=I,t[18]=A):A=t[18];const P=l?b:g;let E,L,R,B,D,O;return t[19]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.flex_1],t[19]=E):E=t[19],t[20]!==h||t[21]!==l||t[22]!==d?(L=l||d?void 0:()=>h(),t[20]=h,t[21]=l,t[22]=d,t[23]=L):L=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.mt_lg,qs.atoms.px_lg],t[24]=R):R=t[24],t[25]!==j?(B=(0,bt.jsx)(Fs.default,{style:R,children:j?(0,bt.jsx)(lo.Loader,{size:"lg"}):(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_lg,qs.atoms.text_center,qs.atoms.mt_lg,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"8PjaBr"})})}),t[25]=j,t[26]=B):B=t[26],t[27]!==S||t[28]!==P||t[29]!==L||t[30]!==B?(D=(0,bt.jsx)(ei.List,{data:P,renderItem:S,keyExtractor:iV,renderScrollComponent:cV,keyboardShouldPersistTaps:"handled",disableFullWindowScroll:!0,sideBorders:!1,style:E,onEndReached:L,onEndReachedThreshold:r.IS_NATIVE?2:.25,keyboardDismissMode:"on-drag",ListEmptyComponent:B}),t[27]=S,t[28]=P,t[29]=L,t[30]=B,t[31]=D):D=t[31],t[32]!==a.transitionDirection||t[33]!==A||t[34]!==D?(O=(0,bt.jsxs)(Jk,{style:w,direction:a.transitionDirection,enabledWeb:!0,children:[A,D]}),t[32]=a.transitionDirection,t[33]=A,t[34]=D,t[35]=O):O=t[35],O}function cV(e){return(0,bt.jsx)(hL.KeyboardAwareScrollView,Object.assign({},e))}function dV(e){return!e.associated?.labeler}function uV(e){return!e.associated?.labeler}function mV(e){return e.actors}function hV(e,t){return`${e.did}-${t}`}function pV(e){const t=(0,n.c)(42),{control:s,state:o,dispatch:a,moderationOpts:i,profile:l}=e,{_:c}=(0,dt.useLingui)(),d=(0,qs.useTheme)(),u=$r(),m=(0,lt.useRef)(null);let h;t[0]!==l||t[1]!==o.currentStep||t[2]!==o.feeds||t[3]!==o.profiles?(h=()=>"Feeds"===o.currentStep?o.feeds:[l,...o.profiles.filter((e=>e.did!==l.did))],t[0]=l,t[1]=o.currentStep,t[2]=o.feeds,t[3]=o.profiles,t[4]=h):h=t[4];const p=h;let f;t[5]!==a||t[6]!==i||t[7]!==o?(f=e=>{const{item:t}=e;return"Profiles"===o.currentStep?(0,bt.jsx)(JH,{profile:t,btnType:"remove",state:o,dispatch:a,moderationOpts:i}):(0,bt.jsx)(eV,{generator:t,btnType:"remove",state:o,dispatch:a,moderationOpts:i})},t[5]=a,t[6]=i,t[7]=o,t[8]=f):f=t[8];const g=f;let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;return t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Qs.Handle,{}),t[9]=x):x=t[9],t[10]!==p?(_=p(),t[10]=p,t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,qs.native)(qs.atoms.pt_4xl),t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=r.IS_WEB?[qs.atoms.align_center,{height:48}]:[qs.atoms.pb_sm,qs.atoms.align_end],t[13]=b):b=t[13],t[14]!==d.atoms.bg||t[15]!==d.atoms.border_contrast_medium?(j=[y,qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.border_b,qs.atoms.px_sm,qs.atoms.mb_sm,d.atoms.bg,d.atoms.border_contrast_medium,b],t[14]=d.atoms.bg,t[15]=d.atoms.border_contrast_medium,t[16]=j):j=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(Fs.default,{style:{width:60}}),t[17]=v):v=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.font_semi_bold,qs.atoms.text_xl],t[18]=S):S=t[18],t[19]!==o.currentStep?(w=(0,bt.jsx)(co.Text,{style:S,children:"Profiles"===o.currentStep?(0,bt.jsx)(dt.Trans,{id:"FqkidW"}):(0,bt.jsx)(dt.Trans,{id:"qv9Du1"})}),t[19]=o.currentStep,t[20]=w):w=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(T={width:60},t[21]=T):T=t[21],t[22]!==c||t[23]!==s?(k=r.IS_WEB&&(0,bt.jsx)(ao.Button,{label:c({id:"yz7wBu"}),variant:"ghost",color:"primary",size:"small",onPress:()=>s.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})}),t[22]=c,t[23]=s,t[24]=k):k=t[24],t[25]!==k?(C=(0,bt.jsx)(Fs.default,{style:T,children:k}),t[25]=k,t[26]=C):C=t[26],t[27]!==w||t[28]!==C||t[29]!==j?(I=(0,bt.jsxs)(Fs.default,{style:j,children:[v,w,C]}),t[27]=w,t[28]=C,t[29]=j,t[30]=I):I=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(A=[0],P=[(0,qs.web)([qs.atoms.py_0,{height:"100vh",maxHeight:600},qs.atoms.px_0]),(0,qs.native)({height:"100%",paddingHorizontal:0,marginTop:0,paddingTop:0})],t[31]=A,t[32]=P):(A=t[31],P=t[32]),t[33]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.py_0,{maxWidth:500,minWidth:200}],t[33]=E):E=t[33],t[34]!==u||t[35]!==g||t[36]!==I||t[37]!==_?(L=(0,bt.jsx)(Qs.InnerFlatList,{ref:m,data:_,renderItem:g,keyExtractor:hV,ListHeaderComponent:I,stickyHeaderIndices:A,style:P,webInnerStyle:E,keyboardDismissMode:"on-drag",removeClippedSubviews:!0,initialNumToRender:u}),t[34]=u,t[35]=g,t[36]=I,t[37]=_,t[38]=L):L=t[38],t[39]!==s||t[40]!==L?(R=(0,bt.jsxs)(Qs.Outer,{control:s,testID:"newChatDialog",children:[x,L]}),t[39]=s,t[40]=L,t[41]=R):R=t[41],R}function fV(e){const t=(0,n.c)(33),{route:s}=e;let o;t[0]!==s.params?(o=s.params??{},t[0]=s.params,t[1]=o):o=t[1];const a=o,r="rkey"in a?a.rkey:void 0,i="fromDialog"in a&&a.fromDialog,l="targetDid"in a?a.targetDid:void 0,c="onSuccess"in a?a.onSuccess:void 0,{currentAccount:d}=(0,Gt.useSession)(),u=(0,ds.useModerationOpts)(),{_:m}=(0,dt.useLingui)(),h=l||d.did;let p;t[2]!==d.did||t[3]!==r?(p={did:d.did,rkey:r},t[2]=d.did,t[3]=r,t[4]=p):p=t[4];const{data:f,isLoading:g,isError:x}=(0,dC.useStarterPackQuery)(p),_=f?.list?.uri,{data:y,isLoading:b,isError:j}=(0,Xx.useAllListMembersQuery)(_);let v;t[5]!==h?(v={did:h},t[5]=h,t[6]=v):v=t[6];const{data:S,isLoading:w,isError:T}=(0,Ut.useProfileQuery)(v),k=Boolean(r);if(!((!k||k&&f&&y)&&S&&u)){const e=g||b||w,s=x||j||T;let o,n;return t[7]!==m?(o=m({id:"Arm8T4"}),t[7]=m,t[8]=o):o=t[8],t[9]!==e||t[10]!==s||t[11]!==o?(n=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(yS,{isLoading:e,isError:s,errorMessage:o})}),t[9]=e,t[10]=s,t[11]=o,t[12]=n):n=t[12],n}if(k&&f?.creator.did!==d?.did){let e,s;return t[13]!==m?(e=m({id:"Arm8T4"}),t[13]=m,t[14]=e):e=t[14],t[15]!==e?(s=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(yS,{isLoading:!1,isError:!0,errorMessage:e})}),t[15]=e,t[16]=s):s=t[16],s}let C,I,A,P;return t[17]===Symbol.for("react.memo_cache_sentinel")?(C=(0,qs.web)([{minHeight:0},qs.atoms.flex_1]),t[17]=C):C=t[17],t[18]!==i||t[19]!==y||t[20]!==u||t[21]!==c||t[22]!==S||t[23]!==f?(I=(0,bt.jsx)(gV,{currentStarterPack:f,currentListItems:y,profile:S,moderationOpts:u,fromDialog:i,onSuccess:c}),t[18]=i,t[19]=y,t[20]=u,t[21]=c,t[22]=S,t[23]=f,t[24]=I):I=t[24],t[25]!==y||t[26]!==S||t[27]!==f||t[28]!==I?(A=(0,bt.jsx)(ZH,{starterPack:f,listItems:y,targetProfile:S,children:I}),t[25]=y,t[26]=S,t[27]=f,t[28]=I,t[29]=A):A=t[29],t[30]!==C||t[31]!==A?(P=(0,bt.jsx)(ya.Screen,{testID:"starterPackWizardScreen",style:C,children:A}),t[30]=C,t[31]=A,t[32]=P):P=t[32],P}function gV(e){const t=(0,n.c)(123),{currentStarterPack:s,currentListItems:o,profile:a,moderationOpts:r,fromDialog:i,onSuccess:l}=e,c=(0,Ns.useNavigation)(),d=(0,Xo.useAnalytics)(),{_:u}=(0,dt.useLingui)(),m=(0,hs.useSetMinimalShellMode)(),[h,p]=QH(),{currentAccount:f}=(0,Gt.useSession)(),g=f?.did;let x;t[0]!==g?(x={did:g,staleTime:0},t[0]=g,t[1]=x):x=t[1];const{data:_}=(0,Ut.useProfileQuery)(x),y=s?.uri;let b;t[2]!==y?(b=(0,NT.parseStarterPackUri)(y),t[2]=y,t[3]=b):b=t[3];const j=b;let v,S,w,T;t[4]!==c?(v=()=>{c.setOptions({gestureEnabled:!1})},S=[c],t[4]=c,t[5]=v,t[6]=S):(v=t[5],S=t[6]),lt.useEffect(v,S),t[7]!==m?(w=()=>(m(!0),()=>{m(!1)}),t[7]=m,t[8]=w):w=t[8],(0,Ns.useFocusEffect)(w),t[9]!==u||t[10]!==_?(T=()=>{const e=gg(_,!0);return u({id:"xf7YA0",values:{displayName:e}}).slice(0,50)},t[9]=u,t[10]=_,t[11]=T):T=t[11];const k=T;let C,I,A,P,E,L,R,B,D,O;t[12]!==u?(C=u({id:"vrzMUL"}),t[12]=u,t[13]=C):C=t[13],t[14]!==u?(I=u({id:"hXzOVo"}),t[14]=u,t[15]=I):I=t[15],t[16]!==I||t[17]!==C?(A={header:C,nextBtn:I},t[16]=I,t[17]=C,t[18]=A):A=t[18],t[19]!==u?(P=u({id:"gm9oZD"}),t[19]=u,t[20]=P):P=t[20],t[21]!==u?(E=u({id:"hXzOVo"}),t[21]=u,t[22]=E):E=t[22],t[23]!==P||t[24]!==E?(L={header:P,nextBtn:E},t[23]=P,t[24]=E,t[25]=L):L=t[25],t[26]!==u?(R=u({id:"kAh1T+"}),t[26]=u,t[27]=R):R=t[27],t[28]!==u||t[29]!==h.feeds.length?(B=0===h.feeds.length?u({id:"6Uau97"}):u({id:"JmZ/+d"}),t[28]=u,t[29]=h.feeds.length,t[30]=B):B=t[30],t[31]!==R||t[32]!==B?(D={header:R,nextBtn:B},t[31]=R,t[32]=B,t[33]=D):D=t[33],t[34]!==A||t[35]!==L||t[36]!==D?(O={Details:A,Profiles:L,Feeds:D},t[34]=A,t[35]=L,t[36]=D,t[37]=O):O=t[37];const M=O[h.currentStep];let F;t[38]!==d||t[39]!==_||t[40]!==p||t[41]!==i||t[42]!==c||t[43]!==l||t[44]!==a||t[45]!==h.description||t[46]!==h.feeds.length||t[47]!==h.name||t[48]!==h.profiles?(F=e=>{const t=new Dn.AtUri(e.uri).rkey;d.metric("starterPack:create",{setName:null!=h.name,setDescription:null!=h.description,profilesCount:h.profiles.length,feedsCount:h.feeds.length}),cn.Image.prefetch([(0,NT.getStarterPackOgCard)(_.did,t)]),p({type:"SetProcessing",processing:!1}),i?(c.goBack(),l?.()):c.replace("StarterPack",{name:a.handle,rkey:t,new:!0})},t[38]=d,t[39]=_,t[40]=p,t[41]=i,t[42]=c,t[43]=l,t[44]=a,t[45]=h.description,t[46]=h.feeds.length,t[47]=h.name,t[48]=h.profiles,t[49]=F):F=t[49];const N=F;let H;t[50]!==f||t[51]!==c||t[52]!==j?(H=()=>{c.canGoBack()?c.goBack():c.replace("StarterPack",{name:f.handle,rkey:j.rkey})},t[50]=f,t[51]=c,t[52]=j,t[53]=H):H=t[53];const V=H;let z,U;t[54]!==u||t[55]!==p?(z=e=>{Mt.logger.error("Failed to create starter pack",{safeMessage:e}),p({type:"SetProcessing",processing:!1}),Ds.show(u({id:"zSRCQ5"}),"xmark")},t[54]=u,t[55]=p,t[56]=z):z=t[56],t[57]!==N||t[58]!==z?(U={onSuccess:N,onError:z},t[57]=N,t[58]=z,t[59]=U):U=t[59];const{mutate:W}=(0,dC.useCreateStarterPackMutation)(U);let G,q;t[60]!==u||t[61]!==p?(G=e=>{Mt.logger.error("Failed to edit starter pack",{safeMessage:e}),p({type:"SetProcessing",processing:!1}),Ds.show(u({id:"zSRCQ5"}),"xmark")},t[60]=u,t[61]=p,t[62]=G):G=t[62],t[63]!==V||t[64]!==G?(q={onSuccess:V,onError:G},t[63]=V,t[64]=G,t[65]=q):q=t[65];const{mutate:Q}=(0,dC.useEditStarterPackMutation)(q);let K;t[66]!==W||t[67]!==o||t[68]!==s||t[69]!==p||t[70]!==Q||t[71]!==k||t[72]!==h.description||t[73]!==h.feeds||t[74]!==h.name||t[75]!==h.profiles?(K=async()=>{p({type:"SetProcessing",processing:!0}),s&&o?Q({name:h.name?.trim()||k(),description:h.description?.trim(),profiles:h.profiles,feeds:h.feeds,currentStarterPack:s,currentListItems:o}):W({name:h.name?.trim()||k(),description:h.description?.trim(),profiles:h.profiles,feeds:h.feeds})},t[66]=W,t[67]=o,t[68]=s,t[69]=p,t[70]=Q,t[71]=k,t[72]=h.description,t[73]=h.feeds,t[74]=h.name,t[75]=h.profiles,t[76]=K):K=t[76];const Z=K;let Y;t[77]!==p||t[78]!==h.currentStep||t[79]!==Z?(Y=()=>{if("Feeds"===h.currentStep)return void Z();const e=Ws.default.isVisible();Ws.default.dismiss(),setTimeout((()=>{p({type:"Next"})}),e?16:0)},t[77]=p,t[78]=h.currentStep,t[79]=Z,t[80]=Y):Y=t[80];const $=Y,X="Profiles"===h.currentStep?h.profiles:h.feeds,J="Profiles"===h.currentStep&&X.length>1||"Feeds"===h.currentStep&&X.length>0,ee=(0,Qs.useDialogControl)();let te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he;return t[81]===Symbol.for("react.memo_cache_sentinel")?(te=[qs.atoms.flex_1],t[81]=te):te=t[81],t[82]!==u?(se=u({id:"iH8pgl"}),t[82]=u,t[83]=se):se=t[83],t[84]!==u?(oe=u({id:"0Vd1iX"}),t[84]=u,t[85]=oe):oe=t[85],t[86]!==p||t[87]!==h.currentStep?(ne=e=>{"Details"!==h.currentStep&&(e.preventDefault(),p({type:"Back"}))},t[86]=p,t[87]=h.currentStep,t[88]=ne):ne=t[88],t[89]!==se||t[90]!==oe||t[91]!==ne?(ae=(0,bt.jsx)(ya.Header.BackButton,{label:se,accessibilityHint:oe,onPress:ne}),t[89]=se,t[90]=oe,t[91]=ne,t[92]=ae):ae=t[92],t[93]!==M.header?(re=(0,bt.jsx)(ya.Header.Content,{align:"left",children:(0,bt.jsx)(ya.Header.TitleText,{children:M.header})}),t[93]=M.header,t[94]=re):re=t[94],t[95]!==u||t[96]!==ee||t[97]!==J?(ie=J?(0,bt.jsx)(ao.Button,{label:u({id:"ePK91l"}),color:"secondary",size:"small",onPress:ee.open,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"ePK91l"})})}):(0,bt.jsx)(ya.Header.Slot,{}),t[95]=u,t[96]=ee,t[97]=J,t[98]=ie):ie=t[98],t[99]!==ae||t[100]!==re||t[101]!==ie?(le=(0,bt.jsxs)(ya.Header.Outer,{children:[ae,re,ie]}),t[99]=ae,t[100]=re,t[101]=ie,t[102]=le):le=t[102],t[103]!==r||t[104]!==h.currentStep?(ce="Details"===h.currentStep?(0,bt.jsx)($H,{}):"Profiles"===h.currentStep?(0,bt.jsx)(lV,{moderationOpts:r}):"Feeds"===h.currentStep?(0,bt.jsx)(sV,{moderationOpts:r}):null,t[103]=r,t[104]=h.currentStep,t[105]=ce):ce=t[105],t[106]!==ce?(de=(0,bt.jsx)(xV,{children:ce}),t[106]=ce,t[107]=de):de=t[107],t[108]!==M.nextBtn||t[109]!==$||t[110]!==h.currentStep?(ue="Details"!==h.currentStep&&(0,bt.jsx)(_V,{onNext:$,nextBtnText:M.nextBtn}),t[108]=M.nextBtn,t[109]=$,t[110]=h.currentStep,t[111]=ue):ue=t[111],t[112]!==p||t[113]!==ee||t[114]!==r||t[115]!==a||t[116]!==h?(me=(0,bt.jsx)(pV,{control:ee,state:h,dispatch:p,moderationOpts:r,profile:a}),t[112]=p,t[113]=ee,t[114]=r,t[115]=a,t[116]=h,t[117]=me):me=t[117],t[118]!==le||t[119]!==de||t[120]!==ue||t[121]!==me?(he=(0,bt.jsxs)(ya.Center,{style:te,children:[le,de,ue,me]}),t[118]=le,t[119]=de,t[120]=ue,t[121]=me,t[122]=he):he=t[122],he}function xV(e){const t=(0,n.c)(11),{children:s}=e,{_:o}=(0,dt.useLingui)(),[a,r]=QH();if("Profiles"===a.currentStep||"Feeds"===a.currentStep){let e,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.flex_1],t[0]=e):e=t[0],t[1]!==s?(o=(0,bt.jsx)(Fs.default,{style:e,children:s}),t[1]=s,t[2]=o):o=t[2],o}let i,l,c;return t[3]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_1],t[3]=i):i=t[3],t[4]!==o||t[5]!==r||t[6]!==a.currentStep?(l="Details"===a.currentStep&&(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(ao.Button,{label:o({id:"hXzOVo"}),variant:"solid",color:"primary",size:"large",style:[qs.atoms.mx_xl,qs.atoms.mb_lg,{marginTop:35}],onPress:()=>r({type:"Next"}),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"hXzOVo"})})})}),t[4]=o,t[5]=r,t[6]=a.currentStep,t[7]=l):l=t[7],t[8]!==s||t[9]!==l?(c=(0,bt.jsxs)(hL.KeyboardAwareScrollView,{style:i,keyboardShouldPersistTaps:"handled",children:[s,l]}),t[8]=s,t[9]=l,t[10]=c):c=t[10],c}function _V(e){const t=(0,n.c)(56),{onNext:s,nextBtnText:o}=e,a=(0,qs.useTheme)(),[i]=QH(),{bottom:l}=(0,ct.useSafeAreaInsets)(),{currentAccount:c}=(0,Gt.useSession)(),d="Profiles"===i.currentStep?i.profiles:i.feeds,u="Profiles"===i.currentStep?8:0;let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.text_md],t[0]=m):m=t[0];const h=m,p=qs.atoms.pb_lg.paddingBottom+l;let f,g,x,_,y,b,j,v,S,w,T;if(t[1]!==p?(f={paddingBottom:p},t[1]=p,t[2]=f):f=t[2],t[3]!==a.atoms.shadow_md?(g=r.IS_NATIVE&&[qs.atoms.border_l,qs.atoms.border_r,a.atoms.shadow_md,{borderTopLeftRadius:14,borderTopRightRadius:14}],t[3]=a.atoms.shadow_md,t[4]=g):g=t[4],t[5]!==a.atoms.bg||t[6]!==a.atoms.border_contrast_medium||t[7]!==f||t[8]!==g?(x=[qs.atoms.border_t,qs.atoms.align_center,qs.atoms.px_lg,qs.atoms.pt_xl,qs.atoms.gap_md,a.atoms.bg,a.atoms.border_contrast_medium,f,g],t[5]=a.atoms.bg,t[6]=a.atoms.border_contrast_medium,t[7]=f,t[8]=g,t[9]=x):x=t[9],t[10]!==d.length||t[11]!==u||t[12]!==i.currentStep?(_=d.length>u&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,{right:14,top:31}],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.font_semi_bold],children:[d.length,"/","Profiles"===i.currentStep?Vt.STARTER_PACK_MAX_SIZE:3]})}),t[10]=d.length,t[11]=u,t[12]=i.currentStep,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_row],t[14]=y):y=t[14],t[15]!==d||t[16]!==i.currentStep||t[17]!==a.atoms.bg){let e;t[19]!==i.currentStep||t[20]!==a.atoms.bg?(e=(e,t)=>(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,{borderWidth:.5,borderColor:a.atoms.bg.backgroundColor},"Profiles"===i.currentStep?{zIndex:1-t,marginLeft:t>0?-8:0}:{marginRight:4}],children:(0,bt.jsx)(Gi.UserAvatar,{avatar:e.avatar,size:32,type:"Profiles"===i.currentStep?"user":"algo"})},t),t[19]=i.currentStep,t[20]=a.atoms.bg,t[21]=e):e=t[21],b=d.slice(0,6).map(e),t[15]=d,t[16]=i.currentStep,t[17]=a.atoms.bg,t[18]=b}else b=t[18];t[22]!==b?(j=(0,bt.jsx)(Fs.default,{style:y,children:b}),t[22]=b,t[23]=j):j=t[23],t[24]!==c?.did||t[25]!==d[0]||t[26]!==d[1]||t[27]!==d[2]||t[28]!==d.length||t[29]!==i.currentStep?(v="Profiles"===i.currentStep?(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,h],children:d.length<2?c?.did===d[0].did?(0,bt.jsx)(dt.Trans,{id:"9cdM5T"}):(0,bt.jsx)(dt.Trans,{id:"bb/sLG",values:{0:yV(d[0])},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):2===d.length?c?.did===d[0].did?(0,bt.jsx)(dt.Trans,{id:"WJgNzZ",values:{0:yV(d[1])},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h]}),1:(0,bt.jsx)(co.Text,{}),2:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):(0,bt.jsx)(dt.Trans,{id:"6coyq+",values:{0:yV(d[0]),1:yV(d[1])},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h]}),1:(0,bt.jsx)(co.Text,{}),2:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):d.length>2?(0,bt.jsx)(dt.Trans,{id:"BhJg4Y",values:{0:yV(d[1]),1:yV(d[2]),2:d.length-2},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0}),1:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):null}):"Feeds"===i.currentStep?0===d.length?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_center,h],children:(0,bt.jsx)(dt.Trans,{id:"QN4UJC"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,h],children:(0,bt.jsx)(dt.Trans,{id:"eyD2ne"})})]}):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,h],children:1===d.length?(0,bt.jsx)(dt.Trans,{id:"FBKq1S",values:{0:yV(d[0])},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):2===d.length?(0,bt.jsx)(dt.Trans,{id:"6coyq+",values:{0:yV(d[0]),1:yV(d[1])},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0}),1:(0,bt.jsx)(co.Text,{}),2:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):d.length>2?(0,bt.jsx)(dt.Trans,{id:"q5pnPP",values:{0:yV(d[0]),1:yV(d[1]),2:d.length-2},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0}),1:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h],emoji:!0})}}):null}):null,t[24]=c?.did,t[25]=d[0],t[26]=d[1],t[27]=d[2],t[28]=d.length,t[29]=i.currentStep,t[30]=v):v=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.w_full,qs.atoms.align_center,qs.atoms.gap_2xl,r.IS_NATIVE?qs.atoms.mt_sm:qs.atoms.mt_md],t[31]=S):S=t[31],t[32]!==d.length||t[33]!==i.currentStep||t[34]!==a.atoms.text_contrast_medium?(w="Profiles"===i.currentStep&&d.length<8&&(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,h,a.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"aJVL0P",values:{0:8-d.length}})}),t[32]=d.length,t[33]=i.currentStep,t[34]=a.atoms.text_contrast_medium,t[35]=w):w=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.w_full,qs.atoms.py_md,qs.atoms.px_2xl],t[36]=T):T=t[36];const k=!i.canNext||i.processing||"Profiles"===i.currentStep&&d.length<8;let C,I,A,P,E;return t[37]!==o?(C=(0,bt.jsx)(ao.ButtonText,{children:o}),t[37]=o,t[38]=C):C=t[38],t[39]!==i.processing?(I=i.processing&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader}),t[39]=i.processing,t[40]=I):I=t[40],t[41]!==o||t[42]!==s||t[43]!==k||t[44]!==C||t[45]!==I?(A=(0,bt.jsxs)(ao.Button,{label:o,style:T,color:"primary",size:"large",onPress:s,disabled:k,children:[C,I]}),t[41]=o,t[42]=s,t[43]=k,t[44]=C,t[45]=I,t[46]=A):A=t[46],t[47]!==w||t[48]!==A?(P=(0,bt.jsxs)(Fs.default,{style:S,children:[w,A]}),t[47]=w,t[48]=A,t[49]=P):P=t[49],t[50]!==v||t[51]!==P||t[52]!==x||t[53]!==_||t[54]!==j?(E=(0,bt.jsxs)(Fs.default,{style:x,children:[_,j,v,P]}),t[50]=v,t[51]=P,t[52]=x,t[53]=_,t[54]=j,t[55]=E):E=t[55],E}function yV(e){return"string"===typeof e.displayName?(0,Eu.enforceLen)((0,Ma.sanitizeDisplayName)(e.displayName),28,!0):"handle"in e&&"string"===typeof e.handle?(0,Eu.enforceLen)((0,Fa.sanitizeHandle)(e.handle),28,!0):""}const bV=({item:e})=>(0,bt.jsx)(Wb,{post:e}),jV=(e,t)=>`${e.uri}-${t}`;function vV(e){const t=(0,n.c)(38),{route:s}=e,{topic:o}=s.params,{_:a}=(0,dt.useLingui)(),r=decodeURIComponent(o);let i;t[0]!==r?(i=(0,Eu.enforceLen)(r,24,!0,"middle"),t[0]=r,t[1]=i):i=t[1];const l=i;let c;t[2]!==o?(c=()=>{const e=new URL("https://bsky.app");e.pathname=`/topic/${o}`,(0,lm.shareUrl)(e.toString())},t[2]=o,t[3]=c):c=t[3];const d=c,[u,m]=lt.useState(0),h=(0,hs.useSetMinimalShellMode)();let p,f;t[4]!==h?(p=()=>{h(!1)},t[4]=h,t[5]=p):p=t[5],(0,Ns.useFocusEffect)(p),t[6]!==h?(f=e=>{h(!1),m(e)},t[6]=h,t[7]=f):f=t[7];const g=f;let x;t[8]!==a?(x=a({id:"WWy8TN"}),t[8]=a,t[9]=x):x=t[9];const _=0===u;let y,b,j;t[10]!==_||t[11]!==o?(y=(0,bt.jsx)(TV,{topic:o,sort:"top",active:_}),t[10]=_,t[11]=o,t[12]=y):y=t[12],t[13]!==x||t[14]!==y?(b={title:x,component:y},t[13]=x,t[14]=y,t[15]=b):b=t[15],t[16]!==a?(j=a({id:"wL3cK8"}),t[16]=a,t[17]=j):j=t[17];const v=1===u;let S,w,T;t[18]!==v||t[19]!==o?(S=(0,bt.jsx)(TV,{topic:o,sort:"latest",active:v}),t[18]=v,t[19]=o,t[20]=S):S=t[20],t[21]!==j||t[22]!==S?(w={title:j,component:S},t[21]=j,t[22]=S,t[23]=w):w=t[23],t[24]!==w||t[25]!==b?(T=[b,w],t[24]=w,t[25]=b,t[26]=T):T=t[26];const k=T;let C,I,A;return t[27]!==a||t[28]!==l||t[29]!==d||t[30]!==k?(C=e=>(0,bt.jsxs)(ya.Center,{style:[qs.atoms.z_10,(0,qs.web)([qs.atoms.sticky,{top:0}])],children:[(0,bt.jsxs)(ya.Header.Outer,{noBottomBorder:!0,children:[(0,bt.jsx)(ya.Header.BackButton,{}),(0,bt.jsx)(ya.Header.Content,{children:(0,bt.jsx)(ya.Header.TitleText,{children:l})}),(0,bt.jsx)(ya.Header.Slot,{children:(0,bt.jsx)(ao.Button,{label:a({id:"Z8lGw6"}),size:"small",variant:"ghost",color:"primary",shape:"round",onPress:d,hitSlop:Vt.HITSLOP_10,style:[{right:-3}],children:(0,bt.jsx)(ao.ButtonIcon,{icon:y_,size:"md"})})})]}),(0,bt.jsx)(wv,Object.assign({items:k.map(wV)},e))]}),t[27]=a,t[28]=l,t[29]=d,t[30]=k,t[31]=C):C=t[31],t[32]!==k?(I=k.map(SV),t[32]=k,t[33]=I):I=t[33],t[34]!==g||t[35]!==C||t[36]!==I?(A=(0,bt.jsx)(ya.Screen,{children:(0,bt.jsx)(Mv,{onPageSelected:g,renderTabBar:C,initialPage:0,children:I})}),t[34]=g,t[35]=C,t[36]=I,t[37]=A):A=t[37],A}function SV(e,t){return(0,bt.jsx)(Fs.default,{children:e.component},t)}function wV(e){return e.title}function TV(e){const t=(0,n.c)(28),{topic:s,sort:o,active:a}=e,{_:r}=(0,dt.useLingui)(),i=$r(),[l,c]=lt.useState(!1),d=MS("Topic"),u=decodeURIComponent(s);let m;t[0]!==a||t[1]!==o||t[2]!==u?(m={query:u,sort:o,enabled:a},t[0]=a,t[1]=o,t[2]=u,t[3]=m):m=t[3];const{data:h,isFetched:p,isFetchingNextPage:f,isLoading:g,isError:x,error:_,refetch:y,fetchNextPage:b,hasNextPage:j}=(0,lE.useSearchPostsQuery)(m);let v;t[4]!==h?.pages?(v=h?.pages.flatMap(kV)||[],t[4]=h?.pages,t[5]=v):v=t[5];const S=v;let w;t[6]!==y?(w=async()=>{c(!0),await y(),c(!1)},t[6]=y,t[7]=w):w=t[7];const T=w;let k;t[8]!==_||t[9]!==b||t[10]!==j||t[11]!==f?(k=()=>{f||!j||_||b()},t[8]=_,t[9]=b,t[10]=j,t[11]=f,t[12]=k):k=t[12];const C=k;let I;return t[13]!==r||t[14]!==_||t[15]!==b||t[16]!==i||t[17]!==x||t[18]!==p||t[19]!==f||t[20]!==g||t[21]!==l||t[22]!==C||t[23]!==T||t[24]!==S||t[25]!==y||t[26]!==d?(I=(0,bt.jsx)(bt.Fragment,{children:S.length<1?(0,bt.jsx)(yS,{isLoading:g||!p,isError:x,onRetry:y,emptyType:"results",emptyMessage:r({id:"GFL36P"})}):(0,bt.jsx)(ei.List,{data:S,renderItem:bV,keyExtractor:jV,refreshing:l,onRefresh:T,onEndReached:C,onEndReachedThreshold:4,onItemSeen:d,desktopFixedHeight:!0,ListFooterComponent:(0,bt.jsx)(xS,{isFetchingNextPage:f,error:(0,Tn.cleanError)(_),onRetry:b}),initialNumToRender:i,windowSize:11})}),t[13]=r,t[14]=_,t[15]=b,t[16]=i,t[17]=x,t[18]=p,t[19]=f,t[20]=g,t[21]=l,t[22]=C,t[23]=T,t[24]=S,t[25]=y,t[26]=d,t[27]=I):I=t[27],I}function kV(e){return e.posts}function CV(){return null}var IV=s(36188);const AV=(0,Ns.createNavigationContainerRef)(),PV=(YP(),YP(),YP(),YP(),YP(),YP());(0,Pn.createBottomTabNavigator)();function EV(e,t){const s=e=>Jn(Et.i18n._(e),t);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(e.Screen,{name:"NotFound",getComponent:()=>LS,options:{title:s({id:"pAtylB"})}}),(0,bt.jsx)(e.Screen,{name:"Lists",component:mS,options:{title:s({id:"h16FyT"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Moderation",getComponent:()=>PB,options:{title:s({id:"DzmsLV"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ModerationModlists",getComponent:()=>TS,options:{title:s({id:"3j2OjF"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ModerationMutedAccounts",getComponent:()=>CS,options:{title:s({id:"qUa+lV"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ModerationBlockedAccounts",getComponent:()=>bS,options:{title:s({id:"JuqQpF"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ModerationInteractionSettings",getComponent:()=>HB,options:{title:s({id:"qX55km"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ModerationVerificationSettings",getComponent:()=>DB,options:{title:s({id:"JogI0j"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Settings",getComponent:()=>eH,options:{title:s({id:"Tz0i8g"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"LanguageSettings",getComponent:()=>hN,options:{title:s({id:"pVhZHk"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Profile",getComponent:()=>XT,options:({route:e})=>({title:Jn(`@${e.params.name}`,t)})}),(0,bt.jsx)(e.Screen,{name:"ProfileFollowers",getComponent:()=>yD,options:({route:e})=>({title:s({id:"9Lo9+z",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"ProfileFollows",getComponent:()=>wD,options:({route:e})=>({title:s({id:"2WnxaW",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"ProfileKnownFollowers",getComponent:()=>rD,options:({route:e})=>({title:s({id:"vu09nk",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"ProfileList",getComponent:()=>dM,options:{title:s({id:"2BBAbc"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ProfileSearch",getComponent:()=>zO,options:({route:e})=>({title:s({id:"h7t/Tx",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"PostThread",getComponent:()=>Mw,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"PostLikedBy",getComponent:()=>WB,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"PostRepostedBy",getComponent:()=>sD,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"PostQuotes",getComponent:()=>YB,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,bt.jsx)(e.Screen,{name:"ProfileFeed",getComponent:()=>uD,options:{title:s({id:"DBO7c2"})}}),(0,bt.jsx)(e.Screen,{name:"ProfileFeedLikedBy",getComponent:()=>lk,options:{title:s({id:"8/ALSr"})}}),(0,bt.jsx)(e.Screen,{name:"ProfileLabelerLikedBy",getComponent:()=>AD,options:{title:s({id:"8/ALSr"})}}),(0,bt.jsx)(e.Screen,{name:"Debug",getComponent:()=>dk,options:{title:s({id:"P5jja7"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"DebugMod",getComponent:()=>pj,options:{title:s({id:"uRZ1UL"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"SharedPreferencesTester",getComponent:()=>aE,options:{title:s({id:"7IhmzC"})}}),(0,bt.jsx)(e.Screen,{name:"Log",getComponent:()=>_E,options:{title:s({id:"FOw3tu"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Support",getComponent:()=>uk,options:{title:s({id:"XYLcNv"})}}),(0,bt.jsx)(e.Screen,{name:"PrivacyPolicy",getComponent:()=>Fw,options:{title:s({id:"LcET2C"})}}),(0,bt.jsx)(e.Screen,{name:"TermsOfService",getComponent:()=>mk,options:{title:s({id:"xowcRf"})}}),(0,bt.jsx)(e.Screen,{name:"CommunityGuidelines",getComponent:()=>Ca,options:{title:s({id:"KHzDTk"})}}),(0,bt.jsx)(e.Screen,{name:"CopyrightPolicy",getComponent:()=>Ia,options:{title:s({id:"u40k/o"})}}),(0,bt.jsx)(e.Screen,{name:"AppPasswords",getComponent:()=>OF,options:{title:s({id:"8q4WlH"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"SavedFeeds",getComponent:()=>pM,options:{title:s({id:"cLmurE"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"PreferencesFollowingFeed",getComponent:()=>lN,options:{title:s({id:"sQH88t"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"PreferencesThreads",getComponent:()=>mH,options:{title:s({id:"PQsTID"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"PreferencesExternalEmbeds",getComponent:()=>GF,options:{title:s({id:"KMwkQy"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"AccessibilitySettings",getComponent:()=>HM,options:{title:s({id:"8o0BEF"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"AppearanceSettings",getComponent:()=>wF,options:{title:s({id:"aAIQg2"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"AccountSettings",getComponent:()=>fF,options:{title:s({id:"AeXO77"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"PrivacyAndSecuritySettings",getComponent:()=>KN,options:{title:s({id:"RyQRel"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ActivityPrivacySettings",getComponent:()=>xF,options:{title:s({id:"RyQRel"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"FindContactsSettings",getComponent:()=>XF,options:{title:s({id:"QIyPlg"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"NotificationSettings",getComponent:()=>jN,options:{title:s({id:"qqzVv6"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ReplyNotificationSettings",getComponent:()=>ON,options:{title:s({id:"H7hQt5"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"MentionNotificationSettings",getComponent:()=>LN,options:{title:s({id:"kCAor4"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"QuoteNotificationSettings",getComponent:()=>DN,options:{title:s({id:"P0ctOW"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"LikeNotificationSettings",getComponent:()=>PN,options:{title:s({id:"4meMlJ"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"RepostNotificationSettings",getComponent:()=>MN,options:{title:s({id:"YM8ELT"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"NewFollowerNotificationSettings",getComponent:()=>BN,options:{title:s({id:"U53rc0"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"LikesOnRepostsNotificationSettings",getComponent:()=>EN,options:{title:s({id:"XO3O0B"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"RepostsOnRepostsNotificationSettings",getComponent:()=>FN,options:{title:s({id:"Hdi91p"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ActivityNotificationSettings",getComponent:()=>kN,options:{title:s({id:"KKK0C4"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"MiscellaneousNotificationSettings",getComponent:()=>RN,options:{title:s({id:"CrHdar"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"ContentAndMediaSettings",getComponent:()=>WF,options:{title:s({id:"xvU19/"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"InterestsSettings",getComponent:()=>cN,options:{title:s({id:"4zDzuI"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"AboutSettings",getComponent:()=>OM,options:{title:s({id:"uyJsf6"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"AppIconSettings",getComponent:()=>CF,options:{title:s({id:"9kGnGD"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Hashtag",getComponent:()=>mE,options:{title:s({id:"GP8RLS"})}}),(0,bt.jsx)(e.Screen,{name:"Topic",getComponent:()=>vV,options:{title:s({id:"qJLttu"})}}),(0,bt.jsx)(e.Screen,{name:"MessagesConversation",getComponent:()=>HR,options:{title:s({id:"AHZflp"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"MessagesSettings",getComponent:()=>aB,options:{title:s({id:"t+yDOf"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"MessagesInbox",getComponent:()=>KR,options:{title:s({id:"rxzAgN"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"NotificationsActivityList",getComponent:()=>zB,options:{title:s({id:"iDNBZe"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"LegacyNotificationSettings",getComponent:()=>_N,options:{title:s({id:"qqzVv6"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Feeds",getComponent:()=>Zj,options:{title:s({id:"2DoBvq"})}}),(0,bt.jsx)(e.Screen,{name:"StarterPack",getComponent:()=>OH,options:{title:s({id:"vrzMUL"})}}),(0,bt.jsx)(e.Screen,{name:"StarterPackShort",getComponent:()=>MH,options:{title:s({id:"vrzMUL"})}}),(0,bt.jsx)(e.Screen,{name:"StarterPackWizard",getComponent:()=>fV,options:{title:s({id:"3AuP5f"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"StarterPackEdit",getComponent:()=>fV,options:{title:s({id:"mpccbT"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"VideoFeed",getComponent:()=>CV,options:{title:s({id:"O3r2Bp"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"Bookmarks",getComponent:()=>XP,options:{title:s({id:"vTz5jh"}),requireAuth:!0}}),(0,bt.jsx)(e.Screen,{name:"FindContactsFlow",getComponent:()=>iE,options:{title:s({id:"QIyPlg"}),requireAuth:!0,gestureEnabled:!1}})]})}function LV(e){return{fullScreenGestureEnabled:!0,headerShown:!1,contentStyle:e.atoms.bg}}const RV=e=>{const t=(0,n.c)(36),{layout:s}=e,o=(0,qs.useTheme)(),a=(0,us.useUnreadNotifications)(),r=function(){const[e]=(0,lt.useState)(qn),t=(0,Gn.useNavigation)();return(0,lt.useEffect)((()=>{function s(){e.focusedKey&&e.scrollYs.set(e.focusedKey,window.scrollY)}return t.addListener("__unsafe_action__",s),()=>{t.removeListener("__unsafe_action__",s)}}),[e,t]),(0,lt.useMemo)((()=>({focus(t){const s=e.scrollYs.get(t.target)??0;window.scrollTo(0,s),e.focusedKey=t.target??null}})),[e])}();let i;t[0]!==a?(i=e=>Jn(Et.i18n._(e),a),t[0]=a,t[1]=i):i=t[1];const l=i;let c,d,u,m,h,p,f,g,x,_,y,b,j;return t[2]!==o?(c=LV(o),t[2]=o,t[3]=c):c=t[3],t[4]!==l?(d=l({id:"i0qMbr"}),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(u=(0,bt.jsx)(PV.Screen,{name:"Home",getComponent:HV,options:{title:d}}),t[6]=d,t[7]=u):u=t[7],t[8]!==l?(m=l({id:"8tjQCz"}),t[8]=l,t[9]=m):m=t[9],t[10]!==m?(h=(0,bt.jsx)(PV.Screen,{name:"Search",getComponent:VV,options:{title:m}}),t[10]=m,t[11]=h):h=t[11],t[12]!==l?(p=l({id:"iDNBZe"}),t[12]=l,t[13]=p):p=t[13],t[14]!==p?(f=(0,bt.jsx)(PV.Screen,{name:"Notifications",getComponent:zV,options:{title:p,requireAuth:!0}}),t[14]=p,t[15]=f):f=t[15],t[16]!==l?(g=l({id:"t7TeQU"}),t[16]=l,t[17]=g):g=t[17],t[18]!==g?(x=(0,bt.jsx)(PV.Screen,{name:"Messages",getComponent:UV,options:{title:g,requireAuth:!0}}),t[18]=g,t[19]=x):x=t[19],t[20]!==l?(_=l({id:"i0qMbr"}),t[20]=l,t[21]=_):_=t[21],t[22]!==_?(y=(0,bt.jsx)(PV.Screen,{name:"Start",getComponent:WV,options:{title:_}}),t[22]=_,t[23]=y):y=t[23],t[24]!==a?(b=EV(PV,a),t[24]=a,t[25]=b):b=t[25],t[26]!==s||t[27]!==r||t[28]!==x||t[29]!==y||t[30]!==b||t[31]!==c||t[32]!==u||t[33]!==h||t[34]!==f?(j=(0,bt.jsxs)(PV.Navigator,{layout:s,screenListeners:r,screenOptions:c,children:[u,h,f,x,y,b]}),t[26]=s,t[27]=r,t[28]=x,t[29]=y,t[30]=b,t[31]=c,t[32]=u,t[33]=h,t[34]=f,t[35]=j):j=t[35],j},BV={prefixes:Vt.BASE_PATH?["bsky://","bluesky://","https://bsky.app",`https://slrgt.github.io${Vt.BASE_PATH}`]:["bsky://","bluesky://","https://bsky.app"],getPathFromState(e){let t=e.routes[e.index||0];for(;t.state?.routes&&"number"===typeof t.state?.index;)t=t.state?.routes[t.state?.index];const s=Hn.router.matchName(t.name),o="undefined"===typeof s?"/":s.build(t.params||{});return Vt.BASE_PATH?`${Vt.BASE_PATH}${"/"===o?"":o}`:o},getStateFromPath(e){const t=Vt.BASE_PATH&&e.startsWith(Vt.BASE_PATH)?e.slice(Vt.BASE_PATH.length)||"/":e,[s,o]=Hn.router.matchPath(t);if(e.includes("intent/")){if(r.IS_NATIVE)return;return Xn("Flat","Home",o)}if(r.IS_NATIVE)return"Search"===s?Xn("SearchTab","Search",o):"Notifications"===s?Xn("NotificationsTab","Notifications",o):"Home"===s?Xn("HomeTab","Home",o):"Messages"===s?Xn("MessagesTab","Messages",o):Xn("HomeTab",s,o,[{name:"Home",params:{}}]);return Xn("Flat",s,o)}};let DV;function OV({children:e}){const t=(0,Xo.useAnalytics)(),o=t.logger.useChild(t.logger.Context.Notifications),n=Rn(Ns.DefaultTheme,Ns.DarkTheme),{currentAccount:a,accounts:i}=(0,Gt.useSession)(),{onPressSwitchAccount:l}=Ln(),{setShowLoggedOut:c}=Ts(),d=(0,lt.useRef)(void 0),u=Ho(),m=(0,Gs.useCloseAllActiveElements)(),h=(0,Bn.useNonReactiveCallback)((e=>{if(o.debug("handleChatMessage",{payload:e}),e.recipientDid!==a?.did){zn(e),m();const t=i.find((t=>t.did===e.recipientDid));t?l(t,"Notification"):c(!0)}else FV("MessagesTab",{screen:"Messages",params:{pushToConversation:e.convoId}})}));const p=(0,Qn.useCallOnce)((()=>{const e=MV();if((0,IV.setNavigationMetadata)({previousScreen:e,currentScreen:e}),d.current=e,async function(){if(!r.IS_NATIVE)return;if(await In.default.getInitialURL())return;const e=await An.getLastNotificationResponseAsync();if(e){if(o.debug("handlePushNotificationEntry: response",{response:e}),e.notification.date===DV)return;DV=e.notification.date;const s=Un(e.notification);if(s)if(t.metric("notifications:openApp",{reason:s.reason,causedBoot:!0}),"chat-message"===s.reason)h(s);else{const e=Wn(s);if("/notifications"===e)NV("NotificationsTab"),o.debug("handlePushNotificationEntry: default navigate");else if(e){const[t,s]=Hn.router.matchPath(e);FV("HomeTab",{screen:t,params:s}),o.debug("handlePushNotificationEntry: navigate",{screen:t,params:s})}}}}(),t.metric("router:navigate",{}),a&&(0,ea.shouldRequestEmailConfirmation)(a)&&(u.open({id:To.VerificationReminder}),(0,ea.snoozeEmailConfirmationPrompt)()),t.metric("init",{initMs:Math.round(performance.now()-s.g.__BUNDLE_START_TIME__)}),r.IS_WEB){const e=Jo.Referrer.getReferrerInfo();e&&"bsky.app"!==e.hostname&&t.metric("deepLink:referrerReceived",{to:window.location.href,referrer:e?.referrer,hostname:e?.hostname})}}));return(0,bt.jsx)(Ns.NavigationContainer,{ref:AV,linking:BV,theme:n,onStateChange:()=>{const e=MV();(0,IV.setNavigationMetadata)({previousScreen:d.current,currentScreen:e}),t.metric("router:navigate",{from:d.current}),d.current=e},onReady:p,navigationInChildEnabled:!0,children:e})}function MV(){return AV.isReady()?AV.getCurrentRoute()?.name:void 0}function FV(e,t){return AV.isReady()?Promise.race([new Promise((s=>{const o=()=>{s(),AV.removeListener("state",o)};AV.addListener("state",o),AV.navigate(e,t)})),(0,En.timeout)(1e3)]):Promise.resolve()}function NV(e){AV.isReady()&&(FV(e),AV.canGoBack()&&AV.dispatch(Ns.StackActions.popToTop()))}function HV(){return qv}function VV(){return CM}function zV(){return qS}function UV(){return XE}function WV(){return qv}r.IS_ANDROID;function GV({}){const e=(0,bn.usePalette)("default"),t=(0,Pt.useTheme)(),s=(0,qs.useTheme)(),{currentAccount:o}=(0,Gt.useSession)(),n=(0,Gt.useAgent)(),{removeAccount:a}=(0,Gt.useSessionApi)(),{_:i}=(0,dt.useLingui)(),{closeModal:l}=(0,is.useModalControls)(),{isMobile:c}=(0,jn.useWebMediaQueries)(),[d,u]=lt.useState(!1),[m,h]=lt.useState(""),[p,f]=lt.useState(""),[g,x]=lt.useState(!1),[_,y]=lt.useState(""),b=()=>{l()};return(0,bt.jsx)(Sn.default,{style:[kn.s.flex1],children:(0,bt.jsxs)(Vi.default,{style:[e.view],keyboardShouldPersistTaps:"handled",children:[(0,bt.jsx)(Fs.default,{style:[qV.titleContainer,e.view],children:(0,bt.jsx)(ua.Text,{type:"title-xl",style:[kn.s.textCenter,e.text],children:(0,bt.jsx)(dt.Trans,{id:"fV0SKP",values:{0:o?.handle},components:{0:(0,bt.jsx)(ua.Text,{type:"title-xl",style:[e.text,kn.s.bold]}),1:(0,bt.jsx)(ua.Text,{type:"title-xl",numberOfLines:1,style:[c?qV.titleMobile:qV.titleDesktop,e.text,kn.s.bold]}),2:(0,bt.jsx)(ua.Text,{type:"title-xl",style:[e.text,kn.s.bold]})}})})}),d?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ua.Text,{type:"lg",style:[e.text,qV.description],nativeID:"confirmationCode",children:(0,bt.jsx)(dt.Trans,{id:"/+X+/K"})}),(0,bt.jsx)(Bl.default,{style:[qV.textInput,e.borderDark,e.text,qV.mb20],placeholder:i({id:"ioZOzk"}),placeholderTextColor:e.textLight.color,keyboardAppearance:t.colorScheme,value:m,onChangeText:h,accessibilityLabelledBy:"confirmationCode",accessibilityLabel:i({id:"ioZOzk"}),accessibilityHint:i({id:"KGRCJk"})}),(0,bt.jsx)(ua.Text,{type:"lg",style:[e.text,qV.description],nativeID:"password",children:(0,bt.jsx)(dt.Trans,{id:"QJr5Xp"})}),(0,bt.jsx)(Bl.default,{style:[qV.textInput,e.borderDark,e.text],placeholder:i({id:"8ZsakT"}),placeholderTextColor:e.textLight.color,keyboardAppearance:t.colorScheme,secureTextEntry:!0,value:p,onChangeText:f,accessibilityLabelledBy:"password",accessibilityLabel:i({id:"8ZsakT"}),accessibilityHint:i({id:"8Nvm3J"})}),_?(0,bt.jsx)(Fs.default,{style:qV.mt20,children:(0,bt.jsx)(Dy.ErrorMessage,{message:_})}):void 0,g?(0,bt.jsx)(Fs.default,{style:[qV.btn,kn.s.mt10],children:(0,bt.jsx)(vn.default,{})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(wn.default,{style:[qV.btn,qV.evilBtn,qV.mt20],onPress:async()=>{if(!o?.did)throw new Error("DeleteAccount modal: currentAccount.did is undefined");y(""),x(!0);const e=m.replace(/\s/g,"");try{const{success:t}=await n.api.chat.bsky.actor.deleteAccount(void 0,{headers:Vt.DM_SERVICE_HEADERS});if(!t)throw new Error("Failed to inform chat service of account deletion");await n.com.atproto.server.deleteAccount({did:o.did,password:p,token:e}),Ds.show(i({id:"VecMQF"})),NV("HomeTab"),a(o),l()}catch(t){y((0,Tn.cleanError)(t))}x(!1)},accessibilityRole:"button",accessibilityLabel:i({id:"tGg8Kt"}),accessibilityHint:"",children:(0,bt.jsx)(ua.Text,{type:"button-lg",style:[kn.s.white,kn.s.bold],children:(0,bt.jsx)(dt.Trans,{id:"ktknoE"})})}),(0,bt.jsx)(wn.default,{style:[qV.btn,kn.s.mt10],onPress:b,accessibilityRole:"button",accessibilityLabel:i({id:"aMH9rr"}),accessibilityHint:i({id:"X/21Jh"}),onAccessibilityEscape:b,children:(0,bt.jsx)(ua.Text,{type:"button-lg",style:e.textLight,children:(0,bt.jsx)(dt.Trans,{id:"3kdXEk"})})})]})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ua.Text,{type:"lg",style:[qV.description,e.text],children:(0,bt.jsx)(dt.Trans,{id:"5RhDkD"})}),_?(0,bt.jsx)(Fs.default,{style:kn.s.mt10,children:(0,bt.jsx)(Dy.ErrorMessage,{message:_})}):void 0,g?(0,bt.jsx)(Fs.default,{style:[qV.btn,kn.s.mt10],children:(0,bt.jsx)(vn.default,{})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(wn.default,{style:qV.mt20,onPress:async()=>{y(""),x(!0);try{await n.com.atproto.server.requestAccountDelete(),u(!0)}catch(e){y((0,Tn.cleanError)(e))}x(!1)},accessibilityRole:"button",accessibilityLabel:i({id:"65dxv8"}),accessibilityHint:i({id:"KJlRnK"}),children:(0,bt.jsx)(Lo.LinearGradient,{colors:[kn.gradients.blueLight.start,kn.gradients.blueLight.end],start:{x:0,y:0},end:{x:1,y:1},style:[qV.btn],children:(0,bt.jsx)(ua.Text,{type:"button-lg",style:[kn.s.white,kn.s.bold],children:(0,bt.jsx)(dt.Trans,{id:"36bICm"})})})}),(0,bt.jsx)(wn.default,{style:[qV.btn,kn.s.mt10],onPress:b,accessibilityRole:"button",accessibilityLabel:i({id:"aMH9rr"}),accessibilityHint:"",onAccessibilityEscape:b,children:(0,bt.jsx)(ua.Text,{type:"button-lg",style:e.textLight,children:(0,bt.jsx)(dt.Trans,{id:"3kdXEk"})})})]}),(0,bt.jsx)(Fs.default,{style:[!r.IS_WEB&&qs.atoms.px_xl],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.mt_lg,qs.atoms.p_lg,qs.atoms.rounded_sm,s.atoms.bg_contrast_25],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"md",style:[qs.atoms.relative,{top:-1}]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.leading_snug,qs.atoms.flex_1],children:(0,bt.jsx)(dt.Trans,{id:"FA7NyS"})})]})})]})]})})}const qV=Os.default.create({titleContainer:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",marginTop:12,marginBottom:12,marginLeft:20,marginRight:20},titleMobile:{textAlign:"center"},titleDesktop:{textAlign:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"400px"},description:{textAlign:"center",paddingHorizontal:22,marginBottom:10},mt20:{marginTop:20},mb20:{marginBottom:20},textInput:{borderWidth:1,borderRadius:6,paddingHorizontal:16,paddingVertical:12,fontSize:20,marginHorizontal:20},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:32,padding:14,marginHorizontal:20},evilBtn:{backgroundColor:kn.colors.red4}});var QV=s(560);const KV=e=>{const t=(0,n.c)(21),{onPress:s,extraText:o}=e,a=(0,bn.usePalette)("default"),{_:r}=(0,dt.useLingui)(),{isMobile:i}=(0,jn.useWebMediaQueries)();let l,c,d,u,m,h,p,f,g,x,_;return t[0]!==i?(l=i&&{paddingBottom:40,borderTopWidth:1},t[0]=i,t[1]=l):l=t[1],t[2]!==a.borderDark||t[3]!==l?(c=[ZV.btnContainer,a.borderDark,l],t[2]=a.borderDark,t[3]=l,t[4]=c):c=t[4],t[5]!==r?(d=r({id:"8pNKIr"}),t[5]=r,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=[kn.gradients.blueLight.start,kn.gradients.blueLight.end],m={x:0,y:0},h={x:1,y:1},p=[ZV.btn],t[7]=u,t[8]=m,t[9]=h,t[10]=p):(u=t[7],m=t[8],h=t[9],p=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(f=[kn.s.white,kn.s.bold,kn.s.f18],t[11]=f):f=t[11],t[12]!==o?(g=(0,bt.jsx)(Lo.LinearGradient,{colors:u,start:m,end:h,style:p,children:(0,bt.jsx)(La.default,{style:f,children:(0,bt.jsx)(dt.Trans,{id:"zT97vP",values:{extraText:o}})})}),t[12]=o,t[13]=g):g=t[13],t[14]!==s||t[15]!==d||t[16]!==g?(x=(0,bt.jsx)(ln.default,{testID:"confirmContentLanguagesBtn",onPress:s,accessibilityRole:"button",accessibilityLabel:d,accessibilityHint:"",children:g}),t[14]=s,t[15]=d,t[16]=g,t[17]=x):x=t[17],t[18]!==x||t[19]!==c?(_=(0,bt.jsx)(Fs.default,{style:c,children:x}),t[18]=x,t[19]=c,t[20]=_):_=t[20],_},ZV=Os.default.create({btnContainer:{paddingTop:10,paddingHorizontal:10},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",borderRadius:32,padding:14,backgroundColor:kn.colors.gray1}});var YV=s(9948);function $V(e){const t=(0,n.c)(51),{testID:s,type:o,label:a,isSelected:r,style:i,labelType:l,onPress:c}=e,d=void 0===o?"default-light":o,u=(0,Pt.useTheme)();let m;t[0]!==u.palette.default.border||t[1]!==u.palette.inverted.text||t[2]!==u.palette.primary.border||t[3]!==u.palette.primary.text||t[4]!==u.palette.secondary.border||t[5]!==u.palette.secondary.text||t[6]!==d?(m=(0,YV.choose)(d,{primary:{borderColor:u.palette.primary.text},secondary:{borderColor:u.palette.secondary.text},inverted:{borderColor:u.palette.inverted.text},"primary-outline":{borderColor:u.palette.primary.border},"secondary-outline":{borderColor:u.palette.secondary.border},"primary-light":{borderColor:u.palette.primary.border},"secondary-light":{borderColor:u.palette.secondary.border},default:{borderColor:u.palette.default.border},"default-light":{borderColor:u.palette.default.border}}),t[0]=u.palette.default.border,t[1]=u.palette.inverted.text,t[2]=u.palette.primary.border,t[3]=u.palette.primary.text,t[4]=u.palette.secondary.border,t[5]=u.palette.secondary.text,t[6]=d,t[7]=m):m=t[7];const h=m,p=r?1:.33;let f;t[8]!==r||t[9]!==p||t[10]!==u.palette.inverted.text||t[11]!==u.palette.primary.background||t[12]!==u.palette.primary.text||t[13]!==u.palette.secondary.background||t[14]!==u.palette.secondary.text||t[15]!==d?(f=(0,YV.choose)(d,{primary:{backgroundColor:u.palette.primary.text,opacity:p},secondary:{backgroundColor:u.palette.secondary.text,opacity:r?1:.33},inverted:{backgroundColor:u.palette.inverted.text,opacity:r?1:.33},"primary-outline":{backgroundColor:u.palette.primary.background,opacity:r?1:.5},"secondary-outline":{backgroundColor:u.palette.secondary.background,opacity:r?1:.5},"primary-light":{backgroundColor:u.palette.primary.background,opacity:r?1:.5},"secondary-light":{backgroundColor:u.palette.secondary.background,opacity:r?1:.5},default:{backgroundColor:r?u.palette.primary.background:kn.colors.gray3},"default-light":{backgroundColor:r?u.palette.primary.background:kn.colors.gray3}}),t[8]=r,t[9]=p,t[10]=u.palette.inverted.text,t[11]=u.palette.primary.background,t[12]=u.palette.primary.text,t[13]=u.palette.secondary.background,t[14]=u.palette.secondary.text,t[15]=d,t[16]=f):f=t[16];const g=f,x=u.palette.primary.isLowContrast?"600":void 0;let _;t[17]!==x||t[18]!==u.palette.default.isLowContrast||t[19]!==u.palette.default.text||t[20]!==u.palette.inverted.isLowContrast||t[21]!==u.palette.inverted.text||t[22]!==u.palette.primary.isLowContrast||t[23]!==u.palette.primary.text||t[24]!==u.palette.primary.textInverted||t[25]!==u.palette.secondary.isLowContrast||t[26]!==u.palette.secondary.text||t[27]!==u.palette.secondary.textInverted||t[28]!==d?(_=(0,YV.choose)(d,{primary:{color:u.palette.primary.text,fontWeight:x},secondary:{color:u.palette.secondary.text,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},inverted:{color:u.palette.inverted.text,fontWeight:u.palette.inverted.isLowContrast?"600":void 0},"primary-outline":{color:u.palette.primary.textInverted,fontWeight:u.palette.primary.isLowContrast?"600":void 0},"secondary-outline":{color:u.palette.secondary.textInverted,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},"primary-light":{color:u.palette.primary.textInverted,fontWeight:u.palette.primary.isLowContrast?"600":void 0},"secondary-light":{color:u.palette.secondary.textInverted,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},default:{color:u.palette.default.text,fontWeight:u.palette.default.isLowContrast?"600":void 0},"default-light":{color:u.palette.default.text,fontWeight:u.palette.default.isLowContrast?"600":void 0}}),t[17]=x,t[18]=u.palette.default.isLowContrast,t[19]=u.palette.default.text,t[20]=u.palette.inverted.isLowContrast,t[21]=u.palette.inverted.text,t[22]=u.palette.primary.isLowContrast,t[23]=u.palette.primary.text,t[24]=u.palette.primary.textInverted,t[25]=u.palette.secondary.isLowContrast,t[26]=u.palette.secondary.text,t[27]=u.palette.secondary.textInverted,t[28]=d,t[29]=_):_=t[29];const y=_;let b;t[30]!==h?(b=[h,XV.circle],t[30]=h,t[31]=b):b=t[31];const j=r?XV.circleFillSelected:void 0;let v,S,w,T,k;return t[32]!==g||t[33]!==j?(v=(0,bt.jsx)(Fs.default,{style:[g,XV.circleFill,j]}),t[32]=g,t[33]=j,t[34]=v):v=t[34],t[35]!==b||t[36]!==v?(S=(0,bt.jsx)(Fs.default,{style:b,children:v}),t[35]=b,t[36]=v,t[37]=S):S=t[37],t[38]!==a||t[39]!==y||t[40]!==l?(w=""===a?null:(0,bt.jsx)(ua.Text,{type:l||"button",style:[y,XV.label],children:a}),t[38]=a,t[39]=y,t[40]=l,t[41]=w):w=t[41],t[42]!==S||t[43]!==w?(T=(0,bt.jsxs)(Fs.default,{style:XV.outer,children:[S,w]}),t[42]=S,t[43]=w,t[44]=T):T=t[44],t[45]!==c||t[46]!==i||t[47]!==T||t[48]!==s||t[49]!==d?(k=(0,bt.jsx)(Ti.Button,{testID:s,type:d,onPress:c,style:i,children:T}),t[45]=c,t[46]=i,t[47]=T,t[48]=s,t[49]=d,t[50]=k):k=t[50],k}const XV=Os.default.create({outer:{flexDirection:"row",alignItems:"center",gap:10},circle:{width:42,height:26,borderRadius:15,padding:3,borderWidth:2},circleFill:{width:16,height:16,borderRadius:10},circleFillSelected:{marginLeft:16},label:{flex:1}});function JV(e){const t=(0,n.c)(15),{code2:s,name:o,onPress:a,langType:r}=e,i=(0,bn.usePalette)("default"),l=(0,EA.useLanguagePrefs)();let c;t[0]!==l.contentLanguages||t[1]!==l.postLanguage||t[2]!==r?(c="contentLanguages"===r?l.contentLanguages:(0,EA.toPostLanguages)(l.postLanguage),t[0]=l.contentLanguages,t[1]=l.postLanguage,t[2]=r,t[3]=c):c=t[3];const d=c;let u;t[4]!==s||t[5]!==d?(u=d.includes(s),t[4]=s,t[5]=d,t[6]=u):u=t[6];const m=u;let h=!1;"postLanguages"===r&&d.length>=3&&!m&&(h=!0);const p=h?void 0:a,f=h&&ez.dimmed;let g,x;return t[7]!==i.border||t[8]!==f?(g=[i.border,ez.languageToggle,f],t[7]=i.border,t[8]=f,t[9]=g):g=t[9],t[10]!==m||t[11]!==o||t[12]!==p||t[13]!==g?(x=(0,bt.jsx)($V,{label:o,isSelected:m,onPress:p,style:g}),t[10]=m,t[11]=o,t[12]=p,t[13]=g,t[14]=x):x=t[14],x}const ez=Os.default.create({languageToggle:{borderTopWidth:1,borderRadius:0,paddingHorizontal:6,paddingVertical:12},dimmed:{opacity:.5}});function tz({}){const{closeModal:e}=(0,is.useModalControls)(),t=(0,EA.useLanguagePrefs)(),s=(0,EA.useLanguagePrefsApi)(),o=(0,bn.usePalette)("default"),{isMobile:n}=(0,jn.useWebMediaQueries)(),a=lt.useCallback((()=>{e()}),[e]),r=lt.useMemo((()=>{const e=Rt.LANGUAGES.filter((e=>!!e.code2.trim()&&Rt.LANGUAGES_MAP_CODE2[e.code2].code3===e.code3));return e.sort(((e,s)=>{const o=t.contentLanguages.includes(e.code2)||QV.deviceLanguageCodes.includes(e.code2);return o===(t.contentLanguages.includes(s.code2)||QV.deviceLanguageCodes.includes(s.code2))?e.name.localeCompare(s.name):o?-1:1})),e}),[t]),i=lt.useCallback((e=>{s.toggleContentLanguage(e)}),[s]);return(0,bt.jsxs)(Fs.default,{testID:"contentLanguagesModal",style:[o.view,sz.container,n?{paddingTop:20}:{maxHeight:"90vh"}],children:[(0,bt.jsx)(ua.Text,{style:[o.text,sz.title],children:(0,bt.jsx)(dt.Trans,{id:"/PlAsF"})}),(0,bt.jsx)(ua.Text,{style:[o.text,sz.description],children:(0,bt.jsx)(dt.Trans,{id:"uawiGa"})}),(0,bt.jsx)(ua.Text,{style:[o.textLight,sz.description],children:(0,bt.jsx)(dt.Trans,{id:"z+YQK5"})}),(0,bt.jsxs)(Vi.default,{style:sz.scrollContainer,children:[r.map((e=>(0,bt.jsx)(JV,{code2:e.code2,langType:"contentLanguages",name:(0,Lt.languageName)(e,t.appLanguage),onPress:()=>{i(e.code2)}},e.code2))),(0,bt.jsx)(Fs.default,{style:{height:n?60:0}})]}),(0,bt.jsx)(KV,{onPress:a})]})}const sz=Os.default.create({container:{flex:1},title:{textAlign:"center",fontWeight:"600",fontSize:24,marginBottom:12},description:{textAlign:"center",paddingHorizontal:16,marginBottom:10},scrollContainer:{flex:1,paddingHorizontal:10}});function oz(e){const t=(0,n.c)(54),{subject:s,handle:o,displayName:a,onAdd:i,onRemove:l}=e,{closeModal:c}=(0,is.useModalControls)(),d=(0,bn.usePalette)("default"),{height:u}=(0,Qr.default)(),{_:m}=(0,dt.useLingui)(),{data:h}=s_();let p;t[0]!==c?(p=()=>{c()},t[0]=c,t[1]=p):p=t[1];const f=p;let g;e:{if(r.IS_WEB_MOBILE){const e=u/2;let s,o;t[2]!==e?(s={height:e},t[2]=e,t[3]=s):s=t[3],t[4]!==d.border||t[5]!==s?(o=[d.border,s],t[4]=d.border,t[5]=s,t[6]=o):o=t[6],g=o;break e}if(r.IS_WEB){const e=u/1.5;let s,o;t[7]!==e?(s={height:e},t[7]=e,t[8]=s):s=t[8],t[9]!==d.border||t[10]!==s?(o=[d.border,s],t[9]=d.border,t[10]=s,t[11]=o):o=t[11],g=o;break e}let e,s;t[12]===Symbol.for("react.memo_cache_sentinel")?(e={flex:1,borderTopWidth:Os.default.hairlineWidth},t[12]=e):e=t[12],t[13]!==d.border?(s=[d.border,e],t[13]=d.border,t[14]=s):s=t[14],g=s}const x=g;let _,y;t[15]===Symbol.for("react.memo_cache_sentinel")?(_={textAlign:"center",fontWeight:"600",fontSize:20,marginBottom:12,paddingHorizontal:12},t[15]=_):_=t[15],t[16]!==d.text?(y=[_,d.text],t[16]=d.text,t[17]=y):y=t[17];const b=y;let j,v,S,w,T,k,C,I,A,P,E,L;return t[18]!==a?(j={displayName:a},t[18]=a,t[19]=j):j=t[19],t[20]!==b?(v={0:(0,bt.jsx)(ua.Text,{style:b,numberOfLines:1})},t[20]=b,t[21]=v):v=t[21],t[22]!==j||t[23]!==v?(S=(0,bt.jsx)(dt.Trans,{id:"pJhLxk",values:j,components:v}),t[22]=j,t[23]=v,t[24]=S):S=t[24],t[25]!==b||t[26]!==S?(w=(0,bt.jsx)(ua.Text,{style:b,numberOfLines:1,children:S}),t[25]=b,t[26]=S,t[27]=w):w=t[27],t[28]!==o||t[29]!==h||t[30]!==i||t[31]!==l||t[32]!==s?(T=(e,t)=>(0,bt.jsx)(nz,{index:t,list:e,memberships:h,subject:s,handle:o,onAdd:i,onRemove:l},e.uri),t[28]=o,t[29]=h,t[30]=i,t[31]=l,t[32]=s,t[33]=T):T=t[33],t[34]!==x||t[35]!==T?(k=(0,bt.jsx)(nS,{filter:"all",inline:!0,renderItem:T,style:x}),t[34]=x,t[35]=T,t[36]=k):k=t[36],t[37]!==d.border?(C=[az.btns,d.border],t[37]=d.border,t[38]=C):C=t[38],t[39]!==m?(I=m({id:"vQpxVG"}),t[39]=m,t[40]=I):I=t[40],t[41]!==m?(A=m({id:"vQpxVG"}),t[41]=m,t[42]=A):A=t[42],t[43]!==f||t[44]!==I||t[45]!==A?(P=(0,bt.jsx)(Ti.Button,{testID:"doneBtn",type:"default",onPress:f,style:az.footerBtn,accessibilityLabel:I,accessibilityHint:"",onAccessibilityEscape:f,label:A}),t[43]=f,t[44]=I,t[45]=A,t[46]=P):P=t[46],t[47]!==C||t[48]!==P?(E=(0,bt.jsx)(Fs.default,{style:C,children:P}),t[47]=C,t[48]=P,t[49]=E):E=t[49],t[50]!==k||t[51]!==E||t[52]!==w?(L=(0,bt.jsxs)(Fs.default,{testID:"userAddRemoveListsModal",style:kn.s.hContentRegion,children:[w,k,E]}),t[50]=k,t[51]=E,t[52]=w,t[53]=L):L=t[53],L}function nz({index:e,list:t,memberships:s,subject:o,handle:n,onAdd:a,onRemove:r}){const i=(0,bn.usePalette)("default"),{_:l}=(0,dt.useLingui)(),{currentAccount:c}=(0,Gt.useSession)(),[d,u]=lt.useState(!1),m=lt.useMemo((()=>n_(s,t.uri,o)),[s,t.uri,o]),h=a_(),p=r_(),f=(0,lt.useCallback)((async()=>{if("undefined"!==typeof m){u(!0);try{!1===m?(await h.mutateAsync({listUri:t.uri,actorDid:o}),Ds.show(l({id:"GluCXm"})),a?.(t.uri)):(await p.mutateAsync({listUri:t.uri,actorDid:o,membershipUri:m}),Ds.show(l({id:"Obm5+c"})),r?.(t.uri))}catch(e){Ds.show((0,Tn.cleanError)(e),"xmark")}finally{u(!1)}}}),[l,t,o,m,u,a,r,h,p]);return(0,bt.jsxs)(Fs.default,{testID:`toggleBtn-${t.name}`,style:[az.listItem,i.border,0!==e&&{borderTopWidth:Os.default.hairlineWidth}],children:[(0,bt.jsx)(Fs.default,{style:az.listItemAvi,children:(0,bt.jsx)(Gi.UserAvatar,{size:40,avatar:t.avatar,type:"list"})}),(0,bt.jsxs)(Fs.default,{style:az.listItemContent,children:[(0,bt.jsx)(ua.Text,{type:"lg",style:[kn.s.bold,i.text],numberOfLines:1,lineHeight:1.2,children:(0,Ma.sanitizeDisplayName)(t.name)}),(0,bt.jsxs)(ua.Text,{type:"md",style:[i.textLight],numberOfLines:1,children:["app.bsky.graph.defs#curatelist"===t.purpose&&(t.creator.did===c?.did?(0,bt.jsx)(dt.Trans,{id:"xtOS5m"}):(0,bt.jsx)(dt.Trans,{id:"0yKrM0",values:{0:(0,Fa.sanitizeHandle)(t.creator.handle,"@")}})),"app.bsky.graph.defs#modlist"===t.purpose&&(t.creator.did===c?.did?(0,bt.jsx)(dt.Trans,{id:"q1sOfA"}):(0,bt.jsx)(dt.Trans,{id:"h+3Tua",values:{0:(0,Fa.sanitizeHandle)(t.creator.handle,"@")}}))]})]}),(0,bt.jsx)(Fs.default,{children:d||"undefined"===typeof m?(0,bt.jsx)(vn.default,{}):(0,bt.jsx)(Ti.Button,{testID:`user-${n}-addBtn`,type:"default",label:l(!1===m?{id:"m16xKo"}:{id:"t/YqKh"}),onPress:f})})]})}const az=Os.default.create({container:{paddingHorizontal:r.IS_WEB?0:16},btns:{position:"relative",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:10,paddingTop:10,paddingBottom:r.IS_ANDROID?10:0,borderTopWidth:Os.default.hairlineWidth},footerBtn:{paddingHorizontal:24,paddingVertical:12},listItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:14,paddingVertical:10},listItemAvi:{width:54,paddingLeft:4,paddingTop:8,paddingBottom:10},listItemContent:{flex:1,paddingRight:10,paddingTop:10,paddingBottom:10},checkbox:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1,width:24,height:24,borderRadius:6,marginRight:8},loadingContainer:{position:"absolute",top:10,right:0,bottom:0,justifyContent:"center"}});function rz(){const e=(0,n.c)(5),{isModalActive:t,activeModals:s}=(0,is.useModals)();if(!t)return null;let o,a,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(Hs.RemoveScrollBar,{}),e[0]=o):o=e[0],e[1]!==s?(a=s.map(iz),e[1]=s,e[2]=a):a=e[2],e[3]!==a?(r=(0,bt.jsxs)(bt.Fragment,{children:[o,a]}),e[3]=a,e[4]=r):r=e[4],r}function iz(e,t){return(0,bt.jsx)(lz,{modal:e},`modal-${t}`)}function lz(e){const t=(0,n.c)(17),{modal:s}=e,{isModalActive:o}=(0,is.useModals)(),{closeModal:a}=(0,is.useModalControls)(),r=(0,bn.usePalette)("default"),{isMobile:i}=(0,jn.useWebMediaQueries)();if(!o)return null;let l;t[0]!==a?(l=()=>{a()},t[0]=a,t[1]=l):l=t[1];const c=l,d=cz;let u,m;if("user-add-remove-lists"===s.name){let e;t[2]!==s?(e=(0,bt.jsx)(oz,Object.assign({},s)),t[2]=s,t[3]=e):e=t[3],u=e}else if("delete-account"===s.name){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(GV,{}),t[4]=e):e=t[4],u=e}else{if("content-languages-settings"!==s.name)return null;{let e;t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(tz,{}),t[5]=e):e=t[5],u=e}}t[6]===Symbol.for("react.memo_cache_sentinel")?(m=yn.FadeIn.duration(150),t[6]=m):m=t[6];const h=i&&dz.containerMobile;let p,f,g;return t[7]!==r.border||t[8]!==r.view||t[9]!==h?(p=[dz.container,h,r.view,r.border],t[7]=r.border,t[8]=r.view,t[9]=h,t[10]=p):p=t[10],t[11]!==u||t[12]!==p?(f=(0,bt.jsx)(yn.default.View,{style:dz.mask,entering:m,exiting:yn.FadeOut,children:(0,bt.jsx)(Ms.default,{onPress:d,children:(0,bt.jsx)(Fs.default,{style:p,children:u})})}),t[11]=u,t[12]=p,t[13]=f):f=t[13],t[14]!==c||t[15]!==f?(g=(0,bt.jsx)(Ms.default,{onPress:c,children:f}),t[14]=c,t[15]=f,t[16]=g):g=t[16],g}function cz(){}const dz=Os.default.create({mask:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000c",alignItems:"center",justifyContent:"center"},container:{width:600,maxWidth:"100vw",maxHeight:"90vh",paddingVertical:20,paddingHorizontal:24,borderRadius:8,borderWidth:1},containerMobile:{borderRadius:0,paddingHorizontal:0}}),uz=400;function mz(){const{_:e}=(0,dt.useLingui)(),t=(0,qs.useTheme)(),s=(0,ct.useSafeAreaInsets)(),{currentAccount:o,accounts:n}=(0,Gt.useSession)(),{onPressSwitchAccount:a,pendingDid:i}=Ln(),{setShowLoggedOut:l}=Ts(),c=n.length>1,{logoutCurrentAccount:d}=(0,Gt.useSessionApi)(),u=(0,Gt.useAgent)(),[m,h]=lt.useState(!1),[p,f]=lt.useState(),g=(0,On.useQueryClient)(),x=lt.useCallback((e=>{e.did!==o?.did&&a(e,"SwitchAccount")}),[o,a]),_=lt.useCallback((()=>{l(!0)}),[l]),y=lt.useCallback((()=>{r.IS_WEB&&history.pushState(null,"","/"),d("Deactivated")}),[d]),b=lt.useCallback((async()=>{try{h(!0),await u.com.atproto.server.activateAccount(),await g.resetQueries(),await u.resumeSession(u.session)}catch(t){if("Bad token scope"===t.message)f(e({id:"W8A0aT"}));else f(e({id:"qny5F6"}));Mt.logger.error(t,{message:"Failed to activate account"})}finally{h(!1)}}),[e,u,h,f,g]);return(0,bt.jsx)(Fs.default,{style:[qs.atoms.util_screen_outer,qs.atoms.flex_1],children:(0,bt.jsx)(ya.Content,{ignoreTabletLayoutOffset:!0,contentContainerStyle:[qs.atoms.px_2xl,{paddingTop:r.IS_WEB?64:s.top+16,paddingBottom:r.IS_WEB?64:s.bottom}],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,{marginHorizontal:"auto",maxWidth:uz}],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.justify_center,qs.atoms.align_center,qs.atoms.pb_5xl],children:(0,bt.jsx)(Av,{width:40})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xs,qs.atoms.pb_3xl],children:[(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"rxWA39"})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"bD3yau",values:{0:o?.handle}})}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.leading_snug,qs.atoms.pb_md],children:(0,bt.jsx)(dt.Trans,{id:"b+dM+p"})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_sm],children:[(0,bt.jsxs)(ao.Button,{label:e({id:"j4QaZg"}),size:"large",variant:"solid",color:"primary",onPress:b,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"mYz7f1"})}),m&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader,position:"right"})]}),(0,bt.jsx)(ao.Button,{label:e({id:"JdsRTT"}),size:"large",variant:"solid",color:"secondary",onPress:y,children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})})]}),p&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.mt_md,qs.atoms.p_md,qs.atoms.rounded_sm,t.atoms.bg_contrast_25],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"md",fill:t.palette.negative_400}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.leading_snug],children:p})]})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_3xl],children:(0,bt.jsx)(yo,{})}),c?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.pb_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"86033F"})}),(0,bt.jsx)(yk,{onSelectAccount:x,onSelectOther:_,otherLabel:e({id:"MPPZ54"}),pendingDid:i})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[t.atoms.text_contrast_medium,qs.atoms.pb_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"P27N2N"})}),(0,bt.jsx)(ao.Button,{label:e({id:"Cp4+Up"}),size:"large",variant:"solid",color:"secondary",onPress:()=>l(!0),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"Cp4+Up"})})})]})]})})})}var hz=s(53444);const pz=400;function fz(){const e=(0,n.c)(64),{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),o=(0,ct.useSafeAreaInsets)(),{gtMobile:a}=(0,qs.useBreakpoints)(),{currentAccount:i}=(0,Gt.useSession)(),{logoutCurrentAccount:l}=(0,Gt.useSessionApi)(),c=(0,Gt.useAgent)(),[d,u]=(0,lt.useState)(!1),[m,h]=(0,lt.useState)(""),p=(0,TL.countGraphemes)(m),f=p>Vt.MAX_REPORT_REASON_GRAPHEME_LENGTH;let g,x,_;e[0]!==c||e[1]!==i?(g=async e=>{if(!i)throw new Error("No session");await c.com.atproto.moderation.createReport({reasonType:Dn.ToolsOzoneReportDefs.REASONAPPEAL,subject:{$type:"com.atproto.admin.defs#repoRef",did:i.did},reason:e},{encoding:"application/json",headers:Vt.BLUESKY_MOD_SERVICE_HEADERS})},e[0]=c,e[1]=i,e[2]=g):g=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(x=()=>h(""),e[3]=x):x=e[3],e[4]!==g?(_={mutationFn:g,onSuccess:x},e[4]=g,e[5]=_):_=e[5];const{mutate:y,isPending:b,isSuccess:j,error:v}=(0,go.useMutation)(_);let S;e[6]!==t||e[7]!==d||e[8]!==f||e[9]!==b||e[10]!==j||e[11]!==l||e[12]!==m||e[13]!==y?(S=d&&!j?(0,bt.jsxs)(ao.Button,{color:"primary",size:"large",label:t({id:"8aPpNp"}),onPress:()=>y(m),disabled:b||f,children:[(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"81ySvy"})}),b&&(0,bt.jsx)(ao.ButtonIcon,{icon:lo.Loader})]}):(0,bt.jsx)(ao.Button,{size:"large",color:"secondary_inverted",label:t({id:"fcWrnU"}),onPress:()=>l("Takendown"),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"bHYIks"})})}),e[6]=t,e[7]=d,e[8]=f,e[9]=b,e[10]=j,e[11]=l,e[12]=m,e[13]=y,e[14]=S):S=e[14];const w=S;let T;e[15]!==t||e[16]!==d||e[17]!==j?(T=d?!j&&(0,bt.jsx)(ao.Button,{variant:"ghost",size:"large",color:"secondary",label:t({id:"dEgA5A"}),onPress:()=>u(!1),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})})}):(0,bt.jsx)(ao.Button,{variant:"ghost",size:"large",color:"secondary",label:t({id:"kgJch3"}),onPress:()=>u(!0),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"azrrOw"})})}),e[15]=t,e[16]=d,e[17]=j,e[18]=T):T=e[18];const k=T,C=r.IS_WEB&&a;let I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return e[19]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.util_screen_outer,qs.atoms.flex_1],e[19]=I):I=e[19],e[20]!==s.atoms.bg?(A=[qs.atoms.flex_1,s.atoms.bg],e[20]=s.atoms.bg,e[21]=A):A=e[21],e[22]!==a?(P=a?qs.atoms.pt_4xl:[qs.atoms.px_xl,qs.atoms.pt_4xl],e[22]=a,e[23]=P):P=e[23],e[24]!==P?(E=[qs.atoms.flex_row,qs.atoms.justify_center,P],e[24]=P,e[25]=E):E=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.flex_1,{maxWidth:pz,minHeight:pz}],e[26]=L):L=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_xl],children:(0,bt.jsx)(Av,{width:64})}),e[27]=R):R=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.text_4xl,qs.atoms.font_bold,qs.atoms.pb_md],e[28]=B):B=e[28],e[29]!==d?(D=(0,bt.jsx)(co.Text,{style:B,children:d?(0,bt.jsx)(dt.Trans,{id:"kgJch3"}):(0,bt.jsx)(dt.Trans,{id:"gQrPvu"})}),e[29]=d,e[30]=D):D=e[30],e[31]!==t||e[32]!==v||e[33]!==d||e[34]!==j||e[35]!==m||e[36]!==p||e[37]!==s.atoms.text_contrast_medium||e[38]!==s.palette?(O=d?(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.w_full,qs.atoms.mt_xl],children:[j?(0,bt.jsx)(co.P,{style:[s.atoms.text_contrast_medium,qs.atoms.text_center],children:(0,bt.jsx)(dt.Trans,{id:"HrIM5U"})}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"8iwzii"})}),(0,bt.jsx)(mo.Root,{isInvalid:p>Vt.MAX_REPORT_REASON_GRAPHEME_LENGTH||!!v,children:(0,bt.jsx)(mo.Input,{label:t({id:"8iwzii"}),defaultValue:m,onChangeText:h,placeholder:t({id:"fy/Fzy"}),multiline:!0,numberOfLines:5,autoFocus:!0,style:{paddingBottom:40,minHeight:150},maxLength:10*Vt.MAX_REPORT_REASON_GRAPHEME_LENGTH})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.pr_md,qs.atoms.pb_sm,{bottom:0,right:0}],children:(0,bt.jsx)(hz.CharProgress,{count:p,max:Vt.MAX_REPORT_REASON_GRAPHEME_LENGTH})})]}),v&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,{color:s.palette.negative_500},qs.atoms.mt_lg],children:(0,Tn.cleanError)(v)})]}):(0,bt.jsx)(co.P,{style:[s.atoms.text_contrast_medium,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"f6UtWw",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,{label:t({id:"TXVWpp"}),to:"https://bsky.social/about/support/tos",style:[qs.atoms.text_md,qs.atoms.leading_snug]})}})}),e[31]=t,e[32]=v,e[33]=d,e[34]=j,e[35]=m,e[36]=p,e[37]=s.atoms.text_contrast_medium,e[38]=s.palette,e[39]=O):O=e[39],e[40]!==w||e[41]!==k||e[42]!==C?(M=C&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.pt_5xl,{paddingBottom:200}],children:[k,w]}),e[40]=w,e[41]=k,e[42]=C,e[43]=M):M=e[43],e[44]!==D||e[45]!==O||e[46]!==M?(F=(0,bt.jsxs)(Fs.default,{style:L,children:[R,D,O,M]}),e[44]=D,e[45]=O,e[46]=M,e[47]=F):F=e[47],e[48]!==F||e[49]!==E?(N=(0,bt.jsx)(Fs.default,{style:E,children:F}),e[48]=F,e[49]=E,e[50]=N):N=e[50],e[51]!==N||e[52]!==A?(H=(0,bt.jsx)(hL.KeyboardAwareScrollView,{style:A,centerContent:!0,children:N}),e[51]=N,e[52]=A,e[53]=H):H=e[53],e[54]!==a||e[55]!==o||e[56]!==w||e[57]!==k||e[58]!==s.atoms.bg||e[59]!==C?(V=!C&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,s.atoms.bg,a?qs.atoms.px_5xl:qs.atoms.px_xl,{paddingBottom:Math.max(o.bottom,qs.atoms.pb_5xl.paddingBottom)}],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.gap_sm,{maxWidth:pz}],children:[w,k]})}),e[54]=a,e[55]=o,e[56]=w,e[57]=k,e[58]=s.atoms.bg,e[59]=C,e[60]=V):V=e[60],e[61]!==H||e[62]!==V?(z=(0,bt.jsxs)(Fs.default,{style:I,children:[H,V]}),e[61]=H,e[62]=V,e[63]=z):z=e[63],z}function gz(){return(0,Ks.useGlobalDialogsControlContext)().ageAssuranceRedirectDialogControl}function xz(){const e=(0,n.c)(15),{_:t}=(0,dt.useLingui)(),s=gz(),o=s.control;let a,r,i,l,c,d,u;return e[0]!==s?(a=()=>s.clear(),e[0]=s,e[1]=a):a=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(Qs.Handle,{}),e[2]=r):r=e[2],e[3]!==t?(i=t({id:"pEeM+l"}),e[3]=t,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=[(0,qs.web)({maxWidth:400})],e[5]=l):l=e[5],e[6]!==s.value?(c=(0,bt.jsx)(_z,{optimisticState:s.value}),e[6]=s.value,e[7]=c):c=e[7],e[8]!==i||e[9]!==c?(d=(0,bt.jsx)(Qs.ScrollableInner,{label:i,style:l,children:c}),e[8]=i,e[9]=c,e[10]=d):d=e[10],e[11]!==s.control||e[12]!==a||e[13]!==d?(u=(0,bt.jsxs)(Qs.Outer,{control:o,onClose:a,children:[r,d]}),e[11]=s.control,e[12]=a,e[13]=d,e[14]=u):u=e[14],u}function _z(e){const t=(0,n.c)(55),s=(0,qs.useTheme)(),o=(0,Xo.useAnalytics)(),{_:a}=(0,dt.useLingui)(),i=(0,Gt.useAgent)(),l=(0,lt.useRef)(!1),c=(0,lt.useRef)(!1),d=gz(),[u,m]=(0,lt.useState)(!1),[h,p]=(0,lt.useState)(!1);let f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P;if(t[0]!==i||t[1]!==o?(f=()=>{if(!l.current)return l.current=!0,o.metric("ageAssurance:redirectDialogOpen",{}),(0,eo.wait)(3e3,(0,$p.retry)(5,yz,(async()=>{if(!i.session)return;if(c.current)return;const e=await(0,Fi.refetchAgeAssuranceServerState)({agent:i});if("assured"!==e?.state.status)throw new Error("Polling for age assurance state did not receive assured status");return e}),1e3)).then((async e=>{e&&i.session&&(c.current||(p(!0),o.metric("ageAssurance:redirectDialogSuccess",{})))})).catch((()=>{c.current||(m(!0),o.metric("ageAssurance:redirectDialogFail",{}))})),()=>{c.current=!0}},t[0]=i,t[1]=o,t[2]=f):f=t[2],t[3]!==i||t[4]!==o||t[5]!==d?(g=[o,i,d],t[3]=i,t[4]=o,t[5]=d,t[6]=g):g=t[6],(0,lt.useEffect)(f,g),h){let e,o,n,i,l,c,u,m,h,p,f;return t[7]===Symbol.for("react.memo_cache_sentinel")?(e=[qs.atoms.align_start,qs.atoms.w_full],o=(0,bt.jsx)(SE.AgeAssuranceBadge,{}),t[7]=e,t[8]=o):(e=t[7],o=t[8]),t[9]===Symbol.for("react.memo_cache_sentinel")?(n=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pt_lg,qs.atoms.pb_md],t[9]=n):n=t[9],t[10]!==s.palette.positive_500?(i=(0,bt.jsx)(ro.CheckThick_Stroke2_Corner0_Rounded,{size:"sm",fill:s.palette.positive_500}),t[10]=s.palette.positive_500,t[11]=i):i=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_bold],children:(0,bt.jsx)(dt.Trans,{id:"zzDlyQ"})}),t[12]=l):l=t[12],t[13]!==i?(c=(0,bt.jsxs)(Fs.default,{style:n,children:[i,l]}),t[13]=i,t[14]=c):c=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug],children:(0,bt.jsx)(dt.Trans,{id:"QkMQM1"})}),t[15]=u):u=t[15],t[16]!==a||t[17]!==d?(m=r.IS_NATIVE&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_lg],children:(0,bt.jsx)(ao.Button,{label:a({id:"yz7wBu"}),size:"large",variant:"solid",color:"secondary",onPress:()=>d.control.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})})}),t[16]=a,t[17]=d,t[18]=m):m=t[18],t[19]!==m||t[20]!==c?(h=(0,bt.jsxs)(Fs.default,{style:e,children:[o,c,u,m]}),t[19]=m,t[20]=c,t[21]=h):h=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(Qs.Close,{}),t[22]=p):p=t[22],t[23]!==h?(f=(0,bt.jsxs)(bt.Fragment,{children:[h,p]}),t[23]=h,t[24]=f):f=t[24],f}return t[25]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.align_start,qs.atoms.w_full],_=(0,bt.jsx)(SE.AgeAssuranceBadge,{}),t[25]=x,t[26]=_):(x=t[25],_=t[26]),t[27]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.pt_lg,qs.atoms.pb_md],t[27]=y):y=t[27],t[28]!==u||t[29]!==s?(b=u&&(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{size:"md",fill:s.palette.negative_500}),t[28]=u,t[29]=s,t[30]=b):b=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.text_xl,qs.atoms.font_bold],t[31]=j):j=t[31],t[32]!==u?(v=(0,bt.jsx)(co.Text,{style:j,children:u?(0,bt.jsx)(dt.Trans,{id:"2C5GZB"}):(0,bt.jsx)(dt.Trans,{id:"bl9677"})}),S=!u&&(0,bt.jsx)(lo.Loader,{size:"md"}),t[32]=u,t[33]=v,t[34]=S):(v=t[33],S=t[34]),t[35]!==b||t[36]!==v||t[37]!==S?(w=(0,bt.jsxs)(Fs.default,{style:y,children:[b,v,S]}),t[35]=b,t[36]=v,t[37]=S,t[38]=w):w=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.text_md,qs.atoms.leading_snug],t[39]=T):T=t[39],t[40]!==u?(k=(0,bt.jsx)(co.Text,{style:T,children:u?(0,bt.jsx)(dt.Trans,{id:"n/TXPj"}):(0,bt.jsx)(dt.Trans,{id:"HR/hll"})}),t[40]=u,t[41]=k):k=t[41],t[42]!==a||t[43]!==d||t[44]!==u?(C=u&&r.IS_NATIVE&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.pt_lg],children:(0,bt.jsx)(ao.Button,{label:a({id:"yz7wBu"}),size:"large",variant:"solid",color:"secondary",onPress:()=>d.control.close(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})})})}),t[42]=a,t[43]=d,t[44]=u,t[45]=C):C=t[45],t[46]!==w||t[47]!==k||t[48]!==C?(I=(0,bt.jsxs)(Fs.default,{style:x,children:[_,w,k,C]}),t[46]=w,t[47]=k,t[48]=C,t[49]=I):I=t[49],t[50]!==u?(A=u&&(0,bt.jsx)(Qs.Close,{}),t[50]=u,t[51]=A):A=t[51],t[52]!==I||t[53]!==A?(P=(0,bt.jsxs)(bt.Fragment,{children:[I,A]}),t[52]=I,t[53]=A,t[54]=P):P=t[54],P}function yz(){return!0}var bz=s(21978),jz=s(98631),vz=s(6264),Sz=s(28084),wz=s(15613),Tz=s(47699),kz=s(91922),Cz=s(60501),Iz=s(10815),Az=s(5581),Pz=s(98710),Ez=s(76362),Lz=s(3022),Rz=s(69898),Bz=s(50130),Dz=s(70450),Oz=s(55526),Mz=s(15940),Fz=s(75709),Nz=s(47514),Hz=s(36854),Vz=s(59265),zz=s(76206),Uz=s(82788),Wz=s(87085),Gz=s(85788),qz=s(49679),Qz=s(32346),Kz=s(55700),Zz=s(39748),Yz=s(92986),$z=s(16660),Xz=s(53592),Jz=s(79319),eU=s(6411),tU=s(27430);const sU={en:void 0,an:void 0,ast:void 0,ca:jz.default,cy:vz.default,da:Sz.default,de:wz.default,el:Tz.default,"en-GB":kz.default,eo:Cz.default,es:Iz.default,eu:Az.default,fi:Pz.default,fr:Ez.default,fy:Lz.default,ga:void 0,gd:Rz.default,gl:Bz.default,hi:Dz.default,hu:Oz.default,ia:void 0,id:Mz.default,it:Fz.default,ja:Nz.default,km:Hz.default,ko:Vz.default,ne:void 0,nl:zz.default,pl:Uz.default,"pt-PT":Wz.default,"pt-BR":Gz.default,ro:qz.default,ru:Qz.default,sv:Kz.default,th:Zz.default,tr:Yz.default,uk:$z.default,vi:Xz.default,"zh-Hans-CN":Jz.default,"zh-Hant-HK":eU.default,"zh-Hant-TW":tU.default};function oU(){const e=(0,n.c)(2),{appLanguage:t}=(0,Bt.useLanguagePrefs)();let s;return e[0]!==t?(s=(e,s,o)=>{const n=sU[t];return(0,bz.default)(e,s,Object.assign({},o,{locale:n}))},e[0]=t,e[1]=s):s=e[1],s}const nU=(0,ti.createSinglePathSVG)({path:"M5 2a1 1 0 0 0-1 1v18a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H5Zm1 18V4h12v16H6Zm3-6a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H9Zm-1-3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1-5a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2H9Z"}),aU=864e5;function rU(){const e=(0,n.c)(4),{mutedWordsDialogControl:t}=(0,Ks.useGlobalDialogsControlContext)();let s,o,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(Qs.Handle,{}),o=(0,bt.jsx)(iU,{}),e[0]=s,e[1]=o):(s=e[0],o=e[1]),e[2]!==t?(a=(0,bt.jsxs)(Qs.Outer,{control:t,children:[s,o]}),e[2]=t,e[3]=a):a=e[3],a}function iU(){const e=(0,n.c)(193),t=(0,qs.useTheme)(),{_:s}=(0,dt.useLingui)(),{gtMobile:o}=(0,qs.useBreakpoints)(),{isLoading:a,data:i,error:l}=(0,xr.usePreferencesQuery)(),{isPending:c,mutateAsync:d}=(0,xr.useUpsertMutedWordsMutation)(),[u,m]=lt.useState("");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=["content"],e[0]=h):h=e[0];const[p,f]=lt.useState(h),[g,x]=lt.useState("");let _;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=["forever"],e[1]=_):_=e[1];const[y,b]=lt.useState(_),[j,v]=lt.useState(!1);let S;e[2]!==s||e[3]!==d||e[4]!==y||e[5]!==j||e[6]!==u||e[7]!==p?(S=async()=>{const e=(0,Dn.sanitizeMutedWordValue)(u),t=["tag",p.includes("content")&&"content"].filter(Boolean),o=j?"exclude-following":"all",n=Date.now(),a=y.at(0);let r;if("24_hours"===a?r=new Date(n+aU).toISOString():"7_days"===a?r=new Date(n+7*aU).toISOString():"30_days"===a&&(r=new Date(n+30*aU).toISOString()),!e||!t.length)return m(""),void x(s({id:"8EDfvE"}));try{await d([{value:u,targets:t,actorTarget:o,expiresAt:r}]),m("")}catch(T){const t=T;Mt.logger.error("Failed to save muted word",{message:t.message}),x(t.message)}},e[2]=s,e[3]=d,e[4]=y,e[5]=j,e[6]=u,e[7]=p,e[8]=S):S=e[8];const w=S;let T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce,Ie,Ae,Pe,Ee,Le,Re,Be,De,Oe,Me,Fe,Ne,He,Ve,ze,Ue,We,Ge,qe,Qe,Ke,Ze;e[9]!==s?(T=s({id:"gc311N"}),e[9]=s,e[10]=T):T=e[10],e[11]!==t.atoms.text_contrast_high?(k=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.pb_sm,t.atoms.text_contrast_high],e[11]=t.atoms.text_contrast_high,e[12]=k):k=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(dt.Trans,{id:"MeeIAJ"}),e[13]=C):C=e[13],e[14]!==k?(I=(0,bt.jsx)(co.Text,{style:k,children:C}),e[14]=k,e[15]=I):I=e[15],e[16]!==t.atoms.text_contrast_medium?(A=[qs.atoms.pb_lg,qs.atoms.leading_snug,t.atoms.text_contrast_medium],e[16]=t.atoms.text_contrast_medium,e[17]=A):A=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(dt.Trans,{id:"gaVbYv"}),e[18]=P):P=e[18],e[19]!==A?(E=(0,bt.jsx)(co.Text,{style:A,children:P}),e[19]=A,e[20]=E):E=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(L=[qs.atoms.pb_sm],e[21]=L):L=e[21],e[22]!==s?(R=s({id:"56nDAm"}),e[22]=s,e[23]=R):R=e[23],e[24]!==s?(B=s({id:"56nDAm"}),e[24]=s,e[25]=B):B=e[25],e[26]!==g?(D=e=>{g&&x(""),m(e)},e[26]=g,e[27]=D):D=e[27],e[28]!==u||e[29]!==w||e[30]!==R||e[31]!==B||e[32]!==D?(O=(0,bt.jsx)(Fs.default,{style:L,children:(0,bt.jsx)(Qs.Input,{autoCorrect:!1,autoCapitalize:"none",autoComplete:"off",label:R,placeholder:B,value:u,onChangeText:D,onSubmitEditing:w})}),e[28]=u,e[29]=w,e[30]=R,e[31]=B,e[32]=D,e[33]=O):O=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(M=[qs.atoms.pb_xl,qs.atoms.gap_sm],e[34]=M):M=e[34],e[35]!==s?(F=s({id:"YPcZGF"}),e[35]=s,e[36]=F):F=e[36],e[37]!==t.atoms.text_contrast_medium?(N=[qs.atoms.pb_xs,qs.atoms.text_sm,qs.atoms.font_semi_bold,t.atoms.text_contrast_medium],e[37]=t.atoms.text_contrast_medium,e[38]=N):N=e[38],e[39]===Symbol.for("react.memo_cache_sentinel")?(H=(0,bt.jsx)(dt.Trans,{id:"N23Lnm"}),e[39]=H):H=e[39],e[40]!==N?(V=(0,bt.jsx)(co.Text,{style:N,children:H}),e[40]=N,e[41]=V):V=e[41],e[42]!==o?(z=o&&[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_start],e[42]=o,e[43]=z):z=e[43],e[44]!==z?(U=[z,qs.atoms.gap_sm],e[44]=z,e[45]=U):U=e[45],e[46]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.justify_start,qs.atoms.align_center,qs.atoms.gap_sm],e[46]=W):W=e[46],e[47]!==s?(G=s({id:"IvQ7c1"}),e[47]=s,e[48]=G):G=e[48],e[49]===Symbol.for("react.memo_cache_sentinel")?(q=[qs.atoms.flex_1],e[49]=q):q=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(Q=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],K=(0,bt.jsx)(af.Radio,{}),e[50]=Q,e[51]=K):(Q=e[50],K=e[51]),e[52]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,bt.jsx)(dU,{children:(0,bt.jsxs)(Fs.default,{style:Q,children:[K,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"9ZP9cc"})})]})}),e[52]=Z):Z=e[52],e[53]!==G?(Y=(0,bt.jsx)(af.Item,{label:G,name:"forever",style:q,children:Z}),e[53]=G,e[54]=Y):Y=e[54],e[55]!==s?($=s({id:"A+iUGE"}),e[55]=s,e[56]=$):$=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(X=[qs.atoms.flex_1],e[57]=X):X=e[57],e[58]===Symbol.for("react.memo_cache_sentinel")?(J=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],ee=(0,bt.jsx)(af.Radio,{}),e[58]=J,e[59]=ee):(J=e[58],ee=e[59]),e[60]===Symbol.for("react.memo_cache_sentinel")?(te=(0,bt.jsx)(dU,{children:(0,bt.jsxs)(Fs.default,{style:J,children:[ee,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"VaA9mu"})})]})}),e[60]=te):te=e[60],e[61]!==$?(se=(0,bt.jsx)(af.Item,{label:$,name:"24_hours",style:X,children:te}),e[61]=$,e[62]=se):se=e[62],e[63]!==Y||e[64]!==se?(oe=(0,bt.jsxs)(Fs.default,{style:W,children:[Y,se]}),e[63]=Y,e[64]=se,e[65]=oe):oe=e[65],e[66]===Symbol.for("react.memo_cache_sentinel")?(ne=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.justify_start,qs.atoms.align_center,qs.atoms.gap_sm],e[66]=ne):ne=e[66],e[67]!==s?(ae=s({id:"uuuMgz"}),e[67]=s,e[68]=ae):ae=e[68],e[69]===Symbol.for("react.memo_cache_sentinel")?(re=[qs.atoms.flex_1],e[69]=re):re=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(ie=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],le=(0,bt.jsx)(af.Radio,{}),e[70]=ie,e[71]=le):(ie=e[70],le=e[71]),e[72]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,bt.jsx)(dU,{children:(0,bt.jsxs)(Fs.default,{style:ie,children:[le,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"rJe6vw"})})]})}),e[72]=ce):ce=e[72],e[73]!==ae?(de=(0,bt.jsx)(af.Item,{label:ae,name:"7_days",style:re,children:ce}),e[73]=ae,e[74]=de):de=e[74],e[75]!==s?(ue=s({id:"GBb12x"}),e[75]=s,e[76]=ue):ue=e[76],e[77]===Symbol.for("react.memo_cache_sentinel")?(me=[qs.atoms.flex_1],e[77]=me):me=e[77],e[78]===Symbol.for("react.memo_cache_sentinel")?(he=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],pe=(0,bt.jsx)(af.Radio,{}),e[78]=he,e[79]=pe):(he=e[78],pe=e[79]),e[80]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,bt.jsx)(dU,{children:(0,bt.jsxs)(Fs.default,{style:he,children:[pe,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"P9cEa2"})})]})}),e[80]=fe):fe=e[80],e[81]!==ue?(ge=(0,bt.jsx)(af.Item,{label:ue,name:"30_days",style:me,children:fe}),e[81]=ue,e[82]=ge):ge=e[82],e[83]!==de||e[84]!==ge?(xe=(0,bt.jsxs)(Fs.default,{style:ne,children:[de,ge]}),e[83]=de,e[84]=ge,e[85]=xe):xe=e[85],e[86]!==U||e[87]!==oe||e[88]!==xe?(_e=(0,bt.jsxs)(Fs.default,{style:U,children:[oe,xe]}),e[86]=U,e[87]=oe,e[88]=xe,e[89]=_e):_e=e[89],e[90]!==y||e[91]!==F||e[92]!==V||e[93]!==_e?(ye=(0,bt.jsxs)(af.Group,{label:F,type:"radio",values:y,onChange:b,children:[V,_e]}),e[90]=y,e[91]=F,e[92]=V,e[93]=_e,e[94]=ye):ye=e[94],e[95]!==s?(be=s({id:"rz0+O7"}),e[95]=s,e[96]=be):be=e[96],e[97]!==t.atoms.text_contrast_medium?(je=[qs.atoms.pb_xs,qs.atoms.text_sm,qs.atoms.font_semi_bold,t.atoms.text_contrast_medium],e[97]=t.atoms.text_contrast_medium,e[98]=je):je=e[98],e[99]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,bt.jsx)(dt.Trans,{id:"bwjcW2"}),e[99]=ve):ve=e[99],e[100]!==je?(Se=(0,bt.jsx)(co.Text,{style:je,children:ve}),e[100]=je,e[101]=Se):Se=e[101],e[102]===Symbol.for("react.memo_cache_sentinel")?(we=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm,qs.atoms.flex_wrap],e[102]=we):we=e[102],e[103]!==s?(Te=s({id:"m1NYNv"}),e[103]=s,e[104]=Te):Te=e[104],e[105]===Symbol.for("react.memo_cache_sentinel")?(ke=[qs.atoms.flex_1],e[105]=ke):ke=e[105],e[106]===Symbol.for("react.memo_cache_sentinel")?(Ce=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],Ie=(0,bt.jsx)(af.Radio,{}),e[106]=Ce,e[107]=Ie):(Ce=e[106],Ie=e[107]),e[108]===Symbol.for("react.memo_cache_sentinel")?(Ae=(0,bt.jsxs)(dU,{children:[(0,bt.jsxs)(Fs.default,{style:Ce,children:[Ie,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"4PP896"})})]}),(0,bt.jsx)(nU,{size:"sm"})]}),e[108]=Ae):Ae=e[108],e[109]!==Te?(Pe=(0,bt.jsx)(af.Item,{label:Te,name:"content",style:ke,children:Ae}),e[109]=Te,e[110]=Pe):Pe=e[110],e[111]!==s?(Ee=s({id:"6xHFkK"}),e[111]=s,e[112]=Ee):Ee=e[112],e[113]===Symbol.for("react.memo_cache_sentinel")?(Le=[qs.atoms.flex_1],e[113]=Le):Le=e[113],e[114]===Symbol.for("react.memo_cache_sentinel")?(Re=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],Be=(0,bt.jsx)(af.Radio,{}),e[114]=Re,e[115]=Be):(Re=e[114],Be=e[115]),e[116]===Symbol.for("react.memo_cache_sentinel")?(De=(0,bt.jsxs)(dU,{children:[(0,bt.jsxs)(Fs.default,{style:Re,children:[Be,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"SCh+q3"})})]}),(0,bt.jsx)(El,{size:"sm"})]}),e[116]=De):De=e[116],e[117]!==Ee?(Oe=(0,bt.jsx)(af.Item,{label:Ee,name:"tag",style:Le,children:De}),e[117]=Ee,e[118]=Oe):Oe=e[118],e[119]!==Pe||e[120]!==Oe?(Me=(0,bt.jsxs)(Fs.default,{style:we,children:[Pe,Oe]}),e[119]=Pe,e[120]=Oe,e[121]=Me):Me=e[121],e[122]!==be||e[123]!==Se||e[124]!==Me||e[125]!==p?(Fe=(0,bt.jsxs)(af.Group,{label:be,type:"radio",values:p,onChange:f,children:[Se,Me]}),e[122]=be,e[123]=Se,e[124]=Me,e[125]=p,e[126]=Fe):Fe=e[126],e[127]!==t.atoms.text_contrast_medium?(Ne=[qs.atoms.pb_xs,qs.atoms.text_sm,qs.atoms.font_semi_bold,t.atoms.text_contrast_medium],e[127]=t.atoms.text_contrast_medium,e[128]=Ne):Ne=e[128],e[129]===Symbol.for("react.memo_cache_sentinel")?(He=(0,bt.jsx)(dt.Trans,{id:"AmPPq5"}),e[129]=He):He=e[129],e[130]!==Ne?(Ve=(0,bt.jsx)(co.Text,{style:Ne,children:He}),e[130]=Ne,e[131]=Ve):Ve=e[131],e[132]!==s?(ze=s({id:"M2ux4B"}),e[132]=s,e[133]=ze):ze=e[133],e[134]===Symbol.for("react.memo_cache_sentinel")?(Ue=[qs.atoms.flex_row,qs.atoms.justify_between],e[134]=Ue):Ue=e[134],e[135]===Symbol.for("react.memo_cache_sentinel")?(We=[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],Ge=(0,bt.jsx)(af.Checkbox,{}),e[135]=We,e[136]=Ge):(We=e[135],Ge=e[136]),e[137]===Symbol.for("react.memo_cache_sentinel")?(qe=(0,bt.jsx)(dU,{children:(0,bt.jsxs)(Fs.default,{style:We,children:[Ge,(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"dtB3eO"})})]})}),e[137]=qe):qe=e[137],e[138]!==j||e[139]!==ze?(Qe=(0,bt.jsx)(af.Item,{label:ze,name:"exclude_following",style:Ue,value:j,onChange:v,children:qe}),e[138]=j,e[139]=ze,e[140]=Qe):Qe=e[140],e[141]!==Ve||e[142]!==Qe?(Ke=(0,bt.jsxs)(Fs.default,{children:[Ve,Qe]}),e[141]=Ve,e[142]=Qe,e[143]=Ke):Ke=e[143],e[144]===Symbol.for("react.memo_cache_sentinel")?(Ze=[qs.atoms.pt_xs],e[144]=Ze):Ze=e[144];const Ye=c||!u;let $e,Xe,Je;e[145]!==s?($e=s({id:"ewfGtx"}),e[145]=s,e[146]=$e):$e=e[146],e[147]===Symbol.for("react.memo_cache_sentinel")?(Xe=[],e[147]=Xe):Xe=e[147],e[148]===Symbol.for("react.memo_cache_sentinel")?(Je=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"m16xKo"})}),e[148]=Je):Je=e[148];const et=c?lo.Loader:zg.PlusLarge_Stroke2_Corner0_Rounded;let tt,st,ot,nt,at,rt,it,ct,ut,mt,ht,pt,ft,gt,xt;return e[149]!==et?(tt=(0,bt.jsx)(ao.ButtonIcon,{icon:et,position:"right"}),e[149]=et,e[150]=tt):tt=e[150],e[151]!==w||e[152]!==Ye||e[153]!==$e||e[154]!==tt?(st=(0,bt.jsx)(Fs.default,{style:Ze,children:(0,bt.jsxs)(ao.Button,{disabled:Ye,label:$e,size:"large",color:"primary",variant:"solid",style:Xe,onPress:w,children:[Je,tt]})}),e[151]=w,e[152]=Ye,e[153]=$e,e[154]=tt,e[155]=st):st=e[155],e[156]!==g||e[157]!==t.atoms.bg_contrast_25||e[158]!==t.palette?(ot=g&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.mb_lg,qs.atoms.flex_row,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.mb_xs,t.atoms.bg_contrast_25,{backgroundColor:t.palette.negative_400}],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,{color:t.palette.white},(0,qs.native)({marginTop:2})],children:g})}),e[156]=g,e[157]=t.atoms.bg_contrast_25,e[158]=t.palette,e[159]=ot):ot=e[159],e[160]!==ye||e[161]!==Fe||e[162]!==Ke||e[163]!==st||e[164]!==ot?(nt=(0,bt.jsxs)(Fs.default,{style:M,children:[ye,Fe,Ke,st,ot]}),e[160]=ye,e[161]=Fe,e[162]=Ke,e[163]=st,e[164]=ot,e[165]=nt):nt=e[165],e[166]===Symbol.for("react.memo_cache_sentinel")?(at=(0,bt.jsx)(yo,{}),e[166]=at):at=e[166],e[167]===Symbol.for("react.memo_cache_sentinel")?(rt=[qs.atoms.pt_2xl],e[167]=rt):rt=e[167],e[168]!==t.atoms.text_contrast_high?(it=[qs.atoms.text_md,qs.atoms.font_semi_bold,qs.atoms.pb_md,t.atoms.text_contrast_high],e[168]=t.atoms.text_contrast_high,e[169]=it):it=e[169],e[170]===Symbol.for("react.memo_cache_sentinel")?(ct=(0,bt.jsx)(dt.Trans,{id:"NcEbYp"}),e[170]=ct):ct=e[170],e[171]!==it?(ut=(0,bt.jsx)(co.Text,{style:it,children:ct}),e[171]=it,e[172]=ut):ut=e[172],e[173]!==a||e[174]!==i||e[175]!==l||e[176]!==t.atoms.bg_contrast_25||e[177]!==t.atoms.text_contrast_high?(mt=a?(0,bt.jsx)(lo.Loader,{}):l||!i?(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,t.atoms.bg_contrast_25],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,t.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"XgdkIt"})})}):i.moderationPrefs.mutedWords.length?[...i.moderationPrefs.mutedWords].reverse().map(((e,s)=>(0,bt.jsx)(lU,{word:e,style:[s%2===0&&t.atoms.bg_contrast_25]},e.value+s))):(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,t.atoms.bg_contrast_25],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,t.atoms.text_contrast_high],children:(0,bt.jsx)(dt.Trans,{id:"5CAK8j"})})}),e[173]=a,e[174]=i,e[175]=l,e[176]=t.atoms.bg_contrast_25,e[177]=t.atoms.text_contrast_high,e[178]=mt):mt=e[178],e[179]!==ut||e[180]!==mt?(ht=(0,bt.jsxs)(Fs.default,{style:rt,children:[ut,mt]}),e[179]=ut,e[180]=mt,e[181]=ht):ht=e[181],e[182]===Symbol.for("react.memo_cache_sentinel")?(pt=r.IS_NATIVE&&(0,bt.jsx)(Fs.default,{style:{height:20}}),e[182]=pt):pt=e[182],e[183]!==O||e[184]!==I||e[185]!==E||e[186]!==nt||e[187]!==ht?(ft=(0,bt.jsxs)(Fs.default,{children:[I,E,O,nt,at,ht,pt]}),e[183]=O,e[184]=I,e[185]=E,e[186]=nt,e[187]=ht,e[188]=ft):ft=e[188],e[189]===Symbol.for("react.memo_cache_sentinel")?(gt=(0,bt.jsx)(Qs.Close,{}),e[189]=gt):gt=e[189],e[190]!==T||e[191]!==ft?(xt=(0,bt.jsxs)(Qs.ScrollableInner,{label:T,children:[ft,gt]}),e[190]=T,e[191]=ft,e[192]=xt):xt=e[192],xt}function lU(e){const t=(0,n.c)(50),{style:s,word:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)(),{isPending:i,mutateAsync:l}=(0,xr.useRemoveMutedWordMutation)(),c=Zi.usePromptControl(),d=o.expiresAt?new Date(o.expiresAt):void 0,u=d&&d<new Date,m=oU();let h;t[0]!==c||t[1]!==l||t[2]!==o?(h=async()=>{c.close(),l(o)},t[0]=c,t[1]=l,t[2]=o,t[3]=h):h=t[3];const p=h;let f,g,x,_;t[4]!==r?(f=r({id:"6foA8n"}),t[4]=r,t[5]=f):f=t[5],t[6]!==r||t[7]!==o.value?(g=r({id:"Eal/k5",values:{0:o.value}}),t[6]=r,t[7]=o.value,t[8]=g):g=t[8],t[9]!==r?(x=r({id:"t/YqKh"}),t[9]=r,t[10]=x):x=t[10],t[11]!==c||t[12]!==p||t[13]!==f||t[14]!==g||t[15]!==x?(_=(0,bt.jsx)(Zi.Basic,{control:c,title:f,description:g,onConfirm:p,confirmButtonCta:x,confirmButtonColor:"negative"}),t[11]=c,t[12]=p,t[13]=f,t[14]=g,t[15]=x,t[16]=_):_=t[16];const y=Fs.default;let b;t[17]!==s?(b=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,qs.atoms.gap_md,s],t[17]=s,t[18]=b):b=t[18];const j=Fs.default;let v,S,w,T;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_1,qs.atoms.gap_xs],t[19]=v):v=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[20]=S):S=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.flex_1,qs.atoms.leading_snug,qs.atoms.font_semi_bold,(0,qs.web)({overflowWrap:"break-word",wordBreak:"break-word"})],t[21]=w):w=t[21],t[22]!==a.atoms.text_contrast_medium||t[23]!==o.targets||t[24]!==o.value?(T=(0,bt.jsx)(Fs.default,{style:S,children:(0,bt.jsx)(co.Text,{style:w,children:o.targets.find(cU)?(0,bt.jsx)(dt.Trans,{id:"pB+j+H",values:{0:o.value},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_normal,a.atoms.text_contrast_medium]}),1:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,a.atoms.text_contrast_medium]})}}):(0,bt.jsx)(dt.Trans,{id:"5R/uEu",values:{0:o.value},components:{0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_normal,a.atoms.text_contrast_medium]}),1:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,a.atoms.text_contrast_medium]})}})})}),t[22]=a.atoms.text_contrast_medium,t[23]=o.targets,t[24]=o.value,t[25]=T):T=t[25];const k=(d||"exclude-following"===o.actorTarget)&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_xs,qs.atoms.leading_snug,a.atoms.text_contrast_medium],children:[d&&(0,bt.jsx)(bt.Fragment,{children:u?(0,bt.jsx)(dt.Trans,{id:"M1RnFv"}):(0,bt.jsx)(dt.Trans,{id:"oOfJ56",values:{0:m(d,new Date,{addSuffix:!0})}})}),"exclude-following"===o.actorTarget&&(0,bt.jsxs)(bt.Fragment,{children:[" \u2022 ",(0,bt.jsx)(dt.Trans,{id:"IpSZDQ"})]})]})});let C,I,A,P;t[26]!==j||t[27]!==T||t[28]!==k||t[29]!==v?(C=(0,bt.jsxs)(j,{style:v,children:[T,k]}),t[26]=j,t[27]=T,t[28]=k,t[29]=v,t[30]=C):C=t[30],t[31]!==r?(I=r({id:"E2dk8C"}),t[31]=r,t[32]=I):I=t[32],t[33]!==c?(A=()=>c.open(),t[33]=c,t[34]=A):A=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(P=[qs.atoms.ml_sm],t[35]=P):P=t[35];const E=i?lo.Loader:hn.TimesLarge_Stroke2_Corner0_Rounded;let L,R,B,D;return t[36]!==E?(L=(0,bt.jsx)(ao.ButtonIcon,{icon:E}),t[36]=E,t[37]=L):L=t[37],t[38]!==I||t[39]!==A||t[40]!==L?(R=(0,bt.jsx)(ao.Button,{label:I,size:"tiny",shape:"round",variant:"outline",color:"secondary",onPress:A,style:P,children:L}),t[38]=I,t[39]=A,t[40]=L,t[41]=R):R=t[41],t[42]!==y||t[43]!==C||t[44]!==R||t[45]!==b?(B=(0,bt.jsxs)(y,{style:b,children:[C,R]}),t[42]=y,t[43]=C,t[44]=R,t[45]=b,t[46]=B):B=t[46],t[47]!==B||t[48]!==_?(D=(0,bt.jsxs)(bt.Fragment,{children:[_,B]}),t[47]=B,t[48]=_,t[49]=D):D=t[49],D}function cU(e){return"content"===e}function dU(e){const t=(0,n.c)(14),{children:s}=e,o=(0,qs.useTheme)(),a=af.useItemContext(),{gtMobile:r}=(0,qs.useBreakpoints)(),i=r&&qs.atoms.px_md,l=(a.hovered||a.focused)&&o.atoms.bg_contrast_50;let c,d,u,m;return t[0]!==a.selected||t[1]!==o.palette?(c=a.selected&&[{backgroundColor:o.palette.primary_50}],t[0]=a.selected,t[1]=o.palette,t[2]=c):c=t[2],t[3]!==a.disabled?(d=a.disabled&&{opacity:.8},t[3]=a.disabled,t[4]=d):d=t[4],t[5]!==o.atoms.bg_contrast_25||t[6]!==i||t[7]!==l||t[8]!==c||t[9]!==d?(u=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.gap_xs,qs.atoms.flex_1,qs.atoms.py_sm,qs.atoms.px_sm,i,qs.atoms.rounded_sm,o.atoms.bg_contrast_25,l,c,d],t[5]=o.atoms.bg_contrast_25,t[6]=i,t[7]=l,t[8]=c,t[9]=d,t[10]=u):u=t[10],t[11]!==s||t[12]!==u?(m=(0,bt.jsx)(Fs.default,{style:u,children:s}),t[11]=s,t[12]=u,t[13]=m):m=t[13],m}const uU=(0,ti.createSinglePathSVG)({path:"M12 2a1 1 0 0 1 1 1c0 3.188.669 5.256 1.882 6.536C16.084 10.805 18.01 11.5 21 11.5a1 1 0 1 1 0 2c-2.99 0-4.916.695-6.118 1.964C13.67 16.744 13 18.812 13 22a1 1 0 1 1-2 0c0-3.188-.669-5.256-1.882-6.536C7.916 14.195 5.99 13.5 3 13.5a1 1 0 1 1 0-2c2.99 0 4.916-.695 6.118-1.964C10.33 8.256 11 6.188 11 3a1 1 0 0 1 1-1Zm0 6.734a7.608 7.608 0 0 1-1.43 2.178A7.285 7.285 0 0 1 8.349 12.5c.846.397 1.589.921 2.22 1.588A7.607 7.607 0 0 1 12 16.267a7.607 7.607 0 0 1 1.43-2.179 7.284 7.284 0 0 1 2.221-1.588 7.284 7.284 0 0 1-2.22-1.588A7.608 7.608 0 0 1 12 8.734Z"});const mU=e=>!r.IS_E2E&&r.IS_NATIVE&&function(e,t){if(!t)return!1;const s=Date.parse(e);return new Date(t).getTime()<s}("2026-02-05T00:00:00.000Z",e.currentProfile.createdAt);function hU(){const e=(0,n.c)(59),t=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),a=(0,lt.useContext)(fU),i=Qs.useDialogControl();let l;Qs.useAutoOpen(i),e[0]!==a?(l=()=>{a.dismissActiveNux()},e[0]=a,e[1]=l):l=e[1];const c=l;let d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V;return e[2]===Symbol.for("react.memo_cache_sentinel")?(d={preventExpansion:!0},e[2]=d):d=e[2],e[3]!==t.palette.primary_400?(u=(0,bt.jsx)(Qs.Handle,{fill:t.palette.primary_400}),e[3]=t.palette.primary_400,e[4]=u):u=e[4],e[5]!==o?(m=o({id:"R34vNF"}),e[5]=o,e[6]=m):m=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(h=[(0,qs.web)({maxWidth:440})],p=[{paddingTop:0,paddingLeft:0,paddingRight:0}],e[7]=h,e[8]=p):(h=e[7],p=e[8]),e[9]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.align_center,qs.atoms.overflow_hidden,{paddingTop:r.IS_WEB?24:40,borderTopLeftRadius:qs.atoms.rounded_md.borderRadius,borderTopRightRadius:qs.atoms.rounded_md.borderRadius}],e[9]=f):f=e[9],e[10]!==t.palette.primary_100||e[11]!==t.palette.primary_200?(g=[t.palette.primary_100,t.palette.primary_200],e[10]=t.palette.primary_100,e[11]=t.palette.primary_200,e[12]=g):g=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(y=[0,1],b={x:0,y:0},x={x:0,y:1},_=[qs.atoms.absolute,qs.atoms.inset_0],e[13]=x,e[14]=_,e[15]=y,e[16]=b):(x=e[13],_=e[14],y=e[15],b=e[16]),e[17]!==g?(j=(0,bt.jsx)(Lo.LinearGradient,{colors:g,locations:y,start:b,end:x,style:_}),e[17]=g,e[18]=j):j=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,{marginBottom:-12}],e[19]=v):v=e[19],e[20]!==t.palette.primary_800?(S=(0,bt.jsx)(uU,{fill:t.palette.primary_800,size:"sm"}),e[20]=t.palette.primary_800,e[21]=S):S=e[21],e[22]!==t.palette.primary_800?(w=[qs.atoms.font_semi_bold,{color:t.palette.primary_800}],e[22]=t.palette.primary_800,e[23]=w):w=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(dt.Trans,{id:"gdTBff"}),e[24]=T):T=e[24],e[25]!==w?(k=(0,bt.jsx)(co.Text,{style:w,children:T}),e[25]=w,e[26]=k):k=e[26],e[27]!==S||e[28]!==k?(C=(0,bt.jsxs)(Fs.default,{style:v,children:[S,k]}),e[27]=S,e[28]=k,e[29]=C):C=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(I=s(11352),e[30]=I):I=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(A=[qs.atoms.w_full,{aspectRatio:1.738938053097345}],e[31]=A):A=e[31],e[32]!==o?(P=o({id:"WqbUOH"}),e[32]=o,e[33]=P):P=e[33],e[34]!==P?(E=(0,bt.jsx)(cn.Image,{accessibilityIgnoresInvertColors:!0,source:I,style:A,alt:P}),e[34]=P,e[35]=E):E=e[35],e[36]!==j||e[37]!==C||e[38]!==E?(L=(0,bt.jsxs)(Fs.default,{style:f,children:[j,C,E]}),e[36]=j,e[37]=C,e[38]=E,e[39]=L):L=e[39],e[40]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.align_center,qs.atoms.px_xl,qs.atoms.pt_xl,qs.atoms.gap_2xl,qs.atoms.pb_sm],e[40]=R):R=e[40],e[41]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.gap_sm,qs.atoms.align_center],e[41]=B):B=e[41],e[42]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_3xl,qs.atoms.leading_tight,qs.atoms.font_bold,qs.atoms.text_center,{fontSize:r.IS_WEB?28:32,maxWidth:300}],children:(0,bt.jsx)(dt.Trans,{id:"M8kJqa"})}),e[42]=D):D=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsxs)(Fs.default,{style:B,children:[D,(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.text_center,{maxWidth:340}],children:(0,bt.jsx)(dt.Trans,{id:"fB9Luy"})})]}),e[43]=O):O=e[43],e[44]!==o||e[45]!==i?(M=!r.IS_WEB&&(0,bt.jsx)(ao.Button,{label:o({id:"yz7wBu"}),size:"large",color:"primary",onPress:()=>i.close(),style:[qs.atoms.w_full],children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"9LcmDr"})})}),e[44]=o,e[45]=i,e[46]=M):M=e[46],e[47]!==M?(F=(0,bt.jsxs)(Fs.default,{style:R,children:[O,M]}),e[47]=M,e[48]=F):F=e[48],e[49]===Symbol.for("react.memo_cache_sentinel")?(N=(0,bt.jsx)(Qs.Close,{}),e[49]=N):N=e[49],e[50]!==L||e[51]!==F||e[52]!==m?(H=(0,bt.jsxs)(Qs.ScrollableInner,{label:m,style:h,contentContainerStyle:p,children:[L,F,N]}),e[50]=L,e[51]=F,e[52]=m,e[53]=H):H=e[53],e[54]!==i||e[55]!==c||e[56]!==u||e[57]!==H?(V=(0,bt.jsxs)(Qs.Outer,{control:i,onClose:c,nativeOptions:d,children:[u,H]}),e[54]=i,e[55]=c,e[56]=u,e[57]=H,e[58]=V):V=e[58],V}const pU=[{id:Ii.DraftsAnnouncement,enabled:mU}],fU=(0,lt.createContext)({activeNux:void 0,dismissActiveNux:()=>{}});function gU(){const e=(0,n.c)(7),{currentAccount:t}=(0,Gt.useSession)(),{data:s}=(0,xr.usePreferencesQuery)(),o=t?.did;let a;e[0]!==o?(a={did:o,staleTime:yt.STALE.INFINITY},e[0]=o,e[1]=a):a=e[1];const{data:r}=(0,Ut.useProfileQuery)(a),i=(0,hs.useOnboardingState)().isActive||!t||!s||!r||!r.createdAt||"0001-01-01T00:00:00.000Z"===r.createdAt;let l;return e[2]!==t||e[3]!==i||e[4]!==s||e[5]!==r?(l=i?null:(0,bt.jsx)(xU,{currentAccount:t,currentProfile:r,preferences:s}),e[2]=t,e[3]=i,e[4]=s,e[5]=r,e[6]=l):l=e[6],l}function xU({currentAccount:e,currentProfile:t,preferences:s}){const o=(0,Xo.useAnalytics)(),a=(0,MC.useGeolocation)(),{nuxs:r}=Bi(),[i,l]=(0,lt.useState)((()=>function(){const e=Is.device.get(["lastNuxDialog"]);if(!e)return!1;const t=new Date(e),s=new Date;return!!(0,Na.simpleAreDatesEqual)(t,s)}())),[c,d]=(0,lt.useState)(),{mutateAsync:u}=Oi(),{mutate:m}=function(){const e=(0,n.c)(3),t=(0,On.useQueryClient)(),s=(0,Gt.useAgent)();let o;return e[0]!==s||e[1]!==t?(o={retry:3,mutationFn:async e=>{await s.bskyAppRemoveNuxs(e),await t.invalidateQueries({queryKey:xr.preferencesQueryKey})}},e[0]=s,e[1]=t,e[2]=o):o=e[2],(0,go.useMutation)(o)}(),h=(0,lt.useCallback)((()=>{Is.device.set(["lastNuxDialog"],(new Date).toISOString()),l(!0)}),[l]),p=(0,lt.useCallback)((()=>{c&&d(void 0)}),[c,d]);(0,lt.useEffect)((()=>{if(!i&&r)for(const{id:n,enabled:i}of pU){const l=r.find((e=>e.id===n));if((!l||!l.completed)&&(!i||i({features:o.features,currentAccount:e,currentProfile:t,preferences:s,geolocation:a}))){Mt.logger.debug(`NUX dialogs: activating '${n}' NUX`),d(n),h(),u({id:n,completed:!0,data:void 0}).catch((e=>{Mt.logger.error(`NUX dialogs: failed to upsert '${n}' NUX`,{safeMessage:e.message})}));break}}}),[o.features,r,i,h,u,e,t,s,a]);const f=(0,lt.useMemo)((()=>({activeNux:c,dismissActiveNux:p})),[c,p]);return(0,bt.jsx)(fU.Provider,{value:f,children:c===Ii.DraftsAnnouncement&&(0,bt.jsx)(hU,{})})}function _U(){const e=(0,n.c)(6),{signinDialogControl:t}=(0,Ks.useGlobalDialogsControlContext)();let s,o,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,bt.jsx)(Qs.Handle,{}),e[0]=s):s=e[0],e[1]!==t?(o=(0,bt.jsx)(yU,{control:t}),e[1]=t,e[2]=o):o=e[2],e[3]!==t||e[4]!==o?(a=(0,bt.jsxs)(Qs.Outer,{control:t,children:[s,o]}),e[3]=t,e[4]=o,e[5]=a):a=e[5],a}function yU(e){const t=(0,n.c)(50),s=(0,qs.useTheme)(),{_:o}=(0,dt.useLingui)(),{gtMobile:a}=(0,qs.useBreakpoints)(),{requestSwitchToAccount:i}=Ts(),l=(0,Gs.useCloseAllActiveElements)();let c;t[0]!==l||t[1]!==i?(c=()=>{l(),i({requestedAccount:"none"})},t[0]=l,t[1]=i,t[2]=c):c=t[2];const d=c;let u;t[3]!==l||t[4]!==i?(u=()=>{l(),i({requestedAccount:"new"})},t[3]=l,t[4]=i,t[5]=u):u=t[5];const m=u;let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O;return t[6]!==o?(h=o({id:"PiFjQA"}),t[6]=o,t[7]=h):h=t[7],t[8]!==a?(p=a?{width:"auto",maxWidth:420}:qs.atoms.w_full,t[8]=a,t[9]=p):p=t[9],t[10]!==p?(f=[p],t[10]=p,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=[!r.IS_NATIVE&&qs.atoms.p_2xl],t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.gap_sm,qs.atoms.pb_lg],_=(0,bt.jsx)(Av,{width:36}),t[13]=x,t[14]=_):(x=t[13],_=t[14]),t[15]===Symbol.for("react.memo_cache_sentinel")?(y={paddingTop:6},t[15]=y):y=t[15],t[16]!==s.atoms.text.color?(b=(0,bt.jsxs)(Fs.default,{style:x,children:[_,(0,bt.jsx)(Fs.default,{style:y,children:(0,bt.jsx)(xk,{width:120,fill:s.atoms.text.color})})]}),t[16]=s.atoms.text.color,t[17]=b):b=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(j={maxWidth:300},t[18]=j):j=t[18],t[19]!==s.atoms.text?(v=[qs.atoms.text_lg,qs.atoms.text_center,s.atoms.text,qs.atoms.pb_2xl,qs.atoms.leading_snug,qs.atoms.mx_auto,j],t[19]=s.atoms.text,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(dt.Trans,{id:"2hzW+R"}),t[21]=S):S=t[21],t[22]!==v?(w=(0,bt.jsx)(co.Text,{style:v,children:S}),t[22]=v,t[23]=w):w=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.flex_col,qs.atoms.gap_md],t[24]=T):T=t[24],t[25]!==o?(k=o({id:"3T8ziB"}),t[25]=o,t[26]=k):k=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"3T8ziB"})}),t[27]=C):C=t[27],t[28]!==m||t[29]!==k?(I=(0,bt.jsx)(ao.Button,{variant:"solid",color:"primary",size:"large",onPress:m,label:k,children:C}),t[28]=m,t[29]=k,t[30]=I):I=t[30],t[31]!==o?(A=o({id:"5lWFkC"}),t[31]=o,t[32]=A):A=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"5lWFkC"})}),t[33]=P):P=t[33],t[34]!==d||t[35]!==A?(E=(0,bt.jsx)(ao.Button,{variant:"solid",color:"secondary",size:"large",onPress:d,label:A,children:P}),t[34]=d,t[35]=A,t[36]=E):E=t[36],t[37]!==I||t[38]!==E?(L=(0,bt.jsxs)(Fs.default,{style:T,children:[I,E]}),t[37]=I,t[38]=E,t[39]=L):L=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(R=r.IS_NATIVE&&(0,bt.jsx)(Fs.default,{style:{height:10}}),t[40]=R):R=t[40],t[41]!==b||t[42]!==w||t[43]!==L?(B=(0,bt.jsxs)(Fs.default,{style:g,children:[b,w,L,R]}),t[41]=b,t[42]=w,t[43]=L,t[44]=B):B=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(Qs.Close,{}),t[45]=D):D=t[45],t[46]!==B||t[47]!==h||t[48]!==f?(O=(0,bt.jsxs)(Qs.ScrollableInner,{label:h,style:f,children:[B,D]}),t[46]=B,t[47]=h,t[48]=f,t[49]=O):O=t[49],O}fU.displayName="NuxDialogContext";var bU=s(74011);const jU=s(50586);function vU({control:e}){const{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)(),{requestSwitchToAccount:o}=Ts(),{gtMobile:n}=(0,qs.useBreakpoints)(),[a,r]=(0,lt.useState)(!1),[i,l]=(0,lt.useState)(!1),c=t=>{r(!0),setTimeout((()=>{e.close(),t&&t()}),150)};(0,lt.useEffect)((()=>{e.isOpen&&s.metric("welcomeModal:presented",{})}),[e.isOpen]);return dn.useFocusGuards(),(0,bt.jsx)(Fs.default,{role:"dialog","aria-modal":!0,style:[qs.atoms.fixed,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center,{zIndex:9999,backgroundColor:"rgba(0,0,0,0.2)"},(0,qs.web)({backdropFilter:"blur(15px)"}),a?qs.atoms.fade_out:qs.atoms.fade_in],children:(0,bt.jsx)(un.FocusScope,{asChild:!0,loop:!0,trapped:!0,children:(0,bt.jsx)(Fs.default,{style:(0,qs.flatten)([{maxWidth:800,maxHeight:600,width:"90%",height:"90%",backgroundColor:"#C0DCF0"},qs.atoms.rounded_lg,qs.atoms.overflow_hidden,qs.atoms.zoom_in]),children:(0,bt.jsxs)(bU.ImageBackground,{source:jU,style:[qs.atoms.flex_1,qs.atoms.justify_center],contentFit:"cover",children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_2xl,qs.atoms.align_center,qs.atoms.p_4xl],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.w_full,qs.atoms.p_0],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(Av,{width:26}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.user_select_none,{color:"#354358",letterSpacing:-.5}],children:"Bluesky"})]})}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.gap_sm,qs.atoms.align_center,qs.atoms.pt_5xl,qs.atoms.pb_3xl,qs.atoms.mt_2xl],children:(0,bt.jsxs)(co.Text,{style:[n?qs.atoms.text_4xl:qs.atoms.text_3xl,qs.atoms.font_semi_bold,qs.atoms.text_center,{color:"#354358"},(0,qs.web)({backgroundImage:"linear-gradient(180deg, #313F54 0%, #667B99 83.65%, rgba(102, 123, 153, 0.50) 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent",lineHeight:1.2,letterSpacing:-.5})],children:[(0,bt.jsx)(dt.Trans,{id:"/JX/A2"}),"\n",(0,bt.jsx)(dt.Trans,{id:"H4s+Xp"}),"\n",(0,bt.jsx)(dt.Trans,{id:"iZyyjK"})]})}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md,qs.atoms.align_center],children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(ao.Button,{onPress:()=>{s.metric("welcomeModal:signupClicked",{}),e.close(),o({requestedAccount:"new"})},label:t({id:"1hMWR6"}),size:"large",color:"primary",style:{width:200,backgroundColor:"#006AFF"},children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"1hMWR6"})})}),(0,bt.jsx)(ao.Button,{onPress:()=>{s.metric("welcomeModal:exploreClicked",{}),c()},label:t({id:"5qvsXU"}),size:"large",color:"primary",variant:"ghost",style:[qs.atoms.bg_transparent,{width:200}],hoverStyle:[qs.atoms.bg_transparent],children:({hovered:e})=>(0,bt.jsx)(ao.ButtonText,{style:[e&&[qs.atoms.underline],{color:"#006AFF"}],children:(0,bt.jsx)(dt.Trans,{id:"5qvsXU"})})})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,{minWidth:200}],children:(0,bt.jsxs)(co.Text,{style:[qs.atoms.text_md,qs.atoms.text_center,{color:"#405168",lineHeight:24}],children:[(0,bt.jsx)(dt.Trans,{id:"8wYDMp"})," ",(0,bt.jsx)(ln.default,{onPointerEnter:()=>l(!0),onPointerLeave:()=>l(!1),accessibilityRole:"button",accessibilityLabel:t({id:"5lWFkC"}),accessibilityHint:"",children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_medium,{color:"#006AFF",fontSize:void 0},i&&qs.atoms.underline],onPress:()=>{s.metric("welcomeModal:signinClicked",{}),e.close(),o({requestedAccount:"existing"})},children:(0,bt.jsx)(dt.Trans,{id:"5lWFkC"})})})]})})]})]}),(0,bt.jsx)(ao.Button,{label:t({id:"fyI/WM"}),style:[qs.atoms.absolute,{top:8,right:8},qs.atoms.bg_transparent],hoverStyle:[qs.atoms.bg_transparent],onPress:()=>{s.metric("welcomeModal:dismissed",{}),c()},color:"secondary",size:"small",variant:"ghost",shape:"round",children:({hovered:e,pressed:t,focused:s})=>(0,bt.jsx)(hn.TimesLarge_Stroke2_Corner0_Rounded,{size:"md",style:{color:"#354358",opacity:e||t||s?1:.7}})})]})})})})}var SU=s(18560);const wU=[qs.atoms.text_md,qs.atoms.leading_snug];function TU(){const e=(0,qs.useTheme)(),{_:t}=(0,dt.useLingui)(),s=(0,Xo.useAnalytics)(),{gtPhone:o}=(0,qs.useBreakpoints)(),n=(0,ct.useSafeAreaInsets)(),a=(0,Qs.useDialogControl)(),{data:i}=(0,wE.useAgeAssuranceDataContext)(),l=(0,GC.useAgeAssuranceRegionConfig)(),c=(0,iB.useIsBirthdateUpdateAllowed)(),{logoutCurrentAccount:d}=(0,Gt.useSessionApi)(),u=uB(),m=(0,Fi.useAgeAssurance)(),h=m.state.status===m.Status.Blocked,p=!!l,f=void 0!==i?.declaredAge,g=c||(0,GC.isLegacyBirthdateBug)(i?.birthdate||"");(0,lt.useEffect)((()=>{s.metric("blockedGeoOverlay:shown",{}),s.metric("ageAssurance:noAccessScreen:shown",{accountCreatedAt:i?.accountCreatedAt||"unknown",isAARegion:p,hasDeclaredAge:f,canUpdateBirthday:g})}),[]);const x=(0,lt.useCallback)((()=>{r.IS_WEB&&history.pushState(null,"","/"),d("AgeAssuranceNoAccessScreen")}),[d]),_=(0,bt.jsx)(no.Admonition,{type:"tip",children:(0,bt.jsx)(dt.Trans,{id:"LxDk1Z"})}),y=g?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"tYRgCl",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,Object.assign({label:t({id:"/XsVR4"}),style:[wU]},(0,io.createStaticClick)((()=>{s.metric("ageAssurance:noAccessScreen:openBirthdateDialog",{}),a.open()}))))}})}),_]}):(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"bzKB39",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,{to:u({code:dB.AA_BIRTHDATE}),label:t({id:"xBd9x0"}),style:[wU]})}})});return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.util_screen_outer,qs.atoms.flex_1],children:(0,bt.jsx)(Vi.default,{contentContainerStyle:[qs.atoms.px_2xl,{paddingTop:r.IS_WEB?qs.atoms.p_5xl.padding:n.top+qs.atoms.p_2xl.padding,paddingBottom:100}],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.mx_auto,qs.atoms.w_full,(0,qs.web)({maxWidth:380,paddingTop:o?"8vh":void 0}),{gap:32}],children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_start],children:(0,bt.jsx)(SE.AgeAssuranceBadge,{})}),f?(0,bt.jsx)(bt.Fragment,{children:p?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"OzqVdL"})}),(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"0ssEYu"})}),!m.flags.isOverRegionMinAccessAge&&(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"xZFNnS"})}),!h&&y]}),m.flags.isOverRegionMinAccessAge&&(0,bt.jsx)(kU,{})]}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"QciFed"})}),y]})}):(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_lg],children:[(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"8jmpqy"})}),(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"NUziZP"})}),(0,bt.jsx)(co.Text,{style:[wU],children:(0,bt.jsx)(dt.Trans,{id:"Mf9Q1u"})}),(0,bt.jsx)(ao.Button,{color:"primary",size:"large",label:t({id:"/XsVR4"}),onPress:()=>a.open(),children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"XJ5HdA"})})}),_]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pt_lg,qs.atoms.gap_xl],children:[(0,bt.jsx)(Qg,{width:120,textFill:e.atoms.text.color}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.italic,e.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"lt4I+Q",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,Object.assign({label:t({id:"A0MD5P"})},(0,io.createStaticClick)((()=>{x()}))))}})})]})]})})}),(0,bt.jsx)(QM,{control:a}),(0,bt.jsx)(SU.BottomSheetOutlet,{}),(0,bt.jsx)(xI.Outlet,{})]})}function kU(){const e=(0,n.c)(38),t=(0,qs.useTheme)(),{_:s,i18n:o}=(0,dt.useLingui)(),a=(0,Xo.useAnalytics)(),i=(0,Qs.useDialogControl)(),l=Qs.useDialogControl(),c=Qs.useDialogControl(),d=(0,Vu.useGetTimeAgo)(),{setDeviceGeolocation:u}=(0,MC.useDeviceGeolocationApi)(),m=WM(),h=(0,Fi.useAgeAssurance)(),{status:p,lastInitiatedAt:f}=h.state,g=p===h.Status.Blocked,x=!!f;let _;e[0]!==d||e[1]!==f?(_=f?d(f,new Date):null,e[0]=d,e[1]=f,e[2]=_):_=e[2];const y=_;let b;e[3]!==f?(b=f?(0,Vu.dateDiff)(f,new Date,"down"):null,e[3]=f,e[4]=b):b=e[4];const j=b;let v,S,w,T,k,C,I,A,P;return e[5]!==i?(v=(0,bt.jsx)(_B,{control:i}),e[5]=i,e[6]=v):v=e[6],e[7]!==l?(S=(0,bt.jsx)(VM,{control:l}),e[7]=l,e[8]=S):S=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_xl],e[9]=w):w=e[9],e[10]!==s||e[11]!==l||e[12]!==a||e[13]!==i||e[14]!==j||e[15]!==x||e[16]!==o||e[17]!==g||e[18]!==f||e[19]!==t||e[20]!==y?(T=g?(0,bt.jsx)(no.Admonition,{type:"warning",children:(0,bt.jsx)(dt.Trans,{id:"rSHUvw",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,Object.assign({label:s({id:"A83LVV"})},(0,io.createStaticClick)((()=>{l.open(),a.metric("ageAssurance:appealDialogOpen",{})}))))}})}):(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_md],children:[(0,bt.jsxs)(ao.Button,{label:s({id:"XnHyFh"}),size:"large",color:x?"secondary":"primary",onPress:()=>{i.open(),a.metric("ageAssurance:initDialogOpen",{hasInitiatedPreviously:x})},children:[(0,bt.jsx)(ao.ButtonIcon,{icon:ho.ShieldCheck_Stroke2_Corner0_Rounded}),(0,bt.jsx)(ao.ButtonText,{children:x?(0,bt.jsx)(dt.Trans,{id:"NAGk5g"}):(0,bt.jsx)(dt.Trans,{id:"XnHyFh"})})]}),f&&y&&j?(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.italic,t.atoms.text_contrast_medium],title:o.date(f,{dateStyle:"medium",timeStyle:"medium"}),children:0===j.value?(0,bt.jsx)(dt.Trans,{id:"YKYQVI"}):(0,bt.jsx)(dt.Trans,{id:"Q83iHn",values:{timeAgo:y}})}):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.italic,t.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"+Df1WK"})})]})}),e[10]=s,e[11]=l,e[12]=a,e[13]=i,e[14]=j,e[15]=x,e[16]=o,e[17]=g,e[18]=f,e[19]=t,e[20]=y,e[21]=T):T=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.gap_xs],e[22]=k):k=e[22],e[23]!==s||e[24]!==h.Access||e[25]!==m||e[26]!==c||e[27]!==u?(C=r.IS_NATIVE&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(no.Admonition,{children:(0,bt.jsx)(dt.Trans,{id:"v9+PSC",components:{0:(0,bt.jsx)(io.SimpleInlineLinkText,Object.assign({label:s({id:"+TMC6s"})},(0,io.createStaticClick)((()=>{c.open()}))))}})}),(0,bt.jsx)(FC,{control:c,onLocationAcquired:e=>{m(e.geolocation)!==h.Access.Full?(e.disableDialogAction(),e.setDialogError(s({id:"fTxCDR"}))):e.closeDialog((()=>{u(e.geolocation),Pd.show(s({id:"JveX4q"}),{type:"success"})}))}})]}),e[23]=s,e[24]=h.Access,e[25]=m,e[26]=c,e[27]=u,e[28]=C):C=e[28],e[29]!==C?(I=(0,bt.jsx)(Fs.default,{style:k,children:C}),e[29]=C,e[30]=I):I=e[30],e[31]!==T||e[32]!==I?(A=(0,bt.jsxs)(Fs.default,{style:w,children:[T,I]}),e[31]=T,e[32]=I,e[33]=A):A=e[33],e[34]!==v||e[35]!==S||e[36]!==A?(P=(0,bt.jsxs)(bt.Fragment,{children:[v,S,A]}),e[34]=v,e[35]=S,e[36]=A,e[37]=P):P=e[37],P}var CU=s(2691);function IU(){const e=(0,n.c)(4),t=(0,Xo.useAnalytics)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s="active"===(0,$i.getCurrentState)()?performance.now():null,e[0]=s):s=e[0];const o=(0,lt.useRef)(s);let a,r;return e[1]!==t?(a=()=>{const e=(0,$i.onAppStateChange)((e=>{"active"===e?(o.current=performance.now(),t.metric("state:foreground",{})):null!==o.current&&t.metric("state:background",{secondsActive:Math.round((performance.now()-o.current)/1e3)})}));return()=>e.remove()},r=[t],e[1]=t,e[2]=a,e[3]=r):(a=e[2],r=e[3]),(0,lt.useEffect)(a,r),null}var AU=s(67121),PU=s(89070),EU=s(31337);function LU(e){const t=(0,n.c)(59),{replyTo:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),{embed:r}=s,[i,l]=(0,lt.useState)(!1);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{l(RU),qr.default.configureNext({duration:350,update:{type:"spring",springDamping:.7}})},t[0]=c):c=t[0];const d=c;let u;u=Dn.AppBskyEmbedRecord.isView(r)&&Dn.AppBskyEmbedRecord.isViewRecord(r.record)&&Dn.AppBskyFeedPost.isRecord(r.record.value)?r:Dn.AppBskyEmbedRecordWithMedia.isView(r)&&Dn.AppBskyEmbedRecord.isViewRecord(r.record.record)&&Dn.AppBskyFeedPost.isRecord(r.record.record.value)?r.record:null;const m=u;let h;t[1]!==m?(h=m?(0,am.parseEmbed)(Object.assign({$type:"app.bsky.embed.record#view"},m)):null,t[1]=m,t[2]=h):h=t[2];const p=h;let f;f=Dn.AppBskyEmbedImages.isView(r)?r.images:Dn.AppBskyEmbedRecordWithMedia.isView(r)&&Dn.AppBskyEmbedImages.isView(r.media)?r.media.images:void 0;const g=f;let x;t[3]!==s.author?(x={profile:s.author},t[3]=s.author,t[4]=x):x=t[4];const _=(0,Nu.useSimpleVerificationState)(x),y=o.atoms.border_contrast_medium;let b,j,v,S;t[5]===Symbol.for("react.memo_cache_sentinel")?(b=(0,qs.web)(qs.atoms.user_select_text),t[5]=b):b=t[5],t[6]!==o.atoms.border_contrast_medium?(j=[qs.atoms.flex_row,qs.atoms.align_start,qs.atoms.pt_xs,qs.atoms.pb_lg,qs.atoms.mb_md,qs.atoms.mx_lg,qs.atoms.border_b,y,b],t[6]=o.atoms.border_contrast_medium,t[7]=j):j=t[7],t[8]!==a?(v=a({id:"gPnu2e"}),t[8]=a,t[9]=v):v=t[9],t[10]!==s.moderation?(S=s.moderation?.ui("avatar"),t[10]=s.moderation,t[11]=S):S=t[11];const w=s.author.associated?.labeler?"labeler":"user";let T,k,C,I,A,P,E,L,R,B,D,O;t[12]!==s.author||t[13]!==S||t[14]!==w?(T=(0,bt.jsx)(Gi.PreviewableUserAvatar,{size:42,profile:s.author,moderation:S,type:w,disableNavigation:!0}),t[12]=s.author,t[13]=S,t[14]=w,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.flex_1,qs.atoms.pl_md,qs.atoms.pr_sm,qs.atoms.gap_2xs],t[16]=k):k=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(C=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.pr_xs],t[17]=C):C=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.font_semi_bold,qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.flex_shrink],t[18]=I):I=t[18],t[19]!==s.author.displayName||t[20]!==s.author.handle?(A=s.author.displayName||(0,Fa.sanitizeHandle)(s.author.handle),t[19]=s.author.displayName,t[20]=s.author.handle,t[21]=A):A=t[21],t[22]!==A?(P=(0,Ma.sanitizeDisplayName)(A),t[22]=A,t[23]=P):P=t[23],t[24]!==P?(E=(0,bt.jsx)(co.Text,{style:I,numberOfLines:1,emoji:!0,children:P}),t[24]=P,t[25]=E):E=t[25],t[26]!==_.role||t[27]!==_.showBadge?(L=_.showBadge&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.pl_xs],children:(0,bt.jsx)(Hu.VerificationCheck,{width:14,verifier:"verifier"===_.role})}),t[26]=_.role,t[27]=_.showBadge,t[28]=L):L=t[28],t[29]!==E||t[30]!==L?(R=(0,bt.jsxs)(Fs.default,{style:C,children:[E,L]}),t[29]=E,t[30]=L,t[31]=R):R=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.flex_row,qs.atoms.gap_md],t[32]=B):B=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.flex_1,qs.atoms.flex_grow],t[33]=D):D=t[33],t[34]!==o.atoms.text_contrast_high?(O=[qs.atoms.text_md,qs.atoms.leading_snug,o.atoms.text_contrast_high],t[34]=o.atoms.text_contrast_high,t[35]=O):O=t[35];const M=i?void 0:6;let F,N,H,V,z,U;return t[36]!==s.text||t[37]!==O||t[38]!==M?(F=(0,bt.jsx)(Fs.default,{style:D,children:(0,bt.jsx)(co.Text,{style:O,numberOfLines:M,emoji:!0,children:s.text})}),t[36]=s.text,t[37]=O,t[38]=M,t[39]=F):F=t[39],t[40]!==g||t[41]!==s.moderation||t[42]!==i?(N=g&&!s.moderation?.ui("contentMedia").blur&&(0,bt.jsx)(BU,{images:g,showFull:i}),t[40]=g,t[41]=s.moderation,t[42]=i,t[43]=N):N=t[43],t[44]!==F||t[45]!==N?(H=(0,bt.jsxs)(Fs.default,{style:B,children:[F,N]}),t[44]=F,t[45]=N,t[46]=H):H=t[46],t[47]!==p||t[48]!==i?(V=i&&p&&"post"===p.type&&(0,bt.jsx)(rp,{embed:p}),t[47]=p,t[48]=i,t[49]=V):V=t[49],t[50]!==R||t[51]!==H||t[52]!==V?(z=(0,bt.jsxs)(Fs.default,{style:k,children:[R,H,V]}),t[50]=R,t[51]=H,t[52]=V,t[53]=z):z=t[53],t[54]!==T||t[55]!==z||t[56]!==j||t[57]!==v?(U=(0,bt.jsxs)(ln.default,{style:j,onPress:d,accessibilityRole:"button",accessibilityLabel:v,accessibilityHint:"",children:[T,z]}),t[54]=T,t[55]=z,t[56]=j,t[57]=v,t[58]=U):U=t[58],U}function RU(e){return!e}function BU(e){const t=(0,n.c)(9),{images:s}=e;let o,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.rounded_xs,qs.atoms.overflow_hidden,qs.atoms.mt_2xs,qs.atoms.mx_xs,{height:64,width:64}],t[0]=o):o=t[0],t[1]!==s[0]||t[2]!==s[1]||t[3]!==s[2]||t[4]!==s[3]||t[5]!==s.length?(a=1===s.length&&(0,bt.jsx)(cn.Image,{source:{uri:s[0].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})||2===s.length&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_2xs],children:[(0,bt.jsx)(cn.Image,{source:{uri:s[0].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,bt.jsx)(cn.Image,{source:{uri:s[1].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})||3===s.length&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_2xs],children:[(0,bt.jsx)(cn.Image,{source:{uri:s[0].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs],children:[(0,bt.jsx)(cn.Image,{source:{uri:s[1].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,bt.jsx)(cn.Image,{source:{uri:s[2].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})]})||4===s.length&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.gap_2xs],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_2xs],children:[(0,bt.jsx)(cn.Image,{source:{uri:s[0].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,bt.jsx)(cn.Image,{source:{uri:s[1].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]}),(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.gap_2xs],children:[(0,bt.jsx)(cn.Image,{source:{uri:s[2].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,bt.jsx)(cn.Image,{source:{uri:s[3].thumb},style:[qs.atoms.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})]}),t[1]=s[0],t[2]=s[1],t[3]=s[2],t[4]=s[3],t[5]=s.length,t[6]=a):a=t[6],t[7]!==a?(r=(0,bt.jsx)(Fs.default,{style:o,children:a}),t[7]=a,t[8]=r):r=t[8],r}const DU=(0,ti.createSinglePathSVG)({viewBox:"0 0 64 64",path:"M32.457 7c1.68 0 3.29.668 4.478 1.855L49.813 21.73a6.33 6.33 0 0 1 1.854 4.479v24.458A6.333 6.333 0 0 1 45.333 57H18.666a6.334 6.334 0 0 1-6.333-6.333V13.333A6.334 6.334 0 0 1 18.666 7h13.791ZM18.666 9a4.334 4.334 0 0 0-4.333 4.333v37.334A4.334 4.334 0 0 0 18.666 55h26.667a4.333 4.333 0 0 0 4.333-4.333V26.209c0-.418-.061-.829-.177-1.223a1 1 0 0 1-.155.014H40a6.334 6.334 0 0 1-6.325-6.008l-.008-.326V9.333q0-.08.013-.156A4.3 4.3 0 0 0 32.457 9H18.666Zm18.627 22.293a1 1 0 1 1 1.414 1.414L33.414 38l5.293 5.293a1 1 0 1 1-1.414 1.414L32 39.414l-5.293 5.293a1 1 0 1 1-1.414-1.414L30.586 38l-5.293-5.293a1 1 0 1 1 1.414-1.414L32 36.586l5.293-5.293Zm-1.626-12.627.006.224A4.333 4.333 0 0 0 40 23h8.253L35.667 10.414v8.252Z"});var OU=s(7779),MU=s(47797);const FU="Android",NU="iOS",HU="Web";function VU(){const e=MU.deviceName;return r.IS_ANDROID?e||FU:r.IS_IOS?e||NU:HU}const zU=Mt.Logger.create(Mt.Logger.Context.Drafts);var UU=s(35407);const WU=(0,UU.createStore)("bsky-draft-media","media");async function GU(e,t){let s;try{s=await async function(e){if(e.startsWith("data:"))return(await fetch(e)).blob();if(e.startsWith("blob:"))try{return(await fetch(e)).blob()}catch(s){throw zU.error("Failed to fetch blob URL - it may have been revoked",{error:s,sourcePath:e}),s}const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch media: ${t.status}`);return t.blob()}(t)}catch(o){throw zU.error("Failed to convert source to blob",{error:o,localRefPath:e,sourcePath:t}),o}try{await(0,UU.set)(e,{blob:s,createdAt:(new Date).toISOString()},WU),ZU.set(e,!0)}catch(o){throw zU.error("Failed to save media to IndexedDB",{error:o,localRefPath:e}),o}}const qU=new Set;async function QU(e){const t=await(0,UU.get)(e,WU);if(!t)throw new Error(`Media file not found: ${e}`);const s=URL.createObjectURL(t.blob);return zU.debug("Created blob URL",{url:s}),qU.add(s),s}async function KU(e){await(0,UU.del)(e,WU),ZU.delete(e)}const ZU=new Map;let YU=!1,$U=null;function XU(e){return ZU.has(e)?ZU.get(e):(YU||$U||($U=JU()),!1)}async function JU(){try{const e=await(0,UU.keys)(WU);for(const t of e)ZU.set(t,!0);YU=!0}catch(e){zU.warn("Failed to populate media cache",{error:e})}}function eW(e){const t=(0,n.c)(83),{draft:s,onSelect:o,onDelete:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),l=Zi.usePromptControl(),c=s.posts[0],d=!s.meta.isOriginatingDevice&&s.meta.hasMissingMedia,u=s.meta.isOriginatingDevice&&s.meta.hasMissingMedia,m=s.meta.replyCount>0||d||s.meta.hasQuotes;let h;e:{switch(s.draft.deviceName){case NU:case FU:case HU:h=!0;break e;default:h=!1}}const p=h;let f;t[0]!==s||t[1]!==a?(f=()=>{a(s)},t[0]=s,t[1]=a,t[2]=f):f=t[2];const g=f;let x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z;return t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.relative],t[3]=x):x=t[3],t[4]!==r?(_=r({id:"E8hwNt"}),t[4]=r,t[5]=_):_=t[5],t[6]!==r?(y=r({id:"lUwI+p"}),t[6]=r,t[7]=y):y=t[7],t[8]!==s||t[9]!==o?(b=()=>o(s),t[8]=s,t[9]=o,t[10]=b):b=t[10],t[11]!==i.atoms.bg.backgroundColor||t[12]!==i.atoms.bg_contrast_25.backgroundColor||t[13]!==i.atoms.border_contrast_low||t[14]!==i.atoms.border_contrast_medium||t[15]!==i.atoms.shadow_sm||t[16]!==i.name?(j=e=>{const{pressed:t,hovered:s}=e;return[qs.atoms.rounded_md,qs.atoms.border,i.atoms.shadow_sm,t||s?i.atoms.border_contrast_medium:i.atoms.border_contrast_low,{backgroundColor:(0,qs.select)(i.name,{light:i.atoms.bg.backgroundColor,dark:i.atoms.bg_contrast_25.backgroundColor,dim:i.atoms.bg_contrast_25.backgroundColor})}]},t[11]=i.atoms.bg.backgroundColor,t[12]=i.atoms.bg_contrast_25.backgroundColor,t[13]=i.atoms.border_contrast_low,t[14]=i.atoms.border_contrast_medium,t[15]=i.atoms.shadow_sm,t[16]=i.name,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=[qs.atoms.rounded_md,qs.atoms.overflow_hidden,qs.atoms.p_lg,qs.atoms.pb_md,qs.atoms.gap_sm,{paddingTop:20+qs.atoms.pt_md.paddingTop}],t[18]=v):v=t[18],t[19]!==c.text?(S=!!c.text.trim().length&&(0,bt.jsx)(Yi.RichText,{style:[qs.atoms.text_md,qs.atoms.leading_snug,qs.atoms.pointer_events_none],numberOfLines:8,value:c.text,enableTags:!0,disableMentionFacetValidation:!0}),t[19]=c.text,t[20]=S):S=t[20],t[21]!==d||t[22]!==c?(w=!d&&(0,bt.jsx)(sW,{post:c}),t[21]=d,t[22]=c,t[23]=w):w=t[23],t[24]!==r||t[25]!==s.draft.deviceName||t[26]!==s.meta.hasQuotes||t[27]!==s.meta.replyCount||t[28]!==m||t[29]!==p||t[30]!==d||t[31]!==u?(T=m&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.gap_xs],children:[d&&(0,bt.jsx)(tW,{icon:Cf.Warning_Stroke2_Corner0_Rounded,text:r(p?{id:"CAC2L3"}:{values:{0:s.draft.deviceName},id:"6ttijU"})}),u&&(0,bt.jsx)(tW,{display:"warning",icon:Cf.Warning_Stroke2_Corner0_Rounded,text:r({id:"ve4bRZ"})}),s.meta.hasQuotes&&(0,bt.jsx)(tW,{icon:rf,text:r({id:"8HFFRQ"})}),s.meta.replyCount>0&&(0,bt.jsx)(tW,{icon:gw,text:Et.i18n._({id:"rwxWeA",values:{0:s.meta.replyCount}})})]}),t[24]=r,t[25]=s.draft.deviceName,t[26]=s.meta.hasQuotes,t[27]=s.meta.replyCount,t[28]=m,t[29]=p,t[30]=d,t[31]=u,t[32]=T):T=t[32],t[33]!==w||t[34]!==T||t[35]!==S?(k=(0,bt.jsxs)(Fs.default,{style:v,children:[S,w,T]}),t[33]=w,t[34]=T,t[35]=S,t[36]=k):k=t[36],t[37]!==k||t[38]!==_||t[39]!==y||t[40]!==b||t[41]!==j?(C=(0,bt.jsx)(ln.default,{accessibilityRole:"button",accessibilityLabel:_,accessibilityHint:y,onPress:b,style:j,children:k}),t[37]=k,t[38]=_,t[39]=y,t[40]=b,t[41]=j,t[42]=C):C=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(I=[qs.atoms.absolute,qs.atoms.pointer_events_none,{top:qs.atoms.pt_md.paddingTop,left:qs.atoms.pl_lg.paddingLeft}],t[43]=I):I=t[43],t[44]!==i.atoms.text_contrast_medium?(A=e=>{const{timeElapsed:t}=e;return(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,i.atoms.text_contrast_medium,qs.atoms.leading_tight],numberOfLines:1,children:t})},t[44]=i.atoms.text_contrast_medium,t[45]=A):A=t[45],t[46]!==s.updatedAt||t[47]!==A?(P=(0,bt.jsx)(Fs.default,{pointerEvents:"none",style:I,children:(0,bt.jsx)(zu,{timestamp:s.updatedAt,children:A})}),t[46]=s.updatedAt,t[47]=A,t[48]=P):P=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.absolute,{top:qs.atoms.pt_md.paddingTop,right:qs.atoms.pr_md.paddingRight}],t[49]=E):E=t[49],t[50]!==r?(L=r({id:"3Siwmw"}),t[50]=r,t[51]=L):L=t[51],t[52]!==l?(R=e=>{e.stopPropagation(),l.open()},t[52]=l,t[53]=R):R=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(B=[qs.atoms.pointer,qs.atoms.rounded_full,{height:20,width:20}],t[54]=B):B=t[54],t[55]!==i.atoms.bg_contrast_100||t[56]!==i.atoms.bg_contrast_50||t[57]!==i.atoms.text_contrast_low.color||t[58]!==i.name?(D=e=>{const{pressed:t,hovered:s}=e;return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.rounded_full,{top:-4,bottom:-4,left:-4,right:-4,backgroundColor:t||s?(0,qs.select)(i.name,{light:i.atoms.bg_contrast_50.backgroundColor,dark:i.atoms.bg_contrast_100.backgroundColor,dim:i.atoms.bg_contrast_100.backgroundColor}):"transparent"}]}),(0,bt.jsx)(Qp,{width:16,fill:i.atoms.text_contrast_low.color,style:[qs.atoms.z_20]})]})},t[55]=i.atoms.bg_contrast_100,t[56]=i.atoms.bg_contrast_50,t[57]=i.atoms.text_contrast_low.color,t[58]=i.name,t[59]=D):D=t[59],t[60]!==L||t[61]!==R||t[62]!==D?(O=(0,bt.jsx)(Fs.default,{style:E,children:(0,bt.jsx)(ao.Button,{label:L,hitSlop:8,onPress:R,style:B,children:D})}),t[60]=L,t[61]=R,t[62]=D,t[63]=O):O=t[63],t[64]!==C||t[65]!==P||t[66]!==O?(M=(0,bt.jsxs)(Fs.default,{style:x,children:[C,P,O]}),t[64]=C,t[65]=P,t[66]=O,t[67]=M):M=t[67],t[68]!==r?(F=r({id:"ZErbHI"}),t[68]=r,t[69]=F):F=t[69],t[70]!==r?(N=r({id:"6RMCy5"}),t[70]=r,t[71]=N):N=t[71],t[72]!==r?(H=r({id:"bzSI52"}),t[72]=r,t[73]=H):H=t[73],t[74]!==l||t[75]!==g||t[76]!==F||t[77]!==N||t[78]!==H?(V=(0,bt.jsx)(Zi.Basic,{control:l,title:F,description:N,onConfirm:g,confirmButtonCta:H,confirmButtonColor:"negative"}),t[74]=l,t[75]=g,t[76]=F,t[77]=N,t[78]=H,t[79]=V):V=t[79],t[80]!==M||t[81]!==V?(z=(0,bt.jsxs)(bt.Fragment,{children:[M,V]}),t[80]=M,t[81]=V,t[82]=z):z=t[82],z}function tW(e){const t=(0,n.c)(17),{display:s,icon:o,text:a}=e,r=void 0===s?"info":s,i=(0,qs.useTheme)(),l=i.atoms.text_contrast_medium.color;let c,d;t[0]!==i.name?(c=(0,qs.select)(i.name,{light:"#C99A00",dark:"#FFC404",dim:"#FFC404"}),t[0]=i.name,t[1]=c):c=t[1],t[2]!==i.atoms.text_contrast_medium.color||t[3]!==c?(d={info:l,warning:c},t[2]=i.atoms.text_contrast_medium.color,t[3]=c,t[4]=d):d=t[4];const u=d[r];let m,h,p,f,g;return t[5]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],t[5]=m):m=t[5],t[6]!==o||t[7]!==u?(h=(0,bt.jsx)(o,{size:"sm",fill:u}),t[6]=o,t[7]=u,t[8]=h):h=t[8],t[9]!==u?(p=[qs.atoms.text_sm,qs.atoms.leading_tight,{color:u}],t[9]=u,t[10]=p):p=t[10],t[11]!==p||t[12]!==a?(f=(0,bt.jsx)(co.Text,{style:p,children:a}),t[11]=p,t[12]=a,t[13]=f):f=t[13],t[14]!==h||t[15]!==f?(g=(0,bt.jsxs)(Fs.default,{style:m,children:[h,f]}),t[14]=h,t[15]=f,t[16]=g):g=t[16],g}function sW({post:e}){const[t,s]=(0,lt.useState)([]),[o,n]=(0,lt.useState)();return(0,lt.useEffect)((()=>{!async function(){if(e.images&&e.images.length>0){const o=[];for(const s of e.images)try{const e=await QU(s.localPath);o.push({url:e,alt:s.altText||""})}catch(t){}s(o)}if(e.video?.exists&&e.video.localPath)try{const t=await QU(e.video.localPath);if(r.IS_WEB)n("yep, there's a video");else{zU.debug("generating thumbnail of ",{url:t});const e=await OU.getThumbnailAsync(t,{time:0,quality:.2});zU.debug("thumbnail generated",{thumbnail:e}),n(e.uri)}}catch(o){}}()}),[e.images,e.video]),0!==t.length||e.gif||e.video?(0,bt.jsxs)($b,{children:[t.map(((e,t)=>(0,bt.jsx)(Xb,{thumbnail:e.url,alt:e.alt},t))),e.gif&&(0,bt.jsx)(Jb,{thumbnail:e.gif.url,alt:e.gif.alt}),e.video&&o&&(0,bt.jsx)(ej,{thumbnail:r.IS_WEB?void 0:o,alt:e.video.altText})]}):null}var oW=s(20851);const nW="media.tenor.com";async function aW(e){const t=new Map,s=await Promise.all(e.thread.posts.map((e=>async function(e,t){const s={$type:"app.bsky.draft.defs#draftPost",text:e.richtext.text};e.labels.length>0&&(s.labels={$type:"com.atproto.label.defs#selfLabels",values:e.labels.map((e=>({val:e})))});if(e.embed.media)if("images"===e.embed.media.type)s.embedImages=function(e,t){return e.map((e=>{const s=e.transformed?.path||e.source.path,o=!!e.localRefPath,n=e.localRefPath||`image:${(0,Nd.nanoid)()}`;return t.set(n,s),zU.debug("serializing image",{localRefPath:n,isReusing:o,sourcePath:s}),{$type:"app.bsky.draft.defs#draftEmbedImage",localRef:{$type:"app.bsky.draft.defs#draftEmbedLocalRef",path:n},alt:e.alt||void 0}}))}(e.embed.media.images,t);else if("video"===e.embed.media.type){const o=await async function(e,t){if(!e.video)return;const s=e.video.mimeType||"video/mp4",o=au(s),n=`video:${s}:${(0,Nd.nanoid)()}.${o}`;t.set(n,e.video.uri);const a=[];for(const r of e.captions)if(r.lang){const e=await r.file.text();a.push({$type:"app.bsky.draft.defs#draftEmbedCaption",lang:r.lang,content:e})}return{$type:"app.bsky.draft.defs#draftEmbedVideo",localRef:{$type:"app.bsky.draft.defs#draftEmbedLocalRef",path:n},alt:e.altText||void 0,captions:a.length>0?a:void 0}}(e.embed.media.video,t);o&&(s.embedVideos=[o])}else if("gif"===e.embed.media.type){const t=function(e){const t=e.gif,s=t.media_formats.gif||t.media_formats.tinygif;if(!s?.url)return;const o=new URL(s.url);s.dims&&(o.searchParams.set("ww",String(s.dims[0])),o.searchParams.set("hh",String(s.dims[1])));e.alt&&o.searchParams.set("alt",e.alt);return{$type:"app.bsky.draft.defs#draftEmbedExternal",uri:o.toString()}}(e.embed.media);t&&(s.embedExternals=[t])}if(e.embed.quote){const t=await(0,A_.resolveLink)((0,Ik.createPublicAgent)(),e.embed.quote.uri);t&&"record"===t.type&&(s.embedRecords=[{$type:"app.bsky.draft.defs#draftEmbedRecord",record:{uri:t.record.uri,cid:t.record.cid}}])}e.embed.link&&!e.embed.media&&(s.embedExternals=[{$type:"app.bsky.draft.defs#draftEmbedExternal",uri:e.embed.link.uri}]);return s}(e,t))));return{draft:{$type:"app.bsky.draft.defs#draft",deviceId:(0,BM.getDeviceId)(),deviceName:VU().slice(0,100),posts:s,threadgateAllow:(0,oW.threadgateAllowUISettingToAllowRecordValue)(e.thread.threadgate),postgateEmbeddingRules:e.thread.postgate.embeddingRules&&e.thread.postgate.embeddingRules.length>0?e.thread.postgate.embeddingRules:void 0},localRefPaths:t}}function rW(e){try{const t=new URL(e);if(t.hostname!==nW)return;const s=parseInt(t.searchParams.get("hh")||"",10),o=parseInt(t.searchParams.get("ww")||"",10),n=t.searchParams.get("alt")||"";if(!s||!o)return;return t.searchParams.delete("ww"),t.searchParams.delete("hh"),t.searchParams.delete("alt"),{url:t.toString(),width:o,height:s,alt:n}}catch{return}}const iW=["drafts"];function lW(){const e=(0,n.c)(5),t=(0,Gt.useAgent)(),s=(0,Xo.useAnalytics)();let o,a;return e[0]!==t||e[1]!==s?(o=async e=>{const{pageParam:o}=e;await async function(){YU||($U||($U=JU()),await $U)}();const n=await t.app.bsky.draft.getDrafts({cursor:o});return{cursor:n.data.cursor,drafts:n.data.drafts.map((e=>function({view:e,analytics:t}){const s={isOriginatingDevice:e.draft.deviceId===(0,BM.getDeviceId)(),postCount:e.draft.posts.length,replyCount:e.draft.posts.length-1,hasMedia:!1,hasMissingMedia:!1,mediaCount:0,hasQuotes:!1,quoteCount:0},o=e.draft.posts.map(((e,t)=>{const o=[],n=[];let a;if(e.embedImages)for(const r of e.embedImages){s.mediaCount++,s.hasMedia=!0;const e=XU(r.localRef.path);e||(s.hasMissingMedia=!0),o.push({localPath:r.localRef.path,altText:r.alt||"",exists:e})}if(e.embedVideos)for(const r of e.embedVideos){s.mediaCount++,s.hasMedia=!0;const e=XU(r.localRef.path);e||(s.hasMissingMedia=!0),n.push({localPath:r.localRef.path,altText:r.alt||"",exists:e})}if(e.embedExternals)for(const r of e.embedExternals){const e=rW(r.uri);e&&(s.mediaCount++,s.hasMedia=!0,a=e)}return e.embedRecords&&e.embedRecords.length>0&&(s.quoteCount+=e.embedRecords.length,s.hasQuotes=!0),{id:`post-${t}`,text:e.text||"",images:o.length>0?o:void 0,video:n[0],gif:a}}));return s.isOriginatingDevice&&s.hasMissingMedia&&t.logger.warn("Draft is missing media on originating device",{}),{id:e.id,createdAt:e.createdAt,updatedAt:e.updatedAt,draft:e.draft,posts:o,meta:s}}({view:e,analytics:s})))}},e[0]=t,e[1]=s,e[2]=o):o=e[2],e[3]!==o?(a={queryKey:iW,queryFn:o,initialPageParam:void 0,getNextPageParam:cW},e[3]=o,e[4]=a):a=e[4],(0,Wa.useInfiniteQuery)(a)}function cW(e){return e.cursor||void 0}function dW(){const e=(0,n.c)(7),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)();let o,a,r;return e[0]!==t?(o=async e=>{const{composerState:s,existingDraftId:o}=e,{draft:n,localRefPaths:a}=await aW(s);let r;if(zU.debug("saving draft",{existingDraftId:o,localRefPathCount:a.size,originalLocalRefCount:s.originalLocalRefs?.size??0}),o)zU.debug("updating existing draft on server",{draftId:o}),await t.app.bsky.draft.updateDraft({draft:{id:o,draft:n}}),r=o;else{zU.debug("creating new draft on server");r=(await t.app.bsky.draft.createDraft({draft:n})).data.id,zU.debug("created new draft",{draftId:r})}return{draftId:r,localRefPaths:a,originalLocalRefs:s.originalLocalRefs}},e[0]=t,e[1]=o):o=e[1],e[2]!==s?(a=async e=>{const{draftId:t,localRefPaths:o,originalLocalRefs:n}=e;zU.debug("network save succeeded, processing local storage",{draftId:t});for(const[s,a]of o)XU(s)?zU.debug("skipping existing media file",{localRefPath:s}):(zU.debug("saving new media file",{localRefPath:s}),await GU(s,a));if(n){const e=new Set(o.keys());for(const t of n)e.has(t)||(zU.debug("deleting orphaned media file",{localRefPath:t}),await KU(t))}await s.invalidateQueries({queryKey:iW})},e[2]=s,e[3]=a):a=e[3],e[4]!==o||e[5]!==a?(r={mutationFn:o,onSuccess:a,onError:uW},e[4]=o,e[5]=a,e[6]=r):r=e[6],(0,go.useMutation)(r)}function uW(e){e instanceof Dn.AppBskyDraftCreateDraft.DraftLimitReachedError?zU.error("Draft limit reached",{safeMessage:e.message}):(0,Tn.isNetworkError)(e)||zU.error("Could not create draft (reason unknown)",{safeMessage:e.message})}function mW(e){zU.warn("Failed to clean up published draft",{safeMessage:e instanceof Error?e.message:String(e)})}function hW(e){const t=(0,n.c)(68),{control:s,onSelectDraft:o}=e,{_:a}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),{gtPhone:l}=(0,qs.useBreakpoints)(),c=(0,Xo.useAnalytics)(),{data:d,isLoading:u,hasNextPage:m,isFetchingNextPage:h,fetchNextPage:p}=lW(),{mutate:f}=function(){const e=(0,n.c)(7),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)();let o,a,r;return e[0]!==t?(o=async e=>{const{draftId:s}=e;await t.app.bsky.draft.deleteDraft({id:s})},e[0]=t,e[1]=o):o=e[1],e[2]!==s?(a=async(e,t)=>{const{draft:o}=t;for(const s of o.posts){if(s.embedImages)for(const e of s.embedImages)await KU(e.localRef.path);if(s.embedVideos)for(const e of s.embedVideos)await KU(e.localRef.path)}s.invalidateQueries({queryKey:iW})},e[2]=s,e[3]=a):a=e[3],e[4]!==o||e[5]!==a?(r={mutationFn:o,onSuccess:a},e[4]=o,e[5]=a,e[6]=r):r=e[6],(0,go.useMutation)(r)}();let g;t[0]!==d?.pages?(g=d?.pages.flatMap(fW)??[],t[0]=d?.pages,t[1]=g):g=t[1];const x=g,_=x.length,y=!u&&void 0!==d,b=(0,Qn.useCallOnce)();let j,v,S;t[2]!==c||t[3]!==_||t[4]!==y||t[5]!==b?(j=()=>{y&&b((()=>{c.metric("draft:listOpen",{draftCount:_})}))},v=[b,y,_,c],t[2]=c,t[3]=_,t[4]=y,t[5]=b,t[6]=j,t[7]=v):(j=t[6],v=t[7]),(0,lt.useEffect)(j,v),t[8]!==s||t[9]!==o?(S=e=>{Ws.default.dismiss(),s.close((()=>{o(e)}))},t[8]=s,t[9]=o,t[10]=S):S=t[10];const w=S;let T;t[11]!==c||t[12]!==f?(T=e=>{const t=Date.now()-new Date(e.createdAt).getTime();c.metric("draft:delete",{logContext:"DraftsList",draftAgeMs:t}),f({draftId:e.id,draft:e.draft})},t[11]=c,t[12]=f,t[13]=T):T=t[13];const k=T;let C;t[14]!==a||t[15]!==s?(C=()=>(0,bt.jsx)(ao.Button,{label:a({id:"iH8pgl"}),onPress:()=>s.close(),size:"small",color:"primary",variant:"ghost",children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"iH8pgl"})})}),t[14]=a,t[15]=s,t[16]=C):C=t[16];const I=C;let A;t[17]!==l||t[18]!==k||t[19]!==w?(A=e=>{const{item:t}=e;return(0,bt.jsx)(Fs.default,{style:[l?[qs.atoms.px_md,qs.atoms.pt_md]:[qs.atoms.px_sm,qs.atoms.pt_sm]],children:(0,bt.jsx)(eW,{draft:t,onSelect:w,onDelete:k})})},t[17]=l,t[18]=k,t[19]=w,t[20]=A):A=t[20];const P=A;let E,L;t[21]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(Qs.HeaderText,{children:(0,bt.jsx)(dt.Trans,{id:"M8kJqa"})}),t[21]=E):E=t[21],t[22]!==I?(L=(0,bt.jsx)(Qs.Header,{renderLeft:I,children:E}),t[22]=I,t[23]=L):L=t[23];const R=L;let B;t[24]!==p||t[25]!==m||t[26]!==h?(B=()=>{m&&!h&&p()},t[24]=p,t[25]=m,t[26]=h,t[27]=B):B=t[27];const D=B;let O;e:{if(u){let e;t[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,bt.jsx)(Fs.default,{style:[qs.atoms.py_xl,qs.atoms.align_center],children:(0,bt.jsx)(lo.Loader,{size:"lg"})}),t[28]=e):e=t[28],O=e;break e}let e,s,o;t[29]!==a?(e=a({id:"bVfI4V"}),t[29]=a,t[30]=e):e=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(s=[qs.atoms.justify_center,{minHeight:500}],t[31]=s):s=t[31],t[32]!==e?(o=(0,bt.jsx)(pS.EmptyState,{icon:DU,message:e,style:s}),t[32]=e,t[33]=o):o=t[33],O=o}const M=O;let F,N,H,V;t[34]!==x.length||t[35]!==i.atoms?(F=x.length>5&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.align_center,qs.atoms.py_2xl],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_center,i.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"My+6o5"})})}),t[34]=x.length,t[35]=i.atoms,t[36]=F):F=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(N=[qs.atoms.border_transparent],t[37]=N):N=t[37],t[38]!==m||t[39]!==h?(H=(0,bt.jsx)(xS,{isFetchingNextPage:h,hasNextPage:m,style:N}),t[38]=m,t[39]=h,t[40]=H):H=t[40],t[41]!==F||t[42]!==H?(V=(0,bt.jsxs)(bt.Fragment,{children:[F,H]}),t[41]=F,t[42]=H,t[43]=V):V=t[43];const z=V,U=r.IS_NATIVE&&R;let W,G,q,Q,K,Z,Y,$,X;return t[44]!==R?(W=(0,qs.web)(R),t[44]=R,t[45]=W):W=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(G=(0,qs.web)([0]),t[46]=G):G=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(q=(0,qs.web)({minHeight:500}),t[47]=q):q=t[47],t[48]!==i.name||t[49]!==i.palette.contrast_0||t[50]!==i.palette.contrast_50?(Q=(0,qs.select)(i.name,{light:i.palette.contrast_50,dark:i.palette.contrast_0,dim:"#000000"}),t[48]=i.name,t[49]=i.palette.contrast_0,t[50]=i.palette.contrast_50,t[51]=Q):Q=t[51],t[52]!==Q?(K=[qs.atoms.px_0,q,{backgroundColor:Q}],t[52]=Q,t[53]=K):K=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(Z=[qs.atoms.py_0],Y=[qs.atoms.pb_xl],t[54]=Z,t[55]=Y):(Z=t[54],Y=t[55]),t[56]!==x||t[57]!==M||t[58]!==z||t[59]!==D||t[60]!==P||t[61]!==W||t[62]!==K?($=(0,bt.jsx)(Qs.InnerFlatList,{data:x,renderItem:P,keyExtractor:pW,ListHeaderComponent:W,stickyHeaderIndices:G,ListEmptyComponent:M,ListFooterComponent:z,onEndReached:D,onEndReachedThreshold:.5,style:K,webInnerContentContainerStyle:Z,contentContainerStyle:Y}),t[56]=x,t[57]=M,t[58]=z,t[59]=D,t[60]=P,t[61]=W,t[62]=K,t[63]=$):$=t[63],t[64]!==s||t[65]!==U||t[66]!==$?(X=(0,bt.jsxs)(Qs.Outer,{control:s,children:[U,$]}),t[64]=s,t[65]=U,t[66]=$,t[67]=X):X=t[67],X}function pW(e){return e.id}function fW(e){return e.drafts}function gW(e){const t=(0,n.c)(58),{onSelectDraft:s,onSaveDraft:o,onDiscard:a,isEmpty:r,isDirty:i,isEditingDraft:l,canSaveDraft:c,textLength:d}=e,{_:u}=(0,dt.useLingui)(),m=(0,Xo.useAnalytics)(),h=Qs.useDialogControl(),p=Zi.usePromptControl(),{isPending:f}=dW();let g;t[0]!==h||t[1]!==i||t[2]!==r||t[3]!==p?(g=()=>{r||!i?h.open():p.open()},t[0]=h,t[1]=i,t[2]=r,t[3]=p,t[4]=g):g=t[4];const x=g;let _;t[5]!==h||t[6]!==o?(_=async()=>{const{success:e}=await o();e&&h.open()},t[5]=h,t[6]=o,t[7]=_):_=t[7];const y=_;let b;t[8]!==m||t[9]!==h||t[10]!==r||t[11]!==a||t[12]!==d?(b=()=>{m.metric("draft:discard",{logContext:"BeforeDraftsList",hadContent:!r,textLength:d}),a(),h.open()},t[8]=m,t[9]=h,t[10]=r,t[11]=a,t[12]=d,t[13]=b):b=t[13];const j=b;let v,S,w,T,k,C,I,A,P,E,L,R,B,D,O;return t[14]!==u?(v=u({id:"M8kJqa"}),t[14]=u,t[15]=v):v=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.rounded_full,qs.atoms.py_sm,qs.atoms.px_md,qs.atoms.mx_xs],t[16]=S):S=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"M8kJqa"})}),t[17]=w):w=t[17],t[18]!==x||t[19]!==f||t[20]!==v?(T=(0,bt.jsx)(ao.Button,{label:v,variant:"ghost",color:"primary",shape:"default",size:"small",style:S,disabled:f,onPress:x,children:w}),t[18]=x,t[19]=f,t[20]=v,t[21]=T):T=t[21],t[22]!==h||t[23]!==s?(k=(0,bt.jsx)(hW,{control:h,onSelectDraft:s}),t[22]=h,t[23]=s,t[24]=k):k=t[24],t[25]!==c||t[26]!==l?(C=(0,bt.jsx)(Zi.Content,{children:(0,bt.jsx)(Zi.TitleText,{children:c?l?(0,bt.jsx)(dt.Trans,{id:"q5/C4G"}):(0,bt.jsx)(dt.Trans,{id:"rEMSvn"}):(0,bt.jsx)(dt.Trans,{id:"ZErbHI"})})}),t[25]=c,t[26]=l,t[27]=C):C=t[27],t[28]!==c||t[29]!==l?(I=(0,bt.jsx)(Zi.DescriptionText,{children:c?l?(0,bt.jsx)(dt.Trans,{id:"gGHeHt"}):(0,bt.jsx)(dt.Trans,{id:"L93fgw"}):(0,bt.jsx)(dt.Trans,{id:"y0PEls"})}),t[28]=c,t[29]=l,t[30]=I):I=t[30],t[31]!==u||t[32]!==c||t[33]!==y||t[34]!==l?(A=c&&(0,bt.jsx)(Zi.Action,{cta:u(l?{id:"y3aU20"}:{id:"vgpfCi"}),onPress:y,color:"primary"}),t[31]=u,t[32]=c,t[33]=y,t[34]=l,t[35]=A):A=t[35],t[36]!==u?(P=u({id:"bzSI52"}),t[36]=u,t[37]=P):P=t[37],t[38]!==j||t[39]!==P?(E=(0,bt.jsx)(Zi.Action,{cta:P,onPress:j,color:"negative_subtle"}),t[38]=j,t[39]=P,t[40]=E):E=t[40],t[41]!==u?(L=u({id:"4OjqAQ"}),t[41]=u,t[42]=L):L=t[42],t[43]!==L?(R=(0,bt.jsx)(Zi.Cancel,{cta:L}),t[43]=L,t[44]=R):R=t[44],t[45]!==A||t[46]!==E||t[47]!==R?(B=(0,bt.jsxs)(Zi.Actions,{children:[A,E,R]}),t[45]=A,t[46]=E,t[47]=R,t[48]=B):B=t[48],t[49]!==p||t[50]!==I||t[51]!==B||t[52]!==C?(D=(0,bt.jsxs)(Zi.Outer,{control:p,children:[C,I,B]}),t[49]=p,t[50]=I,t[51]=B,t[52]=C,t[53]=D):D=t[53],t[54]!==D||t[55]!==T||t[56]!==k?(O=(0,bt.jsxs)(bt.Fragment,{children:[T,k,D]}),t[54]=D,t[55]=T,t[56]=k,t[57]=O):O=t[57],O}var xW=s(30639);function _W(e){const t=(0,n.c)(15),{onRemove:s,style:o}=e,a=(0,qs.useTheme)(),{_:r}=(0,dt.useLingui)();let i,l,c,d,u,m,h;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i={top:8,right:8},t[0]=i):i=t[0],t[1]!==o?(l=[qs.atoms.absolute,i,qs.atoms.z_50,o],t[1]=o,t[2]=l):l=t[2],t[3]!==r?(c=r({id:"uowbPn"}),t[3]=r,t[4]=c):c=t[4],t[5]!==a.atoms.shadow_sm?(d=[a.atoms.shadow_sm],t[5]=a.atoms.shadow_sm,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded,size:"sm"}),t[7]=u):u=t[7],t[8]!==s||t[9]!==c||t[10]!==d?(m=(0,bt.jsx)(ao.Button,{label:c,onPress:s,size:"small",variant:"solid",color:"secondary",shape:"round",style:d,children:u}),t[8]=s,t[9]=c,t[10]=d,t[11]=m):m=t[11],t[12]!==l||t[13]!==m?(h=(0,bt.jsx)(Fs.default,{style:l,children:m}),t[12]=l,t[13]=m,t[14]=h):h=t[14],h}const yW=e=>{const t=(0,n.c)(19),{onRemove:s,gif:o}=e,a=(0,qs.useTheme)(),{data:r,error:i}=(0,xW.useResolveGifQuery)(o);let l;t[0]!==r?(l=r&&{title:r.title??r.uri,uri:r.uri,description:r.description??"",thumb:r.thumb?.source.path},t[0]=r,t[1]=l):l=t[1];const c=l;let d,u;{const e=o.media_formats.gif?.dims;e&&e[0]>0&&e[1]>0?d=e[0]/e[1]:d=1.7777777777777777}t[2]!==d?(u={aspectRatio:d,width:"100%"},t[2]=d,t[3]=u):u=t[3];const m=u;let h,p,f,g;return t[4]!==a.atoms.border_contrast_medium?(h=[qs.atoms.overflow_hidden,a.atoms.border_contrast_medium],t[4]=a.atoms.border_contrast_medium,t[5]=h):h=t[5],t[6]!==i||t[7]!==o.url||t[8]!==c||t[9]!==m||t[10]!==a.atoms.text_contrast_high||t[11]!==a.palette?(p=c?(0,bt.jsx)(Fs.default,{style:{pointerEvents:"auto"},children:(0,bt.jsx)(Em,{link:c,hideAlt:!0})}):i?(0,bt.jsxs)(jW,{style:[qs.atoms.align_start,qs.atoms.p_md,qs.atoms.gap_xs],children:[(0,bt.jsx)(co.Text,{numberOfLines:1,style:a.atoms.text_contrast_high,children:o.url}),(0,bt.jsx)(co.Text,{numberOfLines:2,style:[{color:a.palette.negative_400}],children:(0,Tn.cleanError)(i)})]}):(0,bt.jsx)(jW,{style:m,children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[6]=i,t[7]=o.url,t[8]=c,t[9]=m,t[10]=a.atoms.text_contrast_high,t[11]=a.palette,t[12]=p):p=t[12],t[13]!==s?(f=(0,bt.jsx)(_W,{onRemove:s}),t[13]=s,t[14]=f):f=t[14],t[15]!==h||t[16]!==p||t[17]!==f?(g=(0,bt.jsxs)(Fs.default,{style:h,children:[p,f]}),t[15]=h,t[16]=p,t[17]=f,t[18]=g):g=t[18],g},bW=e=>{const t=(0,n.c)(25),{uri:s,hasQuote:o,onRemove:a}=e,r=(0,qs.useTheme)(),{data:i,error:l}=(0,xW.useResolveLinkQuery)(s);let c;e:{if(i){if("external"===i.type){const e=i.title||s,o=i.thumb?.source.path;let n;t[0]!==i.description||t[1]!==e||t[2]!==o||t[3]!==s?(n=(0,bt.jsx)(Em,{link:{title:e,uri:s,description:i.description,thumb:o},hideAlt:!0}),t[0]=i.description,t[1]=e,t[2]=o,t[3]=s,t[4]=n):n=t[4],c=n;break e}if("feed"===i.kind){let e;t[5]!==i.view?(e=(0,bt.jsx)(Rm,{embed:{type:"feed",view:Object.assign({$type:"app.bsky.feed.defs#generatorView"},i.view)}}),t[5]=i.view,t[6]=e):e=t[6],c=e;break e}if("list"===i.kind){let e;t[7]!==i.view?(e=(0,bt.jsx)(ah,{embed:{type:"list",view:Object.assign({$type:"app.bsky.graph.defs#listView"},i.view)}}),t[7]=i.view,t[8]=e):e=t[8],c=e;break e}if("starter-pack"===i.kind){let e;t[9]!==i.view?(e=(0,bt.jsx)(nm.Embed,{starterPack:i.view}),t[9]=i.view,t[10]=e):e=t[10],c=e;break e}}c=void 0}const d=c;if("record"===i?.type&&o)return null;let u,m,h,p;return t[11]!==r.atoms.border_contrast_medium?(u=[qs.atoms.mb_xl,qs.atoms.overflow_hidden,r.atoms.border_contrast_medium],t[11]=r.atoms.border_contrast_medium,t[12]=u):u=t[12],t[13]!==l||t[14]!==d||t[15]!==r.atoms.text_contrast_high||t[16]!==r.palette||t[17]!==s?(m=d?(0,bt.jsx)(Fs.default,{style:{pointerEvents:"none"},children:d}):l?(0,bt.jsxs)(jW,{style:[qs.atoms.align_start,qs.atoms.p_md,qs.atoms.gap_xs],children:[(0,bt.jsx)(co.Text,{numberOfLines:1,style:r.atoms.text_contrast_high,children:s}),(0,bt.jsx)(co.Text,{numberOfLines:2,style:[{color:r.palette.negative_400}],children:(0,Tn.cleanError)(l)})]}):(0,bt.jsx)(jW,{children:(0,bt.jsx)(lo.Loader,{size:"xl"})}),t[13]=l,t[14]=d,t[15]=r.atoms.text_contrast_high,t[16]=r.palette,t[17]=s,t[18]=m):m=t[18],t[19]!==a?(h=(0,bt.jsx)(_W,{onRemove:a}),t[19]=a,t[20]=h):h=t[20],t[21]!==u||t[22]!==m||t[23]!==h?(p=(0,bt.jsxs)(Fs.default,{style:u,children:[m,h]}),t[21]=u,t[22]=m,t[23]=h,t[24]=p):p=t[24],p};function jW(e){const t=(0,n.c)(7),{style:s,children:o}=e,a=(0,qs.useTheme)();let r,i;return t[0]!==s||t[1]!==a.atoms.bg_contrast_25||t[2]!==a.atoms.border_contrast_medium?(r=[qs.atoms.rounded_sm,qs.atoms.border,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.py_5xl,a.atoms.bg_contrast_25,a.atoms.border_contrast_medium,s],t[0]=s,t[1]=a.atoms.bg_contrast_25,t[2]=a.atoms.border_contrast_medium,t[3]=r):r=t[3],t[4]!==o||t[5]!==r?(i=(0,bt.jsx)(Fs.default,{style:r,children:o}),t[4]=o,t[5]=r,t[6]=i):i=t[6],i}function vW(e){const t=(0,n.c)(11),{altText:s,children:o}=e,a=(0,qs.useTheme)();let r,i,l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.flex_row],t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(i=[qs.atoms.flex_col_reverse,qs.atoms.align_center,qs.atoms.mr_xs,{minWidth:50,gap:1}],l={marginRight:0},t[1]=i,t[2]=l):(i=t[1],l=t[2]),t[3]!==a.atoms.text_contrast_medium?(c=[l,qs.atoms.text_sm,a.atoms.text_contrast_medium],t[3]=a.atoms.text_contrast_medium,t[4]=c):c=t[4];const d=s?.length||0;let u,m;return t[5]!==c||t[6]!==d?(u=(0,bt.jsx)(hz.CharProgress,{style:i,textStyle:c,size:26,count:d,max:Vt.MAX_ALT_TEXT}),t[5]=c,t[6]=d,t[7]=u):u=t[7],t[8]!==o||t[9]!==u?(m=(0,bt.jsxs)(Fs.default,{style:r,children:[u,o]}),t[8]=o,t[9]=u,t[10]=m):m=t[10],m}const SW=e=>{const t=(0,n.c)(16),{control:s,image:o,onChange:a}=e,{height:r}=(0,Qr.default)(),[i,l]=lt.useState(o.alt);let c,d,u,m,h;return t[0]!==i||t[1]!==o||t[2]!==a?(c=()=>{a(Object.assign({},o,{alt:(0,Eu.enforceLen)(i,Vt.MAX_ALT_TEXT,!0)}))},t[0]=i,t[1]=o,t[2]=a,t[3]=c):c=t[3],t[4]!==r?(d={minHeight:r},t[4]=r,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(Qs.Handle,{}),t[6]=u):u=t[6],t[7]!==i||t[8]!==s||t[9]!==o?(m=(0,bt.jsx)(wW,{control:s,image:o,altText:i,setAltText:l}),t[7]=i,t[8]=s,t[9]=o,t[10]=m):m=t[10],t[11]!==s||t[12]!==c||t[13]!==d||t[14]!==m?(h=(0,bt.jsxs)(Qs.Outer,{control:s,onClose:c,nativeOptions:d,children:[u,m]}),t[11]=s,t[12]=c,t[13]=d,t[14]=m,t[15]=h):h=t[15],h},wW=e=>{const t=(0,n.c)(60),{altText:s,setAltText:o,control:a,image:i}=e,{_:l,i18n:c}=(0,dt.useLingui)(),d=(0,qs.useTheme)(),u=(0,Qr.default)(),[m]=Ek();let h;e:{const e=r.IS_WEB?450:u.width,s=i.transformed??i.source;if(s.height>s.width){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={resizeMode:"contain",width:"100%",aspectRatio:1,borderRadius:8},t[0]=e):e=t[0],h=e;break e}const o=e/s.width*s.height;let n;t[1]!==o?(n={width:"100%",height:o,borderRadius:8},t[1]=o,t[2]=n):n=t[2],h=n}const p=h;let f,g,x,_;t[3]!==l?(f=l({id:"LkA8jz"}),t[3]=l,t[4]=f):f=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(Qs.Close,{}),t[5]=g):g=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.leading_tight,qs.atoms.pb_sm],children:(0,bt.jsx)(dt.Trans,{id:"LkA8jz"})}),t[6]=x):x=t[6],t[7]!==d.atoms.bg_contrast_50?(_=[d.atoms.bg_contrast_50,qs.atoms.rounded_sm,qs.atoms.overflow_hidden],t[7]=d.atoms.bg_contrast_50,t[8]=_):_=t[8];const y=i.transformed??i.source;let b,j,v,S,w,T,k,C,I,A,P,E,L;t[9]!==y.path?(b={uri:y.path},t[9]=y.path,t[10]=b):b=t[10],t[11]!==p||t[12]!==b?(j=(0,bt.jsx)(cn.Image,{style:p,source:b,contentFit:"contain",accessible:!0,accessibilityIgnoresInvertColors:!0,enableLiveTextInteraction:!0,autoplay:!1}),t[11]=p,t[12]=b,t[13]=j):j=t[13],t[14]!==_||t[15]!==j?(v=(0,bt.jsxs)(Fs.default,{children:[x,(0,bt.jsx)(Fs.default,{style:_,children:j})]}),t[14]=_,t[15]=j,t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(S=[qs.atoms.mt_md,qs.atoms.gap_md],t[17]=S):S=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_sm],t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.relative,{width:"100%"}],t[19]=T):T=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"HgO4Y2"})}),t[20]=k):k=t[20],t[21]!==l?(C=l({id:"u/DP73"}),t[21]=l,t[22]=C):C=t[22],t[23]!==o?(I=e=>{o(e)},t[23]=o,t[24]=I):I=t[24],t[25]!==s||t[26]!==C||t[27]!==I?(A=(0,bt.jsxs)(Fs.default,{style:T,children:[k,(0,bt.jsx)(mo.Root,{children:(0,bt.jsx)(Qs.Input,{label:C,onChangeText:I,defaultValue:s,multiline:!0,numberOfLines:3,autoFocus:!0})})]}),t[25]=s,t[26]=C,t[27]=I,t[28]=A):A=t[28],t[29]!==s.length||t[30]!==c||t[31]!==d.atoms.text_contrast_medium||t[32]!==d.palette?(P=s.length>Vt.MAX_ALT_TEXT&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_sm,qs.atoms.flex_row,qs.atoms.gap_xs],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{fill:d.palette.negative_500}),(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.leading_snug,d.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"EIQemQ",values:{0:c.number(Vt.MAX_ALT_TEXT),MAX_ALT_TEXT:Vt.MAX_ALT_TEXT}})})]}),t[29]=s.length,t[30]=c,t[31]=d.atoms.text_contrast_medium,t[32]=d.palette,t[33]=P):P=t[33],t[34]!==A||t[35]!==P?(E=(0,bt.jsxs)(Fs.default,{style:w,children:[A,P]}),t[34]=A,t[35]=P,t[36]=E):E=t[36],t[37]!==l?(L=l({id:"tfDRzk"}),t[37]=l,t[38]=L):L=t[38];const R=s===i.alt;let B,D,O,M,F,N,H,V;return t[39]!==a?(B=()=>{a.close()},t[39]=a,t[40]=B):B=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.flex_grow],t[41]=D):D=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),t[42]=O):O=t[42],t[43]!==L||t[44]!==R||t[45]!==B?(M=(0,bt.jsx)(ao.Button,{label:L,disabled:R,size:"large",color:"primary",variant:"solid",onPress:B,style:D,children:O}),t[43]=L,t[44]=R,t[45]=B,t[46]=M):M=t[46],t[47]!==s||t[48]!==M?(F=(0,bt.jsx)(vW,{altText:s,children:M}),t[47]=s,t[48]=M,t[49]=F):F=t[49],t[50]!==E||t[51]!==F?(N=(0,bt.jsxs)(Fs.default,{style:S,children:[E,F]}),t[50]=E,t[51]=F,t[52]=N):N=t[52],t[53]!==m?(H=r.IS_ANDROID&&m?(0,bt.jsx)(Fs.default,{style:{height:300}}):null,t[53]=m,t[54]=H):H=t[54],t[55]!==f||t[56]!==N||t[57]!==H||t[58]!==v?(V=(0,bt.jsxs)(Qs.ScrollableInner,{label:f,children:[g,v,N,H]}),t[55]=f,t[56]=N,t[57]=H,t[58]=v,t[59]=V):V=t[59],V};let TW=e=>{const t=(0,n.c)(6),[s,o]=lt.useState();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{const{width:t,height:s}=e.nativeEvent.layout;o({width:t,height:s})},t[0]=a):a=t[0];const r=a;let i,l;return t[1]!==s||t[2]!==e?(i=s?(0,bt.jsx)(kW,Object.assign({},e,{containerInfo:s})):void 0,t[1]=s,t[2]=e,t[3]=i):i=t[3],t[4]!==i?(l=(0,bt.jsx)(Fs.default,{onLayout:r,children:i}),t[4]=i,t[5]=l):l=t[5],l};TW=lt.memo(TW);const kW=e=>{const t=(0,n.c)(20),{images:s,containerInfo:o,dispatch:a}=e,{isMobile:r}=(0,jn.useWebMediaQueries)(),i=1===s.length?250:(o.width-8*(s.length-1))/s.length,l=r&&s.length>2;let c,d,u,m;t[0]!==s.length||t[1]!==r||t[2]!==l?(c=l?{left:4,bottom:4}:!r&&s.length<3?{left:8,top:8}:{left:4,top:4},t[0]=s.length,t[1]=r,t[2]=l,t[3]=c):c=t[3],t[4]!==s.length||t[5]!==r||t[6]!==l?(d=Object.assign({display:"flex",flexDirection:"row",position:"absolute"},l?{top:4,right:4,gap:4}:!r&&s.length<3?{top:8,right:8,gap:8}:{top:4,right:4,gap:4},{zIndex:1}),t[4]=s.length,t[5]=r,t[6]=l,t[7]=d):d=t[7],t[8]!==i?(u={height:i,width:i},t[8]=i,t[9]=u):u=t[9],t[10]!==c||t[11]!==d||t[12]!==u?(m={altTextControlStyle:c,imageControlsStyle:d,imageStyle:u},t[10]=c,t[11]=d,t[12]=u,t[13]=m):m=t[13];const{altTextControlStyle:h,imageControlsStyle:p,imageStyle:f}=m;let g;return t[14]!==h||t[15]!==a||t[16]!==p||t[17]!==f||t[18]!==s?(g=0!==s.length?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{testID:"selectedPhotosView",style:AW.gallery,children:s.map((e=>(0,bt.jsx)(CW,{image:e,altTextControlStyle:h,imageControlsStyle:p,imageStyle:f,onChange:e=>{a({type:"embed_update_image",image:e})},onRemove:()=>{a({type:"embed_remove_image",image:e})}},e.source.id)))}),(0,bt.jsx)(IW,{})]}):null,t[14]=h,t[15]=a,t[16]=p,t[17]=f,t[18]=s,t[19]=g):g=t[19],g},CW=e=>{const t=(0,n.c)(64),{image:s,altTextControlStyle:o,imageControlsStyle:a,imageStyle:i,onChange:l,onRemove:c}=e,{_:d}=(0,dt.useLingui)(),u=(0,qs.useTheme)(),m=Qs.useDialogControl(),h=Qs.useDialogControl();let p;t[0]!==h||t[1]!==s||t[2]!==l?(p=()=>{r.IS_NATIVE?(0,zd.cropImage)(s).then((e=>{l(e)})):h.open()},t[0]=h,t[1]=s,t[2]=l,t[3]=p):p=t[3];const f=p;let g;t[4]!==m?(g=()=>{Ws.default.dismiss(),m.open()},t[4]=m,t[5]=g):g=t[5];const x=g,_=i;let y,b,j,v,S,w,T,k,C,I,A,P,E,L,R;t[6]!==d?(y=d({id:"LkA8jz"}),t[6]=d,t[7]=y):y=t[7],t[8]!==o?(b=[AW.altTextControl,o],t[8]=o,t[9]=b):b=t[9],t[10]!==s.alt.length||t[11]!==u.palette.white?(j=0!==s.alt.length?(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"check",size:10,style:{color:u.palette.white}}):(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"plus",size:10,style:{color:u.palette.white}}),t[10]=s.alt.length,t[11]=u.palette.white,t[12]=j):j=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(ua.Text,{style:AW.altTextControlLabel,accessible:!1,children:(0,bt.jsx)(dt.Trans,{id:"u2HO/d"})}),t[13]=v):v=t[13],t[14]!==x||t[15]!==y||t[16]!==b||t[17]!==j?(S=(0,bt.jsxs)(wn.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:y,accessibilityHint:"",onPress:x,style:b,children:[j,v]}),t[14]=x,t[15]=y,t[16]=b,t[17]=j,t[18]=S):S=t[18],t[19]!==d?(w=d({id:"XQFMOm"}),t[19]=d,t[20]=w):w=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(T=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"pen",size:12,style:{color:kn.colors.white}}),t[21]=T):T=t[21],t[22]!==f||t[23]!==w?(k=(0,bt.jsx)(wn.default,{testID:"editPhotoButton",accessibilityRole:"button",accessibilityLabel:w,accessibilityHint:"",onPress:f,style:AW.imageControl,children:T}),t[22]=f,t[23]=w,t[24]=k):k=t[24],t[25]!==d?(C=d({id:"5ywtDz"}),t[25]=d,t[26]=C):C=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"xmark",size:16,style:{color:kn.colors.white}}),t[27]=I):I=t[27],t[28]!==c||t[29]!==C?(A=(0,bt.jsx)(wn.default,{testID:"removePhotoButton",accessibilityRole:"button",accessibilityLabel:C,accessibilityHint:"",onPress:c,style:AW.imageControl,children:I}),t[28]=c,t[29]=C,t[30]=A):A=t[30],t[31]!==a||t[32]!==k||t[33]!==A?(P=(0,bt.jsxs)(Fs.default,{style:a,children:[k,A]}),t[31]=a,t[32]=k,t[33]=A,t[34]=P):P=t[34],t[35]!==d?(E=d({id:"LkA8jz"}),t[35]=d,t[36]=E):E=t[36],t[37]!==x||t[38]!==E?(L=(0,bt.jsx)(wn.default,{accessibilityRole:"button",accessibilityLabel:E,accessibilityHint:"",onPress:x,style:AW.altTextHiddenRegion}),t[37]=x,t[38]=E,t[39]=L):L=t[39],t[40]!==i?(R=[AW.image,i],t[40]=i,t[41]=R):R=t[41];const B=s.transformed??s.source;let D,O,M,F,N,H;return t[42]!==B.path?(D={uri:B.path},t[42]=B.path,t[43]=D):D=t[43],t[44]!==R||t[45]!==D?(O=(0,bt.jsx)(cn.Image,{testID:"selectedPhotoImage",style:R,source:D,accessible:!0,accessibilityIgnoresInvertColors:!0,cachePolicy:"none",autoplay:!1,contentFit:"cover"}),t[44]=R,t[45]=D,t[46]=O):O=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(M=(0,bt.jsx)(Mc.MediaInsetBorder,{}),t[47]=M):M=t[47],t[48]!==m||t[49]!==s||t[50]!==l?(F=(0,bt.jsx)(SW,{control:m,image:s,onChange:l}),t[48]=m,t[49]=s,t[50]=l,t[51]=F):F=t[51],t[52]!==h||t[53]!==s||t[54]!==l?(N=(0,bt.jsx)(My.EditImageDialog,{control:h,image:s,onChange:l}),t[52]=h,t[53]=s,t[54]=l,t[55]=N):N=t[55],t[56]!==P||t[57]!==L||t[58]!==O||t[59]!==F||t[60]!==N||t[61]!==_||t[62]!==S?(H=(0,bt.jsxs)(Fs.default,{style:_,renderToHardwareTextureAndroid:!0,children:[S,P,L,O,M,F,N]}),t[56]=P,t[57]=L,t[58]=O,t[59]=F,t[60]=N,t[61]=_,t[62]=S,t[63]=H):H=t[63],H};function IW(){const e=(0,n.c)(16),t=(0,qs.useTheme)();let s,o,a,r,i,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[AW.reminder],e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25?(o=[AW.infoIcon,t.atoms.bg_contrast_25],e[1]=t.atoms.bg_contrast_25,e[2]=o):o=e[2],e[3]!==t.atoms.text.color?(a=(0,bt.jsx)(wi.FontAwesomeIcon,{icon:"info",size:12,color:t.atoms.text.color}),e[3]=t.atoms.text.color,e[4]=a):a=e[4],e[5]!==o||e[6]!==a?(r=(0,bt.jsx)(Fs.default,{style:o,children:a}),e[5]=o,e[6]=a,e[7]=r):r=e[7],e[8]!==t.atoms.text_contrast_medium?(i=[t.atoms.text_contrast_medium,kn.s.flex1],e[8]=t.atoms.text_contrast_medium,e[9]=i):i=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"0QlT7/"}),e[10]=l):l=e[10],e[11]!==i?(c=(0,bt.jsx)(ua.Text,{type:"sm",style:i,children:l}),e[11]=i,e[12]=c):c=e[12],e[13]!==r||e[14]!==c?(d=(0,bt.jsxs)(Fs.default,{style:s,children:[r,c]}),e[13]=r,e[14]=c,e[15]=d):d=e[15],d}const AW=Os.default.create({gallery:{flex:1,flexDirection:"row",gap:8,marginTop:16},image:{borderRadius:qs.tokens.borderRadius.md},imageControl:{width:24,height:24,borderRadius:qs.tokens.borderRadius.md,backgroundColor:"rgba(0, 0, 0, 0.75)",alignItems:"center",justifyContent:"center"},altTextControl:{position:"absolute",zIndex:1,borderRadius:6,backgroundColor:"rgba(0, 0, 0, 0.75)",paddingHorizontal:8,paddingVertical:3,flexDirection:"row",alignItems:"center",gap:4},altTextControlLabel:{color:"white",fontSize:12,fontWeight:"600",letterSpacing:1},altTextHiddenRegion:{position:"absolute",left:4,right:4,bottom:4,top:30,zIndex:1},reminder:{flexDirection:"row",alignItems:"center",gap:8,borderRadius:8,paddingVertical:14},infoIcon:{width:22,height:22,borderRadius:12,alignItems:"center",justifyContent:"center"}});function PW(e){const t=(0,n.c)(10),{gif:s,altText:o,onSubmit:a}=e,{data:r}=(0,xW.useResolveGifQuery)(s),i=r?.description??"";let l;t[0]!==i?(l=(0,rm.parseAltFromGIFDescription)(i),t[0]=i,t[1]=l):l=t[1];const c=l.alt;let d;t[2]!==r?(d=r?(0,cm.parseEmbedPlayerFromUrl)(r.uri):void 0,t[2]=r,t[3]=d):d=t[3];const u=d;if(!r||!u)return null;const m=r.thumb?.source.path;let h;return t[4]!==o||t[5]!==a||t[6]!==u||t[7]!==m||t[8]!==c?(h=(0,bt.jsx)(EW,{altText:o,vendorAltText:c,thumb:m,params:u,onSubmit:a}),t[4]=o,t[5]=a,t[6]=u,t[7]=m,t[8]=c,t[9]=h):h=t[9],h}function EW(e){const t=(0,n.c)(36),{vendorAltText:s,altText:o,onSubmit:a,params:r,thumb:i}=e,l=Qs.useDialogControl(),{_:c}=(0,dt.useLingui)(),d=(0,qs.useTheme)(),[u,m]=(0,lt.useState)(o||s);let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C;return t[0]!==c?(h=c({id:"LkA8jz"}),t[0]=c,t[1]=h):h=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(p={top:8,left:8},f={borderRadius:6},t[2]=p,t[3]=f):(p=t[2],f=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.absolute,p,f,qs.atoms.pl_xs,qs.atoms.pr_sm,qs.atoms.py_2xs,qs.atoms.flex_row,qs.atoms.gap_xs,qs.atoms.align_center,{backgroundColor:"rgba(0, 0, 0, 0.75)"}],t[4]=g):g=t[4],t[5]!==o||t[6]!==d.palette.white?(x=o?(0,bt.jsx)(ro.Check_Stroke2_Corner0_Rounded,{size:"xs",fill:d.palette.white,style:qs.atoms.ml_xs}):(0,bt.jsx)(zg.PlusSmall_Stroke2_Corner0_Rounded,{size:"sm",fill:d.palette.white}),t[5]=o,t[6]=d.palette.white,t[7]=x):x=t[7],t[8]!==d.palette.white?(_=[qs.atoms.font_semi_bold,{color:d.palette.white}],t[8]=d.palette.white,t[9]=_):_=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(dt.Trans,{id:"u2HO/d"}),t[10]=y):y=t[10],t[11]!==_?(b=(0,bt.jsx)(co.Text,{style:_,accessible:!1,children:y}),t[11]=_,t[12]=b):b=t[12],t[13]!==l.open||t[14]!==h||t[15]!==x||t[16]!==b?(j=(0,bt.jsxs)(wn.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:h,accessibilityHint:"",hitSlop:Vt.HITSLOP_10,onPress:l.open,style:g,children:[x,b]}),t[13]=l.open,t[14]=h,t[15]=x,t[16]=b,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,bt.jsx)(IW,{}),t[18]=v):v=t[18],t[19]!==u||t[20]!==a?(S=()=>{a(u)},t[19]=u,t[20]=a,t[21]=S):S=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,bt.jsx)(Qs.Handle,{}),t[22]=w):w=t[22],t[23]!==u||t[24]!==l||t[25]!==r||t[26]!==i||t[27]!==s?(T=(0,bt.jsx)(LW,{vendorAltText:s,altText:u,onChange:m,thumb:i,control:l,params:r}),t[23]=u,t[24]=l,t[25]=r,t[26]=i,t[27]=s,t[28]=T):T=t[28],t[29]!==l||t[30]!==S||t[31]!==T?(k=(0,bt.jsxs)(Qs.Outer,{control:l,onClose:S,children:[w,T]}),t[29]=l,t[30]=S,t[31]=T,t[32]=k):k=t[32],t[33]!==k||t[34]!==j?(C=(0,bt.jsxs)(bt.Fragment,{children:[j,v,k]}),t[33]=k,t[34]=j,t[35]=C):C=t[35],C}function LW(e){const t=(0,n.c)(53),{vendorAltText:s,altText:o,onChange:a,control:i,params:l,thumb:c}=e,d=(0,qs.useTheme)(),{_:u,i18n:m}=(0,dt.useLingui)();let h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M;return t[0]!==u?(h=u({id:"LkA8jz"}),t[0]=u,t[1]=h):h=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.mt_md,qs.atoms.gap_md],t[2]=p):p=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.gap_sm],t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.relative],t[4]=g):g=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(mo.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"HgO4Y2"})}),t[5]=x):x=t[5],t[6]!==u?(_=u({id:"u/DP73"}),t[6]=u,t[7]=_):_=t[7],t[8]!==i?(y=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&i.close()},t[8]=i,t[9]=y):y=t[9],t[10]!==o||t[11]!==a||t[12]!==_||t[13]!==y||t[14]!==s?(b=(0,bt.jsxs)(Fs.default,{style:g,children:[x,(0,bt.jsx)(mo.Root,{children:(0,bt.jsx)(Qs.Input,{label:_,placeholder:s,onChangeText:a,defaultValue:o,multiline:!0,numberOfLines:3,autoFocus:!0,onKeyPress:y})})]}),t[10]=o,t[11]=a,t[12]=_,t[13]=y,t[14]=s,t[15]=b):b=t[15],t[16]!==o.length||t[17]!==m||t[18]!==d?(j=o.length>Vt.MAX_ALT_TEXT&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_sm,qs.atoms.flex_row,qs.atoms.gap_xs],children:[(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{fill:d.palette.negative_500}),(0,bt.jsx)(co.Text,{style:[qs.atoms.italic,qs.atoms.leading_snug,d.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"EIQemQ",values:{0:m.number(Vt.MAX_ALT_TEXT),MAX_ALT_TEXT:Vt.MAX_ALT_TEXT}})})]}),t[16]=o.length,t[17]=m,t[18]=d,t[19]=j):j=t[19],t[20]!==b||t[21]!==j?(v=(0,bt.jsxs)(Fs.default,{style:f,children:[b,j]}),t[20]=b,t[21]=j,t[22]=v):v=t[22],t[23]!==u?(S=u({id:"tfDRzk"}),t[23]=u,t[24]=S):S=t[24],t[25]!==i?(w=()=>{i.close()},t[25]=i,t[26]=w):w=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(T=[qs.atoms.flex_grow],t[27]=T):T=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"tfDRzk"})}),t[28]=k):k=t[28],t[29]!==S||t[30]!==w?(C=(0,bt.jsx)(ao.Button,{label:S,size:"large",color:"primary",variant:"solid",onPress:w,style:T,children:k}),t[29]=S,t[30]=w,t[31]=C):C=t[31],t[32]!==o||t[33]!==C?(I=(0,bt.jsx)(vW,{altText:o,children:C}),t[32]=o,t[33]=C,t[34]=I):I=t[34],t[35]!==v||t[36]!==I?(A=(0,bt.jsxs)(Fs.default,{style:p,children:[v,I]}),t[35]=v,t[36]=I,t[37]=A):A=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold,qs.atoms.leading_tight,qs.atoms.pb_sm],children:(0,bt.jsx)(dt.Trans,{id:"LkA8jz"})}),t[38]=P):P=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(E=[qs.atoms.align_center],t[39]=E):E=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(L=[{height:225}],t[40]=L):L=t[40],t[41]!==o||t[42]!==l||t[43]!==c?(R=(0,bt.jsxs)(Fs.default,{children:[P,(0,bt.jsx)(Fs.default,{style:E,children:(0,bt.jsx)(Pm,{thumb:c,altText:o,isPreferredAltText:!0,params:l,hideAlt:!0,style:L})})]}),t[41]=o,t[42]=l,t[43]=c,t[44]=R):R=t[44],t[45]!==A||t[46]!==R?(B=(0,bt.jsxs)(Fs.default,{style:qs.atoms.flex_col_reverse,children:[A,R]}),t[45]=A,t[46]=R,t[47]=B):B=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(Qs.Close,{}),O=r.IS_ANDROID?(0,bt.jsx)(Fs.default,{style:{height:300}}):null,t[48]=D,t[49]=O):(D=t[48],O=t[49]),t[50]!==h||t[51]!==B?(M=(0,bt.jsxs)(Qs.ScrollableInner,{label:h,children:[B,D,O]}),t[50]=h,t[51]=B,t[52]=M):M=t[52],M}function RW(e){const t=(0,n.c)(35),{labels:s,onChange:o}=e,a=Qs.useDialogControl(),{_:r}=(0,dt.useLingui)(),i=s.length>0;let l;t[0]!==s||t[1]!==o?(l=e=>{const t=e[e.length-1],n=s.filter(DW);o([...new Set([...n,t].filter(Boolean))])},t[0]=s,t[1]=o,t[2]=l):l=t[2];const c=l;let d;t[3]!==s||t[4]!==o?(d=e=>{const t=e[e.length-1],n=s.filter(BW);o([...new Set([...n,t].filter(Boolean))])},t[3]=s,t[4]=o,t[5]=d):d=t[5];const u=d;let m,h,p;t[6]!==a?(m=()=>{Ws.default.dismiss(),a.open()},t[6]=a,t[7]=m):m=t[7],t[8]!==r?(h=r({id:"FG7AQv"}),t[8]=r,t[9]=h):h=t[9],t[10]!==r?(p=r({id:"Xiwj77"}),t[10]=r,t[11]=p):p=t[11];const f=i?ro.Check_Stroke2_Corner0_Rounded:ho.Shield_Stroke2_Corner0_Rounded;let g,x,_,y,b,j,v,S,w;return t[12]!==f?(g=(0,bt.jsx)(ao.ButtonIcon,{icon:f}),t[12]=f,t[13]=g):g=t[13],t[14]!==s.length?(x=(0,bt.jsx)(ao.ButtonText,{numberOfLines:1,children:s.length>0?(0,bt.jsx)(dt.Trans,{id:"mQW6Jo"}):(0,bt.jsx)(dt.Trans,{id:"h8DugX"})}),t[14]=s.length,t[15]=x):x=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,bt.jsx)(ao.ButtonIcon,{icon:mn.TinyChevronBottom_Stroke2_Corner0_Rounded,size:"2xs"}),t[16]=_):_=t[16],t[17]!==m||t[18]!==h||t[19]!==p||t[20]!==g||t[21]!==x?(y=(0,bt.jsxs)(ao.Button,{color:"secondary",size:"small",testID:"labelsBtn",onPress:m,label:h,accessibilityHint:p,children:[g,x,_]}),t[17]=m,t[18]=h,t[19]=p,t[20]=g,t[21]=x,t[22]=y):y=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(b={preventExpansion:!0},j=(0,bt.jsx)(Qs.Handle,{}),t[23]=b,t[24]=j):(b=t[23],j=t[24]),t[25]!==s||t[26]!==c||t[27]!==u?(v=(0,bt.jsx)(OW,{labels:s,updateAdultLabels:c,updateOtherLabels:u}),t[25]=s,t[26]=c,t[27]=u,t[28]=v):v=t[28],t[29]!==a||t[30]!==v?(S=(0,bt.jsxs)(Qs.Outer,{control:a,nativeOptions:b,children:[j,v]}),t[29]=a,t[30]=v,t[31]=S):S=t[31],t[32]!==y||t[33]!==S?(w=(0,bt.jsxs)(bt.Fragment,{children:[y,S]}),t[32]=y,t[33]=S,t[34]=w):w=t[34],w}function BW(e){return!Wu.OTHER_SELF_LABELS.includes(e)}function DW(e){return!Wu.ADULT_CONTENT_LABELS.includes(e)}function OW(e){const t=(0,n.c)(100),{labels:s,updateAdultLabels:o,updateOtherLabels:a}=e,{_:i}=(0,dt.useLingui)(),l=Qs.useDialogContext(),c=(0,qs.useTheme)();let d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re;return t[0]!==i?(d=i({id:"fBBX+K"}),t[0]=i,t[1]=d):d=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[{maxWidth:500},qs.atoms.w_full],t[2]=u):u=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_1],t[3]=m):m=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_sm],t[4]=h):h=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_2xl,qs.atoms.font_semi_bold],children:(0,bt.jsx)(dt.Trans,{id:"fBBX+K"})}),t[5]=p):p=t[5],t[6]!==c.atoms.text_contrast_medium?(f=[c.atoms.text_contrast_medium,qs.atoms.leading_snug],t[6]=c.atoms.text_contrast_medium,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(dt.Trans,{id:"j00TMi"}),t[8]=g):g=t[8],t[9]!==f?(x=(0,bt.jsxs)(Fs.default,{style:h,children:[p,(0,bt.jsx)(co.Text,{style:f,children:g})]}),t[9]=f,t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.my_md,qs.atoms.gap_lg],t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.pb_sm],t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)(Fs.default,{style:y,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_lg],children:(0,bt.jsx)(dt.Trans,{id:"qLa52r"})})}),t[13]=b):b=t[13],t[14]!==c.atoms.border_contrast_medium?(j=[qs.atoms.p_md,qs.atoms.rounded_sm,qs.atoms.border,c.atoms.border_contrast_medium],t[14]=c.atoms.border_contrast_medium,t[15]=j):j=t[15],t[16]!==i?(v=i({id:"9KBGcu"}),t[16]=i,t[17]=v):v=t[17],t[18]!==o?(S=e=>{o(e)},t[18]=o,t[19]=S):S=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(w=[qs.atoms.gap_sm],t[20]=w):w=t[20],t[21]!==i?(T=i({id:"a4bYZx"}),t[21]=i,t[22]=T):T=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(k=(0,bt.jsx)(af.Checkbox,{}),t[23]=k):k=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(C=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"a4bYZx"})}),t[24]=C):C=t[24],t[25]!==T?(I=(0,bt.jsxs)(af.Item,{name:"sexual",label:T,children:[k,C]}),t[25]=T,t[26]=I):I=t[26],t[27]!==i?(A=i({id:"dGVIw+"}),t[27]=i,t[28]=A):A=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(af.Checkbox,{}),t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(E=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"dGVIw+"})}),t[30]=E):E=t[30],t[31]!==A?(L=(0,bt.jsxs)(af.Item,{name:"nudity",label:A,children:[P,E]}),t[31]=A,t[32]=L):L=t[32],t[33]!==i?(R=i({id:"6p4TZQ"}),t[33]=i,t[34]=R):R=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(B=(0,bt.jsx)(af.Checkbox,{}),t[35]=B):B=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(D=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"/e6ToU"})}),t[36]=D):D=t[36],t[37]!==R?(O=(0,bt.jsxs)(af.Item,{name:"porn",label:R,children:[B,D]}),t[37]=R,t[38]=O):O=t[38],t[39]!==I||t[40]!==L||t[41]!==O?(M=(0,bt.jsxs)(Fs.default,{style:w,children:[I,L,O]}),t[39]=I,t[40]=L,t[41]=O,t[42]=M):M=t[42],t[43]!==s||t[44]!==v||t[45]!==S||t[46]!==M?(F=(0,bt.jsx)(af.Group,{label:v,values:s,onChange:S,children:M}),t[43]=s,t[44]=v,t[45]=S,t[46]=M,t[47]=F):F=t[47],t[48]!==s||t[49]!==c.atoms.text_contrast_medium?(N=s.includes("sexual")||s.includes("nudity")||s.includes("porn")?(0,bt.jsx)(co.Text,{style:[qs.atoms.mt_sm,c.atoms.text_contrast_medium],children:s.includes("sexual")?(0,bt.jsx)(dt.Trans,{id:"VeZE5Q"}):s.includes("nudity")?(0,bt.jsx)(dt.Trans,{id:"EbvWd3"}):s.includes("porn")?(0,bt.jsx)(dt.Trans,{id:"HfWHhJ"}):""}):null,t[48]=s,t[49]=c.atoms.text_contrast_medium,t[50]=N):N=t[50],t[51]!==j||t[52]!==F||t[53]!==N?(H=(0,bt.jsxs)(Fs.default,{children:[b,(0,bt.jsxs)(Fs.default,{style:j,children:[F,N]})]}),t[51]=j,t[52]=F,t[53]=N,t[54]=H):H=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.pb_sm],t[55]=V):V=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(z=(0,bt.jsx)(Fs.default,{style:V,children:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_semi_bold,qs.atoms.text_lg],children:(0,bt.jsx)(dt.Trans,{id:"/IX/7x"})})}),t[56]=z):z=t[56],t[57]!==c.atoms.border_contrast_medium?(U=[qs.atoms.p_md,qs.atoms.rounded_sm,qs.atoms.border,c.atoms.border_contrast_medium],t[57]=c.atoms.border_contrast_medium,t[58]=U):U=t[58],t[59]!==i?(W=i({id:"9KBGcu"}),t[59]=i,t[60]=W):W=t[60],t[61]!==a?(G=e=>{a(e)},t[61]=a,t[62]=G):G=t[62],t[63]!==i?(q=i({id:"ZsLyQG"}),t[63]=i,t[64]=q):q=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,bt.jsx)(af.Checkbox,{}),t[65]=Q):Q=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(K=(0,bt.jsx)(af.LabelText,{children:(0,bt.jsx)(dt.Trans,{id:"ZsLyQG"})}),t[66]=K):K=t[66],t[67]!==q?(Z=(0,bt.jsxs)(af.Item,{name:"graphic-media",label:q,children:[Q,K]}),t[67]=q,t[68]=Z):Z=t[68],t[69]!==s||t[70]!==W||t[71]!==G||t[72]!==Z?(Y=(0,bt.jsx)(af.Group,{label:W,values:s,onChange:G,children:Z}),t[69]=s,t[70]=W,t[71]=G,t[72]=Z,t[73]=Y):Y=t[73],t[74]!==s||t[75]!==c.atoms.text_contrast_medium?($=s.includes("graphic-media")?(0,bt.jsx)(co.Text,{style:[qs.atoms.mt_sm,c.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"rGk7CY"})}):null,t[74]=s,t[75]=c.atoms.text_contrast_medium,t[76]=$):$=t[76],t[77]!==U||t[78]!==Y||t[79]!==$?(X=(0,bt.jsxs)(Fs.default,{children:[z,(0,bt.jsxs)(Fs.default,{style:U,children:[Y,$]})]}),t[77]=U,t[78]=Y,t[79]=$,t[80]=X):X=t[80],t[81]!==H||t[82]!==X?(J=(0,bt.jsxs)(Fs.default,{style:_,children:[H,X]}),t[81]=H,t[82]=X,t[83]=J):J=t[83],t[84]!==J||t[85]!==x?(ee=(0,bt.jsxs)(Fs.default,{style:m,children:[x,J]}),t[84]=J,t[85]=x,t[86]=ee):ee=t[86],t[87]===Symbol.for("react.memo_cache_sentinel")?(te=[qs.atoms.mt_sm,(0,qs.web)([qs.atoms.flex_row,qs.atoms.ml_auto])],t[87]=te):te=t[87],t[88]!==i?(se=i({id:"DPfwMq"}),t[88]=i,t[89]=se):se=t[89],t[90]!==l?(oe=()=>l.close(),t[90]=l,t[91]=oe):oe=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})}),t[92]=ne):ne=t[92],t[93]!==se||t[94]!==oe?(ae=(0,bt.jsx)(Fs.default,{style:te,children:(0,bt.jsx)(ao.Button,{label:se,onPress:oe,color:"primary",size:r.IS_WEB?"small":"large",variant:"solid",testID:"confirmBtn",children:ne})}),t[93]=se,t[94]=oe,t[95]=ae):ae=t[95],t[96]!==d||t[97]!==ee||t[98]!==ae?(re=(0,bt.jsxs)(Qs.ScrollableInner,{label:d,style:u,children:[ee,ae]}),t[96]=d,t[97]=ee,t[98]=ae,t[99]=re):re=t[99],re}function MW(){return null}var FW=s(2854);const NW="gif-service",HW=[NW,"featured"],VW=e=>[NW,"search",e],zW=QW(Vt.GIF_FEATURED),UW=QW(Vt.GIF_SEARCH);function WW(e){return e.next}function GW(e){const{pageParam:t}=e;return zW({pos:t})}function qW(e){return e.next}function QW(e){return async t=>{const s=new URLSearchParams;s.set("client_key","bluesky-web"),s.set("limit","30"),s.set("contentfilter","high"),s.set("media_filter",["preview","gif","tinygif"].join(","));const o=(0,FW.getLocales)?.()?.[0];o&&s.set("locale",o.languageTag.replace("-","_"));for(const[e,a]of Object.entries(t))void 0!==a&&s.set(e,String(a));const n=await fetch(e(s.toString()),{method:"GET",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch Tenor API");return n.json()}}function KW(e){let t;try{t=new URL(e)}catch(s){return Mt.logger.debug("invalid url passed to tenorUrlToBskyGifUrl()"),""}return t.hostname="t.gifs.bsky.app",t.href}function ZW(e){const t=(0,n.c)(14),{controlRef:s,onClose:o,onSelectGif:a}=e,r=Qs.useDialogControl();let i,l;t[0]!==r?(i=()=>({open:()=>r.open()}),t[0]=r,t[1]=i):i=t[1],(0,lt.useImperativeHandle)(s,i),t[2]!==r||t[3]!==a?(l=e=>{r.close((()=>a(e)))},t[2]=r,t[3]=a,t[4]=l):l=t[4];const c=l,d=YW;let u,m,h,p;return t[5]===Symbol.for("react.memo_cache_sentinel")?(u=Object.assign({bottomInset:0},(0,qs.ios)({cornerRadius:void 0})),m=(0,bt.jsx)(Qs.Handle,{}),t[5]=u,t[6]=m):(u=t[5],m=t[6]),t[7]!==r||t[8]!==c?(h=(0,bt.jsx)(ch,{renderError:d,children:(0,bt.jsx)($W,{control:r,onSelectGif:c})}),t[7]=r,t[8]=c,t[9]=h):h=t[9],t[10]!==r||t[11]!==o||t[12]!==h?(p=(0,bt.jsxs)(Qs.Outer,{control:r,onClose:o,nativeOptions:u,children:[m,h]}),t[10]=r,t[11]=o,t[12]=h,t[13]=p):p=t[13],p}function YW(e){return(0,bt.jsx)(eG,{details:String(e)})}function $W(e){const t=(0,n.c)(82),{control:s,onSelectGif:o}=e,{_:a}=(0,dt.useLingui)(),i=(0,qs.useTheme)(),{gtMobile:l}=(0,qs.useBreakpoints)(),c=(0,lt.useRef)(null),d=(0,lt.useRef)(null),[u,m]=(0,lt.useState)(""),h=CC(u,500),{height:p}=(0,Qr.default)(),f=h.length>0,g=function(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:HW,queryFn:GW,initialPageParam:void 0,getNextPageParam:WW},e[0]=t):t=e[0],(0,Wa.useInfiniteQuery)(t)}(),x=function(e){const t=(0,n.c)(8);let s,o;t[0]!==e?(s=VW(e),t[0]=e,t[1]=s):s=t[1],t[2]!==e?(o=t=>{const{pageParam:s}=t;return UW({q:e,pos:s})},t[2]=e,t[3]=o):o=t[3];const a=!!e;let r;return t[4]!==s||t[5]!==o||t[6]!==a?(r={queryKey:s,queryFn:o,initialPageParam:void 0,getNextPageParam:qW,enabled:a,placeholderData:Ga.keepPreviousData},t[4]=s,t[5]=o,t[6]=a,t[7]=r):r=t[7],(0,Wa.useInfiniteQuery)(r)}(h),{data:_,fetchNextPage:y,isFetchingNextPage:b,hasNextPage:j,error:v,isPending:S,isError:w,refetch:T}=f?x:g;let k;t[0]!==_?.pages?(k=_?.pages.flatMap(JW)||[],t[0]=_?.pages,t[1]=k):k=t[1];const C=k;let I;t[2]!==o?(I=e=>{const{item:t}=e;return(0,bt.jsx)(tG,{gif:t,onSelectGif:o})},t[2]=o,t[3]=I):I=t[3];const A=I;let P;t[4]!==v||t[5]!==y||t[6]!==j||t[7]!==b?(P=()=>{b||!j||v||y()},t[4]=v,t[5]=y,t[6]=j,t[7]=b,t[8]=P):P=t[8];const E=P,L=C.length>0;let R;t[9]!==s||t[10]!==f?(R=()=>{f?(c.current?.clear(),m("")):s.close()},t[9]=s,t[10]=f,t[11]=R):R=t[11];const B=R;let D,O,M,F;t[12]===Symbol.for("react.memo_cache_sentinel")?(D=(0,qs.native)(qs.atoms.pt_4xl),t[12]=D):D=t[12],t[13]!==l?(O=!l&&(0,qs.web)(qs.atoms.gap_md),t[13]=l,t[14]=O):O=t[14],t[15]!==i.atoms.bg||t[16]!==O?(M=[D,qs.atoms.relative,qs.atoms.mb_lg,qs.atoms.flex_row,qs.atoms.align_center,O,qs.atoms.pb_sm,i.atoms.bg],t[15]=i.atoms.bg,t[16]=O,t[17]=M):M=t[17],t[18]!==a||t[19]!==s||t[20]!==l?(F=!l&&r.IS_WEB&&(0,bt.jsx)(ao.Button,{size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:()=>s.close(),label:a({id:"KcQGEu"}),children:(0,bt.jsx)(ao.ButtonIcon,{icon:Al.ArrowLeft_Stroke2_Corner0_Rounded,size:"md"})}),t[18]=a,t[19]=s,t[20]=l,t[21]=F):F=t[21];const N=!l&&r.IS_WEB&&qs.atoms.flex_1;let H,V,z,U,W,G,q,Q,K;t[22]!==N?(H=[N],t[22]=N,t[23]=H):H=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(V=(0,bt.jsx)(mo.Icon,{icon:Hl.MagnifyingGlass_Stroke2_Corner0_Rounded}),t[24]=V):V=t[24],t[25]!==a?(z=a({id:"wxlF9B"}),t[25]=a,t[26]=z):z=t[26],t[27]!==a?(U=a({id:"b5hUT1"}),t[27]=a,t[28]=U):U=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(W=e=>{m(e),d.current?.scrollToOffset({offset:0,animated:!1})},t[29]=W):W=t[29],t[30]!==s?(G=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&s.close()},t[30]=s,t[31]=G):G=t[31],t[32]!==z||t[33]!==U||t[34]!==G?(q=(0,bt.jsx)(mo.Input,{label:z,placeholder:U,onChangeText:W,returnKeyType:"search",clearButtonMode:"while-editing",inputRef:c,maxLength:50,onKeyPress:G}),t[32]=z,t[33]=U,t[34]=G,t[35]=q):q=t[35],t[36]!==H||t[37]!==q?(Q=(0,bt.jsxs)(mo.Root,{style:H,children:[V,q]}),t[36]=H,t[37]=q,t[38]=Q):Q=t[38],t[39]!==Q||t[40]!==M||t[41]!==F?(K=(0,bt.jsxs)(Fs.default,{style:M,children:[F,Q]}),t[39]=Q,t[40]=M,t[41]=F,t[42]=K):K=t[42];const Z=K;let Y;t[43]!==l?(Y=l&&(0,bt.jsx)(Qs.Close,{}),t[43]=l,t[44]=Y):Y=t[44];const $=l?"3 cols":"2 cols",X=l?3:2;let J,ee,te,se,oe,ne,ae,re,ie,le,ce;return t[45]===Symbol.for("react.memo_cache_sentinel")?(J=[qs.atoms.gap_sm],t[45]=J):J=t[45],t[46]!==p?(ee=(0,qs.native)([qs.atoms.px_xl,{minHeight:p}]),t[46]=p,t[47]=ee):ee=t[47],t[48]!==ee?(te=[ee],t[48]=ee,t[49]=te):te=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(se=[(0,qs.web)({minHeight:"80vh"})],oe=[(0,qs.web)(qs.atoms.pb_0)],t[50]=se,t[51]=oe):(se=t[50],oe=t[51]),t[52]!==a||t[53]!==L||t[54]!==w||t[55]!==S||t[56]!==f||t[57]!==B||t[58]!==T||t[59]!==h?(ne=!L&&(0,bt.jsx)(yS,{isLoading:S,isError:w,onRetry:T,onGoBack:B,emptyType:"results",sideBorders:!1,topBorder:!1,errorTitle:a({id:"aFKrtA"}),errorMessage:a({id:"pVSJbT"}),emptyMessage:a(f?{id:"KIVh29",values:{search:h}}:{id:"ABzPl5"})}),t[52]=a,t[53]=L,t[54]=w,t[55]=S,t[56]=f,t[57]=B,t[58]=T,t[59]=h,t[60]=ne):ne=t[60],t[61]!==Z||t[62]!==ne?(ae=(0,bt.jsxs)(bt.Fragment,{children:[Z,ne]}),t[61]=Z,t[62]=ne,t[63]=ae):ae=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(re=[0],t[64]=re):re=t[64],t[65]!==v||t[66]!==y||t[67]!==L||t[68]!==b?(ie=L?(0,bt.jsx)(xS,{isFetchingNextPage:b,error:(0,Tn.cleanError)(v),onRetry:y,style:{borderTopWidth:0}}):null,t[65]=v,t[66]=y,t[67]=L,t[68]=b,t[69]=ie):ie=t[69],t[70]!==C||t[71]!==E||t[72]!==A||t[73]!==$||t[74]!==X||t[75]!==te||t[76]!==ae||t[77]!==ie?(le=(0,bt.jsx)(Qs.InnerFlatList,{ref:d,data:C,renderItem:A,numColumns:X,columnWrapperStyle:J,contentContainerStyle:te,webInnerStyle:se,webInnerContentContainerStyle:oe,ListHeaderComponent:ae,stickyHeaderIndices:re,onEndReached:E,onEndReachedThreshold:4,keyExtractor:XW,keyboardDismissMode:"on-drag",ListFooterComponent:ie},$),t[70]=C,t[71]=E,t[72]=A,t[73]=$,t[74]=X,t[75]=te,t[76]=ae,t[77]=ie,t[78]=le):le=t[78],t[79]!==Y||t[80]!==le?(ce=(0,bt.jsxs)(bt.Fragment,{children:[Y,le]}),t[79]=Y,t[80]=le,t[81]=ce):ce=t[81],ce}function XW(e){return e.id}function JW(e){return e.results}function eG(e){const t=(0,n.c)(23),{details:s}=e,{_:o}=(0,dt.useLingui)(),a=Qs.useDialogContext();let r,i,l,c,d,u,m,h,p,f;return t[0]!==o?(r=o({id:"UUrrx1"}),t[0]=o,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Qs.Close,{}),t[2]=i):i=t[2],t[3]!==o?(l=o({id:"5GGAqz"}),t[3]=o,t[4]=l):l=t[4],t[5]!==o?(c=o({id:"yUqcy2"}),t[5]=o,t[6]=c):c=t[6],t[7]!==s||t[8]!==l||t[9]!==c?(d=(0,bt.jsx)(lh,{title:l,message:c,details:s}),t[7]=s,t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==o?(u=o({id:"cu6iol"}),t[11]=o,t[12]=u):u=t[12],t[13]!==a?(m=()=>a.close(),t[13]=a,t[14]=m):m=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})}),t[15]=h):h=t[15],t[16]!==u||t[17]!==m?(p=(0,bt.jsx)(ao.Button,{label:u,onPress:m,color:"primary",size:"large",variant:"solid",children:h}),t[16]=u,t[17]=m,t[18]=p):p=t[18],t[19]!==r||t[20]!==d||t[21]!==p?(f=(0,bt.jsxs)(Qs.ScrollableInner,{style:qs.atoms.gap_md,label:r,children:[i,d,p]}),t[19]=r,t[20]=d,t[21]=p,t[22]=f):f=t[22],f}function tG(e){const t=(0,n.c)(18),{gif:s,onSelectGif:o}=e,a=(0,Xo.useAnalytics)(),{gtTablet:r}=(0,qs.useBreakpoints)(),{_:i}=(0,dt.useLingui)(),l=(0,qs.useTheme)();let c;t[0]!==a||t[1]!==s||t[2]!==o?(c=()=>{a.metric("composer:gif:select",{}),o(s)},t[0]=a,t[1]=s,t[2]=o,t[3]=c):c=t[3];const d=c;let u,m,h,p;return t[4]!==i||t[5]!==s.title?(u=i({id:"ueQiOK",values:{0:s.title}}),t[4]=i,t[5]=s.title,t[6]=u):u=t[6],t[7]!==r?(m=[qs.atoms.flex_1,r?{maxWidth:"33%"}:{maxWidth:"50%"}],t[7]=r,t[8]=m):m=t[8],t[9]!==s.media_formats.tinygif.url||t[10]!==s.title||t[11]!==l.atoms.bg_contrast_25?(h=e=>{const{pressed:t}=e;return(0,bt.jsx)(cn.Image,{style:[qs.atoms.flex_1,qs.atoms.mb_sm,qs.atoms.rounded_sm,qs.atoms.aspect_square,{opacity:t?.8:1},l.atoms.bg_contrast_25],source:{uri:KW(s.media_formats.tinygif.url)},contentFit:"cover",accessibilityLabel:s.title,accessibilityHint:"",cachePolicy:"none",accessibilityIgnoresInvertColors:!0})},t[9]=s.media_formats.tinygif.url,t[10]=s.title,t[11]=l.atoms.bg_contrast_25,t[12]=h):h=t[12],t[13]!==d||t[14]!==u||t[15]!==m||t[16]!==h?(p=(0,bt.jsx)(ao.Button,{label:u,style:m,onPress:d,children:h}),t[13]=d,t[14]=u,t[15]=m,t[16]=h,t[17]=p):p=t[17],p}(0,ti.createSinglePathSVG)({path:"M3 4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3Zm1 14V6h16v12H4Zm2-5.713c0 1.54.92 2.463 2.48 2.463 1.434 0 2.353-.807 2.353-2.06v-.166c0-.578-.267-.834-.884-.834h-.806c-.416 0-.632.182-.632.535 0 .357.22.55.632.55h.146v.063c0 .36-.299.609-.735.609-.597 0-.904-.4-.904-1.168v-.52c0-.775.307-1.155.951-1.155.325 0 .538.152.746.3.089.064.176.127.272.177a.82.82 0 0 0 .409.108c.385 0 .656-.263.656-.636 0-.353-.26-.679-.664-.915-.409-.24-.96-.388-1.548-.388C6.955 9.25 6 10.2 6 11.67v.617Zm6.358 2.385c.526 0 .813-.31.813-.872v-3.627c0-.558-.295-.873-.825-.873s-.825.31-.825.873V13.8c0 .558.302.872.837.872Zm3.367-.872c0 .566-.283.872-.802.872-.538 0-.848-.318-.848-.872v-3.635c0-.512.314-.826.82-.826h2.496c.35 0 .609.272.609.64 0 .369-.26.629-.609.629h-1.666v.973h1.47c.365 0 .608.248.608.613 0 .36-.247.613-.608.613h-1.47v.993Z"});const sG=(0,ti.createSinglePathSVG)({path:"M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Zm1 16V5h14v14H5Zm10.725-5.2c0 .566-.283.872-.802.872-.538 0-.848-.318-.848-.872v-3.635c0-.512.314-.826.82-.826h2.496c.35 0 .609.272.609.64 0 .369-.26.629-.609.629h-1.666v.973h1.47c.365 0 .608.248.608.613 0 .36-.247.613-.608.613h-1.47v.993Zm-3.367.872c.526 0 .813-.31.813-.872v-3.627c0-.558-.295-.873-.825-.873s-.825.31-.825.873V13.8c0 .558.302.872.837.872Zm-3.879.078C6.92 14.75 6 13.827 6 12.287v-.617c0-1.47.955-2.42 2.472-2.42.589 0 1.139.147 1.548.388.404.236.664.562.664.915 0 .373-.271.636-.656.636a.82.82 0 0 1-.41-.108 2.34 2.34 0 0 1-.271-.177c-.208-.148-.421-.3-.746-.3-.644 0-.95.38-.95 1.155v.52c0 .768.306 1.168.903 1.168.436 0 .735-.248.735-.61v-.061h-.146c-.412 0-.632-.194-.632-.551 0-.353.216-.535.632-.535h.806c.617 0 .884.256.884.834v.166c0 1.253-.92 2.06-2.354 2.06Z"});function oG(e){const t=(0,n.c)(20),{onClose:s,onSelectGif:o,disabled:a}=e,r=(0,Xo.useAnalytics)(),{_:i}=(0,dt.useLingui)(),l=(0,lt.useRef)(null),c=(0,qs.useTheme)();let d;t[0]!==r?(d=async()=>{r.metric("composer:gif:open",{}),Ws.default.dismiss(),l.current?.open()},t[0]=r,t[1]=d):d=t[1];const u=d;let m,h;t[2]!==i?(m=i({id:"eGgIPT"}),t[2]=i,t[3]=m):m=t[3],t[4]!==i?(h=i({id:"ht7vsZ"}),t[4]=i,t[5]=h):h=t[5];const p=a&&c.atoms.text_contrast_low;let f,g,x,_;return t[6]!==p?(f=(0,bt.jsx)(sG,{size:"lg",style:p}),t[6]=p,t[7]=f):f=t[7],t[8]!==a||t[9]!==u||t[10]!==m||t[11]!==h||t[12]!==f?(g=(0,bt.jsx)(ao.Button,{testID:"openGifBtn",onPress:u,label:m,accessibilityHint:h,style:qs.atoms.p_sm,variant:"ghost",shape:"round",color:"primary",disabled:a,children:f}),t[8]=a,t[9]=u,t[10]=m,t[11]=h,t[12]=f,t[13]=g):g=t[13],t[14]!==s||t[15]!==o?(x=(0,bt.jsx)(ZW,{controlRef:l,onClose:s,onSelectGif:o}),t[14]=s,t[15]=o,t[16]=x):x=t[16],t[17]!==g||t[18]!==x?(_=(0,bt.jsxs)(bt.Fragment,{children:[g,x]}),t[17]=g,t[18]=x,t[19]=_):_=t[19],_}var nG=s(64154);const aG=globalThis.requestIdleCallback||(e=>setTimeout(e,1)),rG=globalThis.cancelIdleCallback||clearTimeout;function iG(e){const t=(0,n.c)(30),{text:s,replyToLanguages:o,currentLanguages:a,onAcceptSuggestedLanguage:r}=e,i=(0,EA.useLanguagePrefs)(),l=o.map(lG).filter(Boolean),[c,d]=(0,lt.useState)(!1),[u,m]=(0,lt.useState)(void 0);let h,p,f,g;t[0]!==c||t[1]!==s.length?(h=()=>{s.length>0&&!c&&d(!0)},t[0]=c,t[1]=s.length,t[2]=h):h=t[2],t[3]!==c||t[4]!==s?(p=[s,c],t[3]=c,t[4]=s,t[5]=p):p=t[5],(0,lt.useEffect)(h,p),t[6]!==s?(f=()=>{const e=s.trim();if(e.length<40)return void m(void 0);const t=aG((()=>{m(function(e){const t=(0,nG.default)(e).filter((([e,t])=>t>=2e-4));if(1!==t.length)return;const[s,o]=t[0];if(o<.97)return;return(0,Lt.code3ToCode2Strict)(s)}(e))}));return()=>rG(t)},g=[s],t[6]=s,t[7]=f,t[8]=g):(f=t[7],g=t[8]),(0,lt.useEffect)(f,g);const x=u&&!a.includes(u),_=!c&&!u&&l.length&&!l.some((e=>a.includes(e)));if(x){let e;t[9]!==i.appLanguage||t[10]!==u?(e=(0,Lt.codeToLanguageName)(u,i.appLanguage),t[9]=i.appLanguage,t[10]=u,t[11]=e):e=t[11];const s=e;let o,n,a,l;return t[12]!==s?(o={suggestedLanguageName:s},t[12]=s,t[13]=o):o=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(n={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold]})},t[14]=n):n=t[14],t[15]!==o?(a=(0,bt.jsx)(La.default,{children:(0,bt.jsx)(dt.Trans,{id:"PDNv3v",values:o,components:n})}),t[15]=o,t[16]=a):a=t[16],t[17]!==r||t[18]!==u||t[19]!==a?(l=(0,bt.jsx)(cG,{label:a,value:u,onAccept:r}),t[17]=r,t[18]=u,t[19]=a,t[20]=l):l=t[20],l}if(_){const e=(0,Lt.codeToLanguageName)(l[0],i.appLanguage);let s,o,n,a;return t[21]!==e?(s={suggestedLanguageName:e},t[21]=e,t[22]=s):s=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(o={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.font_bold]})},t[23]=o):o=t[23],t[24]!==s?(n=(0,bt.jsx)(La.default,{children:(0,bt.jsx)(dt.Trans,{id:"UdDoXz",values:s,components:o})}),t[24]=s,t[25]=n):n=t[25],t[26]!==r||t[27]!==l||t[28]!==n?(a=(0,bt.jsx)(cG,{label:n,value:l[0],onAccept:r}),t[26]=r,t[27]=l,t[28]=n,t[29]=a):a=t[29],a}return null}function lG(e){return function(e){if(!e)return;return(0,Dn.parseLanguage)(e)?.language}(e)}function cG(e){const t=(0,n.c)(22),{label:s,value:o,onAccept:a}=e,r=(0,qs.useTheme)(),{_:i}=(0,dt.useLingui)();let l,c,d,u,m,h,p,f,g,x,_;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[qs.atoms.px_lg,qs.atoms.py_sm],t[0]=l):l=t[0],t[1]!==r.atoms.bg||t[2]!==r.atoms.border_contrast_low?(c=[qs.atoms.gap_md,qs.atoms.border,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.rounded_sm,qs.atoms.p_md,qs.atoms.pl_lg,r.atoms.bg,r.atoms.border_contrast_low],t[1]=r.atoms.bg,t[2]=r.atoms.border_contrast_low,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(dm.Earth_Stroke2_Corner2_Rounded,{}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_1],t[5]=u):u=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.leading_snug,{maxWidth:400}],t[6]=m):m=t[6],t[7]!==s?(h=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsx)(co.Text,{style:m,children:s})}),t[7]=s,t[8]=h):h=t[8],t[9]!==a||t[10]!==o?(p=()=>a(o),t[9]=a,t[10]=o,t[11]=p):p=t[11],t[12]!==i?(f=i({id:"WJfDDU"}),t[12]=i,t[13]=f):f=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"l75CjT"})}),t[14]=g):g=t[14],t[15]!==p||t[16]!==f?(x=(0,bt.jsx)(ao.Button,{size:"small",color:"secondary",onPress:p,label:f,children:g}),t[15]=p,t[16]=f,t[17]=x):x=t[17],t[18]!==x||t[19]!==c||t[20]!==h?(_=(0,bt.jsx)(Fs.default,{style:l,children:(0,bt.jsxs)(Fs.default,{style:c,children:[d,h,x]})}),t[18]=x,t[19]=c,t[20]=h,t[21]=_):_=t[21],_}var dG=s(20429),uG=s(73633),mG=s(21405),hG=s(21478),pG=s(15478),fG=s(56155),gG=s(91247),xG=s(64860),_G=s(78725),yG=s(6775),bG=s(49507);function jG({autocomplete:e,autocompleteRef:t}){return{items:async({query:t})=>(await e({query:t})).slice(0,8),render:()=>{let e,s;const o=()=>{s?.[0]?.destroy(),e?.destroy()};return{onStart:n=>{e=new yG.ReactRenderer(vG,{props:Object.assign({},n,{autocompleteRef:t,hide:o}),editor:n.editor}),n.clientRect&&(s=(0,bG.default)("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(t){e?.updateProps(t),t.clientRect&&s?.[0]?.setProps({getReferenceClientRect:t.clientRect})},onKeyDown:t=>"Escape"!==t.event.key&&(e?.ref?.onKeyDown(t)||!1),onExit(){o()}}}}}const vG=(0,lt.forwardRef)((function(e,t){const s=(0,n.c)(33),{items:o,command:a,hide:r,autocompleteRef:i}=e,[l,c]=(0,lt.useState)(0),d=(0,qs.useTheme)(),u=(0,ds.useModerationOpts)();let m;s[0]!==a||s[1]!==o?(m=e=>{const t=o[e];t&&a({id:t.handle})},s[0]=a,s[1]=o,s[2]=m):m=s[2];const h=m;let p;s[3]!==o||s[4]!==l?(p=()=>{c((l+o.length-1)%o.length)},s[3]=o,s[4]=l,s[5]=p):p=s[5];const f=p;let g;s[6]!==o||s[7]!==l?(g=()=>{c((l+1)%o.length)},s[6]=o,s[7]=l,s[8]=g):g=s[8];const x=g;let _;s[9]!==h||s[10]!==l?(_=()=>{h(l)},s[9]=h,s[10]=l,s[11]=_):_=s[11];const y=_;let b,j,v,S,w,T,k,C;return s[12]===Symbol.for("react.memo_cache_sentinel")?(b=()=>c(0),s[12]=b):b=s[12],s[13]!==o?(j=[o],s[13]=o,s[14]=j):j=s[14],(0,lt.useEffect)(b,j),s[15]!==r?(v=()=>({maybeClose:()=>(r(),!0)}),s[15]=r,s[16]=v):v=s[16],(0,lt.useImperativeHandle)(i,v),s[17]!==x||s[18]!==y||s[19]!==f?(S=()=>({onKeyDown:e=>{const{event:t}=e;return"ArrowUp"===t.key?(f(),!0):"ArrowDown"===t.key?(x(),!0):("Enter"===t.key||"Tab"===t.key)&&(y(),!0)}}),s[17]=x,s[18]=y,s[19]=f,s[20]=S):S=s[20],(0,lt.useImperativeHandle)(t,S),u?(s[21]===Symbol.for("react.memo_cache_sentinel")?(w={width:300},s[21]=w):w=s[21],s[22]!==d.atoms.bg||s[23]!==d.atoms.border_contrast_low?(T=[d.atoms.border_contrast_low,d.atoms.bg,qs.atoms.rounded_sm,qs.atoms.border,qs.atoms.p_xs,w],s[22]=d.atoms.bg,s[23]=d.atoms.border_contrast_low,s[24]=T):T=s[24],s[25]!==o||s[26]!==u||s[27]!==h||s[28]!==l?(k=o.length>0?o.map(((e,t)=>{const s=l===t;return(0,bt.jsx)(SG,{profile:e,isSelected:s,onPress:()=>h(t),onHover:()=>c(t),moderationOpts:u},e.handle)})):(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,qs.atoms.px_md,qs.atoms.py_md],children:(0,bt.jsx)(dt.Trans,{id:"zfN9gJ"})}),s[25]=o,s[26]=u,s[27]=h,s[28]=l,s[29]=k):k=s[29],s[30]!==T||s[31]!==k?(C=(0,bt.jsx)("div",{className:"items",children:(0,bt.jsx)(Fs.default,{style:T,children:k})}),s[30]=T,s[31]=k,s[32]=C):C=s[32],C):null}));function SG(e){const t=(0,n.c)(11),{profile:s,isSelected:o,onPress:a,onHover:r,moderationOpts:i}=e,l=(0,qs.useTheme)(),c=o&&l.atoms.bg_contrast_25;let d,u,m,h;return t[0]!==c?(d=[c,qs.atoms.align_center,qs.atoms.justify_between,qs.atoms.flex_row,qs.atoms.px_md,qs.atoms.py_sm,qs.atoms.gap_2xl,qs.atoms.rounded_xs,qs.atoms.transition_color],t[0]=c,t[1]=d):d=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.flex_1],t[2]=u):u=t[2],t[3]!==i||t[4]!==s?(m=(0,bt.jsx)(Fs.default,{style:u,children:(0,bt.jsxs)(Rl.Header,{children:[(0,bt.jsx)(Rl.Avatar,{profile:s,moderationOpts:i,disabledPreview:!0}),(0,bt.jsx)(Rl.NameAndHandle,{profile:s,moderationOpts:i})]})}),t[3]=i,t[4]=s,t[5]=m):m=t[5],t[6]!==r||t[7]!==a||t[8]!==d||t[9]!==m?(h=(0,bt.jsx)(ln.default,{style:d,onPress:a,onPointerEnter:r,accessibilityRole:"button",children:m}),t[6]=r,t[7]=a,t[8]=d,t[9]=m,t[10]=h):h=t[10],h}var wG=s(57145),TG=s(86852),kG=s(5431);const CG=wG.Mark.create({name:"link-decorator",priority:1e3,keepOnSplit:!1,inclusive:()=>!0,addProseMirrorPlugins:()=>[AG()]});function IG(e){const t=[];return e.descendants(((e,s)=>{if(e.isText&&e.text){!function(e,t){let s;const o=Dn.URL_REGEX;for(;s=o.exec(e);){let o=s[2];if(!o.startsWith("http")){const e=s.groups?.domain;if(!e||!(0,zt.isValidDomain)(e))continue;o=`https://${o}`}let n=e.indexOf(s[2],s.index),a=n+s[2].length;/[.,;!?]$/.test(o)&&(o=o.slice(0,-1),a--),/[)]$/.test(o)&&!o.includes("(")&&(o=o.slice(0,-1),a--),t(n,a)}}(e.textContent,((e,o)=>{t.push(kG.Decoration.inline(s+e,s+o,{class:"autolink"}))}))}})),kG.DecorationSet.create(e,t)}function AG(){const e=new TG.Plugin({key:new TG.PluginKey("link-decorator"),state:{init:(e,{doc:t})=>IG(t),apply:(e,t)=>e.docChanged?IG(e.doc):t.map(e.mapping,e.doc)},props:{decorations:t=>e.getState(t)}});return e}function PG(e){const t=[];return e.descendants(((e,s)=>{if(e.isText&&e.text){const o=Dn.TAG_REGEX,n=e.textContent;let a;for(;a=o.exec(n);){const[e,o,n]=a;if(!n||n.replace(Dn.TRAILING_PUNCTUATION_REGEX,"").length>64)continue;const[r=""]=n.match(Dn.TRAILING_PUNCTUATION_REGEX)||[],i=a.index+e.indexOf(n),l=s+i-1,c=s+(i+(n.length-r.length));t.push(kG.Decoration.inline(l,c,{class:"autolink"}))}const r=new RegExp(Dn.CASHTAG_REGEX.source,"gu");for(;a=r.exec(n);){const[e,o,n]=a;if(!n)continue;const r=a.index+o.length,i=s+r,l=s+(r+1+n.length);t.push(kG.Decoration.inline(i,l,{class:"autolink"}))}}})),kG.DecorationSet.create(e,t)}const EG=new TG.Plugin({key:new TG.PluginKey("link-decorator"),state:{init:(e,{doc:t})=>PG(t),apply:(e,t)=>e.docChanged?PG(e.doc):t.map(e.mapping,e.doc)},props:{decorations:e=>EG.getState(e)}}),LG=wG.Mark.create({name:"tag-decorator",priority:1e3,keepOnSplit:!1,inclusive:()=>!0,addProseMirrorPlugins:()=>[EG]});function RG({ref:e,richtext:t,placeholder:s,webForceMinHeight:o,hasRightPadding:n,isActive:a,setRichText:r,onPhotoPasted:i,onPressPublish:l,onNewLink:c,onFocus:d,autoFocus:u}){const{theme:m,fonts:h}=(0,qs.useAlf)(),p=function(){const e=(0,On.useQueryClient)(),t=(0,ds.useModerationOpts)(),s=(0,Gt.useAgent)();return lt.useCallback((async({query:o,limit:n=8})=>{let a;if(o=o.toLowerCase())try{a=await e.fetchQuery({staleTime:yt.STALE.MINUTES.ONE,queryKey:Kf(o||""),queryFn:()=>s.searchActorsTypeahead({q:o,limit:n})})}catch(r){Mt.logger.error("useActorSearch: searchActorsTypeahead failed",{message:r})}return Yf({q:o,searched:a?.data.actors,moderationOpts:t||Qf})}),[e,t,s])}(),f=Rn("ProseMirror-light","ProseMirror-dark"),[g,x]=(0,lt.useState)(!1),_=(0,lt.useRef)(null),y=(0,lt.useMemo)((()=>[dG.Document,CG,LG,hG.Mention.configure({HTMLAttributes:{class:"mention"},suggestion:jG({autocomplete:p,autocompleteRef:_})}),pG.Paragraph,fG.Placeholder.configure({placeholder:s}),gG.Text,mG.default,uG.default]),[p,s]);(0,lt.useEffect)((()=>{if(a)return gL.addListener("publish",l),()=>{gL.removeListener("publish",l)}}),[l,a]),(0,lt.useEffect)((()=>{if(a)return gL.addListener("media-pasted",i),()=>{gL.removeListener("media-pasted",i)}}),[a,i]),(0,lt.useEffect)((()=>{if(!a)return;const e=e=>{const t=e.dataTransfer;if(t){FG(t.items,(e=>{gL.emit("media-pasted",e)}))}e.preventDefault(),x(!1)},t=e=>{const t=e.dataTransfer;e.preventDefault(),t&&t.types.includes("Files")&&x(!0)},s=e=>{e.preventDefault(),x(!1)};return document.body.addEventListener("drop",e),document.body.addEventListener("dragenter",t),document.body.addEventListener("dragover",t),document.body.addEventListener("dragleave",s),()=>{document.body.removeEventListener("drop",e),document.body.removeEventListener("dragenter",t),document.body.removeEventListener("dragover",t),document.body.removeEventListener("dragleave",s)}}),[x,a]);const b=(0,lt.useRef)(new Set),j=(0,lt.useRef)(new Map),v=(0,yG.useEditor)({extensions:y,coreExtensionOptions:{clipboardTextSerializer:{blockSeparator:"\n"}},onFocus(){d?.()},editorProps:{attributes:{class:f},clipboardTextParser:(e,t)=>{const s=e.split(/(?:\r\n?|\n)/).map((e=>_G.Node.fromJSON(t.doc.type.schema,e.length>0?{type:"paragraph",content:[{type:"text",text:e}]}:{type:"paragraph",content:[]}))),o=_G.Fragment.fromArray(s);return _G.Slice.maxOpen(o)},handlePaste:(e,t)=>{const s=t.clipboardData;let o=!1;if(s){if(s.types.includes("text/html")){const t=s.getData("text/plain");e.pasteText(t),o=!0}if(FG(s.items,(e=>{gL.emit("media-pasted",e)})),o)return!0}},handleKeyDown:(e,t)=>{if((t.metaKey||t.ctrlKey)&&"Enter"===t.code)return gL.emit("publish"),!0;if("Backspace"===t.code&&!(t.metaKey||t.altKey||t.ctrlKey)){if(e.state.selection.empty){const t=e.state.selection.$anchor.pos,s=e.state.doc.textBetween(0,t,"\n"),o=[...(0,TL.splitGraphemes)(s)];if(o.length>0){const e=o[o.length-1];if("\n"!==e){const s=t-e.length;return v?.commands.deleteRange({from:s,to:t}),!0}}}}}},content:(0,xG.generateJSON)(BG(t),y,{preserveWhitespace:"full"}),autofocus:u?"end":null,editable:!0,injectCSS:!0,shouldRerenderOnTransaction:!1,onUpdate({editor:e}){const t=OG(e.getJSON()),s="paste"===window.event?.type,o=new Dn.RichText({text:t});o.detectFacetsWithoutResolution(),r(o);const n=new Map;if(o.facets)for(const r of o.facets)for(const e of r.features)Dn.AppBskyRichtextFacet.isLink(e)&&n.set(e.uri,{facet:r,rt:o});const a=$d(s,n,j.current,b.current);j.current=n,a&&c(a)}},[f]),S=(0,lt.useCallback)((e=>{v?.chain().focus().insertContent(e.native).run()}),[v]);(0,lt.useEffect)((()=>{if(a)return gL.addListener("emoji-inserted",S),()=>{gL.removeListener("emoji-inserted",S)}}),[S,a]),(0,lt.useImperativeHandle)(e,(()=>({focus:()=>{v?.chain().focus()},blur:()=>{v?.chain().blur()},getCursorPosition:()=>{const e=v?.state.selection.$anchor.pos;return e?v?.view.coordsAtPos(e):void 0},maybeClosePopup:()=>_.current?.maybeClose()??!1})));const w=(0,lt.useMemo)((()=>{const e=(0,Tp.normalizeTextStyles)([qs.atoms.text_lg,qs.atoms.leading_snug,m.atoms.text],{fontScale:h.scaleMultiplier,fontFamily:h.family,flags:{}});return e.lineHeight=e.lineHeight?e.lineHeight+"px":void 0,e.minHeight=o?140:void 0,e}),[m,h,o]);return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[MG.container,n&&MG.rightPadding],children:(0,bt.jsx)(yG.EditorContent,{editor:v,style:w})}),g&&(0,bt.jsx)(xI.Portal,{children:(0,bt.jsx)(yn.default.View,{style:MG.dropContainer,entering:yn.FadeIn.duration(80),exiting:yn.FadeOut.duration(80),children:(0,bt.jsx)(Fs.default,{style:[m.atoms.bg,m.atoms.border_contrast_low,MG.dropModal],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_lg,qs.atoms.font_semi_bold,m.atoms.text_contrast_medium,m.atoms.border_contrast_high,MG.dropText],children:(0,bt.jsx)(dt.Trans,{id:"R4z1h2"})})})})})]})}function BG(e){let t="";for(const s of e.segments())s.mention?t+=`<span data-type="mention" data-id="${DG(s.mention.did)}"></span>`:t+=DG(s.text);return t}function DG(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function OG(e,t=!1){let s="";if("doc"===e.type){if(e.content?.length)for(let o=0;o<e.content.length;o++){s+=OG(e.content[o],o===e.content.length-1)}}else if("paragraph"===e.type){if(e.content?.length)for(let t=0;t<e.content.length;t++){s+=OG(e.content[t])}t||(s+="\n")}else"hardBreak"===e.type?s+="\n":"text"===e.type?s+=e.text||"":"mention"===e.type&&(s+=`@${e.attrs?.id||""}`);return s}const MG=Os.default.create({container:{flex:1,alignSelf:"flex-start",padding:5,marginLeft:8,marginBottom:10},rightPadding:{paddingRight:32},dropContainer:{backgroundColor:"#0007",pointerEvents:"none",alignItems:"center",justifyContent:"center",position:"fixed",padding:16,top:0,bottom:0,left:0,right:0},dropModal:{boxShadow:"rgba(0, 0, 0, 0.3) 0px 5px 20px",padding:8,borderWidth:1,borderRadius:16},dropText:{paddingVertical:44,paddingHorizontal:36,borderStyle:"dashed",borderRadius:8,borderWidth:2}});function FG(e,t){for(let s=0;s<e.length;s++){const o=e[s],n=o.type;if("text/plain"===n)o.getAsString((async e=>{if((0,HI.isUriImage)(e)){const s=await fetch(e),o=await s.blob();o.type.startsWith("image/")&&(0,HI.blobToDataUri)(o).then(t,(e=>{})),o.type.startsWith("video/")&&(0,HI.blobToDataUri)(o).then(t,(e=>{}))}}));else if(n.startsWith("image/")){const e=o.getAsFile();e&&(0,HI.blobToDataUri)(e).then(t,(e=>{}))}else if(n.startsWith("video/")){const e=o.getAsFile();e&&(0,HI.blobToDataUri)(e).then(t,(e=>{}))}}}function NG({postgate:e,onChangePostgate:t,threadgateAllowUISettings:s,onChangeThreadgateAllowUISettings:o}){const{_:a}=(0,dt.useLingui)(),i=(0,Xo.useAnalytics)(),l=Qs.useDialogControl(),[c,d]=function(){const e=(0,n.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["threadgateNudged"],e[0]=t):t=e[0];const[s,o]=(0,Is.useStorage)(Is.device,t),a=void 0!==s&&s;let r;return e[1]!==o||e[2]!==a?(r=[a,o],e[1]=o,e[2]=a,e[3]=r):r=e[3],r}(),[u,m]=(0,lt.useState)(!1),[h]=(0,lt.useState)(!c);(0,lt.useEffect)((()=>{if(!c){const e=setTimeout((()=>{m(!0)}),1e3);return()=>clearTimeout(e)}}),[c]);const{data:p}=(0,xr.usePreferencesQuery)(),[f,g]=(0,lt.useState)(!1),x=(0,Yd.threadgateRecordToAllowUISetting)({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toISOString(),allow:p?.postInteractionSettings.threadgateAllowRules}),_=Wd({post:"",embeddingRules:p?.postInteractionSettings?.postgateEmbeddingRules||[]}),y=(0,lt.useMemo)((()=>!FB()(s,x??[{type:"everybody"}])||!FB()(e.embeddingRules,_?.embeddingRules??[])),[x,_,s,e]),{mutate:b,isPending:j}=NB({onError:e=>{(0,Tn.isNetworkError)(e)||Mt.logger.error("Failed to persist threadgate settings",{safeMessage:e})},onSettled:()=>{l.close((()=>{g(!1)}))}}),v=1===s.length&&"everybody"===s[0].type,S=!e.embeddingRules||0===e.embeddingRules.length,w=v&&S,T=a(w?{id:"8npAfc"}:{id:"FvZIIt"});return(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsxs)(ry,{visible:u,onVisibleChange:e=>{e||(d(!0),m(!1))},position:"top",children:[(0,bt.jsx)(iy,{children:(0,bt.jsxs)(ao.Button,{color:u?"primary_subtle":"secondary",size:"small",testID:"openReplyGateButton",onPress:()=>{i.metric("composer:threadgate:open",{nudged:h}),r.IS_NATIVE&&Ws.default.isVisible()&&Ws.default.dismiss(),m(!1),d(!0),l.open()},label:T,accessibilityHint:a({id:"wKZ1w7"}),children:[(0,bt.jsx)(ao.ButtonIcon,{icon:w?dm.Earth_Stroke2_Corner0_Rounded:jx}),(0,bt.jsx)(ao.ButtonText,{numberOfLines:1,children:T}),(0,bt.jsx)(ao.ButtonIcon,{icon:mn.TinyChevronBottom_Stroke2_Corner0_Rounded,size:"2xs"})]})}),(0,bt.jsx)(dy,{children:(0,bt.jsx)(co.Text,{children:(0,bt.jsx)(dt.Trans,{id:"lB5a10"})})})]}),(0,bt.jsx)(df,{control:l,onSave:()=>{f?b({threadgateAllowRules:(0,Yd.threadgateAllowUISettingToAllowRecordValue)(s),postgateEmbeddingRules:e.embeddingRules??[]}):l.close()},isSaving:j,postgate:e,onChangePostgate:t,threadgateAllowUISettings:s,onChangeThreadgateAllowUISettings:o,isDirty:y,persist:f,onChangePersist:g})]})}function HG(e){const t=(0,n.c)(17),{onSelectFile:s,disabled:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,lt.useRef)(null);let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{r.current?.click()},t[0]=i):i=t[0];const l=i;let c;t[1]!==a||t[2]!==s?(c=e=>{const t=e.target.files?.[0];t&&("text/vtt"===t.type||t.name.endsWith(".vtt")?s(t):(Mt.logger.error("Invalid subtitle file type",{safeMessage:`File: ${t.name} (${t.type})`}),Ds.show(a({id:"4Le/v8"}))))},t[1]=a,t[2]=s,t[3]=c):c=t[3];const d=c;let u,m,h,p,f,g;return t[4]!==o||t[5]!==d?(u=(0,bt.jsx)("input",{type:"file",accept:".vtt",ref:r,style:qs.atoms.hidden,onChange:d,disabled:o,"aria-disabled":o}),t[4]=o,t[5]=d,t[6]=u):u=t[6],t[7]!==a?(m=a({id:"am9wtR"}),t[7]=a,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.ButtonIcon,{icon:_h}),t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"am9wtR"})}),t[10]=p):p=t[10],t[11]!==o||t[12]!==m?(f=(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_row,children:(0,bt.jsxs)(ao.Button,{onPress:l,label:m,size:"large",color:"primary",variant:"solid",disabled:o,children:[h,p]})}),t[11]=o,t[12]=m,t[13]=f):f=t[13],t[14]!==u||t[15]!==f?(g=(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_lg,children:[u,f]}),t[14]=u,t[15]=f,t[16]=g):g=t[16],g}const VG=1;function zG(e){const t=(0,n.c)(22),s=Qs.useDialogControl(),{_:o}=(0,dt.useLingui)();let a,i,l,c,d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_row,qs.atoms.my_xs],t[0]=a):a=t[0],t[1]!==o?(i=r.IS_WEB?o({id:"rsDqqD"}):o({id:"u/DP73"}),t[1]=o,t[2]=i):i=t[2],t[3]!==o?(l=r.IS_WEB?o({id:"9j9PM8"}):o({id:"evEv2V"}),t[3]=o,t[4]=l):l=t[4],t[5]!==s?(c=()=>{Ws.default.isVisible()&&Ws.default.dismiss(),s.open()},t[5]=s,t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ao.ButtonIcon,{icon:_h}),t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ao.ButtonText,{children:r.IS_WEB?(0,bt.jsx)(dt.Trans,{id:"rsDqqD"}):(0,bt.jsx)(dt.Trans,{id:"u/DP73"})}),t[8]=u):u=t[8],t[9]!==i||t[10]!==l||t[11]!==c?(m=(0,bt.jsxs)(ao.Button,{label:i,accessibilityHint:l,size:"small",color:"secondary",variant:"ghost",onPress:c,children:[d,u]}),t[9]=i,t[10]=l,t[11]=c,t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(Qs.Handle,{}),t[13]=h):h=t[13],t[14]!==e?(p=(0,bt.jsx)(UG,Object.assign({},e)),t[14]=e,t[15]=p):p=t[15],t[16]!==s||t[17]!==p?(f=(0,bt.jsxs)(Qs.Outer,{control:s,children:[h,p]}),t[16]=s,t[17]=p,t[18]=f):f=t[18],t[19]!==m||t[20]!==f?(g=(0,bt.jsxs)(Fs.default,{style:a,children:[m,f]}),t[19]=m,t[20]=f,t[21]=g):g=t[21],g}function UG(e){const t=(0,n.c)(55),{defaultAltText:s,saveAltText:o,captions:a,setCaptions:i}=e,l=Qs.useDialogContext(),{_:c}=(0,dt.useLingui)(),d=(0,qs.useTheme)(),{primaryLanguage:u}=(0,Bt.useLanguagePrefs)(),[m,h]=(0,lt.useState)(s);let p;t[0]!==u||t[1]!==i?(p=e=>{i((t=>[...t,{lang:t.some((e=>e.lang===u))?"":u,file:e}]))},t[0]=u,t[1]=i,t[2]=p):p=t[2];const f=p;let g;t[3]!==a?(g=a.some(WG),t[3]=a,t[4]=g):g=t[4];const x=g;let _;t[5]!==m?(_=(0,Eu.isOverMaxGraphemeCount)({text:m,maxCount:Vt.MAX_ALT_TEXT}),t[5]=m,t[6]=_):_=t[6];const y=_;let b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M;return t[7]!==c?(b=c({id:"/skRGV"}),t[7]=c,t[8]=b):b=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"u/DP73"})}),t[9]=j):j=t[9],t[10]!==c?(v=c({id:"u/DP73"}),t[10]=c,t[11]=v):v=t[11],t[12]!==c?(S=c({id:"Pd2MWY"}),t[12]=c,t[13]=S):S=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(w={maxHeight:300},t[14]=w):w=t[14],t[15]!==l?(T=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&l.close()},t[15]=l,t[16]=T):T=t[16],t[17]!==m||t[18]!==v||t[19]!==S||t[20]!==T?(k=(0,bt.jsx)(Qs.Input,{label:v,placeholder:S,value:m,onChangeText:h,maxLength:10*Vt.MAX_ALT_TEXT,multiline:!0,style:w,numberOfLines:3,onKeyPress:T}),t[17]=m,t[18]=v,t[19]=S,t[20]=T,t[21]=k):k=t[21],t[22]!==y||t[23]!==k?(C=(0,bt.jsx)(mo.Root,{isInvalid:y,children:k}),t[22]=y,t[23]=k,t[24]=C):C=t[24],t[25]!==y||t[26]!==d?(I=y&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,{color:d.palette.negative_500},qs.atoms.leading_snug,qs.atoms.mt_md],children:(0,bt.jsx)(dt.Trans,{id:"zryKg1",values:{MAX_ALT_TEXT:Vt.MAX_ALT_TEXT}})}),t[25]=y,t[26]=d,t[27]=I):I=t[27],t[28]!==a||t[29]!==f||t[30]!==i||t[31]!==x||t[32]!==d?(A=r.IS_WEB&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Fs.default,{style:[qs.atoms.border_t,qs.atoms.w_full,d.atoms.border_contrast_medium,qs.atoms.my_md]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xl,qs.atoms.font_semi_bold,qs.atoms.leading_tight],children:(0,bt.jsx)(dt.Trans,{id:"oj5n0N"})}),(0,bt.jsx)(HG,{onSelectFile:f,disabled:x||a.length>=VG}),(0,bt.jsx)(Fs.default,{children:a.map(((e,t)=>(0,bt.jsx)(GG,{language:e.lang,file:e.file,setCaptions:i,otherLanguages:Rt.LANGUAGES.filter((t=>QG(t)===e.lang||!a.some((e=>e.lang===QG(t))))),style:[t%2===0&&d.atoms.bg_contrast_25]},e.lang)))}),x&&(0,bt.jsx)(co.Text,{style:[qs.atoms.text_sm,d.atoms.text_contrast_medium],children:(0,bt.jsx)(dt.Trans,{id:"S5y0NT"})})]}),t[28]=a,t[29]=f,t[30]=i,t[31]=x,t[32]=d,t[33]=A):A=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(P=(0,qs.web)([qs.atoms.flex_row,qs.atoms.justify_end]),t[34]=P):P=t[34],t[35]!==c?(E=c({id:"DPfwMq"}),t[35]=c,t[36]=E):E=t[36],t[37]!==m||t[38]!==l||t[39]!==o?(L=()=>{o(m),l.close()},t[37]=m,t[38]=l,t[39]=o,t[40]=L):L=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(R=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})}),t[41]=R):R=t[41],t[42]!==y||t[43]!==E||t[44]!==L?(B=(0,bt.jsx)(Fs.default,{style:P,children:(0,bt.jsx)(ao.Button,{label:E,size:r.IS_WEB?"small":"large",color:"primary",variant:"solid",onPress:L,style:qs.atoms.mt_lg,disabled:y,children:R})}),t[42]=y,t[43]=E,t[44]=L,t[45]=B):B=t[45],t[46]!==C||t[47]!==I||t[48]!==A||t[49]!==B?(D=(0,bt.jsxs)(Fs.default,{style:qs.atoms.gap_md,children:[j,C,I,A,B]}),t[46]=C,t[47]=I,t[48]=A,t[49]=B,t[50]=D):D=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(O=(0,bt.jsx)(Qs.Close,{}),t[51]=O):O=t[51],t[52]!==D||t[53]!==b?(M=(0,bt.jsxs)(Qs.ScrollableInner,{label:b,children:[D,O]}),t[52]=D,t[53]=b,t[54]=M):M=t[54],M}function WG(e){return""===e.lang}function GG(e){const t=(0,n.c)(42),{language:s,file:o,otherLanguages:a,setCaptions:r,style:i}=e,{_:l}=(0,dt.useLingui)(),c=(0,qs.useTheme)();let d;t[0]!==s||t[1]!==r?(d=e=>{e&&r((t=>t.map((t=>t.lang===s?{lang:e,file:t.file}:t))))},t[0]=s,t[1]=r,t[2]=d):d=t[2];const u=d;let m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A;return t[3]!==i?(m=[qs.atoms.flex_row,qs.atoms.justify_between,qs.atoms.py_md,qs.atoms.px_lg,qs.atoms.rounded_md,qs.atoms.gap_md,i],t[3]=i,t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_1,qs.atoms.gap_xs,qs.atoms.justify_center],t[5]=h):h=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(p=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_sm],t[6]=p):p=t[6],t[7]!==s||t[8]!==c.atoms||t[9]!==c.palette?(f=""===s?(0,bt.jsx)(Cf.Warning_Stroke2_Corner0_Rounded,{style:qs.atoms.flex_shrink_0,fill:c.palette.negative_500,size:"sm"}):(0,bt.jsx)(nU,{style:[c.atoms.text,qs.atoms.flex_shrink_0],size:"sm"}),t[7]=s,t[8]=c.atoms,t[9]=c.palette,t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=[qs.atoms.flex_1,qs.atoms.leading_snug,qs.atoms.font_semi_bold,qs.atoms.mb_2xs],t[11]=g):g=t[11],t[12]!==o.name?(x=(0,bt.jsx)(co.Text,{style:g,numberOfLines:1,children:o.name}),t[12]=o.name,t[13]=x):x=t[13],t[14]!==u?(_=e=>u(e.target.value),t[14]=u,t[15]=_):_=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(y={maxWidth:200,flex:1},t[16]=y):y=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=(0,bt.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:(0,bt.jsx)(dt.Trans,{id:"PtDms8"})}),t[17]=b):b=t[17],t[18]!==a?(j=a.map(qG),t[18]=a,t[19]=j):j=t[19],t[20]!==s||t[21]!==j||t[22]!==_?(v=(0,bt.jsxs)("select",{value:s,onChange:_,style:y,children:[b,j]}),t[20]=s,t[21]=j,t[22]=_,t[23]=v):v=t[23],t[24]!==v||t[25]!==f||t[26]!==x?(S=(0,bt.jsx)(Fs.default,{style:h,children:(0,bt.jsxs)(Fs.default,{style:p,children:[f,x,v]})}),t[24]=v,t[25]=f,t[26]=x,t[27]=S):S=t[27],t[28]!==l?(w=l({id:"rkE1vL"}),t[28]=l,t[29]=w):w=t[29],t[30]!==s||t[31]!==r?(T=()=>r((e=>e.filter((e=>e.lang!==s)))),t[30]=s,t[31]=r,t[32]=T):T=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.ml_sm],C=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded}),t[33]=k,t[34]=C):(k=t[33],C=t[34]),t[35]!==w||t[36]!==T?(I=(0,bt.jsx)(ao.Button,{label:w,size:"tiny",shape:"round",variant:"outline",color:"secondary",onPress:T,style:k,children:C}),t[35]=w,t[36]=T,t[37]=I):I=t[37],t[38]!==S||t[39]!==I||t[40]!==m?(A=(0,bt.jsxs)(Fs.default,{style:m,children:[S,I]}),t[38]=S,t[39]=I,t[40]=m,t[41]=A):A=t[41],A}function qG(e){return(0,bt.jsx)("option",{value:QG(e),children:`${e.name} (${QG(e)})`},QG(e))}function QG(e){return e.code2||e.code3}function KG(e){const t=(0,n.c)(19),{asset:s,video:o,clear:a}=e,{_:r}=(0,dt.useLingui)(),i=(0,Bt.useAutoplayDisabled)();let l,c,d,u,m,h,p,f=s.width/s.height;return isNaN(f)&&(f=1.7777777777777777),t[0]!==f?(l=Kr(f,1,3),t[0]=f,t[1]=l):l=t[1],f=l,t[2]!==f?(c={aspectRatio:f},t[2]=f,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d={backgroundColor:"black"},t[4]=d):d=t[4],t[5]!==c?(u=[qs.atoms.w_full,qs.atoms.rounded_sm,c,qs.atoms.overflow_hidden,d,qs.atoms.relative],t[5]=c,t[6]=u):u=t[6],t[7]!==a?(m=(0,bt.jsx)(_W,{onRemove:a}),t[7]=a,t[8]=m):m=t[8],t[9]!==r||t[10]!==i||t[11]!==a||t[12]!==o.mimeType||t[13]!==o.uri?(h="image/gif"===o.mimeType?(0,bt.jsx)("img",{src:o.uri,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"GIF"}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)("video",{src:o.uri,style:{width:"100%",height:"100%",objectFit:"cover"},autoPlay:!i,loop:!0,muted:!0,playsInline:!0,onError:e=>{Ds.show(r({id:"TyRIa6"}),"xmark"),a()}}),i&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.justify_center,qs.atoms.align_center],children:(0,bt.jsx)(fm,{})})]}),t[9]=r,t[10]=i,t[11]=a,t[12]=o.mimeType,t[13]=o.uri,t[14]=h):h=t[14],t[15]!==u||t[16]!==m||t[17]!==h?(p=(0,bt.jsxs)(Fs.default,{style:u,children:[m,h]}),t[15]=u,t[16]=m,t[17]=h,t[18]=p):p=t[18],p}var ZG=s(95821);function YG(){return null}function $G(e){const t=(0,n.c)(20),{asset:s,progress:o,clear:a}=e,i=(0,qs.useTheme)();if(r.IS_WEB)return null;let l,c,d,u,m,h,p,f,g=s.width/s.height;return isNaN(g)&&(g=1.7777777777777777),t[0]!==g?(l=Kr(g,1,3),t[0]=g,t[1]=l):l=t[1],g=l,t[2]!==g?(c={aspectRatio:g},t[2]=g,t[3]=c):c=t[3],t[4]!==i.atoms.bg_contrast_50||t[5]!==c?(d=[qs.atoms.w_full,i.atoms.bg_contrast_50,qs.atoms.rounded_md,qs.atoms.overflow_hidden,c],t[4]=i.atoms.bg_contrast_50,t[5]=c,t[6]=d):d=t[6],t[7]!==s.uri?(u=(0,bt.jsx)(YG,{uri:s.uri}),t[7]=s.uri,t[8]=u):u=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(m=[qs.atoms.flex_1,qs.atoms.align_center,qs.atoms.justify_center,qs.atoms.gap_lg,qs.atoms.absolute,qs.atoms.inset_0],t[9]=m):m=t[9],t[10]!==o||t[11]!==i.atoms.text.color?(h=(0,bt.jsx)(Fs.default,{style:m,children:(0,bt.jsx)(ZG.default,{size:48,borderWidth:3,borderColor:i.atoms.text.color,color:i.atoms.text.color,progress:o})}),t[10]=o,t[11]=i.atoms.text.color,t[12]=h):h=t[12],t[13]!==a?(p=(0,bt.jsx)(_W,{onRemove:a}),t[13]=a,t[14]=p):p=t[14],t[15]!==d||t[16]!==u||t[17]!==h||t[18]!==p?(f=(0,bt.jsxs)(Fs.default,{style:d,children:[u,h,p]}),t[15]=d,t[16]=u,t[17]=h,t[18]=p,t[19]=f):f=t[19],f}function XG(e){const t=(0,n.c)(5),{uri:s}=e,o=(0,qs.useTheme)(),{data:a}=(0,xW.useResolveLinkQuery)(s);let r;e:{if(!a||"record"!==a.type||"post"!==a.kind){r=void 0;break e}let e;t[0]!==a.view?(e=Kd(a.view),t[0]=a.view,t[1]=e):e=t[1],r=e}const i=r;let l;return t[2]!==o||t[3]!==i?(l=i?(0,bt.jsx)(rp,{embed:{type:"post",view:i}}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.rounded_md,o.atoms.bg_contrast_25,{height:68}]}),t[2]=o,t[3]=i,t[4]=l):l=t[4],l}function JG(e){const t=(0,n.c)(10),{control:s,currentLanguages:o,onSelectLanguage:a}=e,{height:r}=(0,Qr.default)(),i=eq,l=r-(0,ct.useSafeAreaInsets)().top;let c,d,u,m;return t[0]!==l?(c={minHeight:l},t[0]=l,t[1]=c):c=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(Qs.Handle,{}),t[2]=d):d=t[2],t[3]!==o||t[4]!==a?(u=(0,bt.jsx)(ch,{renderError:i,children:(0,bt.jsx)(tq,{currentLanguages:o,onSelectLanguage:a})}),t[3]=o,t[4]=a,t[5]=u):u=t[5],t[6]!==s||t[7]!==c||t[8]!==u?(m=(0,bt.jsxs)(Qs.Outer,{control:s,nativeOptions:c,children:[d,u]}),t[6]=s,t[7]=c,t[8]=u,t[9]=m):m=t[9],m}function eq(e){return(0,bt.jsx)(sq,{details:String(e)})}function tq({currentLanguages:e,onSelectLanguage:t}){const s=Qs.useDialogContext(),[o,n]=(0,lt.useState)(0),a=(0,lt.useMemo)((()=>{const e=Rt.LANGUAGES.filter((e=>!!e.code2)).reduce(((e,t)=>(e[t.code2]=t,e)),{});return Object.values(e)}),[]),i=(0,EA.useLanguagePrefs)(),l=e??(0,EA.toPostLanguages)(i.postLanguage),[c,d]=(0,lt.useState)(l||[i.primaryLanguage]),[u,m]=(0,lt.useState)(""),h=(0,EA.useLanguagePrefsApi)(),p=(0,qs.useTheme)(),{_:f}=(0,dt.useLingui)(),g=()=>{s.close((()=>{let e=c.join(",");e||(e=i.primaryLanguage),h.setPostLanguage(e),t?.(e)}))},x=(0,lt.useMemo)((()=>{const e=Array.from(new Set([...c,...i.postLanguageHistory])).slice(0,5)||[],t=e.map((e=>Rt.LANGUAGES_MAP_CODE2[e])).filter(Boolean);const s=e=>e.name.toLowerCase().includes(u.toLowerCase()),o=e=>c.includes(e.code2),n=t=>e.includes(t.code2),r=t.filter(o);if(u){const e=t.filter((e=>!o(e))).filter(s);return{all:a.filter((e=>!o(e))).filter(s).filter((e=>!n(e))),checkedRecent:r,uncheckedRecent:e}}{const s=t.filter((e=>!o(e)));return{all:a.filter((t=>!e.includes(t.code2))).filter((e=>!n(e))),checkedRecent:r,uncheckedRecent:s}}}),[a,u,i.postLanguageHistory,c]),_=(0,bt.jsxs)(Fs.default,{style:[qs.atoms.pb_xs,p.atoms.bg,r.IS_NATIVE&&qs.atoms.pt_2xl],onLayout:e=>n(e.nativeEvent.layout.height),children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_row,qs.atoms.w_full,qs.atoms.justify_between],children:[(0,bt.jsxs)(Fs.default,{children:[(0,bt.jsx)(co.Text,{nativeID:"dialog-title",style:[p.atoms.text,qs.atoms.text_left,qs.atoms.font_semi_bold,qs.atoms.text_xl,qs.atoms.mb_sm],children:(0,bt.jsx)(dt.Trans,{id:"x8jt+R"})}),(0,bt.jsx)(co.Text,{nativeID:"dialog-description",style:[p.atoms.text_contrast_medium,qs.atoms.text_left,qs.atoms.text_md,qs.atoms.mb_lg],children:(0,bt.jsx)(dt.Trans,{id:"NwYgaP"})})]}),r.IS_WEB&&(0,bt.jsx)(ao.Button,{variant:"ghost",size:"small",color:"secondary",shape:"round",label:f({id:"cu6iol"}),onPress:g,children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})})]}),(0,bt.jsx)(Fs.default,{style:[qs.atoms.w_full,qs.atoms.flex_row,qs.atoms.align_stretch,qs.atoms.gap_xs,qs.atoms.pb_0],children:(0,bt.jsx)(Gj,{value:u,onChangeText:m,placeholder:f({id:"i6o7XB"}),label:f({id:"i6o7XB"}),maxLength:50,onClearText:()=>m("")})})]}),y=x.checkedRecent.length>0||x.uncheckedRecent.length>0,b=0===x.all.length,j=[...y?[{type:"header",label:f({id:"uabU9X"})}]:[],...x.checkedRecent.map((e=>({type:"item",lang:e}))),...x.uncheckedRecent.map((e=>({type:"item",lang:e}))),...b?[]:[{type:"header",label:f({id:"r2QauF"})}],...x.all.map((e=>({type:"item",lang:e})))];return(0,bt.jsx)(af.Group,{values:c,onChange:d,type:"checkbox",maxSelections:3,label:f({id:"05yWmq"}),style:(0,qs.web)([qs.atoms.contents]),children:(0,bt.jsx)(Qs.InnerFlatList,{data:j,ListHeaderComponent:_,stickyHeaderIndices:[0],contentContainerStyle:[qs.atoms.gap_0],style:[r.IS_NATIVE&&qs.atoms.px_lg,(0,qs.web)({paddingBottom:120})],scrollIndicatorInsets:{top:o},renderItem:({item:e,index:t})=>{if("header"===e.type)return(0,bt.jsx)(co.Text,{style:[qs.atoms.px_0,qs.atoms.py_md,qs.atoms.font_semi_bold,qs.atoms.text_xs,p.atoms.text_contrast_low,qs.atoms.pt_3xl],children:e.label},t);const s=e.lang;return(0,bt.jsxs)(af.Item,{name:s.code2,label:(0,Lt.languageName)(s,i.appLanguage),style:[p.atoms.border_contrast_low,qs.atoms.border_b,qs.atoms.rounded_0,qs.atoms.px_0,qs.atoms.py_md],children:[(0,bt.jsx)(af.LabelText,{style:[qs.atoms.flex_1],children:(0,Lt.languageName)(s,i.appLanguage)}),(0,bt.jsx)(af.Checkbox,{})]},s.code2)},footer:(0,bt.jsx)(Qs.FlatListFooter,{children:(0,bt.jsx)(ao.Button,{label:f({id:"cu6iol"}),onPress:g,color:"primary",size:"large",children:(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"DPfwMq"})})})})})})}function sq(e){const t=(0,n.c)(23),{details:s}=e,{_:o}=(0,dt.useLingui)(),a=Qs.useDialogContext();let r,i,l,c,d,u,m,h,p,f;return t[0]!==o?(r=o({id:"UUrrx1"}),t[0]=o,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(Qs.Close,{}),t[2]=i):i=t[2],t[3]!==o?(l=o({id:"5GGAqz"}),t[3]=o,t[4]=l):l=t[4],t[5]!==o?(c=o({id:"yUqcy2"}),t[5]=o,t[6]=c):c=t[6],t[7]!==s||t[8]!==l||t[9]!==c?(d=(0,bt.jsx)(lh,{title:l,message:c,details:s}),t[7]=s,t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==o?(u=o({id:"cu6iol"}),t[11]=o,t[12]=u):u=t[12],t[13]!==a?(m=()=>a.close(),t[13]=a,t[14]=m):m=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"yz7wBu"})}),t[15]=h):h=t[15],t[16]!==u||t[17]!==m?(p=(0,bt.jsx)(ao.Button,{label:u,onPress:m,color:"primary",size:"large",children:h}),t[16]=u,t[17]=m,t[18]=p):p=t[18],t[19]!==r||t[20]!==d||t[21]!==p?(f=(0,bt.jsxs)(Qs.ScrollableInner,{style:qs.atoms.gap_md,label:r,children:[i,d,p]}),t[19]=r,t[20]=d,t[21]=p,t[22]=f):f=t[22],f}function oq(e){const t=(0,n.c)(59),{currentLanguages:s,onSelectLanguage:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,EA.useLanguagePrefs)(),i=(0,EA.useLanguagePrefsApi)(),l=Qs.useDialogControl();let c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T;if(t[0]!==a||t[1]!==s||t[2]!==r.appLanguage||t[3]!==r.postLanguage||t[4]!==r.postLanguageHistory||t[5]!==l||t[6]!==o||t[7]!==i){f=Symbol.for("react.early_return_sentinel");{const e=Array.from(new Set([...r.postLanguageHistory,r.postLanguage]));let n,g,x;if(t[15]!==s||t[16]!==r.postLanguage?(n=s??(0,EA.toPostLanguages)(r.postLanguage),t[15]=s,t[16]=r.postLanguage,t[17]=n):n=t[17],m=n,1!==e.length||e[0]!==r.postLanguage)u=Kp.Root,t[26]!==a?(g=a({id:"Fk5Gcy"}),t[26]=a,t[27]=g):g=t[27],t[28]!==m?(x=e=>{const{props:t}=e;return(0,bt.jsx)(nq,Object.assign({currentLanguages:m},t))},t[28]=m,t[29]=x):x=t[29],t[30]!==g||t[31]!==x?(p=(0,bt.jsx)(Kp.Trigger,{label:g,children:x}),t[30]=g,t[31]=x,t[32]=p):p=t[32],d=Kp.Outer,c=Kp.Group,h=e.map((e=>{const t=e.split(",").map((e=>(0,Lt.codeToLanguageName)(e,r.appLanguage))).join(" + ");return(0,bt.jsxs)(Kp.Item,{label:a({id:"GNZCsD",values:{langName:t}}),onPress:()=>{i.setPostLanguage(e),o?.(e)},children:[(0,bt.jsx)(Kp.ItemText,{children:t}),(0,bt.jsx)(Kp.ItemRadio,{selected:m.includes(e)})]},e)}));else{let e,s,o;t[18]!==l.open?(e=(0,bt.jsx)(nq,{onPress:l.open}),t[18]=l.open,t[19]=e):e=t[19],t[20]!==m||t[21]!==l?(s=(0,bt.jsx)(JG,{control:l,currentLanguages:m}),t[20]=m,t[21]=l,t[22]=s):s=t[22],t[23]!==e||t[24]!==s?(o=(0,bt.jsxs)(bt.Fragment,{children:[e,s]}),t[23]=e,t[24]=s,t[25]=o):o=t[25],f=o}}t[0]=a,t[1]=s,t[2]=r.appLanguage,t[3]=r.postLanguage,t[4]=r.postLanguageHistory,t[5]=l,t[6]=o,t[7]=i,t[8]=c,t[9]=d,t[10]=u,t[11]=m,t[12]=h,t[13]=p,t[14]=f}else c=t[8],d=t[9],u=t[10],m=t[11],h=t[12],p=t[13],f=t[14];return f!==Symbol.for("react.early_return_sentinel")?f:(t[33]!==c||t[34]!==h?(g=(0,bt.jsx)(c,{children:h}),t[33]=c,t[34]=h,t[35]=g):g=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(x=(0,bt.jsx)(Kp.Divider,{}),t[36]=x):x=t[36],t[37]!==a?(_=a({id:"MU/Thd"}),t[37]=a,t[38]=_):_=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(y=(0,bt.jsx)(Kp.ItemText,{children:(0,bt.jsx)(dt.Trans,{id:"MU/Thd"})}),b=(0,bt.jsx)(Kp.ItemIcon,{icon:mn.ChevronRight_Stroke2_Corner0_Rounded}),t[39]=y,t[40]=b):(y=t[39],b=t[40]),t[41]!==l.open||t[42]!==_?(j=(0,bt.jsxs)(Kp.Item,{label:_,onPress:l.open,children:[y,b]}),t[41]=l.open,t[42]=_,t[43]=j):j=t[43],t[44]!==d||t[45]!==g||t[46]!==j?(v=(0,bt.jsxs)(d,{children:[g,x,j]}),t[44]=d,t[45]=g,t[46]=j,t[47]=v):v=t[47],t[48]!==u||t[49]!==v||t[50]!==p?(S=(0,bt.jsxs)(u,{children:[p,v]}),t[48]=u,t[49]=v,t[50]=p,t[51]=S):S=t[51],t[52]!==m||t[53]!==l||t[54]!==o?(w=(0,bt.jsx)(JG,{control:l,currentLanguages:m,onSelectLanguage:o}),t[52]=m,t[53]=l,t[54]=o,t[55]=w):w=t[55],t[56]!==S||t[57]!==w?(T=(0,bt.jsxs)(bt.Fragment,{children:[S,w]}),t[56]=S,t[57]=w,t[58]=T):T=t[58],T)}function nq(e){const t=(0,n.c)(17),{_:s}=(0,dt.useLingui)(),o=(0,EA.useLanguagePrefs)(),a=(0,qs.useTheme)();let r;t[0]!==o.postLanguage?(r=(0,EA.toPostLanguages)(o.postLanguage),t[0]=o.postLanguage,t[1]=r):r=t[1];const i=r,l=e.currentLanguages??i;let c,d,u,m,h;return t[2]!==s?(c=s({id:"iwKH5G"}),t[2]=s,t[3]=c):c=t[3],t[4]!==s?(d=s({id:"NTS/7T"}),t[4]=s,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[qs.atoms.mr_xs],t[6]=u):u=t[6],t[7]!==l||t[8]!==o.appLanguage||t[9]!==a.palette.primary_300||t[10]!==a.palette.primary_500?(m=e=>{const{pressed:t,hovered:s}=e,n=t||s?a.palette.primary_300:a.palette.primary_500;return l.length>0?(0,bt.jsx)(co.Text,{style:[{color:n},qs.atoms.font_semi_bold,qs.atoms.text_sm,qs.atoms.leading_snug,{maxWidth:100}],numberOfLines:1,children:l.map((e=>(0,Lt.codeToLanguageName)(e,o.appLanguage))).join(", ")}):(0,bt.jsx)(dm.Globe_Stroke2_Corner0_Rounded,{size:"xs",style:{color:n}})},t[7]=l,t[8]=o.appLanguage,t[9]=a.palette.primary_300,t[10]=a.palette.primary_500,t[11]=m):m=t[11],t[12]!==e||t[13]!==c||t[14]!==d||t[15]!==m?(h=(0,bt.jsx)(ao.Button,Object.assign({testID:"selectLangBtn",size:"small",hitSlop:Vt.LANG_DROPDOWN_HITSLOP,label:c,accessibilityHint:d,style:u},e,{children:m})),t[12]=e,t[13]=c,t[14]=d,t[15]=m,t[16]=h):h=t[16],h}var aq=function(e){return e.Unsupported="Unsupported",e.MixedTypes="MixedTypes",e.MaxImages="MaxImages",e.MaxVideos="MaxVideos",e.VideoTooLong="VideoTooLong",e.FileTooBig="FileTooBig",e.MaxGIFs="MaxGIFs",e}(aq||{});const rq=["video/mp4","video/mpeg","video/webm","video/quicktime"];function iq(e){return rq.includes(e)}const lq=["image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/avif",r.IS_NATIVE&&"image/heic"].filter(Boolean);function cq(e){return lq.includes(e)}const dq={mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm",webp:"image/webp",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",heic:"image/heic"};async function uq(e){let t,s=e.mimeType;if(!s){const t=(0,HI.extractDataUriMime)(e.uri);if(t.startsWith("image/")||t.startsWith("video/"))s=t;else if(t.startsWith("file/")){const t=e.uri.split(".").pop()?.toLowerCase();s=dq[t||""]}}if(!s)return{success:!1,type:void 0,mimeType:void 0};if("image/gif"===s){let s;if(r.IS_WEB)s=await(e.file?.arrayBuffer());else{const t=new EU.File(e.uri);t.exists&&(s=await t.arrayBuffer())}if(s){const{isAnimated:e}=function(e){const t=new Uint8Array(e);if(!String.fromCharCode(...t.slice(0,6)).startsWith("GIF"))return{isGif:!1,isAnimated:!1,frames:0};let s=13;128&t[10]&&(s+=3*(1<<1+(7&t[10])));let o=0;for(;s<t.length;){const e=t[s++];if(44===e){for(o++,s+=8,128&t[s]?s+=3*(1<<1+(7&t[s]))+1:s++,s++;t[s];)s+=t[s]+1;s++}else if(33===e){for(s++;t[s];)s+=t[s]+1;s++}else if(59===e)break}return{isGif:!0,isAnimated:o>1,frames:o}}(s);t=e?"gif":"image"}else t="gif"}else s?.startsWith("video/")?t="video":s?.startsWith("image/")&&(t="image");return t?{success:!0,type:t,mimeType:s}:{success:!1,type:void 0,mimeType:void 0}}function mq(e){const t=(0,n.c)(29),{disabled:s,allowedAssetTypes:o,selectedAssetsCount:a,onSelectAssets:i,autoOpen:l}=e,{_:c}=(0,dt.useLingui)(),{requestPhotoAccessIfNeeded:d}=(0,Od.usePhotoLibraryPermission)(),{requestVideoAccessIfNeeded:u}=(0,Od.useVideoLibraryPermission)(),m=(0,xu.useSheetWrapper)(),h=(0,qs.useTheme)(),p=(0,lt.useRef)(!1),f=hu-a;let g;t[0]!==c||t[1]!==o||t[2]!==i||t[3]!==f?(g=async e=>{const{type:t,assets:s,errors:n}=await async function(e,{selectionCountRemaining:t,allowedAssetTypes:s}){const o=new Set;let n,a=[];for(const i of e){const{success:e,type:t,mimeType:l}=await uq(i);if(e)if(n=s||n||t,t===n){if("video"===t){if(r.IS_WEB&&!iq(l)){o.add(aq.Unsupported);continue}if(r.IS_WEB&&i.fileSize&&i.fileSize>Vt.VIDEO_MAX_SIZE){o.add(aq.FileTooBig);continue}}"image"!==t||cq(l)?"gif"===t&&r.IS_WEB&&i.fileSize&&i.fileSize>Vt.VIDEO_MAX_SIZE?o.add(aq.FileTooBig):a.push(Object.assign({mimeType:l},i,{uri:r.IS_WEB&&i.base64?`data:${l};base64,${i.base64}`:i.uri})):o.add(aq.Unsupported)}else o.add(aq.MixedTypes);else o.add(aq.Unsupported)}return a.length>0&&("image"===n?a.length>t&&(o.add(aq.MaxImages),a=a.slice(0,t)):"video"===n?(a.length>1&&(o.add(aq.MaxVideos),a=a.slice(0,1)),a[0].duration?(r.IS_WEB&&(a[0].duration=1e3*a[0].duration),a[0].duration>Vt.VIDEO_MAX_DURATION_MS&&(o.add(aq.VideoTooLong),a=[])):(o.add(aq.Unsupported),a=[])):"gif"===n&&a.length>1&&(o.add(aq.MaxGIFs),a=a.slice(0,1))),{type:n,assets:a,errors:o}}(e,{selectionCountRemaining:f,allowedAssetTypes:o}),a=Array.from(n).map((e=>({[aq.Unsupported]:c({id:"OAODKf"}),[aq.MixedTypes]:c({id:"nmBfb2"}),[aq.MaxImages]:c({values:{MAX_IMAGES:hu},id:"L7t7bP"}),[aq.MaxVideos]:c({id:"ttd7Y4"}),[aq.VideoTooLong]:c({id:"lXqJAx"}),[aq.MaxGIFs]:c({id:"ggfZRG"}),[aq.FileTooBig]:c({id:"Y499K1"})}[e])));i({type:t,assets:s,errors:a})},t[0]=c,t[1]=o,t[2]=i,t[3]=f,t[4]=g):g=t[4];const x=g;let _;t[5]!==c||t[6]!==x||t[7]!==d||t[8]!==u||t[9]!==f||t[10]!==m?(_=async()=>{if(r.IS_NATIVE){const[e,t]=await Promise.all([d(),u()]);if(!e&&!t)return void Pd.show(c({id:"8uE4MI"}),{type:"error"})}r.IS_NATIVE&&Ws.default.isVisible()&&Ws.default.dismiss();const{assets:e,canceled:t}=await m((0,Md.openUnifiedPicker)({selectionCountRemaining:f}));t||await x(e)},t[5]=c,t[6]=x,t[7]=d,t[8]=u,t[9]=f,t[10]=m,t[11]=_):_=t[11];const y=_;let b,j,v,S;t[12]!==l||t[13]!==s||t[14]!==y?(b=()=>{!l||p.current||s||(p.current=!0,y())},j=[l,s,y],t[12]=l,t[13]=s,t[14]=y,t[15]=b,t[16]=j):(b=t[15],j=t[16]),(0,lt.useEffect)(b,j),t[17]!==c?(v=c({id:"n/pXS5"}),t[17]=c,t[18]=v):v=t[18],t[19]!==c?(S=c({values:{MAX_IMAGES:hu},id:"iObA9O"}),t[19]=c,t[20]=S):S=t[20];const w=s&&h.atoms.text_contrast_low;let T,k;return t[21]!==w?(T=(0,bt.jsx)(bu,{size:"lg",style:w,accessibilityIgnoresInvertColors:!0}),t[21]=w,t[22]=T):T=t[22],t[23]!==s||t[24]!==y||t[25]!==v||t[26]!==S||t[27]!==T?(k=(0,bt.jsx)(ao.Button,{testID:"openMediaBtn",onPress:y,label:v,accessibilityHint:S,style:qs.atoms.p_sm,variant:"ghost",shape:"round",color:"primary",disabled:s,children:T}),t[23]=s,t[24]=y,t[25]=v,t[26]=S,t[27]=T,t[28]=k):k=t[28],k}function hq(e){if("string"===typeof e)throw new Error("getVideoMetadata was passed a uri, when on web it should be a File");return new Promise(((t,s)=>{const o=new FileReader;o.onload=()=>{const n=o.result;if("image/gif"===e.type){const e=new Image;e.onload=()=>{t({uri:n,mimeType:"image/gif",width:e.width,height:e.height,duration:null})},e.onerror=(e,t,o,n,a)=>{s(new Error("Failed to grab GIF metadata"))},e.src=n}else{const o=document.createElement("video"),a=URL.createObjectURL(e);o.preload="metadata",o.src=a,o.onloadedmetadata=()=>{URL.revokeObjectURL(a),t({uri:n,mimeType:e.type,width:o.videoWidth,height:o.videoHeight,duration:1e3*o.duration})},o.onerror=(e,t,o,n,r)=>{URL.revokeObjectURL(a),s(new Error("Failed to grab video metadata"))}}},o.readAsDataURL(e)}))}const pq=({replyTo:e,onPost:t,onPostSuccess:s,quote:o,mention:a,openEmojiPicker:i,text:l,imageUris:c,videoUri:d,openGallery:u,logContext:m,cancelRef:h})=>{const{currentAccount:p}=(0,Gt.useSession)(),f=(0,Xo.useAnalytics)(),g=(0,Gt.useAgent)(),x=(0,On.useQueryClient)(),_=p.did,{closeComposer:y}=(0,ps.useComposerControls)(),{_:b}=(0,dt.useLingui)(),j=(0,Bt.useRequireAltTextEnabled)(),v=(0,EA.useLanguagePrefs)(),S=(0,EA.useLanguagePrefsApi)(),w=(0,lt.useRef)(null),T=Zi.usePromptControl(),{mutateAsync:k,isPending:C}=dW(),{mutate:I}=function(){const e=(0,n.c)(7),t=(0,Gt.useAgent)(),s=(0,On.useQueryClient)();let o,a,r;return e[0]!==t?(o=async e=>{const{draftId:s,originalLocalRefs:o}=e;zU.debug("cleaning up published draft",{draftId:s,mediaFileCount:o.size}),await t.app.bsky.draft.deleteDraft({id:s}),zU.debug("deleted draft from server",{draftId:s})},e[0]=t,e[1]=o):o=e[1],e[2]!==s?(a=async(e,t)=>{const{originalLocalRefs:o}=t;for(const s of o)zU.debug("deleting media file after publish",{localRefPath:s}),await KU(s);s.invalidateQueries({queryKey:iW}),zU.debug("cleanup after publish complete")},e[2]=s,e[3]=a):a=e[3],e[4]!==o||e[5]!==a?(r={mutationFn:o,onSuccess:a,onError:mW},e[4]=o,e[5]=a,e[6]=r):r=e[6],(0,go.useMutation)(r)}(),{closeAllDialogs:A}=(0,Ht.useDialogStateControlContext)(),{closeAllModals:P}=(0,is.useModalControls)(),{data:E}=(0,xr.usePreferencesQuery)(),L=(0,Ns.useNavigation)(),[R]=Ek({iosUseWillEvents:!0}),[B,D]=(0,lt.useState)(!1),[O,M]=(0,lt.useState)(""),[F,N]=(0,lt.useState)(""),[H,V]=(0,lt.useState)(null),[z,U]=(0,lt.useState)(null),[W,G]=(0,lt.useState)(e?.langs||[]),q=(0,lt.useMemo)((()=>z?[z]:(0,EA.toPostLanguages)(v.postLanguage)),[z,v.postLanguage]),[Q,K]=(0,lt.useReducer)(pu,{initImageUris:c,initQuoteUri:o?.uri,initText:l,initMention:a,initInteractionSettings:E?.postInteractionSettings},fu),Z=Q.thread,Y=Z.posts.every((e=>e.richtext.graphemeLength<=Vt.MAX_DRAFT_GRAPHEME_LENGTH)),$=Z.posts[Q.activePostIndex],X=Z.posts[Q.activePostIndex+1],J=(0,lt.useCallback)((e=>{K({type:"update_post",postId:$.id,postAction:e})}),[$.id]),ee=lt.useCallback(((e,t)=>{const s=new AbortController;K({type:"update_post",postId:e,postAction:{type:"embed_add_video",asset:t,abortController:s}}),mu(t,(t=>{K({type:"update_post",postId:e,postAction:{type:"embed_update_video",videoAction:t}})}),g,_,s.signal,b)}),[b,g,_,K]),te=(0,Bn.useNonReactiveCallback)((()=>{d&&ee($.id,d)}));(0,lt.useEffect)((()=>{te()}),[te]),(0,Qn.useCallOnce)((()=>{f.metric("composer:open",{logContext:m??"Other",isReply:!!e,hasQuote:!!o,hasDraft:!1})}))();const se=(0,lt.useCallback)((e=>{K({type:"update_post",postId:e,postAction:{type:"embed_remove_video"}})}),[K]),oe=(0,lt.useCallback)((async(e,t)=>{try{let s;if(Mt.logger.debug("restoring video from draft",{postId:e,videoUri:t.uri,altText:t.altText,captionCount:t.captions.length}),r.IS_WEB){const e=await fetch(t.uri),o=await e.blob(),n=new File([o],"restored-video",{type:t.mimeType});s=await hq(n)}else{let e=t.uri;if(r.IS_ANDROID){const s=new EU.File(t.uri),o=`draft-video-${Date.now()}.${au(t.mimeType)}`,n=new EU.File(EU.Paths.cache,o);s.copy(n),Mt.logger.debug("restoreVideo: copied to temp file",{source:t.uri,temp:n.uri}),e=n.uri}s=await hq(e)}const o=new AbortController;if(K({type:"update_post",postId:e,postAction:{type:"embed_add_video",asset:s,abortController:o}}),t.altText&&K({type:"update_post",postId:e,postAction:{type:"embed_update_video",videoAction:{type:"update_alt_text",altText:t.altText,signal:o.signal}}}),r.IS_WEB&&t.captions.length>0){const s=t.captions.map((e=>({lang:e.lang,file:new File([e.content],`caption-${e.lang}.vtt`,{type:"text/vtt"})})));K({type:"update_post",postId:e,postAction:{type:"embed_update_video",videoAction:{type:"update_captions",updater:()=>s,signal:o.signal}}})}mu(s,(t=>{K({type:"update_post",postId:e,postAction:{type:"embed_update_video",videoAction:t}})}),g,_,o.signal,b)}catch(s){Mt.logger.error("Failed to restore video from draft",{postId:e,error:s})}}),[b,g,_,K]),ne=lt.useCallback((async e=>{Mt.logger.debug("loading draft for editing",{draftId:e.id});const{loadedMedia:t}=await async function(e){const t=new Map;if(e.deviceId&&e.deviceId!==(0,BM.getDeviceId)())return{loadedMedia:t};for(const o of e.posts){if(o.embedImages)for(const e of o.embedImages)try{const s=await QU(e.localRef.path);t.set(e.localRef.path,s)}catch(s){zU.error("Failed to load draft image",{path:e.localRef.path,safeMessage:s.message})}if(o.embedVideos)for(const e of o.embedVideos)try{const s=await QU(e.localRef.path);t.set(e.localRef.path,s)}catch(s){zU.error("Failed to load draft video",{path:e.localRef.path,safeMessage:s.message})}}return{loadedMedia:t}}(e.draft),s=function(e){const t=new Set;for(const s of e.posts){if(s.embedImages)for(const e of s.embedImages)t.add(e.localRef.path);if(s.embedVideos)for(const e of s.embedVideos)t.add(e.localRef.path)}return zU.debug("extracted localRefs from draft",{count:t.size,refs:Array.from(t)}),t}(e.draft);Mt.logger.debug("draft loaded",{draftId:e.id,loadedMediaCount:t.size,originalLocalRefCount:s.size});const{posts:o,restoredVideos:n}=await async function(e,t){const s=new Map,o=await Promise.all(e.posts.map((async(e,o)=>{const n=new Dn.RichText({text:e.text||""});n.detectFacetsWithoutResolution();const a={quote:void 0,link:void 0,media:void 0};if(e.embedImages&&e.embedImages.length>0){const s=e.embedImages.map((async e=>{const s=t.get(e.localRef.path);if(!s)return null;let o=0,n=0;try{const e=await(0,Oy.getImageDim)(s);o=e.width,n=e.height}catch(a){zU.warn("Failed to get image dimensions",{path:s,error:a})}return zU.debug("restoring image with localRefPath",{localRefPath:e.localRef.path,loadedPath:s,width:o,height:n}),{alt:e.alt||"",localRefPath:e.localRef.path,source:{id:(0,Nd.nanoid)(),path:s,width:o,height:n,mime:"image/jpeg"}}})),o=(await Promise.all(s)).filter((e=>null!==e));o.length>0&&(a.media={type:"images",images:o})}if(e.embedExternals)for(const t of e.embedExternals){const e=rW(t.uri);if(e){const t={url:e.url,dims:[e.width,e.height],duration:0,size:0};a.media={type:"gif",gif:{id:"",created:0,hasaudio:!1,hascaption:!1,flags:"",tags:[],title:"",content_description:e.alt||"",itemurl:"",url:e.url,media_formats:{gif:t,tinygif:t,preview:t}},alt:e.alt};break}}if(e.embedVideos&&e.embedVideos.length>0){const n=e.embedVideos[0],a=t.get(n.localRef.path);if(a){const e=function(e){const t=e.split(":");return t.length>=3&&t[1].includes("/")?t[1]:"video/mp4"}(n.localRef.path);zU.debug("found video to restore",{localRefPath:n.localRef.path,videoUri:a,altText:n.alt,mimeType:e,captionCount:n.captions?.length??0}),s.set(o,{uri:a,altText:n.alt||"",mimeType:e,localRefPath:n.localRef.path,captions:n.captions?.map((e=>({lang:e.lang,content:e.content})))??[]})}}if(e.embedRecords&&e.embedRecords.length>0){const t=e.embedRecords[0],s=new Dn.AtUri(t.record.uri),o=`https://bsky.app/profile/${s.host}/post/${s.rkey}`;a.quote={type:"link",uri:o}}if(e.embedExternals&&!a.media)for(const t of e.embedExternals)if(!rW(t.uri)){a.link={type:"link",uri:t.uri};break}const r=[];if(e.labels&&"values"in e.labels)for(const t of e.labels.values)r.push(t.val);return{id:`draft-post-${o}`,richtext:n,shortenedGraphemeLength:n.graphemeLength,labels:r,embed:a}})));return{posts:o,restoredVideos:s}}(e.draft,t);K({type:"restore_from_draft",draftId:e.id,posts:o,threadgateAllow:e.draft.threadgateAllow,postgateEmbeddingRules:e.draft.postgateEmbeddingRules,loadedMedia:t,originalLocalRefs:s}),V(e.createdAt);const a=e.posts,r=Date.now()-new Date(e.createdAt).getTime();f.metric("draft:load",{draftAgeMs:r,hasText:a.some((e=>e.text.trim().length>0)),hasImages:a.some((e=>e.images&&e.images.length>0)),hasVideo:a.some((e=>!!e.video)),hasGif:a.some((e=>!!e.gif)),postCount:a.length});for(const[i,l]of n){const e=o[i].id;oe(e,l)}}),[K,oe,f]),[ae,re]=(0,lt.useState)(!1),ie=(0,lt.useCallback)((()=>{y(),function(){zU.debug(`Revoking ${qU.size} blob URLs`);for(const e of qU)URL.revokeObjectURL(e);qU.clear()}()}),[y,x]),le=lt.useCallback((e=>e instanceof Dn.AppBskyDraftCreateDraft.DraftLimitReachedError?b({id:"ycA2qN"}):b({id:"TQfiMk"})),[b]),ce=lt.useCallback((()=>!Q.thread.posts.some((e=>e.richtext.graphemeLength>Vt.MAX_DRAFT_GRAPHEME_LENGTH))||(N(b({id:"MQA2Xv",values:{MAX_DRAFT_GRAPHEME_LENGTH:Vt.MAX_DRAFT_GRAPHEME_LENGTH}})),!1)),[Q.thread.posts,b]),de=lt.useCallback((async()=>{if(N(""),!ce())return;const e=!Q.draftId;try{const t=await k({composerState:Q,existingDraftId:Q.draftId});K({type:"mark_saved",draftId:t.draftId});const s=Q.thread.posts;f.metric("draft:save",{isNewDraft:e,hasText:s.some((e=>e.richtext.text.trim().length>0)),hasImages:s.some((e=>"images"===e.embed.media?.type)),hasVideo:s.some((e=>"video"===e.embed.media?.type)),hasGif:s.some((e=>"gif"===e.embed.media?.type)),hasQuote:s.some((e=>!!e.embed.quote)),hasLink:s.some((e=>!!e.embed.link)),postCount:s.length,textLength:s[0].richtext.text.length}),ie()}catch(t){Mt.logger.error("Failed to save draft",{error:t}),N(le(t))}}),[k,Q,K,ie,f,ce,le]),ue=lt.useCallback((async()=>{if(N(""),!ce())return{success:!1};try{const e=await k({composerState:Q,existingDraftId:Q.draftId});return K({type:"mark_saved",draftId:e.draftId}),{success:!0}}catch(e){return N(le(e)),{success:!1}}}),[k,Q,K,ce,le]),me=lt.useCallback((()=>{const e=Z.posts,t=e.some((e=>e.richtext.text.trim().length>0||e.embed.media||e.embed.link));f.metric("draft:discard",{logContext:"ComposerClose",hadContent:t,textLength:e[0].richtext.text.length}),ie()}),[Z.posts,f,ie]),he=lt.useMemo((()=>{if(Z.posts.length>1)return!1;const e=Z.posts[0];return!(e.richtext.text.trim().length>0)&&(!e.embed.media&&(!e.embed.quote&&!e.embed.link))}),[Z.posts]),pe=lt.useCallback((()=>{K({type:"clear",initInteractionSettings:E?.postInteractionSettings})}),[K,E?.postInteractionSettings]),fe=(0,ct.useSafeAreaInsets)(),ge=(0,lt.useMemo)((()=>({paddingTop:r.IS_ANDROID?fe.top:0,paddingBottom:r.IS_IOS&&!R||r.IS_ANDROID&&R?fe.bottom:0})),[fe,R]),xe=(0,lt.useCallback)((()=>{if(w.current?.maybeClosePopup())return;!Z.posts.some((e=>e.shortenedGraphemeLength>0||e.embed.media||e.embed.link))||Q.draftId&&!Q.isDirty?ie():(A(),Ws.default.dismiss(),T.open())}),[Z,Q.draftId,Q.isDirty,A,T,ie]);(0,lt.useImperativeHandle)(h,(()=>({onPressCancel:xe}))),(0,lt.useEffect)((()=>{if(!r.IS_ANDROID)return;const e=AU.default.addEventListener("hardwareBackPress",(()=>(A()||P()||xe(),!0)));return()=>{e.remove()}}),[xe,A,P]);const _e=(0,lt.useMemo)((()=>{if(j)for(let e=0;e<Z.posts.length;e++){const t=Z.posts[e].embed.media;if(t){if("images"===t.type&&t.images.some((e=>!e.alt)))return b({id:"Cqo2D+"});if("gif"===t.type&&!t.alt)return b({id:"8eNnIe"});if("video"===t.type&&"error"!==t.video.status&&!t.video.altText)return b({id:"usRWUG"})}}}),[Z,j,b]),ye=!_e&&Z.posts.every((e=>e.shortenedGraphemeLength<=Vt.MAX_GRAPHEME_LENGTH&&!Pq(e)&&!("video"===e.embed.media?.type&&"error"===e.embed.media.video.status))),be=lt.useCallback((async()=>{if(B)return;if(!ye)return;if(Z.posts.some((e=>"video"===e.embed.media?.type&&e.embed.media.video.asset&&"done"!==e.embed.media.video.status)))return void re(!0);let n,a;N(""),D(!0);try{Mt.logger.info("composer: posting..."),n=(await Ka.post(g,x,{thread:Z,replyTo:e?.uri,onStateChange:M,langs:q})).uris[0];try{if(n){Mt.logger.info("composer: waiting for app view");const t=await(0,$p.retry)(5,(e=>!0),(async()=>{const e=await g.app.bsky.unspecced.getPostThreadV2({anchor:n,above:!1,below:Z.posts.length-1,branchingFactor:1});if(e.data.thread.length!==Z.posts.length)throw new Error("composer: app view is not ready");if(!e.data.thread.every((e=>Dn.AppBskyUnspeccedDefs.isThreadItemPost(e.value))))throw new Error("composer: app view returned non-post items");return e.data.thread}),1e3);a={replyToUri:e?.uri,posts:t}}}catch(r){Mt.logger.info("composer: waiting for app view failed",{safeMessage:r})}}catch(i){Mt.logger.error(i,{message:"Composer: create post failed",hasImages:Z.posts.some((e=>"images"===e.embed.media?.type))});let e=(0,Tn.cleanError)(i.message);return e.includes("not locate record")?e=b({id:"fE/H3i"}):i instanceof A_.EmbeddingDisabledError&&(e=b({id:"c+0vRh"})),N(e),void D(!1)}finally{if(n){let t=0;for(let s of Z.posts)f.metric("post:create",{imageCount:"images"===s.embed.media?.type?s.embed.media.images.length:0,isReply:t>0||!!e,isPartOfThread:Z.posts.length>1,hasLink:!!s.embed.link,hasQuote:!!s.embed.quote,langs:(0,EA.fromPostLanguages)(q),logContext:"Composer"}),t++}Z.posts.length>1&&f.metric("thread:create",{postCount:Z.posts.length,isReply:!!e})}if(n&&!e&&(0,_t.emitPostCreated)(),Q.draftId&&Q.originalLocalRefs){if(H){const e=Date.now()-new Date(H).getTime();f.metric("draft:post",{draftAgeMs:e,wasEdited:Q.isDirty})}Mt.logger.debug("post published, cleaning up draft",{draftId:Q.draftId,mediaFileCount:Q.originalLocalRefs.size}),I({draftId:Q.draftId,originalLocalRefs:Q.originalLocalRefs})}S.savePostLanguageToHistory(),o?async function(e,t,s){await(0,Za.until)(5,1e3,s,(()=>e.app.bsky.unspecced.getPostThreadV2({anchor:t,above:!1,below:0,branchingFactor:0})))}(g,o.uri,(e=>{const r=e.data.thread.at(0);return!(!Dn.AppBskyUnspeccedDefs.isThreadItemPost(r?.value)||r.value.post.quoteCount===o.quoteCount)&&(t?.(n),s?.(a),!0)})):(t?.(n),s?.(a)),ie(),setTimeout((()=>{Pd.show((0,bt.jsxs)(Pd.Outer,{children:[(0,bt.jsx)(Pd.Icon,{}),(0,bt.jsx)(Pd.Text,{children:Z.posts.length>1?b({id:"nSNP0H"}):b(e?{id:"kRMxic"}:{id:"t/9xC8"})}),n&&(0,bt.jsx)(Pd.Action,{label:b({id:"ISg5SQ"}),onPress:()=>{const{host:e,rkey:t}=new Dn.AtUri(n);L.navigate("PostThread",{name:e,rkey:t})},children:(0,bt.jsx)(dt.Trans,{id:"qJUOZr"})})]}),{type:"success"})}),500)}),[b,f,g,Z,ye,B,q,ie,t,s,o,e,S,x,L,Q.draftId,Q.originalLocalRefs,Q.isDirty,I,H]),je=(0,Bn.useNonReactiveCallback)((()=>{be()}));let ve;lt.useEffect((()=>{if(ae){let e=0,t=0;for(let s of Z.posts)if("video"===s.embed.media?.type){const o=s.embed.media.video;"error"===o.status?e++:"done"!==o.status&&t++}e>0?re(!1):0===t&&(re(!1),be())}}),[Z.posts,be,ae]);let Se=cu;for(let n=0;n<Z.posts.length;n++){const e=Z.posts[n];if("video"===e.embed.media?.type&&"error"===e.embed.media.video.status){ve=e.id,Se=e.embed.media.video;break}}const we=(0,lt.useCallback)((()=>{const e=w.current?.getCursorPosition();e&&i?.(Object.assign({},e,{nextFocusRef:w}))}),[i]),Te=(0,yn.useAnimatedRef)();(0,lt.useEffect)((()=>{Q.mutableNeedsFocusActive&&(Q.mutableNeedsFocusActive=!1,r.IS_ANDROID||w.current?.focus())}),[Q]);const ke=Z.posts.length>1&&void 0===X,{scrollHandler:Ce,onScrollViewContentSizeChange:Ie,onScrollViewLayout:Ae,topBarAnimatedStyle:Pe,bottomBarAnimatedStyle:Ee}=function(e){const t=(0,n.c)(21),{scrollViewRef:s,stickyBottom:o}=e,a=(0,qs.useTheme)(),r=(0,yn.useSharedValue)(0),i=(0,yn.useSharedValue)(1/0),l=(0,yn.useSharedValue)(0),c=(0,yn.useDerivedValue)(function(){const e=()=>(0,yn.withTiming)(0===r.get()?1:0);return e.__closure={withTiming:yn.withTiming,contentOffset:r},e.__workletHash=6808902969926,e.__initData=Sq,e}()),d=(0,yn.useDerivedValue)(function(){const e=()=>(0,yn.withTiming)(l.get()-r.get()-5<=i.get()?1:0);return e.__closure={withTiming:yn.withTiming,contentHeight:l,contentOffset:r,scrollViewHeight:i},e.__workletHash=8853057709052,e.__initData=wq,e}());let u;t[0]!==l||t[1]!==r||t[2]!==i?(u=function(){const e=function(e){const{newContentHeight:t,newContentOffset:s,newScrollViewHeight:o}=e;"number"===typeof t&&l.set(Math.floor(t)),"number"===typeof s&&r.set(Math.floor(s)),"number"===typeof o&&i.set(Math.floor(o))};return e.__closure={contentHeight:l,contentOffset:r,scrollViewHeight:i},e.__workletHash=3421630273025,e.__initData=Tq,e}(),t[0]=l,t[1]=r,t[2]=i,t[3]=u):u=t[3];const m=u,h=(0,yn.useAnimatedScrollHandler)({onScroll:function(){const e=function(e){m({newContentOffset:e.contentOffset.y,newContentHeight:e.contentSize.height,newScrollViewHeight:e.layoutMeasurement.height})};return e.__closure={showHideBottomBorder:m},e.__workletHash=2498566142233,e.__initData=kq,e}()});let p;t[4]!==l||t[5]!==r||t[6]!==i||t[7]!==s||t[8]!==m||t[9]!==o?(p=function(){const e=function(e){const t=l.get();let n=!1;if(o&&e>t){t-r.get()-100<=i.get()&&(n=!0)}m({newContentHeight:e}),n&&(0,yn.scrollTo)(s,0,e,!0)};return e.__closure={contentHeight:l,stickyBottom:o,contentOffset:r,scrollViewHeight:i,showHideBottomBorder:m,scrollTo:yn.scrollTo,scrollViewRef:s},e.__workletHash=2838148290074,e.__initData=Cq,e}(),t[4]=l,t[5]=r,t[6]=i,t[7]=s,t[8]=m,t[9]=o,t[10]=p):p=t[10];const f=p;let g;t[11]!==f?(g=(e,t)=>{(0,yn.runOnUI)(f)(t)},t[11]=f,t[12]=g):g=t[12];const x=g;let _;t[13]!==m?(_=e=>{m({newScrollViewHeight:e.nativeEvent.layout.height})},t[13]=m,t[14]=_):_=t[14];const y=_,b=(0,yn.useAnimatedStyle)(function(){const e=()=>({borderBottomWidth:Os.default.hairlineWidth,borderColor:(0,yn.interpolateColor)(c.get(),[0,1],[a.atoms.border_contrast_medium.borderColor,"transparent"])});return e.__closure={StyleSheet:Os.default,interpolateColor:yn.interpolateColor,hasScrolledToTop:c,t:a},e.__workletHash=0xfa5d41ead4d,e.__initData=Iq,e}()),j=(0,yn.useAnimatedStyle)(function(){const e=()=>({borderTopWidth:Os.default.hairlineWidth,borderColor:(0,yn.interpolateColor)(d.get(),[0,1],[a.atoms.border_contrast_medium.borderColor,"transparent"])});return e.__closure={StyleSheet:Os.default,interpolateColor:yn.interpolateColor,hasScrolledToBottom:d,t:a},e.__workletHash=5612808509608,e.__initData=Aq,e}());let v;t[15]!==j||t[16]!==x||t[17]!==y||t[18]!==h||t[19]!==b?(v={scrollHandler:h,onScrollViewContentSizeChange:x,onScrollViewLayout:y,topBarAnimatedStyle:b,bottomBarAnimatedStyle:j},t[15]=j,t[16]=x,t[17]=y,t[18]=h,t[19]=b,t[20]=v):v=t[20];return v}({scrollViewRef:Te,stickyBottom:ke}),Le=function(){const{top:e,bottom:t}=(0,ct.useSafeAreaInsets)();if(!r.IS_IOS)return-1*t;if(20===e)return 40;return e+10}(),Re=(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(iG,{text:$.richtext.text,replyToLanguages:W,currentLanguages:q,onAcceptSuggestedLanguage:U}),(0,bt.jsx)(yq,{isReply:!!e,post:$,thread:Q.thread,dispatch:K,bottomBarAnimatedStyle:Ee}),(0,bt.jsx)(bq,{post:$,dispatch:J,showAddButton:!Pq($)&&(!X||!Pq(X)),onError:N,onEmojiButtonPress:we,onSelectVideo:ee,onAddPost:()=>{K({type:"add_post"})},currentLanguages:q,onSelectLanguage:()=>{U(null),G([])},openGallery:u})]}),Be=!r.IS_NATIVE&&Z.posts.length>1;return(0,bt.jsx)(SU.BottomSheetPortalProvider,{children:(0,bt.jsxs)(Ck.default,{testID:"composePostView",behavior:r.IS_IOS?"padding":"height",keyboardVerticalOffset:Le,style:qs.atoms.flex_1,children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,ge],"aria-modal":!0,accessibilityViewIsModal:!0,children:[(0,bt.jsxs)(gq,{canPost:ye,isReply:!!e,isPublishQueued:ae,isPublishing:B,isThread:Z.posts.length>1,publishingStage:O,topBarAnimatedStyle:Pe,onCancel:xe,onPublish:be,onSelectDraft:ne,onSaveDraft:ue,onDiscard:pe,isEmpty:he,isDirty:Q.isDirty,isEditingDraft:!!Q.draftId,canSaveDraft:Y,textLength:Z.posts[0].richtext.text.length,children:[_e&&(0,bt.jsx)(xq,{error:_e}),(0,bt.jsx)(Lq,{error:F,videoState:Se,clearError:()=>N(""),clearVideo:ve?()=>se(ve):()=>{}})]}),(0,bt.jsxs)(yn.default.ScrollView,{ref:Te,layout:(0,qs.native)(yn.LinearTransition),onScroll:Ce,contentContainerStyle:qs.atoms.flex_grow,style:qs.atoms.flex_1,keyboardShouldPersistTaps:"always",onContentSizeChange:Ie,onLayout:Ae,children:[e?(0,bt.jsx)(LU,{replyTo:e}):void 0,Z.posts.map(((t,s)=>(0,bt.jsxs)(lt.Fragment,{children:[(0,bt.jsx)(fq,{post:t,dispatch:K,textInput:t.id===$.id?w:null,isFirstPost:0===s,isLastPost:s===Z.posts.length-1,isPartOfThread:Z.posts.length>1,isReply:s>0||!!e,isActive:t.id===$.id,canRemovePost:Z.posts.length>1,canRemoveQuote:s>0||!o,onSelectVideo:ee,onClearVideo:se,onPublish:je,onError:N}),Be&&t.id===$.id&&(0,bt.jsx)(Fs.default,{style:Eq.stickyFooterWeb,children:Re})]},t.id+(Q.draftId??""))))]}),!Be&&Re]}),e?(0,bt.jsx)(Zi.Basic,{control:T,title:b({id:"ZErbHI"}),description:"",confirmButtonCta:b({id:"bzSI52"}),confirmButtonColor:"negative",onConfirm:me}):(0,bt.jsxs)(Zi.Outer,{control:T,children:[(0,bt.jsxs)(Zi.Content,{children:[(0,bt.jsx)(Zi.TitleText,{children:Y?Q.draftId?(0,bt.jsx)(dt.Trans,{id:"q5/C4G"}):(0,bt.jsx)(dt.Trans,{id:"rEMSvn"}):(0,bt.jsx)(dt.Trans,{id:"GO/HSz"})}),(0,bt.jsx)(Zi.DescriptionText,{children:Y?Q.draftId?(0,bt.jsx)(dt.Trans,{id:"1KsN9n"}):(0,bt.jsx)(dt.Trans,{id:"faCI/f"}):(0,bt.jsx)(dt.Trans,{id:"4EwuYT"})})]}),(0,bt.jsxs)(Zi.Actions,{children:[Y&&(0,bt.jsx)(Zi.Action,{cta:Q.draftId?b({id:"y3aU20"}):b({id:"vgpfCi"}),onPress:de,color:"primary"}),(0,bt.jsx)(Zi.Action,{cta:b({id:"bzSI52"}),onPress:me,color:"negative_subtle"}),(0,bt.jsx)(Zi.Cancel,{cta:b({id:"4OjqAQ"})})]})]})]})})};let fq=lt.memo((function(e){const t=(0,n.c)(81),{post:s,dispatch:o,textInput:a,isActive:i,isReply:l,isFirstPost:c,isLastPost:d,isPartOfThread:u,canRemovePost:m,canRemoveQuote:h,onClearVideo:p,onSelectVideo:f,onError:g,onPublish:x}=e,{currentAccount:_}=(0,Gt.useSession)(),y=_.did,{_:b}=(0,dt.useLingui)();let j;t[0]!==y?(j={did:y},t[0]=y,t[1]=j):j=t[1];const{data:v}=(0,Ut.useProfileQuery)(j),S=s.richtext,w=!s.embed.link&&!s.embed.quote&&!s.embed.media,T=r.IS_WEB&&w&&i;let k;t[2]!==b||t[3]!==c||t[4]!==l?(k=b(l?c?{id:"6ckZRB"}:{id:"VmiI3m"}:{id:"tmQ7o0"}),t[2]=b,t[3]=c,t[4]=l,t[5]=k):k=t[5];const C=k,I=Zi.usePromptControl();let A;t[6]!==o||t[7]!==s.id?(A=e=>{o({type:"update_post",postId:s.id,postAction:e})},t[6]=o,t[7]=s.id,t[8]=A):A=t[8];const P=A;let E;t[9]!==P?(E=e=>{P({type:"embed_add_images",images:e})},t[9]=P,t[10]=E):E=t[10];const L=E;let R;t[11]!==P?(R=e=>{P({type:"embed_add_uri",uri:e})},t[11]=P,t[12]=R):R=t[12];const B=R;let D;t[13]!==b||t[14]!==L||t[15]!==f||t[16]!==s.id?(D=async e=>{if(e.startsWith("data:video/")||r.IS_WEB&&e.startsWith("data:image/gif")){if(r.IS_NATIVE)return;const[t]=e.slice(5).split(";");if(!Vt.SUPPORTED_MIME_TYPES.includes(t))return void Pd.show(b({id:"Ci6ap/",values:{mimeType:t}}),{type:"error"});const o=`pasted.${au(t)}`,n=await fetch(e).then(Mq).then((e=>new File([e],o,{type:t})));f(s.id,await hq(n))}else{const t=await(0,zd.pasteImage)(e);L([t])}},t[13]=b,t[14]=L,t[15]=f,t[16]=s.id,t[17]=D):D=t[17];const O=D;!function(){const e=(0,n.c)(3),t=(0,$i.useAppState)();let s,o;e[0]!==t?(s=()=>{r.IS_IOS&&"inactive"===t&&Ws.default.dismiss()},o=[t],e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]);(0,lt.useEffect)(s,o)}();const M=!i&&d&&qs.atoms.mb_lg,F=!i&&Eq.inactivePost,N=w&&d&&r.IS_NATIVE&&qs.atoms.flex_grow;let H,V;t[18]!==M||t[19]!==F||t[20]!==N?(H=[qs.atoms.mx_lg,qs.atoms.mb_sm,M,F,N],t[18]=M,t[19]=F,t[20]=N,t[21]=H):H=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.flex_row,r.IS_NATIVE&&qs.atoms.flex_1],t[22]=V):V=t[22];const z=v?.avatar,U=v?.associated?.labeler?"labeler":"user";let W,G,q,Q,K,Z,Y,$,X,J,ee,te,se;return t[23]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.mt_xs],t[23]=W):W=t[23],t[24]!==z||t[25]!==U?(G=(0,bt.jsx)(Gi.UserAvatar,{avatar:z,size:42,type:U,style:W}),t[24]=z,t[25]=U,t[26]=G):G=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(q=[qs.atoms.pt_xs],t[27]=q):q=t[27],t[28]!==P?(Q=e=>{P({type:"update_richtext",richtext:e})},t[28]=P,t[29]=Q):Q=t[29],t[30]!==o||t[31]!==s.id?(K=()=>{o({type:"focus_post",postId:s.id})},t[30]=o,t[31]=s.id,t[32]=K):K=t[32],t[33]!==b?(Z=b({id:"y02THm"}),t[33]=b,t[34]=Z):Z=t[34],t[35]!==b?(Y=b({id:"I5wVwm",values:{0:Vt.MAX_GRAPHEME_LENGTH||0}}),t[35]=b,t[36]=Y):Y=t[36],t[37]!==T||t[38]!==i||t[39]!==d||t[40]!==u||t[41]!==g||t[42]!==B||t[43]!==O||t[44]!==x||t[45]!==S||t[46]!==C||t[47]!==Q||t[48]!==K||t[49]!==Z||t[50]!==Y||t[51]!==a?($=(0,bt.jsx)(RG,{ref:a,style:q,richtext:S,placeholder:C,autoFocus:d,webForceMinHeight:T,hasRightPadding:u,isActive:i,setRichText:Q,onFocus:K,onPhotoPasted:O,onNewLink:B,onError:g,onPressPublish:x,accessible:!0,accessibilityLabel:Z,accessibilityHint:Y}),t[37]=T,t[38]=i,t[39]=d,t[40]=u,t[41]=g,t[42]=B,t[43]=O,t[44]=x,t[45]=S,t[46]=C,t[47]=Q,t[48]=K,t[49]=Z,t[50]=Y,t[51]=a,t[52]=$):$=t[52],t[53]!==G||t[54]!==$?(X=(0,bt.jsxs)(Fs.default,{style:V,children:[G,$]}),t[53]=G,t[54]=$,t[55]=X):X=t[55],t[56]!==b||t[57]!==m||t[58]!==I||t[59]!==o||t[60]!==i||t[61]!==s.embed.link||t[62]!==s.embed.media||t[63]!==s.embed.quote||t[64]!==s.id||t[65]!==s.shortenedGraphemeLength?(J=m&&i&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(ao.Button,{label:b({id:"04G5Az"}),size:"small",color:"secondary",variant:"ghost",shape:"round",style:[qs.atoms.absolute,{top:0,right:0}],onPress:()=>{s.shortenedGraphemeLength>0||s.embed.media||s.embed.link||s.embed.quote?I.open():o({type:"remove_post",postId:s.id})},children:(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded})}),(0,bt.jsx)(Zi.Basic,{control:I,title:b({id:"GO/HSz"}),description:b({id:"tSFn/S"}),onConfirm:()=>{o({type:"remove_post",postId:s.id})},confirmButtonCta:b({id:"bzSI52"}),confirmButtonColor:"negative"})]}),t[56]=b,t[57]=m,t[58]=I,t[59]=o,t[60]=i,t[61]=s.embed.link,t[62]=s.embed.media,t[63]=s.embed.quote,t[64]=s.id,t[65]=s.shortenedGraphemeLength,t[66]=J):J=t[66],t[67]!==p||t[68]!==s.id?(ee=()=>p(s.id),t[67]=p,t[68]=s.id,t[69]=ee):ee=t[69],t[70]!==h||t[71]!==P||t[72]!==i||t[73]!==s.embed||t[74]!==ee?(te=(0,bt.jsx)(_q,{canRemoveQuote:h,embed:s.embed,dispatch:P,clearVideo:ee,isActivePost:i}),t[70]=h,t[71]=P,t[72]=i,t[73]=s.embed,t[74]=ee,t[75]=te):te=t[75],t[76]!==H||t[77]!==X||t[78]!==J||t[79]!==te?(se=(0,bt.jsxs)(Fs.default,{style:H,children:[X,J,te]}),t[76]=H,t[77]=X,t[78]=J,t[79]=te,t[80]=se):se=t[80],se}));function gq(e){const t=(0,n.c)(38),{canPost:s,isReply:o,isPublishQueued:a,isPublishing:r,isThread:i,publishingStage:l,onCancel:c,onPublish:d,onSelectDraft:u,onSaveDraft:m,onDiscard:h,isEmpty:p,isDirty:f,isEditingDraft:g,canSaveDraft:x,textLength:_,topBarAnimatedStyle:y,children:b}=e,j=(0,qs.useTheme)(),{_:v}=(0,dt.useLingui)();let S,w,T,k,C,I,A,P,E,L,R;return t[0]===Symbol.for("react.memo_cache_sentinel")?(S=(0,qs.native)(yn.LinearTransition),t[0]=S):S=t[0],t[1]!==v?(w=v({id:"dEgA5A"}),t[1]=v,t[2]=w):w=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(T=[{paddingLeft:7,paddingRight:7}],t[3]=T):T=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(k=[qs.atoms.bg_transparent,{opacity:.5}],t[4]=k):k=t[4],t[5]!==v?(C=v({id:"T6Lu6i"}),t[5]=v,t[6]=C):C=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(I=(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:(0,bt.jsx)(dt.Trans,{id:"dEgA5A"})}),t[7]=I):I=t[7],t[8]!==c||t[9]!==w||t[10]!==C?(A=(0,bt.jsx)(ao.Button,{label:w,variant:"ghost",color:"primary",shape:"default",size:"small",style:T,hoverStyle:k,onPress:c,accessibilityHint:C,children:I}),t[8]=c,t[9]=w,t[10]=C,t[11]=A):A=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(P=(0,bt.jsx)(Fs.default,{style:qs.atoms.flex_1}),t[12]=P):P=t[12],t[13]!==v||t[14]!==s||t[15]!==x||t[16]!==f||t[17]!==g||t[18]!==p||t[19]!==a||t[20]!==r||t[21]!==o||t[22]!==i||t[23]!==h||t[24]!==d||t[25]!==m||t[26]!==u||t[27]!==l||t[28]!==j||t[29]!==_?(E=r?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(co.Text,{style:[j.atoms.text_contrast_medium],children:l}),(0,bt.jsx)(Fs.default,{style:Eq.postBtn,children:(0,bt.jsx)(vn.default,{})})]}):(0,bt.jsxs)(bt.Fragment,{children:[!o&&(0,bt.jsx)(gW,{onSelectDraft:u,onSaveDraft:m,onDiscard:h,isEmpty:p,isDirty:f,isEditingDraft:g,canSaveDraft:x,textLength:_}),(0,bt.jsx)(ao.Button,{testID:"composerPublishBtn",label:v(o?i?{id:"Xwksg4"}:{id:"kuKtuE"}:i?{id:"cMJC0Z"}:{id:"Tj/Adz"}),color:"primary",size:"small",onPress:d,disabled:!s||a,children:(0,bt.jsx)(ao.ButtonText,{style:[qs.atoms.text_md],children:o?(0,bt.jsx)(dt.Trans,{id:"J7WWNk"}):i?(0,bt.jsx)(dt.Trans,{id:"jSgBvX"}):(0,bt.jsx)(dt.Trans,{id:"B47227"})})})]}),t[13]=v,t[14]=s,t[15]=x,t[16]=f,t[17]=g,t[18]=p,t[19]=a,t[20]=r,t[21]=o,t[22]=i,t[23]=h,t[24]=d,t[25]=m,t[26]=u,t[27]=l,t[28]=j,t[29]=_,t[30]=E):E=t[30],t[31]!==A||t[32]!==E?(L=(0,bt.jsxs)(Fs.default,{style:Eq.topbarInner,children:[A,P,E]}),t[31]=A,t[32]=E,t[33]=L):L=t[33],t[34]!==b||t[35]!==L||t[36]!==y?(R=(0,bt.jsxs)(yn.default.View,{style:y,layout:S,children:[L,b]}),t[34]=b,t[35]=L,t[36]=y,t[37]=R):R=t[37],R}function xq(e){const t=(0,n.c)(3),{error:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[qs.atoms.mt_2xs,qs.atoms.mb_sm,qs.atoms.mx_lg],t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsx)(no.Admonition,{type:"error",style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function _q(e){const t=(0,n.c)(29),{embed:s,dispatch:o,clearVideo:a,canRemoveQuote:i,isActivePost:l}=e,c="video"===s.media?.type?s.media.video:null;let d,u,m,h,p,f,g;return t[0]!==o||t[1]!==s.media?(d="images"===s.media?.type&&(0,bt.jsx)(TW,{images:s.media.images,dispatch:o}),t[0]=o,t[1]=s.media,t[2]=d):d=t[2],t[3]!==o||t[4]!==s.media?(u="gif"===s.media?.type&&(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative,qs.atoms.mt_lg],children:[(0,bt.jsx)(yW,{gif:s.media.gif,onRemove:()=>o({type:"embed_remove_gif"})}),(0,bt.jsx)(PW,{gif:s.media.gif,altText:s.media.alt??"",onSubmit:e=>{o({type:"embed_update_gif",alt:e})}})]},s.media.gif.url),t[3]=o,t[4]=s.media,t[5]=u):u=t[5],t[6]!==o||t[7]!==s.link||t[8]!==s.media||t[9]!==s.quote?(m=!s.media&&s.link&&(0,bt.jsx)(Fs.default,{style:[qs.atoms.relative,qs.atoms.mt_lg],children:(0,bt.jsx)(bW,{uri:s.link.uri,hasQuote:!!s.quote,onRemove:()=>o({type:"embed_remove_link"})})},s.link.uri),t[6]=o,t[7]=s.link,t[8]=s.media,t[9]=s.quote,t[10]=m):m=t[10],t[11]!==a||t[12]!==o||t[13]!==l||t[14]!==c?(h=c&&(0,bt.jsxs)(yn.default.View,{style:[qs.atoms.w_full,qs.atoms.mt_lg],entering:(0,qs.native)(yn.ZoomIn),exiting:(0,qs.native)(yn.ZoomOut),children:[c.asset&&("compressing"===c.status?(0,bt.jsx)($G,{asset:c.asset,progress:c.progress,clear:a}):c.video?(0,bt.jsx)(KG,{asset:c.asset,video:c.video,isActivePost:l,clear:a}):null),(0,bt.jsx)(zG,{defaultAltText:c.altText,saveAltText:e=>o({type:"embed_update_video",videoAction:{type:"update_alt_text",altText:e,signal:c.abortController.signal}}),captions:c.captions,setCaptions:e=>{o({type:"embed_update_video",videoAction:{type:"update_captions",updater:e,signal:c.abortController.signal}})}})]}),t[11]=a,t[12]=o,t[13]=l,t[14]=c,t[15]=h):h=t[15],t[16]!==h?(p=(0,bt.jsx)(yn.LayoutAnimationConfig,{skipExiting:!0,children:h}),t[16]=h,t[17]=p):p=t[17],t[18]!==i||t[19]!==o||t[20]!==s.quote||t[21]!==c?(f=s.quote?.uri?(0,bt.jsx)(Fs.default,{style:[qs.atoms.pb_sm,c?[qs.atoms.pt_md]:[qs.atoms.pt_xl],r.IS_WEB&&[qs.atoms.pb_md]],children:(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative],children:[(0,bt.jsx)(Fs.default,{style:{pointerEvents:"none"},children:(0,bt.jsx)(XG,{uri:s.quote.uri})}),i&&(0,bt.jsx)(_W,{onRemove:()=>o({type:"embed_remove_quote"}),style:{top:16}})]})}):null,t[18]=i,t[19]=o,t[20]=s.quote,t[21]=c,t[22]=f):f=t[22],t[23]!==d||t[24]!==u||t[25]!==m||t[26]!==p||t[27]!==f?(g=(0,bt.jsxs)(bt.Fragment,{children:[d,u,m,p,f]}),t[23]=d,t[24]=u,t[25]=m,t[26]=p,t[27]=f,t[28]=g):g=t[28],g}function yq(e){const t=(0,n.c)(21),{isReply:s,thread:o,post:a,dispatch:r,bottomBarAnimatedStyle:i}=e,l=(0,qs.useTheme)(),c=a.embed.media,d="images"===c?.type||"video"===c?.type,u=!!a.embed.link;if(s&&!d&&!u)return null;let m,h,p,f,g,x;return t[0]!==i||t[1]!==l.atoms.bg?(m=[qs.atoms.flex_row,qs.atoms.p_sm,l.atoms.bg,i],t[0]=i,t[1]=l.atoms.bg,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.gap_sm],t[3]=h):h=t[3],t[4]!==i||t[5]!==r||t[6]!==s||t[7]!==o?(p=s?null:(0,bt.jsx)(NG,{postgate:o.postgate,onChangePostgate:e=>{r({type:"update_postgate",postgate:e})},threadgateAllowUISettings:o.threadgate,onChangeThreadgateAllowUISettings:e=>{r({type:"update_threadgate",threadgate:e})},style:i}),t[4]=i,t[5]=r,t[6]=s,t[7]=o,t[8]=p):p=t[8],t[9]!==r||t[10]!==u||t[11]!==d||t[12]!==a.id||t[13]!==a.labels?(f=d||u?(0,bt.jsx)(RW,{labels:a.labels,onChange:e=>{r({type:"update_post",postId:a.id,postAction:{type:"update_labels",labels:e}})}}):null,t[9]=r,t[10]=u,t[11]=d,t[12]=a.id,t[13]=a.labels,t[14]=f):f=t[14],t[15]!==p||t[16]!==f?(g=(0,bt.jsxs)(Vi.default,{contentContainerStyle:h,horizontal:!0,bounces:!1,keyboardShouldPersistTaps:"always",showsHorizontalScrollIndicator:!1,children:[p,f]}),t[15]=p,t[16]=f,t[17]=g):g=t[17],t[18]!==m||t[19]!==g?(x=(0,bt.jsx)(yn.default.View,{style:m,children:g}),t[18]=m,t[19]=g,t[20]=x):x=t[20],x}function bq(e){const t=(0,n.c)(48),{post:s,dispatch:o,showAddButton:a,onEmojiButtonPress:r,onSelectVideo:i,onAddPost:l,currentLanguages:c,onSelectLanguage:d,openGallery:u}=e,m=(0,qs.useTheme)(),{_:h}=(0,dt.useLingui)(),{isMobile:p}=(0,jn.useWebMediaQueries)(),[f,g]=(0,lt.useState)(void 0),x=s.embed.media;let _;t[0]!==x?(_="images"===x?.type?x.images:[],t[0]=x,t[1]=_):_=t[1];const y=_,b="video"===x?.type?x.video:null,j=y.length>=hu,v=!!b;let S,w,T=0;"images"===x?.type?(S=j,T=y.length):"video"===x?.type?(S=v,T=1):S=!!x,t[2]!==o?(w=e=>{o({type:"embed_add_images",images:e})},t[2]=o,t[3]=w):w=t[3];const k=w;let C;t[4]!==o?(C=e=>{o({type:"embed_add_gif",gif:e})},t[4]=o,t[5]=C):C=t[5];const I=C;let A;void 0===f||x||g(void 0),t[6]!==k||t[7]!==i||t[8]!==s.id?(A=async e=>{const{type:t,assets:o,errors:n}=e;if(g(t),o.length)if("image"===t){const e=[];await Promise.all(o.map((async t=>{const s=await(0,zd.createComposerImage)({path:t.uri,width:t.width,height:t.height,mime:t.mimeType});e.push(s)}))).catch(vq),k(e)}else("video"===t||"gif"===t)&&i(s.id,o[0]);n.map(jq)},t[6]=k,t[7]=i,t[8]=s.id,t[9]=A):A=t[9];const P=A;let E,L,R,B,D,O,M,F,N,H,V;return t[10]===Symbol.for("react.memo_cache_sentinel")?(E={paddingLeft:7,paddingRight:16},t[10]=E):E=t[10],t[11]!==m.atoms.bg||t[12]!==m.atoms.border_contrast_medium?(L=[qs.atoms.flex_row,qs.atoms.py_xs,E,qs.atoms.align_center,qs.atoms.border_t,m.atoms.bg,m.atoms.border_contrast_medium,qs.atoms.justify_between],t[11]=m.atoms.bg,t[12]=m.atoms.border_contrast_medium,t[13]=L):L=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(R=[qs.atoms.flex_row,qs.atoms.align_center],t[14]=R):R=t[14],t[15]!==h||t[16]!==j||t[17]!==S||t[18]!==p||t[19]!==x||t[20]!==r||t[21]!==k||t[22]!==P||t[23]!==I||t[24]!==u||t[25]!==T||t[26]!==f||t[27]!==b?(B=(0,bt.jsx)(Fs.default,{style:R,children:(0,bt.jsx)(yn.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:b&&"done"!==b.status?(0,bt.jsx)(Oq,{state:b}):(0,bt.jsxs)(Rq,{style:[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs],children:[(0,bt.jsx)(mq,{disabled:S,allowedAssetTypes:f,selectedAssetsCount:T,onSelectAssets:P,autoOpen:u}),(0,bt.jsx)(MW,{disabled:"images"===x?.type?j:!!x,onAdd:k}),(0,bt.jsx)(oG,{onSelectGif:I,disabled:!!x}),p?null:(0,bt.jsx)(ao.Button,{onPress:r,style:qs.atoms.p_sm,label:h({id:"yovQyJ"}),accessibilityHint:h({id:"7neHVa"}),variant:"ghost",shape:"round",color:"primary",children:(0,bt.jsx)(vf.EmojiArc_Stroke2_Corner0_Rounded,{size:"lg"})})]})})}),t[15]=h,t[16]=j,t[17]=S,t[18]=p,t[19]=x,t[20]=r,t[21]=k,t[22]=P,t[23]=I,t[24]=u,t[25]=T,t[26]=f,t[27]=b,t[28]=B):B=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(D=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.justify_between],t[29]=D):D=t[29],t[30]!==h||t[31]!==l||t[32]!==a?(O=a&&(0,bt.jsx)(ao.Button,{label:h({id:"xwPxVe"}),onPress:l,style:[qs.atoms.p_sm],variant:"ghost",shape:"round",color:"primary",children:(0,bt.jsx)(zg.PlusLarge_Stroke2_Corner0_Rounded,{size:"lg"})}),t[30]=h,t[31]=l,t[32]=a,t[33]=O):O=t[33],t[34]!==c||t[35]!==d?(M=(0,bt.jsx)(oq,{currentLanguages:c,onSelectLanguage:d}),t[34]=c,t[35]=d,t[36]=M):M=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(F={width:65},t[37]=F):F=t[37],t[38]!==s.shortenedGraphemeLength?(N=(0,bt.jsx)(hz.CharProgress,{count:s.shortenedGraphemeLength,style:F}),t[38]=s.shortenedGraphemeLength,t[39]=N):N=t[39],t[40]!==O||t[41]!==M||t[42]!==N?(H=(0,bt.jsxs)(Fs.default,{style:D,children:[O,M,N]}),t[40]=O,t[41]=M,t[42]=N,t[43]=H):H=t[43],t[44]!==H||t[45]!==L||t[46]!==B?(V=(0,bt.jsxs)(Fs.default,{style:L,children:[B,H]}),t[44]=H,t[45]=L,t[46]=B,t[47]=V):V=t[47],V}function jq(e){Pd.show(e,{type:"warning"})}function vq(e){Mt.logger.error("createComposerImage failed",{safeMessage:e.message})}const Sq={code:"function ComposerTsx1(){const{withTiming,contentOffset}=this.__closure;return withTiming(contentOffset.get()===0?1:0);}"},wq={code:"function ComposerTsx2(){const{withTiming,contentHeight,contentOffset,scrollViewHeight}=this.__closure;return withTiming(contentHeight.get()-contentOffset.get()-5<=scrollViewHeight.get()?1:0);}"},Tq={code:'function ComposerTsx3(t2){const{contentHeight,contentOffset,scrollViewHeight}=this.__closure;const{newContentHeight:newContentHeight,newContentOffset:newContentOffset,newScrollViewHeight:newScrollViewHeight}=t2;if(typeof newContentHeight==="number"){contentHeight.set(Math.floor(newContentHeight));}if(typeof newContentOffset==="number"){contentOffset.set(Math.floor(newContentOffset));}if(typeof newScrollViewHeight==="number"){scrollViewHeight.set(Math.floor(newScrollViewHeight));}}'},kq={code:"function ComposerTsx4(event){const{showHideBottomBorder}=this.__closure;showHideBottomBorder({newContentOffset:event.contentOffset.y,newContentHeight:event.contentSize.height,newScrollViewHeight:event.layoutMeasurement.height});}"},Cq={code:"function ComposerTsx5(newContentHeight_0){const{contentHeight,stickyBottom,contentOffset,scrollViewHeight,showHideBottomBorder,scrollTo,scrollViewRef}=this.__closure;const oldContentHeight=contentHeight.get();let shouldScrollToBottom=false;if(stickyBottom&&newContentHeight_0>oldContentHeight){const isFairlyCloseToBottom=oldContentHeight-contentOffset.get()-100<=scrollViewHeight.get();if(isFairlyCloseToBottom){shouldScrollToBottom=true;}}showHideBottomBorder({newContentHeight:newContentHeight_0});if(shouldScrollToBottom){scrollTo(scrollViewRef,0,newContentHeight_0,true);}}"},Iq={code:'function ComposerTsx6(){const{StyleSheet,interpolateColor,hasScrolledToTop,t}=this.__closure;return{borderBottomWidth:StyleSheet.hairlineWidth,borderColor:interpolateColor(hasScrolledToTop.get(),[0,1],[t.atoms.border_contrast_medium.borderColor,"transparent"])};}'},Aq={code:'function ComposerTsx7(){const{StyleSheet,interpolateColor,hasScrolledToBottom,t}=this.__closure;return{borderTopWidth:StyleSheet.hairlineWidth,borderColor:interpolateColor(hasScrolledToBottom.get(),[0,1],[t.atoms.border_contrast_medium.borderColor,"transparent"])};}'};function Pq(e){return 0===e.richtext.text.trim().length&&!e.embed.media&&!e.embed.link&&!e.embed.quote}const Eq=Os.default.create({topbarInner:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,height:54,gap:4},postBtn:{borderRadius:20,paddingHorizontal:20,paddingVertical:6,marginLeft:12},stickyFooterWeb:(0,qs.web)({position:"sticky",bottom:0}),errorLine:{flexDirection:"row",alignItems:"center",backgroundColor:kn.colors.red1,borderRadius:6,marginHorizontal:16,paddingHorizontal:12,paddingVertical:10,marginBottom:8},reminderLine:{flexDirection:"row",alignItems:"center",borderRadius:6,marginHorizontal:16,paddingHorizontal:8,paddingVertical:6,marginBottom:8},errorIcon:{borderWidth:Os.default.hairlineWidth,borderColor:kn.colors.red4,color:kn.colors.red4,borderRadius:30,width:16,height:16,alignItems:"center",justifyContent:"center",marginRight:5},inactivePost:{opacity:.5},addExtLinkBtn:{borderWidth:1,borderRadius:24,paddingHorizontal:16,paddingVertical:12,marginHorizontal:10,marginBottom:4}});function Lq(e){const t=(0,n.c)(32),{error:s,videoState:o,clearError:a,clearVideo:r}=e,i=(0,qs.useTheme)(),{_:l}=(0,dt.useLingui)(),c="error"===o.status?o.error:void 0,d=s||c;let u;t[0]!==a||t[1]!==r||t[2]!==s?(u=()=>{s?a():r()},t[0]=a,t[1]=r,t[2]=s,t[3]=u):u=t[3];const m=u;if(!d)return null;let h,p,f,g,x,_,y,b,j,v,S,w,T;return t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.px_lg,qs.atoms.pb_sm],t[4]=h):h=t[4],t[5]!==i.atoms.bg_contrast_25?(p=[qs.atoms.px_md,qs.atoms.py_sm,qs.atoms.gap_xs,qs.atoms.rounded_sm,i.atoms.bg_contrast_25],t[5]=i.atoms.bg_contrast_25,t[6]=p):p=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.relative,qs.atoms.flex_row,qs.atoms.gap_sm,{paddingRight:48}],t[7]=f):f=t[7],t[8]!==i.palette.negative_400?(g=(0,bt.jsx)(Cn.CircleInfo_Stroke2_Corner0_Rounded,{fill:i.palette.negative_400}),t[8]=i.palette.negative_400,t[9]=g):g=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(x=[qs.atoms.flex_1,qs.atoms.leading_snug,{paddingTop:1}],t[10]=x):x=t[10],t[11]!==d?(_=(0,bt.jsx)(co.Text,{style:x,children:d}),t[11]=d,t[12]=_):_=t[12],t[13]!==l?(y=l({id:"OguSgH"}),t[13]=l,t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.absolute,{top:0,right:0}],t[15]=b):b=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(j=(0,bt.jsx)(ao.ButtonIcon,{icon:hn.TimesLarge_Stroke2_Corner0_Rounded}),t[16]=j):j=t[16],t[17]!==m||t[18]!==y?(v=(0,bt.jsx)(ao.Button,{label:y,size:"tiny",color:"secondary",variant:"ghost",shape:"round",style:b,onPress:m,children:j}),t[17]=m,t[18]=y,t[19]=v):v=t[19],t[20]!==v||t[21]!==g||t[22]!==_?(S=(0,bt.jsxs)(Fs.default,{style:f,children:[g,_,v]}),t[20]=v,t[21]=g,t[22]=_,t[23]=S):S=t[23],t[24]!==i.atoms.text_contrast_low||t[25]!==c||t[26]!==o.jobId?(w=c&&o.jobId&&(0,bt.jsx)(co.Text,{style:[{paddingLeft:28},qs.atoms.text_xs,qs.atoms.font_semi_bold,qs.atoms.leading_snug,i.atoms.text_contrast_low],children:(0,bt.jsx)(dt.Trans,{id:"FXAlGM",values:{0:o.jobId}})}),t[24]=i.atoms.text_contrast_low,t[25]=c,t[26]=o.jobId,t[27]=w):w=t[27],t[28]!==S||t[29]!==w||t[30]!==p?(T=(0,bt.jsx)(yn.default.View,{style:h,entering:yn.FadeIn,exiting:yn.FadeOut,children:(0,bt.jsxs)(Fs.default,{style:p,children:[S,w]})}),t[28]=S,t[29]=w,t[30]=p,t[31]=T):T=t[31],T}function Rq(e){const t=(0,n.c)(5),{style:s,children:o}=e;if(r.IS_WEB)return o;let a,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=yn.FadeIn.duration(400),i=yn.FadeOut.duration(400),t[0]=a,t[1]=i):(a=t[0],i=t[1]),t[2]!==o||t[3]!==s?(l=(0,bt.jsx)(yn.default.View,{style:s,entering:a,exiting:i,children:o}),t[2]=o,t[3]=s,t[4]=l):l=t[4],l}const Bq={code:"function ComposerTsx8(){const{shouldRotate,withRepeat,withTiming,Easing}=this.__closure;if(shouldRotate){return withRepeat(withTiming(360,{duration:2500,easing:Easing.out(Easing.cubic)}),-1);}return 0;}"},Dq={code:'function ComposerTsx9(){const{rotate}=this.__closure;return{transform:[{rotateZ:rotate.get()+"deg"}]};}'};function Oq(e){const t=(0,n.c)(34),{state:s}=e,o=(0,qs.useTheme)(),{_:a}=(0,dt.useLingui)(),r=s.progress,i="processing"===s.status&&(0===r||1===r);let l=i?.33:r;const c=(0,yn.useDerivedValue)(function(){const e=function(){return i?(0,yn.withRepeat)((0,yn.withTiming)(360,{duration:2500,easing:yn.Easing.out(yn.Easing.cubic)}),-1):0};return e.__closure={shouldRotate:i,withRepeat:yn.withRepeat,withTiming:yn.withTiming,Easing:yn.Easing},e.__workletHash=7236121799964,e.__initData=Bq,e}()),d=(0,yn.useAnimatedStyle)(function(){const e=()=>({transform:[{rotateZ:`${c.get()}deg`}]});return e.__closure={rotate:c},e.__workletHash=0xcf6f341868e,e.__initData=Dq,e}());let u="";const m="image/gif"===s.video?.mimeType;e:switch(s.status){case"compressing":if(m){let e;t[0]!==a?(e=a({id:"Qjxq3a"}),t[0]=a,t[1]=e):e=t[1],u=e}else{let e;t[2]!==a?(e=a({id:"3dFGci"}),t[2]=a,t[3]=e):e=t[3],u=e}break e;case"uploading":if(m){let e;t[4]!==a?(e=a({id:"BPNdGE"}),t[4]=a,t[5]=e):e=t[5],u=e}else{let e;t[6]!==a?(e=a({id:"V0ze9H"}),t[6]=a,t[7]=e):e=t[7],u=e}break e;case"processing":if(m){let e;t[8]!==a?(e=a({id:"XDUb9Z"}),t[8]=a,t[9]=e):e=t[9],u=e}else{let e;t[10]!==a?(e=a({id:"a2EUhY"}),t[10]=a,t[11]=e):e=t[11],u=e}break e;case"error":{let e;t[12]!==a?(e=a({id:"SlfejT"}),t[12]=a,t[13]=e):e=t[13],u=e,l=100;break e}case"done":if(m){let e;t[14]!==a?(e=a({id:"JE0ZN7"}),t[14]=a,t[15]=e):e=t[15],u=e}else{let e;t[16]!==a?(e=a({id:"BvRfXd"}),t[16]=a,t[17]=e):e=t[17],u=e}}let h,p;t[18]===Symbol.for("react.memo_cache_sentinel")?(h=[qs.atoms.flex_row,qs.atoms.align_center,{paddingVertical:5}],t[18]=h):h=t[18],t[19]!==d?(p=[d],t[19]=d,t[20]=p):p=t[20];const f="error"===s.status?o.palette.negative_500:o.palette.primary_500;let g,x,_,y,b;return t[21]!==o.atoms.border_contrast_low.borderColor||t[22]!==f||t[23]!==l?(g=(0,bt.jsx)(PU.default,{size:30,borderWidth:1,borderColor:o.atoms.border_contrast_low.borderColor,color:f,progress:l}),t[21]=o.atoms.border_contrast_low.borderColor,t[22]=f,t[23]=l,t[24]=g):g=t[24],t[25]!==p||t[26]!==g?(x=(0,bt.jsx)(yn.default.View,{style:p,children:g}),t[25]=p,t[26]=g,t[27]=x):x=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(_=[qs.atoms.font_semi_bold,qs.atoms.ml_sm],t[28]=_):_=t[28],t[29]!==u?(y=(0,bt.jsx)(co.Text,{style:_,children:u}),t[29]=u,t[30]=y):y=t[30],t[31]!==x||t[32]!==y?(b=(0,bt.jsxs)(Rq,{style:h,children:[x,y]}),t[31]=x,t[32]=y,t[33]=b):b=t[33],b}function Mq(e){return e.blob()}function Fq(e){const t=(0,n.c)(3),s=(0,ps.useComposerState)();if(!!!s)return null;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,bt.jsx)(Hs.RemoveScrollBar,{}),t[0]=o):o=t[0],t[1]!==s?(a=(0,bt.jsxs)(bt.Fragment,{children:[o,(0,bt.jsx)(Nq,{state:s})]}),t[1]=s,t[2]=a):a=t[2],a}function Nq(e){const t=(0,n.c)(35),{state:s}=e,o=(0,lt.useRef)(null),{isModalActive:a}=(0,is.useModals)(),r=(0,qs.useTheme)(),{gtMobile:i}=(0,qs.useBreakpoints)(),{reduceMotionEnabled:l}=(0,Ft.useA11y)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={isOpen:!1,pos:{top:0,left:0,right:0,bottom:0,nextFocusRef:null}},t[0]=c):c=t[0];const[d,u]=lt.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{e&&u({isOpen:!0,pos:e})},t[1]=m):m=t[1];const h=m;let p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{u(zq)},t[2]=p):p=t[2];const f=p;let g,x;dn.useFocusGuards(),t[3]!==l?(g=(0,qs.flatten)([{position:"fixed"},qs.atoms.inset_0,{backgroundColor:"#000c"},qs.atoms.flex,qs.atoms.flex_col,qs.atoms.align_center,!l&&qs.atoms.fade_in]),t[3]=l,t[4]=g):g=t[4],t[5]!==a||t[6]!==o?(x=()=>{a||o.current?.onPressCancel()},t[5]=a,t[6]=o,t[7]=x):x=t[7];const _=!i&&Uq.containerMobile;let y,b,j,v,S,w;return t[8]!==l?(y=!l&&[qs.atoms.zoom_fade_in,{animationDelay:.1},{animationFillMode:"backwards"}],t[8]=l,t[9]=y):y=t[9],t[10]!==r.atoms.bg||t[11]!==r.atoms.border_contrast_medium||t[12]!==_||t[13]!==y?(b=[Uq.container,_,r.atoms.bg,r.atoms.border_contrast_medium,y],t[10]=r.atoms.bg,t[11]=r.atoms.border_contrast_medium,t[12]=_,t[13]=y,t[14]=b):b=t[14],t[15]!==o||t[16]!==s.imageUris||t[17]!==s.mention||t[18]!==s.onPost||t[19]!==s.onPostSuccess||t[20]!==s.openGallery||t[21]!==s.quote||t[22]!==s.replyTo||t[23]!==s.text?(j=(0,bt.jsx)(pq,{cancelRef:o,replyTo:s.replyTo,quote:s.quote,onPost:s.onPost,onPostSuccess:s.onPostSuccess,mention:s.mention,openEmojiPicker:h,text:s.text,imageUris:s.imageUris,openGallery:s.openGallery}),t[15]=o,t[16]=s.imageUris,t[17]=s.mention,t[18]=s.onPost,t[19]=s.onPostSuccess,t[20]=s.openGallery,t[21]=s.quote,t[22]=s.replyTo,t[23]=s.text,t[24]=j):j=t[24],t[25]!==b||t[26]!==j?(v=(0,bt.jsx)(Fs.default,{style:b,children:j}),t[25]=b,t[26]=j,t[27]=v):v=t[27],t[28]!==d?(S=(0,bt.jsx)(bL,{state:d,close:f}),t[28]=d,t[29]=S):S=t[29],t[30]!==v||t[31]!==S||t[32]!==g||t[33]!==x?(w=(0,bt.jsx)(un.FocusScope,{loop:!0,trapped:!0,asChild:!0,children:(0,bt.jsxs)(fL.DismissableLayer,{role:"dialog","aria-modal":!0,style:g,onFocusOutside:Vq,onInteractOutside:Hq,onDismiss:x,children:[v,S]})}),t[30]=v,t[31]=S,t[32]=g,t[33]=x,t[34]=w):w=t[34],w}function Hq(e){return e.preventDefault()}function Vq(e){return e.preventDefault()}function zq(e){return Object.assign({},e,{isOpen:!1})}const Uq=Os.default.create({container:{marginTop:50,maxWidth:600,width:"100%",paddingVertical:0,borderRadius:8,marginBottom:0,borderWidth:1,maxHeight:"calc(100% - (40px * 2))",overflow:"hidden"},containerMobile:{borderRadius:0,marginBottom:61,maxHeight:"calc(100% - 61px)"}}),Wq=26;let Gq=e=>{const t=(0,n.c)(65),{account:s,onPressProfile:o}=e,{_:a,i18n:r}=(0,dt.useLingui)(),i=(0,qs.useTheme)();let l;t[0]!==s.did?(l={did:s.did},t[0]=s.did,t[1]=l):l=t[1];const{data:c}=(0,Ut.useProfileQuery)(l);let d;t[2]!==c?(d={profile:c},t[2]=c,t[3]=d):d=t[3];const u=(0,Nu.useSimpleVerificationState)(d),{isActive:m}=(0,Ra.useActorStatus)(c);let h,p,f;t[4]!==a?(h=a({id:"vERlcd"}),t[4]=a,t[5]=h):h=t[5],t[6]!==a?(p=a({id:"bFwIBS"}),t[6]=a,t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=[qs.atoms.gap_sm,qs.atoms.pr_lg],t[8]=f):f=t[8];const g=c?.avatar,x=c?.associated?.labeler?"labeler":"user";let _,y,b,j;t[9]!==m||t[10]!==g||t[11]!==x?(_=(0,bt.jsx)(Gi.UserAvatar,{size:52,avatar:g,usePlainRNImage:!0,type:x,live:m}),t[9]=m,t[10]=g,t[11]=x,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[qs.atoms.gap_2xs],t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=[qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_xs,qs.atoms.flex_1],t[14]=b):b=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(j=[qs.atoms.font_bold,qs.atoms.text_xl,qs.atoms.mt_2xs,qs.atoms.leading_tight],t[15]=j):j=t[15];const v=c?.displayName||s.handle;let S,w,T,k,C,I,A,P;t[16]!==v?(S=(0,bt.jsx)(co.Text,{emoji:!0,style:j,numberOfLines:1,children:v}),t[16]=v,t[17]=S):S=t[17],t[18]!==u.role||t[19]!==u.showBadge?(w=u.showBadge&&(0,bt.jsx)(Fs.default,{style:{top:0},children:(0,bt.jsx)(Hu.VerificationCheck,{width:16,verifier:"verifier"===u.role})}),t[18]=u.role,t[19]=u.showBadge,t[20]=w):w=t[20],t[21]!==S||t[22]!==w?(T=(0,bt.jsxs)(Fs.default,{style:b,children:[S,w]}),t[21]=S,t[22]=w,t[23]=T):T=t[23],t[24]!==i.atoms.text_contrast_medium?(k=[i.atoms.text_contrast_medium,qs.atoms.text_md,qs.atoms.leading_tight],t[24]=i.atoms.text_contrast_medium,t[25]=k):k=t[25],t[26]!==s.handle?(C=(0,Fa.sanitizeHandle)(s.handle,"@"),t[26]=s.handle,t[27]=C):C=t[27],t[28]!==k||t[29]!==C?(I=(0,bt.jsx)(co.Text,{emoji:!0,style:k,numberOfLines:1,children:C}),t[28]=k,t[29]=C,t[30]=I):I=t[30],t[31]!==T||t[32]!==I?(A=(0,bt.jsxs)(Fs.default,{style:y,children:[T,I]}),t[31]=T,t[32]=I,t[33]=A):A=t[33],t[34]!==i.atoms.text_contrast_medium?(P=[qs.atoms.text_md,i.atoms.text_contrast_medium],t[34]=i.atoms.text_contrast_medium,t[35]=P):P=t[35];const E=c?.followersCount??0;let L;t[36]!==r||t[37]!==E?(L=(0,Bc.formatCount)(r,E),t[36]=r,t[37]=E,t[38]=L):L=t[38];const R=c?.followersCount||0;let B,D,O;t[39]!==L||t[40]!==R?(B={0:L,1:R},t[39]=L,t[40]=R,t[41]=B):B=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(D={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold]})},t[42]=D):D=t[42],t[43]!==B?(O=(0,bt.jsx)(dt.Trans,{id:"OHNK79",values:B,components:D}),t[43]=B,t[44]=O):O=t[44];const M=c?.followsCount??0;let F;t[45]!==r||t[46]!==M?(F=(0,Bc.formatCount)(r,M),t[45]=r,t[46]=M,t[47]=F):F=t[47];const N=c?.followsCount||0;let H,V,z,U,W;return t[48]!==F||t[49]!==N?(H={0:F,1:N},t[48]=F,t[49]=N,t[50]=H):H=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(V={0:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_md,qs.atoms.font_semi_bold]})},t[51]=V):V=t[51],t[52]!==H?(z=(0,bt.jsx)(dt.Trans,{id:"5ZR3U3",values:H,components:V}),t[52]=H,t[53]=z):z=t[53],t[54]!==P||t[55]!==O||t[56]!==z?(U=(0,bt.jsxs)(co.Text,{style:P,children:[O," ","\xb7"," ",z]}),t[54]=P,t[55]=O,t[56]=z,t[57]=U):U=t[57],t[58]!==o||t[59]!==A||t[60]!==h||t[61]!==U||t[62]!==p||t[63]!==_?(W=(0,bt.jsxs)(wn.default,{testID:"profileCardButton",accessibilityLabel:h,accessibilityHint:p,onPress:o,style:f,children:[_,A,U]}),t[58]=o,t[59]=A,t[60]=h,t[61]=U,t[62]=p,t[63]=_,t[64]=W):W=t[64],W};Gq=lt.memo(Gq);let qq=e=>{const t=(0,n.c)(73),s=(0,qs.useTheme)(),o=(0,ct.useSafeAreaInsets)(),a=(0,hs.useSetDrawerOpen)(),i=(0,Ns.useNavigation)(),{isAtHome:l,isAtSearch:c,isAtFeeds:d,isAtBookmarks:u,isAtNotifications:m,isAtMyProfile:h,isAtMessages:p}=hk(),{hasSession:f,currentAccount:g}=(0,Gt.useSession)();let x;t[0]!==g||t[1]!==i||t[2]!==a?(x=e=>{const t=i.getState();if(a(!1),r.IS_WEB)"MyProfile"===e?i.navigate("Profile",{name:g.handle}):i.navigate(e);else{const s=$n(t,e);if(s===Yn.InsideAtRoot)(0,_t.emitSoftReset)();else if(s===Yn.Inside){const s=t.routes.find((t=>t.name===`${e}Tab`))?.state?.key;s?i.dispatch(Object.assign({},Ns.StackActions.popToTop(),{target:s})):i.reset({index:0,routes:[{name:`${e}Tab`}]})}else i.navigate(`${e}Tab`)}},t[0]=g,t[1]=i,t[2]=a,t[3]=x):x=t[3];const _=x;let y;t[4]!==_?(y=()=>_("Home"),t[4]=_,t[5]=y):y=t[5];const b=y;let j;t[6]!==_?(j=()=>_("Search"),t[6]=_,t[7]=j):j=t[7];const v=j;let S;t[8]!==_?(S=()=>_("Messages"),t[8]=_,t[9]=S):S=t[9];const w=S;let T;t[10]!==_?(T=()=>_("Notifications"),t[10]=_,t[11]=T):T=t[11];const k=T;let C;t[12]!==_?(C=()=>{_("MyProfile")},t[12]=_,t[13]=C):C=t[13];const I=C;let A;t[14]!==i||t[15]!==a?(A=()=>{i.navigate("Feeds"),a(!1)},t[14]=i,t[15]=a,t[16]=A):A=t[16];const P=A;let E;t[17]!==i||t[18]!==a?(E=()=>{i.navigate("Lists"),a(!1)},t[17]=i,t[18]=a,t[19]=E):E=t[19];const L=E;let R;t[20]!==i||t[21]!==a?(R=()=>{i.navigate("Bookmarks"),a(!1)},t[20]=i,t[21]=a,t[22]=R):R=t[22];const B=R;let D;t[23]!==i||t[24]!==a?(D=()=>{i.navigate("Settings"),a(!1)},t[23]=i,t[24]=a,t[25]=D):D=t[25];const O=D;let M;t[26]!==g?.email||t[27]!==g?.handle?(M=()=>{In.default.openURL((0,Vt.FEEDBACK_FORM_URL)({email:g?.email,handle:g?.handle}))},t[26]=g?.email,t[27]=g?.handle,t[28]=M):M=t[28];const F=M,N=aQ;let H,V;t[29]!==s.atoms.bg||t[30]!==s.atoms.border_contrast_low?(H=[qs.atoms.flex_1,qs.atoms.border_r,s.atoms.bg,s.atoms.border_contrast_low],t[29]=s.atoms.bg,t[30]=s.atoms.border_contrast_low,t[31]=H):H=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(V=[qs.atoms.flex_1],t[32]=V):V=t[32];const z=Math.max(o.top+qs.atoms.pt_xl.paddingTop,qs.atoms.pt_xl.paddingTop);let U,W,G,q,Q,K,Z,Y,$,X,J;return t[33]!==z?(U=[{paddingTop:z}],t[33]=z,t[34]=U):U=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(W=[qs.atoms.px_xl],t[35]=W):W=t[35],t[36]!==g||t[37]!==f||t[38]!==I?(G=f&&g?(0,bt.jsx)(Gq,{account:g,onPressProfile:I}):(0,bt.jsx)(Fs.default,{style:[qs.atoms.pr_xl],children:(0,bt.jsx)(gP,{})}),t[36]=g,t[37]=f,t[38]=I,t[39]=G):G=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(q=(0,bt.jsx)(yo,{style:[qs.atoms.mt_xl,qs.atoms.mb_sm]}),t[40]=q):q=t[40],t[41]!==G?(Q=(0,bt.jsxs)(Fs.default,{style:W,children:[G,q]}),t[41]=G,t[42]=Q):Q=t[42],t[43]!==f||t[44]!==u||t[45]!==d||t[46]!==l||t[47]!==p||t[48]!==h||t[49]!==m||t[50]!==c||t[51]!==B||t[52]!==b||t[53]!==L||t[54]!==w||t[55]!==P||t[56]!==k||t[57]!==I||t[58]!==v||t[59]!==O?(K=f?(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Kq,{isActive:c,onPress:v}),(0,bt.jsx)(Zq,{isActive:l,onPress:b}),(0,bt.jsx)(Yq,{isActive:p,onPress:w}),(0,bt.jsx)($q,{isActive:m,onPress:k}),(0,bt.jsx)(Xq,{isActive:d,onPress:P}),(0,bt.jsx)(Jq,{onPress:L}),(0,bt.jsx)(eQ,{isActive:u,onPress:B}),(0,bt.jsx)(tQ,{isActive:h,onPress:I}),(0,bt.jsx)(sQ,{onPress:O})]}):(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Zq,{isActive:l,onPress:b}),(0,bt.jsx)(Xq,{isActive:d,onPress:P}),(0,bt.jsx)(Kq,{isActive:c,onPress:v})]}),t[43]=f,t[44]=u,t[45]=d,t[46]=l,t[47]=p,t[48]=h,t[49]=m,t[50]=c,t[51]=B,t[52]=b,t[53]=L,t[54]=w,t[55]=P,t[56]=k,t[57]=I,t[58]=v,t[59]=O,t[60]=K):K=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(Z=[qs.atoms.px_xl],t[61]=Z):Z=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,bt.jsxs)(Fs.default,{style:Z,children:[(0,bt.jsx)(yo,{style:[qs.atoms.mb_xl,qs.atoms.mt_sm]}),(0,bt.jsx)(nQ,{})]}),t[62]=Y):Y=t[62],t[63]!==U||t[64]!==Q||t[65]!==K?($=(0,bt.jsxs)(Vi.default,{style:V,contentContainerStyle:U,children:[Q,K,Y]}),t[63]=U,t[64]=Q,t[65]=K,t[66]=$):$=t[66],t[67]!==F?(X=(0,bt.jsx)(Qq,{onPressFeedback:F,onPressHelp:N}),t[67]=F,t[68]=X):X=t[68],t[69]!==H||t[70]!==$||t[71]!==X?(J=(0,bt.jsxs)(Fs.default,{testID:"drawer",style:H,children:[$,X]}),t[69]=H,t[70]=$,t[71]=X,t[72]=J):J=t[72],J};qq=lt.memo(qq);let Qq=e=>{const t=(0,n.c)(20),{onPressFeedback:s,onPressHelp:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,ct.useSafeAreaInsets)(),i=Math.max(r.bottom+qs.tokens.space.xs,qs.tokens.space.xl);let l,c,d,u,m,h,p,f,g,x;return t[0]!==i?(l=[qs.atoms.flex_row,qs.atoms.gap_sm,qs.atoms.flex_wrap,qs.atoms.pl_xl,qs.atoms.pt_md,{paddingBottom:i}],t[0]=i,t[1]=l):l=t[1],t[2]!==a?(c=a({id:"RoafuO"}),t[2]=a,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,bt.jsx)(ao.ButtonIcon,{icon:by,position:"left"}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"YirHq7"})}),t[5]=u):u=t[5],t[6]!==s||t[7]!==c?(m=(0,bt.jsxs)(ao.Button,{label:c,size:"small",variant:"solid",color:"secondary",onPress:s,children:[d,u]}),t[6]=s,t[7]=c,t[8]=m):m=t[8],t[9]!==a?(h=a({id:"AWtGgd"}),t[9]=a,t[10]=h):h=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(p={backgroundColor:"transparent"},t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,bt.jsx)(ao.ButtonText,{children:(0,bt.jsx)(dt.Trans,{id:"c3XJ18"})}),t[12]=f):f=t[12],t[13]!==o||t[14]!==h?(g=(0,bt.jsx)(ao.Button,{label:h,size:"small",variant:"outline",color:"secondary",onPress:o,style:p,children:f}),t[13]=o,t[14]=h,t[15]=g):g=t[15],t[16]!==g||t[17]!==l||t[18]!==m?(x=(0,bt.jsxs)(Fs.default,{style:l,children:[m,g]}),t[16]=g,t[17]=l,t[18]=m,t[19]=x):x=t[19],x};Qq=lt.memo(Qq);let Kq=e=>{const t=(0,n.c)(10),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(Hl.MagnifyingGlass_Filled_Stroke2_Corner0_Rounded,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(Hl.MagnifyingGlass_Stroke2_Corner0_Rounded,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"8tjQCz"}),t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==o||t[7]!==i||t[8]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,bold:s,onPress:o}),t[5]=s,t[6]=o,t[7]=i,t[8]=l,t[9]=c):c=t[9],c};Kq=lt.memo(Kq);let Zq=e=>{const t=(0,n.c)(10),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(wk,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(Sk,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"i0qMbr"}),t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==o||t[7]!==i||t[8]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,bold:s,onPress:o}),t[5]=s,t[6]=o,t[7]=i,t[8]=l,t[9]=c):c=t[9],c};Zq=lt.memo(Zq);let Yq=e=>{const t=(0,n.c)(10),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(yy,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(by,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"AHZflp"}),t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==o||t[7]!==i||t[8]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,bold:s,onPress:o}),t[5]=s,t[6]=o,t[7]=i,t[8]=l,t[9]=c):c=t[9],c};Yq=lt.memo(Yq);let $q=e=>{const t=(0,n.c)(15),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)(),i=(0,us.useUnreadNotifications)();let l,c,d,u;return t[0]!==s||t[1]!==r.atoms.text?(l=s?(0,bt.jsx)(NS,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(FS,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=l):l=t[2],t[3]!==a?(c=a({id:"iDNBZe"}),t[3]=a,t[4]=c):c=t[4],t[5]!==a||t[6]!==i?(d=""===i?"":a(Et.i18n._({id:"YZouSu",values:{0:i??0}})),t[5]=a,t[6]=i,t[7]=d):d=t[7],t[8]!==s||t[9]!==i||t[10]!==o||t[11]!==l||t[12]!==c||t[13]!==d?(u=(0,bt.jsx)(oQ,{icon:l,label:c,accessibilityHint:d,count:i,bold:s,onPress:o}),t[8]=s,t[9]=i,t[10]=o,t[11]=l,t[12]=c,t[13]=d,t[14]=u):u=t[14],u};$q=lt.memo($q);let Xq=e=>{const t=(0,n.c)(10),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(Ll,{width:Wq,style:[r.atoms.text]}):(0,bt.jsx)(El,{width:Wq,style:[r.atoms.text]}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"2DoBvq"}),t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==o||t[7]!==i||t[8]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,bold:s,onPress:o}),t[5]=s,t[6]=o,t[7]=i,t[8]=l,t[9]=c):c=t[9],c};Xq=lt.memo(Xq);let Jq=e=>{const t=(0,n.c)(8),{onPress:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)();let r,i,l;return t[0]!==a.atoms.text?(r=(0,bt.jsx)(Jv,{style:[a.atoms.text],width:Wq}),t[0]=a.atoms.text,t[1]=r):r=t[1],t[2]!==o?(i=o({id:"h16FyT"}),t[2]=o,t[3]=i):i=t[3],t[4]!==s||t[5]!==r||t[6]!==i?(l=(0,bt.jsx)(oQ,{icon:r,label:i,onPress:s}),t[4]=s,t[5]=r,t[6]=i,t[7]=l):l=t[7],l};Jq=lt.memo(Jq);let eQ=e=>{const t=(0,n.c)(9),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(Op,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(Dp,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"Rlif8r"}),t[3]=a,t[4]=l):l=t[4],t[5]!==o||t[6]!==i||t[7]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,onPress:o}),t[5]=o,t[6]=i,t[7]=l,t[8]=c):c=t[8],c};eQ=lt.memo(eQ);let tQ=e=>{const t=(0,n.c)(9),{isActive:s,onPress:o}=e,{_:a}=(0,dt.useLingui)(),r=(0,qs.useTheme)();let i,l,c;return t[0]!==s||t[1]!==r.atoms.text?(i=s?(0,bt.jsx)(yP,{style:[r.atoms.text],width:Wq}):(0,bt.jsx)(_P,{style:[r.atoms.text],width:Wq}),t[0]=s,t[1]=r.atoms.text,t[2]=i):i=t[2],t[3]!==a?(l=a({id:"vERlcd"}),t[3]=a,t[4]=l):l=t[4],t[5]!==o||t[6]!==i||t[7]!==l?(c=(0,bt.jsx)(oQ,{icon:i,label:l,onPress:o}),t[5]=o,t[6]=i,t[7]=l,t[8]=c):c=t[8],c};tQ=lt.memo(tQ);let sQ=e=>{const t=(0,n.c)(8),{onPress:s}=e,{_:o}=(0,dt.useLingui)(),a=(0,qs.useTheme)();let r,i,l;return t[0]!==a.atoms.text?(r=(0,bt.jsx)(Tf,{style:[a.atoms.text],width:Wq}),t[0]=a.atoms.text,t[1]=r):r=t[1],t[2]!==o?(i=o({id:"Tz0i8g"}),t[2]=o,t[3]=i):i=t[3],t[4]!==s||t[5]!==r||t[6]!==i?(l=(0,bt.jsx)(oQ,{icon:r,label:i,onPress:s}),t[4]=s,t[5]=r,t[6]=i,t[7]=l):l=t[7],l};function oQ(e){const t=(0,n.c)(11),{icon:s,label:o,count:a,bold:r,onPress:i}=e,l=(0,qs.useTheme)(),c=`menuItemButton-${o}`;let d,u;return t[0]!==r||t[1]!==a||t[2]!==s||t[3]!==o||t[4]!==l?(d=e=>{const{hovered:t,pressed:n}=e;return(0,bt.jsxs)(Fs.default,{style:[qs.atoms.flex_1,qs.atoms.flex_row,qs.atoms.align_center,qs.atoms.gap_md,qs.atoms.py_md,qs.atoms.px_xl,(t||n)&&l.atoms.bg_contrast_25],children:[(0,bt.jsxs)(Fs.default,{style:[qs.atoms.relative],children:[s,a?(0,bt.jsx)(Fs.default,{style:[qs.atoms.absolute,qs.atoms.inset_0,qs.atoms.align_end,{top:-4,right:-1*qs.atoms.gap_sm.gap}],children:(0,bt.jsx)(Fs.default,{style:[qs.atoms.rounded_full,{right:1===a.length?6:0,paddingHorizontal:4,paddingVertical:1,backgroundColor:l.palette.primary_500}],children:(0,bt.jsx)(co.Text,{style:[qs.atoms.text_xs,qs.atoms.leading_tight,qs.atoms.font_semi_bold,{fontVariant:["tabular-nums"],color:kn.colors.white}],numberOfLines:1,children:a})})}):void 0]}),(0,bt.jsx)(co.Text,{style:[qs.atoms.flex_1,qs.atoms.text_2xl,r&&qs.atoms.font_bold,(0,qs.web)(qs.atoms.leading_snug)],numberOfLines:1,children:o})]})},t[0]=r,t[1]=a,t[2]=s,t[3]=o,t[4]=l,t[5]=d):d=t[5],t[6]!==o||t[7]!==i||t[8]!==c||t[9]!==d?(u=(0,bt.jsx)(ao.Button,{testID:c,onPress:i,accessibilityRole:"tab",label:o,children:d}),t[6]=o,t[7]=i,t[8]=c,t[9]=d,t[10]=u):u=t[10],u}function nQ(){const e=(0,n.c)(20),{_:t}=(0,dt.useLingui)(),s=(0,qs.useTheme)(),o=(0,Cv.useKawaiiMode)();let a,r,i,l,c,d,u,m,h,p,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[qs.atoms.flex_col,qs.atoms.gap_md,qs.atoms.flex_wrap],e[0]=a):a=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(r=[qs.atoms.text_md],e[1]=r):r=e[1],e[2]!==t?(i=t({id:"xowcRf"}),e[2]=t,e[3]=i):i=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,bt.jsx)(dt.Trans,{id:"xowcRf"}),e[4]=l):l=e[4],e[5]!==i?(c=(0,bt.jsx)(io.InlineLinkText,{style:r,label:i,to:"https://bsky.social/about/support/tos",children:l}),e[5]=i,e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=[qs.atoms.text_md],e[7]=d):d=e[7],e[8]!==t?(u=t({id:"LcET2C"}),e[8]=t,e[9]=u):u=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,bt.jsx)(dt.Trans,{id:"LcET2C"}),e[10]=m):m=e[10],e[11]!==u?(h=(0,bt.jsx)(io.InlineLinkText,{style:d,to:"https://bsky.social/about/support/privacy-policy",label:u,children:m}),e[11]=u,e[12]=h):h=e[12],e[13]!==o||e[14]!==s?(p=o&&(0,bt.jsx)(co.Text,{style:s.atoms.text_contrast_medium,children:(0,bt.jsx)(dt.Trans,{id:"4xQ0N2",components:{0:(0,bt.jsx)(io.InlineLinkText,{style:[qs.atoms.text_md],to:"/profile/sawaratsuki.bsky.social",label:"@sawaratsuki.bsky.social"})}})}),e[13]=o,e[14]=s,e[15]=p):p=e[15],e[16]!==c||e[17]!==h||e[18]!==p?(f=(0,bt.jsxs)(Fs.default,{style:a,children:[c,h,p]}),e[16]=c,e[17]=h,e[18]=p,e[19]=f):f=e[19],f}function aQ(){In.default.openURL(Vt.HELP_DESK_URL)}function rQ(){const e=(0,n.c)(23),t=(0,Ns.useNavigation)(),s=(0,Gs.useCloseAllActiveElements)(),{state:o}=tP(),a=function(){const e=(0,n.c)(7),{hasSession:t}=(0,Gt.useSession)(),[s,o]=(0,lt.useState)(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>o(!0),e[0]=a):a=e[0];const i=a;let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>o(!1),e[1]=l):l=e[1];const c=l;let d,u,m;return e[2]!==t?(d=()=>{if(r.IS_WEB&&!t&&"undefined"!==typeof window){const e="/"===window.location.pathname,t="true"===localStorage.getItem("welcomeModalShown");if(e&&!t){localStorage.setItem("welcomeModalShown","true");const e=setTimeout((()=>{i()}),1e3);return()=>clearTimeout(e)}}},u=[t],e[2]=t,e[3]=d,e[4]=u):(d=e[3],u=e[4]),(0,lt.useEffect)(d,u),e[5]!==s?(m={isOpen:s,open:i,close:c},e[5]=s,e[6]=m):m=e[6],m}();let i,l;!function(){const e=(0,n.c)(14),{openComposer:t}=Wo(),{openDialogs:s}=(0,Ht.useDialogStateContext)(),{isModalActive:o}=(0,is.useModals)(),{activeLightbox:a}=(0,Xt.useLightbox)(),r=(0,rn.useIsDrawerOpen)(),{hasSession:i}=(0,Gt.useSession)();let l,c;e[0]!==a||e[1]!==i||e[2]!==r||e[3]!==o||e[4]!==t||e[5]!==s?.current?(l=()=>{if(!i)return;const e=function(e){(function(e){const t=e.target||e.srcElement;if(!t)return!1;const{tagName:s}=t;if(!s)return!1;const o="INPUT"===s&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return!(!t.isContentEditable&&(!o&&"TEXTAREA"!==s&&"SELECT"!==s||t.readOnly))})(e)||s?.current.size>0||o||a||r||"n"!==e.key&&"N"!==e.key||t({logContext:"Other"})};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},e[0]=a,e[1]=i,e[2]=r,e[3]=o,e[4]=t,e[5]=s?.current,e[6]=l):l=e[6],e[7]!==a||e[8]!==i||e[9]!==r||e[10]!==o||e[11]!==t||e[12]!==s?(c=[t,o,s,a,r,i],e[7]=a,e[8]=i,e[9]=r,e[10]=o,e[11]=t,e[12]=s,e[13]=c):c=e[13],lt.useEffect(l,c)}(),sn(),e[0]!==s||e[1]!==t?(i=()=>t.addListener("state",(()=>{s()})),l=[t,s],e[0]=s,e[1]=t,e[2]=i,e[3]=l):(i=e[2],l=e[3]),(0,lt.useEffect)(i,l);const c=iQ;let d,u,m,h,p,f,g,x,_,y,b,j,v,S,w;return e[4]===Symbol.for("react.memo_cache_sentinel")?(h=(0,bt.jsx)(ch,{children:(0,bt.jsx)(RV,{layout:c})}),p=(0,bt.jsx)(Fq,{winHeight:0}),f=(0,bt.jsx)(rz,{}),g=(0,bt.jsx)(rU,{}),x=(0,bt.jsx)(_U,{}),_=(0,bt.jsx)(Vo,{}),y=(0,bt.jsx)(xz,{}),b=(0,bt.jsx)(Sy,{}),d=(0,bt.jsx)(pn,{}),u=(0,bt.jsx)(gU,{}),m=(0,bt.jsx)(If.GlobalReportDialog,{}),e[4]=d,e[5]=u,e[6]=m,e[7]=h,e[8]=p,e[9]=f,e[10]=g,e[11]=x,e[12]=_,e[13]=y,e[14]=b):(d=e[4],u=e[5],m=e[6],h=e[7],p=e[8],f=e[9],g=e[10],x=e[11],_=e[12],y=e[13],b=e[14]),e[15]!==a?(j=a.isOpen&&(0,bt.jsx)(vU,{control:a}),e[15]=a,e[16]=j):j=e[16],e[17]!==o.completed?(v=o.completed&&(0,bt.jsx)(bt.Fragment,{children:(0,bt.jsx)(xI.Outlet,{})}),e[17]=o.completed,e[18]=v):v=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,bt.jsx)(XA,{}),e[19]=S):S=e[19],e[20]!==j||e[21]!==v?(w=(0,bt.jsxs)(bt.Fragment,{children:[h,p,f,g,x,_,y,b,d,u,m,j,v,S]}),e[20]=j,e[21]=v,e[22]=w):w=e[22],w}function iQ(e){const{children:t}=e;return(0,bt.jsx)(lQ,{children:t})}function lQ(e){const t=(0,n.c)(13),{children:s}=e,o=(0,qs.useTheme)(),a=(0,hs.useIsDrawerOpen)(),r=(0,hs.useSetDrawerOpen)(),{gtTablet:i}=(0,qs.useBreakpoints)(),{_:l}=(0,dt.useLingui)(),c=!i&&a,[d,u]=(0,lt.useState)(c);let m,h,p,f;return t[0]!==c||t[1]!==d?(m=()=>{if(c!==d){if(!c){const e=setTimeout((()=>{u(!1)}),160);return()=>clearTimeout(e)}u(!0)}},h=[c,d],t[0]=c,t[1]=d,t[2]=m,t[3]=h):(m=t[2],h=t[3]),(0,lt.useLayoutEffect)(m,h),t[4]!==l||t[5]!==r||t[6]!==c||t[7]!==d||t[8]!==o?(p=d&&(0,bt.jsxs)(bt.Fragment,{children:[(0,bt.jsx)(Hs.RemoveScrollBar,{}),(0,bt.jsx)(Ms.default,{onPress:e=>{e.target===e.currentTarget&&r(!1)},accessibilityLabel:l({id:"yMKjt1"}),accessibilityHint:"",children:(0,bt.jsx)(Fs.default,{style:[dQ.drawerMask,{backgroundColor:c?(0,qs.select)(o.name,{light:"rgba(0, 57, 117, 0.1)",dark:"rgba(1, 82, 168, 0.1)",dim:"rgba(10, 13, 16, 0.8)"}):"transparent"},qs.atoms.transition_color],children:(0,bt.jsx)(Fs.default,{style:[dQ.drawerContainer,c?qs.atoms.slide_in_left:qs.atoms.slide_out_left],children:(0,bt.jsx)(qq,{})})})})]}),t[4]=l,t[5]=r,t[6]=c,t[7]=d,t[8]=o,t[9]=p):p=t[9],t[10]!==s||t[11]!==p?(f=(0,bt.jsxs)(bt.Fragment,{children:[s,p]}),t[10]=s,t[11]=p,t[12]=f):f=t[12],f}function cQ(){const e=(0,n.c)(9),t=(0,qs.useTheme)(),s=(0,Fi.useAgeAssurance)(),{currentAccount:o}=(0,Gt.useSession)();let a,r,i,l;return e[0]!==t.atoms.bg?(a=[qs.atoms.util_screen_outer,t.atoms.bg],e[0]=t.atoms.bg,e[1]=a):a=e[1],e[2]!==s||e[3]!==o?.status?(r="takendown"===o?.status?(0,bt.jsx)(fz,{}):"deactivated"===o?.status?(0,bt.jsx)(mz,{}):(0,bt.jsxs)(bt.Fragment,{children:[s.state.access===s.Access.None?(0,bt.jsx)(TU,{}):(0,bt.jsx)(OV,{children:(0,bt.jsx)(rQ,{})}),(0,bt.jsx)(CU.RedirectOverlay,{})]}),e[2]=s,e[3]=o?.status,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,bt.jsx)(IU,{}),e[5]=i):i=e[5],e[6]!==a||e[7]!==r?(l=(0,bt.jsxs)(Fs.default,{style:a,children:[r,i]}),e[6]=a,e[7]=r,e[8]=l):l=e[8],l}sQ=lt.memo(sQ);const dQ=Os.default.create({drawerMask:Object.assign({},qs.atoms.fixed,{width:"100%",height:"100%",top:0,left:0}),drawerContainer:Object.assign({display:"flex"},qs.atoms.fixed,{top:0,left:0,height:"100%",width:330,maxWidth:"80%"})});var uQ=s(94134),mQ=s(49028);function hQ(){const e=(0,n.c)(3),t=function(){const e=(0,n.c)(4),t=(0,uQ.default)(),{colorMode:s,darkTheme:o}=(0,hs.useThemePrefs)();let a;e[0]!==s||e[1]!==t||e[2]!==o?(a=function(e,t,s){return"system"===t&&"light"===e||"light"===t?"light":s??"dim"}(t,s,o),e[0]=s,e[1]=t,e[2]=o,e[3]=a):a=e[3];return a}();let s,o;return e[0]!==t?(s=()=>{!function(e){if(r.IS_WEB&&"undefined"!==typeof window){const t=window.document.documentElement,s=window.document.querySelector('meta[name="theme-color"]');t.className=t.className.replace(/(theme)--\w+/g,""),t.classList.add(`theme--${e}`),s?.setAttribute("content",function(e){switch(e){case"light":return mQ.light.atoms.bg.backgroundColor;case"dark":return mQ.dark.atoms.bg.backgroundColor;case"dim":return mQ.dim.atoms.bg.backgroundColor}}(e)),window.localStorage.setItem("ALF_THEME",e)}}(t)},o=[t],e[0]=t,e[1]=s,e[2]=o):(s=e[1],o=e[2]),lt.useLayoutEffect(s,o),t}const pQ=100,fQ=57/64;function gQ(e){const t=(0,n.c)(9),{isReady:s,children:o}=e,[a,r]=(0,lt.useState)(!1),i=(0,lt.useRef)(null);let l,c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[0]=l):l=t[0],(0,lt.useEffect)(xQ,l),t[1]!==s?(c=()=>{if(!s)return;const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,t=i.current;if(!t||e)return void r(!0);const o=t.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(1.5)"}],{duration:300,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fill:"forwards"});return o.onfinish=()=>r(!0),()=>{o.cancel()}},d=[s],t[1]=s,t[2]=c,t[3]=d):(c=t[2],d=t[3]),(0,lt.useEffect)(c,d);const u=s&&o;let m,h;return t[4]!==a?(m=!a&&(0,bt.jsx)("div",{ref:i,style:(0,qs.flatten)([qs.atoms.fixed,qs.atoms.inset_0,qs.atoms.flex,qs.atoms.align_center,qs.atoms.justify_center,{transformOrigin:"center calc(50% - 50px)"}]),children:(0,bt.jsx)(Su.default,{fill:"none",viewBox:"0 0 64 57",style:[qs.atoms.relative,{width:pQ,height:pQ*fQ,top:-50}],children:(0,bt.jsx)(Su.Path,{fill:"#006AFF",d:"M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805ZM50.127 3.805C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745Z"})})}),t[4]=a,t[5]=m):m=t[5],t[6]!==u||t[7]!==m?(h=(0,bt.jsxs)(bt.Fragment,{children:[u,m]}),t[6]=u,t[7]=m,t[8]=h):h=t[8],h}function xQ(){requestAnimationFrame(_Q)}function _Q(){requestAnimationFrame(yQ)}function yQ(){const e=document.getElementById("splash");e&&e.remove()}function bQ(){const[e,t]=(0,lt.useState)(!1),{currentAccount:s}=(0,Gt.useSession)(),{resumeSession:o}=(0,Gt.useSessionApi)(),a=hQ(),{_:r}=(0,dt.useLingui)(),i=function(){const e=(0,n.c)(3),[t,s]=lt.useState(!1),o=ys();let a,r;return e[0]!==o?(a=()=>{const e=window.location.href,t=(0,NT.httpStarterPackUriToAtUri)(e);if(t){const s="true"===new URL(e).searchParams.get("clip");o({uri:t,isClip:s})}s(!0)},r=[o],e[0]=o,e[1]=a,e[2]=r):(a=e[1],r=e[2]),lt.useEffect(a,r),t}();return(0,lt.useEffect)((()=>{!async function(e){try{e?await o(e):await Xo.features.init}catch(s){Mt.logger.error("session: resumeSession failed",{message:s})}finally{t(!0)}}((0,ms.readLastActiveAccount)())}),[o]),(0,lt.useEffect)((()=>(0,_t.listenSessionDropped)((()=>{Ds.show(r({id:"vxQK+k"}),"info")}))),[r]),(0,bt.jsx)(qs.ThemeProvider,{theme:a,children:(0,bt.jsx)(Pt.ThemeProvider,{theme:a,children:(0,bt.jsx)(VL,{children:(0,bt.jsx)(gQ,{isReady:e&&i,children:(0,bt.jsx)(wh,{children:(0,bt.jsx)(Vh,{children:(0,bt.jsx)(lt.Fragment,{children:(0,bt.jsx)(Xo.AnalyticsFeaturesContext,{children:(0,bt.jsx)(It,{currentDid:s?.did,children:(0,bt.jsx)(sP,{children:(0,bt.jsx)(il,{children:(0,bt.jsx)(Fi.Provider,{children:(0,bt.jsx)(ps.Provider,{children:(0,bt.jsx)(rs,{children:(0,bt.jsx)(cs.Provider,{children:(0,bt.jsx)(ds.Provider,{children:(0,bt.jsx)(vs,{children:(0,bt.jsx)(Es,{children:(0,bt.jsx)(Bs.Provider,{children:(0,bt.jsx)($t,{children:(0,bt.jsx)(us.Provider,{children:(0,bt.jsx)(nB,{children:(0,bt.jsx)(Nt.Provider,{children:(0,bt.jsx)(ct.SafeAreaProvider,{children:(0,bt.jsx)(Cs.Provider,{children:(0,bt.jsx)(Wt.Provider,{children:(0,bt.jsx)(Qt,{children:(0,bt.jsx)(rw,{children:(0,bt.jsxs)($o,{children:[(0,bt.jsx)(cQ,{}),(0,bt.jsx)(Pd.ToastOutlet,{})]})})})})})})})})})})})})})})})})})})})})})})},s?.did)})})})})})})}MC.resolve(),(0,Fi.prefetchAgeAssuranceConfig)(),async function(){const e=await al();e&&sl.setQueryData(ol,e)}();const jQ=a.wrap((function(){const e=(0,n.c)(3),[t,s]=(0,lt.useState)(!1);let o,a,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{Promise.all([(0,ls.init)(),MC.resolve(),Xo.setupDeviceId]).then((()=>s(!0)))},a=[],e[0]=o,e[1]=a):(o=e[0],a=e[1]),(0,lt.useEffect)(o,a),t?(e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,bt.jsx)(MC.Provider,{children:(0,bt.jsx)(Ft.Provider,{children:(0,bt.jsx)(ks.Provider,{children:(0,bt.jsx)(Xo.AnalyticsContext,{children:(0,bt.jsx)(Gt.Provider,{children:(0,bt.jsx)(Bt.Provider,{children:(0,bt.jsx)(Ot,{children:(0,bt.jsx)(hs.Provider,{children:(0,bt.jsx)(is.Provider,{children:(0,bt.jsx)(Ht.Provider,{children:(0,bt.jsx)(Xt.Provider,{children:(0,bt.jsx)(xI.Provider,{children:(0,bt.jsx)(xs,{children:(0,bt.jsx)(bQ,{})})})})})})})})})})})})})}),e[2]=r):r=e[2],r):null}));(0,o.default)(jQ)},18560:(e,t,s)=>{"use strict";function o(e){throw new Error("BottomSheet is not available on web")}s.r(t),s.d(t,{BottomSheet:()=>o,BottomSheetNativeComponent:()=>a,BottomSheetOutlet:()=>h,BottomSheetPortalProvider:()=>u,BottomSheetProvider:()=>p,BottomSheetSnapPoint:()=>n.BottomSheetSnapPoint});var n=s(11640);function a(e){throw new Error("BottomSheetNativeComponent is not available on web")}var r=s(15991),i=s(95004),l=s(2629);function c(){const e=i.createContext({outlet:null,append:()=>{},remove:()=>{}});return e.displayName="BottomSheetPortalContext",{Provider:function(t){const s=(0,r.c)(8);let o;s[0]===Symbol.for("react.memo_cache_sentinel")?(o={},s[0]=o):o=s[0];const n=i.useRef(o),[a,c]=i.useState(null);let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=(e,t)=>{n.current[e]||(n.current[e]=(0,l.jsx)(i.Fragment,{children:t},e),c((0,l.jsx)(l.Fragment,{children:Object.values(n.current)})))},s[1]=d):d=s[1];const u=d;let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{delete n.current[e],c((0,l.jsx)(l.Fragment,{children:Object.values(n.current)}))},s[2]=m):m=s[2];const h=m;let p;s[3]!==a?(p={outlet:a,append:u,remove:h},s[3]=a,s[4]=p):p=s[4];const f=p;let g;return s[5]!==f||s[6]!==t.children?(g=(0,l.jsx)(e.Provider,{value:f,children:t.children}),s[5]=f,s[6]=t.children,s[7]=g):g=s[7],g},Outlet:function(){return i.useContext(e).outlet},Portal:function(t){const s=(0,r.c)(6),{children:o}=t,{append:n,remove:a}=i.useContext(e),l=i.useId();let c,d;return s[0]!==n||s[1]!==o||s[2]!==l||s[3]!==a?(c=()=>(n(l,o),()=>a(l)),d=[l,o,n,a],s[0]=n,s[1]=o,s[2]=l,s[3]=a,s[4]=c,s[5]=d):(c=s[4],d=s[5]),i.useEffect(c,d),null}}}const d=i.createContext({});d.displayName="BottomSheetPortalContext";function u(e){const t=(0,r.c)(4),{children:s}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=c(),t[0]=o):o=t[0];const n=o;let a,i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(n.Outlet,{}),t[1]=a):a=t[1],t[2]!==s?(i=(0,l.jsx)(d.Provider,{value:n.Portal,children:(0,l.jsxs)(n.Provider,{children:[s,a]})}),t[2]=s,t[3]=i):i=t[3],i}const m=c(),h=m.Outlet;function p(e){const t=(0,r.c)(2),{children:s}=e;let o;return t[0]!==s?(o=(0,l.jsx)(d.Provider,{value:m.Portal,children:(0,l.jsx)(m.Provider,{children:s})}),t[0]=s,t[1]=o):o=t[1],o}},11640:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BottomSheetSnapPoint:()=>o});let o=function(e){return e[e.Hidden=0]="Hidden",e[e.Partial=1]="Partial",e[e.Full=2]="Full",e}({})},27418:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BackgroundNotificationHandler:()=>o});const o={getAllPrefsAsync:async()=>({}),getBoolAsync:async e=>!1,getStringAsync:async e=>"",getStringArrayAsync:async e=>[],setBoolAsync:async(e,t)=>{},setStringAsync:async(e,t)=>{},setStringArrayAsync:async(e,t)=>{},addToStringArrayAsync:async(e,t)=>{},removeFromStringArrayAsync:async(e,t)=>{},addManyToStringArrayAsync:async(e,t)=>{},removeManyFromStringArrayAsync:async(e,t)=>{},setBadgeCountAsync:async e=>{}}},19882:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AudioCategory:()=>d,PlatformInfo:()=>o,Referrer:()=>n,SharedPrefs:()=>a,VisibilityView:()=>j});var o={};s.r(o),s.d(o,{getIsReducedMotionEnabled:()=>i,setAudioActive:()=>l,setAudioCategory:()=>c});var n={};s.r(n),s.d(n,{getGooglePlayReferrerInfoAsync:()=>u,getReferrerInfo:()=>m});var a={};s.r(a),s.d(a,{addToSet:()=>_,getBool:()=>x,getNumber:()=>g,getString:()=>f,removeFromSet:()=>y,removeValue:()=>p,setContains:()=>b,setValue:()=>h});class r extends Error{constructor(e={}){super("Not implemented")}}function i(){return"undefined"!==typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches}function l(e){throw new r({active:e})}function c(e){throw new r({audioCategory:e})}let d=function(e){return e.Ambient="AVAudioSessionCategoryAmbient",e.Playback="AVAudioSessionCategoryPlayback",e._SoloAmbient="AVAudioSessionCategorySoloAmbient",e._Record="AVAudioSessionCategoryRecord",e._PlayAndRecord="AVAudioSessionCategoryPlayAndRecord",e._MultiRoute="AVAudioSessionCategoryMultiRoute",e}({});function u(){throw new r}function m(){if("undefined"!==typeof document&&null!=document&&document.referrer)try{const e=new URL(document.referrer);if("bsky.app"!==e.hostname)return{referrer:e.href,hostname:e.hostname}}catch{}return null}function h(e,t){throw new r({key:e,value:t})}function p(e){throw new r({key:e})}function f(e){throw new r({key:e})}function g(e){throw new r({key:e})}function x(e){throw new r({key:e})}function _(e,t){throw new r({key:e,value:t})}function y(e,t){throw new r({key:e,value:t})}function b(e,t){throw new r({key:e,value:t})}function j({children:e}){return e}},2691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>I,RedirectOverlay:()=>A,parseRedirectOverlayState:()=>T,useRedirectOverlayContext:()=>C});var o=s(15991),n=s(95004),a=s(45458),r=s(67842),i=s(88186),l=s(96963),c=s(62820),d=s(47571),u=s(34638),m=s(97154),h=s(19552),p=s(53923),f=s(51536),g=s(36830),x=s(84639),_=s(8347),y=s(50788),b=s(23486),j=s(8103),v=s(33703),S=s(43535),w=s(2629);function T(e={}){let t="unknown";const s=e.actorDid;if("success"===e.result)t="success";else t="unknown";if(s)return{result:t,actorDid:s}}const k=(0,n.createContext)({isOpen:!1,open:()=>{},close:()=>{}});function C(){return(0,n.useContext)(k)}function I(e){const t=(0,o.c)(10),{children:s}=e,{currentAccount:a}=(0,m.useSession)(),r=i.useLinkingURL();let l;t[0]!==a||t[1]!==r?(l=()=>{if(!r)return null;const e=(0,u.parseLinkingUrl)(r);if("/intent/age-assurance"!==e.pathname)return null;const t=e.searchParams,s=T({result:t.get("result")??void 0,actorDid:t.get("actorDid")??void 0});return S.IS_WEB&&history.pushState(null,"","/"),s&&a&&s.actorDid===a.did?s:null},t[0]=a,t[1]=r,t[2]=l):l=t[2];const[c,d]=(0,n.useState)(l);let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{d(e)},t[3]=h):h=t[3];const p=h;let f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{d(null)},t[4]=f):f=t[4];const g=f,x=null!==c;let _;t[5]!==x?(_={isOpen:x,open:p,close:g},t[5]=x,t[6]=_):_=t[6];const y=_;let b;return t[7]!==s||t[8]!==y?(b=(0,w.jsx)(k.Provider,{value:y,children:s}),t[7]=s,t[8]=y,t[9]=b):b=t[9],b}function A(){const e=(0,o.c)(5),t=(0,h.useTheme)(),{_:s}=(0,l.useLingui)(),{isOpen:n}=C(),{gtMobile:i}=(0,h.useBreakpoints)();let c;return e[0]!==s||e[1]!==i||e[2]!==n||e[3]!==t?(c=n?(0,w.jsx)(g.FullWindowOverlay,{children:(0,w.jsx)(r.default,{style:[h.atoms.fixed,h.atoms.inset_0,!S.IS_IOS&&{zIndex:9999},t.atoms.bg,i?h.atoms.p_2xl:h.atoms.p_xl,h.atoms.align_center,(0,h.platform)({web:{paddingTop:"35vh"},default:{paddingTop:.35*a.default.get("window").height}})],children:(0,w.jsx)(r.default,{role:"dialog","aria-role":"dialog","aria-label":s({id:"pEeM+l"}),children:(0,w.jsx)(r.default,{style:[h.atoms.pb_3xl,{width:300}],children:(0,w.jsx)(P,{})})})})}):null,e[0]=s,e[1]=i,e[2]=n,e[3]=t,e[4]=c):c=e[4],c}function P(){const e=(0,o.c)(54),t=(0,h.useTheme)(),s=(0,v.useAnalytics)(),{_:a}=(0,l.useLingui)(),i=(0,m.useAgent)(),u=(0,n.useRef)(!1),g=(0,n.useRef)(!1),[S,T]=(0,n.useState)(!1),[k,I]=(0,n.useState)(!1),{close:A}=C();let P,L,R,B,D,O,M,F,N,H,V,z,U,W,G;if(e[0]!==i||e[1]!==s?(P=()=>{if(!u.current)return u.current=!0,s.metric("ageAssurance:redirectDialogOpen",{}),(0,d.wait)(3e3,(0,c.retry)(5,E,(async()=>{if(!i.session)return;if(g.current)return;const e=await(0,j.refetchAgeAssuranceServerState)({agent:i});if("assured"!==e?.state.status)throw new Error("Polling for age assurance state did not receive assured status");return e}),1e3)).then((async e=>{e&&i.session&&(g.current||(I(!0),s.metric("ageAssurance:redirectDialogSuccess",{})))})).catch((()=>{g.current||(T(!0),s.metric("ageAssurance:redirectDialogFail",{}))})),()=>{g.current=!0}},L=[s,i],e[0]=i,e[1]=s,e[2]=P,e[3]=L):(P=e[2],L=e[3]),(0,n.useEffect)(P,L),k){let s,o,n,i,c,d,u,m,g,_,y,j,v;return e[4]===Symbol.for("react.memo_cache_sentinel")?(s=[h.atoms.align_start,h.atoms.w_full],o=(0,w.jsx)(p.AgeAssuranceBadge,{}),e[4]=s,e[5]=o):(s=e[4],o=e[5]),e[6]===Symbol.for("react.memo_cache_sentinel")?(n=[h.atoms.flex_row,h.atoms.justify_between,h.atoms.align_center,h.atoms.gap_sm,h.atoms.pt_lg,h.atoms.pb_md],e[6]=n):n=e[6],e[7]!==t.palette.positive_500?(i=(0,w.jsx)(x.CheckThick_Stroke2_Corner0_Rounded,{size:"sm",fill:t.palette.positive_500}),e[7]=t.palette.positive_500,e[8]=i):i=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,w.jsx)(b.Text,{style:[h.atoms.text_3xl,h.atoms.font_bold],children:(0,w.jsx)(l.Trans,{id:"zzDlyQ"})}),e[9]=c):c=e[9],e[10]!==i?(d=(0,w.jsxs)(r.default,{style:n,children:[i,c]}),e[10]=i,e[11]=d):d=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(u=(0,w.jsx)(b.Text,{style:[h.atoms.text_md,h.atoms.leading_snug],children:(0,w.jsx)(l.Trans,{id:"QkMQM1"})}),e[12]=u):u=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(m=[h.atoms.w_full,h.atoms.pt_lg],e[13]=m):m=e[13],e[14]!==a?(g=a({id:"yz7wBu"}),e[14]=a,e[15]=g):g=e[15],e[16]!==A?(_=()=>A(),e[16]=A,e[17]=_):_=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(y=(0,w.jsx)(f.ButtonText,{children:(0,w.jsx)(l.Trans,{id:"yz7wBu"})}),e[18]=y):y=e[18],e[19]!==g||e[20]!==_?(j=(0,w.jsx)(r.default,{style:m,children:(0,w.jsx)(f.Button,{label:g,size:"large",variant:"solid",color:"secondary",onPress:_,children:y})}),e[19]=g,e[20]=_,e[21]=j):j=e[21],e[22]!==j||e[23]!==d?(v=(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(r.default,{style:s,children:[o,d,u,j]})}),e[22]=j,e[23]=d,e[24]=v):v=e[24],v}return e[25]===Symbol.for("react.memo_cache_sentinel")?(R=[h.atoms.align_start,h.atoms.w_full],B=(0,w.jsx)(p.AgeAssuranceBadge,{}),e[25]=R,e[26]=B):(R=e[25],B=e[26]),e[27]===Symbol.for("react.memo_cache_sentinel")?(D=[h.atoms.flex_row,h.atoms.justify_between,h.atoms.align_center,h.atoms.gap_sm,h.atoms.pt_lg,h.atoms.pb_md],e[27]=D):D=e[27],e[28]!==S||e[29]!==t.palette?(O=S&&(0,w.jsx)(_.CircleInfo_Stroke2_Corner0_Rounded,{size:"lg",fill:t.palette.negative_500}),e[28]=S,e[29]=t.palette,e[30]=O):O=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(M=[h.atoms.text_3xl,h.atoms.font_bold],e[31]=M):M=e[31],e[32]!==S?(F=(0,w.jsx)(b.Text,{style:M,children:S?(0,w.jsx)(l.Trans,{id:"2C5GZB"}):(0,w.jsx)(l.Trans,{id:"bl9677"})}),N=!S&&(0,w.jsx)(y.Loader,{size:"lg"}),e[32]=S,e[33]=F,e[34]=N):(F=e[33],N=e[34]),e[35]!==O||e[36]!==F||e[37]!==N?(H=(0,w.jsxs)(r.default,{style:D,children:[O,F,N]}),e[35]=O,e[36]=F,e[37]=N,e[38]=H):H=e[38],e[39]!==t.atoms.text_contrast_medium?(V=[h.atoms.text_md,t.atoms.text_contrast_medium,h.atoms.leading_snug],e[39]=t.atoms.text_contrast_medium,e[40]=V):V=e[40],e[41]!==S?(z=S?(0,w.jsx)(l.Trans,{id:"n/TXPj"}):(0,w.jsx)(l.Trans,{id:"HR/hll"}),e[41]=S,e[42]=z):z=e[42],e[43]!==V||e[44]!==z?(U=(0,w.jsx)(b.Text,{style:V,children:z}),e[43]=V,e[44]=z,e[45]=U):U=e[45],e[46]!==a||e[47]!==A||e[48]!==S?(W=S&&(0,w.jsx)(r.default,{style:[h.atoms.w_full,h.atoms.pt_lg],children:(0,w.jsx)(f.Button,{label:a({id:"yz7wBu"}),size:"large",variant:"solid",color:"secondary",onPress:()=>A(),children:(0,w.jsx)(f.ButtonText,{children:(0,w.jsx)(l.Trans,{id:"yz7wBu"})})})}),e[46]=a,e[47]=A,e[48]=S,e[49]=W):W=e[49],e[50]!==U||e[51]!==W||e[52]!==H?(G=(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(r.default,{style:R,children:[B,H,U,W]})}),e[50]=U,e[51]=W,e[52]=H,e[53]=G):G=e[53],G}function E(){return!0}},66375:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AgeAssuranceDataContext:()=>oe,AgeAssuranceDataProvider:()=>ae,clearAgeAssuranceData:()=>se,clearAgeAssuranceDataForDid:()=>te,configQueryKey:()=>R,createOtherRequiredDataQueryKey:()=>K,createServerStateQueryKey:()=>V,getConfig:()=>B,getConfigFromCache:()=>D,getOtherRequiredData:()=>Z,getOtherRequiredDataFromCache:()=>Y,getServerState:()=>z,getServerStateFromCache:()=>U,prefetchAgeAssuranceData:()=>ee,prefetchConfig:()=>M,prefetchOtherRequiredData:()=>$,prefetchServerState:()=>W,refetchConfig:()=>F,refetchServerState:()=>G,setBirthdateForDid:()=>L,setCreatedAtForDid:()=>P,useAgeAssuranceDataContext:()=>ne,useConfigQuery:()=>N,useOtherRequiredDataQuery:()=>J,usePatchOtherRequiredData:()=>X,usePatchServerState:()=>q,useServerStateQuery:()=>Q});var o=s(15991),n=s(95004),a=s(66949),r=s(25705),i=s(17908),l=s(5448),c=s(88745),d=s(31778),u=s(73432),m=s.n(u),h=s(62820),p=s(17110),f=s(33927),g=s(88972),x=s(4e3),_=s(97154),y=s(63661),b=s(4359),j=s(6240),v=s(43535),S=s(33520),w=s(2629);const T=new i.QueryClient({defaultOptions:{queries:{gcTime:1/0}}}),k=(0,r.createAsyncStoragePersister)({storage:(0,f.createPersistedQueryStorage)("age-assurance"),key:"age-assurance-query-client"}),[,C]=(0,d.persistQueryClient)({queryClient:T,persister:k});function I(e){const t=e.sessionManager;if(t&&t.did)return t.did}const A=new Map;function P({did:e,createdAt:t}){A.set(e,t)}const E=new Map;function L({did:e,birthdate:t}){E.set(e,t)}const R=["config"];async function B(){if(y.enabled)return y.resolve(y.config);const e=new a.AtpAgent({service:p.PUBLIC_BSKY_SERVICE});return(await e.app.bsky.ageassurance.getConfig()).data}function D(){return T.getQueryData(R)}let O;async function M(){O?b.logger.debug("prefetchAgeAssuranceConfig: already in progress"):O=new Promise((async e=>{await C;if(D())b.logger.debug("prefetchAgeAssuranceConfig: using cache"),e();else try{b.logger.debug("prefetchAgeAssuranceConfig: resolving...");const e=await(0,h.networkRetry)(3,(()=>B()));T.setQueryData(R,e)}catch(t){b.logger.warn("prefetchAgeAssuranceConfig: failed",{safeMessage:t.message})}finally{e()}}))}async function F(){b.logger.debug("refetchConfig: fetching...");const e=await B();return T.setQueryData(R,e),e}function N(){const e=(0,o.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={staleTime:v.IS_DEV?5e3:36e5,initialData:D(),initialDataUpdatedAt:H,queryKey:R,queryFn:async()=>(b.logger.debug("useConfigQuery: fetching config"),B())},e[0]=t):t=e[0],(0,l.useQuery)(t,T)}function H(){return T.getQueryState(R)?.dataUpdatedAt}function V({did:e}){return["serverState",e]}async function z({agent:e}){if(y.enabled&&y.serverState)return y.resolve(y.serverState);const t=S.device.get(["mergedGeolocation"]);if(!t||!t.countryCode)return void b.logger.error("getServerState: missing geolocation countryCode");const{data:s}=await e.app.bsky.ageassurance.getState({countryCode:t.countryCode,regionCode:t.regionCode}),o=I(e);return s&&o&&A.has(o)&&(s.metadata.accountCreatedAt=A.get(o)),s??null}function U({did:e}){return T.getQueryData(V({did:e}))}async function W({agent:e}){const t=I(e);if(!t)return;await C;const s=V({did:t});if(U({did:t}))b.logger.debug("prefetchServerState: using cache");else try{b.logger.debug("prefetchServerState: resolving...");const t=await(0,h.networkRetry)(3,(()=>z({agent:e})));T.setQueryData(s,t)}catch(o){b.logger.warn("prefetchServerState: failed",{safeMessage:o.message})}}async function G({agent:e}){const t=I(e);if(!t)return;b.logger.debug("refetchServerState: fetching...");const s=await(0,h.networkRetry)(3,(()=>z({agent:e})));return T.setQueryData(V({did:t}),s),s}function q(){const e=(0,o.c)(2),{currentAccount:t}=(0,_.useSession)();let s;return e[0]!==t?(s=async e=>{if(!t)return;const s=t.did,o=U({did:s}),n=Object.assign({metadata:{}},o||{},{state:e});T.setQueryData(V({did:s}),n)},e[0]=t,e[1]=s):s=e[1],s}function Q(){const e=(0,o.c)(18),t=(0,_.useAgent)();let s,r,i,d,u,h;e[0]!==t?(s=I(t),u=l.useQuery,r=!!s,i=()=>{if(s)return U({did:s})},d=V({did:s}),e[0]=t,e[1]=s,e[2]=r,e[3]=i,e[4]=d,e[5]=u):(s=e[1],r=e[2],i=e[3],d=e[4],u=e[5]),e[6]!==t||e[7]!==r||e[8]!==i||e[9]!==d?(h={enabled:r,initialData:i,queryKey:d,queryFn:async()=>z({agent:t})},e[6]=t,e[7]=r,e[8]=i,e[9]=d,e[10]=h):h=e[10];const p=u(h,T);let f;e[11]!==p.refetch?(f=m()(p.refetch,100),e[11]=p.refetch,e[12]=f):f=e[12];const g=f,x="assured"===p.data?.state?.status;let y,b;return e[13]!==s||e[14]!==x||e[15]!==g?(y=()=>c.focusManager.subscribe((()=>{if(!s)return;if(!c.focusManager.isFocused())return;const e=D(),t=S.device.get(["mergedGeolocation"]),o=Boolean(e&&t&&!!(0,a.getAgeAssuranceRegionConfig)(e,{countryCode:t?.countryCode??"",regionCode:t?.regionCode}));!x&&o&&g()})),b=[s,g,x],e[13]=s,e[14]=x,e[15]=g,e[16]=y,e[17]=b):(y=e[16],b=e[17]),(0,n.useEffect)(y,b),p}function K({did:e}){return["otherRequiredData",e]}async function Z({agent:e}){if(y.enabled)return y.resolve(y.otherRequiredData);const[t]=await Promise.all([e.getPreferences()]),s={birthdate:t.birthDate?t.birthDate.toISOString():void 0};s.birthdate||(t.declaredAge?.isOverAge18?s.birthdate=(0,j.getBirthdateStringFromAge)(18):t.declaredAge?.isOverAge16?s.birthdate=(0,j.getBirthdateStringFromAge)(16):t.declaredAge?.isOverAge13&&(s.birthdate=(0,j.getBirthdateStringFromAge)(13)));const o=I(e);return s&&o&&E.has(o)&&(s.birthdate=E.get(o)),!s.birthdate||(0,j.isLegacyBirthdateBug)(s.birthdate)||(0,x.hasSnoozedBirthdateUpdateForDid)(o)||(0,x.snoozeBirthdateUpdateAllowedForDid)(o),s}function Y({did:e}){return T.getQueryData(K({did:e}))}async function $({agent:e}){const t=I(e);if(!t)return;await C;const s=K({did:t});if(Y({did:t}))b.logger.debug("prefetchOtherRequiredData: using cache");else try{b.logger.debug("prefetchOtherRequiredData: resolving...");const t=await(0,h.networkRetry)(3,(()=>Z({agent:e})));T.setQueryData(s,t)}catch(o){b.logger.warn("prefetchOtherRequiredData: failed",{safeMessage:o.message})}}function X(){const e=(0,o.c)(2),{currentAccount:t}=(0,_.useSession)();let s;return e[0]!==t?(s=async e=>{if(!t)return;const s=t.did,o=Y({did:s}),n=Object.assign({},o||{},e);T.setQueryData(K({did:s}),n)},e[0]=t,e[1]=s):s=e[1],s}function J(){const e=(0,o.c)(10),t=(0,_.useAgent)();let s,n,a,r,i;if(e[0]!==t){const o=I(t);r=l.useQuery,s=!!o,n=()=>{if(o)return Y({did:o})},a=K({did:o}),e[0]=t,e[1]=s,e[2]=n,e[3]=a,e[4]=r}else s=e[1],n=e[2],a=e[3],r=e[4];return e[5]!==t||e[6]!==s||e[7]!==n||e[8]!==a?(i={enabled:s,initialData:n,queryKey:a,queryFn:async()=>Z({agent:t})},e[5]=t,e[6]=s,e[7]=n,e[8]=a,e[9]=i):i=e[9],r(i,T)}function ee({agent:e}){return Promise.allSettled([O,W({agent:e}),$({agent:e})])}function te({did:e}){b.logger.debug(`clearAgeAssuranceDataForDid: ${e}`),T.removeQueries({queryKey:V({did:e}),exact:!0}),T.removeQueries({queryKey:K({did:e}),exact:!0})}function se(){b.logger.debug("clearAgeAssuranceData"),T.clear()}const oe=(0,n.createContext)({config:void 0,state:void 0,data:{accountCreatedAt:void 0,declaredAge:void 0,birthdate:void 0}});function ne(){return(0,n.useContext)(oe)}function ae(e){const t=(0,o.c)(15),{children:s}=e,{data:n}=N(),a=Q();let r;t[0]!==a.data?(r=a.data||{},t[0]=a.data,t[1]=r):r=t[1];const{state:i,metadata:l}=r,{data:c}=J(),d=l?.accountCreatedAt;let u;t[2]!==c?(u=c?.birthdate?(0,g.getAge)(new Date(c.birthdate)):void 0,t[2]=c,t[3]=u):u=t[3];const m=c?.birthdate;let h,p;t[4]!==d||t[5]!==u||t[6]!==m?(h={accountCreatedAt:d,declaredAge:u,birthdate:m},t[4]=d,t[5]=u,t[6]=m,t[7]=h):h=t[7],t[8]!==n||t[9]!==i||t[10]!==h?(p={config:n,state:i,data:h},t[8]=n,t[9]=i,t[10]=h,t[11]=p):p=t[11];const f=p;let x;return t[12]!==s||t[13]!==f?(x=(0,w.jsx)(oe.Provider,{value:f,children:s}),t[12]=s,t[13]=f,t[14]=x):x=t[14],x}},63661:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>c,deviceGeolocation:()=>l,enabled:()=>a,geolocation:()=>r,otherRequiredData:()=>d,resolve:()=>m,serverState:()=>u});var o=s(66949),n=s(43535);const a=(n.IS_DEV,n.IS_E2E),r=a?{countryCode:"AA",regionCode:void 0}:void 0,i=n.IS_E2E,l=a&&i?{countryCode:"AA",regionCode:void 0}:void 0,c={regions:[{countryCode:"AA",regionCode:void 0,minAccessAge:13,rules:[{$type:o.ageAssuranceRuleIDs.Default,access:"full"}]},{countryCode:"BB",regionCode:void 0,minAccessAge:16,rules:[{$type:o.ageAssuranceRuleIDs.Default,access:"full"}]}]},d={birthdate:new Date(2e3,1,1).toISOString()},u=void 0;async function m(e){return await new Promise((e=>setTimeout(e,500))),e}},8103:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MIN_ACCESS_AGE:()=>m.MIN_ACCESS_AGE,Provider:()=>_,logger:()=>l.logger,prefetchAgeAssuranceConfig:()=>i.prefetchConfig,prefetchAgeAssuranceData:()=>i.prefetchAgeAssuranceData,refetchAgeAssuranceServerState:()=>i.refetchServerState,useAgeAssurance:()=>x,usePatchAgeAssuranceOtherRequiredData:()=>i.usePatchOtherRequiredData,usePatchAgeAssuranceServerState:()=>i.usePatchServerState});var o=s(15991),n=s(95004),a=s(59786),r=s(2691),i=s(66375),l=s(4359),c=s(66949),d=s(97154),u=s(34151),m=s(6240),h=s(79758);function p(){const e=(0,o.c)(16),{hasSession:t}=(0,d.useSession)(),s=(0,h.useGeolocation)(),{config:n,state:a,data:r}=(0,i.useAgeAssuranceDataContext)();let p;e:{if(!t){let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={status:u.AgeAssuranceStatus.Unknown,access:u.AgeAssuranceAccess.Safe},e[0]=t):t=e[0],p=t;break e}if(!n){let t;l.logger.warn("useAgeAssuranceState: missing config"),e[1]===Symbol.for("react.memo_cache_sentinel")?(t={status:u.AgeAssuranceStatus.Unknown,access:u.AgeAssuranceAccess.Safe,error:"config"},e[1]=t):t=e[1],p=t;break e}let o;if(e[2]!==n||e[3]!==r||e[4]!==s||e[5]!==a){const t=(0,m.getAgeAssuranceRegionConfigWithFallback)(n,s),i="*"!==t.countryCode;if(("assured"===a?.status||"blocked"===a?.status)&&i){const t=a.lastInitiatedAt;let s,o,n;e[8]!==a.status?(s=(0,u.parseStatusFromString)(a.status),e[8]=a.status,e[9]=s):s=e[9],e[10]!==a.access?(o=(0,u.parseAccessFromString)(a.access),e[10]=a.access,e[11]=o):o=e[11],e[12]!==a.lastInitiatedAt||e[13]!==s||e[14]!==o?(n={lastInitiatedAt:t,status:s,access:o},e[12]=a.lastInitiatedAt,e[13]=s,e[14]=o,e[15]=n):n=e[15],p=n;break e}const d=(0,c.computeAgeAssuranceRegionAccess)(t,r);o={lastInitiatedAt:a?.lastInitiatedAt,status:a?.status?(0,u.parseStatusFromString)(a?.status):u.AgeAssuranceStatus.Unknown,access:d?(0,u.parseAccessFromString)(d.access):u.AgeAssuranceAccess.Full},l.logger.debug("debug useAgeAssuranceState",{region:t,state:a,data:r,computed:o}),e[2]=n,e[3]=r,e[4]=s,e[5]=a,e[6]=o,e[7]=p}else o=e[6],p=e[7];p=o}return p}var f=s(2629);const g=(0,n.createContext)({Access:u.AgeAssuranceAccess,Status:u.AgeAssuranceStatus,state:{lastInitiatedAt:void 0,status:u.AgeAssuranceStatus.Unknown,access:u.AgeAssuranceAccess.Full},flags:{adultContentDisabled:!1,chatDisabled:!1,isOverRegionMinAccessAge:!1,isOverAppMinAccessAge:!1}});function x(){return(0,n.useContext)(g)}function _(e){const t=(0,o.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,f.jsx)(i.AgeAssuranceDataProvider,{children:(0,f.jsx)(y,{children:(0,f.jsx)(r.Provider,{children:s})})}),t[0]=s,t[1]=n):n=t[1],n}function y(e){const t=(0,o.c)(18),{children:s}=e,r=p(),{data:c}=(0,i.useAgeAssuranceDataContext)(),d=(0,m.useAgeAssuranceRegionConfigWithFallback)(),h=(0,a.useGetAndRegisterPushToken)();let x;t[0]!==h?(x=e=>{h({isAgeRestricted:e.access!==u.AgeAssuranceAccess.Full})},t[0]=h,t[1]=x):x=t[1];let _,y;!function(e){const t=(0,o.c)(5),s=p(),[a,r]=(0,n.useState)(null);let i,c;t[0]!==e||t[1]!==a||t[2]!==s?(i=()=>{a!==s.access&&(r(s.access),e(s),l.logger.debug("useOnAgeAssuranceAccessUpdate",{state:s}))},c=[e,s,a],t[0]=e,t[1]=a,t[2]=s,t[3]=i,t[4]=c):(i=t[3],c=t[4]),(0,n.useEffect)(i,c)}(x),t[2]!==r?(_=()=>{l.logger.debug("useAgeAssuranceState",{state:r})},y=[r],t[2]=r,t[3]=_,t[4]=y):(_=t[3],y=t[4]),(0,n.useEffect)(_,y);const b=r.access!==u.AgeAssuranceAccess.Full;let j;t[5]!==c?(j=!c?.birthdate||(0,m.isUnderAge)(c.birthdate,18),t[5]=c,t[6]=j):j=t[6];const v=j,S=!!c?.birthdate&&!(0,m.isUnderAge)(c.birthdate,d.minAccessAge),w=!!c?.birthdate&&!(0,m.isUnderAge)(c.birthdate,m.MIN_ACCESS_AGE),T=r.access!==u.AgeAssuranceAccess.Full||v;let k,C;t[7]!==T||t[8]!==b||t[9]!==w||t[10]!==S?(k={adultContentDisabled:T,chatDisabled:b,isOverRegionMinAccessAge:S,isOverAppMinAccessAge:w},t[7]=T,t[8]=b,t[9]=w,t[10]=S,t[11]=k):k=t[11],t[12]!==r||t[13]!==k?(C={Access:u.AgeAssuranceAccess,Status:u.AgeAssuranceStatus,state:r,flags:k},t[12]=r,t[13]=k,t[14]=C):C=t[14];const I=C;let A;return t[15]!==s||t[16]!==I?(A=(0,f.jsx)(g.Provider,{value:I,children:s}),t[15]=s,t[16]=I,t[17]=A):A=t[17],A}},4359:(e,t,s)=>{"use strict";s.r(t),s.d(t,{logger:()=>n});var o=s(5295);const n=o.Logger.create(o.Logger.Context.AgeAssurance)},34151:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AgeAssuranceAccess:()=>n,AgeAssuranceStatus:()=>a,parseAccessFromString:()=>i,parseStatusFromString:()=>r});var o=s(4359);let n=function(e){return e.Unknown="unknown",e.None="none",e.Safe="safe",e.Full="full",e}({}),a=function(e){return e.Unknown="unknown",e.Pending="pending",e.Assured="assured",e.Blocked="blocked",e}({});function r(e){switch(e){case"unknown":return a.Unknown;case"pending":return a.Pending;case"assured":return a.Assured;case"blocked":return a.Blocked;default:return o.logger.error(`parseStatusFromString: unknown status value: ${e}`),a.Unknown}}function i(e){switch(e){case"unknown":return n.Unknown;case"none":return n.None;case"safe":return n.Safe;case"full":return n.Full;default:return o.logger.error(`parseAccessFromString: unknown access value: ${e}`),n.Full}}},6240:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MIN_ACCESS_AGE:()=>d,getAgeAssuranceRegionConfigWithFallback:()=>m,getBirthdateStringFromAge:()=>x,isLegacyBirthdateBug:()=>f,isUnderAge:()=>g,makeAgeRestrictedModerationPrefs:()=>_,useAgeAssuranceRegionConfig:()=>h,useAgeAssuranceRegionConfigWithFallback:()=>p});var o=s(15991),n=(s(95004),s(66949)),a=s(88972),r=s(87646),i=s(66375),l=s(34151),c=s(79758);const d=13,u={countryCode:"*",regionCode:void 0,minAccessAge:d,rules:[{$type:n.ageAssuranceRuleIDs.IfDeclaredOverAge,age:d,access:l.AgeAssuranceAccess.Full},{$type:n.ageAssuranceRuleIDs.Default,access:l.AgeAssuranceAccess.None}]};function m(e,t){return(0,n.getAgeAssuranceRegionConfig)(e,{countryCode:t.countryCode??"",regionCode:t.regionCode})||u}function h(){const e=(0,o.c)(4),t=(0,c.useGeolocation)(),{config:s}=(0,i.useAgeAssuranceDataContext)();let a;e:{if(!s){a=void 0;break e}const o=t.countryCode??"";let r;e[0]!==s||e[1]!==t.regionCode||e[2]!==o?(r=(0,n.getAgeAssuranceRegionConfig)(s,{countryCode:o,regionCode:t.regionCode}),e[0]=s,e[1]=t.regionCode,e[2]=o,e[3]=r):r=e[3],a=r}return a}function p(){return h()||u}function f(e){return["2025","2024","2023"].includes((e||"").slice(0,4))}function g(e,t){return(0,a.getAge)(new Date(e))<t}function x(e){const t=new Date;return new Date(t.getFullYear()-e,t.getMonth(),t.getDate()-1).toISOString()}const _=e=>Object.assign({},e,{adultContentEnabled:!1,labels:r.DEFAULT_LOGGED_OUT_LABEL_PREFERENCES})},19552:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Context:()=>L,DO_NOT_USE:()=>l,ThemeProvider:()=>R,android:()=>_.android,applyFonts:()=>g,atoms:()=>v,computeFontScaleMultiplier:()=>u,flatten:()=>I,getFontFamily:()=>p,getFontScale:()=>m,ios:()=>_.ios,native:()=>_.native,platform:()=>_.platform,select:()=>A.select,setFontFamily:()=>f,setFontScale:()=>h,tokens:()=>k,useAlf:()=>O,useBreakpoints:()=>w,useGutters:()=>E,useLayoutBreakpoints:()=>T,useTheme:()=>M,utils:()=>_.utils,web:()=>_.web});var o=s(15991),n=s(95004),a=s(43535),r=s(33520),i=s(12634);function l(){const e=(0,o.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={InterVariable:s(26167),"InterVariable-Italic":s(81125)},e[0]=t):t=e[0],(0,i.useFonts)(t)}const c='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"',d={"-2":.9375,"-1":.9375,0:1,1:1.0625,2:1.0625};function u(e){return d[e]}function m(){return r.device.get(["fontScale"])??"0"}function h(e){r.device.set(["fontScale"],e)}function p(){return r.device.get(["fontFamily"])||"theme"}function f(e){r.device.set(["fontFamily"],e)}function g(e,t){"theme"===t?(a.IS_ANDROID?(e.fontFamily={400:"Inter-Regular",500:"Inter-Medium",600:"Inter-SemiBold",700:"Inter-Bold",800:"Inter-Bold",900:"Inter-Bold"}[String(e.fontWeight||"400")]||"Inter-Regular","italic"===e.fontStyle&&("Inter-Regular"===e.fontFamily?e.fontFamily="Inter-Italic":e.fontFamily+="Italic"),delete e.fontWeight,delete e.fontStyle):(e.fontFamily="InterVariable","italic"===e.fontStyle&&(e.fontFamily+="Italic")),a.IS_WEB&&(e.fontFamily+=`, ${c}`),e.fontVariant=(e.fontVariant||[]).concat("no-contextual")):(a.IS_WEB&&(e.fontFamily=e.fontFamily||c),e.letterSpacing=.25)}var x=s(49028),_=s(43518),y=s(17110),b=s(82878);const j="cubic-bezier(0.16, 1, 0.3, 1)",v=Object.assign({},_.atoms,{h_full_vh:(0,_.web)({height:"100vh"}),util_screen_outer:[(0,_.web)({minHeight:"100vh"}),(0,_.native)({height:"100%"})],bg_transparent:{backgroundColor:"transparent"},aspect_square:{aspectRatio:1},aspect_card:{aspectRatio:y.CARD_ASPECT_RATIO},transition_none:(0,_.web)({transitionProperty:"none"}),transition_timing_default:(0,_.web)({transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_all:(0,_.web)({transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_color:(0,_.web)({transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_opacity:(0,_.web)({transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_transform:(0,_.web)({transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_delay_50ms:(0,_.web)({transitionDelay:"50ms"}),fade_in:(0,_.web)({animation:"fadeIn ease-out 0.15s"}),fade_out:(0,_.web)({animation:"fadeOut ease-out 0.15s",animationFillMode:"forwards"}),zoom_in:(0,_.web)({animation:"zoomIn ease-out 0.1s"}),zoom_out:(0,_.web)({animation:"zoomOut ease-out 0.1s"}),slide_in_left:(0,_.web)({animation:"slideInLeft cubic-bezier(0.16, 1, 0.3, 1) 0.5s"}),slide_out_left:(0,_.web)({animation:"slideOutLeft ease-in 0.15s",animationFillMode:"forwards"}),zoom_fade_in:(0,_.web)({animation:`zoomIn ${j} 0.3s, fadeIn ${j} 0.3s`}),scrollbar_offset:(0,_.platform)({web:{transform:[{translateX:b.SCROLLBAR_OFFSET}]},native:{transform:[]}})});var S=s(76603);function w(){const e=(0,o.c)(8);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:500},e[0]=t):t=e[0];const s=(0,S.useMediaQuery)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:800},e[1]=n):n=e[1];const a=(0,S.useMediaQuery)(n);let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:1300},e[2]=r):r=e[2];const i=(0,S.useMediaQuery)(r);let l,c;return i?l="gtTablet":a?l="gtMobile":s&&(l="gtPhone"),e[3]!==l||e[4]!==a||e[5]!==s||e[6]!==i?(c={activeBreakpoint:l,gtPhone:s,gtMobile:a,gtTablet:i},e[3]=l,e[4]=a,e[5]=s,e[6]=i,e[7]=c):c=e[7],c}function T(){const e=(0,o.c)(7);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:1100},e[0]=t):t=e[0];const s=(0,S.useMediaQuery)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:1100,maxWidth:1300},e[1]=n):n=e[1];const a=(0,S.useMediaQuery)(n);let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={maxWidth:1300},e[2]=r):r=e[2];const i=(0,S.useMediaQuery)(r);let l;return e[3]!==a||e[4]!==i||e[5]!==s?(l={rightNavVisible:s,centerColumnOffset:a,leftNavMinimal:i},e[3]=a,e[4]=i,e[5]=s,e[6]=l):l=e[6],l}var k=s(46320),C=s(2629);const I=s(59550).default.flatten;var A=s(89052);const P={compact:{default:k.space.sm,gtPhone:k.space.sm,gtMobile:k.space.md,gtTablet:k.space.md},base:{default:k.space.lg,gtPhone:k.space.lg,gtMobile:k.space.xl,gtTablet:k.space.xl},wide:{default:k.space.xl,gtPhone:k.space.xl,gtMobile:k.space._3xl,gtTablet:k.space._3xl}};function E([e,t,s,o]){const{activeBreakpoint:a}=w();return void 0===t?t=s=o=e:void 0===s&&(s=e,o=t),n.useMemo((()=>({paddingTop:0===e?0:P[e][a||"default"],paddingRight:0===t?0:P[t][a||"default"],paddingBottom:0===s?0:P[s][a||"default"],paddingLeft:0===o?0:P[o][a||"default"]})),[a,e,t,s,o])}const L=n.createContext({themeName:"light",theme:x.themes.light,themes:x.themes,fonts:{scale:m(),scaleMultiplier:u(m()),family:p(),setFontScale:()=>{},setFontFamily:()=>{}},flags:{}});function R(e){const t=(0,o.c)(16),{children:s,theme:a}=e,[r,i]=n.useState(D);let l;t[0]!==r?(l=()=>u(r),t[0]=r,t[1]=l):l=t[1];const[c,d]=n.useState(l);let m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{i(e),h(e),d(u(e))},t[2]=m):m=t[2];const p=m,[g,_]=n.useState(B);let y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{_(e),f(e)},t[3]=y):y=t[3];const b=y,j=x.themes[a];let v,S,w;t[4]!==g||t[5]!==r||t[6]!==c?(v={scale:r,scaleMultiplier:c,family:g,setFontScale:p,setFontFamily:b},t[4]=g,t[5]=r,t[6]=c,t[7]=v):v=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(S={},t[8]=S):S=t[8],t[9]!==j||t[10]!==v||t[11]!==a?(w={themes:x.themes,themeName:a,theme:j,fonts:v,flags:S},t[9]=j,t[10]=v,t[11]=a,t[12]=w):w=t[12];const T=w;let k;return t[13]!==s||t[14]!==T?(k=(0,C.jsx)(L.Provider,{value:T,children:s}),t[13]=s,t[14]=T,t[15]=k):k=t[15],k}function B(){return p()}function D(){return m()}function O(){return n.useContext(L)}function M(e){const t=O();return e?t.themes[e]:t.theme}L.displayName="AlfContext"},49028:(e,t,s)=>{"use strict";s.r(t),s.d(t,{dark:()=>d,darkPalette:()=>i,dim:()=>u,dimPalette:()=>l,light:()=>c,lightPalette:()=>r,themes:()=>a});var o=s(43518);const n=(0,o.createThemes)({defaultPalette:o.DEFAULT_PALETTE,subduedPalette:o.DEFAULT_SUBDUED_PALETTE}),a={lightPalette:n.light.palette,darkPalette:n.dark.palette,dimPalette:n.dim.palette,light:n.light,dark:n.dark,dim:n.dim},r=n.light.palette,i=n.dark.palette,l=n.dim.palette,c=n.light,d=n.dark,u=n.dim},46320:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TRACKING:()=>n.TRACKING,__esModule:()=>n.__esModule,borderRadius:()=>n.borderRadius,color:()=>a,fontSize:()=>n.fontSize,fontWeight:()=>n.fontWeight,gradients:()=>r,labelerColor:()=>n.labelerColor,lineHeight:()=>n.lineHeight,space:()=>n.space});var o=s(43518),n=s(21917);const a={temp_purple:o.tokens.labelerColor.purple,temp_purple_dark:o.tokens.labelerColor.purple_dark},r={primary:{values:[[0,"#054CFF"],[.4,"#1085FE"],[.6,"#1085FE"],[1,"#59B9FF"]],hover_value:"#1085FE"},sky:{values:[[0,"#0A7AFF"],[1,"#59B9FF"]],hover_value:"#0A7AFF"},midnight:{values:[[0,"#022C5E"],[1,"#4079BC"]],hover_value:"#022C5E"},sunrise:{values:[[0,"#4E90AE"],[.4,"#AEA3AB"],[.8,"#E6A98F"],[1,"#F3A84C"]],hover_value:"#AEA3AB"},sunset:{values:[[0,"#6772AF"],[.6,"#B88BB6"],[1,"#FFA6AC"]],hover_value:"#B88BB6"},summer:{values:[[0,"#FF6A56"],[.3,"#FF9156"],[1,"#FFDD87"]],hover_value:"#FF9156"},nordic:{values:[[0,"#083367"],[1,"#9EE8C1"]],hover_value:"#3A7085"},bonfire:{values:[[0,"#203E4E"],[.4,"#755B62"],[.8,"#CD7765"],[1,"#EF956E"]],hover_value:"#755B62"}}},24834:(e,t,s)=>{"use strict";s.r(t),s.d(t,{childHasEmoji:()=>d,isOnlyEmoji:()=>h,normalizeTextStyles:()=>l,renderChildrenWithEmoji:()=>u});var o=s(95004),n=s(77157),a=s(87533),r=s(19552),i=s(43535);function l(e,{fontScale:t,fontFamily:s}){const o=(0,r.flatten)(e)??{};return o.fontSize=(o.fontSize||r.atoms.text_md.fontSize)*t,o?.lineHeight?0!==o.lineHeight&&o.lineHeight<=2&&(o.lineHeight=Math.round(o.fontSize*o.lineHeight)):i.IS_NATIVE||(o.lineHeight=o.fontSize),(0,r.applyFonts)(o,s),o}const c=(0,a.default)();function d(e){let t=!1;return o.Children.forEach(e,(e=>{"string"===typeof e&&(0,a.default)().test(e)&&(t=!0)})),t}function u(e,t={},s){return i.IS_IOS&&s?o.Children.map(e,(e=>{if("string"!==typeof e)return e;const s=e.match(c);return null===s?e:e.split(c).map(((e,a)=>[e,s[a]?(0,o.createElement)(n.UITextView,Object.assign({},t,{style:[t?.style,{fontFamily:"System"}],key:a}),s[a]):null]))})):e}const m=/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]+$/u;function h(e){return e.length<=15&&m.test(e)}},89052:(e,t,s)=>{"use strict";s.r(t),s.d(t,{select:()=>n});var o=s(43518);const n=o.utils.select},9422:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getAndMigrateDeviceId:()=>i,getDeviceId:()=>l,getDeviceIdOrThrow:()=>c,getInitialSessionId:()=>_,useSessionId:()=>y});var o=s(4927),n=s(14255),a=s(33520);const r="STATSIG_LOCAL_STORAGE_STABLE_ID";async function i(){const e=l();if(e)return e;const t=await n.default.getItem(r)||o.default.v4();return a.device.set(["deviceId"],t),t}function l(){return a.device.get(["deviceId"])}function c(){const e=a.device.get(["deviceId"]);if(!e)throw new Error("deviceId is not set, call getAndMigrateDeviceId first");return e}var d=s(15991),u=s(95004),m=s(44369);const h=6e4*(s(43535).IS_NATIVE?5:30);function p(e){return void 0!==e&&Date.now()-e>=h}const f="bsky_session_id",g="bsky_session_id_last_event_at";let x=(()=>{const e=window.sessionStorage.getItem(f),t=window.sessionStorage.getItem(g),s=t?Number(t):void 0,n=e&&!p(s)?e:o.default.v4();return window.sessionStorage.setItem(f,n),window.sessionStorage.setItem(g,String(Date.now())),n})();function _(){return x}function y(){const e=(0,d.c)(2),[t,s]=(0,u.useState)(b);let n,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const e=(0,m.onAppStateChange)((e=>{if("active"===e){const e=window.sessionStorage.getItem(g);p(e?Number(e):void 0)&&(x=o.default.v4(),window.sessionStorage.setItem(f,x),s(x))}window.sessionStorage.setItem(g,String(Date.now()))}));return()=>e.remove()},a=[],e[0]=n,e[1]=a):(n=e[0],a=e[1]),(0,u.useEffect)(n,a),t}function b(){return x}},33703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AnalyticsContext:()=>L,AnalyticsFeaturesContext:()=>R,Features:()=>m,features:()=>I,setupDeviceId:()=>E,useAnalytics:()=>D,useAnalyticsBase:()=>B,utils:()=>o});var o={};s.r(o),s.d(o,{accountToSessionMetadata:()=>k,useMeta:()=>T});var n=s(15991),a=s(95004),r=s(5295),i=s(60266),l=s(89162),c=s(44559),d=s(36188),u=s(43535);let m=function(e){return e.IsBskyTeam="is_bsky_team",e.DebugFeedContext="debug_feed_context",e.ImportContactsOnboardingDisable="import_contacts:onboarding:disable",e.ImportContactsSettingsDisable="import_contacts:settings:disable",e.LiveNowBetaDisable="live_now_beta:disable",e}({});const h=new i.MMKV({id:"bsky_features_cache"});(0,l.setPolyfills)({localStorage:{getItem:e=>{const t=h.getString(e);return null!=t?JSON.parse(t):null},setItem:async(e,t)=>{h.set(e,t)}}});const p=new c.GrowthBook({apiHost:u.GROWTHBOOK_API_HOST,clientKey:u.GROWTHBOOK_CLIENT_KEY}),f=new Promise((async e=>{await p.init({timeout:500}),e()}));var g=s(9422),x=s(21971);let _="",y="";if(u.IS_WEB){const e=new URLSearchParams(window.location.search);_=e.get("ref_src")??"",y=decodeURIComponent(e.get("ref_url")??"")}const b=_,j=y;var v=s(79758),S=s(33520),w=s(17110);function T(e){const t=(0,a.useMemo)((()=>e),[e]);if(t)return t.__meta=!0,t}function k(e){return e?{did:e.did,isBskyPds:e.service.startsWith(w.BSKY_SERVICE)}:void 0}var C=s(2629);const I={init:f,refresh:async function({strategy:e}){await p.refreshFeatures({timeout:"prefer-low-latency"===e?250:1500})}};function A(e,t){const s=r.Logger.create(e,t);return{debug:s.debug.bind(s),info:s.info.bind(s),log:s.log.bind(s),warn:s.warn.bind(s),error:s.error.bind(s),useChild:e=>(0,a.useMemo)((()=>A(e,t)),[e,t]),Context:r.Logger.Context}}const P=(0,a.createContext)({logger:A(r.Logger.Context.Default,{}),metric:(e,t,s)=>{s&&"__meta"in s&&delete s.__meta,x.metrics.track(e,t,Object.assign({},s,{navigation:(0,d.getNavigationMetadata)()}))},metadata:{base:{deviceId:(0,g.getDeviceId)()??"unknown",sessionId:(0,g.getInitialSessionId)(),platform:"web",appVersion:u.APP_VERSION,bundleIdentifier:u.BUNDLE_IDENTIFIER,bundleDate:u.BUNDLE_DATE,referrerSrc:b,referrerUrl:j},geolocation:S.device.get(["mergedGeolocation"])||{countryCode:"",regionCode:""}}}),E=(0,g.getAndMigrateDeviceId)();function L(e){const t=(0,n.c)(18),{children:s,metadata:o}=e;if(o&&!("__meta"in o))throw new Error("Use the useMeta() helper when passing metadata to AnalyticsContext");const i=(0,g.useSessionId)(),l=(0,v.useGeolocation)(),c=(0,a.useContext)(P);let u,m,h,p,f;t[0]!==l||t[1]!==o||t[2]!==c||t[3]!==i?(u=Object.assign({},c.metadata,o,{base:Object.assign({},c.metadata.base,{sessionId:i}),geolocation:l}),m=c,h=A(r.Logger.Context.Default,(0,d.getMetadataForLogger)(u)),t[0]=l,t[1]=o,t[2]=c,t[3]=i,t[4]=u,t[5]=m,t[6]=h):(u=t[4],m=t[5],h=t[6]),t[7]!==u||t[8]!==c?(p=(e,t,s)=>{c.metric(e,t,Object.assign({},u,s))},t[7]=u,t[8]=c,t[9]=p):p=t[9],t[10]!==u||t[11]!==m||t[12]!==h||t[13]!==p?(f=Object.assign({},m,{logger:h,metadata:u,metric:p}),t[10]=u,t[11]=m,t[12]=h,t[13]=p,t[14]=f):f=t[14];const x=f;let _;return t[15]!==x||t[16]!==s?(_=(0,C.jsx)(P.Provider,{value:x,children:s}),t[15]=x,t[16]=s,t[17]=_):_=t[17],_}function R(e){const t=(0,n.c)(10),{children:s}=e,o=(0,a.useContext)(P);let r,i,l,c;!function({base:e,geolocation:t,session:s,preferences:o}){p.setAttributes({deviceId:e.deviceId,sessionId:e.sessionId,platform:e.platform,appVersion:e.appVersion,countryCode:t.countryCode,regionCode:t.regionCode,did:s?.did,isBskyPds:s?.isBskyPds,appLanguage:o?.appLanguage,contentLanguages:o?.contentLanguages,currentScreen:(0,d.getNavigationMetadata)()?.currentScreen})}(o.metadata),t[0]!==o?(r=()=>{p.setTrackingCallback(((e,t)=>{o.metric("experiment:viewed",{experimentId:e.key,variationId:t.key})}))},t[0]=o,t[1]=r):r=t[1],t[2]!==o.metric?(i=[o.metric],t[2]=o.metric,t[3]=i):i=t[3],(0,a.useEffect)(r,i),t[4]===Symbol.for("react.memo_cache_sentinel")?(l=Object.assign({enabled:p.isOn.bind(p)},m),t[4]=l):l=t[4],t[5]!==o?(c=Object.assign({},o,{features:l}),t[5]=o,t[6]=c):c=t[6];const u=c;let h;return t[7]!==u||t[8]!==s?(h=(0,C.jsx)(P.Provider,{value:u,children:s}),t[7]=u,t[8]=s,t[9]=h):h=t[9],h}function B(){return(0,a.useContext)(P)}function D(){const e=(0,a.useContext)(P);if(!("features"in e))throw new Error("useAnalytics must be used within an AnalyticsFeaturesContext");return e}},36188:(e,t,s)=>{"use strict";let o;function n(){return o}function a(e){o=e}function r({base:e,geolocation:t,session:s}){return{deviceId:e.deviceId,sessionId:e.sessionId,platform:e.platform,appVersion:e.appVersion,countryCode:t.countryCode,regionCode:t.regionCode,isBskyPds:s?.isBskyPds||"anonymous"}}s.r(t),s.d(t,{getMetadataForLogger:()=>r,getNavigationMetadata:()=>n,setNavigationMetadata:()=>a})},21971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{metrics:()=>d,toClout:()=>c});var o=s(44369),n=s(98285),a=s(5295),r=s(43535);const i=r.METRICS_API_HOST+"/t",l=a.Logger.create(a.Logger.Context.Metric,{});function c(e){return null==e?void 0:Math.max(0,Math.round(Math.log(e)))}const d=new class{maxBatchSize=100;started=!1;queue=[];failedQueue=[];flushInterval=null;start(){this.started||(this.started=!0,this.flushInterval=setInterval((()=>{this.flush()}),1e4),(0,o.onAppStateChange)((e=>{"active"===e?this.retryFailedLogs():this.flush()})))}track(e,t,s={}){this.start();const o={time:Date.now(),event:e,payload:t,metadata:s};this.queue.push(o),l.debug(`event: ${o.event}`,o),this.queue.length>this.maxBatchSize&&this.flush()}flush(){if(!this.queue.length)return;const e=this.queue.splice(0,this.queue.length);this.sendBatch(e)}async sendBatch(e,t=!1){l.debug(`sendBatch: ${e.length}`,{isRetry:t});try{const t=JSON.stringify({events:e});if(r.IS_WEB&&"navigator"in globalThis&&navigator.sendBeacon){if(!navigator.sendBeacon(i,new Blob([t],{type:"application/json"})))throw new Error("Failed to fetch: sendBeacon returned false")}else{const t=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:e}),keepalive:!0});if(!t.ok){const e=await t.text().catch((()=>"Unknown error"));throw new Error(`${t.status} Failed to fetch \u2014 ${e}`)}}}catch(s){if((0,n.isNetworkError)(s)){if(t)return;return void this.failedQueue.push(...e)}l.error("Failed to send metrics",{safeMessage:s.toString()})}}retryFailedLogs(){if(!this.failedQueue.length)return;const e=this.failedQueue.splice(0,this.failedQueue.length);this.sendBatch(e,!0)}}},27344:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Admonition:()=>k,Button:()=>S,Content:()=>j,Icon:()=>b,Outer:()=>T,Row:()=>w,Text:()=>v,colors:()=>_});var o=s(63366),n=s(15991),a=s(95004),r=s(67842),i=s(19552),l=s(51536),c=s(8347),d=s(26628),u=s(29596),m=s(23486),h=s(73335),p=s(2629);const f=["children","style"],g=["children","style"],x=["children"],_={warning:"#FFC404"},y=(0,a.createContext)({type:"info"});function b(){const e=(0,n.c)(8),t=(0,i.useTheme)(),{type:s}=(0,a.useContext)(y);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={info:c.CircleInfo_Stroke2_Corner0_Rounded,tip:c.CircleInfo_Stroke2_Corner0_Rounded,warning:u.Warning_Stroke2_Corner0_Rounded,error:d.CircleX_Stroke2_Corner0_Rounded,apology:h.EmojiSad_Stroke2_Corner0_Rounded},e[0]=o):o=e[0];const r=o[s];let l;e[1]!==t.atoms.text_contrast_medium.color||e[2]!==t.palette.negative_500||e[3]!==t.palette.primary_500?(l={info:t.atoms.text_contrast_medium.color,tip:t.palette.primary_500,warning:_.warning,error:t.palette.negative_500,apology:t.atoms.text_contrast_medium.color},e[1]=t.atoms.text_contrast_medium.color,e[2]=t.palette.negative_500,e[3]=t.palette.primary_500,e[4]=l):l=e[4];const m=l[s];let f;return e[5]!==r||e[6]!==m?(f=(0,p.jsx)(r,{fill:m,size:"md"}),e[5]=r,e[6]=m,e[7]=f):f=e[7],f}function j(e){const t=(0,n.c)(11);let s,a,l,c,d,u;if(t[0]!==e){var m=e;({children:s,style:l}=m),a=(0,o.default)(m,f),t[0]=e,t[1]=s,t[2]=a,t[3]=l}else s=t[1],a=t[2],l=t[3];return t[4]===Symbol.for("react.memo_cache_sentinel")?(c={minHeight:20},t[4]=c):c=t[4],t[5]!==l?(d=[i.atoms.gap_sm,i.atoms.flex_1,c,i.atoms.justify_center,l],t[5]=l,t[6]=d):d=t[6],t[7]!==s||t[8]!==a||t[9]!==d?(u=(0,p.jsx)(r.default,Object.assign({style:d},a,{children:s})),t[7]=s,t[8]=a,t[9]=d,t[10]=u):u=t[10],u}function v(e){const t=(0,n.c)(10);let s,a,r,l,c;if(t[0]!==e){var d=e;({children:s,style:r}=d),a=(0,o.default)(d,g),t[0]=e,t[1]=s,t[2]=a,t[3]=r}else s=t[1],a=t[2],r=t[3];return t[4]!==r?(l=[i.atoms.text_sm,i.atoms.leading_snug,i.atoms.pr_md,r],t[4]=r,t[5]=l):l=t[5],t[6]!==s||t[7]!==a||t[8]!==l?(c=(0,p.jsx)(m.Text,Object.assign({},a,{style:l,children:s})),t[6]=s,t[7]=a,t[8]=l,t[9]=c):c=t[9],c}function S(e){const t=(0,n.c)(6);let s,a,r;if(t[0]!==e){var i=e;({children:s}=i),a=(0,o.default)(i,x),t[0]=e,t[1]=s,t[2]=a}else s=t[1],a=t[2];return t[3]!==s||t[4]!==a?(r=(0,p.jsx)(l.Button,Object.assign({size:"tiny"},a,{children:s})),t[3]=s,t[4]=a,t[5]=r):r=t[5],r}function w(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,l;return t[0]!==o?(a=[i.atoms.w_full,i.atoms.flex_row,i.atoms.align_start,i.atoms.gap_sm,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(l=(0,p.jsx)(r.default,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=l):l=t[4],l}function T(e){const t=(0,n.c)(19),{children:s,type:o,style:a}=e,l=void 0===o?"info":o,c=(0,i.useTheme)(),{gtMobile:d}=(0,i.useBreakpoints)();let u;t[0]!==c.atoms.border_contrast_high.borderColor||t[1]!==c.palette.negative_500||t[2]!==c.palette.primary_500?(u={info:c.atoms.border_contrast_high.borderColor,tip:c.palette.primary_500,warning:_.warning,error:c.palette.negative_500,apology:c.atoms.border_contrast_high.borderColor},t[0]=c.atoms.border_contrast_high.borderColor,t[1]=c.palette.negative_500,t[2]=c.palette.primary_500,t[3]=u):u=t[3];const m=u[l];let h;t[4]!==l?(h={type:l},t[4]=l,t[5]=h):h=t[5];const f=d?i.atoms.p_md:i.atoms.p_sm;let g,x,b,j;return t[6]!==m?(g={borderColor:m},t[6]=m,t[7]=g):g=t[7],t[8]!==a||t[9]!==c.atoms.bg||t[10]!==f||t[11]!==g?(x=[f,i.atoms.p_md,i.atoms.rounded_sm,i.atoms.border,c.atoms.bg,g,a],t[8]=a,t[9]=c.atoms.bg,t[10]=f,t[11]=g,t[12]=x):x=t[12],t[13]!==s||t[14]!==x?(b=(0,p.jsx)(r.default,{style:x,children:s}),t[13]=s,t[14]=x,t[15]=b):b=t[15],t[16]!==h||t[17]!==b?(j=(0,p.jsx)(y.Provider,{value:h,children:b}),t[16]=h,t[17]=b,t[18]=j):j=t[18],j}function k(e){const t=(0,n.c)(7),{children:s,type:o,style:a}=e;let r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,p.jsx)(b,{}),t[0]=r):r=t[0],t[1]!==s?(i=(0,p.jsxs)(w,{children:[r,(0,p.jsx)(j,{children:(0,p.jsx)(v,{children:s})})]}),t[1]=s,t[2]=i):i=t[2],t[3]!==a||t[4]!==i||t[5]!==o?(l=(0,p.jsx)(T,{type:o,style:a,children:i}),t[3]=a,t[4]=i,t[5]=o,t[6]=l):l=t[6],l}y.displayName="AdmonitionContext"},51536:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Button:()=>g,ButtonIcon:()=>y,ButtonText:()=>_,StackedButton:()=>b,useButtonContext:()=>f,useSharedButtonTextStyles:()=>x});var o=s(63366),n=s(15991),a=s(95004),r=s(41711),i=s(67842),l=s(19552),c=s(23486),d=s(2629);const u=["children","variant","color","size","shape","label","disabled","style","hoverStyle","PressableComponent","onPressIn","onPressOut","onHoverIn","onHoverOut","onFocus","onBlur"],m=["children","style"],h=["children"],p=a.createContext({hovered:!1,focused:!1,pressed:!1,disabled:!1});function f(){return a.useContext(p)}p.displayName="ButtonContext";const g=a.forwardRef(((e,t)=>{let{children:s,variant:n,color:i,size:c,shape:m="default",label:h,disabled:f=!1,style:g,hoverStyle:x,PressableComponent:_=r.default,onPressIn:y,onPressOut:b,onHoverIn:j,onHoverOut:v,onFocus:S,onBlur:w}=e,T=(0,o.default)(e,u);!n&&i&&(n="solid");const k=(0,l.useTheme)(),[C,I]=a.useState({pressed:!1,hovered:!1,focused:!1}),A=a.useCallback((e=>{I((e=>Object.assign({},e,{pressed:!0}))),y?.(e)}),[I,y]),P=a.useCallback((e=>{I((e=>Object.assign({},e,{pressed:!1}))),b?.(e)}),[I,b]),E=a.useCallback((e=>{I((e=>Object.assign({},e,{hovered:!0}))),j?.(e)}),[I,j]),L=a.useCallback((e=>{I((e=>Object.assign({},e,{hovered:!1}))),v?.(e)}),[I,v]),R=a.useCallback((e=>{I((e=>Object.assign({},e,{focused:!0}))),S?.(e)}),[I,S]),B=a.useCallback((e=>{I((e=>Object.assign({},e,{focused:!1}))),w?.(e)}),[I,w]),{baseStyles:D,hoverStyles:O}=a.useMemo((()=>{const e=[],t=[];return"solid"===n?"primary"===i?f?e.push({backgroundColor:k.palette.primary_200}):(e.push({backgroundColor:k.palette.primary_500}),t.push({backgroundColor:k.palette.primary_600})):"secondary"===i?f?e.push(k.atoms.bg_contrast_50):(e.push(k.atoms.bg_contrast_50),t.push(k.atoms.bg_contrast_100)):"secondary_inverted"===i?f?e.push({backgroundColor:k.palette.contrast_600}):(e.push({backgroundColor:k.palette.contrast_900}),t.push({backgroundColor:k.palette.contrast_975})):"negative"===i?f?e.push({backgroundColor:k.palette.negative_700}):(e.push({backgroundColor:k.palette.negative_500}),t.push({backgroundColor:k.palette.negative_600})):"primary_subtle"===i?f?e.push({backgroundColor:k.palette.primary_50}):(e.push({backgroundColor:k.palette.primary_50}),t.push({backgroundColor:k.palette.primary_100})):"negative_subtle"===i&&(f?e.push({backgroundColor:k.palette.negative_50}):(e.push({backgroundColor:k.palette.negative_50}),t.push({backgroundColor:k.palette.negative_100}))):"primary"===i?"outline"===n?(e.push(l.atoms.border,k.atoms.bg,{borderWidth:1}),f?e.push(l.atoms.border,{borderColor:k.palette.primary_200}):(e.push(l.atoms.border,{borderColor:k.palette.primary_500}),t.push(l.atoms.border,{backgroundColor:k.palette.primary_50}))):"ghost"===n&&(f||(e.push(k.atoms.bg),t.push({backgroundColor:k.palette.primary_100}))):"secondary"===i||"secondary_inverted"===i?"outline"===n?(e.push(l.atoms.border,k.atoms.bg,{borderWidth:1}),f?e.push(l.atoms.border,{borderColor:k.palette.contrast_200}):(e.push(l.atoms.border,{borderColor:k.palette.contrast_300}),t.push(k.atoms.bg_contrast_50))):"ghost"===n&&(f||(e.push(k.atoms.bg),t.push({backgroundColor:k.palette.contrast_50}))):("negative"===i||"negative_subtle"===i)&&("outline"===n?(e.push(l.atoms.border,k.atoms.bg,{borderWidth:1}),f?e.push(l.atoms.border,{borderColor:k.palette.negative_200}):(e.push(l.atoms.border,{borderColor:k.palette.negative_500}),t.push(l.atoms.border,{backgroundColor:k.palette.negative_50}))):"ghost"===n&&(f||(e.push(k.atoms.bg),t.push({backgroundColor:k.palette.negative_100})))),"default"===m?"large"===c?e.push(l.atoms.rounded_full,{paddingVertical:12,paddingHorizontal:24,gap:6}):"small"===c?e.push(l.atoms.rounded_full,{paddingVertical:8,paddingHorizontal:14,gap:5}):"tiny"===c&&e.push(l.atoms.rounded_full,{paddingVertical:5,paddingHorizontal:10,gap:3}):"rectangular"===m?"large"===c?e.push({paddingVertical:12,paddingHorizontal:25,borderRadius:10,gap:3}):"small"===c?e.push({paddingVertical:8,paddingHorizontal:13,borderRadius:8,gap:3}):"tiny"===c&&e.push({paddingVertical:5,paddingHorizontal:9,borderRadius:6,gap:2}):"round"!==m&&"square"!==m||("large"===c?e.push({height:44,width:44}):"small"===c?e.push({height:33,width:33}):"tiny"===c&&e.push({height:25,width:25}),"round"===m?e.push(l.atoms.rounded_full):"square"===m&&("tiny"===c?e.push({borderRadius:6}):e.push(l.atoms.rounded_sm))),{baseStyles:e,hoverStyles:t}}),[k,n,i,c,m,f]),M=a.useMemo((()=>Object.assign({},C,{variant:n,color:i,size:c,shape:m,disabled:f||!1})),[C,n,i,c,m,f]);return(0,d.jsx)(_,Object.assign({role:"button",accessibilityHint:void 0},T,{ref:t,"aria-label":h,"aria-pressed":C.pressed,accessibilityLabel:h,disabled:f||!1,accessibilityState:{disabled:f||!1},style:[l.atoms.flex_row,l.atoms.align_center,l.atoms.justify_center,l.atoms.curve_continuous,D,g,...C.hovered||C.pressed?[O,x]:[]],onPressIn:A,onPressOut:P,onHoverIn:E,onHoverOut:L,onFocus:R,onBlur:B,children:(0,d.jsx)(p.Provider,{value:M,children:"function"===typeof s?s(M):s})}))}));function x(){const e=(0,n.c)(6),t=(0,l.useTheme)(),{color:s,variant:o,disabled:a,size:r}=f();let i;if(e[0]!==s||e[1]!==a||e[2]!==r||e[3]!==t||e[4]!==o){const n=[];"solid"===o?"primary"===s?a?n.push({color:(0,l.select)(t.name,{light:t.palette.white,dim:t.atoms.text_inverted.color,dark:t.atoms.text_inverted.color})}):n.push({color:t.palette.white}):"secondary"===s?a?n.push({color:t.palette.contrast_300}):n.push(t.atoms.text_contrast_medium):"secondary_inverted"===s?a?n.push({color:t.palette.contrast_300}):n.push(t.atoms.text_inverted):"negative"===s?a?n.push({color:t.palette.negative_300}):n.push({color:t.palette.white}):"primary_subtle"===s?a?n.push({color:t.palette.primary_200}):n.push({color:t.palette.primary_600}):"negative_subtle"===s&&(a?n.push({color:t.palette.negative_200}):n.push({color:t.palette.negative_600})):"primary"===s?("outline"===o||"ghost"===o)&&(a?n.push({color:t.palette.primary_600,opacity:.5}):n.push({color:t.palette.primary_600})):"secondary"===s||"secondary_inverted"===s?("outline"===o||"ghost"===o)&&(a?n.push({color:t.palette.contrast_300}):n.push({color:t.palette.contrast_600})):"negative"===s?("outline"===o||"ghost"===o)&&(a?n.push({color:t.palette.negative_400,opacity:.5}):n.push({color:t.palette.negative_400})):"negative_subtle"===s&&("outline"===o||"ghost"===o)&&(a?n.push({color:t.palette.negative_400,opacity:.5}):n.push({color:t.palette.negative_400})),"large"===r?n.push(l.atoms.text_md,l.atoms.leading_snug,l.atoms.font_medium):"small"===r?n.push(l.atoms.text_sm,l.atoms.leading_snug,l.atoms.font_medium):"tiny"===r&&n.push(l.atoms.text_xs,l.atoms.leading_snug,l.atoms.font_semi_bold),i=(0,l.flatten)(n),e[0]=s,e[1]=a,e[2]=r,e[3]=t,e[4]=o,e[5]=i}else i=e[5];return i}function _(e){const t=(0,n.c)(11);let s,a,r;if(t[0]!==e){var i=e;({children:s,style:r}=i),a=(0,o.default)(i,m),t[0]=e,t[1]=s,t[2]=a,t[3]=r}else s=t[1],a=t[2],r=t[3];const u=x();let h,p;return t[4]!==r||t[5]!==u?(h=[l.atoms.text_center,u,r],t[4]=r,t[5]=u,t[6]=h):h=t[6],t[7]!==s||t[8]!==a||t[9]!==h?(p=(0,d.jsx)(c.Text,Object.assign({},a,{style:h,children:s})),t[7]=s,t[8]=a,t[9]=h,t[10]=p):p=t[10],p}function y(e){const t=(0,n.c)(33),{icon:s,size:o}=e,{size:a,shape:r}=f(),c=x(),u=o??({large:"md",small:"sm",tiny:"xs"}[a||"small"]||"sm");let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={xs:12,sm:16,md:18,lg:24,xl:28,"2xs":8,"2xl":32,"3xl":40},t[0]=m):m=t[0];const h=m[u];let p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p={large:20,small:17,tiny:15},t[1]=p):p=t[1];const g=p[a||"small"];let _,y=0;if("default"===r){let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e={large:-2,small:-2,tiny:-1},t[2]=e):e=t[2],y=e[a||"small"]}t[3]!==g||t[4]!==y||t[5]!==h?(_={iconSize:h,iconContainerSize:g,iconNegativeMargin:y},t[3]=g,t[4]=y,t[5]=h,t[6]=_):_=t[6];const{iconSize:b,iconContainerSize:j,iconNegativeMargin:v}=_,S="2xs"===o?10:j;let w;t[7]!==j||t[8]!==v||t[9]!==S?(w=[l.atoms.z_20,{width:S,height:j,marginLeft:v,marginRight:v}],t[7]=j,t[8]=v,t[9]=S,t[10]=w):w=t[10];const T=b/2*-1;let k;t[11]!==T?(k={translateX:T},t[11]=T,t[12]=k):k=t[12];const C=b/2*-1;let I,A,P,E,L,R,B;return t[13]!==C?(I={translateY:C},t[13]=C,t[14]=I):I=t[14],t[15]!==k||t[16]!==I?(A=[k,I],t[15]=k,t[16]=I,t[17]=A):A=t[17],t[18]!==b||t[19]!==A?(P=[l.atoms.absolute,{width:b,height:b,top:"50%",left:"50%",transform:A}],t[18]=b,t[19]=A,t[20]=P):P=t[20],t[21]!==c.color?(E=[{color:c.color,pointerEvents:"none"}],t[21]=c.color,t[22]=E):E=t[22],t[23]!==s||t[24]!==b||t[25]!==E?(L=(0,d.jsx)(s,{width:b,style:E}),t[23]=s,t[24]=b,t[25]=E,t[26]=L):L=t[26],t[27]!==P||t[28]!==L?(R=(0,d.jsx)(i.default,{style:P,children:L}),t[27]=P,t[28]=L,t[29]=R):R=t[29],t[30]!==R||t[31]!==w?(B=(0,d.jsx)(i.default,{style:w,children:R}),t[30]=R,t[31]=w,t[32]=B):B=t[32],B}function b(e){const t=(0,n.c)(13);let s,a,r,i,c,u;if(t[0]!==e){var m=e;({children:s}=m),a=(0,o.default)(m,h),t[0]=e,t[1]=s,t[2]=a}else s=t[1],a=t[2];return t[3]===Symbol.for("react.memo_cache_sentinel")?(r={height:72,paddingHorizontal:16,borderRadius:20,gap:4},t[3]=r):r=t[3],t[4]!==a.style?(i=[l.atoms.flex_col,r,a.style],t[4]=a.style,t[5]=i):i=t[5],t[6]!==s||t[7]!==a.icon?(c=(0,d.jsx)(j,{icon:a.icon,children:s}),t[6]=s,t[7]=a.icon,t[8]=c):c=t[8],t[9]!==a||t[10]!==i||t[11]!==c?(u=(0,d.jsx)(g,Object.assign({},a,{size:"tiny",style:i,children:c})),t[9]=a,t[10]=i,t[11]=c,t[12]=u):u=t[12],u}function j(e){const t=(0,n.c)(8),{children:s,icon:o}=e,a=x();let r,i,l;return t[0]!==o||t[1]!==a.color?(r=(0,d.jsx)(o,{width:24,fill:a.color}),t[0]=o,t[1]=a.color,t[2]=r):r=t[2],t[3]!==s?(i=(0,d.jsx)(_,{children:s}),t[3]=s,t[4]=i):i=t[4],t[5]!==r||t[6]!==i?(l=(0,d.jsxs)(d.Fragment,{children:[r,i]}),t[5]=r,t[6]=i,t[7]=l):l=t[7],l}g.displayName="Button"},94346:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Context:()=>i,useDialogContext:()=>l,useDialogControl:()=>c});var o=s(95004),n=s(43029),a=s(43535),r=s(11640);const i=(0,o.createContext)({close:()=>{},IS_NATIVEDialog:!1,nativeSnapPoint:r.BottomSheetSnapPoint.Hidden,disableDrag:!1,setDisableDrag:()=>{},isWithinDialog:!1});function l(){return(0,o.useContext)(i)}function c(){const e=(0,o.useId)(),t=(0,o.useRef)({open:()=>{},close:()=>{}}),{activeDialogs:s}=(0,n.useDialogStateContext)();return(0,o.useEffect)((()=>(s.current.set(e,t),()=>{s.current.delete(e)})),[e,s]),(0,o.useMemo)((()=>({id:e,ref:t,open:()=>{t.current?t.current.open():a.IS_DEV},close:e=>{t.current?t.current.close(e):a.IS_DEV}})),[e,t])}i.displayName="DialogContext"},63410:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Backdrop:()=>H,Close:()=>F,FlatListFooter:()=>M,Handle:()=>N,Header:()=>w,HeaderText:()=>T,Inner:()=>R,InnerFlatList:()=>O,Input:()=>C.Input,Outer:()=>L,ScrollableInner:()=>D,WEB_DIALOG_HEIGHT:()=>A,useAutoOpen:()=>k,useDialogContext:()=>y.useDialogContext,useDialogControl:()=>y.useDialogControl});var o=s(63366),n=s(15991),a=s(95004),r=s(33057),i=s(41711),l=s(67842),c=s(96963),d=s(14542),u=s(12268),m=s(37597),h=s(67781),p=s(5295),f=s(77268),g=s(43029),x=s(19552),_=s(51536),y=s(94346),b=s(58403),j=s(91736),v=s(2629),S=s(23486);function w(e){const t=(0,n.c)(17),{renderLeft:s,renderRight:o,children:a,style:r,onLayout:i}=e,c=(0,x.useTheme)();let d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d={minHeight:50},t[0]=d):d=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(u={borderTopLeftRadius:x.atoms.rounded_md.borderRadius},m={borderTopRightRadius:x.atoms.rounded_md.borderRadius},t[1]=u,t[2]=m):(u=t[1],m=t[2]),t[3]!==r||t[4]!==c.atoms.bg||t[5]!==c.atoms.border_contrast_medium?(h=[x.atoms.sticky,x.atoms.top_0,x.atoms.relative,x.atoms.w_full,x.atoms.py_sm,x.atoms.flex_row,x.atoms.justify_center,x.atoms.align_center,d,x.atoms.border_b,c.atoms.border_contrast_medium,c.atoms.bg,u,m,r],t[3]=r,t[4]=c.atoms.bg,t[5]=c.atoms.border_contrast_medium,t[6]=h):h=t[6],t[7]!==s?(p=s&&(0,v.jsx)(l.default,{style:[x.atoms.absolute,{left:6}],children:s()}),t[7]=s,t[8]=p):p=t[8],t[9]!==o?(f=o&&(0,v.jsx)(l.default,{style:[x.atoms.absolute,{right:6}],children:o()}),t[9]=o,t[10]=f):f=t[10],t[11]!==a||t[12]!==i||t[13]!==h||t[14]!==p||t[15]!==f?(g=(0,v.jsxs)(l.default,{onLayout:i,style:h,children:[p,a,f]}),t[11]=a,t[12]=i,t[13]=h,t[14]=p,t[15]=f,t[16]=g):g=t[16],g}function T(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=[x.atoms.text_lg,x.atoms.text_center,x.atoms.font_semi_bold,o],t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,v.jsx)(S.Text,{style:a,children:s}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r}function k(e,t){const s=(0,n.c)(4);let o,r;s[0]!==e||s[1]!==t?(o=()=>{if(t){const s=setTimeout((()=>{e.open()}),t);return()=>{clearTimeout(s)}}e.open()},r=[e,t],s[0]=e,s[1]=t,s[2]=o,s[3]=r):(o=s[2],r=s[3]),a.useEffect(o,r)}var C=s(75281);const I=["label","style","webInnerStyle","webInnerContentContainerStyle","footer"],A="80vh",P=e=>e.stopPropagation(),E=e=>e.preventDefault();function L({children:e,control:t,onClose:s,webOptions:o}){const{_:n}=(0,c.useLingui)(),{gtMobile:r}=(0,x.useBreakpoints)(),[d,u]=a.useState(!1),{setDialogIsOpen:m}=(0,g.useDialogStateControlContext)(),f=a.useCallback((()=>{m(t.id,!0),u(!0)}),[u,m,t.id]),_=a.useCallback((e=>{m(t.id,!1),u(!1);try{e&&"function"===typeof e&&setTimeout(e)}catch(o){p.logger.error("Dialog closeCallback failed",{message:o.message})}s?.()}),[t.id,s,m]),b=a.useCallback((async e=>{o?.onBackgroundPress?o.onBackgroundPress(e):_()}),[o,_]);(0,a.useImperativeHandle)(t.ref,(()=>({open:f,close:_})),[_,f]);const S=a.useMemo((()=>({close:_,IS_NATIVEDialog:!1,nativeSnapPoint:0,disableDrag:!1,setDisableDrag:()=>{},isWithinDialog:!0})),[_]);return(0,v.jsx)(v.Fragment,{children:d&&(0,v.jsx)(j.Portal,{children:(0,v.jsxs)(y.Context.Provider,{value:S,children:[(0,v.jsx)(h.RemoveScrollBar,{}),(0,v.jsx)(i.default,{accessibilityHint:void 0,accessibilityLabel:n({id:"vxrRSA"}),onPress:b,children:(0,v.jsxs)(l.default,{style:[(0,x.web)(x.atoms.fixed),x.atoms.inset_0,x.atoms.z_10,x.atoms.px_xl,o?.alignCenter?x.atoms.justify_center:void 0,x.atoms.align_center,{overflowY:"auto",paddingVertical:r?"10vh":x.atoms.pt_xl.paddingTop}],children:[(0,v.jsx)(H,{}),(0,v.jsx)(l.default,{style:[x.atoms.w_full,x.atoms.z_20,x.atoms.align_center,(0,x.web)({minHeight:"60vh",position:"static"})],children:e})]})})]})})})}function R(e){const t=(0,n.c)(24),{children:s,style:o,label:r,accessibilityLabelledBy:i,accessibilityDescribedBy:c,header:h,contentContainerStyle:p}=e,g=(0,x.useTheme)(),{close:_}=a.useContext(y.Context),{gtMobile:b}=(0,x.useBreakpoints)(),{reduceMotionEnabled:j}=(0,f.useA11y)();d.useFocusGuards();const S="light"===g.name?.1:.4;let w,T;t[0]!==j||t[1]!==o||t[2]!==g.atoms.bg||t[3]!==g.palette.black||t[4]!==g.palette.contrast_200||t[5]!==S?(w=(0,x.flatten)([x.atoms.relative,x.atoms.rounded_md,x.atoms.w_full,x.atoms.border,g.atoms.bg,{maxWidth:600,borderColor:g.palette.contrast_200,shadowColor:g.palette.black,shadowOpacity:S,shadowRadius:30},!j&&x.atoms.zoom_fade_in,o]),t[0]=j,t[1]=o,t[2]=g.atoms.bg,t[3]=g.palette.black,t[4]=g.palette.contrast_200,t[5]=S,t[6]=w):w=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(T={height:"100%",display:"flex",flexDirection:"column"},t[7]=T):T=t[7];const k=b?x.atoms.p_2xl:x.atoms.p_xl;let C,I,A,L;return t[8]!==p||t[9]!==k?(C=[k,p],t[8]=p,t[9]=k,t[10]=C):C=t[10],t[11]!==s||t[12]!==C?(I=(0,v.jsx)(l.default,{style:C,children:s}),t[11]=s,t[12]=C,t[13]=I):I=t[13],t[14]!==_||t[15]!==h||t[16]!==I?(A=(0,v.jsxs)(u.DismissableLayer,{onInteractOutside:E,onFocusOutside:E,onDismiss:_,style:T,children:[h,I]}),t[14]=_,t[15]=h,t[16]=I,t[17]=A):A=t[17],t[18]!==c||t[19]!==i||t[20]!==r||t[21]!==w||t[22]!==A?(L=(0,v.jsx)(m.FocusScope,{loop:!0,asChild:!0,trapped:!0,children:(0,v.jsx)(l.default,{role:"dialog","aria-role":"dialog","aria-label":r,"aria-labelledby":i,"aria-describedby":c,onClick:P,onStartShouldSetResponder:B,onTouchEnd:P,style:w,children:A})}),t[18]=c,t[19]=i,t[20]=r,t[21]=w,t[22]=A,t[23]=L):L=t[23],L}function B(e){return!0}const D=R,O=a.forwardRef((function(e,t){const s=(0,n.c)(25);let a,i,l,c,d,u;if(s[0]!==e){var m=e;({label:i,style:c,webInnerStyle:u,webInnerContentContainerStyle:d,footer:a}=m),l=(0,o.default)(m,I),s[0]=e,s[1]=a,s[2]=i,s[3]=l,s[4]=c,s[5]=d,s[6]=u}else a=s[1],i=s[2],l=s[3],c=s[4],d=s[5],u=s[6];const{gtMobile:h}=(0,x.useBreakpoints)();let p,f,g;s[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,x.web)({maxHeight:A}),s[7]=p):p=s[7],s[8]!==u?(f=[x.atoms.overflow_hidden,x.atoms.px_0,p,u],s[8]=u,s[9]=f):f=s[9],s[10]!==d?(g=[x.atoms.h_full,x.atoms.px_0,d],s[10]=d,s[11]=g):g=s[11];const _=h?x.atoms.px_2xl:x.atoms.px_xl;let y,b,j;return s[12]!==c||s[13]!==_?(y=[x.atoms.h_full,_,c],s[12]=c,s[13]=_,s[14]=y):y=s[14],s[15]!==l||s[16]!==t||s[17]!==y?(b=(0,v.jsx)(r.default,Object.assign({ref:t,style:y},l)),s[15]=l,s[16]=t,s[17]=y,s[18]=b):b=s[18],s[19]!==a||s[20]!==i||s[21]!==f||s[22]!==g||s[23]!==b?(j=(0,v.jsxs)(R,{label:i,style:f,contentContainerStyle:g,children:[b,a]}),s[19]=a,s[20]=i,s[21]=f,s[22]=g,s[23]=b,s[24]=j):j=s[24],j}));function M(e){const t=(0,n.c)(6),{children:s}=e,o=(0,x.useTheme)();let a,r;return t[0]!==o.atoms.bg||t[1]!==o.atoms.border_contrast_low?(a=[x.atoms.absolute,x.atoms.bottom_0,x.atoms.w_full,x.atoms.z_10,o.atoms.bg,x.atoms.border_t,o.atoms.border_contrast_low,x.atoms.px_lg,x.atoms.py_md],t[0]=o.atoms.bg,t[1]=o.atoms.border_contrast_low,t[2]=a):a=t[2],t[3]!==s||t[4]!==a?(r=(0,v.jsx)(l.default,{style:a,children:s}),t[3]=s,t[4]=a,t[5]=r):r=t[5],r}function F(){const e=(0,n.c)(9),{_:t}=(0,c.useLingui)(),{close:s}=a.useContext(y.Context);let o,r,i,d,u;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[x.atoms.absolute,x.atoms.z_10,{top:x.atoms.pt_md.paddingTop,right:x.atoms.pr_md.paddingRight}],e[0]=o):o=e[0],e[1]!==s?(r=()=>s(),e[1]=s,e[2]=r):r=e[2],e[3]!==t?(i=t({id:"vxrRSA"}),e[3]=t,e[4]=i):i=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,v.jsx)(_.ButtonIcon,{icon:b.TimesLarge_Stroke2_Corner0_Rounded,size:"md"}),e[5]=d):d=e[5],e[6]!==r||e[7]!==i?(u=(0,v.jsx)(l.default,{style:o,children:(0,v.jsx)(_.Button,{size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:r,label:i,children:d})}),e[6]=r,e[7]=i,e[8]=u):u=e[8],u}function N(){return null}function H(){const e=(0,n.c)(6),t=(0,x.useTheme)(),{reduceMotionEnabled:s}=(0,f.useA11y)();let o,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={opacity:.8},e[0]=o):o=e[0],e[1]!==t.palette.black?(a={backgroundColor:t.palette.black},e[1]=t.palette.black,e[2]=a):a=e[2];const r=!s&&x.atoms.fade_in;let i;return e[3]!==a||e[4]!==r?(i=(0,v.jsx)(l.default,{style:o,children:(0,v.jsx)(l.default,{style:[x.atoms.fixed,x.atoms.inset_0,a,r]})}),e[3]=a,e[4]=r,e[5]=i):i=e[5],i}},87990:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useSheetWrapper:()=>a});s(95004);var o=s(4673),n=s(43535);function a(){return r}async function r(e){if(n.IS_IOS){const t=o.SystemBars.pushStackEntry({style:{statusBar:"light"}}),s=await e;return o.SystemBars.popStackEntry(t),s}return await e}},15127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Fill:()=>i});var o=s(15991),n=s(67842),a=s(19552),r=s(2629);function i(e){const t=(0,o.c)(5),{children:s,style:i}=e;let l,c;return t[0]!==i?(l=[a.atoms.absolute,a.atoms.inset_0,i],t[0]=i,t[1]=l):l=t[1],t[2]!==s||t[3]!==l?(c=(0,r.jsx)(n.default,{style:l,children:s}),t[2]=s,t[3]=l,t[4]=c):c=t[4],c}},36830:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FullWindowOverlay:()=>o.Fragment});var o=s(95004)},81566:(e,t,s)=>{"use strict";s.r(t),s.d(t,{KnownFollowers:()=>y,shouldShowKnownFollowers:()=>_});var o=s(15991),n=s(95004),a=s(67842),r=s(66949),i=s(96963),l=s(35938),c=s(21605),d=s(32720),u=s(19552),m=s(96449),h=s(23486),p=s(2629);const f=30,g=20,x=1;function _(e){return e&&e.followers.length>0}function y({profile:e,moderationOpts:t,onLinkPress:s,minimal:o,showIfEmpty:a}){const r=n.useRef(new Map);e.viewer?.knownFollowers&&!r.current.has(e.did)&&r.current.set(e.did,e.viewer.knownFollowers);const i=r.current.get(e.did);return i&&_(i)?(0,p.jsx)(b,{profile:e,cachedKnownFollowers:i,moderationOpts:t,onLinkPress:s,minimal:o,showIfEmpty:a}):(0,p.jsx)(j,{show:a})}function b(e){const t=(0,o.c)(29),{profile:s,moderationOpts:n,cachedKnownFollowers:_,onLinkPress:y,minimal:b,showIfEmpty:v}=e,S=(0,u.useTheme)(),{_:w}=(0,i.useLingui)();let T;t[0]!==S.atoms.text_contrast_medium?(T=[u.atoms.text_sm,u.atoms.leading_snug,S.atoms.text_contrast_medium],t[0]=S.atoms.text_contrast_medium,t[1]=T):T=t[1];const k=T;let C;if(t[2]!==_.followers||t[3]!==n){let e;t[5]!==n?(e=e=>{const t=(0,r.moderateProfile)(e,n);return{profile:Object.assign({},e,{displayName:(0,c.sanitizeDisplayName)(e.displayName||e.handle,t.ui("displayName"))}),moderation:t}},t[5]=n,t[6]=e):e=t[6],C=_.followers.slice(0,3).map(e),t[2]=_.followers,t[3]=n,t[4]=C}else C=t[4];const I=C,A=_.count;if(0===I.length){let e;return t[7]!==v?(e=(0,p.jsx)(j,{show:v}),t[7]=v,t[8]=e):e=t[8],e}const P=b?g:f;let E,L;t[9]!==w?(E=w({id:"mrn+Rw"}),t[9]=w,t[10]=E):E=t[10],t[11]!==s?(L=(0,l.makeProfileLink)(s,"known-followers"),t[11]=s,t[12]=L):L=t[12];const R=b?u.atoms.gap_sm:u.atoms.gap_md;let B,D,O,M;return t[13]===Symbol.for("react.memo_cache_sentinel")?(B={marginLeft:-x},t[13]=B):B=t[13],t[14]!==R?(D=[u.atoms.max_w_full,u.atoms.flex_row,R,u.atoms.align_center,B],t[14]=R,t[15]=D):D=t[15],t[16]!==P||t[17]!==A||t[18]!==I||t[19]!==S.atoms.bg||t[20]!==S.atoms.text_contrast_medium||t[21]!==k?(O=e=>{const{hovered:t,pressed:s}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.default,{style:[u.atoms.flex_row,{height:P},s&&{opacity:.5}],children:I.map(((e,t)=>{const{profile:s,moderation:o}=e;return(0,p.jsx)(a.default,{style:[u.atoms.rounded_full,{borderWidth:x,borderColor:S.atoms.bg.backgroundColor,width:P+2*x,height:P+2*x,zIndex:x-t,marginLeft:t>0?-8:0}],children:(0,p.jsx)(d.UserAvatar,{size:P,avatar:s.avatar,moderation:o.ui("avatar"),type:s.associated?.labeler?"labeler":"user",noBorder:!0})},s.did)}))}),(0,p.jsx)(h.Text,{style:[u.atoms.flex_shrink,k,t&&{textDecorationLine:"underline",textDecorationColor:S.atoms.text_contrast_medium.color},s&&{opacity:.5}],numberOfLines:2,children:I.length>=2?A>2?(0,p.jsx)(i.Trans,{id:"x1LHE0",values:{0:I[0].profile.displayName,1:I[1].profile.displayName,2:A-2},components:{0:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[0].profile.did),1:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[1].profile.did)}}):(0,p.jsx)(i.Trans,{id:"DRSdd1",values:{0:I[0].profile.displayName,1:I[1].profile.displayName},components:{0:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[0].profile.did),1:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[1].profile.did)}}):A>1?(0,p.jsx)(i.Trans,{id:"tsG433",values:{0:I[0].profile.displayName,1:A-1},components:{0:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[0].profile.did)}}):(0,p.jsx)(i.Trans,{id:"DsTAgx",values:{0:I[0].profile.displayName},components:{0:(0,p.jsx)(h.Text,{emoji:!0,style:k},I[0].profile.did)}})})]})},t[16]=P,t[17]=A,t[18]=I,t[19]=S.atoms.bg,t[20]=S.atoms.text_contrast_medium,t[21]=k,t[22]=O):O=t[22],t[23]!==y||t[24]!==E||t[25]!==L||t[26]!==D||t[27]!==O?(M=(0,p.jsx)(m.Link,{label:E,onPress:y,to:L,style:D,children:O}),t[23]=y,t[24]=E,t[25]=L,t[26]=D,t[27]=O,t[28]=M):M=t[28],M}function j(e){const t=(0,o.c)(5),{show:s}=e,n=(0,u.useTheme)();if(!s)return null;let a,r,l;return t[0]!==n.atoms.text_contrast_medium?(a=[u.atoms.text_sm,u.atoms.leading_snug,n.atoms.text_contrast_medium],t[0]=n.atoms.text_contrast_medium,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,p.jsx)(i.Trans,{id:"wtXS6X"}),t[2]=r):r=t[2],t[3]!==a?(l=(0,p.jsx)(h.Text,{style:a,children:r}),t[3]=a,t[4]=l):l=t[4],l}},82878:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BUTTON_VISUAL_ALIGNMENT_OFFSET:()=>x,CENTER_COLUMN_OFFSET:()=>y,Center:()=>Y,Content:()=>Q,HEADER_SLOT_SIZE:()=>_,Header:()=>o,KeyboardAwareContent:()=>Z,SCROLLBAR_OFFSET:()=>f,SCROLLBAR_OFFSET_POSITIVE:()=>g,Screen:()=>G});var o={};s.r(o),s.d(o,{BackButton:()=>M,Content:()=>D,MenuButton:()=>F,Outer:()=>R,Slot:()=>O,SubtitleText:()=>H,TitleText:()=>N});var n=s(63366),a=s(15991),r=s(95004),i=s(59550),l=s(67842),c=s(98415),d=s(61551),u=s(69052),m=s(11600),h=s(19552),p=s(63410);const f="calc(-1 * var(--removed-body-scroll-bar-size, 0px) / 2)",g="calc(var(--removed-body-scroll-bar-size, 0px) / 2)",x=3,_=33,y=-105,b=r.createContext({isWithinOffsetView:!1});b.displayName="ScrollbarOffsetContext";var j=s(43535),v=s(13308),S=s(96963),w=s(3611),T=s(17110),k=s(30756),C=s(51536),I=s(84857);const A=(0,s(2064).createSinglePathSVG)({path:"M2 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Z"});var P=s(23486),E=s(2629);const L=["onPress","style"];function R(e){const t=(0,a.c)(21),{children:s,noBottomBorder:o,headerRef:n,sticky:i}=e,c=void 0===i||i,d=(0,h.useTheme)();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[0,"base"],t[0]=u):u=t[0];const m=(0,h.useGutters)(u),{gtMobile:p}=(0,h.useBreakpoints)(),{isWithinOffsetView:g}=(0,r.useContext)(b),{centerColumnOffset:x}=(0,h.useLayoutBreakpoints)(),_=!o&&h.atoms.border_b;let j,v,S,w,T,k;return t[1]!==c||t[2]!==d.atoms.bg?(j=c&&(0,h.web)([h.atoms.sticky,{top:0},h.atoms.z_10,d.atoms.bg]),t[1]=c,t[2]=d.atoms.bg,t[3]=j):j=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(v=(0,h.platform)({native:[h.atoms.pb_xs,{minHeight:48}],web:[h.atoms.py_xs,{minHeight:52}]}),t[4]=v):v=t[4],t[5]!==p?(S=p&&[h.atoms.mx_auto,{maxWidth:600}],t[5]=p,t[6]=S):S=t[6],t[7]!==x||t[8]!==g?(w=!g&&{transform:[{translateX:x?y:0},{translateX:(0,h.web)(f)??0}]},t[7]=x,t[8]=g,t[9]=w):w=t[9],t[10]!==m||t[11]!==d.atoms.border_contrast_low||t[12]!==_||t[13]!==j||t[14]!==S||t[15]!==w?(T=[h.atoms.w_full,_,h.atoms.flex_row,h.atoms.align_center,h.atoms.gap_sm,j,m,v,d.atoms.border_contrast_low,S,w],t[10]=m,t[11]=d.atoms.border_contrast_low,t[12]=_,t[13]=j,t[14]=S,t[15]=w,t[16]=T):T=t[16],t[17]!==s||t[18]!==n||t[19]!==T?(k=(0,E.jsx)(l.default,{ref:n,style:T,children:s}),t[17]=s,t[18]=n,t[19]=T,t[20]=k):k=t[20],k}const B=(0,r.createContext)("platform");function D(e){const t=(0,a.c)(9),{children:s,align:o}=e,n=void 0===o?"platform":o,r=j.IS_IOS&&"platform"===n&&h.atoms.align_center;let i,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i={minHeight:_},t[0]=i):i=t[0],t[1]!==r?(c=[h.atoms.flex_1,h.atoms.justify_center,r,i],t[1]=r,t[2]=c):c=t[2],t[3]!==n||t[4]!==s?(d=(0,E.jsx)(B.Provider,{value:n,children:s}),t[3]=n,t[4]=s,t[5]=d):d=t[5],t[6]!==c||t[7]!==d?(u=(0,E.jsx)(l.default,{style:c,children:d}),t[6]=c,t[7]=d,t[8]=u):u=t[8],u}function O(e){const t=(0,a.c)(3),{children:s}=e;let o,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[h.atoms.z_50,{width:_}],t[0]=o):o=t[0],t[1]!==s?(n=(0,E.jsx)(l.default,{style:o,children:s}),t[1]=s,t[2]=n):n=t[2],n}function M(e){const t=(0,a.c)(18);let s,o,r;if(t[0]!==e){var i=e;({onPress:s,style:r}=i),o=(0,n.default)(i,L),t[0]=e,t[1]=s,t[2]=o,t[3]=r}else s=t[1],o=t[2],r=t[3];const{_:l}=(0,S.useLingui)(),c=(0,w.useNavigation)();let d;t[4]!==c||t[5]!==s?(d=e=>{s?.(e),e.defaultPrevented||(c.canGoBack()?c.goBack():c.navigate("Home"))},t[4]=c,t[5]=s,t[6]=d):d=t[6];const u=d;let m,p,f,g,_;return t[7]!==l?(m=l({id:"CKyk7Q"}),t[7]=l,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(p={marginLeft:-x},t[9]=p):p=t[9],t[10]!==r?(f=[p,h.atoms.bg_transparent,r],t[10]=r,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,E.jsx)(C.ButtonIcon,{icon:I.ArrowLeft_Stroke2_Corner0_Rounded,size:"lg"}),t[12]=g):g=t[12],t[13]!==u||t[14]!==o||t[15]!==m||t[16]!==f?(_=(0,E.jsx)(O,{children:(0,E.jsx)(C.Button,Object.assign({label:m,size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:u,hitSlop:T.HITSLOP_30,style:f},o,{children:g}))}),t[13]=u,t[14]=o,t[15]=m,t[16]=f,t[17]=_):_=t[17],_}function F(){const e=(0,a.c)(6),{_:t}=(0,S.useLingui)(),s=(0,k.useSetDrawerOpen)(),{gtMobile:o}=(0,h.useBreakpoints)();let n;e[0]!==s?(n=()=>{v.default.dismiss(),s(!0)},e[0]=s,e[1]=n):n=e[1];const r=n;let i;return e[2]!==t||e[3]!==o||e[4]!==r?(i=o?null:(0,E.jsx)(O,{children:(0,E.jsx)(C.Button,{label:t({id:"o+Pyj3"}),size:"small",variant:"ghost",color:"secondary",shape:"square",onPress:r,hitSlop:T.HITSLOP_30,style:[{marginLeft:-x},h.atoms.bg_transparent],children:(0,E.jsx)(C.ButtonIcon,{icon:A,size:"lg"})})}),e[2]=t,e[3]=o,e[4]=r,e[5]=i):i=e[5],i}function N(e){const t=(0,a.c)(7),{children:s,style:o}=e,{gtMobile:n}=(0,h.useBreakpoints)(),i=(0,r.useContext)(B),l=j.IS_IOS&&"platform"===i&&h.atoms.text_center,c=n&&h.atoms.text_xl;let d,u;return t[0]!==o||t[1]!==l||t[2]!==c?(d=[h.atoms.text_lg,h.atoms.font_semi_bold,h.atoms.leading_tight,l,c,o],t[0]=o,t[1]=l,t[2]=c,t[3]=d):d=t[3],t[4]!==s||t[5]!==d?(u=(0,E.jsx)(P.Text,{style:d,numberOfLines:2,emoji:!0,children:s}),t[4]=s,t[5]=d,t[6]=u):u=t[6],u}function H(e){const t=(0,a.c)(6),{children:s}=e,o=(0,h.useTheme)(),n=(0,r.useContext)(B),i=j.IS_IOS&&"platform"===n&&h.atoms.text_center;let l,c;return t[0]!==o.atoms.text_contrast_medium||t[1]!==i?(l=[h.atoms.text_sm,h.atoms.leading_snug,i,o.atoms.text_contrast_medium],t[0]=o.atoms.text_contrast_medium,t[1]=i,t[2]=l):l=t[2],t[3]!==s||t[4]!==l?(c=(0,E.jsx)(P.Text,{style:l,numberOfLines:2,children:s}),t[3]=s,t[4]=l,t[5]=c):c=t[5],c}B.displayName="AlignmentContext";const V=["style","noInsetTop"],z=["children","style","contentContainerStyle","ignoreTabletLayoutOffset"],U=["children","style","contentContainerStyle"],W=["children","style","ignoreTabletLayoutOffset"],G=(0,r.memo)((function(e){const t=(0,a.c)(13);let s,o,r;if(t[0]!==e){var i=e;({style:r,noInsetTop:s}=i),o=(0,n.default)(i,V),t[0]=e,t[1]=s,t[2]=o,t[3]=r}else s=t[1],o=t[2],r=t[3];const{top:c}=(0,u.useSafeAreaInsets)();let d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=j.IS_WEB&&(0,E.jsx)($,{}),t[4]=d):d=t[4];const m=s?0:c;let p,f,g;return t[5]!==m?(p={paddingTop:m},t[5]=m,t[6]=p):p=t[6],t[7]!==r||t[8]!==p?(f=[h.atoms.util_screen_outer,p,r],t[7]=r,t[8]=p,t[9]=f):f=t[9],t[10]!==o||t[11]!==f?(g=(0,E.jsxs)(E.Fragment,{children:[d,(0,E.jsx)(l.default,Object.assign({style:f},o))]}),t[10]=o,t[11]=f,t[12]=g):g=t[12],g})),q={code:"function indexTsx1(){const{footerHeight}=this.__closure;return{scrollIndicatorInsets:{bottom:footerHeight.get(),top:0,right:1}};}"},Q=(0,r.memo)((0,r.forwardRef)((function(e,t){const s=(0,a.c)(21);let o,r,i,l,c;if(s[0]!==e){var u=e;({children:o,style:c,contentContainerStyle:r,ignoreTabletLayoutOffset:i}=u),l=(0,n.default)(u,z),s[0]=e,s[1]=o,s[2]=r,s[3]=i,s[4]=l,s[5]=c}else o=s[1],r=s[2],i=s[3],l=s[4],c=s[5];const p=(0,h.useTheme)(),{footerHeight:f}=(0,m.useShellLayout)(),g=(0,d.useAnimatedProps)(function(){const e=()=>({scrollIndicatorInsets:{bottom:f.get(),top:0,right:1}});return e.__closure={footerHeight:f},e.__workletHash=9453092017561,e.__initData=q,e}()),x="dark"===p.scheme?"white":"black";let _,y,b,v;return s[6]!==c?(_=[K.common,c],s[6]=c,s[7]=_):_=s[7],s[8]!==r?(y=[K.contentContainer,r],s[8]=r,s[9]=y):y=s[9],s[10]!==o||s[11]!==i?(b=j.IS_WEB?(0,E.jsx)(Y,{ignoreTabletLayoutOffset:i,children:o}):o,s[10]=o,s[11]=i,s[12]=b):b=s[12],s[13]!==g||s[14]!==l||s[15]!==t||s[16]!==x||s[17]!==_||s[18]!==y||s[19]!==b?(v=(0,E.jsx)(d.default.ScrollView,Object.assign({ref:t,id:"content",automaticallyAdjustsScrollIndicatorInsets:!1,indicatorStyle:x,animatedProps:g,style:_,contentContainerStyle:y},l,{children:b})),s[13]=g,s[14]=l,s[15]=t,s[16]=x,s[17]=_,s[18]=y,s[19]=b,s[20]=v):v=s[20],v}))),K=i.default.create({common:{width:"100%"},contentContainer:{paddingBottom:100}}),Z=(0,r.memo)((function(e){const t=(0,a.c)(16);let s,o,r,i,l,d,u,m;if(t[0]!==e){var h=e;({children:s,style:i,contentContainerStyle:o}=h),r=(0,n.default)(h,U),t[0]=e,t[1]=s,t[2]=o,t[3]=r,t[4]=i}else s=t[1],o=t[2],r=t[3],i=t[4];return t[5]!==i?(l=[K.common,i],t[5]=i,t[6]=l):l=t[6],t[7]!==o?(d=[K.contentContainer,o],t[7]=o,t[8]=d):d=t[8],t[9]!==s?(u=j.IS_WEB?(0,E.jsx)(Y,{children:s}):s,t[9]=s,t[10]=u):u=t[10],t[11]!==r||t[12]!==l||t[13]!==d||t[14]!==u?(m=(0,E.jsx)(c.KeyboardAwareScrollView,Object.assign({style:l,contentContainerStyle:d,keyboardShouldPersistTaps:"handled"},r,{children:u})),t[11]=r,t[12]=l,t[13]=d,t[14]=u,t[15]=m):m=t[15],m})),Y=(0,r.memo)((function(e){const t=(0,a.c)(23);let s,o,i,c;if(t[0]!==e){var d=e;({children:s,style:c,ignoreTabletLayoutOffset:o}=d),i=(0,n.default)(d,W),t[0]=e,t[1]=s,t[2]=o,t[3]=i,t[4]=c}else s=t[1],o=t[2],i=t[3],c=t[4];const{isWithinOffsetView:u}=(0,r.useContext)(b),{gtMobile:m}=(0,h.useBreakpoints)(),{centerColumnOffset:g}=(0,h.useLayoutBreakpoints)(),{isWithinDialog:x}=(0,p.useDialogContext)();let _;t[5]===Symbol.for("react.memo_cache_sentinel")?(_={isWithinOffsetView:!0},t[5]=_):_=t[5];const j=_;let v,S,w,T,k;return t[6]!==m?(v=m&&{maxWidth:600},t[6]=m,t[7]=v):v=t[7],t[8]!==g||t[9]!==o||t[10]!==x||t[11]!==u?(S=!u&&{transform:[{translateX:!g||o||x?0:y},{translateX:(0,h.web)(f)??0}]},t[8]=g,t[9]=o,t[10]=x,t[11]=u,t[12]=S):S=t[12],t[13]!==c||t[14]!==v||t[15]!==S?(w=[h.atoms.w_full,h.atoms.mx_auto,v,S,c],t[13]=c,t[14]=v,t[15]=S,t[16]=w):w=t[16],t[17]!==s?(T=(0,E.jsx)(b.Provider,{value:j,children:s}),t[17]=s,t[18]=T):T=t[18],t[19]!==i||t[20]!==w||t[21]!==T?(k=(0,E.jsx)(l.default,Object.assign({style:w},i,{children:T})),t[19]=i,t[20]=w,t[21]=T,t[22]=k):k=t[22],k})),$=(0,r.memo)((function(){const e=(0,a.c)(4),t=(0,h.useTheme)(),{gtMobile:s}=(0,h.useBreakpoints)(),{centerColumnOffset:o}=(0,h.useLayoutBreakpoints)();let n;return e[0]!==o||e[1]!==s||e[2]!==t?(n=s?(0,E.jsx)(l.default,{style:[h.atoms.fixed,h.atoms.inset_0,h.atoms.border_l,h.atoms.border_r,t.atoms.border_contrast_low,(0,h.web)({width:602,left:"50%",transform:[{translateX:"-50%"},{translateX:o?y:0},...h.atoms.scrollbar_offset.transform]})]}):null,e[0]=o,e[1]=s,e[2]=t,e[3]=n):n=e[3],n}))},96449:(e,t,s)=>{"use strict";s.r(t),s.d(t,{InlineLinkText:()=>A,Link:()=>I,SimpleInlineLinkText:()=>P,WebOnlyInlineLinkText:()=>E,createStaticClick:()=>L,createStaticClickIfUnmodified:()=>R,isClickEventWithMetaKey:()=>B,isClickTargetExternal:()=>D,isModifiedClickEvent:()=>O,shouldClickOpenNewTab:()=>M,useLink:()=>C,useLinkContext:()=>g.useButtonContext});var o=s(63366),n=s(15991),a=s(95004),r=s(75632),i=s(44621),l=s(3611),c=s(17110),d=s(45146),u=s(98539),m=s(64855),h=s(86731),p=s(58810),f=s(19552),g=s(51536),x=s(1814),_=s(23486),y=s(43535),b=s(95032),j=s(96587),v=s(2629);const S=["children","to","action","onPress","onLongPress","download","shouldProxy","overridePresentation"],w=["children","to","action","disableMismatchWarning","style","onPress","onLongPress","download","selectable","label","shareOnLongPress","disableUnderline","overridePresentation","shouldProxy"],T=["children","to","style","download","selectable","label","disableUnderline","shouldProxy","onPress"],k=["children","to","onPress"];function C({to:e,displayText:t,action:s="push",disableMismatchWarning:o,onPress:n,onLongPress:r,shareOnLongPress:f,overridePresentation:g,shouldProxy:x}){const _=(0,d.useNavigationDeduped)(),v=(0,a.useMemo)((()=>{const t="string"===typeof e?(0,h.convertBskyAppUrlIfNeeded)((0,i.sanitizeUrl)(e)):e.screen?b.router.matchName(e.screen)?.build(e.params):e.href?(0,h.convertBskyAppUrlIfNeeded)((0,i.sanitizeUrl)(e.href)):void 0;return null==t||(0,h.isExternalUrl)(t)?t:(0,h.withBasePath)(t)}),[e]);if(!v)throw new Error("Could not resolve screen. Link `to` prop must be a string or an object with `screen` and `params` properties");const S=(0,h.isExternalUrl)(v),{closeModal:w}=(0,p.useModalControls)(),{linkWarningDialogControl:T}=(0,j.useGlobalDialogsControlContext)(),k=(0,u.useOpenLink)(),C=a.useCallback((e=>{const a=n?.(e);if(!1===a)return;const r=Boolean(!o&&t&&S&&(0,h.linkRequiresWarning)(v,t));if(y.IS_WEB&&e.preventDefault(),r)T.open({displayText:t,href:v});else if(S)k(v,g,x);else{const t=M(e);if((0,h.isBskyDownloadUrl)(v))(0,m.shareUrl)(c.BSKY_DOWNLOAD_URL);else if(t||v.startsWith("http")||v.startsWith("mailto"))k(v);else{w();const[e,t]=b.router.matchPath(v);if(y.IS_NATIVE&&"NotFound"!==e){const s=_.getState();if(!s?.routeNames?.includes?.(e)){const s=_.getParent();if(s&&s.getState().routeNames.includes(`${e}Tab`))return void s.navigate(`${e}Tab`,{screen:e,params:t})}}if("push"===s)_.dispatch(l.StackActions.push(e,t));else if("replace"===s)_.dispatch(l.StackActions.replace(e,t));else{if("navigate"!==s)throw Error("Unsupported navigator action.");_.navigate(e,t,{pop:!0})}}}}),[n,o,t,S,v,k,w,s,_,g,x,T]),I=a.useCallback((()=>{Boolean(!o&&t&&S&&(0,h.linkRequiresWarning)(v,t))?T.open({displayText:t,href:v,share:!0}):(0,m.shareUrl)(v)}),[o,t,v,S,T]),A=a.useCallback((e=>{const t=r?.(e);if(!1!==t)return y.IS_NATIVE&&f?I():void 0}),[r,I,f]);return{isExternal:S,href:v,onPress:C,onLongPress:A}}function I(e){const t=(0,n.c)(32);let s,a,r,i,l,c,d,u,m;if(t[0]!==e){var h=e;({children:s,to:m,action:u,onPress:i,onLongPress:r,download:a,shouldProxy:d,overridePresentation:l}=h),c=(0,o.default)(h,S),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m}else s=t[1],a=t[2],r=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9];const p=void 0===u?"push":u,x="string"===typeof s?s:"";let _;t[10]!==p||t[11]!==r||t[12]!==i||t[13]!==l||t[14]!==d||t[15]!==x||t[16]!==m?(_={to:m,displayText:x,action:p,onPress:i,onLongPress:r,shouldProxy:d,overridePresentation:l},t[10]=p,t[11]=r,t[12]=i,t[13]=l,t[14]=d,t[15]=x,t[16]=m,t[17]=_):_=t[17];const{href:y,isExternal:b,onPress:j,onLongPress:w}=C(_);let T;t[18]!==c.style?(T=[f.atoms.justify_start,c.style],t[18]=c.style,t[19]=T):T=t[19];const k=a?void 0:j,I=a?void 0:b?"blank":void 0,A=b?"noopener noreferrer":void 0;let P,E;return t[20]!==a||t[21]!==I||t[22]!==A?(P=(0,f.web)({hrefAttrs:{target:I,rel:A,download:a},dataSet:{noUnderline:"1"}}),t[20]=a,t[21]=I,t[22]=A,t[23]=P):P=t[23],t[24]!==s||t[25]!==y||t[26]!==w||t[27]!==c||t[28]!==T||t[29]!==k||t[30]!==P?(E=(0,v.jsx)(g.Button,Object.assign({},c,{style:T,role:"link",accessibilityRole:"link",href:y,onPress:k,onLongPress:w},P,{children:s})),t[24]=s,t[25]=y,t[26]=w,t[27]=c,t[28]=T,t[29]=k,t[30]=P,t[31]=E):E=t[31],E}function A(e){const t=(0,n.c)(65);let s,a,r,i,l,c,d,u,m,h,p,g,y,b,j;if(t[0]!==e){var S=e;({children:s,to:j,action:b,disableMismatchWarning:a,style:y,onPress:d,onLongPress:c,download:i,selectable:h,label:l,shareOnLongPress:p,disableUnderline:r,overridePresentation:u,shouldProxy:g}=S),m=(0,o.default)(S,w),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=g,t[13]=y,t[14]=b,t[15]=j}else s=t[1],a=t[2],r=t[3],i=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],g=t[12],y=t[13],b=t[14],j=t[15];const T=void 0===b?"push":b,k=(0,f.useTheme)(),I="string"===typeof s?s:"";let A;t[16]!==T||t[17]!==a||t[18]!==c||t[19]!==d||t[20]!==u||t[21]!==p||t[22]!==g||t[23]!==I||t[24]!==j?(A={to:j,displayText:I,action:T,disableMismatchWarning:a,onPress:d,onLongPress:c,shareOnLongPress:p,overridePresentation:u,shouldProxy:g},t[16]=T,t[17]=a,t[18]=c,t[19]=d,t[20]=u,t[21]=p,t[22]=g,t[23]=I,t[24]=j,t[25]=A):A=t[25];const{href:P,isExternal:E,onPress:L,onLongPress:R}=C(A),{state:B,onIn:D,onOut:O}=(0,x.useInteractionState)();let M,F,N,H,V,z,U,W,G;t[26]!==r||t[27]!==B||t[28]!==l||t[29]!==m||t[30]!==h||t[31]!==y||t[32]!==k.palette.primary_500?(F=(0,f.flatten)(y)||{},M=_.Text,V=h,z="",U=l,W=m,t[41]!==k.palette.primary_500?(N={color:k.palette.primary_500},t[41]=k.palette.primary_500,t[42]=N):N=t[42],H=B&&!r&&Object.assign({},(0,f.web)({outline:0,textDecorationLine:"underline",textDecorationColor:F.color??k.palette.primary_500})),t[26]=r,t[27]=B,t[28]=l,t[29]=m,t[30]=h,t[31]=y,t[32]=k.palette.primary_500,t[33]=M,t[34]=F,t[35]=N,t[36]=H,t[37]=V,t[38]=z,t[39]=U,t[40]=W):(M=t[33],F=t[34],N=t[35],H=t[36],V=t[37],z=t[38],U=t[39],W=t[40]),t[43]!==F||t[44]!==N||t[45]!==H?(G=[N,H,F],t[43]=F,t[44]=N,t[45]=H,t[46]=G):G=t[46];const q=i?void 0:L,Q=i?void 0:E?"blank":void 0,K=E?"noopener noreferrer":void 0;let Z,Y;return t[47]!==i||t[48]!==Q||t[49]!==K?(Z=(0,f.web)({hrefAttrs:{target:Q,rel:K,download:i},dataSet:{noUnderline:"1"}}),t[47]=i,t[48]=Q,t[49]=K,t[50]=Z):Z=t[50],t[51]!==M||t[52]!==s||t[53]!==P||t[54]!==D||t[55]!==O||t[56]!==R||t[57]!==G||t[58]!==q||t[59]!==Z||t[60]!==V||t[61]!==z||t[62]!==U||t[63]!==W?(Y=(0,v.jsx)(M,Object.assign({selectable:V,accessibilityHint:z,accessibilityLabel:U},W,{style:G,role:"link",onPress:q,onLongPress:R,onMouseEnter:D,onMouseLeave:O,accessibilityRole:"link",href:P},Z,{children:s})),t[51]=M,t[52]=s,t[53]=P,t[54]=D,t[55]=O,t[56]=R,t[57]=G,t[58]=q,t[59]=Z,t[60]=V,t[61]=z,t[62]=U,t[63]=W,t[64]=Y):Y=t[64],Y}function P(e){const t=(0,n.c)(61);let s,a,i,l,c,d,u,m,p,g;if(t[0]!==e){var y=e;({children:s,to:g,style:p,download:i,selectable:u,label:l,disableUnderline:a,shouldProxy:m,onPress:c}=y),d=(0,o.default)(y,T),t[0]=e,t[1]=s,t[2]=a,t[3]=i,t[4]=l,t[5]=c,t[6]=d,t[7]=u,t[8]=m,t[9]=p,t[10]=g}else s=t[1],a=t[2],i=t[3],l=t[4],c=t[5],d=t[6],u=t[7],m=t[8],p=t[9],g=t[10];const b=(0,f.useTheme)(),{state:j,onIn:S,onOut:w}=(0,x.useInteractionState)();let k,C,I,A,P,E,L,R,B,D,O,M;if(t[11]!==a||t[12]!==j||t[13]!==l||t[14]!==c||t[15]!==d||t[16]!==u||t[17]!==m||t[18]!==p||t[19]!==b.palette.primary_500||t[20]!==g){let e;C=(0,f.flatten)(p)||{},A=(0,h.isExternalUrl)(g),t[32]!==m||t[33]!==g?(I=g,m&&(I=(0,h.createProxiedUrl)(I)),t[32]=m,t[33]=g,t[34]=I):I=t[34],t[35]!==I||t[36]!==c?(e=e=>{const t=c?.(e);!1!==t&&r.default.openURL(I)},t[35]=I,t[36]=c,t[37]=e):e=t[37],P=e,k=_.Text,R=u,B="",D=l,O=d,t[38]!==b.palette.primary_500?(E={color:b.palette.primary_500},t[38]=b.palette.primary_500,t[39]=E):E=t[39],L=j&&!a&&Object.assign({},(0,f.web)({outline:0,textDecorationLine:"underline",textDecorationColor:C.color??b.palette.primary_500})),t[11]=a,t[12]=j,t[13]=l,t[14]=c,t[15]=d,t[16]=u,t[17]=m,t[18]=p,t[19]=b.palette.primary_500,t[20]=g,t[21]=k,t[22]=C,t[23]=I,t[24]=A,t[25]=P,t[26]=E,t[27]=L,t[28]=R,t[29]=B,t[30]=D,t[31]=O}else k=t[21],C=t[22],I=t[23],A=t[24],P=t[25],E=t[26],L=t[27],R=t[28],B=t[29],D=t[30],O=t[31];t[40]!==C||t[41]!==E||t[42]!==L?(M=[E,L,C],t[40]=C,t[41]=E,t[42]=L,t[43]=M):M=t[43];const F=I,N=i?void 0:A?"blank":void 0,H=A?"noopener noreferrer":void 0;let V,z;return t[44]!==i||t[45]!==H||t[46]!==N?(V=(0,f.web)({hrefAttrs:{target:N,rel:H,download:i},dataSet:{noUnderline:"1"}}),t[44]=i,t[45]=H,t[46]=N,t[47]=V):V=t[47],t[48]!==k||t[49]!==s||t[50]!==I||t[51]!==S||t[52]!==w||t[53]!==P||t[54]!==V||t[55]!==R||t[56]!==B||t[57]!==D||t[58]!==O||t[59]!==M?(z=(0,v.jsx)(k,Object.assign({selectable:R,accessibilityHint:B,accessibilityLabel:D},O,{style:M,role:"link",onPress:P,onMouseEnter:S,onMouseLeave:w,accessibilityRole:"link",href:F},V,{children:s})),t[48]=k,t[49]=s,t[50]=I,t[51]=S,t[52]=w,t[53]=P,t[54]=V,t[55]=R,t[56]=B,t[57]=D,t[58]=O,t[59]=M,t[60]=z):z=t[60],z}function E(e){const t=(0,n.c)(10);let s,a,r,i,l;if(t[0]!==e){var c=e;({children:s,to:i,onPress:a}=c),r=(0,o.default)(c,k),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=i}else s=t[1],a=t[2],r=t[3],i=t[4];return t[5]!==s||t[6]!==a||t[7]!==r||t[8]!==i?(l=y.IS_WEB?(0,v.jsx)(A,Object.assign({},r,{to:i,onPress:a,children:s})):(0,v.jsx)(_.Text,Object.assign({},r,{children:s})),t[5]=s,t[6]=a,t[7]=r,t[8]=i,t[9]=l):l=t[9],l}function L(e){return{to:"#",onPress:t=>(t.preventDefault(),e(t),!1)}}function R(e){return{onPress(t){if(!y.IS_WEB||!O(t))return t.preventDefault(),e(t),!1}}}function B(e){if(!y.IS_WEB)return!1;const t=e;return t.metaKey||t.altKey||t.ctrlKey||t.shiftKey}function D(e){if(!y.IS_WEB)return!1;const t=e.currentTarget;return t&&t.target&&"_self"!==t.target}function O(e){if(!y.IS_WEB)return!1;const t=0===e.button;return B(e)||D(e)||!t}function M(e){if(!y.IS_WEB)return!1;const t=e,s=y.IS_WEB&&1===t.button;return B(e)||D(e)||s}},50788:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Loader:()=>c});var o=s(15991),n=s(67842),a=s(19552),r=s(24655);const i=(0,s(2064).createSinglePathSVG)({path:"M12 5a7 7 0 0 0-5.218 11.666A1 1 0 0 1 5.292 18a9 9 0 1 1 13.416 0 1 1 0 1 1-1.49-1.334A7 7 0 0 0 12 5Z"});var l=s(2629);function c(e){const t=(0,o.c)(11),s=(0,a.useTheme)(),c=(0,r.useCommonSVGProps)(e);let d,u,m,h;return t[0]!==c.size?(d=[a.atoms.relative,a.atoms.justify_center,a.atoms.align_center,{width:c.size,height:c.size}],t[0]=c.size,t[1]=d):d=t[1],t[2]!==e.style||t[3]!==s.atoms.text_contrast_high?(u=[a.atoms.absolute,a.atoms.inset_0,s.atoms.text_contrast_high,e.style],t[2]=e.style,t[3]=s.atoms.text_contrast_high,t[4]=u):u=t[4],t[5]!==e||t[6]!==u?(m=(0,l.jsx)("div",{className:"rotate-500ms",children:(0,l.jsx)(i,Object.assign({},e,{style:u}))}),t[5]=e,t[6]=u,t[7]=m):m=t[7],t[8]!==d||t[9]!==m?(h=(0,l.jsx)(n.default,{style:d,children:m}),t[8]=d,t[9]=m,t[10]=h):h=t[10],h}},90010:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MediaInsetBorder:()=>c});var o=s(15991),n=s(59550),a=s(19552),r=s(15127),i=s(43535),l=s(2629);function c(e){const t=(0,o.c)(12),{children:s,style:c,opaque:d}=e,u=(0,a.useTheme)(),m="light"===u.name;let h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(h={borderWidth:(0,a.platform)({native:n.default.hairlineWidth,web:i.IS_HIGH_DPI?.5:n.default.hairlineWidth})},t[0]=h):h=t[0],t[1]!==m||t[2]!==d||t[3]!==u.atoms.border_contrast_high||t[4]!==u.atoms.border_contrast_low?(p=d?[u.atoms.border_contrast_low]:[m?u.atoms.border_contrast_low:u.atoms.border_contrast_high,{opacity:.6}],t[1]=m,t[2]=d,t[3]=u.atoms.border_contrast_high,t[4]=u.atoms.border_contrast_low,t[5]=p):p=t[5],t[6]!==c||t[7]!==p?(f=[a.atoms.rounded_md,h,p,a.atoms.pointer_events_none,c],t[6]=c,t[7]=p,t[8]=f):f=t[8],t[9]!==s||t[10]!==f?(g=(0,l.jsx)(r.Fill,{style:f,children:s}),t[9]=s,t[10]=f,t[11]=g):g=t[11],g}},4544:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ContainerItem:()=>R,Divider:()=>L,Group:()=>E,Item:()=>k,ItemIcon:()=>I,ItemRadio:()=>A,ItemText:()=>C,LabelText:()=>P,Outer:()=>T,Root:()=>v,Trigger:()=>w,useMenuContext:()=>f,useMenuControl:()=>j});var o=s(63366),n=s(15991),a=s(95004),r=s(41711),i=s(67842),l=s(96963),c=s(34914),d=s(77268),u=s(19552),m=s(1814);const h=a.createContext(null);h.displayName="MenuContext";const p=a.createContext(null);function f(){const e=a.useContext(h);if(!e)throw new Error("useMenuContext must be used within a Context.Provider");return e}function g(){const e=a.useContext(p);if(!e)throw new Error("useMenuItemContext must be used within a Context.Provider");return e}p.displayName="MenuItemContext";var x=s(91736),_=s(23486),y=s(2629);const b=["children","label","onPress","style"];function j(){const e=(0,n.c)(4),t=(0,a.useId)(),[s,o]=(0,a.useState)(!1);let r,i;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r={current:null},e[0]=r):r=e[0],e[1]!==t||e[2]!==s?(i={id:t,ref:r,isOpen:s,open(){o(!0)},close(){o(!1)}},e[1]=t,e[2]=s,e[3]=i):i=e[3],i}function v(e){const t=(0,n.c)(15),{children:s,control:o}=e,{_:a}=(0,l.useLingui)(),i=j(),d=o||i;let m;t[0]!==d?(m={control:d},t[0]=d,t[1]=m):m=t[1];const p=m;let f;t[2]!==p.control?(f=e=>{p.control.isOpen&&!e?p.control.close():!p.control.isOpen&&e&&p.control.open()},t[2]=p.control,t[3]=f):f=t[3];const g=f;let _,b,v;return t[4]!==a||t[5]!==p.control?(_=p.control.isOpen&&(0,y.jsx)(x.Portal,{children:(0,y.jsx)(r.default,{style:[u.atoms.fixed,u.atoms.inset_0,u.atoms.z_50],onPress:()=>p.control.close(),accessibilityHint:"",accessibilityLabel:a({id:"w0LYmj"})})}),t[4]=a,t[5]=p.control,t[6]=_):_=t[6],t[7]!==s||t[8]!==p.control.isOpen||t[9]!==g?(b=(0,y.jsx)(c.Root,{open:p.control.isOpen,onOpenChange:g,children:s}),t[7]=s,t[8]=p.control.isOpen,t[9]=g,t[10]=b):b=t[10],t[11]!==p||t[12]!==_||t[13]!==b?(v=(0,y.jsxs)(h.Provider,{value:p,children:[_,b]}),t[11]=p,t[12]=_,t[13]=b,t[14]=v):v=t[14],v}const S=(0,a.forwardRef)(((e,t)=>e.children(Object.assign({},e,{ref:t}))));function w(e){const t=(0,n.c)(12),{children:s,label:o,role:a,hint:r}=e,i=void 0===a?"button":a,{control:l}=f(),{state:d,onIn:u,onOut:h}=(0,m.useInteractionState)(),{state:p,onIn:g,onOut:x}=(0,m.useInteractionState)();let _;return t[0]!==s||t[1]!==l||t[2]!==p||t[3]!==r||t[4]!==d||t[5]!==o||t[6]!==x||t[7]!==g||t[8]!==u||t[9]!==h||t[10]!==i?(_=(0,y.jsx)(c.Trigger,{asChild:!0,children:(0,y.jsx)(S,{children:e=>s({IS_NATIVE:!1,control:l,state:{hovered:d,focused:p,pressed:!1},props:Object.assign({},e,{onPointerDown:void 0,onPress:()=>{window.event instanceof KeyboardEvent||(l.isOpen?l.close():l.open())},onFocus:g,onBlur:x,onMouseEnter:u,onMouseLeave:h,accessibilityHint:r,accessibilityLabel:o,accessibilityRole:i})})})}),t[0]=s,t[1]=l,t[2]=p,t[3]=r,t[4]=d,t[5]=o,t[6]=x,t[7]=g,t[8]=u,t[9]=h,t[10]=i,t[11]=_):_=t[11],_}function T(e){const t=(0,n.c)(10),{children:s,style:o}=e,a=(0,u.useTheme)(),{reduceMotionEnabled:r}=(0,d.useA11y)();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={left:5,right:5,bottom:5},t[0]=l):l=t[0];const m="light"===a.name?a.atoms.bg:a.atoms.bg_contrast_25,h=!r&&u.atoms.zoom_fade_in;let p,f;return t[1]!==o||t[2]!==a.atoms.border_contrast_low||t[3]!==a.atoms.shadow_md||t[4]!==m||t[5]!==h?(p=[u.atoms.rounded_sm,u.atoms.p_xs,u.atoms.border,m,a.atoms.shadow_md,a.atoms.border_contrast_low,u.atoms.overflow_auto,h,o],t[1]=o,t[2]=a.atoms.border_contrast_low,t[3]=a.atoms.shadow_md,t[4]=m,t[5]=h,t[6]=p):p=t[6],t[7]!==s||t[8]!==p?(f=(0,y.jsx)(c.Portal,{children:(0,y.jsx)(c.Content,{sideOffset:5,collisionPadding:l,loop:!0,"aria-label":"Test",className:"dropdown-menu-transform-origin dropdown-menu-constrain-size",children:(0,y.jsx)(i.default,{style:p,children:s})})}),t[7]=s,t[8]=p,t[9]=f):f=t[9],f}function k(e){const t=(0,n.c)(32);let s,a,i,l,d;if(t[0]!==e){var h=e;({children:s,label:a,onPress:i,style:d}=h),l=(0,o.default)(h,b),t[0]=e,t[1]=s,t[2]=a,t[3]=i,t[4]=l,t[5]=d}else s=t[1],a=t[2],i=t[3],l=t[4],d=t[5];const g=(0,u.useTheme)(),{control:x}=f(),{state:_,onIn:j,onOut:v}=(0,m.useInteractionState)(),{state:S,onIn:w,onOut:T}=(0,m.useInteractionState)();let k,C,I;t[6]!==x||t[7]!==i?(k=e=>{i(e),e.defaultPrevented||x.close()},t[6]=x,t[7]=i,t[8]=k):k=t[8],t[9]!==S||t[10]!==_||t[11]!==l.disabled||t[12]!==d||t[13]!==g?(C=(0,u.flatten)([u.atoms.flex_row,u.atoms.align_center,u.atoms.gap_lg,u.atoms.py_sm,u.atoms.rounded_xs,u.atoms.overflow_hidden,{minHeight:32,paddingHorizontal:10},(0,u.web)({outline:0}),(_||S)&&!l.disabled&&[(0,u.web)({outline:"0 !important"}),"light"===g.name?g.atoms.bg_contrast_25:g.atoms.bg_contrast_50],d]),t[9]=S,t[10]=_,t[11]=l.disabled,t[12]=d,t[13]=g,t[14]=C):C=t[14],t[15]!==j||t[16]!==v?(I=(0,u.web)({onMouseEnter:j,onMouseLeave:v}),t[15]=j,t[16]=v,t[17]=I):I=t[17];const A=Boolean(l.disabled);let P,E,L;return t[18]!==A?(P={disabled:A},t[18]=A,t[19]=P):P=t[19],t[20]!==s||t[21]!==P?(E=(0,y.jsx)(p.Provider,{value:P,children:s}),t[20]=s,t[21]=P,t[22]=E):E=t[22],t[23]!==a||t[24]!==T||t[25]!==w||t[26]!==l||t[27]!==k||t[28]!==C||t[29]!==I||t[30]!==E?(L=(0,y.jsx)(c.Item,{asChild:!0,children:(0,y.jsx)(r.default,Object.assign({},l,{className:"radix-dropdown-item",accessibilityHint:"",accessibilityLabel:a,onPress:k,onFocus:w,onBlur:T,style:C},I,{children:E}))}),t[23]=a,t[24]=T,t[25]=w,t[26]=l,t[27]=k,t[28]=C,t[29]=I,t[30]=E,t[31]=L):L=t[31],L}function C(e){const t=(0,n.c)(7),{children:s,style:o}=e,a=(0,u.useTheme)(),{disabled:r}=g(),i=r&&a.atoms.text_contrast_low;let l,c;return t[0]!==o||t[1]!==a.atoms.text_contrast_high||t[2]!==i?(l=[u.atoms.flex_1,u.atoms.font_semi_bold,a.atoms.text_contrast_high,o,i],t[0]=o,t[1]=a.atoms.text_contrast_high,t[2]=i,t[3]=l):l=t[3],t[4]!==s||t[5]!==l?(c=(0,y.jsx)(_.Text,{style:l,children:s}),t[4]=s,t[5]=l,t[6]=c):c=t[6],c}function I(e){const t=(0,n.c)(17),{icon:s,position:o,fill:a}=e,r=void 0===o?"left":o,l=(0,u.useTheme)(),{disabled:c}=g();let d,m,h,p,f,x;return t[0]!==r?(d="left"===r&&{marginLeft:-2},t[0]=r,t[1]=d):d=t[1],t[2]!==r?(m="right"===r&&{marginRight:-2,marginLeft:12},t[2]=r,t[3]=m):m=t[3],t[4]!==d||t[5]!==m?(h=[d,m],t[4]=d,t[5]=m,t[6]=h):h=t[6],t[7]!==c||t[8]!==a||t[9]!==l?(p=a?a({disabled:c}):c?l.atoms.text_contrast_low.color:l.atoms.text_contrast_medium.color,t[7]=c,t[8]=a,t[9]=l,t[10]=p):p=t[10],t[11]!==s||t[12]!==p?(f=(0,y.jsx)(s,{size:"md",fill:p}),t[11]=s,t[12]=p,t[13]=f):f=t[13],t[14]!==h||t[15]!==f?(x=(0,y.jsx)(i.default,{style:h,children:f}),t[14]=h,t[15]=f,t[16]=x):x=t[16],x}function A(e){const t=(0,n.c)(9),{selected:s}=e,o=(0,u.useTheme)();let a,r,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={borderWidth:1,height:20,width:20},t[0]=a):a=t[0],t[1]!==o.atoms.border_contrast_high?(r=[u.atoms.justify_center,u.atoms.align_center,u.atoms.rounded_full,o.atoms.border_contrast_high,a],t[1]=o.atoms.border_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==o.palette?(l=s?(0,y.jsx)(i.default,{style:[u.atoms.absolute,u.atoms.rounded_full,{height:14,width:14},s?{backgroundColor:o.palette.primary_500}:{}]}):null,t[3]=s,t[4]=o.palette,t[5]=l):l=t[5],t[6]!==r||t[7]!==l?(c=(0,y.jsx)(i.default,{style:r,children:l}),t[6]=r,t[7]=l,t[8]=c):c=t[8],c}function P(e){const t=(0,n.c)(7),{children:s,style:o}=e,a=(0,u.useTheme)();let r,i,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={paddingHorizontal:10},t[0]=r):r=t[0],t[1]!==o||t[2]!==a.atoms.text_contrast_low?(i=[u.atoms.font_semi_bold,u.atoms.p_sm,a.atoms.text_contrast_low,u.atoms.leading_snug,r,o],t[1]=o,t[2]=a.atoms.text_contrast_low,t[3]=i):i=t[3],t[4]!==s||t[5]!==i?(l=(0,y.jsx)(_.Text,{style:i,children:s}),t[4]=s,t[5]=i,t[6]=l):l=t[6],l}function E({children:e}){return e}function L(){const e=(0,n.c)(4),t=(0,u.useTheme)();let s,o;return e[0]!==t.atoms.bg_contrast_100?(s=(0,u.flatten)([u.atoms.my_xs,t.atoms.bg_contrast_100,u.atoms.flex_shrink_0,{height:1}]),e[0]=t.atoms.bg_contrast_100,e[1]=s):s=e[1],e[2]!==s?(o=(0,y.jsx)(c.Separator,{style:s}),e[2]=s,e[3]=o):o=e[3],o}function R(){return null}S.displayName="RadixTriggerPassThrough"},32581:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FollowsYou:()=>g,Label:()=>f,Row:()=>p});var o=s(15991),n=s(96963),a=(s(95004),s(67842)),r=s(66949),i=s(58921),l=s(32720),c=s(19552),d=s(51536),u=s(3963),m=s(23486),h=s(2629);function p(e){const t=(0,o.c)(8),{children:s,style:n,size:r}=e;let i;e:{if("lg"===(void 0===r?"sm":r)){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{gap:5}],t[0]=e):e=t[0],i=e;break e}{let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e=[{gap:3}],t[1]=e):e=t[1],i=e}}const l=i;let d,u;return t[2]!==n||t[3]!==l?(d=[c.atoms.flex_row,c.atoms.flex_wrap,c.atoms.gap_xs,l,n],t[2]=n,t[3]=l,t[4]=d):d=t[4],t[5]!==s||t[6]!==d?(u=(0,h.jsx)(a.default,{style:d,children:s}),t[5]=s,t[6]=d,t[7]=u):u=t[7],u}function f(e){const t=(0,o.c)(37),{cause:s,size:n,disableDetailsDialog:p,noBg:f}=e,g=void 0===n?"sm":n,x=(0,c.useTheme)(),_=(0,u.useModerationDetailsDialogControl)(),y=(0,i.useModerationCauseDescription)(s),b=Boolean(y.sourceType&&y.sourceDid),j="labeler"===y.sourceType&&y.sourceDid===r.BSKY_LABELER_DID;let v;e:{if("lg"===g){let e,s,o,n;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={gap:5,paddingHorizontal:5,paddingVertical:5},t[0]=e):e=t[0],t[1]!==x.atoms.bg_contrast_25?(s=[x.atoms.bg_contrast_25,e],t[1]=x.atoms.bg_contrast_25,t[2]=s):s=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(o=[c.atoms.text_sm],t[3]=o):o=t[3],t[4]!==s?(n={outer:s,avi:16,text:o},t[4]=s,t[5]=n):n=t[5],v=n;break e}{const e=!f&&x.atoms.bg_contrast_25;let s,o,n,a;t[6]===Symbol.for("react.memo_cache_sentinel")?(s={gap:3,paddingHorizontal:3,paddingVertical:3},t[6]=s):s=t[6],t[7]!==e?(o=[e,s],t[7]=e,t[8]=o):o=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(n=[c.atoms.text_xs],t[9]=n):n=t[9],t[10]!==o?(a={outer:o,avi:12,text:n},t[10]=o,t[11]=a):a=t[11],v=a}}const{outer:S,avi:w,text:T}=v;let k,C,I,A,P;return t[12]!==_?(k=e=>{e.preventDefault(),e.stopPropagation(),_.open()},t[12]=_,t[13]=k):k=t[13],t[14]!==w||t[15]!==y.icon||t[16]!==y.name||t[17]!==y.sourceAvi||t[18]!==j||t[19]!==b||t[20]!==S||t[21]!==x.atoms.bg_contrast_50||t[22]!==x.atoms.text_contrast_medium||t[23]!==T?(C=e=>{const{hovered:t,pressed:s}=e;return(0,h.jsxs)(a.default,{style:[c.atoms.flex_row,c.atoms.align_center,c.atoms.rounded_full,S,(t||s)&&x.atoms.bg_contrast_50],children:[j||!b?(0,h.jsx)(y.icon,{width:w,fill:x.atoms.text_contrast_medium.color}):(0,h.jsx)(l.UserAvatar,{avatar:y.sourceAvi,type:"user",size:w}),(0,h.jsx)(m.Text,{emoji:!0,style:[T,c.atoms.font_semi_bold,c.atoms.leading_tight,x.atoms.text_contrast_medium,{paddingRight:3}],children:y.name})]})},t[14]=w,t[15]=y.icon,t[16]=y.name,t[17]=y.sourceAvi,t[18]=j,t[19]=b,t[20]=S,t[21]=x.atoms.bg_contrast_50,t[22]=x.atoms.text_contrast_medium,t[23]=T,t[24]=C):C=t[24],t[25]!==y.name||t[26]!==p||t[27]!==k||t[28]!==C?(I=(0,h.jsx)(d.Button,{disabled:p,label:y.name,onPress:k,children:C}),t[25]=y.name,t[26]=p,t[27]=k,t[28]=C,t[29]=I):I=t[29],t[30]!==s||t[31]!==_||t[32]!==p?(A=!p&&(0,h.jsx)(u.ModerationDetailsDialog,{control:_,modcause:s}),t[30]=s,t[31]=_,t[32]=p,t[33]=A):A=t[33],t[34]!==I||t[35]!==A?(P=(0,h.jsxs)(h.Fragment,{children:[I,A]}),t[34]=I,t[35]=A,t[36]=P):P=t[36],P}function g(e){const t=(0,o.c)(6),{size:s}=e,r=(0,c.useTheme)();{let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{paddingHorizontal:6,paddingVertical:3,borderRadius:4}],t[0]=e):e=t[0];const s=e;let o,i,l;return t[1]!==r.atoms.bg_contrast_50?(o=[s,c.atoms.justify_center,r.atoms.bg_contrast_50],t[1]=r.atoms.bg_contrast_50,t[2]=o):o=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,h.jsx)(m.Text,{style:[c.atoms.text_xs,c.atoms.leading_tight],children:(0,h.jsx)(n.Trans,{id:"uFClMN"})}),t[3]=i):i=t[3],t[4]!==o?(l=(0,h.jsx)(a.default,{style:o,children:i}),t[4]=o,t[5]=l):l=t[5],l}}},91736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Outlet:()=>c,Portal:()=>d,Provider:()=>l,createPortalGroup:()=>r});var o=s(15991),n=s(95004),a=s(2629);function r(){const e=(0,n.createContext)({outlet:null,append:()=>{},remove:()=>{}});return e.displayName="PortalContext",{Provider:function(t){const s=(0,o.c)(8);let r;s[0]===Symbol.for("react.memo_cache_sentinel")?(r={},s[0]=r):r=s[0];const i=(0,n.useRef)(r),[l,c]=(0,n.useState)(null);let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=(e,t)=>{i.current[e]||(i.current[e]=(0,a.jsx)(n.Fragment,{children:t},e),c((0,a.jsx)(a.Fragment,{children:Object.values(i.current)})))},s[1]=d):d=s[1];const u=d;let m;s[2]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{i.current[e]=null,c((0,a.jsx)(a.Fragment,{children:Object.values(i.current)}))},s[2]=m):m=s[2];const h=m;let p;s[3]!==l?(p={outlet:l,append:u,remove:h},s[3]=l,s[4]=p):p=s[4];const f=p;let g;return s[5]!==f||s[6]!==t.children?(g=(0,a.jsx)(e.Provider,{value:f,children:t.children}),s[5]=f,s[6]=t.children,s[7]=g):g=s[7],g},Outlet:function(){return(0,n.useContext)(e).outlet},Portal:function(t){const s=(0,o.c)(6),{children:a}=t,{append:r,remove:i}=(0,n.useContext)(e),l=(0,n.useId)();let c,d;return s[0]!==r||s[1]!==a||s[2]!==l||s[3]!==i?(c=()=>(r(l,a),()=>i(l)),d=[l,a,r,i],s[0]=r,s[1]=a,s[2]=l,s[3]=i,s[4]=c,s[5]=d):(c=s[4],d=s[5]),(0,n.useEffect)(c,d),null}}}const i=r(),l=i.Provider,c=i.Outlet,d=i.Portal},42741:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Avatar:()=>M,AvatarPlaceholder:()=>F,Card:()=>R,Default:()=>L,Description:()=>G,DescriptionPlaceholder:()=>q,FollowButton:()=>Q,FollowButtonInner:()=>K,FollowButtonPlaceholder:()=>Z,Handle:()=>z,Header:()=>D,Labels:()=>Y,Link:()=>O,Name:()=>V,NameAndHandle:()=>N,NameAndHandlePlaceholder:()=>U,NamePlaceholder:()=>W,Outer:()=>B});var o=s(63366),n=s(15991),a=(s(95004),s(67842)),r=s(66949),i=s(96963),l=s(6831),c=s(44959),d=s(40228),u=s(84008),m=s(21605),h=s(56947),p=s(56436),f=s(13369),g=s(97154),x=s(70341),_=s(32720),y=s(19552),b=s(51536),j=s(84639),v=s(4557),S=s(96449),w=s(32581),T=s(72978),k=s(23486),C=s(57325),I=s(35851),A=s(2629);const P=["profile","children","style"],E=["profile","moderationOpts","logContext","onPress","onFollow","colorInverted","withIcon","position","contextProfileDid"];function L(e){const t=(0,n.c)(10),{profile:s,moderationOpts:o,logContext:a,testID:r,position:i,contextProfileDid:l}=e,c=void 0===a?"ProfileCard":a;let d,u;return t[0]!==l||t[1]!==c||t[2]!==o||t[3]!==i||t[4]!==s?(d=(0,A.jsx)(R,{profile:s,moderationOpts:o,logContext:c,position:i,contextProfileDid:l}),t[0]=l,t[1]=c,t[2]=o,t[3]=i,t[4]=s,t[5]=d):d=t[5],t[6]!==s||t[7]!==d||t[8]!==r?(u=(0,A.jsx)(O,{testID:r,profile:s,children:d}),t[6]=s,t[7]=d,t[8]=r,t[9]=u):u=t[9],u}function R(e){const t=(0,n.c)(23),{profile:s,moderationOpts:o,logContext:a,position:r,contextProfileDid:i}=e,l=void 0===a?"ProfileCard":a;let c,d,u,m,h,p,f;return t[0]!==o||t[1]!==s?(c=(0,A.jsx)(M,{profile:s,moderationOpts:o}),d=(0,A.jsx)(N,{profile:s,moderationOpts:o}),t[0]=o,t[1]=s,t[2]=c,t[3]=d):(c=t[2],d=t[3]),t[4]!==i||t[5]!==l||t[6]!==o||t[7]!==r||t[8]!==s?(u=(0,A.jsx)(Q,{profile:s,moderationOpts:o,logContext:l,position:r,contextProfileDid:i}),t[4]=i,t[5]=l,t[6]=o,t[7]=r,t[8]=s,t[9]=u):u=t[9],t[10]!==c||t[11]!==d||t[12]!==u?(m=(0,A.jsxs)(D,{children:[c,d,u]}),t[10]=c,t[11]=d,t[12]=u,t[13]=m):m=t[13],t[14]!==o||t[15]!==s?(h=(0,A.jsx)(Y,{profile:s,moderationOpts:o}),t[14]=o,t[15]=s,t[16]=h):h=t[16],t[17]!==s?(p=(0,A.jsx)(G,{profile:s}),t[17]=s,t[18]=p):p=t[18],t[19]!==m||t[20]!==h||t[21]!==p?(f=(0,A.jsxs)(B,{children:[m,h,p]}),t[19]=m,t[20]=h,t[21]=p,t[22]=f):f=t[22],f}function B(e){const t=(0,n.c)(3),{children:s}=e;let o,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[y.atoms.w_full,y.atoms.flex_1,y.atoms.gap_xs],t[0]=o):o=t[0],t[1]!==s?(r=(0,A.jsx)(a.default,{style:o,children:s}),t[1]=s,t[2]=r):r=t[2],r}function D(e){const t=(0,n.c)(3),{children:s}=e;let o,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[y.atoms.flex_row,y.atoms.align_center,y.atoms.gap_sm],t[0]=o):o=t[0],t[1]!==s?(r=(0,A.jsx)(a.default,{style:o,children:s}),t[1]=s,t[2]=r):r=t[2],r}function O(e){const t=(0,n.c)(19);let s,a,r,l;if(t[0]!==e){var c=e;({profile:a,children:s,style:l}=c),r=(0,o.default)(c,P),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=l}else s=t[1],a=t[2],r=t[3],l=t[4];const{_:d}=(0,i.useLingui)();let u,m,p,f;return t[5]!==d||t[6]!==a.displayName||t[7]!==a.handle?(u=d({id:"tBW0ZQ",values:{0:a.displayName||(0,h.sanitizeHandle)(a.handle)}}),t[5]=d,t[6]=a.displayName,t[7]=a.handle,t[8]=u):u=t[8],t[9]!==a.did?(m={screen:"Profile",params:{name:a.did}},t[9]=a.did,t[10]=m):m=t[10],t[11]!==l?(p=[y.atoms.flex_col,l],t[11]=l,t[12]=p):p=t[12],t[13]!==s||t[14]!==r||t[15]!==u||t[16]!==m||t[17]!==p?(f=(0,A.jsx)(S.Link,Object.assign({label:u,to:m,style:p},r,{children:s})),t[13]=s,t[14]=r,t[15]=u,t[16]=m,t[17]=p,t[18]=f):f=t[18],f}function M(e){const{profile:t,moderationOpts:s,onPress:o,disabledPreview:n,liveOverride:a,size:i}=e,c=void 0===i?40:i,d=(0,r.moderateProfile)(t,s),{isActive:u}=(0,l.useActorStatus)(t);return n?(0,A.jsx)(_.UserAvatar,{size:c,avatar:t.avatar,type:t.associated?.labeler?"labeler":"user",moderation:d.ui("avatar"),live:a??u}):(0,A.jsx)(_.PreviewableUserAvatar,{size:c,profile:t,moderation:d.ui("avatar"),onBeforePress:o,live:a??u})}function F(e){const t=(0,n.c)(5),{size:s}=e,o=void 0===s?40:s,r=(0,y.useTheme)();let i,l;return t[0]!==o?(i={width:o,height:o},t[0]=o,t[1]=i):i=t[1],t[2]!==r.atoms.bg_contrast_25||t[3]!==i?(l=(0,A.jsx)(a.default,{style:[y.atoms.rounded_full,r.atoms.bg_contrast_25,i]}),t[2]=r.atoms.bg_contrast_25,t[3]=i,t[4]=l):l=t[4],l}function N(e){const t=(0,n.c)(12),{profile:s,moderationOpts:o,inline:r}=e;if(void 0!==r&&r){let e;return t[0]!==o||t[1]!==s?(e=(0,A.jsx)(H,{profile:s,moderationOpts:o}),t[0]=o,t[1]=s,t[2]=e):e=t[2],e}{let e,n,r,i;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=[y.atoms.flex_1],t[3]=e):e=t[3],t[4]!==o||t[5]!==s?(n=(0,A.jsx)(V,{profile:s,moderationOpts:o}),t[4]=o,t[5]=s,t[6]=n):n=t[6],t[7]!==s?(r=(0,A.jsx)(z,{profile:s}),t[7]=s,t[8]=r):r=t[8],t[9]!==n||t[10]!==r?(i=(0,A.jsxs)(a.default,{style:e,children:[n,r]}),t[9]=n,t[10]=r,t[11]=i):i=t[11],i}}function H(e){const t=(0,n.c)(35),{profile:s,moderationOpts:o}=e,i=(0,y.useTheme)();let l;t[0]!==s?(l={profile:s},t[0]=s,t[1]=l):l=t[1];const c=(0,C.useSimpleVerificationState)(l);let p,f,g,x,_,b,j,v,S,w,T,P;if(t[2]!==o||t[3]!==s){const e=(0,r.moderateProfile)(s,o),n=(0,m.sanitizeDisplayName)(s.displayName||(0,h.sanitizeHandle)(s.handle),e.ui("displayName"));g=(0,h.sanitizeHandle)(s.handle,"@"),f=a.default,t[12]===Symbol.for("react.memo_cache_sentinel")?(v=[y.atoms.flex_row,y.atoms.align_end,y.atoms.flex_shrink],t[12]=v):v=t[12],p=k.Text,x=!0,t[13]===Symbol.for("react.memo_cache_sentinel")?(_=[y.atoms.font_semi_bold,y.atoms.leading_tight,y.atoms.flex_shrink_0,{maxWidth:"70%"}],t[13]=_):_=t[13],b=1,j=(0,d.forceLTR)(n),t[2]=o,t[3]=s,t[4]=p,t[5]=f,t[6]=g,t[7]=x,t[8]=_,t[9]=b,t[10]=j,t[11]=v}else p=t[4],f=t[5],g=t[6],x=t[7],_=t[8],b=t[9],j=t[10],v=t[11];t[14]!==p||t[15]!==x||t[16]!==_||t[17]!==b||t[18]!==j?(S=(0,A.jsx)(p,{emoji:x,style:_,numberOfLines:b,children:j}),t[14]=p,t[15]=x,t[16]=_,t[17]=b,t[18]=j,t[19]=S):S=t[19],t[20]!==c.role||t[21]!==c.showBadge?(w=c.showBadge&&(0,A.jsx)(a.default,{style:[y.atoms.pl_2xs,y.atoms.self_center,{marginTop:(0,y.platform)({default:0,android:-1})}],children:(0,A.jsx)(I.VerificationCheck,{width:(0,y.platform)({android:13,default:12}),verifier:"verifier"===c.role})}),t[20]=c.role,t[21]=c.showBadge,t[22]=w):w=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(T={flexShrink:10},t[23]=T):T=t[23],t[24]!==i.atoms.text_contrast_medium?(P=[y.atoms.leading_tight,i.atoms.text_contrast_medium,T],t[24]=i.atoms.text_contrast_medium,t[25]=P):P=t[25];const E=u.NON_BREAKING_SPACE+g;let L,R;return t[26]!==P||t[27]!==E?(L=(0,A.jsx)(k.Text,{emoji:!0,style:P,numberOfLines:1,children:E}),t[26]=P,t[27]=E,t[28]=L):L=t[28],t[29]!==f||t[30]!==L||t[31]!==v||t[32]!==S||t[33]!==w?(R=(0,A.jsxs)(f,{style:v,children:[S,w,L]}),t[29]=f,t[30]=L,t[31]=v,t[32]=S,t[33]=w,t[34]=R):R=t[34],R}function V(e){const t=(0,n.c)(19),{profile:s,moderationOpts:o,style:i,textStyle:l}=e;let c;if(t[0]!==o||t[1]!==s){const e=(0,r.moderateProfile)(s,o);c=(0,m.sanitizeDisplayName)(s.displayName||(0,h.sanitizeHandle)(s.handle),e.ui("displayName")),t[0]=o,t[1]=s,t[2]=c}else c=t[2];const d=c;let u;t[3]!==s?(u={profile:s},t[3]=s,t[4]=u):u=t[4];const p=(0,C.useSimpleVerificationState)(u);let f,g,x,_,b;return t[5]!==i?(f=[y.atoms.flex_row,y.atoms.align_center,y.atoms.max_w_full,i],t[5]=i,t[6]=f):f=t[6],t[7]!==l?(g=[y.atoms.text_md,y.atoms.font_semi_bold,y.atoms.leading_snug,y.atoms.self_start,y.atoms.flex_shrink,l],t[7]=l,t[8]=g):g=t[8],t[9]!==d||t[10]!==g?(x=(0,A.jsx)(k.Text,{emoji:!0,style:g,numberOfLines:1,children:d}),t[9]=d,t[10]=g,t[11]=x):x=t[11],t[12]!==p.role||t[13]!==p.showBadge?(_=p.showBadge&&(0,A.jsx)(a.default,{style:[y.atoms.pl_xs],children:(0,A.jsx)(I.VerificationCheck,{width:14,verifier:"verifier"===p.role})}),t[12]=p.role,t[13]=p.showBadge,t[14]=_):_=t[14],t[15]!==f||t[16]!==x||t[17]!==_?(b=(0,A.jsxs)(a.default,{style:f,children:[x,_]}),t[15]=f,t[16]=x,t[17]=_,t[18]=b):b=t[18],b}function z(e){const t=(0,n.c)(8),{profile:s,textStyle:o}=e,a=(0,y.useTheme)();let r;t[0]!==s.handle?(r=(0,h.sanitizeHandle)(s.handle,"@"),t[0]=s.handle,t[1]=r):r=t[1];const i=r;let l,c;return t[2]!==a.atoms.text_contrast_medium||t[3]!==o?(l=[y.atoms.leading_snug,a.atoms.text_contrast_medium,o],t[2]=a.atoms.text_contrast_medium,t[3]=o,t[4]=l):l=t[4],t[5]!==i||t[6]!==l?(c=(0,A.jsx)(k.Text,{emoji:!0,style:l,numberOfLines:1,children:i}),t[5]=i,t[6]=l,t[7]=c):c=t[7],c}function U(){const e=(0,n.c)(10),t=(0,y.useTheme)();let s,o,r,i,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[y.atoms.flex_1,y.atoms.gap_xs],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o={width:"60%",height:14},e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_25?(r=(0,A.jsx)(a.default,{style:[y.atoms.rounded_xs,t.atoms.bg_contrast_25,o]}),e[2]=t.atoms.bg_contrast_25,e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(i={width:"40%",height:10},e[4]=i):i=e[4],e[5]!==t.atoms.bg_contrast_25?(l=(0,A.jsx)(a.default,{style:[y.atoms.rounded_xs,t.atoms.bg_contrast_25,i]}),e[5]=t.atoms.bg_contrast_25,e[6]=l):l=e[6],e[7]!==r||e[8]!==l?(c=(0,A.jsxs)(a.default,{style:s,children:[r,l]}),e[7]=r,e[8]=l,e[9]=c):c=e[9],c}function W(e){const t=(0,n.c)(4),{style:s}=e,o=(0,y.useTheme)();let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={width:"60%",height:14},t[0]=r):r=t[0],t[1]!==s||t[2]!==o.atoms.bg_contrast_25?(i=(0,A.jsx)(a.default,{style:[y.atoms.rounded_xs,o.atoms.bg_contrast_25,r,s]}),t[1]=s,t[2]=o.atoms.bg_contrast_25,t[3]=i):i=t[3],i}function G(e){const t=(0,n.c)(7),{profile:s,numberOfLines:o,style:i}=e,l=void 0===o?3:o,c=(0,p.useProfileShadow)(s);let d;e:{if(!("description"in c)){d=void 0;break e}const e=c.description||"";let s;t[0]!==e?(s=new r.RichText({text:e}),s.detectFacetsWithoutResolution(),t[0]=e,t[1]=s):s=t[1],d=s}const u=d;if(!u)return null;if(c.viewer&&(c.viewer.blockedBy||c.viewer.blocking||c.viewer.blockingByList))return null;let m,h;return t[2]===Symbol.for("react.memo_cache_sentinel")?(m=[y.atoms.pt_xs],t[2]=m):m=t[2],t[3]!==l||t[4]!==u||t[5]!==i?(h=(0,A.jsx)(a.default,{style:m,children:(0,A.jsx)(T.RichText,{value:u,style:i,numberOfLines:l,disableLinks:!0})}),t[3]=l,t[4]=u,t[5]=i,t[6]=h):h=t[6],h}function q(e){const t=(0,n.c)(6),{numberOfLines:s}=e,o=void 0===s?3:s,r=(0,y.useTheme)();let i,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[y.atoms.pt_2xs,{gap:6}],t[0]=i):i=t[0],t[1]!==o||t[2]!==r?(l=Array(o).fill(0).map(((e,t)=>(0,A.jsx)(a.default,{style:[y.atoms.rounded_xs,y.atoms.w_full,r.atoms.bg_contrast_25,{height:12,width:t+1===o?"60%":"100%"}]},t))),t[1]=o,t[2]=r,t[3]=l):l=t[3],t[4]!==l?(c=(0,A.jsx)(a.default,{style:i,children:l}),t[4]=l,t[5]=c):c=t[5],c}function Q(e){const t=(0,n.c)(4),{currentAccount:s,hasSession:o}=(0,g.useSession)(),a=e.profile.did===s?.did;let r;return t[0]!==o||t[1]!==a||t[2]!==e?(r=o&&!a?(0,A.jsx)(K,Object.assign({},e)):null,t[0]=o,t[1]=a,t[2]=e,t[3]=r):r=t[3],r}function K(e){let{profile:t,moderationOpts:s,logContext:n,onPress:l,onFollow:c,colorInverted:d,withIcon:u=!0,position:h,contextProfileDid:g}=e,_=(0,o.default)(e,E);const{_:y}=(0,i.useLingui)(),S=(0,p.useProfileShadow)(t),w=(0,r.moderateProfile)(S,s),[T,k]=(0,f.useProfileFollowMutationQueue)(S,n,h,g),C=Boolean(_.shape&&"round"===_.shape),I=y({id:"y6sq5j"}),P=S.viewer?.followedBy?y({id:"W/YewJ"}):y({id:"MKEPCY"});return S.viewer?S.viewer.blockedBy||S.viewer.blocking||S.viewer.blockingByList?null:(0,A.jsx)(a.default,{children:S.viewer.following?(0,A.jsxs)(b.Button,Object.assign({label:I,size:"small",variant:"solid",color:"secondary"},_,{onPress:async e=>{e.preventDefault(),e.stopPropagation();try{await k(),x.show(y({id:"breD6O",values:{0:(0,m.sanitizeDisplayName)(S.displayName||S.handle,w.ui("displayName"))}})),l?.(e)}catch(t){"AbortError"!==t?.name&&x.show(y({id:"4mbOSx"}),"xmark")}},children:[u&&(0,A.jsx)(b.ButtonIcon,{icon:j.Check_Stroke2_Corner0_Rounded,position:C?void 0:"left"}),C?null:(0,A.jsx)(b.ButtonText,{children:I})]})):(0,A.jsxs)(b.Button,Object.assign({label:P,size:"small",variant:"solid",color:d?"secondary_inverted":"primary"},_,{onPress:async e=>{e.preventDefault(),e.stopPropagation();try{await T(),x.show(y({id:"qrhIYl",values:{0:(0,m.sanitizeDisplayName)(S.displayName||S.handle,w.ui("displayName"))}})),l?.(e),c?.()}catch(t){"AbortError"!==t?.name&&x.show(y({id:"4mbOSx"}),"xmark")}},children:[u&&(0,A.jsx)(b.ButtonIcon,{icon:v.PlusLarge_Stroke2_Corner0_Rounded,position:C?void 0:"left"}),C?null:(0,A.jsx)(b.ButtonText,{children:P})]}))}):null}function Z(e){const t=(0,n.c)(4),{style:s}=e,o=(0,y.useTheme)();let r,i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={height:33},t[0]=r):r=t[0],t[1]!==s||t[2]!==o.atoms.bg_contrast_25?(i=(0,A.jsx)(a.default,{style:[y.atoms.rounded_sm,o.atoms.bg_contrast_25,y.atoms.w_full,r,s]}),t[1]=s,t[2]=o.atoms.bg_contrast_25,t[3]=i):i=t[3],i}function Y(e){const t=(0,n.c)(7),{profile:s,moderationOpts:o}=e;let a,i;if(t[0]!==o||t[1]!==s){i=Symbol.for("react.early_return_sentinel");e:{const e=(0,r.moderateProfile)(s,o).ui("profileList"),n=s.viewer?.followedBy;if(!n&&!e.inform&&!e.alert){i=null;break e}let l,c;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[y.atoms.pt_xs],t[4]=l):l=t[4],t[5]!==n?(c=n&&(0,A.jsx)(w.FollowsYou,{}),t[5]=n,t[6]=c):c=t[6],a=(0,A.jsxs)(w.Row,{style:l,children:[c,e.alerts.map(X),e.informs.map($)]})}t[0]=o,t[1]=s,t[2]=a,t[3]=i}else a=t[2],i=t[3];return i!==Symbol.for("react.early_return_sentinel")?i:a}function $(e){return(0,A.jsx)(w.Label,{cause:e},(0,c.getModerationCauseKey)(e))}function X(e){return(0,A.jsx)(w.Label,{cause:e},(0,c.getModerationCauseKey)(e))}},93621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ProfileHoverCard:()=>W,ProfileHoverCardInner:()=>Z});var o=s(15991),n=s(95004),a=s(67842),r=s(66949),i=s(22053),l=s(54881),c=s(81821),d=s(96963),u=s(3611),m=s(6831),h=s(44959),p=s(35938),f=s(21605),g=s(56947),x=s(56436),_=s(15874),y=s(13369),b=s(97154),j=s(66776),v=s(32720),S=s(59857),w=s(19552),T=s(51536),k=s(5295),C=s(70341);var I=s(37777),A=s(84639),P=s(4557),E=s(81566),L=s(96449),R=s(21934),B=s(50788),D=s(32581),O=s(91736),M=s(72978),F=s(23486),N=s(57325),H=s(35851),V=s(43535),z=s(2629);const U=[(0,i.offset)(4),(0,l.flip)({padding:16}),(0,l.shift)({padding:16}),(0,l.size)({padding:16,apply({availableWidth:e,availableHeight:t,elements:s}){Object.assign(s.floating.style,{maxWidth:`${e}px`,maxHeight:`${t}px`})}})];function W(e){const t=(0,o.c)(12),s=(0,y.usePrefetchProfileQuery)(),r=n.useRef(!1);let i;t[0]!==s||t[1]!==e.did?(i=()=>{r.current||(r.current=!0,s(e.did))},t[0]=s,t[1]=e.did,t[2]=i):i=t[2];const l=i;if(e.disable||V.IS_WEB_TOUCH_DEVICE)return e.children;{const s=e.inline&&w.atoms.inline;let o,n,r;return t[3]!==e.style||t[4]!==s?(o=[w.atoms.flex_shrink,s,e.style],t[3]=e.style,t[4]=s,t[5]=o):o=t[5],t[6]!==e?(n=(0,z.jsx)(Z,Object.assign({},e)),t[6]=e,t[7]=n):n=t[7],t[8]!==l||t[9]!==o||t[10]!==n?(r=(0,z.jsx)(a.default,{onPointerMove:l,style:o,children:n}),t[8]=l,t[9]=o,t[10]=n,t[11]=r):r=t[11],r}}const G=500,q=300,Q=150,K=200;function Z(e){const t=(0,u.useNavigation)(),{refs:s,floatingStyles:o}=(0,c.useFloating)({middleware:U}),[r,i]=n.useReducer(((e,t)=>{if("pressed"===t)return{stage:"hidden"};if("hidden"===e.stage&&"hovered-target"===t)return function({waitMs:e=G,reason:t}){return{stage:"might-show",reason:t,effect(){const t=setTimeout((()=>i("hovered-long-enough")),e);return()=>{clearTimeout(t)}}}}({reason:t});if("might-show"===e.stage){if("unhovered-target"===t||"unhovered-card"===t)return{stage:"hidden"};if("hovered-long-enough"===t)return s({reason:e.reason})}function s({reason:e}){return{stage:"showing",reason:e,effect(){function e(){i("scrolled-while-showing")}return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}}}if("showing"===e.stage){if("unhovered-target"===t||"unhovered-card"===t)return function({waitMs:e=Q}={}){return{stage:"might-hide",effect(){const t=setTimeout((()=>i("unhovered-long-enough")),e);return()=>clearTimeout(t)}}}();if("hovered-target"===e.reason&&"scrolled-while-showing"===t)return o()}if("might-hide"===e.stage){if("hovered-target"===t||"hovered-card"===t)return s({reason:t});if("unhovered-long-enough"===t)return o()}function o({animationDurationMs:e=K}={}){return{stage:"hiding",effect(){const t=setTimeout((()=>i("finished-animating-hide")),e);return()=>clearTimeout(t)}}}return"hiding"===e.stage&&"finished-animating-hide"===t?{stage:"hidden"}:e}),{stage:"hidden"});n.useEffect((()=>{if(r.effect){return(0,r.effect)()}}),[r]);const l=(0,y.usePrefetchProfileQuery)(),d=n.useRef(!1),m=n.useCallback((async()=>{d.current||(d.current=!0,l(e.did))}),[l,e.did]),h=n.useRef(!1),p=n.useCallback((()=>{m(),h.current||(h.current=!0,i("hovered-target"))}),[m]),f=n.useCallback((()=>{h.current=!1,i("unhovered-target")}),[]),g=n.useCallback((()=>{i("hovered-card")}),[]),x=n.useCallback((()=>{i("unhovered-card")}),[]),_=n.useCallback((()=>{i("pressed")}),[]),b="showing"===r.stage||"might-hide"===r.stage||"hiding"===r.stage,j={animation:"hiding"===r.stage?`fadeOut ${K}ms both`:`fadeIn ${q}ms both`};return(0,z.jsxs)(a.default,{ref:s.setReference,onPointerMove:p,onPointerLeave:f,onMouseUp:_,style:[w.atoms.flex_shrink,e.inline&&w.atoms.inline],children:[e.children,b&&(0,z.jsx)(O.Portal,{children:(0,z.jsx)("div",{ref:s.setFloating,style:o,onPointerEnter:g,onPointerLeave:x,children:(0,z.jsx)("div",{style:Object.assign({willChange:"transform"},j),children:(0,z.jsx)(Y,{did:e.did,hide:_,navigation:t})})})})]})}let Y=e=>{const t=(0,o.c)(24),{did:s,hide:n,navigation:r}=e,i=(0,w.useTheme)();let l;t[0]!==s?(l={did:s},t[0]=s,t[1]=l):l=t[1];const c=(0,y.useProfileQuery)(l),d=(0,_.useModerationOpts)(),u=c.data,h=(0,m.useActorStatus)(u);let p;t[2]!==u||t[3]!==n||t[4]!==r||t[5]!==h.isActive?(p=()=>{h.isActive&&u&&(n(),r.push("Profile",{name:u.handle}))},t[2]=u,t[3]=n,t[4]=r,t[5]=h.isActive,t[6]=p):p=t[6];const f=p,g=!h.isActive&&w.atoms.p_lg,x=h.isActive?350:300;let b,j,v,S;return t[7]!==x?(b={width:x},t[7]=x,t[8]=b):b=t[8],t[9]!==i.atoms.bg||t[10]!==i.atoms.border_contrast_low||t[11]!==i.atoms.shadow_lg||t[12]!==g||t[13]!==b?(j=[g,w.atoms.border,w.atoms.rounded_md,w.atoms.overflow_hidden,i.atoms.bg,i.atoms.border_contrast_low,i.atoms.shadow_lg,b,w.atoms.max_w_full],t[9]=i.atoms.bg,t[10]=i.atoms.border_contrast_low,t[11]=i.atoms.shadow_lg,t[12]=g,t[13]=b,t[14]=j):j=t[14],t[15]!==u||t[16]!==n||t[17]!==d||t[18]!==f||t[19]!==h?(v=u&&d?h.isActive?(0,z.jsx)(R.LiveStatus,{status:h,profile:u,embed:h.embed,padding:"lg",onPressOpenProfile:f}):(0,z.jsx)($,{profile:u,moderationOpts:d,hide:n}):(0,z.jsx)(a.default,{style:[w.atoms.justify_center,w.atoms.align_center,{minHeight:200},w.atoms.w_full],children:(0,z.jsx)(B.Loader,{size:"xl"})}),t[15]=u,t[16]=n,t[17]=d,t[18]=f,t[19]=h,t[20]=v):v=t[20],t[21]!==j||t[22]!==v?(S=(0,z.jsx)(a.default,{style:j,children:v}),t[21]=j,t[22]=v,t[23]=S):S=t[23],S};function $({profile:e,moderationOpts:t,hide:s}){const i=(0,w.useTheme)(),{_:l,i18n:c}=(0,d.useLingui)(),{currentAccount:u}=(0,b.useSession)(),m=n.useMemo((()=>(0,r.moderateProfile)(e,t)),[e,t]),[_]=(0,I.useRichText)(e.description??""),R=(0,x.useProfileShadow)(e),{follow:B,unfollow:O}=function(e){const t=(0,o.c)(11),{profile:s,logContext:n}=e,{_:a}=(0,d.useLingui)(),r=(0,b.useRequireAuth)(),[i,l]=(0,y.useProfileFollowMutationQueue)(s,n);let c;t[0]!==a||t[1]!==i||t[2]!==r?(c=()=>{r((async()=>{try{await i()}catch(m){const t=m;k.logger.error("useFollowMethods: failed to follow",{message:String(t)}),"AbortError"!==t?.name&&C.show(a({id:"4mbOSx"}),"xmark")}}))},t[0]=a,t[1]=i,t[2]=r,t[3]=c):c=t[3];const u=c;let m;t[4]!==a||t[5]!==l||t[6]!==r?(m=()=>{r((async()=>{try{await l()}catch(p){const t=p;k.logger.error("useFollowMethods: failed to unfollow",{message:String(t)}),"AbortError"!==t?.name&&C.show(a({id:"4mbOSx"}),"xmark")}}))},t[4]=a,t[5]=l,t[6]=r,t[7]=m):m=t[7];const h=m;let p;return t[8]!==u||t[9]!==h?(p={follow:u,unfollow:h},t[8]=u,t[9]=h,t[10]=p):p=t[10],p}({profile:R,logContext:"ProfileHoverCard"}),V=e.viewer?.blocking||e.viewer?.blockedBy||e.viewer?.blockingByList,U=(0,j.formatCount)(c,e.followsCount||0),W=(0,j.formatCount)(c,e.followersCount||0),G=c._({id:"h2wkpN",values:{0:e.followersCount||0}}),q=c._({id:"DabnlM",values:{0:e.followsCount||0}}),Q=(0,p.makeProfileLink)({did:e.did,handle:e.handle}),K=n.useMemo((()=>u?.did===e.did),[u,e]),Z=e.associated?.labeler,Y=(0,N.useSimpleVerificationState)({profile:e});return(0,z.jsxs)(a.default,{children:[(0,z.jsxs)(a.default,{style:[w.atoms.flex_row,w.atoms.justify_between,w.atoms.align_start],children:[(0,z.jsx)(L.Link,{to:Q,label:l({id:"73lp8c"}),onPress:s,children:(0,z.jsx)(v.UserAvatar,{size:64,avatar:e.avatar,type:Z?"labeler":"user",moderation:m.ui("avatar")})}),!K&&!Z&&(V?(0,z.jsx)(L.Link,{to:Q,label:l({id:"zL1j3g"}),onPress:s,size:"small",color:"secondary",variant:"solid",style:[w.atoms.rounded_full],children:(0,z.jsx)(T.ButtonText,{children:l({id:"73lp8c"})})}):(0,z.jsxs)(T.Button,{size:"small",color:R.viewer?.following?"secondary":"primary",variant:"solid",label:R.viewer?.following?l({id:"y6sq5j"}):l({id:"MKEPCY"}),style:[w.atoms.rounded_full],onPress:R.viewer?.following?O:B,children:[(0,z.jsx)(T.ButtonIcon,{position:"left",icon:R.viewer?.following?A.Check_Stroke2_Corner0_Rounded:P.PlusLarge_Stroke2_Corner0_Rounded}),(0,z.jsx)(T.ButtonText,{children:R.viewer?.following?l({id:"y6sq5j"}):l({id:"MKEPCY"})})]}))]}),(0,z.jsx)(L.Link,{to:Q,label:l({id:"73lp8c"}),onPress:s,children:(0,z.jsxs)(a.default,{style:[w.atoms.pb_sm,w.atoms.flex_1],children:[(0,z.jsxs)(a.default,{style:[w.atoms.flex_row,w.atoms.align_center,w.atoms.pt_md,w.atoms.pb_xs],children:[(0,z.jsx)(F.Text,{numberOfLines:1,style:[w.atoms.text_lg,w.atoms.leading_snug,w.atoms.font_semi_bold,w.atoms.self_start],children:(0,f.sanitizeDisplayName)(e.displayName||(0,g.sanitizeHandle)(e.handle),m.ui("displayName"))}),Y.showBadge&&(0,z.jsx)(a.default,{style:[w.atoms.pl_xs,{marginTop:-2}],children:(0,z.jsx)(H.VerificationCheck,{width:16,verifier:"verifier"===Y.role})})]}),(0,z.jsx)(S.ProfileHeaderHandle,{profile:R,disableTaps:!0})]})}),V&&(0,z.jsx)(a.default,{style:[w.atoms.flex_row,w.atoms.flex_wrap,w.atoms.gap_xs],children:m.ui("profileView").alerts.map((e=>(0,z.jsx)(D.Label,{size:"lg",cause:e,disableDetailsDialog:!0},(0,h.getModerationCauseKey)(e))))}),!V&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.default,{style:[w.atoms.flex_row,w.atoms.flex_wrap,w.atoms.gap_md,w.atoms.pt_xs],children:[(0,z.jsxs)(L.InlineLinkText,{to:(0,p.makeProfileLink)(e,"followers"),label:`${W} ${G}`,style:[i.atoms.text],onPress:s,children:[(0,z.jsxs)(F.Text,{style:[w.atoms.text_md,w.atoms.font_semi_bold],children:[W," "]}),(0,z.jsx)(F.Text,{style:[i.atoms.text_contrast_medium],children:G})]}),(0,z.jsxs)(L.InlineLinkText,{to:(0,p.makeProfileLink)(e,"follows"),label:l({id:"0SbcnD",values:{following:U}}),style:[i.atoms.text],onPress:s,children:[(0,z.jsxs)(F.Text,{style:[w.atoms.text_md,w.atoms.font_semi_bold],children:[U," "]}),(0,z.jsx)(F.Text,{style:[i.atoms.text_contrast_medium],children:q})]})]}),e.description?.trim()&&!m.ui("profileView").blur?(0,z.jsx)(a.default,{style:[w.atoms.pt_md],children:(0,z.jsx)(M.RichText,{numberOfLines:8,value:_,onLinkPress:s})}):void 0,!K&&(0,E.shouldShowKnownFollowers)(e.viewer?.knownFollowers)&&(0,z.jsx)(a.default,{style:[w.atoms.flex_row,w.atoms.align_center,w.atoms.gap_sm,w.atoms.pt_md],children:(0,z.jsx)(E.KnownFollowers,{profile:e,moderationOpts:t,onLinkPress:s})})]})]})}Y=n.memo(Y)},77023:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Action:()=>y,Actions:()=>g,Basic:()=>b,Cancel:()=>_,Content:()=>x,DescriptionText:()=>f,Outer:()=>h,TitleText:()=>p,usePromptControl:()=>c.useDialogControl});var o=s(15991),n=s(95004),a=s(67842),r=s(96963),i=s(19552),l=s(51536),c=s(63410),d=s(23486),u=s(2629);const m=(0,n.createContext)({titleId:"",descriptionId:""});function h(e){const t=(0,o.c)(20),{children:s,control:a,testID:r,nativeOptions:l}=e,d=(0,n.useId)(),h=(0,n.useId)();let p;t[0]!==h||t[1]!==d?(p={titleId:d,descriptionId:h},t[0]=h,t[1]=d,t[2]=p):p=t[2];const f=p;let g,x,_,y,b,j,v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(g={alignCenter:!0},t[3]=g):g=t[3],t[4]!==l?(x=Object.assign({preventExpansion:!0},l),t[4]=l,t[5]=x):x=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(_=(0,u.jsx)(c.Handle,{}),t[6]=_):_=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.web)([{maxWidth:320,borderRadius:36}]),t[7]=y):y=t[7],t[8]!==s||t[9]!==h||t[10]!==d?(b=(0,u.jsx)(c.ScrollableInner,{accessibilityLabelledBy:d,accessibilityDescribedBy:h,style:y,children:s}),t[8]=s,t[9]=h,t[10]=d,t[11]=b):b=t[11],t[12]!==f||t[13]!==b?(j=(0,u.jsx)(m.Provider,{value:f,children:b}),t[12]=f,t[13]=b,t[14]=j):j=t[14],t[15]!==a||t[16]!==x||t[17]!==j||t[18]!==r?(v=(0,u.jsxs)(c.Outer,{control:a,testID:r,webOptions:g,nativeOptions:x,children:[_,j]}),t[15]=a,t[16]=x,t[17]=j,t[18]=r,t[19]=v):v=t[19],v}function p(e){const t=(0,o.c)(6),{children:s,style:a}=e,{titleId:r}=(0,n.useContext)(m);let l,c;return t[0]!==a?(l=[i.atoms.flex_1,i.atoms.text_2xl,i.atoms.font_semi_bold,i.atoms.pb_xs,i.atoms.leading_snug,a],t[0]=a,t[1]=l):l=t[1],t[2]!==s||t[3]!==l||t[4]!==r?(c=(0,u.jsx)(d.Text,{nativeID:r,style:l,children:s}),t[2]=s,t[3]=l,t[4]=r,t[5]=c):c=t[5],c}function f(e){const t=(0,o.c)(7),{children:s,selectable:a}=e,r=(0,i.useTheme)(),{descriptionId:l}=(0,n.useContext)(m);let c,h;return t[0]!==r.atoms.text_contrast_high?(c=[i.atoms.text_md,i.atoms.leading_snug,r.atoms.text_contrast_high,i.atoms.pb_lg],t[0]=r.atoms.text_contrast_high,t[1]=c):c=t[1],t[2]!==s||t[3]!==l||t[4]!==a||t[5]!==c?(h=(0,u.jsx)(d.Text,{nativeID:l,selectable:a,style:c,children:s}),t[2]=s,t[3]=l,t[4]=a,t[5]=c,t[6]=h):h=t[6],h}function g(e){const t=(0,o.c)(3),{children:s}=e;let n,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[i.atoms.w_full,i.atoms.gap_sm,i.atoms.justify_end],t[0]=n):n=t[0],t[1]!==s?(r=(0,u.jsx)(a.default,{style:n,children:s}),t[1]=s,t[2]=r):r=t[2],r}function x(e){const t=(0,o.c)(3),{children:s}=e;let n,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[i.atoms.pb_sm],t[0]=n):n=t[0],t[1]!==s?(r=(0,u.jsx)(a.default,{style:n,children:s}),t[1]=s,t[2]=r):r=t[2],r}function _(e){const t=(0,o.c)(14),{cta:s}=e,{_:n}=(0,r.useLingui)(),{close:a}=c.useDialogContext();let i;t[0]!==a?(i=()=>{a()},t[0]=a,t[1]=i):i=t[1];const d=i;let m,h,p,f;return t[2]!==n||t[3]!==s?(m=s||n({id:"dEgA5A"}),t[2]=n,t[3]=s,t[4]=m):m=t[4],t[5]!==n||t[6]!==s?(h=s||n({id:"dEgA5A"}),t[5]=n,t[6]=s,t[7]=h):h=t[7],t[8]!==h?(p=(0,u.jsx)(l.ButtonText,{children:h}),t[8]=h,t[9]=p):p=t[9],t[10]!==d||t[11]!==m||t[12]!==p?(f=(0,u.jsx)(l.Button,{variant:"solid",color:"secondary",size:"large",label:m,onPress:d,children:p}),t[10]=d,t[11]=m,t[12]=p,t[13]=f):f=t[13],f}function y(e){const t=(0,o.c)(17),{onPress:s,color:n,cta:a,testID:i}=e,d=void 0===n?"primary":n,{_:m}=(0,r.useLingui)(),{close:h}=c.useDialogContext();let p;t[0]!==h||t[1]!==s?(p=e=>{h((()=>s?.(e)))},t[0]=h,t[1]=s,t[2]=p):p=t[2];const f=p;let g,x,_,y;return t[3]!==m||t[4]!==a?(g=a||m({id:"7VpPHA"}),t[3]=m,t[4]=a,t[5]=g):g=t[5],t[6]!==m||t[7]!==a?(x=a||m({id:"7VpPHA"}),t[6]=m,t[7]=a,t[8]=x):x=t[8],t[9]!==x?(_=(0,u.jsx)(l.ButtonText,{children:x}),t[9]=x,t[10]=_):_=t[10],t[11]!==d||t[12]!==f||t[13]!==g||t[14]!==_||t[15]!==i?(y=(0,u.jsx)(l.Button,{color:d,size:"large",label:g,onPress:f,testID:i,children:_}),t[11]=d,t[12]=f,t[13]=g,t[14]=_,t[15]=i,t[16]=y):y=t[16],y}function b(e){const t=(0,o.c)(21),{control:s,title:n,description:a,cancelButtonCta:r,confirmButtonCta:i,onConfirm:l,confirmButtonColor:c,showCancel:d}=e,m=void 0===d||d;let b,j,v,S,w,T,k;return t[0]!==n?(b=(0,u.jsx)(p,{children:n}),t[0]=n,t[1]=b):b=t[1],t[2]!==a?(j=a&&(0,u.jsx)(f,{children:a}),t[2]=a,t[3]=j):j=t[3],t[4]!==b||t[5]!==j?(v=(0,u.jsxs)(x,{children:[b,j]}),t[4]=b,t[5]=j,t[6]=v):v=t[6],t[7]!==c||t[8]!==i||t[9]!==l?(S=(0,u.jsx)(y,{cta:i,onPress:l,color:c,testID:"confirmBtn"}),t[7]=c,t[8]=i,t[9]=l,t[10]=S):S=t[10],t[11]!==r||t[12]!==m?(w=m&&(0,u.jsx)(_,{cta:r}),t[11]=r,t[12]=m,t[13]=w):w=t[13],t[14]!==S||t[15]!==w?(T=(0,u.jsxs)(g,{children:[S,w]}),t[14]=S,t[15]=w,t[16]=T):T=t[16],t[17]!==s||t[18]!==v||t[19]!==T?(k=(0,u.jsxs)(h,{control:s,testID:"confirmModal",children:[v,T]}),t[17]=s,t[18]=v,t[19]=T,t[20]=k):k=t[20],k}m.displayName="PromptContext"},72978:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RichText:()=>k});var o=s(95004),n=s(66949),a=s(86731),r=s(19552),i=s(24834),l=s(96449),c=s(93621),d=s(33387),u=s(96963),m=s(3611),h=s(56947),p=s(86623),f=s(69121),g=s(66087),x=s(56694),_=s(50788),y=s(4544),b=s(43535),j=s(2629);function v({tag:e,display:t,authorHandle:s,textStyle:n}){const{_:a}=(0,u.useLingui)(),{isLoading:r,data:i}=(0,p.usePreferencesQuery)(),{mutateAsync:c,variables:v,reset:S}=(0,p.useUpsertMutedWordsMutation)(),{mutateAsync:w,variables:T,reset:k}=(0,p.useRemoveMutedWordsMutation)(),C=(0,m.useNavigation)(),I=e.startsWith("$"),A=a(I?{id:"0rorJg",values:{tag:e}}:{id:"/CBPmn",values:{tag:e}}),P=b.IS_NATIVE?a({id:"M8jkQa",values:{0:I?e:`#${e}`}}):a({id:"c7ZNql",values:{0:I?e:`#${e}`}}),E=Boolean((i?.moderationPrefs.mutedWords?.find((t=>t.value===e&&t.targets.includes("tag")))??v?.find((t=>t.value===e&&t.targets.includes("tag"))))&&!T?.find((t=>t?.value===e))),L=o.useMemo((()=>i?.moderationPrefs.mutedWords?.filter((t=>t.value===e))||[]),[e,i?.moderationPrefs?.mutedWords]);return(0,j.jsxs)(y.Root,{children:[(0,j.jsx)(y.Trigger,{label:A,hint:P,children:({props:s})=>(0,j.jsx)(l.InlineLinkText,Object.assign({to:{screen:"Hashtag",params:{tag:encodeURIComponent(e)}}},s,{onPress:e=>{if(b.IS_WEB)return(0,l.createStaticClickIfUnmodified)((()=>{b.IS_NATIVE||s.onPress()})).onPress(e)},onLongPress:(0,l.createStaticClick)(s.onPress).onPress,accessibilityHint:P,label:A,style:n,emoji:!0,children:b.IS_NATIVE?t:(0,j.jsx)(d.default,{ref:s.ref,children:t})}))}),(0,j.jsxs)(y.Outer,{children:[(0,j.jsxs)(y.Group,{children:[(0,j.jsxs)(y.Item,{label:a({id:"uvD9YU",values:{0:I?e:`#${e}`}}),onPress:()=>{C.push("Hashtag",{tag:encodeURIComponent(e)})},children:[(0,j.jsx)(y.ItemText,{children:I?(0,j.jsx)(u.Trans,{id:"KG+eSs",values:{tag:e}}):(0,j.jsx)(u.Trans,{id:"OZfdMZ",values:{tag:e}})}),(0,j.jsx)(y.ItemIcon,{icon:f.MagnifyingGlass_Stroke2_Corner0_Rounded})]}),s&&!(0,h.isInvalidHandle)(s)&&(0,j.jsxs)(y.Item,{label:a({id:"PovS8t",values:{0:I?e:`#${e}`}}),onPress:()=>{C.push("Hashtag",{tag:encodeURIComponent(e),author:s})},children:[(0,j.jsx)(y.ItemText,{children:I?(0,j.jsx)(u.Trans,{id:"HiXucB",values:{tag:e}}):(0,j.jsx)(u.Trans,{id:"TaznUg",values:{tag:e}})}),(0,j.jsx)(y.ItemIcon,{icon:x.Person_Stroke2_Corner0_Rounded})]})]}),(0,j.jsx)(y.Divider,{}),(0,j.jsxs)(y.Item,{label:a(E?{id:"UCD8QX",values:{tag:e}}:{id:"AY741l",values:{tag:e}}),onPress:()=>{E?(S(),w(L)):(k(),c([{value:e,targets:["tag"],actorTarget:"all"}]))},children:[(0,j.jsx)(y.ItemText,{children:a(E?{id:"UCD8QX",values:{tag:e}}:{id:"AY741l",values:{tag:e}})}),(0,j.jsx)(y.ItemIcon,{icon:r?_.Loader:g.Mute_Stroke2_Corner0_Rounded})]})]})]})}var S=s(23486);const w={wordWrap:1},T=/(^|\s|\()((https?:\/\/[\S]+)|((?<domain>[a-z][a-z0-9]*(\.[a-z0-9]+)+)[\S]*))/i;function k({testID:e,value:t,style:s,numberOfLines:d,disableLinks:u,selectable:m,enableTags:h=!1,authorHandle:p,onLinkPress:f,interactiveStyle:g,emojiMultiplier:x=1.85,onLayout:_,onTextLayout:y,shouldProxyLinks:b,disableMentionFacetValidation:k}){const C=(0,o.useMemo)((()=>{if(t instanceof n.RichText)return t;{const e=new n.RichText({text:t});return e.detectFacetsWithoutResolution(),e}}),[t]),I=[r.atoms.leading_snug,s],A=[I,g],{text:P,facets:E}=C;if(!E?.length){if((0,i.isOnlyEmoji)(P)){const t=(((0,r.flatten)(s)??{}).fontSize??r.atoms.text_sm.fontSize)*x;return(0,j.jsx)(S.Text,{emoji:!0,selectable:m,testID:e,style:[I,{fontSize:t}],onLayout:_,onTextLayout:y,dataSet:w,children:P})}return(0,j.jsx)(S.Text,{emoji:!0,selectable:m,testID:e,style:I,numberOfLines:d,onLayout:_,onTextLayout:y,dataSet:w,children:P})}const L=[];let R=0;for(const o of C.segments()){const e=o.link,t=o.mention,s=o.tag;if(t&&(k||n.AppBskyRichtextFacet.validateMention(t).success)&&!u)L.push((0,j.jsx)(c.ProfileHoverCard,{did:t.did,children:(0,j.jsx)(l.InlineLinkText,{selectable:m,to:`/profile/${t.did}`,style:A,dataSet:w,shouldProxy:b,onPress:f,children:o.text})},R));else if(e&&n.AppBskyRichtextFacet.validateLink(e).success){!T.test(e.uri)||u?L.push((0,a.toShortUrl)(o.text)):L.push((0,j.jsx)(l.InlineLinkText,{selectable:m,to:e.uri,style:A,dataSet:w,shareOnLongPress:!0,shouldProxy:b,onPress:f,emoji:!0,children:(0,a.toShortUrl)(o.text)},R))}else!u&&h&&s&&n.AppBskyRichtextFacet.validateTag(s).success?L.push((0,j.jsx)(v,{display:o.text,tag:s.tag,textStyle:A,authorHandle:p},R)):L.push(o.text);R++}return(0,j.jsx)(S.Text,{emoji:!0,selectable:m,testID:e,style:I,numberOfLines:d,onLayout:_,onTextLayout:y,dataSet:w,children:L})}},81826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Content:()=>v,Icon:()=>j,Item:()=>C,ItemIndicator:()=>A,ItemText:()=>I,Root:()=>x,Separator:()=>P,Trigger:()=>y,ValueText:()=>b,useItemContext:()=>k});var o=s(63366),n=s(15991),a=s(95004),r=s(67842),i=s(30018),l=s(77268),c=s(19552),d=s(1814),u=s(84639),m=s(52783),h=s(23486),p=s(2629);const f=["children","webOverrideValue","style"],g=(0,a.createContext)(null);function x(e){const t=(0,n.c)(5);let s,o;return t[0]!==e?(s=(0,p.jsx)(i.Root,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],t[2]!==e.value||t[3]!==s?(o=(0,p.jsx)(g.Provider,{value:e.value,children:s}),t[2]=e.value,t[3]=s,t[4]=o):o=t[4],o}g.displayName="SelectSelectedValueContext";const _=(0,a.forwardRef)(((e,t)=>e.children?.(Object.assign({},e,{ref:t}))));function y(e){const t=(0,n.c)(19),{children:s,label:o}=e,a=(0,c.useTheme)(),{state:r,onIn:l,onOut:u}=(0,d.useInteractionState)(),{state:m,onIn:h,onOut:f}=(0,d.useInteractionState)();if("function"===typeof s){let e;return t[0]!==s||t[1]!==m||t[2]!==r||t[3]!==o||t[4]!==f||t[5]!==h||t[6]!==l||t[7]!==u?(e=(0,p.jsx)(i.Trigger,{asChild:!0,children:(0,p.jsx)(_,{children:e=>s({IS_NATIVE:!1,state:{hovered:r,focused:m,pressed:!1},props:Object.assign({},e,{onPress:e.onClick,onFocus:h,onBlur:f,onMouseEnter:l,onMouseLeave:u,accessibilityLabel:o})})})}),t[0]=s,t[1]=m,t[2]=r,t[3]=o,t[4]=f,t[5]=h,t[6]=l,t[7]=u,t[8]=e):e=t[8],e}{const e=m?a.palette.primary_500:a.palette.contrast_50;let o,n;return t[9]!==a.atoms.bg_contrast_50||t[10]!==e?(o=(0,c.flatten)([c.atoms.flex,c.atoms.relative,a.atoms.bg_contrast_50,c.atoms.align_center,c.atoms.gap_sm,c.atoms.justify_between,c.atoms.py_sm,c.atoms.px_md,c.atoms.pointer,{borderRadius:10,maxWidth:400,outline:0,borderWidth:2,borderStyle:"solid",borderColor:e}]),t[9]=a.atoms.bg_contrast_50,t[10]=e,t[11]=o):o=t[11],t[12]!==s||t[13]!==f||t[14]!==h||t[15]!==l||t[16]!==u||t[17]!==o?(n=(0,p.jsx)(i.Trigger,{onFocus:h,onBlur:f,onMouseEnter:l,onMouseLeave:u,style:o,children:s}),t[12]=s,t[13]=f,t[14]=h,t[15]=l,t[16]=u,t[17]=o,t[18]=n):n=t[18],n}}function b(e){const t=(0,n.c)(14);let s,a,r,l,c,d,u;if(t[0]!==e){var m=e;({children:s,webOverrideValue:l,style:r}=m),a=(0,o.default)(m,f),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=l}else s=t[1],a=t[2],r=t[3],l=t[4];if(l&&s){let e;t[5]!==s||t[6]!==l?(e=s(l),t[5]=s,t[6]=l,t[7]=e):e=t[7],c=e}return t[8]!==c||t[9]!==a?(d=(0,p.jsx)(i.Value,Object.assign({},a,{children:c})),t[8]=c,t[9]=a,t[10]=d):d=t[10],t[11]!==r||t[12]!==d?(u=(0,p.jsx)(h.Text,{style:r,children:d}),t[11]=r,t[12]=d,t[13]=u):u=t[13],u}function j(e){const t=(0,n.c)(3),{style:s}=e,o=(0,c.useTheme)();let a;return t[0]!==s||t[1]!==o.atoms.text?(a=(0,p.jsx)(i.Icon,{children:(0,p.jsx)(m.ChevronBottom_Stroke2_Corner0_Rounded,{style:[o.atoms.text,s],size:"xs"})}),t[0]=s,t[1]=o.atoms.text,t[2]=a):a=t[2],a}function v(e){const t=(0,n.c)(65),{items:s,renderItem:o,valueExtractor:d}=e,u=void 0===d?w:d,h=(0,c.useTheme)(),f=(0,a.useContext)(g),{reduceMotionEnabled:x}=(0,l.useA11y)();let _,y,b,j,v,T,k,C,I,A,P,E,L,R,B,D,O,M,F;if(t[0]!==s||t[1]!==x||t[2]!==o||t[3]!==f||t[4]!==h.atoms.bg||t[5]!==h.atoms.border_contrast_low||t[6]!==h.atoms.text||t[7]!==u){const e=[c.atoms.absolute,c.atoms.flex,c.atoms.align_center,c.atoms.justify_center,c.atoms.rounded_sm,c.atoms.z_10],n=[...e,c.atoms.pt_sm,c.atoms.pb_lg,{top:0,left:0,right:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,background:`linear-gradient(to bottom, ${h.atoms.bg.backgroundColor} 0%, transparent 100%)`}],l=[...e,c.atoms.pt_lg,c.atoms.pb_sm,{bottom:0,left:0,right:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,background:`linear-gradient(to top, ${h.atoms.bg.backgroundColor} 0%, transparent 100%)`}];j=i.Portal,b=i.Content,t[22]!==h.atoms.bg?(P=(0,c.flatten)([h.atoms.bg,c.atoms.rounded_sm,c.atoms.overflow_hidden]),t[22]=h.atoms.bg,t[23]=P):P=t[23],E="popper",L="center",R=5,v="radix-select-content",T=S,y=r.default;const d=!x&&c.atoms.zoom_fade_in;let g,w,B;if(t[24]!==h.atoms.border_contrast_low||t[25]!==d?(C=[c.atoms.flex_1,c.atoms.border,h.atoms.border_contrast_low,c.atoms.rounded_sm,c.atoms.overflow_hidden,d],t[24]=h.atoms.border_contrast_low,t[25]=d,t[26]=C):C=t[26],t[27]!==h.atoms.text?(g=(0,p.jsx)(m.ChevronTop_Stroke2_Corner0_Rounded,{style:[h.atoms.text],size:"xs"}),t[27]=h.atoms.text,t[28]=g):g=t[28],I=(0,p.jsx)(i.ScrollUpButton,{style:(0,c.flatten)(n),children:g}),t[29]===Symbol.for("react.memo_cache_sentinel")?(w=(0,c.flatten)([c.atoms.p_xs]),t[29]=w):w=t[29],t[30]!==s||t[31]!==o||t[32]!==f||t[33]!==u){let e;t[35]!==o||t[36]!==f||t[37]!==u?(e=(e,t)=>(0,p.jsx)(a.Fragment,{children:o(e,t,f)},u(e)),t[35]=o,t[36]=f,t[37]=u,t[38]=e):e=t[38],B=s.map(e),t[30]=s,t[31]=o,t[32]=f,t[33]=u,t[34]=B}else B=t[34];t[39]!==B?(A=(0,p.jsx)(i.Viewport,{style:w,children:B}),t[39]=B,t[40]=A):A=t[40],_=i.ScrollDownButton,k=(0,c.flatten)(l),t[0]=s,t[1]=x,t[2]=o,t[3]=f,t[4]=h.atoms.bg,t[5]=h.atoms.border_contrast_low,t[6]=h.atoms.text,t[7]=u,t[8]=_,t[9]=y,t[10]=b,t[11]=j,t[12]=v,t[13]=T,t[14]=k,t[15]=C,t[16]=I,t[17]=A,t[18]=P,t[19]=E,t[20]=L,t[21]=R}else _=t[8],y=t[9],b=t[10],j=t[11],v=t[12],T=t[13],k=t[14],C=t[15],I=t[16],A=t[17],P=t[18],E=t[19],L=t[20],R=t[21];return t[41]!==h.atoms.text?(B=(0,p.jsx)(m.ChevronBottom_Stroke2_Corner0_Rounded,{style:[h.atoms.text],size:"xs"}),t[41]=h.atoms.text,t[42]=B):B=t[42],t[43]!==_||t[44]!==B||t[45]!==k?(D=(0,p.jsx)(_,{style:k,children:B}),t[43]=_,t[44]=B,t[45]=k,t[46]=D):D=t[46],t[47]!==y||t[48]!==D||t[49]!==C||t[50]!==I||t[51]!==A?(O=(0,p.jsxs)(y,{style:C,children:[I,A,D]}),t[47]=y,t[48]=D,t[49]=C,t[50]=I,t[51]=A,t[52]=O):O=t[52],t[53]!==b||t[54]!==v||t[55]!==T||t[56]!==O||t[57]!==P||t[58]!==E||t[59]!==L||t[60]!==R?(M=(0,p.jsx)(b,{style:P,position:E,align:L,sideOffset:R,className:v,onKeyDown:T,children:O}),t[53]=b,t[54]=v,t[55]=T,t[56]=O,t[57]=P,t[58]=E,t[59]=L,t[60]=R,t[61]=M):M=t[61],t[62]!==j||t[63]!==M?(F=(0,p.jsx)(j,{children:M}),t[62]=j,t[63]=M,t[64]=F):F=t[64],F}function S(e){return e.stopPropagation()}function w(e){return e.value}_.displayName="RadixTriggerPassThrough";const T=(0,a.createContext)({hovered:!1,focused:!1,pressed:!1,selected:!1});function k(){return(0,a.useContext)(T)}function C(e){const t=(0,n.c)(23),{ref:s,value:o,style:r,children:l}=e,u=(0,c.useTheme)(),{state:m,onIn:h,onOut:f}=(0,d.useInteractionState)(),x=(0,a.useContext)(g)===o,{state:_,onIn:y,onOut:b}=(0,d.useInteractionState)();let j;t[0]!==_||t[1]!==m||t[2]!==x?(j={hovered:m,focused:_,pressed:!1,selected:x},t[0]=_,t[1]=m,t[2]=x,t[3]=j):j=t[3];const v=j;let S,w,k;return t[4]!==_||t[5]!==m||t[6]!==x||t[7]!==r||t[8]!==u.atoms.text||t[9]!==u.palette?(S=(0,c.flatten)([u.atoms.text,c.atoms.relative,c.atoms.flex,{minHeight:25,paddingLeft:30,paddingRight:8},c.atoms.user_select_none,c.atoms.align_center,c.atoms.rounded_xs,c.atoms.py_2xs,c.atoms.text_sm,{outline:0},(m||_)&&{backgroundColor:u.palette.primary_50},x&&[c.atoms.font_semi_bold],c.atoms.transition_color,r]),t[4]=_,t[5]=m,t[6]=x,t[7]=r,t[8]=u.atoms.text,t[9]=u.palette,t[10]=S):S=t[10],t[11]!==l||t[12]!==v?(w=(0,p.jsx)(T.Provider,{value:v,children:l}),t[11]=l,t[12]=v,t[13]=w):w=t[13],t[14]!==b||t[15]!==y||t[16]!==h||t[17]!==f||t[18]!==s||t[19]!==S||t[20]!==w||t[21]!==o?(k=(0,p.jsx)(i.Item,{ref:s,value:o,onMouseEnter:h,onMouseLeave:f,onFocus:y,onBlur:b,style:S,children:w}),t[14]=b,t[15]=y,t[16]=h,t[17]=f,t[18]=s,t[19]=S,t[20]=w,t[21]=o,t[22]=k):k=t[22],k}T.displayName="SelectItemContext";const I=function(e){const t=(0,n.c)(5),{children:s,style:o}=e;let a,r;return t[0]!==o?(a=(0,c.flatten)([o,(0,c.web)({pointerEvents:"inherit"})]),t[0]=o,t[1]=a):a=t[1],t[2]!==s||t[3]!==a?(r=(0,p.jsx)(i.ItemText,{asChild:!0,children:(0,p.jsx)(h.Text,{style:a,children:s})}),t[2]=s,t[3]=a,t[4]=r):r=t[4],r};function A(e){const t=(0,n.c)(3),{icon:s}=e,o=void 0===s?u.Check_Stroke2_Corner0_Rounded:s;let a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,c.flatten)([c.atoms.absolute,{left:0,width:30},c.atoms.flex,c.atoms.align_center,c.atoms.justify_center]),t[0]=a):a=t[0],t[1]!==o?(r=(0,p.jsx)(i.ItemIndicator,{style:a,children:(0,p.jsx)(o,{size:"sm"})}),t[1]=o,t[2]=r):r=t[2],r}function P(){const e=(0,n.c)(4),t=(0,c.useTheme)();let s,o;return e[0]!==t.atoms.border_contrast_low.borderColor?(s=(0,c.flatten)([{height:1,backgroundColor:t.atoms.border_contrast_low.borderColor},c.atoms.my_xs,c.atoms.w_full]),e[0]=t.atoms.border_contrast_low.borderColor,e[1]=s):s=e[1],e[2]!==s?(o=(0,p.jsx)(i.Separator,{style:s}),e[2]=s,e[3]=o):o=e[3],o}},50996:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Card:()=>v,Default:()=>b,Embed:()=>T,Link:()=>w,Notification:()=>j,useStarterPackLink:()=>S});var o=s(15991),n=(s(95004),s(67842)),a=s(31545),r=s(66949),i=s(96963),l=s(18102),c=s(56947),d=s(15488),u=s(77388),m=s(52335),h=s(97154),p=s(19552),f=s(68783),g=s(96449),x=s(23486),_=s(46804),y=s(2629);function b(e){const t=(0,o.c)(5),{starterPack:s}=e;if(!s)return null;let n,a;return t[0]!==s?(n=(0,y.jsx)(v,{starterPack:s}),t[0]=s,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(a=(0,y.jsx)(w,{starterPack:s,children:n}),t[2]=s,t[3]=n,t[4]=a):a=t[4],a}function j(e){const t=(0,o.c)(5),{starterPack:s}=e;if(!s)return null;let n,a;return t[0]!==s?(n=(0,y.jsx)(v,{starterPack:s,noIcon:!0,noDescription:!0}),t[0]=s,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(a=(0,y.jsx)(w,{starterPack:s,children:n}),t[2]=s,t[3]=n,t[4]=a):a=t[4],a}function v({starterPack:e,noIcon:t,noDescription:s}){const{record:o,creator:a,joinedAllTimeCount:l}=e,{_:d}=(0,i.useLingui)(),u=(0,p.useTheme)(),{currentAccount:m}=(0,h.useSession)();return _.dangerousIsType(o,r.AppBskyGraphStarterpack.isRecord)?(0,y.jsxs)(n.default,{style:[p.atoms.w_full,p.atoms.gap_md],children:[(0,y.jsxs)(n.default,{style:[p.atoms.flex_row,p.atoms.gap_sm,p.atoms.w_full],children:[t?null:(0,y.jsx)(f.StarterPack,{width:40,gradient:"sky"}),(0,y.jsxs)(n.default,{style:[p.atoms.flex_1],children:[(0,y.jsx)(x.Text,{emoji:!0,style:[p.atoms.text_md,p.atoms.font_semi_bold,p.atoms.leading_snug],numberOfLines:2,children:o.name}),(0,y.jsx)(x.Text,{emoji:!0,style:[p.atoms.leading_snug,u.atoms.text_contrast_medium],numberOfLines:1,children:d(a?.did===m?.did?{id:"kjPWUY"}:{id:"HhZZKn",values:{0:(0,c.sanitizeHandle)(a.handle,"@")}})})]})]}),!s&&o.description?(0,y.jsx)(x.Text,{emoji:!0,numberOfLines:3,style:[p.atoms.leading_snug],children:o.description}):null,!!l&&l>=50&&(0,y.jsx)(x.Text,{style:[p.atoms.font_semi_bold,u.atoms.text_contrast_medium],children:(0,y.jsx)(i.Trans,{id:"Iatj/v",values:{joinedAllTimeCount:l}})})]}):null}function S(e){const t=(0,o.c)(10),{view:s}=e,{_:n}=(0,i.useLingui)(),a=(0,l.useQueryClient)(),c=new r.AtUri(s.uri).rkey,{creator:d}=s,{rkey:h,handleOrDid:p}={rkey:c,handleOrDid:d.handle||d.did};let f;t[0]!==a||t[1]!==s?(f=()=>{(0,u.precacheResolvedUri)(a,s.creator.handle,s.creator.did),(0,m.precacheStarterPack)(a,s)},t[0]=a,t[1]=s,t[2]=f):f=t[2];const g=f,x=`/starter-pack/${p}/${h}`;let _,y;return t[3]!==n||t[4]!==s.record?(_=r.AppBskyGraphStarterpack.isRecord(s.record)?n({id:"mpwQvb",values:{0:s.record.name}}):n({id:"DF7GqO"}),t[3]=n,t[4]=s.record,t[5]=_):_=t[5],t[6]!==g||t[7]!==x||t[8]!==_?(y={to:x,label:_,precache:g},t[6]=g,t[7]=x,t[8]=_,t[9]=y):y=t[9],y}function w(e){const t=(0,o.c)(12),{starterPack:s,children:n}=e,{_:a}=(0,i.useLingui)(),c=(0,l.useQueryClient)(),{record:d}=s,h=new r.AtUri(s.uri).rkey,{creator:f}=s,{rkey:x,handleOrDid:_}={rkey:h,handleOrDid:f.handle||f.did};if(!r.AppBskyGraphStarterpack.isRecord(d))return null;const b=`/starter-pack/${_}/${x}`;let j,v,S,w;return t[0]!==a||t[1]!==d.name?(j=a({id:"mpwQvb",values:{0:d.name}}),t[0]=a,t[1]=d.name,t[2]=j):j=t[2],t[3]!==c||t[4]!==s?(v=()=>{(0,u.precacheResolvedUri)(c,s.creator.handle,s.creator.did),(0,m.precacheStarterPack)(c,s)},t[3]=c,t[4]=s,t[5]=v):v=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(S=[p.atoms.flex_col,p.atoms.align_start],t[6]=S):S=t[6],t[7]!==n||t[8]!==b||t[9]!==j||t[10]!==v?(w=(0,y.jsx)(g.Link,{to:b,label:j,onPress:v,style:S,children:n}),t[7]=n,t[8]=b,t[9]=j,t[10]=v,t[11]=w):w=t[11],w}function T(e){const t=(0,o.c)(17),{starterPack:s}=e,r=(0,p.useTheme)();let i;t[0]!==s?(i=(0,d.getStarterPackOgCard)(s),t[0]=s,t[1]=i):i=t[1];const l=i;let c,u,m,h,f,g,x;return t[2]!==r.atoms.border_contrast_low?(c=[p.atoms.border,p.atoms.rounded_sm,p.atoms.overflow_hidden,r.atoms.border_contrast_low],t[2]=r.atoms.border_contrast_low,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(u=[p.atoms.w_full,p.atoms.aspect_card],t[4]=u):u=t[4],t[5]!==l?(m=(0,y.jsx)(a.Image,{source:l,style:u,accessibilityIgnoresInvertColors:!0}),t[5]=l,t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h=[p.atoms.px_sm,p.atoms.py_md],t[7]=h):h=t[7],t[8]!==s?(f=(0,y.jsx)(n.default,{style:h,children:(0,y.jsx)(v,{starterPack:s})}),t[8]=s,t[9]=f):f=t[9],t[10]!==s||t[11]!==m||t[12]!==f?(g=(0,y.jsxs)(w,{starterPack:s,children:[m,f]}),t[10]=s,t[11]=m,t[12]=f,t[13]=g):g=t[13],t[14]!==c||t[15]!==g?(x=(0,y.jsx)(n.default,{style:c,children:g}),t[14]=c,t[15]=g,t[16]=x):x=t[16],x}},46985:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Action:()=>w,DURATION:()=>c,ICONS:()=>_,Icon:()=>v,Outer:()=>j,Text:()=>S,ToastConfigProvider:()=>b,ToastOutlet:()=>I,api:()=>A,show:()=>P});var o=s(63366),n=s(15991),a=s(95004),r=s(62421),i=s(37001),l=s(19552);const c=3e3;var d=s(67842),u=s(51536),m=s(48983),h=s(8347),p=s(29596);const f=i.toast.dismiss;var g=s(23486),x=s(2629);const _={default:m.CircleCheck_Stroke2_Corner0_Rounded,success:m.CircleCheck_Stroke2_Corner0_Rounded,error:h.CircleInfo_Stroke2_Corner0_Rounded,warning:p.Warning_Stroke2_Corner0_Rounded,info:h.CircleInfo_Stroke2_Corner0_Rounded},y=(0,a.createContext)({id:"",type:"default"});function b(e){const t=(0,n.c)(6),{children:s,id:o,type:a}=e;let r;t[0]!==o||t[1]!==a?(r={id:o,type:a},t[0]=o,t[1]=a,t[2]=r):r=t[2];const i=r;let l;return t[3]!==s||t[4]!==i?(l=(0,x.jsx)(y.Provider,{value:i,children:s}),t[3]=s,t[4]=i,t[5]=l):l=t[5],l}function j(e){const t=(0,n.c)(11),{children:s}=e,o=(0,l.useTheme)(),{type:r}=(0,a.useContext)(y);let i;t[0]!==r?(i={type:r},t[0]=r,t[1]=i):i=t[1];const c=k(i);let u,m,h;return t[2]!==c.backgroundColor||t[3]!==c.borderColor?(u={paddingVertical:14,backgroundColor:c.backgroundColor,borderColor:c.borderColor},t[2]=c.backgroundColor,t[3]=c.borderColor,t[4]=u):u=t[4],t[5]!==o.atoms.shadow_sm||t[6]!==u?(m=[l.atoms.flex_1,l.atoms.p_lg,l.atoms.rounded_md,l.atoms.border,l.atoms.flex_row,l.atoms.gap_sm,o.atoms.shadow_sm,u],t[5]=o.atoms.shadow_sm,t[6]=u,t[7]=m):m=t[7],t[8]!==s||t[9]!==m?(h=(0,x.jsx)(d.default,{style:m,children:s}),t[8]=s,t[9]=m,t[10]=h):h=t[10],h}function v(e){const t=(0,n.c)(5),{icon:s}=e,{type:o}=(0,a.useContext)(y);let r;t[0]!==o?(r={type:o},t[0]=o,t[1]=r):r=t[1];const i=k(r),l=s||_[o];let c;return t[2]!==l||t[3]!==i.iconColor?(c=(0,x.jsx)(l,{size:"md",fill:i.iconColor}),t[2]=l,t[3]=i.iconColor,t[4]=c):c=t[4],c}function S(e){const t=(0,n.c)(12),{children:s}=e,{type:o}=(0,a.useContext)(y);let r;t[0]!==o?(r={type:o},t[0]=o,t[1]=r):r=t[1];const{textColor:i}=k(r),{fontScaleCompensation:c}=T();let u,m,h,p;return t[2]!==c?(u=[l.atoms.flex_1,l.atoms.pr_lg,{top:c}],t[2]=c,t[3]=u):u=t[3],t[4]!==i?(m=[l.atoms.text_md,l.atoms.font_medium,l.atoms.leading_snug,l.atoms.pointer_events_none,{color:i}],t[4]=i,t[5]=m):m=t[5],t[6]!==s||t[7]!==m?(h=(0,x.jsx)(g.Text,{selectable:!1,style:m,children:s}),t[6]=s,t[7]=m,t[8]=h):h=t[8],t[9]!==u||t[10]!==h?(p=(0,x.jsx)(d.default,{style:u,children:h}),t[9]=u,t[10]=h,t[11]=p):p=t[11],p}function w(e){const t=(0,n.c)(63),s=(0,l.useTheme)(),{fontScaleCompensation:o}=T(),{type:r}=(0,a.useContext)(y),{id:i}=(0,a.useContext)(y);let c,m,h;t[0]!==s.atoms.bg_contrast_25.backgroundColor||t[1]!==s.palette.contrast_600?(c={textColor:s.palette.contrast_600,backgroundColor:s.atoms.bg_contrast_25.backgroundColor},t[0]=s.atoms.bg_contrast_25.backgroundColor,t[1]=s.palette.contrast_600,t[2]=c):c=t[2],t[3]!==s.atoms.bg_contrast_50.backgroundColor||t[4]!==s.atoms.text.color?(m={textColor:s.atoms.text.color,backgroundColor:s.atoms.bg_contrast_50.backgroundColor},t[3]=s.atoms.bg_contrast_50.backgroundColor,t[4]=s.atoms.text.color,t[5]=m):m=t[5],t[6]!==c||t[7]!==m?(h={base:c,interacted:m},t[6]=c,t[7]=m,t[8]=h):h=t[8];const p=h;let _,b,j,v,S,w,k,C,I,A,P;t[9]!==s.name||t[10]!==s.palette.primary_800||t[11]!==s.palette.primary_900?(_=(0,l.select)(s.name,{light:s.palette.primary_800,dim:s.palette.primary_900,dark:s.palette.primary_900}),t[9]=s.name,t[10]=s.palette.primary_800,t[11]=s.palette.primary_900,t[12]=_):_=t[12],t[13]!==s.palette.primary_25||t[14]!==_?(b={textColor:_,backgroundColor:s.palette.primary_25},t[13]=s.palette.primary_25,t[14]=_,t[15]=b):b=t[15],t[16]!==s.name||t[17]!==s.palette.primary_900||t[18]!==s.palette.primary_975?(j=(0,l.select)(s.name,{light:s.palette.primary_900,dim:s.palette.primary_975,dark:s.palette.primary_975}),t[16]=s.name,t[17]=s.palette.primary_900,t[18]=s.palette.primary_975,t[19]=j):j=t[19],t[20]!==s.palette.primary_50||t[21]!==j?(v={textColor:j,backgroundColor:s.palette.primary_50},t[20]=s.palette.primary_50,t[21]=j,t[22]=v):v=t[22],t[23]!==b||t[24]!==v?(S={base:b,interacted:v},t[23]=b,t[24]=v,t[25]=S):S=t[25],t[26]!==s.name||t[27]!==s.palette.negative_700||t[28]!==s.palette.negative_900?(w=(0,l.select)(s.name,{light:s.palette.negative_700,dim:s.palette.negative_900,dark:s.palette.negative_900}),t[26]=s.name,t[27]=s.palette.negative_700,t[28]=s.palette.negative_900,t[29]=w):w=t[29],t[30]!==s.palette.negative_25||t[31]!==w?(k={textColor:w,backgroundColor:s.palette.negative_25},t[30]=s.palette.negative_25,t[31]=w,t[32]=k):k=t[32],t[33]!==s.name||t[34]!==s.palette.negative_900||t[35]!==s.palette.negative_975?(C=(0,l.select)(s.name,{light:s.palette.negative_900,dim:s.palette.negative_975,dark:s.palette.negative_975}),t[33]=s.name,t[34]=s.palette.negative_900,t[35]=s.palette.negative_975,t[36]=C):C=t[36],t[37]!==s.palette.negative_50||t[38]!==C?(I={textColor:C,backgroundColor:s.palette.negative_50},t[37]=s.palette.negative_50,t[38]=C,t[39]=I):I=t[39],t[40]!==I||t[41]!==k?(A={base:k,interacted:I},t[40]=I,t[41]=k,t[42]=A):A=t[42],t[43]!==p||t[44]!==A||t[45]!==S?(P={default:p,success:S,error:A,warning:p,info:p},t[43]=p,t[44]=A,t[45]=S,t[46]=P):P=t[46];const E=P[r];let L;t[47]!==i||t[48]!==e?(L=t=>{f(i),e.onPress?.(t)},t[47]=i,t[48]=e,t[49]=L):L=t[49];const R=L;let B,D,O,M;return t[50]!==o?(B={top:o},t[50]=o,t[51]=B):B=t[51],t[52]!==e.children||t[53]!==E.base||t[54]!==E.interacted?(D=t=>{const s=t.pressed||t.hovered||t.focused;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.default,{style:[l.atoms.absolute,l.atoms.curve_continuous,{top:-5,bottom:-5,left:-9,right:-9,borderRadius:6,backgroundColor:s?E.interacted.backgroundColor:E.base.backgroundColor}]}),(0,x.jsx)(g.Text,{style:[l.atoms.text_md,l.atoms.font_medium,l.atoms.leading_snug,{color:s?E.interacted.textColor:E.base.textColor}],children:e.children})]})},t[52]=e.children,t[53]=E.base,t[54]=E.interacted,t[55]=D):D=t[55],t[56]!==R||t[57]!==e||t[58]!==D?(O=(0,x.jsx)(u.Button,Object.assign({},e,{onPress:R,children:D})),t[56]=R,t[57]=e,t[58]=D,t[59]=O):O=t[59],t[60]!==B||t[61]!==O?(M=(0,x.jsx)(d.default,{style:B,children:O}),t[60]=B,t[61]=O,t[62]=M):M=t[62],M}function T(){const e=(0,n.c)(2),{fonts:t}=(0,l.useAlf)(),s=-1*parseInt(t.scale)*.65;let o;return e[0]!==s?(o={fontScaleCompensation:s},e[0]=s,e[1]=o):o=e[1],o}function k(e){const t=(0,n.c)(50),{type:s}=e,o=(0,l.useTheme)();let a;t[0]!==o.atoms.bg_contrast_25.backgroundColor||t[1]!==o.atoms.border_contrast_low.borderColor||t[2]!==o.atoms.text.color?(a={backgroundColor:o.atoms.bg_contrast_25.backgroundColor,borderColor:o.atoms.border_contrast_low.borderColor,iconColor:o.atoms.text.color,textColor:o.atoms.text.color},t[0]=o.atoms.bg_contrast_25.backgroundColor,t[1]=o.atoms.border_contrast_low.borderColor,t[2]=o.atoms.text.color,t[3]=a):a=t[3];const r=o.palette.primary_25;let i,c,d,u;t[4]!==o.name||t[5]!==o.palette.primary_100||t[6]!==o.palette.primary_200||t[7]!==o.palette.primary_300?(i=(0,l.select)(o.name,{light:o.palette.primary_300,dim:o.palette.primary_200,dark:o.palette.primary_100}),t[4]=o.name,t[5]=o.palette.primary_100,t[6]=o.palette.primary_200,t[7]=o.palette.primary_300,t[8]=i):i=t[8],t[9]!==o.name||t[10]!==o.palette.primary_600||t[11]!==o.palette.primary_700?(c=(0,l.select)(o.name,{light:o.palette.primary_600,dim:o.palette.primary_700,dark:o.palette.primary_700}),t[9]=o.name,t[10]=o.palette.primary_600,t[11]=o.palette.primary_700,t[12]=c):c=t[12],t[13]!==o.name||t[14]!==o.palette.primary_600||t[15]!==o.palette.primary_700?(d=(0,l.select)(o.name,{light:o.palette.primary_600,dim:o.palette.primary_700,dark:o.palette.primary_700}),t[13]=o.name,t[14]=o.palette.primary_600,t[15]=o.palette.primary_700,t[16]=d):d=t[16],t[17]!==o.palette.primary_25||t[18]!==i||t[19]!==c||t[20]!==d?(u={backgroundColor:r,borderColor:i,iconColor:c,textColor:d},t[17]=o.palette.primary_25,t[18]=i,t[19]=c,t[20]=d,t[21]=u):u=t[21];const m=o.palette.negative_25;let h,p,f,g,x,_,y;return t[22]!==o.name||t[23]!==o.palette.negative_100||t[24]!==o.palette.negative_200?(h=(0,l.select)(o.name,{light:o.palette.negative_200,dim:o.palette.negative_200,dark:o.palette.negative_100}),t[22]=o.name,t[23]=o.palette.negative_100,t[24]=o.palette.negative_200,t[25]=h):h=t[25],t[26]!==o.name||t[27]!==o.palette.negative_700||t[28]!==o.palette.negative_900?(p=(0,l.select)(o.name,{light:o.palette.negative_700,dim:o.palette.negative_900,dark:o.palette.negative_900}),t[26]=o.name,t[27]=o.palette.negative_700,t[28]=o.palette.negative_900,t[29]=p):p=t[29],t[30]!==o.name||t[31]!==o.palette.negative_700||t[32]!==o.palette.negative_900?(f=(0,l.select)(o.name,{light:o.palette.negative_700,dim:o.palette.negative_900,dark:o.palette.negative_900}),t[30]=o.name,t[31]=o.palette.negative_700,t[32]=o.palette.negative_900,t[33]=f):f=t[33],t[34]!==o.palette.negative_25||t[35]!==f||t[36]!==h||t[37]!==p?(g={backgroundColor:m,borderColor:h,iconColor:p,textColor:f},t[34]=o.palette.negative_25,t[35]=f,t[36]=h,t[37]=p,t[38]=g):g=t[38],t[39]!==o.atoms.bg_contrast_25.backgroundColor||t[40]!==o.atoms.border_contrast_low.borderColor||t[41]!==o.atoms.text.color?(x={backgroundColor:o.atoms.bg_contrast_25.backgroundColor,borderColor:o.atoms.border_contrast_low.borderColor,iconColor:o.atoms.text.color,textColor:o.atoms.text.color},_={backgroundColor:o.atoms.bg_contrast_25.backgroundColor,borderColor:o.atoms.border_contrast_low.borderColor,iconColor:o.atoms.text.color,textColor:o.atoms.text.color},t[39]=o.atoms.bg_contrast_25.backgroundColor,t[40]=o.atoms.border_contrast_low.borderColor,t[41]=o.atoms.text.color,t[42]=x,t[43]=_):(x=t[42],_=t[43]),t[44]!==a||t[45]!==g||t[46]!==x||t[47]!==_||t[48]!==u?(y={default:a,success:u,error:g,warning:x,info:_},t[44]=a,t[45]=g,t[46]=x,t[47]=_,t[48]=u,t[49]=y):y=t[49],y[s]}y.displayName="ToastConfigContext";const C=["type"];function I(){const e=(0,n.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,x.jsx)(i.Toaster,{position:"bottom-left",gap:l.atoms.gap_sm.gap,offset:l.atoms.p_xl.padding,mobileOffset:l.atoms.p_xl.padding}),e[0]=t):t=e[0],t}const A=i.toast;function P(e,t={}){let{type:s="default"}=t,n=(0,o.default)(t,C);const l=(0,r.nanoid)();if("string"===typeof e)(0,i.toast)((0,x.jsx)(b,{id:l,type:s,children:(0,x.jsxs)(j,{children:[(0,x.jsx)(v,{}),(0,x.jsx)(S,{children:e})]})}),Object.assign({},n,{unstyled:!0,id:l,duration:n?.duration??c}));else{if(!a.isValidElement(e))throw new Error("Toast can be a string or a React element, got "+typeof e);(0,i.toast)((0,x.jsx)(b,{id:l,type:s,children:e}),Object.assign({},n,{unstyled:!0,id:l,duration:n?.duration??c}))}}},23486:(e,t,s)=>{"use strict";s.r(t),s.d(t,{H1:()=>f,H2:()=>g,H3:()=>x,H4:()=>_,H5:()=>y,H6:()=>b,P:()=>j,Span:()=>c.default,Text:()=>h});var o=s(63366),n=s(15991),a=s(77157),r=(s(5295),s(19552)),i=s(24834),l=s(2629),c=s(33387);const d=["children","emoji","style","selectable","title","dataSet"],u=["style"],m=["style"];function h(e){const{children:t,emoji:s,style:n,selectable:c,title:u,dataSet:m}=e,h=(0,o.default)(e,d),{fonts:p,flags:f}=(0,r.useAlf)(),g=(0,r.useTheme)(),x=(0,i.normalizeTextStyles)([r.atoms.text_sm,g.atoms.text,n],{fontScale:p.scaleMultiplier,fontFamily:p.family,flags:f});const _=Object.assign({uiTextView:!0,selectable:c,style:x,dataSet:Object.assign({tooltip:u},m||{})},h);return(0,l.jsx)(a.UITextView,Object.assign({},_,{children:(0,i.renderChildrenWithEmoji)(t,_,s??!1)}))}function p({level:e}){return function(t){let{style:s}=t,n=(0,o.default)(t,u);const a=(0,r.web)({role:"heading","aria-level":e})||{};return(0,l.jsx)(h,Object.assign({},a,n,{style:s}))}}const f=p({level:1}),g=p({level:2}),x=p({level:3}),_=p({level:4}),y=p({level:5}),b=p({level:6});function j(e){const t=(0,n.c)(9);let s,a,i;if(t[0]!==e){var c=e;({style:a}=c),s=(0,o.default)(c,m),t[0]=e,t[1]=s,t[2]=a}else s=t[1],a=t[2];t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.web)({role:"paragraph"})||{},t[3]=i):i=t[3];const d=i;let u,p;return t[4]!==a?(u=[r.atoms.text_md,r.atoms.leading_relaxed,a],t[4]=a,t[5]=u):u=t[5],t[6]!==s||t[7]!==u?(p=(0,l.jsx)(h,Object.assign({},d,s,{style:u})),t[6]=s,t[7]=u,t[8]=p):p=t[8],p}},53923:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AgeAssuranceBadge:()=>d});var o=s(15991),n=s(96963),a=s(67842),r=s(19552),i=s(79694),l=s(23486),c=s(2629);function d(){const e=(0,o.c)(17),t=(0,r.useTheme)();let s,d,u,m,h,p,f,g;return e[0]!==t.name||e[1]!==t.palette.primary_100?(s=(0,r.select)(t.name,{light:t.palette.primary_100,dark:t.palette.primary_100,dim:t.palette.primary_100}),e[0]=t.name,e[1]=t.palette.primary_100,e[2]=s):s=e[2],e[3]!==s?(d=[r.atoms.flex_row,r.atoms.align_center,r.atoms.gap_xs,r.atoms.px_sm,r.atoms.py_xs,r.atoms.pr_sm,r.atoms.rounded_full,{backgroundColor:s}],e[3]=s,e[4]=d):d=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,c.jsx)(i.ShieldCheck_Stroke2_Corner0_Rounded,{size:"sm"}),e[5]=u):u=e[5],e[6]!==t.name||e[7]!==t.palette.primary_800?(m=(0,r.select)(t.name,{light:t.palette.primary_800,dark:t.palette.primary_800,dim:t.palette.primary_800}),e[6]=t.name,e[7]=t.palette.primary_800,e[8]=m):m=e[8],e[9]!==m?(h=[r.atoms.font_semi_bold,r.atoms.leading_snug,{color:m}],e[9]=m,e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,c.jsx)(n.Trans,{id:"8wanjU"}),e[11]=p):p=e[11],e[12]!==h?(f=(0,c.jsx)(l.Text,{style:h,children:p}),e[12]=h,e[13]=f):f=e[13],e[14]!==d||e[15]!==f?(g=(0,c.jsxs)(a.default,{style:d,children:[u,f]}),e[14]=d,e[15]=f,e[16]=g):g=e[16],g}},23876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AnimatedCheck:()=>g});var o=s(63366),n=s(15991),a=s(95004),r=s(61551),i=s(99866),l=s(24655),c=s(2629);const d=["playOnMount"],u=["fill","size","style"],m=r.default.createAnimatedComponent(i.Path),h=r.default.createAnimatedComponent(i.Circle),p={code:"function AnimatedCheckTsx1(){const{circleAnim}=this.__closure;return{strokeDashoffset:166-circleAnim.get()*166};}"},f={code:"function AnimatedCheckTsx2(){const{checkAnim}=this.__closure;return{strokeDashoffset:48-48*checkAnim.get()};}"},g=a.forwardRef((function(e,t){const s=(0,n.c)(29);let g,_;if(s[0]!==e){var y=e;({playOnMount:g}=y),_=(0,o.default)(y,d),s[0]=e,s[1]=g,s[2]=_}else g=s[1],_=s[2];const b=(0,l.useCommonSVGProps)(_);let j,v,S,w;if(s[3]!==b){var T=b;({fill:j,size:S,style:w}=T),v=(0,o.default)(T,u),s[3]=b,s[4]=j,s[5]=v,s[6]=S,s[7]=w}else j=s[4],v=s[5],S=s[6],w=s[7];const k=(0,r.useSharedValue)(0),C=(0,r.useSharedValue)(0),I=(0,r.useAnimatedProps)(function(){const e=()=>({strokeDashoffset:166-166*k.get()});return e.__closure={circleAnim:k},e.__workletHash=2968084972925,e.__initData=p,e}()),A=(0,r.useAnimatedProps)(function(){const e=()=>({strokeDashoffset:48-48*C.get()});return e.__closure={checkAnim:C},e.__workletHash=0x95ca8f4b29e,e.__initData=f,e}());let P;s[8]!==C||s[9]!==k?(P=e=>{k.set(0),C.set(0),k.set(x),C.set((()=>(0,r.withDelay)(500,(0,r.withTiming)(1,{duration:300,easing:r.Easing.linear},e))))},s[8]=C,s[9]=k,s[10]=P):P=s[10];const E=P;let L,R,B,D,O,M;return s[11]!==E?(L=()=>({play:E}),s[11]=E,s[12]=L):L=s[12],a.useImperativeHandle(t,L),s[13]!==E||s[14]!==g?(R=()=>{g&&E()},B=[E,g],s[13]=E,s[14]=g,s[15]=R,s[16]=B):(R=s[15],B=s[16]),a.useEffect(R,B),s[17]!==I||s[18]!==j?(D=(0,c.jsx)(h,{animatedProps:I,cx:"26",cy:"26",r:"24",fill:"none",stroke:j,strokeWidth:4,strokeDasharray:166}),s[17]=I,s[18]=j,s[19]=D):D=s[19],s[20]!==A||s[21]!==j?(O=(0,c.jsx)(m,{animatedProps:A,stroke:j,d:"M14.1 27.2l7.1 7.2 16.7-16.8",strokeWidth:4,strokeDasharray:48}),s[20]=A,s[21]=j,s[22]=O):O=s[22],s[23]!==v||s[24]!==S||s[25]!==w||s[26]!==D||s[27]!==O?(M=(0,c.jsxs)(i.default,Object.assign({fill:"none"},v,{viewBox:"0 0 52 52",width:S,height:S,style:w,children:[D,O]})),s[23]=v,s[24]=S,s[25]=w,s[26]=D,s[27]=O,s[28]=M):M=s[28],M}));function x(){return(0,r.withTiming)(1,{duration:500,easing:r.Easing.linear})}},96587:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useGlobalDialogsControlContext:()=>l,useStatefulDialogControl:()=>d});var o=s(15991),n=s(95004),a=s(63410),r=s(2629);const i=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(i);if(!e)throw new Error("useGlobalDialogsControlContext must be used within a Provider");return e}function c(e){const t=(0,o.c)(11),{children:s}=e,n=a.useDialogControl(),l=a.useDialogControl(),c=d(),u=d(),m=d(),h=d(),p=d();let f;t[0]!==h||t[1]!==u||t[2]!==c||t[3]!==m||t[4]!==n||t[5]!==p||t[6]!==l?(f={mutedWordsDialogControl:n,signinDialogControl:l,inAppBrowserConsentControl:c,emailDialogControl:u,linkWarningDialogControl:m,ageAssuranceRedirectDialogControl:h,reportDialogControl:p},t[0]=h,t[1]=u,t[2]=c,t[3]=m,t[4]=n,t[5]=p,t[6]=l,t[7]=f):f=t[7];const g=f;let x;return t[8]!==s||t[9]!==g?(x=(0,r.jsx)(i.Provider,{value:g,children:s}),t[8]=s,t[9]=g,t[10]=x):x=t[10],x}function d(e){const t=(0,o.c)(9),[s,r]=(0,n.useState)(e),i=a.useDialogControl();let l,c,d;return t[0]!==i?(l=e=>{r(e),i.open()},t[0]=i,t[1]=l):l=t[1],t[2]!==e?(c=()=>r(e),t[2]=e,t[3]=c):c=t[3],t[4]!==i||t[5]!==l||t[6]!==c||t[7]!==s?(d={control:i,open:l,clear:c,value:s},t[4]=i,t[5]=l,t[6]=c,t[7]=s,t[8]=d):d=t[8],d}i.displayName="GlobalDialogControlsContext"},78698:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DateField:()=>x,LabelText:()=>p,utils:()=>o});var o={};s.r(o),s.d(o,{toSimpleDateString:()=>c});var n=s(63366),a=s(15991),r=s(95004),i=s(59550),l=s(60718);function c(e){return("string"===typeof e?new Date(e):e).toISOString().split("T")[0]}var d=s(75281),u=s(11226),m=s(2629);const h=["style"],p=d.LabelText,f=r.forwardRef(((e,t)=>{let{style:s}=e,o=(0,n.default)(e,h);return(0,l.default)("input",Object.assign({},o,{ref:t,type:"date",style:[i.default.flatten(s),{background:"transparent",border:0}]}))}));f.displayName="InputBase";const g=d.createInput(f);function x(e){const t=(0,a.c)(18),{value:s,inputRef:o,onChangeDate:n,label:r,isInvalid:i,testID:l,accessibilityHint:h,maximumDate:p}=e;let f;t[0]!==n?(f=e=>{const t=e.target.valueAsDate||e.target.value;if(t){const e=c(t);n(e)}},t[0]=n,t[1]=f):f=t[1];const x=f;let _,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=(0,m.jsx)(d.Icon,{icon:u.CalendarDays_Stroke2_Corner0_Rounded}),t[2]=_):_=t[2],t[3]!==s?(y=c(s),t[3]=s,t[4]=y):y=t[4];const b=o;let j,v,S;return t[5]!==p?(j=p?c(p):void 0,t[5]=p,t[6]=j):j=t[6],t[7]!==h||t[8]!==x||t[9]!==r||t[10]!==y||t[11]!==b||t[12]!==j||t[13]!==l?(v=(0,m.jsx)(g,{value:y,inputRef:b,label:r,onChange:x,testID:l,accessibilityHint:h,max:j}),t[7]=h,t[8]=x,t[9]=r,t[10]=y,t[11]=b,t[12]=j,t[13]=l,t[14]=v):v=t[14],t[15]!==i||t[16]!==v?(S=(0,m.jsxs)(d.Root,{isInvalid:i,children:[_,v]}),t[15]=i,t[16]=v,t[17]=S):S=t[17],S}},99363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Item:()=>_,ItemText:()=>y,Root:()=>g});var o=s(63366),n=s(15991),a=s(95004),r=s(67842),i=s(61551),l=s(27948),c=s(25006),d=s(19552),u=s(51536),m=s(2629);const h=["value","style","children","onPress"],p=["style"],f=(0,a.createContext)(null);function g(e){const t=(0,n.c)(25),{label:s,type:o,size:i,value:l,onChange:c,children:u,style:h,accessibilityHint:p}=e,g=void 0===o?"radio":o,x=void 0===i?"large":i,_=(0,d.useTheme)(),[y,j]=(0,a.useState)(null);let v,S,w;t[0]!==c?(v=(e,t)=>{c(e),t&&j(t)},t[0]=c,t[1]=v):v=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(S=e=>{j((t=>t&&t.width===e.width&&t.x===e.x?t:e))},t[2]=S):S=t[2],t[3]!==y||t[4]!==x||t[5]!==v||t[6]!==g||t[7]!==l?(w={type:g,size:x,selectedValue:l,selectedPosition:y,onSelectValue:v,updatePosition:S},t[3]=y,t[4]=x,t[5]=v,t[6]=g,t[7]=l,t[8]=w):w=t[8];const T=w,k=p??"";let C,I;t[9]===Symbol.for("react.memo_cache_sentinel")?(C={borderRadius:14},t[9]=C):C=t[9],t[10]!==h||t[11]!==_.atoms.bg_contrast_50?(I=[d.atoms.w_full,d.atoms.flex_1,d.atoms.relative,d.atoms.flex_row,_.atoms.bg_contrast_50,C,d.atoms.curve_continuous,d.atoms.p_xs,h],t[10]=h,t[11]=_.atoms.bg_contrast_50,t[12]=I):I=t[12];const A="tabs"===g?"tablist":"radiogroup";let P,E,L;return t[13]!==y?(P=null!==y&&(0,m.jsx)(b,{x:y.x,width:y.width}),t[13]=y,t[14]=P):P=t[14],t[15]!==u||t[16]!==T?(E=(0,m.jsx)(f.Provider,{value:T,children:u}),t[15]=u,t[16]=T,t[17]=E):E=t[17],t[18]!==s||t[19]!==P||t[20]!==E||t[21]!==k||t[22]!==I||t[23]!==A?(L=(0,m.jsxs)(r.default,{accessibilityLabel:s,accessibilityHint:k,style:I,role:A,children:[P,E]}),t[18]=s,t[19]=P,t[20]=E,t[21]=k,t[22]=I,t[23]=A,t[24]=L):L=t[24],L}const x=(0,a.createContext)(null);function _(e){const t=(0,n.c)(44);let s,i,p,g,_;if(t[0]!==e){var y=e;({value:_,style:g,children:s,onPress:i}=y),p=(0,o.default)(y,h),t[0]=e,t[1]=s,t[2]=i,t[3]=p,t[4]=g,t[5]=_}else s=t[1],i=t[2],p=t[3],g=t[4],_=t[5];const b=(0,l.useHaptics)(),[j,v]=(0,a.useState)(null),S=(0,a.useContext)(f);if(!S)throw new Error("SegmentedControl.Item must be used within a SegmentedControl.Root");const w=S.selectedValue===_,T=w&&j&&(S.selectedPosition?.x!==j.x||S.selectedPosition?.width!==j.width);let k;t[6]!==S||t[7]!==j?(k=()=>{j&&S.updatePosition(j)},t[6]=S,t[7]=j,t[8]=k):k=t[8];const C=(0,c.useNonReactiveCallback)(k);let I,A,P;t[9]!==T||t[10]!==C?(I=()=>{T&&C()},A=[T,C],t[9]=T,t[10]=C,t[11]=I,t[12]=A):(I=t[11],A=t[12]),(0,a.useLayoutEffect)(I,A),t[13]!==S||t[14]!==i||t[15]!==b||t[16]!==j||t[17]!==_?(P=e=>{b("Light"),S.onSelectValue(_,j),i?.(e)},t[13]=S,t[14]=i,t[15]=b,t[16]=j,t[17]=_,t[18]=P):P=t[18];const E=P;let L,R;t[19]===Symbol.for("react.memo_cache_sentinel")?(L=[d.atoms.flex_1,d.atoms.flex_row],t[19]=L):L=t[19],t[20]!==w||t[21]!==S||t[22]!==_?(R=e=>{const t={x:e.nativeEvent.layout.x,width:e.nativeEvent.layout.width};!S.selectedPosition&&w&&S.onSelectValue(_,t),v(t)},t[20]=w,t[21]=S,t[22]=_,t[23]=R):R=t[23];const B="tabs"===S.type?"tab":"radio";let D;t[24]!==w?(D={selected:w},t[24]=w,t[25]=D):D=t[25];const O="large"===S.size?40:32;let M,F,N,H,V;return t[26]!==O?(M={minHeight:O},t[26]=O,t[27]=M):M=t[27],t[28]!==g||t[29]!==M?(F=[d.atoms.flex_1,d.atoms.bg_transparent,d.atoms.px_sm,d.atoms.py_xs,M,g],t[28]=g,t[29]=M,t[30]=F):F=t[30],t[31]!==w||t[32]!==s?(N=e=>{const{pressed:t,hovered:o,focused:n}=e;return(0,m.jsx)(x.Provider,{value:{active:w,pressed:t,hovered:o,focused:n},children:s})},t[31]=w,t[32]=s,t[33]=N):N=t[33],t[34]!==E||t[35]!==p||t[36]!==F||t[37]!==N||t[38]!==B||t[39]!==D?(H=(0,m.jsx)(u.Button,Object.assign({},p,{onPress:E,role:B,accessibilityState:D,style:F,children:N})),t[34]=E,t[35]=p,t[36]=F,t[37]=N,t[38]=B,t[39]=D,t[40]=H):H=t[40],t[41]!==H||t[42]!==R?(V=(0,m.jsx)(r.default,{style:L,onLayout:R,children:H}),t[41]=H,t[42]=R,t[43]=V):V=t[43],V}function y(e){const t=(0,n.c)(9);let s,r;if(t[0]!==e){var i=e;({style:r}=i),s=(0,o.default)(i,p),t[0]=e,t[1]=s,t[2]=r}else s=t[1],r=t[2];const l=(0,d.useTheme)(),c=(0,a.useContext)(x);if(!c)throw new Error("SegmentedControl.ItemText must be used within a SegmentedControl.Item");const h=c.active?l.atoms.text:c.focused||c.hovered||c.pressed?l.atoms.text_contrast_medium:l.atoms.text_contrast_low;let f,g;return t[3]!==r||t[4]!==h?(f=[d.atoms.text_center,d.atoms.text_md,d.atoms.font_medium,d.atoms.px_xs,h,r],t[3]=r,t[4]=h,t[5]=f):f=t[5],t[6]!==s||t[7]!==f?(g=(0,m.jsx)(u.ButtonText,Object.assign({},s,{style:f})),t[6]=s,t[7]=f,t[8]=g):g=t[8],g}function b(e){const t=(0,n.c)(10),{x:s,width:o}=e,a=(0,d.useTheme)();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,d.native)(i.LinearTransition.easing(i.Easing.out(i.Easing.exp))),t[0]=r):r=t[0];const l=a.atoms.bg;let c,u,h,p;return t[1]!==o?(c={top:4,bottom:4,left:0,width:o,borderRadius:10},t[1]=o,t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,d.platform)({web:{boxShadow:"0px 2px 4px 0px #0000000D"},ios:{shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.050980392156862744,shadowRadius:4},android:{elevation:.25}}),t[3]=u):u=t[3],t[4]!==s?(h=(0,d.platform)({native:[{left:s}],web:[{transform:[{translateX:s}]},d.atoms.transition_transform]}),t[4]=s,t[5]=h):h=t[5],t[6]!==a.atoms.bg||t[7]!==c||t[8]!==h?(p=(0,m.jsx)(i.default.View,{layout:r,style:[d.atoms.absolute,d.atoms.curve_continuous,l,c,u,h]}),t[6]=a.atoms.bg,t[7]=c,t[8]=h,t[9]=p):p=t[9],p}},75281:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GhostText:()=>w,Icon:()=>v,Input:()=>b,LabelText:()=>j,Root:()=>x,SuffixText:()=>S,createInput:()=>y,useSharedInputStyles:()=>_});var o=s(63366),n=s(15991),a=s(95004),r=s(59550),i=s(8299),l=s(67842),c=s(17110),d=s(52621),u=s(19552),m=s(1814),h=s(23486),p=s(2629);const f=["label","placeholder","value","onChangeText","onFocus","onBlur","isInvalid","inputRef","style"],g=(0,a.createContext)({inputRef:null,isInvalid:!1,hovered:!1,onHoverIn:()=>{},onHoverOut:()=>{},focused:!1,onFocus:()=>{},onBlur:()=>{}});function x({children:e,isInvalid:t=!1,style:s}){const o=(0,a.useRef)(null),{state:n,onIn:r,onOut:i}=(0,m.useInteractionState)(),{state:c,onIn:d,onOut:h}=(0,m.useInteractionState)(),f=(0,a.useMemo)((()=>({inputRef:o,hovered:n,onHoverIn:r,onHoverOut:i,focused:c,onFocus:d,onBlur:h,isInvalid:t})),[o,n,r,i,c,d,h,t]);return(0,p.jsx)(g.Provider,{value:f,children:(0,p.jsx)(l.default,Object.assign({style:[u.atoms.flex_row,u.atoms.align_center,u.atoms.relative,u.atoms.w_full,u.atoms.px_md,s]},(0,u.web)({onClick:()=>o.current?.focus(),onMouseOver:r,onMouseOut:i}),{children:e}))})}function _(){const e=(0,n.c)(15),t=(0,u.useTheme)();let s,o,a,i,l;if(e[0]!==t.palette.contrast_100||e[1]!==t.palette.contrast_50||e[2]!==t.palette.negative_25||e[3]!==t.palette.negative_300||e[4]!==t.palette.negative_500||e[5]!==t.palette.primary_500){const n=[{borderColor:t.palette.contrast_100}],l=[{backgroundColor:t.palette.contrast_50,borderColor:t.palette.primary_500}],c=[{backgroundColor:t.palette.negative_25,borderColor:t.palette.negative_300}],d=[{backgroundColor:t.palette.negative_25,borderColor:t.palette.negative_500}];s=r.default.flatten(n),o=r.default.flatten(l),a=r.default.flatten(c),i=r.default.flatten(d),e[0]=t.palette.contrast_100,e[1]=t.palette.contrast_50,e[2]=t.palette.negative_25,e[3]=t.palette.negative_300,e[4]=t.palette.negative_500,e[5]=t.palette.primary_500,e[6]=s,e[7]=o,e[8]=a,e[9]=i}else s=e[6],o=e[7],a=e[8],i=e[9];return e[10]!==s||e[11]!==o||e[12]!==a||e[13]!==i?(l={chromeHover:s,chromeFocus:o,chromeError:a,chromeErrorHover:i},e[10]=s,e[11]=o,e[12]=a,e[13]=i,e[14]=l):l=e[14],l}function y(e){return function t(s){let{label:n,placeholder:i,value:m,onChangeText:h,onFocus:y,onBlur:b,isInvalid:j,inputRef:v,style:S}=s,w=(0,o.default)(s,f);const T=(0,u.useTheme)(),{fonts:k}=(0,u.useAlf)(),C=(0,a.useContext)(g),I=Boolean(C.inputRef),{chromeHover:A,chromeFocus:P,chromeError:E,chromeErrorHover:L}=_();if(!I)return(0,p.jsx)(x,{isInvalid:j,children:(0,p.jsx)(t,Object.assign({label:n,placeholder:i,value:m,onChangeText:h,isInvalid:j},w))});const R=(0,d.mergeRefs)([C.inputRef,v].filter(Boolean)),B=r.default.flatten([u.atoms.relative,u.atoms.z_20,u.atoms.flex_1,u.atoms.text_md,T.atoms.text,u.atoms.px_xs,{lineHeight:1.2*u.atoms.text_md.fontSize,textAlignVertical:w.multiline?"top":void 0,minHeight:w.multiline?80:void 0,minWidth:0,paddingTop:13,paddingBottom:13},(0,u.android)({paddingTop:8,paddingBottom:9}),(0,u.web)({paddingTop:11,paddingBottom:11,marginTop:2,marginBottom:2}),S]);return(0,u.applyFonts)(B,k.family),B.fontSize&&(B.fontSize=Math.round(B.fontSize*k.scaleMultiplier)),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e,Object.assign({accessibilityHint:void 0,hitSlop:c.HITSLOP_20},w,{accessibilityLabel:n,ref:R,value:m,onChangeText:h,onFocus:e=>{C.onFocus(),y?.(e)},onBlur:e=>{C.onBlur(),b?.(e)},placeholder:null===i?void 0:i||n,placeholderTextColor:T.palette.contrast_500,keyboardAppearance:"light"===T.name?"light":"dark",style:B})),(0,p.jsx)(l.default,{style:[u.atoms.z_10,u.atoms.absolute,u.atoms.inset_0,{borderRadius:10},T.atoms.bg_contrast_50,{borderColor:"transparent",borderWidth:2},C.hovered?A:{},C.focused?P:{},C.isInvalid||j?E:{},(C.isInvalid||j)&&(C.hovered||C.focused)?L:{}]})]})}}g.displayName="TextFieldContext";const b=y(i.default);function j(e){const t=(0,n.c)(6),{nativeID:s,children:o}=e,a=(0,u.useTheme)();let r,i;return t[0]!==a.atoms.text_contrast_medium?(r=[u.atoms.text_sm,u.atoms.font_medium,a.atoms.text_contrast_medium,u.atoms.mb_sm],t[0]=a.atoms.text_contrast_medium,t[1]=r):r=t[1],t[2]!==o||t[3]!==s||t[4]!==r?(i=(0,p.jsx)(h.Text,{nativeID:s,style:r,children:o}),t[2]=o,t[3]=s,t[4]=r,t[5]=i):i=t[5],i}function v(e){const t=(0,n.c)(39),{icon:s}=e,o=(0,u.useTheme)(),r=(0,a.useContext)(g);let i;t[0]!==o.palette.contrast_800?(i=[{color:o.palette.contrast_800}],t[0]=o.palette.contrast_800,t[1]=i):i=t[1];const c=i;let d;t[2]!==o.palette.primary_500?(d=[{color:o.palette.primary_500}],t[2]=o.palette.primary_500,t[3]=d):d=t[3];const m=d;let h;t[4]!==o.palette.negative_500?(h=[{color:o.palette.negative_500}],t[4]=o.palette.negative_500,t[5]=h):h=t[5];const f=h;let x;t[6]!==o.palette.negative_500?(x=[{color:o.palette.negative_500}],t[6]=o.palette.negative_500,t[7]=x):x=t[7];const _=x;let y;t[8]!==_||t[9]!==f||t[10]!==m||t[11]!==c?(y={hover:c,focus:m,errorHover:f,errorFocus:_},t[8]=_,t[9]=f,t[10]=m,t[11]=c,t[12]=y):y=t[12];const{hover:b,focus:j,errorHover:v,errorFocus:S}=y;let w,T,k,C,I,A,P,E;return t[13]===Symbol.for("react.memo_cache_sentinel")?(w=[u.atoms.z_20,u.atoms.pr_xs],t[13]=w):w=t[13],t[14]!==o.palette.contrast_500?(T={color:o.palette.contrast_500,pointerEvents:"none",flexShrink:0},t[14]=o.palette.contrast_500,t[15]=T):T=t[15],t[16]!==r.hovered||t[17]!==b?(k=r.hovered?b:{},t[16]=r.hovered,t[17]=b,t[18]=k):k=t[18],t[19]!==r.focused||t[20]!==j?(C=r.focused?j:{},t[19]=r.focused,t[20]=j,t[21]=C):C=t[21],t[22]!==r.hovered||t[23]!==r.isInvalid||t[24]!==v?(I=r.isInvalid&&r.hovered?v:{},t[22]=r.hovered,t[23]=r.isInvalid,t[24]=v,t[25]=I):I=t[25],t[26]!==r.focused||t[27]!==r.isInvalid||t[28]!==S?(A=r.isInvalid&&r.focused?S:{},t[26]=r.focused,t[27]=r.isInvalid,t[28]=S,t[29]=A):A=t[29],t[30]!==I||t[31]!==A||t[32]!==T||t[33]!==k||t[34]!==C?(P=[T,k,C,I,A],t[30]=I,t[31]=A,t[32]=T,t[33]=k,t[34]=C,t[35]=P):P=t[35],t[36]!==s||t[37]!==P?(E=(0,p.jsx)(l.default,{style:w,children:(0,p.jsx)(s,{size:"md",style:P})}),t[36]=s,t[37]=P,t[38]=E):E=t[38],E}function S(e){const t=(0,n.c)(14),{children:s,label:o,accessibilityHint:r,style:i}=e,l=(0,u.useTheme)(),c=(0,a.useContext)(g),d=l.atoms.text_contrast_medium;let m,f,x,_;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,u.web)([{marginTop:-2},u.atoms.leading_snug]),t[0]=m):m=t[0],t[1]!==c.focused||t[2]!==c.hovered||t[3]!==l.palette?(f=(c.hovered||c.focused)&&{color:l.palette.contrast_800},t[1]=c.focused,t[2]=c.hovered,t[3]=l.palette,t[4]=f):f=t[4],t[5]!==i||t[6]!==l.atoms.text_contrast_medium||t[7]!==f?(x=[u.atoms.z_20,u.atoms.pr_sm,u.atoms.text_md,d,u.atoms.pointer_events_none,m,f,i],t[5]=i,t[6]=l.atoms.text_contrast_medium,t[7]=f,t[8]=x):x=t[8],t[9]!==r||t[10]!==s||t[11]!==o||t[12]!==x?(_=(0,p.jsx)(h.Text,{accessibilityLabel:o,accessibilityHint:r,numberOfLines:1,style:x,children:s}),t[9]=r,t[10]=s,t[11]=o,t[12]=x,t[13]=_):_=t[13],_}function w(e){const t=(0,n.c)(12),{children:s,value:o}=e,a=(0,u.useTheme)();let r,i,c,d,m,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[u.atoms.pointer_events_none,u.atoms.absolute,u.atoms.z_10,{paddingLeft:(0,u.platform)({native:u.tokens.space.md+u.tokens.space.xl+u.tokens.space.xs+u.tokens.space.xs,web:u.tokens.space.xl+u.tokens.space.xs+u.tokens.space.xs})},(0,u.web)(u.atoms.pr_md),u.atoms.overflow_hidden,u.atoms.max_w_full],t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(i={color:"transparent"},t[1]=i):i=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[i,u.atoms.text_md,{lineHeight:1.1875*u.atoms.text_md.fontSize},u.atoms.w_full],t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(d={lineHeight:1.1875*u.atoms.text_md.fontSize},t[3]=d):d=t[3],t[4]!==a.atoms.text_contrast_low?(m=[a.atoms.text_contrast_low,u.atoms.text_md,d],t[4]=a.atoms.text_contrast_low,t[5]=m):m=t[5],t[6]!==m||t[7]!==o?(f=(0,p.jsx)(h.Text,{style:m,children:o}),t[6]=m,t[7]=o,t[8]=f):f=t[8],t[9]!==s||t[10]!==f?(g=(0,p.jsx)(l.default,{style:r,"aria-hidden":!0,accessibilityElementsHidden:!0,importantForAccessibility:"no-hide-descendants",children:(0,p.jsxs)(h.Text,{style:c,numberOfLines:1,children:[s,f]})}),t[9]=s,t[10]=f,t[11]=g):g=t[11],g}},92434:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BaseRadio:()=>R,Checkbox:()=>P,Group:()=>k,Item:()=>C,LabelText:()=>I,Panel:()=>_,PanelGroup:()=>j,PanelIcon:()=>b,PanelText:()=>y,Platform:()=>B,Radio:()=>L,Switch:()=>E,createSharedToggleStyles:()=>A,useItemContext:()=>T});var o=s(63366),n=s(15991),a=s(95004),r=s(41711),i=s(67842),l=s(61551),c=s(17110),d=s(27948),u=s(19552),m=s(1814),h=s(84639),p=s(23486),f=s(43535),g=s(2629);const x=(0,a.createContext)({active:!1});function _(e){const t=(0,n.c)(21),{children:s,active:o,adjacent:a}=e,r=void 0!==o&&o,l=(0,u.useTheme)(),c="leading"===a||"both"===a,d="trailing"===a||"both"===a,m=c?u.tokens.borderRadius.xs:u.tokens.borderRadius.md,h=c?u.tokens.borderRadius.xs:u.tokens.borderRadius.md,p=d?u.tokens.borderRadius.xs:u.tokens.borderRadius.md,f=d?u.tokens.borderRadius.xs:u.tokens.borderRadius.md;let _;t[0]!==m||t[1]!==h||t[2]!==p||t[3]!==f?(_={borderTopLeftRadius:m,borderTopRightRadius:h,borderBottomLeftRadius:p,borderBottomRightRadius:f},t[0]=m,t[1]=h,t[2]=p,t[3]=f,t[4]=_):_=t[4];const y=_;let b,j,v,S,w,T;return t[5]===Symbol.for("react.memo_cache_sentinel")?(b={minHeight:u.tokens.space._2xl+2*u.tokens.space.md},t[5]=b):b=t[5],t[6]!==r||t[7]!==l.atoms||t[8]!==l.palette?(j=r?{backgroundColor:l.palette.primary_50}:l.atoms.bg_contrast_50,t[6]=r,t[7]=l.atoms,t[8]=l.palette,t[9]=j):j=t[9],t[10]!==y||t[11]!==j?(v=[u.atoms.w_full,u.atoms.flex_row,u.atoms.align_center,u.atoms.gap_sm,u.atoms.px_md,u.atoms.py_md,b,y,j],t[10]=y,t[11]=j,t[12]=v):v=t[12],t[13]!==r?(S={active:r},t[13]=r,t[14]=S):S=t[14],t[15]!==s||t[16]!==S?(w=(0,g.jsx)(x,{value:S,children:s}),t[15]=s,t[16]=S,t[17]=w):w=t[17],t[18]!==w||t[19]!==v?(T=(0,g.jsx)(i.default,{style:v,children:w}),t[18]=w,t[19]=v,t[20]=T):T=t[20],T}function y(e){const t=(0,n.c)(13),{children:s,icon:o}=e,r=(0,u.useTheme)(),l=(0,a.useContext)(x);let c,d;t[0]!==l.active||t[1]!==r.atoms.text||t[2]!==r.atoms.text_contrast_medium?(c=[u.atoms.text_md,u.atoms.flex_1,l.active?[u.atoms.font_medium,r.atoms.text]:[r.atoms.text_contrast_medium]],t[0]=l.active,t[1]=r.atoms.text,t[2]=r.atoms.text_contrast_medium,t[3]=c):c=t[3],t[4]!==s||t[5]!==c?(d=(0,g.jsx)(p.Text,{style:c,children:s}),t[4]=s,t[5]=c,t[6]=d):d=t[6];const m=d;if(o){let e,s,n;return t[7]===Symbol.for("react.memo_cache_sentinel")?(e=[u.atoms.flex_row,u.atoms.align_center,u.atoms.gap_xs,u.atoms.flex_1],t[7]=e):e=t[7],t[8]!==o?(s=(0,g.jsx)(b,{icon:o}),t[8]=o,t[9]=s):s=t[9],t[10]!==s||t[11]!==m?(n=(0,g.jsxs)(i.default,{style:e,children:[s,m]}),t[10]=s,t[11]=m,t[12]=n):n=t[12],n}return m}function b(e){const t=(0,n.c)(5),{icon:s}=e,o=(0,u.useTheme)(),r=(0,a.useContext)(x).active?o.atoms.text:o.atoms.text_contrast_medium;let i,l;return t[0]!==r?(i=[r,u.atoms.flex_shrink_0],t[0]=r,t[1]=i):i=t[1],t[2]!==s||t[3]!==i?(l=(0,g.jsx)(s,{style:i,size:"md"}),t[2]=s,t[3]=i,t[4]=l):l=t[4],l}function j(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[u.atoms.w_full,u.atoms.gap_2xs],t[0]=o):o=t[0],t[1]!==s?(a=(0,g.jsx)(i.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}const v=["children","name","value","disabled","onChange","isInvalid","style","type","label"],S=(0,a.createContext)({name:"",selected:!1,disabled:!1,isInvalid:!1,hovered:!1,pressed:!1,focused:!1});S.displayName="ToggleItemContext";const w=(0,a.createContext)({type:"checkbox",values:[],disabled:!1,maxSelectionsReached:!1,setFieldValue:()=>{}});function T(){return(0,a.useContext)(S)}function k(e){const t=(0,n.c)(26),{children:s,values:o,onChange:a,disabled:r,type:l,maxSelections:c,label:d,style:m}=e,h=void 0!==r&&r,p=void 0===l?"checkbox":l,f="radio"===p?"radiogroup":void 0;let x;t[0]!==o||t[1]!==p?(x="radio"===p?o.slice(0,1):o,t[0]=o,t[1]=p,t[2]=x):x=t[2];const _=x;let y;t[3]!==a||t[4]!==p||t[5]!==_?(y=e=>{const{name:t,value:s}=e;if("checkbox"===p){const e=_.filter((e=>e!==t)),o=s?e.concat(t):e;a(o)}else a([t])},t[3]=a,t[4]=p,t[5]=_,t[6]=y):y=t[6];const b=y,j=!!("checkbox"===p&&c&&_.length>=c);let v;t[7]!==h||t[8]!==j||t[9]!==b||t[10]!==p||t[11]!==_?(v={values:_,type:p,disabled:h,maxSelectionsReached:j,setFieldValue:b},t[7]=h,t[8]=j,t[9]=b,t[10]=p,t[11]=_,t[12]=v):v=t[12];const S=v;let T,k,C,I;return t[13]!==m?(T=[u.atoms.w_full,m],t[13]=m,t[14]=T):T=t[14],t[15]!==f||t[16]!==d?(k="radiogroup"===f?{"aria-label":d,accessibilityLabel:d,accessibilityRole:f}:{},t[15]=f,t[16]=d,t[17]=k):k=t[17],t[18]!==s||t[19]!==f||t[20]!==T||t[21]!==k?(C=(0,g.jsx)(i.default,Object.assign({style:T,role:f},k,{children:s})),t[18]=s,t[19]=f,t[20]=T,t[21]=k,t[22]=C):C=t[22],t[23]!==S||t[24]!==C?(I=(0,g.jsx)(w.Provider,{value:S,children:C}),t[23]=S,t[24]=C,t[25]=I):I=t[25],I}function C(e){let{children:t,name:s,value:n=!1,disabled:i=!1,onChange:l,isInvalid:h,style:p,type:f="checkbox",label:x}=e,_=(0,o.default)(e,v);const{values:y,type:b,disabled:j,setFieldValue:T,maxSelectionsReached:k}=(0,a.useContext)(w),{state:C,onIn:I,onOut:A}=(0,m.useInteractionState)(),{state:P,onIn:E,onOut:L}=(0,m.useInteractionState)(),{state:R,onIn:B,onOut:D}=(0,m.useInteractionState)(),O=(0,d.useHaptics)(),M="radio"===b?"radio":f,F=y.includes(s)||!!n,N=j||i||!F&&k,H=(0,a.useCallback)((()=>{O("Light");const e=!F;T({name:s,value:e}),l?.(e)}),[O,s,F,l,T]),V=(0,a.useMemo)((()=>({name:s,selected:F,disabled:N??!1,isInvalid:h??!1,hovered:C,pressed:P,focused:R})),[s,F,N,C,P,R,h]);return(0,g.jsx)(S.Provider,{value:V,children:(0,g.jsx)(r.default,Object.assign({accessibilityHint:void 0,hitSlop:c.HITSLOP_10},_,{disabled:N,"aria-disabled":N??!1,"aria-checked":F,"aria-invalid":h,"aria-label":x,role:M,accessibilityRole:M,accessibilityState:{disabled:N??!1,selected:F},accessibilityLabel:x,onPress:H,onHoverIn:I,onHoverOut:A,onPressIn:E,onPressOut:L,onFocus:B,onBlur:D,style:[u.atoms.flex_row,u.atoms.align_center,u.atoms.gap_sm,p],children:"function"===typeof t?t(V):t}))})}function I(e){const t=(0,n.c)(9),{children:s,style:o}=e,a=(0,u.useTheme)(),{disabled:r}=T(),i=r?a.atoms.text_contrast_low.color:a.atoms.text_contrast_high.color;let l,c,d,m;return t[0]!==i?(l={color:i},t[0]=i,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,u.native)({paddingTop:2}),t[2]=c):c=t[2],t[3]!==o||t[4]!==l?(d=[u.atoms.font_semi_bold,u.atoms.leading_tight,u.atoms.user_select_none,l,c,o],t[3]=o,t[4]=l,t[5]=d):d=t[5],t[6]!==s||t[7]!==d?(m=(0,g.jsx)(p.Text,{style:d,children:s}),t[6]=s,t[7]=d,t[8]=m):m=t[8],m}function A({theme:e,hovered:t,selected:s,disabled:o,isInvalid:n}){const a=[],r=[];return s?(a.push({backgroundColor:e.palette.primary_500,borderColor:e.palette.primary_500}),t&&r.push({backgroundColor:e.palette.primary_400,borderColor:e.palette.primary_400})):(a.push({backgroundColor:e.palette.contrast_25,borderColor:e.palette.contrast_100}),t&&r.push({backgroundColor:e.palette.contrast_50,borderColor:e.palette.contrast_200})),n&&(a.push({backgroundColor:e.palette.negative_25,borderColor:e.palette.negative_300}),t&&r.push({backgroundColor:e.palette.negative_25,borderColor:e.palette.negative_600}),s&&(a.push({backgroundColor:e.palette.negative_500,borderColor:e.palette.negative_500}),t&&r.push({backgroundColor:e.palette.negative_400,borderColor:e.palette.negative_400}))),o&&(a.push({backgroundColor:e.palette.contrast_100,borderColor:e.palette.contrast_400}),s&&a.push({backgroundColor:e.palette.primary_100,borderColor:e.palette.contrast_400})),{baseStyles:a,baseHoverStyles:o?[]:r,indicatorStyles:[]}}function P(){const e=(0,n.c)(21),t=(0,u.useTheme)(),{selected:s,hovered:o,focused:a,disabled:r,isInvalid:l}=T();let c;e[0]!==r||e[1]!==a||e[2]!==o||e[3]!==l||e[4]!==s||e[5]!==t?(c=A({theme:t,hovered:o,focused:a,selected:s,disabled:r,isInvalid:l}),e[0]=r,e[1]=a,e[2]=o,e[3]=l,e[4]=s,e[5]=t,e[6]=c):c=e[6];const{baseStyles:d,baseHoverStyles:m}=c;let p,f,x,_,y;return e[7]===Symbol.for("react.memo_cache_sentinel")?(p={borderWidth:1,height:24,width:24,borderRadius:6},e[7]=p):p=e[7],e[8]!==m||e[9]!==o?(f=o?m:{},e[8]=m,e[9]=o,e[10]=f):f=e[10],e[11]!==d||e[12]!==t.atoms.border_contrast_high||e[13]!==f?(x=[u.atoms.justify_center,u.atoms.align_center,t.atoms.border_contrast_high,u.atoms.transition_color,p,d,f],e[11]=d,e[12]=t.atoms.border_contrast_high,e[13]=f,e[14]=x):x=e[14],e[15]!==s||e[16]!==t.palette?(_=s&&(0,g.jsx)(h.CheckThick_Stroke2_Corner0_Rounded,{width:14,fill:t.palette.white}),e[15]=s,e[16]=t.palette,e[17]=_):_=e[17],e[18]!==x||e[19]!==_?(y=(0,g.jsx)(i.default,{style:x,children:_}),e[18]=x,e[19]=_,e[20]=y):y=e[20],y}function E(){const e=(0,n.c)(65),t=(0,u.useTheme)(),{selected:s,hovered:o,disabled:a,isInvalid:r}=T();let c,d,m,h,p;if(e[0]!==a||e[1]!==o||e[2]!==r||e[3]!==s||e[4]!==t.palette.contrast_100||e[5]!==t.palette.contrast_200||e[6]!==t.palette.contrast_50||e[7]!==t.palette.negative_100||e[8]!==t.palette.negative_200||e[9]!==t.palette.negative_400||e[10]!==t.palette.negative_500||e[11]!==t.palette.primary_100||e[12]!==t.palette.primary_400||e[13]!==t.palette.primary_500){let n;if(c=[],d=[],e[17]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[17]=n):n=e[17],m=n,s){let s;if(e[18]!==t.palette.primary_500?(s={backgroundColor:t.palette.primary_500},e[18]=t.palette.primary_500,e[19]=s):s=e[19],c.push(s),o){let s;e[20]!==t.palette.primary_400?(s={backgroundColor:t.palette.primary_400},e[20]=t.palette.primary_400,e[21]=s):s=e[21],d.push(s)}}else{let s;if(e[22]!==t.palette.contrast_200?(s={backgroundColor:t.palette.contrast_200},e[22]=t.palette.contrast_200,e[23]=s):s=e[23],c.push(s),o){let s;e[24]!==t.palette.contrast_100?(s={backgroundColor:t.palette.contrast_100},e[24]=t.palette.contrast_100,e[25]=s):s=e[25],d.push(s)}}if(r){let n;if(e[26]!==t.palette.negative_200?(n={backgroundColor:t.palette.negative_200},e[26]=t.palette.negative_200,e[27]=n):n=e[27],c.push(n),o){let s;e[28]!==t.palette.negative_100?(s={backgroundColor:t.palette.negative_100},e[28]=t.palette.negative_100,e[29]=s):s=e[29],d.push(s)}if(s){let s;if(e[30]!==t.palette.negative_500?(s={backgroundColor:t.palette.negative_500},e[30]=t.palette.negative_500,e[31]=s):s=e[31],c.push(s),o){let s;e[32]!==t.palette.negative_400?(s={backgroundColor:t.palette.negative_400},e[32]=t.palette.negative_400,e[33]=s):s=e[33],d.push(s)}}}if(a){let o;if(e[34]!==t.palette.contrast_50?(o={backgroundColor:t.palette.contrast_50},e[34]=t.palette.contrast_50,e[35]=o):o=e[35],c.push(o),s){let s;e[36]!==t.palette.primary_100?(s={backgroundColor:t.palette.primary_100},e[36]=t.palette.primary_100,e[37]=s):s=e[37],c.push(s)}}e[0]=a,e[1]=o,e[2]=r,e[3]=s,e[4]=t.palette.contrast_100,e[5]=t.palette.contrast_200,e[6]=t.palette.contrast_50,e[7]=t.palette.negative_100,e[8]=t.palette.negative_200,e[9]=t.palette.negative_400,e[10]=t.palette.negative_500,e[11]=t.palette.primary_100,e[12]=t.palette.primary_400,e[13]=t.palette.primary_500,e[14]=c,e[15]=d,e[16]=m}else c=e[14],d=e[15],m=e[16];e[38]!==d||e[39]!==a?(h=a?[]:d,e[38]=d,e[39]=a,e[40]=h):h=e[40],e[41]!==c||e[42]!==m||e[43]!==h?(p={baseStyles:c,baseHoverStyles:h,indicatorStyles:m},e[41]=c,e[42]=m,e[43]=h,e[44]=p):p=e[44];const{baseStyles:f,baseHoverStyles:x,indicatorStyles:_}=p;let y,b,j,v,S,w,k,C;return e[45]===Symbol.for("react.memo_cache_sentinel")?(y={height:28,width:48,padding:3},e[45]=y):y=e[45],e[46]!==x||e[47]!==o?(b=o?x:{},e[46]=x,e[47]=o,e[48]=b):b=e[48],e[49]!==f||e[50]!==t.atoms.bg||e[51]!==b?(j=[u.atoms.relative,u.atoms.rounded_full,t.atoms.bg,y,u.atoms.transition_color,f,b],e[49]=f,e[50]=t.atoms.bg,e[51]=b,e[52]=j):j=e[52],e[53]===Symbol.for("react.memo_cache_sentinel")?(v=l.LinearTransition.duration((0,u.platform)({web:100,default:200})).easing(l.Easing.inOut(l.Easing.cubic)),e[53]=v):v=e[53],e[54]!==t.palette.white?(S={backgroundColor:t.palette.white,height:22,width:22},e[54]=t.palette.white,e[55]=S):S=e[55],e[56]!==s?(w=s?{alignSelf:"flex-end"}:{alignSelf:"flex-start"},e[56]=s,e[57]=w):w=e[57],e[58]!==_||e[59]!==S||e[60]!==w?(k=(0,g.jsx)(l.default.View,{layout:v,style:[u.atoms.rounded_full,S,w,_]}),e[58]=_,e[59]=S,e[60]=w,e[61]=k):k=e[61],e[62]!==j||e[63]!==k?(C=(0,g.jsx)(i.default,{style:j,children:k}),e[62]=j,e[63]=k,e[64]=C):C=e[64],C}function L(){const e=(0,n.c)(2),t=(0,a.useContext)(S);let s;return e[0]!==t?(s=(0,g.jsx)(R,Object.assign({},t)),e[0]=t,e[1]=s):s=e[1],s}function R(e){const t=(0,n.c)(22),{hovered:s,focused:o,selected:a,disabled:r,isInvalid:l}=e,c=(0,u.useTheme)();let d;t[0]!==r||t[1]!==o||t[2]!==s||t[3]!==l||t[4]!==a||t[5]!==c?(d=A({theme:c,hovered:s,focused:o,selected:a,disabled:r,isInvalid:l}),t[0]=r,t[1]=o,t[2]=s,t[3]=l,t[4]=a,t[5]=c,t[6]=d):d=t[6];const{baseStyles:m,baseHoverStyles:h,indicatorStyles:p}=d;let f,x,_,y,b;return t[7]===Symbol.for("react.memo_cache_sentinel")?(f={borderWidth:1,height:25,width:25,margin:-1},t[7]=f):f=t[7],t[8]!==h||t[9]!==s?(x=s?h:{},t[8]=h,t[9]=s,t[10]=x):x=t[10],t[11]!==m||t[12]!==c.atoms.border_contrast_high||t[13]!==x?(_=[u.atoms.justify_center,u.atoms.align_center,u.atoms.rounded_full,c.atoms.border_contrast_high,u.atoms.transition_color,f,m,x],t[11]=m,t[12]=c.atoms.border_contrast_high,t[13]=x,t[14]=_):_=t[14],t[15]!==p||t[16]!==a||t[17]!==c.palette?(y=a&&(0,g.jsx)(i.default,{style:[u.atoms.absolute,u.atoms.rounded_full,{height:12,width:12},{backgroundColor:c.palette.white},p]}),t[15]=p,t[16]=a,t[17]=c.palette,t[18]=y):y=t[18],t[19]!==_||t[20]!==y?(b=(0,g.jsx)(i.default,{style:_,children:y}),t[19]=_,t[20]=y,t[21]=b):b=t[21],b}w.displayName="ToggleGroupContext";const B=f.IS_NATIVE?E:P},70824:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Button:()=>h,ButtonText:()=>f,Group:()=>m});var o=s(63366),n=s(15991),a=(s(95004),s(67842)),r=s(19552),i=s(92434),l=s(23486),c=s(2629);const d=["children","multiple"],u=["children"];function m(e){const t=(0,n.c)(14);let s,l,u;if(t[0]!==e){var m=e;({children:s,multiple:l}=m),u=(0,o.default)(m,d),t[0]=e,t[1]=s,t[2]=l,t[3]=u}else s=t[1],l=t[2],u=t[3];const h=(0,r.useTheme)(),p=l?"checkbox":"radio";let f,g,x,_;return t[4]===Symbol.for("react.memo_cache_sentinel")?(f={borderWidth:1},t[4]=f):f=t[4],t[5]!==h.atoms.border_contrast_low?(g=[r.atoms.w_full,r.atoms.flex_row,r.atoms.rounded_sm,r.atoms.overflow_hidden,h.atoms.border_contrast_low,f],t[5]=h.atoms.border_contrast_low,t[6]=g):g=t[6],t[7]!==s||t[8]!==g?(x=(0,c.jsx)(a.default,{style:g,children:s}),t[7]=s,t[8]=g,t[9]=x):x=t[9],t[10]!==u||t[11]!==p||t[12]!==x?(_=(0,c.jsx)(i.Group,Object.assign({type:p},u,{children:x})),t[10]=u,t[11]=p,t[12]=x,t[13]=_):_=t[13],_}function h(e){const t=(0,n.c)(9);let s,a,l,d,m;if(t[0]!==e){var h=e;({children:s}=h),a=(0,o.default)(h,u),t[0]=e,t[1]=s,t[2]=a}else s=t[1],a=t[2];return t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[r.atoms.flex_grow,r.atoms.flex_1],t[3]=l):l=t[3],t[4]!==s?(d=(0,c.jsx)(p,{children:s}),t[4]=s,t[5]=d):d=t[5],t[6]!==a||t[7]!==d?(m=(0,c.jsx)(i.Item,Object.assign({},a,{style:l,children:d})),t[6]=a,t[7]=d,t[8]=m):m=t[8],m}function p(e){const t=(0,n.c)(26),{children:s}=e,o=(0,r.useTheme)(),l=i.useItemContext();let d;if(t[0]!==l.disabled||t[1]!==l.selected||t[2]!==o.atoms.bg_contrast_100||t[3]!==o.atoms.bg_contrast_25||t[4]!==o.name||t[5]!==o.palette){const e=[],s=[],n=[];if(s.push("light"===o.name?o.atoms.bg_contrast_100:o.atoms.bg_contrast_25),l.selected){let e,a;if(t[7]!==o.palette.contrast_800?(e={backgroundColor:o.palette.contrast_800},t[7]=o.palette.contrast_800,t[8]=e):e=t[8],n.push(e),t[9]!==o.palette.contrast_800?(a={backgroundColor:o.palette.contrast_800},t[9]=o.palette.contrast_800,t[10]=a):a=t[10],s.push(a),l.disabled){let e;t[11]!==o.palette.contrast_500?(e={backgroundColor:o.palette.contrast_500},t[11]=o.palette.contrast_500,t[12]=e):e=t[12],n.push(e)}}if(l.disabled){let s;t[13]!==o.palette.contrast_100?(s={backgroundColor:o.palette.contrast_100},t[13]=o.palette.contrast_100,t[14]=s):s=t[14],e.push(s)}d={baseStyles:e,hoverStyles:s,activeStyles:n},t[0]=l.disabled,t[1]=l.selected,t[2]=o.atoms.bg_contrast_100,t[3]=o.atoms.bg_contrast_25,t[4]=o.name,t[5]=o.palette,t[6]=d}else d=t[6];const{baseStyles:u,hoverStyles:m,activeStyles:h}=d;let p,f;t[15]===Symbol.for("react.memo_cache_sentinel")?(p={borderLeftWidth:1,marginLeft:-1},t[15]=p):p=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.native)({paddingBottom:10}),t[16]=f):f=t[16];const g=(l.hovered||l.pressed)&&m;let x,_;return t[17]!==h||t[18]!==u||t[19]!==o.atoms.bg||t[20]!==o.atoms.border_contrast_low||t[21]!==g?(x=[p,r.atoms.flex_grow,r.atoms.py_md,f,r.atoms.px_md,o.atoms.bg,o.atoms.border_contrast_low,u,h,g],t[17]=h,t[18]=u,t[19]=o.atoms.bg,t[20]=o.atoms.border_contrast_low,t[21]=g,t[22]=x):x=t[22],t[23]!==s||t[24]!==x?(_=(0,c.jsx)(a.default,{style:x,children:s}),t[23]=s,t[24]=x,t[25]=_):_=t[25],_}function f(e){const t=(0,n.c)(11),{children:s}=e,o=(0,r.useTheme)(),a=i.useItemContext();let d;if(t[0]!==a.disabled||t[1]!==a.selected||t[2]!==o.atoms.text_inverted){if(d=[],a.selected&&d.push(o.atoms.text_inverted),a.disabled){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e={opacity:.5},t[4]=e):e=t[4],d.push(e)}t[0]=a.disabled,t[1]=a.selected,t[2]=o.atoms.text_inverted,t[3]=d}else d=t[3];const u=d;let m,h;return t[5]!==o.atoms.text_contrast_medium||t[6]!==u?(m=[r.atoms.text_center,r.atoms.font_semi_bold,o.atoms.text_contrast_medium,u],t[5]=o.atoms.text_contrast_medium,t[6]=u,t[7]=m):m=t[7],t[8]!==s||t[9]!==m?(h=(0,c.jsx)(l.Text,{style:m,children:s}),t[8]=s,t[9]=m,t[10]=h):h=t[10],h}},1814:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useInteractionState:()=>a});var o=s(15991),n=s(95004);function a(){const e=(0,o.c)(4),[t,s]=n.useState(!1);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{s(!0)},e[0]=a):a=e[0];const r=a;let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{s(!1)},e[1]=i):i=e[1];const l=i;let c;return e[2]!==t?(c={state:t,onIn:r,onOut:l},e[2]=t,e[3]=c):c=e[3],c}},37777:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useRichText:()=>i});var o=s(15991),n=s(95004),a=s(66949),r=s(97154);function i(e){const t=(0,o.c)(9),[s,i]=n.useState(e);let l;t[0]!==e?(l=()=>new a.RichText({text:e}),t[0]=e,t[1]=l):l=t[1];const[c,d]=n.useState(l),[u,m]=n.useState(null),h=(0,r.useAgent)();let p,f;e!==s&&(i(e),d(new a.RichText({text:e})),m(null)),t[2]!==h||t[3]!==e?(p=()=>{let t=!1;return async function(){const s=new a.RichText({text:e});await s.detectFacets(h),t||m(s)}(),()=>{t=!0}},f=[e,h],t[2]=h,t[3]=e,t[4]=p,t[5]=f):(p=t[4],f=t[5]),n.useEffect(p,f);const g=null===u,x=u??c;let _;return t[6]!==g||t[7]!==x?(_=[x,g],t[6]=g,t[7]=x,t[8]=_):_=t[8],_}},11721:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Alien_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M5 11a7 7 0 0 1 14 0c0 2.625-1.547 5.138-3.354 7.066a17.23 17.23 0 0 1-2.55 2.242 8.246 8.246 0 0 1-.924.577 2.904 2.904 0 0 1-.172.083 2.904 2.904 0 0 1-.172-.083 8.246 8.246 0 0 1-.923-.577 17.227 17.227 0 0 1-2.55-2.242C6.547 16.138 5 13.625 5 11Zm6.882 10.012Zm.232-.001h-.003a.047.047 0 0 0 .007.001l-.004-.001ZM12 2a9 9 0 0 0-9 9c0 3.375 1.953 6.362 3.895 8.434a19.216 19.216 0 0 0 2.856 2.508c.425.3.82.545 1.159.72.168.087.337.164.498.222.14.05.356.116.592.116s.451-.066.592-.116c.16-.058.33-.135.498-.222.339-.175.734-.42 1.159-.72.85-.6 1.87-1.457 2.856-2.508C19.047 17.362 21 14.375 21 11a9 9 0 0 0-9-9ZM7.38 9.927c2.774-.094 3.459 1.31 3.591 3.19a.89.89 0 0 1-.855.956c-2.774.094-3.458-1.31-3.59-3.19a.89.89 0 0 1 .854-.956Zm9.236 0c-2.774-.094-3.458 1.31-3.59 3.19a.89.89 0 0 0 .854.956c2.774.094 3.459-1.31 3.591-3.19a.89.89 0 0 0-.855-.956Z"})},84857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ArrowBottom_Stroke2_Corner0_Rounded:()=>l,ArrowLeft_Stroke2_Corner0_Rounded:()=>r,ArrowRight_Stroke2_Corner0_Rounded:()=>i,ArrowTopRight_Stroke2_Corner0_Rounded:()=>n,ArrowTop_Stroke2_Corner0_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M8 6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0V8.414l-9.793 9.793a1 1 0 0 1-1.414-1.414L15.586 7H9a1 1 0 0 1-1-1Z"}),a=(0,o.createSinglePathSVG)({path:"M11 20V6.164l-4.293 4.293a1 1 0 1 1-1.414-1.414l5.293-5.293.151-.138a2 2 0 0 1 2.677.138l5.293 5.293.068.076a1 1 0 0 1-1.406 1.406l-.076-.068L13 6.164V20a1 1 0 0 1-2 0Z"}),r=(0,o.createSinglePathSVG)({path:"M3 12a1 1 0 0 1 .293-.707l6-6a1 1 0 0 1 1.414 1.414L6.414 11H20a1 1 0 1 1 0 2H6.414l4.293 4.293a1 1 0 0 1-1.414 1.414l-6-6A1 1 0 0 1 3 12Z"}),i=(0,o.createSinglePathSVG)({path:"M21 12a1 1 0 0 1-.293.707l-6 6a1 1 0 0 1-1.414-1.414L17.586 13H4a1 1 0 1 1 0-2h13.586l-4.293-4.293a1 1 0 0 1 1.414-1.414l6 6A1 1 0 0 1 21 12Z"}),l=(0,o.createSinglePathSVG)({path:"M12 21a1 1 0 0 1-.707-.293l-6-6a1 1 0 1 1 1.414-1.414L11 17.586V4a1 1 0 1 1 2 0v13.586l4.293-4.293a1 1 0 0 1 1.414 1.414l-6 6A1 1 0 0 1 12 21Z"})},43261:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ArrowRotateClockwise_Stroke2_Corner0_Rounded:()=>a,ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M5 3a1 1 0 0 1 1 1v1.423c.498-.46 1.02-.869 1.58-1.213C8.863 3.423 10.302 3 12.028 3a9 9 0 1 1-8.487 12 1 1 0 0 1 1.885-.667A7 7 0 1 0 12.028 5c-1.37 0-2.444.327-3.402.915-.474.29-.93.652-1.383 1.085H9a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z"}),a=(0,o.createSinglePathSVG)({path:"M2.972 12a9 9 0 0 1 9-9c1.726 0 3.165.423 4.448 1.21.561.344 1.082.756 1.58 1.218V4a1 1 0 1 1 2 0v4a1 1 0 0 1-1 1h-4a1 1 0 1 1 0-2h1.756a8.3 8.3 0 0 0-1.382-1.085C14.417 5.327 13.341 5 11.972 5a7 7 0 1 0 6.601 9.333A1 1 0 0 1 20.46 15a9 9 0 0 1-17.487-3Z"})},56876:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BellRinging_Filled_Corner0_Rounded:()=>a,BellRinging_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M12 2a7.854 7.854 0 0 1 7.785 6.815l1.055 7.92.018.224a2 2 0 0 1-2 2.041h-2.215c-.904 1.747-2.605 3-4.643 3s-3.739-1.253-4.643-3H5.142a2 2 0 0 1-1.982-2.265l1.056-7.92.057-.363A7.854 7.854 0 0 1 12 2ZM9.78 19c.609.637 1.398 1 2.22 1s1.611-.363 2.22-1H9.78ZM12 4a5.854 5.854 0 0 0-5.76 4.81l-.041.27L5.142 17h13.716l-1.056-7.92A5.854 5.854 0 0 0 12 4ZM2.718 7.464a1 1 0 1 1-1.953-.427l1.953.427Zm20.518-.427a1 1 0 0 1-1.954.427l1.954-.427ZM3.193 2.105a1 1 0 0 1 1.531 1.287 9.47 9.47 0 0 0-2.006 4.072L.765 7.037a11.46 11.46 0 0 1 2.428-4.932Zm16.205-.123a1 1 0 0 1 1.34.047l.069.076.217.265a11.46 11.46 0 0 1 2.212 4.667l-.978.213-.976.214a9.46 9.46 0 0 0-1.826-3.853l-.18-.22-.062-.081a1 1 0 0 1 .184-1.328Z"}),a=(0,o.createSinglePathSVG)({path:"M12 2a7.854 7.854 0 0 1 7.784 6.815l1.207 9.053a1 1 0 0 1-.99 1.132h-3.354c-.904 1.748-2.608 3-4.647 3-2.038 0-3.742-1.252-4.646-3H4a1.002 1.002 0 0 1-.991-1.132l1.207-9.053A7.85 7.85 0 0 1 12 2ZM9.78 19c.608.637 1.398 1 2.221 1s1.613-.363 2.222-1H9.779ZM3.193 2.104a1 1 0 0 1 1.53 1.288A9.47 9.47 0 0 0 2.72 7.464a1 1 0 0 1-1.954-.427 11.46 11.46 0 0 1 2.428-4.933Zm16.205-.122a1 1 0 0 1 1.409.122 11.47 11.47 0 0 1 2.429 4.933 1 1 0 0 1-1.954.427 9.47 9.47 0 0 0-2.006-4.072 1 1 0 0 1 .122-1.41Z"})},66428:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BirthdayCake_Stroke2_Corner2_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"m12 .757 2.122 2.122A3 3 0 0 1 13 7.829V9h4.5a3 3 0 0 1 3 3v1.646c0 .603-.18 1.177-.5 1.658V19a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-3.696a3 3 0 0 1-.5-1.658V12a3 3 0 0 1 3-3H11V7.829a3 3 0 0 1-1.121-4.95L12 .757ZM6.5 11a1 1 0 0 0-1 1v1.646a1 1 0 0 0 .629.928l.5.2a1 1 0 0 0 .742 0l1.015-.405a3 3 0 0 1 2.228 0l1.015.405a1 1 0 0 0 .742 0l1.015-.405a3 3 0 0 1 2.228 0l1.015.405a1 1 0 0 0 .742 0l.5-.2a1 1 0 0 0 .629-.928V12a1 1 0 0 0-1-1h-11ZM6 16.674V19a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2.326a3 3 0 0 1-2.114-.043l-1.015-.405a1 1 0 0 0-.742 0l-1.015.405a3 3 0 0 1-2.228 0l-1.015-.405a1 1 0 0 0-.742 0l-1.015.405A3 3 0 0 1 6 16.674ZM12.002 6a1 1 0 0 0 .706-1.707L12 3.586l-.707.707A1 1 0 0 0 12.002 6Z"})},27689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BubbleInfo_Stroke2_Corner2_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M6.002 5h12a1 1 0 0 1 1 1v10.036a1 1 0 0 1-1 1h-2.626a2 2 0 0 0-1.276.46l-2.098 1.738-2.065-1.731a2 2 0 0 0-1.285-.467h-2.65a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm12-2h-12a3 3 0 0 0-3 3v10.036a3 3 0 0 0 3 3h2.65l2.704 2.266a1 1 0 0 0 1.28.004l2.74-2.27h2.626a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3ZM13 11.75a1 1 0 1 0-2 0v2a1 1 0 1 0 2 0v-2ZM12 10a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"})},11226:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CalendarDays_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Zm1 16V9h14v10H5ZM5 7h14V5H5v2Zm3 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM17.25 12a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM12 13.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM9.25 12a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM12 17.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"})},23173:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Camera_Filled_Stroke2_Corner0_Rounded:()=>a,Camera_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M8.371 3.89A2 2 0 0 1 10.035 3h3.93a2 2 0 0 1 1.664.89L17.035 6H20a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.965L8.37 3.89ZM13.965 5h-3.93L8.63 7.11A2 2 0 0 1 6.965 8H4v11h16V8h-2.965a2 2 0 0 1-1.664-.89L13.965 5ZM12 11a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),a=(0,o.createSinglePathSVG)({path:"M8.371 3.89A2 2 0 0 1 10.035 3h3.93a2 2 0 0 1 1.664.89L17.035 6H20a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.965L8.37 3.89ZM12 9a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z"})},84639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CheckThick_Stroke2_Corner0_Rounded:()=>a,Check_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M21.59 3.193a1 1 0 0 1 .217 1.397l-11.706 16a1 1 0 0 1-1.429.193l-6.294-5a1 1 0 1 1 1.244-1.566l5.48 4.353 11.09-15.16a1 1 0 0 1 1.398-.217Z"}),a=(0,o.createSinglePathSVG)({path:"M21.474 2.98a2.5 2.5 0 0 1 .545 3.494l-10.222 14a2.5 2.5 0 0 1-3.528.52L2.49 16.617a2.5 2.5 0 0 1 3.018-3.986l3.75 2.84L17.98 3.525a2.5 2.5 0 0 1 3.493-.545Z"})},52783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ChevronBottom_Stroke2_Corner0_Rounded:()=>i,ChevronLeft_Stroke2_Corner0_Rounded:()=>n,ChevronRight_Stroke2_Corner0_Rounded:()=>a,ChevronTopBottom_Stroke2_Corner0_Rounded:()=>l,ChevronTop_Stroke2_Corner0_Rounded:()=>r,TinyChevronBottom_Stroke2_Corner0_Rounded:()=>c});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M15.707 3.293a1 1 0 0 1 0 1.414L8.414 12l7.293 7.293a1 1 0 0 1-1.414 1.414l-8-8a1 1 0 0 1 0-1.414l8-8a1 1 0 0 1 1.414 0Z"}),a=(0,o.createSinglePathSVG)({path:"M8.293 3.293a1 1 0 0 1 1.414 0l8 8a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414-1.414L15.586 12 8.293 4.707a1 1 0 0 1 0-1.414Z"}),r=(0,o.createSinglePathSVG)({path:"M12 6a1 1 0 0 1 .707.293l8 8a1 1 0 0 1-1.414 1.414L12 8.414l-7.293 7.293a1 1 0 0 1-1.414-1.414l8-8A1 1 0 0 1 12 6Z"}),i=(0,o.createSinglePathSVG)({path:"M3.293 8.293a1 1 0 0 1 1.414 0L12 15.586l7.293-7.293a1 1 0 1 1 1.414 1.414l-8 8a1 1 0 0 1-1.414 0l-8-8a1 1 0 0 1 0-1.414Z"}),l=(0,o.createSinglePathSVG)({path:"M11.293 4.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L12 6.414 8.707 9.707a1 1 0 0 1-1.414-1.414l4-4Zm-4 10a1 1 0 0 1 1.414 0L12 17.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414Z"}),c=(0,o.createSinglePathSVG)({path:"M10.928 18.882c.757.499 1.786.417 2.452-.25l9-9a1.953 1.953 0 0 0-2.76-2.76L12 14.493l-7.62-7.62a1.952 1.952 0 0 0-2.76 2.76l9 9 .308.25Z"})},38906:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CircleBanSign_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 4a8 8 0 0 0-6.32 12.906L16.906 5.68A7.962 7.962 0 0 0 12 4Zm6.32 3.094L7.094 18.32A8 8 0 0 0 18.32 7.094ZM2 12C2 6.477 6.477 2 12 2a9.972 9.972 0 0 1 7.071 2.929A9.972 9.972 0 0 1 22 12c0 5.523-4.477 10-10 10a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12Z"})},48983:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CircleCheck_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.633-3.274a1 1 0 0 1 .141 1.407l-4.5 5.5a1 1 0 0 1-1.481.074l-2-2a1 1 0 1 1 1.414-1.414l1.219 1.219 3.8-4.645a1 1 0 0 1 1.407-.141Z"})},8347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CircleInfo_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8-1a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-4a1 1 0 0 1-1-1Zm1-3a1 1 0 1 0 2 0 1 1 0 0 0-2 0Z"})},40265:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CircleQuestion_Stroke2_Corner2_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Z M12 9a1 1 0 0 0-.879.522 1 1 0 0 1-1.754-.96A3 3 0 0 1 12 7c1.515 0 2.567 1.006 2.866 2.189.302 1.189-.156 2.574-1.524 3.258A.62.62 0 0 0 13 13a1 1 0 1 1-2 0c0-.992.56-1.898 1.447-2.342.455-.227.572-.618.48-.978C12.836 9.314 12.529 9 12 9Z M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"})},26628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CircleX_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm6.293-3.707a1 1 0 0 1 1.414 0L12 10.586l2.293-2.293a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L10.586 12 8.293 9.707a1 1 0 0 1 0-1.414Z"})},2101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EditBig_Stroke1_Corner0_Rounded:()=>n,EditBig_Stroke2_Corner0_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({viewBox:"0 0 48 48",path:"M19.667 4.458a1 1 0 1 0 0-2v2Zm25 23a1 1 0 0 0-2 0h2ZM3.912 45.543l.454-.891-.454.89Zm-2.33-2.33.89-.455h0l-.89.454Zm39.173 2.33-.454-.891h0l.454.89Zm2.33-2.33-.89-.455.89.454ZM1.581 6.37l-.89-.454h0l.89.454Zm2.331-2.331-.454-.891.454.89ZM14.333 32.79h-1a1 1 0 0 0 1 1v-1Zm.781-8.781.707.707-.707-.707ZM36.562 2.562l-.707-.707v0l.707.707Zm7.543 0-.707.707v0l.707-.707Zm.457.458.707-.707v0l-.707.707Zm0 7.542.707.707-.707-.707ZM23.114 32.01l.707.707-.707-.707Zm12.02 14.114v-1h-25.6v2h25.6v-1ZM1 37.591h1v-25.6H0v25.6h1ZM9.533 3.458v1h10.134v-2H9.533v1Zm34.134 24h-1V37.59h2V27.457h-1ZM9.533 46.124v-1c-1.51 0-2.582 0-3.421-.07-.828-.067-1.34-.195-1.746-.402l-.454.89-.454.892c.735.374 1.54.537 2.491.614.94.077 2.107.076 3.584.076v-1ZM1 37.591H0c0 1.477 0 2.645.076 3.584.078.951.24 1.756.614 2.491l.891-.454.891-.454c-.207-.406-.335-.918-.403-1.746C2.001 40.173 2 39.101 2 37.591H1Zm2.912 7.952.454-.891a4.33 4.33 0 0 1-1.894-1.894l-.89.454-.892.454a6.33 6.33 0 0 0 2.768 2.768l.454-.891Zm31.221.581v1c1.477 0 2.645.001 3.585-.076.95-.078 1.756-.24 2.49-.614l-.453-.891-.454-.891c-.406.207-.919.335-1.746.403-.84.068-1.912.07-3.422.07v1Zm8.534-8.533h-1c0 1.51-.001 2.582-.07 3.421-.067.828-.196 1.34-.403 1.746l.891.454.891.454c.375-.735.537-1.54.615-2.49.076-.94.076-2.108.076-3.585h-1Zm-2.912 7.952.454.89a6.33 6.33 0 0 0 2.767-2.767l-.89-.454-.892-.454a4.33 4.33 0 0 1-1.893 1.894l.454.89ZM1 11.99h1c0-1.51 0-2.582.07-3.422.067-.827.195-1.34.402-1.745l-.89-.454-.892-.454c-.374.734-.536 1.54-.614 2.49C-.001 9.345 0 10.513 0 11.99h1Zm8.533-8.533v-1c-1.477 0-2.645-.001-3.584.076-.951.077-1.756.24-2.49.614l.453.89.454.892c.406-.207.918-.336 1.746-.403.839-.069 1.911-.07 3.421-.07v-1ZM1.581 6.37l.891.454A4.33 4.33 0 0 1 4.366 4.93l-.454-.891-.454-.891A6.33 6.33 0 0 0 .69 5.916l.891.454Zm12.752 19.525h-1v6.896h2v-6.896h-1Zm0 6.896v1h6.896v-2h-6.896v1Zm.781-8.781.707.707L37.27 3.269l-.707-.707-.707-.707-21.448 21.448.707.707Zm28.99-21.448-.706.707.457.458.707-.707.707-.707-.457-.458-.707.707Zm.458 8-.707-.707-21.448 21.448.707.707.707.707L45.27 11.269l-.707-.707Zm0-7.542-.707.707a4.333 4.333 0 0 1 0 6.128l.707.707.707.707a6.333 6.333 0 0 0 0-8.956l-.707.707Zm-8-.458.707.707a4.333 4.333 0 0 1 6.129 0l.707-.707.707-.707a6.333 6.333 0 0 0-8.957 0l.707.707ZM21.23 32.791v1c.972 0 1.905-.386 2.593-1.074l-.708-.707-.707-.707a1.67 1.67 0 0 1-1.178.488v1Zm-6.896-6.896h1c0-.442.176-.866.489-1.178l-.708-.707-.707-.707a3.67 3.67 0 0 0-1.074 2.592h1Z"}),a=(0,o.createSinglePathSVG)({path:"M17.293 2.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-9 9A1 1 0 0 1 12 16H9a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707l9-9ZM10 12.414V14h1.586l8-8L18 4.414l-8 8ZM3 4a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H5v14h14v-6a1 1 0 1 1 2 0v7a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Z"})},73335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EmojiArc_Stroke2_Corner0_Rounded:()=>r,EmojiHeartEyes_Stroke2_Corner0_Rounded:()=>i,EmojiSad_Stroke2_Corner0_Rounded:()=>n,EmojiSmile_Stroke2_Corner0_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M6.343 6.343a8 8 0 1 1 11.314 11.314A8 8 0 0 1 6.343 6.343ZM19.071 4.93c-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142 3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142Zm-3.537 9.535a5 5 0 0 0-7.07 0 1 1 0 1 0 1.413 1.415 3 3 0 0 1 4.243 0 1 1 0 0 0 1.414-1.415ZM16 9.5c0 .828-.56 1.5-1.25 1.5s-1.25-.672-1.25-1.5.56-1.5 1.25-1.5S16 8.672 16 9.5ZM9.25 11c.69 0 1.25-.672 1.25-1.5S9.94 8 9.25 8 8 8.672 8 9.5 8.56 11 9.25 11Z"}),a=(0,o.createSinglePathSVG)({path:"M17.657 6.343A8 8 0 1 0 6.343 17.657 8 8 0 0 0 17.657 6.343ZM4.929 4.93c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142-3.905 3.905-10.237 3.905-14.142 0-3.905-3.905-3.905-10.237 0-14.142Zm3.536 9.192a1 1 0 0 1 1.414 0 3 3 0 0 0 4.243 0 1 1 0 0 1 1.414 1.415 5 5 0 0 1-7.071 0 1 1 0 0 1 0-1.415ZM10.5 9.5c0 .828-.56 1.5-1.25 1.5S8 10.328 8 9.5 8.56 8 9.25 8s1.25.672 1.25 1.5ZM16 9.5c0 .828-.56 1.5-1.25 1.5s-1.25-.672-1.25-1.5.56-1.5 1.25-1.5S16 8.672 16 9.5Z"}),r=(0,o.createSinglePathSVG)({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8-5a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm-5.894 7.803a1 1 0 0 1 1.341-.447c1.719.859 3.387.859 5.106 0a1 1 0 1 1 .894 1.788c-2.281 1.141-4.613 1.141-6.894 0a1 1 0 0 1-.447-1.341Z"}),i=(0,o.createSinglePathSVG)({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM9.351 12.13c1.898-1.507 2.176-2.95 1.613-3.83a1.524 1.524 0 0 0-1.225-.707 1.562 1.562 0 0 0-1.218.53 1.561 1.561 0 0 0-1.326-.082c-.456.186-.8.588-.91 1.083-.227 1.02.527 2.282 2.826 3.048a.256.256 0 0 0 .24-.043Zm5.538.042c2.299-.766 3.053-2.027 2.826-3.048a1.524 1.524 0 0 0-.91-1.082 1.561 1.561 0 0 0-1.326.081 1.562 1.562 0 0 0-1.217-.53 1.524 1.524 0 0 0-1.226.706c-.563.881-.285 2.325 1.613 3.83.068.054.158.07.24.043Zm1.072 2.38a4 4 0 0 1-7.924 0c-.04-.293.218-.525.514-.499 2.309.206 4.587.206 6.896 0 .296-.026.555.206.514.5Z"})},90161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Envelope_Filled_Stroke2_Corner0_Rounded:()=>a,Envelope_Stroke2_Corner0_Rounded:()=>n,Envelope_Stroke2_Corner2_Rounded:()=>r});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M4.568 4h14.864c.252 0 .498 0 .706.017.229.019.499.063.77.201a2 2 0 0 1 .874.874c.138.271.182.541.201.77.017.208.017.454.017.706v10.864c0 .252 0 .498-.017.706a2.022 2.022 0 0 1-.201.77 2 2 0 0 1-.874.874 2.022 2.022 0 0 1-.77.201c-.208.017-.454.017-.706.017H4.568c-.252 0-.498 0-.706-.017a2.022 2.022 0 0 1-.77-.201 2 2 0 0 1-.874-.874 2.022 2.022 0 0 1-.201-.77C2 17.93 2 17.684 2 17.432V6.568c0-.252 0-.498.017-.706.019-.229.063-.499.201-.77a2 2 0 0 1 .874-.874c.271-.138.541-.182.77-.201C4.07 4 4.316 4 4.568 4Zm.456 2L12 11.708 18.976 6H5.024ZM20 7.747l-6.733 5.509a2 2 0 0 1-2.534 0L4 7.746V17.4a8.187 8.187 0 0 0 .011.589h.014c.116.01.278.011.575.011h14.8a8.207 8.207 0 0 0 .589-.012v-.013c.01-.116.011-.279.011-.575V7.747Z"}),a=(0,o.createSinglePathSVG)({path:"M12 11.708 2.654 4.06A.998.998 0 0 1 3 4h18c.122 0 .238.022.346.061L12 11.708ZM2 19V6.11l9.367 7.664a1 1 0 0 0 1.266 0L22 6.11V19a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1Z"}),r=(0,o.createSinglePathSVG)({path:"M6.161 4H17.84c.527 0 .982 0 1.356.03.395.033.789.104 1.167.297a3 3 0 0 1 1.311 1.311c.193.378.264.772.296 1.167.031.375.031.83.031 1.356v7.678c0 .527 0 .981-.03 1.356-.033.395-.104.789-.297 1.167a3 3 0 0 1-1.311 1.311c-.378.193-.772.264-1.167.296-.375.031-.83.031-1.357.031H6.162c-.527 0-.981 0-1.356-.03-.395-.033-.789-.104-1.167-.297a3 3 0 0 1-1.311-1.311c-.193-.378-.264-.772-.296-1.167A18 18 0 0 1 2 15.838V8.162c0-.527 0-.981.03-1.356.033-.395.104-.789.297-1.167a3 3 0 0 1 1.311-1.311c.378-.193.772-.264 1.167-.296C5.18 4 5.635 4 6.161 4ZM5.046 6.018l6.32 5.172a1 1 0 0 0 1.267 0l6.321-5.172A20 20 0 0 0 17.8 6H6.2c-.525 0-.88 0-1.154.018Zm14.953 1.73-6.1 4.99a3 3 0 0 1-3.799 0L4 7.748V15.8c0 .577 0 .949.024 1.232.022.272.06.372.085.422a1 1 0 0 0 .437.437c.05.025.15.063.422.085C5.25 18 5.623 18 6.2 18h11.6c.577 0 .949 0 1.232-.024.272-.022.372-.06.422-.085a1 1 0 0 0 .437-.437c.025-.05.063-.15.085-.422C20 16.75 20 16.377 20 15.8V7.747Z"})},77105:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Explosion_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M12 2a1 1 0 0 1 .889.542l1.679 3.259 3.491-1.117a1 1 0 0 1 1.257 1.257L18.2 9.432l3.259 1.679a1 1 0 0 1 0 1.778l-3.124 1.61 2.609 5.098a1 1 0 0 1-1.346 1.346l-5.098-2.61-1.61 3.125a1 1 0 0 1-1.778 0l-1.679-3.259-3.491 1.117a1 1 0 0 1-1.257-1.257L5.8 14.568l-3.259-1.679a1 1 0 0 1 0-1.778l3.124-1.61-2.609-5.098a1 1 0 0 1 1.346-1.346l5.098 2.61-.455.89.455-.89 1.61-3.125A1 1 0 0 1 12 2Zm0 3.183-.72 1.4a2 2 0 0 1-2.69.864L6.248 6.248 7.447 8.59a2 2 0 0 1-.865 2.69L5.183 12l1.534.79a2 2 0 0 1 .989 2.387L7.18 16.82l1.643-.526a2 2 0 0 1 2.387.99l.79 1.533.72-1.4a2 2 0 0 1 2.69-.864l2.342 1.199-1.199-2.342a2 2 0 0 1 .864-2.69l1.4-.72-1.534-.79a2 2 0 0 1-.989-2.387l.526-1.643-1.643.526a2 2 0 0 1-2.387-.99L12 5.184Z"})},34283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EyeSlash_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M2.293 2.293a1 1 0 0 1 1.414 0L7.335 5.92l.03.03 3.22 3.222 4.243 4.242 3.22 3.22.03.03 3.63 3.629a1 1 0 0 1-1.415 1.414l-3.09-3.09c-2.65 1.478-5.625 1.778-8.421.869-3.039-.987-5.779-3.37-7.67-7.027a1 1 0 0 1 0-.918c1.086-2.1 2.452-3.78 3.996-5.019L2.293 3.707a1 1 0 0 1 0-1.414Zm4.24 5.654 2.021 2.021a4 4 0 0 0 5.478 5.478l1.688 1.688c-2.042.982-4.246 1.124-6.32.45-2.34-.76-4.594-2.586-6.265-5.584.97-1.739 2.135-3.083 3.398-4.053Zm3.535 3.535 2.45 2.45a2 2 0 0 1-2.45-2.45Zm.81-5.405c3.573-.49 7.45 1.369 9.987 5.923a14.797 14.797 0 0 1-1.347 2.02 1 1 0 1 0 1.564 1.247 17.078 17.078 0 0 0 1.806-2.808 1 1 0 0 0 0-.918c-2.833-5.479-7.584-8.088-12.281-7.446a1 1 0 0 0 .271 1.982Z"})},23933:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Earth_Stroke2_Corner0_Rounded:()=>a,Earth_Stroke2_Corner2_Rounded:()=>r,Globe_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M4.062 11h2.961c.103-2.204.545-4.218 1.235-5.77.06-.136.123-.269.188-.399A8.007 8.007 0 0 0 4.062 11ZM12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 2c-.227 0-.518.1-.868.432-.354.337-.719.872-1.047 1.61-.561 1.263-.958 2.991-1.06 4.958h5.95c-.102-1.967-.499-3.695-1.06-4.958-.328-.738-.693-1.273-1.047-1.61C12.518 4.099 12.227 4 12 4Zm4.977 7c-.103-2.204-.545-4.218-1.235-5.77a9.78 9.78 0 0 0-.188-.399A8.006 8.006 0 0 1 19.938 11h-2.961Zm-2.003 2H9.026c.101 1.966.498 3.695 1.06 4.958.327.738.692 1.273 1.046 1.61.35.333.641.432.868.432.227 0 .518-.1.868-.432.354-.337.719-.872 1.047-1.61.561-1.263.958-2.991 1.06-4.958Zm.58 6.169c.065-.13.128-.263.188-.399.69-1.552 1.132-3.566 1.235-5.77h2.961a8.006 8.006 0 0 1-4.384 6.169Zm-7.108 0a9.877 9.877 0 0 1-.188-.399c-.69-1.552-1.132-3.566-1.235-5.77H4.062a8.006 8.006 0 0 0 4.384 6.169Z"}),a=(0,o.createSinglePathSVG)({path:"M4.4 9.493C4.14 10.28 4 11.124 4 12a8 8 0 1 0 10.899-7.459l-.953 3.81a1 1 0 0 1-.726.727l-3.444.866-.772 1.533a1 1 0 0 1-1.493.35L4.4 9.493Zm.883-1.84L7.756 9.51l.44-.874a1 1 0 0 1 .649-.52l3.306-.832.807-3.227a7.993 7.993 0 0 0-7.676 3.597ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8.43.162a1 1 0 0 1 .77-.29l1.89.121a1 1 0 0 1 .494.168l2.869 1.928a1 1 0 0 1 .336 1.277l-.973 1.946a1 1 0 0 1-.894.553h-2.92a1 1 0 0 1-.831-.445L9.225 14.5a1 1 0 0 1 .126-1.262l1.08-1.076Zm.915 1.913.177-.177 1.171.074 1.914 1.286-.303.607h-1.766l-1.194-1.79Z"}),r=(0,o.createSinglePathSVG)({path:"M4.4 9.493C4.14 10.28 4 11.124 4 12a8 8 0 1 0 10.899-7.459l-.67 2.679a2.95 2.95 0 0 1-2.14 2.142l-2.173.547a.32.32 0 0 0-.205.164 2.316 2.316 0 0 1-3.457.81L4.4 9.493Zm.883-1.84 2.171 1.63a.315.315 0 0 0 .471-.11c.303-.6.851-1.04 1.503-1.204l2.174-.546a.95.95 0 0 0 .687-.688l.97.242-.97-.242.67-2.678a7.993 7.993 0 0 0-7.676 3.597ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8.048.543a2.2 2.2 0 0 1 1.69-.636l.827.053c.52.033 1.023.204 1.456.495l1.37.921a2.453 2.453 0 0 1-1.367 4.489h-.98a2.95 2.95 0 0 1-2.45-1.312L9.77 15.32a2.2 2.2 0 0 1 .278-2.776Zm1.563 1.36a.197.197 0 0 0-.177.306l.823 1.235c.176.263.471.42.787.42h.98a.453.453 0 0 0 .252-.828l-1.37-.921a.95.95 0 0 0-.468-.159l-.827-.053Z"})},69121:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MagnifyingGlassX_Stroke2_Corner0_Rounded:()=>r,MagnifyingGlassX_Stroke2_Corner0_Rounded_Large:()=>i,MagnifyingGlass_Filled_Stroke2_Corner0_Rounded:()=>a,MagnifyingGlass_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M11 5a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm-8 6a8 8 0 1 1 14.32 4.906l3.387 3.387a1 1 0 0 1-1.414 1.414l-3.387-3.387A8 8 0 0 1 3 11Z"}),a=(0,o.createSinglePathSVG)({path:"M5 11a6 6 0 1 1 12 0 6 6 0 0 1-12 0Zm6-8a8 8 0 1 0 4.906 14.32l3.387 3.387a1 1 0 0 0 1.414-1.414l-3.387-3.387A8 8 0 0 0 11 3Zm4 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}),r=(0,o.createSinglePathSVG)({path:"M20 12a8 8 0 1 0-8 8c2.204 0 4.2-.89 5.648-2.333A7.97 7.97 0 0 0 20 12Zm-5.707-3.707a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 1 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 1 1-1.414-1.414L10.586 12 8.293 9.707a1 1 0 1 1 1.414-1.414L12 10.586l2.293-2.293ZM22 12a9.96 9.96 0 0 1-2.269 6.34l2.891 2.89a1 1 0 1 1-1.414 1.415l-2.893-2.893A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10Z"}),i=(0,o.createSinglePathSVG)({viewBox:"0 0 64 64",path:"M55 32C55 19.298 44.703 9 32 9S9 19.298 9 32s10.298 23 23 23a22.93 22.93 0 0 0 16.235-6.708A22.93 22.93 0 0 0 55 32Zm-15.707-8.707a1 1 0 1 1 1.414 1.414L33.414 32l7.293 7.293a1 1 0 1 1-1.414 1.414L32 33.414l-7.293 7.293a1 1 0 1 1-1.414-1.414L30.586 32l-7.293-7.293a1 1 0 1 1 1.414-1.414L32 30.586l7.293-7.293ZM57 32a24.9 24.9 0 0 1-6.66 16.985l8.808 8.808a1 1 0 0 1-1.414 1.414l-8.81-8.81A24.9 24.9 0 0 1 32 57C18.193 57 7 45.807 7 32S18.193 7 32 7s25 11.193 25 25Z"})},66087:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Mute_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M20.707 3.293a1 1 0 0 1 0 1.414l-16 16a1 1 0 0 1-1.414-1.414l2.616-2.616A1.998 1.998 0 0 1 5 15V9a2 2 0 0 1 2-2h2.697l5.748-3.832A1 1 0 0 1 17 4v1.586l2.293-2.293a1 1 0 0 1 1.414 0ZM15 7.586 7.586 15H7V9h2.697a2 2 0 0 0 1.11-.336L15 5.87v1.717Zm2 3.657-2 2v4.888l-2.933-1.955-1.442 1.442 4.82 3.214A1 1 0 0 0 17 20v-8.757Z"})},48992:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PaintRoller_Stroke2_Corner2_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M6 6a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v2a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3H5v3a1 1 0 0 0 1 1h7a1 1 0 0 1 1 1v2.17c1.165.412 2 1.524 2 2.83v3a1 1 0 1 1-2 0v-3a1 1 0 1 0-2 0v3a1 1 0 1 1-2 0v-3c0-1.306.835-2.418 2-2.83V14H6a3 3 0 0 1-3-3V8a2 2 0 0 1 2-2h1Zm3-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9Z"})},25139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PaperPlane_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M3.374 3.22a1 1 0 0 1 1.073-.114l16 8a1 1 0 0 1 0 1.788l-16 8a1 1 0 0 1-1.417-1.136L4.97 12 3.03 4.243a1 1 0 0 1 .344-1.023ZM6.781 13l-1.284 5.133L17.764 12 5.497 5.867 6.781 11H9a1 1 0 1 1 0 2H6.78Z"})},56694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PersonCheck_Stroke2_Corner0_Rounded:()=>r,PersonGroup_Stroke2_Corner2_Rounded:()=>m,PersonPlus_Filled_Stroke2_Corner0_Rounded:()=>d,PersonPlus_Stroke2_Corner0_Rounded:()=>c,PersonPlus_Stroke2_Corner2_Rounded:()=>u,PersonX_Stroke2_Corner0_Rounded:()=>i,PersonX_Stroke2_Corner0_Rounded_Large:()=>l,Person_Filled_Corner2_Rounded:()=>h,Person_Stroke2_Corner0_Rounded:()=>n,Person_Stroke2_Corner2_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.678 19h12.644c-.71-2.909-3.092-5-6.322-5s-5.613 2.091-6.322 5Zm-2.174.906C3.917 15.521 7.242 12 12 12c4.758 0 8.083 3.521 8.496 7.906A1 1 0 0 1 19.5 21h-15a1 1 0 0 1-.996-1.094Z"}),a=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 14c-2.95 0-5.163 1.733-6.08 4.21a.47.47 0 0 0 .09.493.9.9 0 0 0 .687.297h10.606a.9.9 0 0 0 .687-.297.47.47 0 0 0 .09-.493C17.163 15.732 14.95 14 12 14Zm-7.955 3.516C5.235 14.296 8.168 12 12 12s6.765 2.296 7.956 5.516c.34.92.107 1.828-.434 2.473A2.9 2.9 0 0 1 17.303 21H6.697a2.9 2.9 0 0 1-2.219-1.011 2.46 2.46 0 0 1-.433-2.473Z"}),r=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.679 19c.709-2.902 3.079-5 6.321-5a6.69 6.69 0 0 1 2.612.51 1 1 0 0 0 .776-1.844A8.687 8.687 0 0 0 12 12c-4.3 0-7.447 2.884-8.304 6.696-.29 1.29.767 2.304 1.902 2.304H11a1 1 0 1 0 0-2H5.679Zm14.835-4.857a1 1 0 0 1 .344 1.371l-3 5a1 1 0 0 1-1.458.286l-2-1.5a1 1 0 0 1 1.2-1.6l1.113.835 2.43-4.05a1 1 0 0 1 1.372-.342Z"}),i=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.679 19c.709-2.902 3.079-5 6.321-5 .302 0 .595.018.878.053a1 1 0 0 0 .243-1.985A9.235 9.235 0 0 0 12 12c-4.3 0-7.447 2.884-8.304 6.696-.29 1.29.767 2.304 1.902 2.304H12a1 1 0 1 0 0-2H5.679Zm9.614-3.707a1 1 0 0 1 1.414 0L18 16.586l1.293-1.293a1 1 0 0 1 1.414 1.414L19.414 18l1.293 1.293a1 1 0 0 1-1.414 1.414L18 19.414l-1.293 1.293a1 1 0 0 1-1.414-1.414L16.586 18l-1.293-1.293a1 1 0 0 1 0-1.414Z"}),l=(0,o.createSinglePathSVG)({viewBox:"0 0 64 64",path:"M24.952 33.435c10.897 0 19.195 6.496 22.58 15.65.784 2.117.258 4.183-1 5.683-1.242 1.48-3.194 2.414-5.33 2.415h-32.5c-2.136 0-4.089-.935-5.331-2.415-1.258-1.5-1.783-3.566-1-5.682 3.386-9.155 11.683-15.651 22.58-15.651Zm0 2.298c-9.885 0-17.355 5.849-20.425 14.15-.47 1.271-.174 2.48.604 3.407.795.947 2.096 1.594 3.57 1.594h32.5c1.476 0 2.777-.647 3.571-1.594.778-.928 1.074-2.136.605-3.406-3.07-8.302-10.54-14.15-20.425-14.15Zm33.262-14.59a1.15 1.15 0 1 1 1.625 1.626l-5.688 5.687 5.686 5.688a1.15 1.15 0 1 1-1.625 1.625l-5.686-5.688-5.687 5.688a1.15 1.15 0 1 1-1.625-1.625l5.687-5.688-5.689-5.687a1.15 1.15 0 1 1 1.625-1.625l5.689 5.687 5.688-5.687ZM24.949 5.552c6.557 0 11.874 5.316 11.874 11.874 0 6.557-5.317 11.874-11.874 11.874s-11.874-5.317-11.874-11.874S18.39 5.55 24.949 5.55Zm0 2.299a9.575 9.575 0 0 0-9.575 9.575A9.575 9.575 0 0 0 24.949 27a9.575 9.575 0 0 0 9.575-9.575A9.575 9.575 0 0 0 24.95 7.85Z"}),c=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.678 19c.71-2.909 3.092-5 6.322-5 .621 0 1.206.077 1.748.218a1 1 0 1 0 .504-1.936A8.931 8.931 0 0 0 12 12c-4.758 0-8.083 3.521-8.496 7.906A1 1 0 0 0 4.5 21H11a1 1 0 1 0 0-2H5.678ZM18 14a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),d=(0,o.createSinglePathSVG)({path:"M7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 12c-4.758 0-8.083 3.521-8.496 7.906A1 1 0 0 0 4.5 21H15a3 3 0 1 1 0-6c0-.824.332-1.571.87-2.113C14.739 12.32 13.435 12 12 12Zm6 2a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),u=(0,o.createSinglePathSVG)({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 14c-2.95 0-5.163 1.733-6.08 4.21a.47.47 0 0 0 .09.493.9.9 0 0 0 .687.297H11a1 1 0 1 1 0 2H6.697a2.9 2.9 0 0 1-2.219-1.011 2.46 2.46 0 0 1-.433-2.473C5.235 14.296 8.168 12 12 12c.787 0 1.54.097 2.252.282a1 1 0 1 1-.504 1.936A7 7 0 0 0 12 14Zm6 0a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),m=(0,o.createSinglePathSVG)({path:"M8 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM4 7a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm13-1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Zm7.301 9.7c-.836-2.6-2.88-3.503-4.575-3.111a1 1 0 0 1-.451-1.949c2.815-.651 5.81.966 6.93 4.448a2.49 2.49 0 0 1-.506 2.43A2.92 2.92 0 0 1 20 20h-2a1 1 0 1 1 0-2h2a.92.92 0 0 0 .69-.295.49.49 0 0 0 .112-.505ZM8 14c-1.865 0-3.878 1.274-4.681 4.151a.57.57 0 0 0 .132.55c.15.171.4.299.695.299h7.708a.93.93 0 0 0 .695-.299.57.57 0 0 0 .132-.55C11.878 15.274 9.865 14 8 14Zm0-2c2.87 0 5.594 1.98 6.607 5.613.53 1.9-1.09 3.387-2.753 3.387H4.146c-1.663 0-3.283-1.487-2.753-3.387C2.406 13.981 5.129 12 8 12Z"}),h=(0,o.createSinglePathSVG)({path:"M12.233 2a4.433 4.433 0 1 0 0 8.867 4.433 4.433 0 0 0 0-8.867ZM12.233 12.133c-3.888 0-6.863 2.263-8.071 5.435-.346.906-.11 1.8.44 2.436.535.619 1.36.996 2.25.996h10.762c.89 0 1.716-.377 2.25-.996.55-.636.786-1.53.441-2.436-1.208-3.173-4.184-5.435-8.072-5.435Z"})},4557:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PlusLarge_Stroke2_Corner0_Rounded:()=>n,PlusSmall_Stroke2_Corner0_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M12 3a1 1 0 0 1 1 1v7h7a1 1 0 1 1 0 2h-7v7a1 1 0 1 1-2 0v-7H4a1 1 0 1 1 0-2h7V4a1 1 0 0 1 1-1Z"}),a=(0,o.createSinglePathSVG)({path:"M12 6a1 1 0 0 1 1 1v4h4a1 1 0 1 1 0 2h-4v4a1 1 0 1 1-2 0v-4H7a1 1 0 1 1 0-2h4V7a1 1 0 0 1 1-1Z"})},65823:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RaisingHand4Finger_Stroke2_Corner0_Rounded:()=>n,RaisingHand4Finger_Stroke2_Corner2_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M10.25 4a.75.75 0 0 0-.75.75V11a1 1 0 1 1-2 0V6.75a.75.75 0 0 0-1.5 0V14a6 6 0 0 0 12 0V9a2 2 0 0 0-2 2v1.5a1 1 0 0 1-.684.949l-.628.21A2.469 2.469 0 0 0 13 16a1 1 0 1 1-2 0 4.469 4.469 0 0 1 3-4.22V11c0-.703.181-1.364.5-1.938V5.75a.75.75 0 0 0-1.5 0V9a1 1 0 1 1-2 0V4.75a.75.75 0 0 0-.75-.75Zm2.316-.733A2.75 2.75 0 0 1 16.5 5.75v1.54c.463-.187.97-.29 1.5-.29h1a1 1 0 0 1 1 1v6a8 8 0 1 1-16 0V6.75a2.75 2.75 0 0 1 3.571-2.625 2.751 2.751 0 0 1 4.995-.858Z"}),a=(0,o.createSinglePathSVG)({path:"M12.5 4a.5.5 0 0 0-.5.5V10a1 1 0 1 1-2 0V5.5a.5.5 0 0 0-1 0V11a1 1 0 1 1-2 0V7.5a.5.5 0 0 0-1 0v6a6.5 6.5 0 1 0 13 0V9c-.513 0-.979.192-1.333.509-.41.368-.667.899-.667 1.491v.838c0 .826-.529 1.559-1.312 1.82A2.47 2.47 0 0 0 14 16a1 1 0 1 1-2 0 4.47 4.47 0 0 1 3-4.22V11c0-1.014.379-1.941 1-2.646V5.5a.5.5 0 0 0-1 0V10a1 1 0 1 1-2 0V4.5a.5.5 0 0 0-.5-.5Zm2.112-.838A2.5 2.5 0 0 1 18 5.5v1.626q.481-.124 1-.126a2 2 0 0 1 2 2v4.5a8.5 8.5 0 0 1-17 0v-6a2.5 2.5 0 0 1 3.039-2.442 2.5 2.5 0 0 1 3.349-1.896 2.498 2.498 0 0 1 4.224 0Z"})},79694:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ShieldCheck_Stroke2_Corner0_Rounded:()=>a,Shield_Stroke2_Corner0_Rounded:()=>n});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M11.675 2.054a1 1 0 0 1 .65 0l8 2.75A1 1 0 0 1 21 5.75v6.162c0 2.807-1.149 4.83-2.813 6.405-1.572 1.488-3.632 2.6-5.555 3.636l-.157.085a1 1 0 0 1-.95 0l-.157-.085c-1.923-1.037-3.983-2.148-5.556-3.636C4.15 16.742 3 14.719 3 11.912V5.75a1 1 0 0 1 .675-.946l8-2.75ZM5 6.464v5.448c0 2.166.851 3.687 2.188 4.952 1.276 1.209 2.964 2.158 4.812 3.157 1.848-1 3.536-1.948 4.813-3.157C18.148 15.6 19 14.078 19 11.912V6.464l-7-2.407-7 2.407Z"}),a=(0,o.createSinglePathSVG)({path:"M12.325 2.054a1 1 0 0 0-.65 0l-8 2.75A1 1 0 0 0 3 5.75v6.162c0 2.807 1.149 4.83 2.813 6.405 1.572 1.488 3.632 2.6 5.555 3.636l.157.085a1 1 0 0 0 .95 0l.157-.085c1.923-1.037 3.983-2.148 5.556-3.636C19.85 16.742 21 14.719 21 11.912V5.75a1 1 0 0 0-.675-.946l-8-2.75ZM5 11.912V6.464l7-2.407 7 2.407v5.448c0 2.166-.851 3.687-2.188 4.952-1.276 1.209-2.964 2.158-4.812 3.157-1.848-1-3.536-1.948-4.813-3.157C5.851 15.6 5 14.078 5 11.912Zm10.207-1.205a1 1 0 0 0-1.414-1.414L11 12.086l-.793-.793a1 1 0 0 0-1.414 1.414l1.5 1.5a1 1 0 0 0 1.414 0l3.5-3.5Z"})},93562:(e,t,s)=>{"use strict";s.r(t),s.d(t,{SquareArrowTopRight_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-7.293 7.293a1 1 0 0 1-1.414-1.414L17.586 5H14ZM3 6a1 1 0 0 1 1-1h5a1 1 0 0 1 0 2H5v12h12v-4a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6Z"})},68783:(e,t,s)=>{"use strict";s.r(t),s.d(t,{StarterPack:()=>o});const o=(0,s(2064).createMultiPathSVG)({paths:["M11.26 5.227 5.02 6.899c-.734.197-1.17.95-.973 1.685l1.672 6.24c.197.734.951 1.17 1.685.973l6.24-1.672c.734-.197 1.17-.951.973-1.685L12.945 6.2a1.375 1.375 0 0 0-1.685-.973Zm-6.566.459a2.632 2.632 0 0 0-1.86 3.223l1.672 6.24a2.632 2.632 0 0 0 3.223 1.861l6.24-1.672a2.631 2.631 0 0 0 1.861-3.223l-1.672-6.24a2.632 2.632 0 0 0-3.223-1.861l-6.24 1.672Z","M15.138 18.411a4.606 4.606 0 1 0 0-9.211 4.606 4.606 0 0 0 0 9.211Zm0 1.257a5.862 5.862 0 1 0 0-11.724 5.862 5.862 0 0 0 0 11.724Z"]})},90326:(e,t,s)=>{"use strict";s.r(t),s.d(t,{StreamingLive_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm8 12.5c1.253 0 2.197.609 2.674 1.5H9.326c.477-.891 1.42-1.5 2.674-1.5Zm0-2c2.404 0 4.235 1.475 4.822 3.5H20V6H4v12h3.178c.587-2.025 2.418-3.5 4.822-3.5Zm-1.25-3.75a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM12 7.5a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5Zm5.75 2a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"})},2064:(e,t,s)=>{"use strict";s.r(t),s.d(t,{IconTemplate_Stroke2_Corner0_Rounded:()=>h,createMultiPathSVG:()=>g,createSinglePathSVG:()=>p,createSinglePathSVG2:()=>f});var o=s(63366),n=s(15991),a=s(95004),r=s(99866),i=s(24655),l=s(2629);const c=["fill","size","style"],d=["fill","size","style","gradient"],u=["fill","size","style","gradient"],m=["fill","size","style","gradient"],h=a.forwardRef((function(e,t){const s=(0,n.c)(15),a=(0,i.useCommonSVGProps)(e);let d,u,m,h,p,f,g;if(s[0]!==a){var x=a;({fill:d,size:m,style:h}=x),u=(0,o.default)(x,c),s[0]=a,s[1]=d,s[2]=u,s[3]=m,s[4]=h}else d=s[1],u=s[2],m=s[3],h=s[4];return s[5]!==h?(p=[h],s[5]=h,s[6]=p):p=s[6],s[7]!==d?(f=(0,l.jsx)(r.Path,{fill:d,fillRule:"evenodd",clipRule:"evenodd",d:"M4.062 11h2.961c.103-2.204.545-4.218 1.235-5.77.06-.136.123-.269.188-.399A8.007 8.007 0 0 0 4.062 11ZM12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 2c-.227 0-.518.1-.868.432-.354.337-.719.872-1.047 1.61-.561 1.263-.958 2.991-1.06 4.958h5.95c-.102-1.967-.499-3.695-1.06-4.958-.328-.738-.693-1.273-1.047-1.61C12.518 4.099 12.227 4 12 4Zm4.977 7c-.103-2.204-.545-4.218-1.235-5.77a9.78 9.78 0 0 0-.188-.399A8.006 8.006 0 0 1 19.938 11h-2.961Zm-2.003 2H9.026c.101 1.966.498 3.695 1.06 4.958.327.738.692 1.273 1.046 1.61.35.333.641.432.868.432.227 0 .518-.1.868-.432.354-.337.719-.872 1.047-1.61.561-1.263.958-2.991 1.06-4.958Zm.58 6.169c.065-.13.128-.263.188-.399.69-1.552 1.132-3.566 1.235-5.77h2.961a8.006 8.006 0 0 1-4.384 6.169Zm-7.108 0a9.877 9.877 0 0 1-.188-.399c-.69-1.552-1.132-3.566-1.235-5.77H4.062a8.006 8.006 0 0 0 4.384 6.169Z"}),s[7]=d,s[8]=f):f=s[8],s[9]!==t||s[10]!==u||s[11]!==m||s[12]!==p||s[13]!==f?(g=(0,l.jsx)(r.default,Object.assign({fill:"none"},u,{ref:t,viewBox:"0 0 24 24",width:m,height:m,style:p,children:f})),s[9]=t,s[10]=u,s[11]=m,s[12]=p,s[13]=f,s[14]=g):g=s[14],g}));function p({path:e,viewBox:t,strokeWidth:s=0,strokeLinecap:c="butt",strokeLinejoin:u="miter"}){return a.forwardRef((function(a,m){const h=(0,n.c)(18),p=(0,i.useCommonSVGProps)(a);let f,g,x,_,y;if(h[0]!==p){var b=p;({fill:f,size:_,style:y,gradient:g}=b),x=(0,o.default)(b,d),h[0]=p,h[1]=f,h[2]=g,h[3]=x,h[4]=_,h[5]=y}else f=h[1],g=h[2],x=h[3],_=h[4],y=h[5];const j=s>0;let v;h[6]!==y?(v=[y],h[6]=y,h[7]=v):v=h[7];const S=j?"none":f,w=j?f:"none";let T,k;return h[8]!==S||h[9]!==w?(T=(0,l.jsx)(r.Path,{fill:S,stroke:w,strokeWidth:s,strokeLinecap:c,strokeLinejoin:u,fillRule:"evenodd",clipRule:"evenodd",d:e}),h[8]=S,h[9]=w,h[10]=T):T=h[10],h[11]!==g||h[12]!==m||h[13]!==x||h[14]!==_||h[15]!==v||h[16]!==T?(k=(0,l.jsxs)(r.default,Object.assign({fill:"none"},x,{ref:m,viewBox:t||"0 0 24 24",width:_,height:_,style:v,children:[g,T]})),h[11]=g,h[12]=m,h[13]=x,h[14]=_,h[15]=v,h[16]=T,h[17]=k):k=h[17],k}))}function f({path:e}){return a.forwardRef((function(t,s){const a=(0,n.c)(15),c=(0,i.useCommonSVGProps)(t);let d,m,h,p,f,g,x;if(a[0]!==c){var _=c;({fill:d,size:p,style:f,gradient:m}=_),h=(0,o.default)(_,u),a[0]=c,a[1]=d,a[2]=m,a[3]=h,a[4]=p,a[5]=f}else d=a[1],m=a[2],h=a[3],p=a[4],f=a[5];return a[6]!==d?(g=(0,l.jsx)(r.Path,{fill:d,fillRule:"evenodd",clipRule:"evenodd",d:e}),a[6]=d,a[7]=g):g=a[7],a[8]!==m||a[9]!==s||a[10]!==h||a[11]!==p||a[12]!==f||a[13]!==g?(x=(0,l.jsxs)(r.default,Object.assign({fill:"none"},h,{ref:s,viewBox:"0 0 24 24",width:p,height:p,style:f,children:[m,g]})),a[8]=m,a[9]=s,a[10]=h,a[11]=p,a[12]=f,a[13]=g,a[14]=x):x=a[14],x}))}function g({paths:e}){return a.forwardRef((function(t,s){const a=(0,n.c)(17),c=(0,i.useCommonSVGProps)(t);let d,u,h,p,f,g,x,_;if(a[0]!==c){var y=c;({fill:d,size:p,style:f,gradient:u}=y),h=(0,o.default)(y,m),a[0]=c,a[1]=d,a[2]=u,a[3]=h,a[4]=p,a[5]=f}else d=a[1],u=a[2],h=a[3],p=a[4],f=a[5];return a[6]!==f?(g=[f],a[6]=f,a[7]=g):g=a[7],a[8]!==d?(x=e.map(((e,t)=>(0,l.jsx)(r.Path,{fill:d,fillRule:"evenodd",clipRule:"evenodd",d:e},t))),a[8]=d,a[9]=x):x=a[9],a[10]!==u||a[11]!==s||a[12]!==h||a[13]!==p||a[14]!==g||a[15]!==x?(_=(0,l.jsxs)(r.default,Object.assign({fill:"none"},h,{ref:s,viewBox:"0 0 24 24",width:p,height:p,style:g,children:[u,x]})),a[10]=u,a[11]=s,a[12]=h,a[13]=p,a[14]=g,a[15]=x,a[16]=_):_=a[16],_}))}},58403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{TimesLarge_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M4.293 4.293a1 1 0 0 1 1.414 0L12 10.586l6.293-6.293a1 1 0 1 1 1.414 1.414L13.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414L12 13.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L10.586 12 4.293 5.707a1 1 0 0 1 0-1.414Z"})},72945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Trash_Stroke2_Corner0_Rounded:()=>n,Trash_Stroke2_Corner2_Rounded:()=>a});var o=s(2064);const n=(0,o.createSinglePathSVG)({path:"M7.416 5H3a1 1 0 0 0 0 2h1.064l.938 14.067A1 1 0 0 0 6 22h12a1 1 0 0 0 .998-.933L19.936 7H21a1 1 0 1 0 0-2h-4.416a5 5 0 0 0-9.168 0Zm2.348 0h4.472c-.55-.614-1.348-1-2.236-1-.888 0-1.687.386-2.236 1Zm6.087 2H6.07l.867 13h10.128l.867-13h-2.036a1 1 0 0 1-.044 0ZM10 10a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Z"}),a=(0,o.createSinglePathSVG)({path:"M7.416 5H3a1 1 0 0 0 0 2h1.064l.814 12.2A3 3 0 0 0 7.87 22h8.258a3 3 0 0 0 2.993-2.8L19.936 7H21a1 1 0 1 0 0-2h-4.416a5 5 0 0 0-9.168 0Zm2.348 0h4.472c-.55-.614-1.348-1-2.236-1s-1.687.386-2.236 1Zm6.087 2H6.07l.804 12.067a1 1 0 0 0 .998.933h8.258a1 1 0 0 0 .998-.933L17.93 7h-2.08ZM10 10a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Z"})},46012:(e,t,s)=>{"use strict";s.r(t),s.d(t,{VerifiedCheck:()=>d});var o=s(63366),n=s(15991),a=s(95004),r=s(99866),i=s(24655),l=s(2629);const c=["fill","size","style"],d=a.forwardRef((function(e,t){const s=(0,n.c)(16),a=(0,i.useCommonSVGProps)(e);let d,u,m,h,p,f,g,x;if(s[0]!==a){var _=a;({fill:d,size:m,style:h}=_),u=(0,o.default)(_,c),s[0]=a,s[1]=d,s[2]=u,s[3]=m,s[4]=h}else d=s[1],u=s[2],m=s[3],h=s[4];return s[5]!==h?(p=[h],s[5]=h,s[6]=p):p=s[6],s[7]!==d?(f=(0,l.jsx)(r.Circle,{cx:"12",cy:"12",r:"11.5",fill:d}),s[7]=d,s[8]=f):f=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(r.Path,{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.659 8.175a1.361 1.361 0 0 1 0 1.925l-6.224 6.223a1.361 1.361 0 0 1-1.925 0L6.4 13.212a1.361 1.361 0 0 1 1.925-1.925l2.149 2.148 5.26-5.26a1.361 1.361 0 0 1 1.925 0Z"}),s[9]=g):g=s[9],s[10]!==t||s[11]!==u||s[12]!==m||s[13]!==p||s[14]!==f?(x=(0,l.jsxs)(r.default,Object.assign({fill:"none"},u,{ref:t,viewBox:"0 0 24 24",width:m,height:m,style:p,children:[f,g]})),s[10]=t,s[11]=u,s[12]=m,s[13]=p,s[14]=f,s[15]=x):x=s[15],x}))},29678:(e,t,s)=>{"use strict";s.r(t),s.d(t,{VerifierCheck:()=>d});var o=s(63366),n=s(15991),a=s(95004),r=s(99866),i=s(24655),l=s(2629);const c=["fill","size","style"],d=a.forwardRef((function(e,t){const s=(0,n.c)(16),a=(0,i.useCommonSVGProps)(e);let d,u,m,h,p,f,g,x;if(s[0]!==a){var _=a;({fill:d,size:m,style:h}=_),u=(0,o.default)(_,c),s[0]=a,s[1]=d,s[2]=u,s[3]=m,s[4]=h}else d=s[1],u=s[2],m=s[3],h=s[4];return s[5]!==h?(p=[h],s[5]=h,s[6]=p):p=s[6],s[7]!==d?(f=(0,l.jsx)(r.Path,{fill:d,fillRule:"evenodd",clipRule:"evenodd",d:"M8.792 1.615a4.154 4.154 0 0 1 6.416 0 4.154 4.154 0 0 0 3.146 1.515 4.154 4.154 0 0 1 4 5.017 4.154 4.154 0 0 0 .777 3.404 4.154 4.154 0 0 1-1.427 6.255 4.153 4.153 0 0 0-2.177 2.73 4.154 4.154 0 0 1-5.781 2.784 4.154 4.154 0 0 0-3.492 0 4.154 4.154 0 0 1-5.78-2.784 4.154 4.154 0 0 0-2.178-2.73A4.154 4.154 0 0 1 .87 11.551a4.154 4.154 0 0 0 .776-3.404A4.154 4.154 0 0 1 5.646 3.13a4.154 4.154 0 0 0 3.146-1.515Z"}),s[7]=d,s[8]=f):f=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(r.Path,{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.861 8.26a1.438 1.438 0 0 1 0 2.033l-6.571 6.571a1.437 1.437 0 0 1-2.033 0L5.97 13.58a1.438 1.438 0 0 1 2.033-2.033l2.27 2.269 5.554-5.555a1.437 1.437 0 0 1 2.033 0Z"}),s[9]=g):g=s[9],s[10]!==t||s[11]!==u||s[12]!==m||s[13]!==p||s[14]!==f?(x=(0,l.jsxs)(r.default,Object.assign({fill:"none"},u,{ref:t,viewBox:"0 0 24 24",width:m,height:m,style:p,children:[f,g]})),s[10]=t,s[11]=u,s[12]=m,s[13]=p,s[14]=f,s[15]=x):x=s[15],x}))},29596:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Warning_Stroke2_Corner0_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M11.14 4.494a.995.995 0 0 1 1.72 0l7.001 12.008a.996.996 0 0 1-.86 1.498H4.999a.996.996 0 0 1-.86-1.498L11.14 4.494Zm3.447-1.007c-1.155-1.983-4.019-1.983-5.174 0L2.41 15.494C1.247 17.491 2.686 20 4.998 20h14.004c2.312 0 3.751-2.509 2.587-4.506L14.587 3.487ZM13 9.019a1 1 0 1 0-2 0v2.994a1 1 0 1 0 2 0V9.02Zm-1 4.731a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"})},91155:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Window_Stroke2_Corner2_Rounded:()=>o});const o=(0,s(2064).createSinglePathSVG)({path:"M6 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H6ZM5 18v-6h14v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1Zm0-8h14V6a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v4Zm6-3.5a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6ZM7.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"})},24655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{sizes:()=>u,useCommonSVGProps:()=>m});var o=s(63366),n=s(15991),a=s(59550),r=s(99866),i=s(62421),l=s(19552),c=s(2629);const d=["fill","size","gradient"],u={"2xs":8,xs:12,sm:16,md:20,lg:24,xl:28,"2xl":32,"3xl":48};function m(e){const t=(0,n.c)(17),s=(0,l.useTheme)();let m,p,f,g,x;if(t[0]!==e){var _=e;({fill:m,size:g,gradient:p}=_),f=(0,o.default)(_,d),x=a.default.flatten(f.style),t[0]=e,t[1]=m,t[2]=p,t[3]=f,t[4]=g,t[5]=x}else m=t[1],p=t[2],f=t[3],g=t[4],x=t[5];const y=x,b=Number(g?u[g]:f.width||u.md);let j,v=m||y?.color||s.palette.primary_500,S=null;if(p&&l.tokens.gradients[p]){const e=p+"_"+(0,i.nanoid)(),s=l.tokens.gradients[p];let o,n;v=`url(#${e})`,t[6]!==s.values?(o=s.values.map(h),t[6]=s.values,t[7]=o):o=t[7],t[8]!==e||t[9]!==o?(n=(0,c.jsx)(r.Defs,{children:(0,c.jsx)(r.LinearGradient,{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",gradientTransform:"rotate(45)",children:o})}),t[8]=e,t[9]=o,t[10]=n):n=t[10],S=n}return t[11]!==v||t[12]!==b||t[13]!==S||t[14]!==f||t[15]!==y?(j=Object.assign({fill:v,size:b,style:y,gradient:S},f),t[11]=v,t[12]=b,t[13]=S,t[14]=f,t[15]=y,t[16]=j):j=t[16],j}function h(e){const[t,s]=e;return(0,c.jsx)(r.Stop,{offset:t,stopColor:s},t)}},2763:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LiveIndicator:()=>c});var o=s(15991),n=s(96963),a=s(67842),r=s(19552),i=s(23486),l=s(2629);function c(e){const t=(0,o.c)(25),{size:s,style:c}=e,d=void 0===s?"small":s,u=(0,r.useTheme)();let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={tiny:{fontSize:7,letterSpacing:r.tokens.TRACKING},small:r.atoms.text_2xs,large:r.atoms.text_xs},t[0]=m):m=t[0];const h=m[d],p="large"===d?-8:-5;let f,g;t[1]!==p?(f={bottom:p},t[1]=p,t[2]=f):f=t[2],t[3]!==c||t[4]!==f?(g=[r.atoms.absolute,r.atoms.w_full,r.atoms.align_center,r.atoms.pointer_events_none,f,c],t[3]=c,t[4]=f,t[5]=g):g=t[5];const x="large"===d?2:1,_="large"===d?4:3,y="large"===d?5:r.tokens.borderRadius.xs;let b,j,v,S,w,T,k;return t[6]!==u.palette.negative_500||t[7]!==x||t[8]!==_||t[9]!==y?(b={backgroundColor:u.palette.negative_500,paddingVertical:x,paddingHorizontal:_,borderRadius:y},t[6]=u.palette.negative_500,t[7]=x,t[8]=_,t[9]=y,t[10]=b):b=t[10],t[11]!==u.palette.white?(j={color:u.palette.white},t[11]=u.palette.white,t[12]=j):j=t[12],t[13]!==h||t[14]!==j?(v=[r.atoms.text_center,r.atoms.font_semi_bold,h,j],t[13]=h,t[14]=j,t[15]=v):v=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)(n.Trans,{id:"fpMs2Z"}),t[16]=S):S=t[16],t[17]!==v?(w=(0,l.jsx)(i.Text,{style:v,children:S}),t[17]=v,t[18]=w):w=t[18],t[19]!==w||t[20]!==b?(T=(0,l.jsx)(a.default,{style:b,children:w}),t[19]=w,t[20]=b,t[21]=T):T=t[21],t[22]!==T||t[23]!==g?(k=(0,l.jsx)(a.default,{style:g,children:T}),t[22]=T,t[23]=g,t[24]=k):k=t[24],k}},21934:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LiveStatus:()=>A,LiveStatusDialog:()=>C});var o=s(15991),n=(s(95004),s(67842)),a=s(31545),r=s(96963),i=s(3611),l=s(18102),c=s(98539),d=s(56947),u=s(86731),m=s(15874),h=s(13369),p=s(19552),f=s(51536),g=s(63410),x=s(8347),_=s(96449),y=s(98174),b=s(42741),j=s(23486),v=s(33703),S=s(23933),w=s(93562),T=s(2763),k=s(2629);function C(e){const t=(0,o.c)(12),{control:s,profile:n,embed:a,status:r}=e,l=(0,i.useNavigation)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={preventExpansion:!0},t[0]=c):c=t[0];const d=!!a.external.thumb;let u,m,h;return t[1]!==d?(u=(0,k.jsx)(g.Handle,{difference:d}),t[1]=d,t[2]=u):u=t[2],t[3]!==a||t[4]!==l||t[5]!==n||t[6]!==r?(m=(0,k.jsx)(I,{status:r,profile:n,embed:a,navigation:l}),t[3]=a,t[4]=l,t[5]=n,t[6]=r,t[7]=m):m=t[7],t[8]!==s||t[9]!==u||t[10]!==m?(h=(0,k.jsxs)(g.Outer,{control:s,nativeOptions:c,children:[u,m]}),t[8]=s,t[9]=u,t[10]=m,t[11]=h):h=t[11],h}function I(e){const t=(0,o.c)(18),{profile:s,embed:n,navigation:a,status:i}=e,{_:l}=(0,r.useLingui)(),c=g.useDialogContext();let u;t[0]!==c||t[1]!==a||t[2]!==s.handle?(u=()=>{c.close((()=>{a.push("Profile",{name:s.handle})}))},t[0]=c,t[1]=a,t[2]=s.handle,t[3]=u):u=t[3];const m=u;let h,f,x,_,y,b;return t[4]!==l||t[5]!==s.handle?(h=l({id:"lUMS71",values:{0:(0,d.sanitizeHandle)(s.handle)}}),t[4]=l,t[5]=s.handle,t[6]=h):h=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(f=[p.atoms.pt_0,p.atoms.px_0],x=[(0,p.web)({maxWidth:420}),p.atoms.overflow_hidden],t[7]=f,t[8]=x):(f=t[7],x=t[8]),t[9]!==n||t[10]!==m||t[11]!==s||t[12]!==i?(_=(0,k.jsx)(A,{status:i,profile:s,embed:n,onPressOpenProfile:m}),t[9]=n,t[10]=m,t[11]=s,t[12]=i,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,k.jsx)(g.Close,{}),t[14]=y):y=t[14],t[15]!==h||t[16]!==_?(b=(0,k.jsxs)(g.ScrollableInner,{label:h,contentContainerStyle:f,style:x,children:[_,y]}),t[15]=h,t[16]=_,t[17]=b):b=t[17],b}function A(e){const t=(0,o.c)(81),{status:s,profile:i,embed:d,padding:C,onPressOpenProfile:I}=e,A=void 0===C?"xl":C,P=(0,v.useAnalytics)(),{_:E}=(0,r.useLingui)(),L=(0,p.useTheme)(),R=(0,l.useQueryClient)(),B=(0,c.useOpenLink)(),D=(0,m.useModerationOpts)(),O=(0,y.useGlobalReportDialogControl)(),M=g.useDialogContext();let F,N,H,V,z;t[0]!==d.external.thumb||t[1]!==L.atoms.bg_contrast_25?(F=d.external.thumb&&(0,k.jsxs)(n.default,{style:[L.atoms.bg_contrast_25,p.atoms.w_full,p.atoms.aspect_card,(0,p.android)([p.atoms.overflow_hidden,{borderTopLeftRadius:p.atoms.rounded_md.borderRadius,borderTopRightRadius:p.atoms.rounded_md.borderRadius}])],children:[(0,k.jsx)(a.Image,{source:d.external.thumb,contentFit:"cover",style:[p.atoms.absolute,p.atoms.inset_0],accessibilityIgnoresInvertColors:!0}),(0,k.jsx)(T.LiveIndicator,{size:"large",style:[p.atoms.absolute,{top:p.tokens.space.lg,left:p.tokens.space.lg},p.atoms.align_start]})]}),t[0]=d.external.thumb,t[1]=L.atoms.bg_contrast_25,t[2]=F):F=t[2],t[3]!==d.external.thumb||t[4]!==A?(N="xl"===A?[p.atoms.px_xl,d.external.thumb?p.atoms.pt_lg:p.atoms.pt_2xl]:p.atoms.p_lg,t[3]=d.external.thumb,t[4]=A,t[5]=N):N=t[5],t[6]!==N?(H=[p.atoms.gap_lg,N],t[6]=N,t[7]=H):H=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(V=[p.atoms.w_full,p.atoms.justify_center,p.atoms.gap_2xs],t[8]=V):V=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(z=[p.atoms.leading_snug,p.atoms.font_semi_bold,p.atoms.text_xl],t[9]=z):z=t[9];const U=d.external.title||d.external.uri;let W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge;return t[10]!==U?(W=(0,k.jsx)(j.Text,{numberOfLines:3,style:z,children:U}),t[10]=U,t[11]=W):W=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(G=[p.atoms.flex_row,p.atoms.align_center,p.atoms.gap_2xs],t[12]=G):G=t[12],t[13]!==L.atoms.text_contrast_medium?(q=(0,k.jsx)(S.Globe_Stroke2_Corner0_Rounded,{size:"xs",style:[L.atoms.text_contrast_medium]}),t[13]=L.atoms.text_contrast_medium,t[14]=q):q=t[14],t[15]!==L.atoms.text_contrast_medium?(Q=[p.atoms.text_sm,p.atoms.leading_snug,L.atoms.text_contrast_medium],t[15]=L.atoms.text_contrast_medium,t[16]=Q):Q=t[16],t[17]!==d.external.uri?(K=(0,u.toNiceDomain)(d.external.uri),t[17]=d.external.uri,t[18]=K):K=t[18],t[19]!==Q||t[20]!==K?(Z=(0,k.jsx)(j.Text,{numberOfLines:1,style:Q,children:K}),t[19]=Q,t[20]=K,t[21]=Z):Z=t[21],t[22]!==q||t[23]!==Z?(Y=(0,k.jsxs)(n.default,{style:G,children:[q,Z]}),t[22]=q,t[23]=Z,t[24]=Y):Y=t[24],t[25]!==Y||t[26]!==W?($=(0,k.jsxs)(n.default,{style:V,children:[W,Y]}),t[25]=Y,t[26]=W,t[27]=$):$=t[27],t[28]!==E?(X=E({id:"dh7dqK"}),t[28]=E,t[29]=X):X=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(J=(0,p.platform)({native:"large",web:"small"}),t[30]=J):J=t[30],t[31]!==P||t[32]!==d.external.uri||t[33]!==B||t[34]!==i.did?(ee=()=>{P.metric("live:card:watch",{subject:i.did}),B(d.external.uri,!1)},t[31]=P,t[32]=d.external.uri,t[33]=B,t[34]=i.did,t[35]=ee):ee=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(te=(0,k.jsx)(f.ButtonText,{children:(0,k.jsx)(r.Trans,{id:"dh7dqK"})}),se=(0,k.jsx)(f.ButtonIcon,{icon:w.SquareArrowTopRight_Stroke2_Corner0_Rounded}),t[36]=te,t[37]=se):(te=t[36],se=t[37]),t[38]!==X||t[39]!==ee?(oe=(0,k.jsxs)(f.Button,{label:X,size:J,color:"primary",variant:"solid",onPress:ee,children:[te,se]}),t[38]=X,t[39]=ee,t[40]=oe):oe=t[40],t[41]!==L.atoms.border_contrast_low?(ne=(0,k.jsx)(n.default,{style:[L.atoms.border_contrast_low,p.atoms.border_t,p.atoms.w_full]}),t[41]=L.atoms.border_contrast_low,t[42]=ne):ne=t[42],t[43]!==E||t[44]!==P||t[45]!==D||t[46]!==I||t[47]!==i||t[48]!==R?(ae=D&&(0,k.jsxs)(b.Header,{children:[(0,k.jsx)(b.Avatar,{profile:i,moderationOpts:D,disabledPreview:!0}),(0,k.jsx)(n.default,{style:[p.atoms.flex_1,(0,p.web)({minWidth:100})],children:(0,k.jsx)(b.NameAndHandle,{profile:i,moderationOpts:D})}),(0,k.jsx)(f.Button,{label:E({id:"/QPS+F"}),size:"small",color:"secondary",variant:"solid",onPress:()=>{P.metric("live:card:openProfile",{subject:i.did}),(0,h.unstableCacheProfileView)(R,i),I()},children:(0,k.jsx)(f.ButtonText,{children:(0,k.jsx)(r.Trans,{id:"/QPS+F"})})})]}),t[43]=E,t[44]=P,t[45]=D,t[46]=I,t[47]=i,t[48]=R,t[49]=ae):ae=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(re=[p.atoms.flex_row,p.atoms.align_center,p.atoms.justify_between,p.atoms.w_full,p.atoms.pt_sm],t[50]=re):re=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(ie=[p.atoms.flex_row,p.atoms.align_center,p.atoms.gap_xs,p.atoms.flex_1],t[51]=ie):ie=t[51],t[52]!==L.atoms.text_contrast_low.color?(le=(0,k.jsx)(x.CircleInfo_Stroke2_Corner0_Rounded,{size:"sm",fill:L.atoms.text_contrast_low.color}),t[52]=L.atoms.text_contrast_low.color,t[53]=le):le=t[53],t[54]!==L.atoms.text_contrast_low?(ce=[L.atoms.text_contrast_low,p.atoms.text_sm],t[54]=L.atoms.text_contrast_low,t[55]=ce):ce=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(de=(0,k.jsx)(r.Trans,{id:"eowzR+"}),t[56]=de):de=t[56],t[57]!==ce?(ue=(0,k.jsx)(j.Text,{style:ce,children:de}),t[57]=ce,t[58]=ue):ue=t[58],t[59]!==le||t[60]!==ue?(me=(0,k.jsxs)(n.default,{style:ie,children:[le,ue]}),t[59]=le,t[60]=ue,t[61]=me):me=t[61],t[62]!==E||t[63]!==M||t[64]!==O||t[65]!==s||t[66]!==L.atoms.text_contrast_medium?(he=s&&(0,k.jsx)(_.SimpleInlineLinkText,Object.assign({label:E({id:"DrROU7"})},(0,_.createStaticClick)((()=>{const e=function(){O.open({subject:Object.assign({},s,{$type:"app.bsky.actor.defs#statusView"})})};M.isWithinDialog?M.close(e):e()})),{style:[p.atoms.text_sm,p.atoms.underline,L.atoms.text_contrast_medium],children:(0,k.jsx)(r.Trans,{id:"gjpdaf"})})),t[62]=E,t[63]=M,t[64]=O,t[65]=s,t[66]=L.atoms.text_contrast_medium,t[67]=he):he=t[67],t[68]!==me||t[69]!==he?(pe=(0,k.jsxs)(n.default,{style:re,children:[me,he]}),t[68]=me,t[69]=he,t[70]=pe):pe=t[70],t[71]!==$||t[72]!==oe||t[73]!==ne||t[74]!==ae||t[75]!==pe||t[76]!==H?(fe=(0,k.jsxs)(n.default,{style:H,children:[$,oe,ne,ae,pe]}),t[71]=$,t[72]=oe,t[73]=ne,t[74]=ae,t[75]=pe,t[76]=H,t[77]=fe):fe=t[77],t[78]!==F||t[79]!==fe?(ge=(0,k.jsxs)(k.Fragment,{children:[F,fe]}),t[78]=F,t[79]=fe,t[80]=ge):ge=t[80],ge}},3963:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ModerationDetailsDialog:()=>x,useModerationDetailsDialogControl:()=>m.useDialogControl});var o=s(15991),n=s(67842),a=s(96963),r=s(15186),i=s(58921),l=s(35938),c=s(86731),d=s(97154),u=s(19552),m=s(63410),h=s(96449),p=s(23486),f=s(43535),g=s(2629);function x(e){const t=(0,o.c)(7);let s,n,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={preventExpansion:!0},n=(0,g.jsx)(m.Handle,{}),t[0]=s,t[1]=n):(s=t[0],n=t[1]),t[2]!==e?(a=(0,g.jsx)(_,Object.assign({},e)),t[2]=e,t[3]=a):a=t[3],t[4]!==e.control||t[5]!==a?(r=(0,g.jsxs)(m.Outer,{control:e.control,nativeOptions:s,children:[n,a]}),t[4]=e.control,t[5]=a,t[6]=r):r=t[6],r}function _(e){const t=(0,o.c)(106),{modcause:s,control:x}=e,_=(0,u.useTheme)();let y;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=[0,"base"],t[0]=y):y=t[0];const b=(0,u.useGutters)(y),{_:j}=(0,a.useLingui)(),v=(0,i.useModerationCauseDescription)(s),{currentAccount:S}=(0,d.useSession)();let w;t[1]===Symbol.for("react.memo_cache_sentinel")?(w={future:!0},t[1]=w):w=t[1];const T=(0,r.useGetTimeAgo)(w);let k,C,I;if(s)if("blocking"===s.type)if("list"===s.source.type){const e=s.source.list;let o,n;t[6]!==j?(o=j({id:"osKqN8"}),t[6]=j,t[7]=o):o=t[7],k=o,t[8]!==e.name?(n={0:e.name},t[8]=e.name,t[9]=n):n=t[9];const r=e.name;let i,l,d,m;t[10]!==e.uri?(i=(0,c.listUriToHref)(e.uri),t[10]=e.uri,t[11]=i):i=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(l=[u.atoms.text_sm],t[12]=l):l=t[12],t[13]!==e.name||t[14]!==i?(d={0:(0,g.jsx)(h.InlineLinkText,{label:r,to:i,style:l})},t[13]=e.name,t[14]=i,t[15]=d):d=t[15],t[16]!==n||t[17]!==d?(m=(0,g.jsx)(a.Trans,{id:"dFqFnr",values:n,components:d}),t[16]=n,t[17]=d,t[18]=m):m=t[18],C=m}else{let e,s;t[19]!==j?(e=j({id:"wMB857"}),t[19]=j,t[20]=e):e=t[20],k=e,t[21]!==j?(s=j({id:"FeSOdc"}),t[21]=j,t[22]=s):s=t[22],C=s}else if("blocked-by"===s.type){let e,s;t[23]!==j?(e=j({id:"7Fhdl6"}),t[23]=j,t[24]=e):e=t[24],k=e,t[25]!==j?(s=j({id:"BjkKZ0"}),t[25]=j,t[26]=s):s=t[26],C=s}else if("block-other"===s.type){let e,s;t[27]!==j?(e=j({id:"HBDEKd"}),t[27]=j,t[28]=e):e=t[28],k=e,t[29]!==j?(s=j({id:"cBqxeK"}),t[29]=j,t[30]=s):s=t[30],C=s}else if("muted"===s.type)if("list"===s.source.type){const e=s.source.list;let o,n;t[31]!==j?(o=j({id:"bFDBrh"}),t[31]=j,t[32]=o):o=t[32],k=o,t[33]!==e.name?(n={0:e.name},t[33]=e.name,t[34]=n):n=t[34];const r=e.name;let i,l,d,m;t[35]!==e.uri?(i=(0,c.listUriToHref)(e.uri),t[35]=e.uri,t[36]=i):i=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(l=[u.atoms.text_sm],t[37]=l):l=t[37],t[38]!==e.name||t[39]!==i?(d={0:(0,g.jsx)(h.InlineLinkText,{label:r,to:i,style:l})},t[38]=e.name,t[39]=i,t[40]=d):d=t[40],t[41]!==n||t[42]!==d?(m=(0,g.jsx)(a.Trans,{id:"dIqWXh",values:n,components:d}),t[41]=n,t[42]=d,t[43]=m):m=t[43],C=m}else{let e,s;t[44]!==j?(e=j({id:"I8EmWz"}),t[44]=j,t[45]=e):e=t[45],k=e,t[46]!==j?(s=j({id:"Kq0hBn"}),t[46]=j,t[47]=s):s=t[47],C=s}else if("mute-word"===s.type){let e,s;t[48]!==j?(e=j({id:"CExsTg"}),t[48]=j,t[49]=e):e=t[49],k=e,t[50]!==j?(s=j({id:"/ZtAb1"}),t[50]=j,t[51]=s):s=t[51],C=s}else if("hidden"===s.type){let e,s;t[52]!==j?(e=j({id:"6kYq90"}),t[52]=j,t[53]=e):e=t[53],k=e,t[54]!==j?(s=j({id:"+fEBPf"}),t[54]=j,t[55]=s):s=t[55],C=s}else if("reply-hidden"===s.type){const e=S?.did===s.source.did;let o,n;t[56]!==j||t[57]!==e?(o=j(e?{id:"gMTJRO"}:{id:"rozEm8"}),t[56]=j,t[57]=e,t[58]=o):o=t[58],k=o,t[59]!==j||t[60]!==e?(n=j(e?{id:"9VFY8v"}:{id:"GeCOUK"}),t[59]=j,t[60]=e,t[61]=n):n=t[61],C=n}else if("label"===s.type){let e,s;k=v.name,t[62]!==_.atoms.text?(e=[_.atoms.text,u.atoms.text_md,u.atoms.leading_snug],t[62]=_.atoms.text,t[63]=e):e=t[63],t[64]!==v.description||t[65]!==e?(s=(0,g.jsx)(p.Text,{emoji:!0,style:e,children:v.description}),t[64]=v.description,t[65]=e,t[66]=s):s=t[66],C=s}else k="",C="";else{let e,s;t[2]!==j?(e=j({id:"cogwXi"}),t[2]=j,t[3]=e):e=t[3],k=e,t[4]!==j?(s=j({id:"/JIU0q"}),t[4]=j,t[5]=s):s=t[5],C=s}t[67]!==j||t[68]!==v.source||t[69]!==v.sourceDisplayName?(I=v.source||v.sourceDisplayName||j({id:"M6H7xo"}),t[67]=j,t[68]=v.source,t[69]=v.sourceDisplayName,t[70]=I):I=t[70];const A=I;let P,E,L,R,B,D,O,M,F,N,H,V;return t[71]!==j?(P=j({id:"nAXmqO"}),t[71]=j,t[72]=P):P=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(E={paddingLeft:0,paddingRight:0,paddingBottom:0},t[73]=E):E=t[73],t[74]!==b?(L=[b,u.atoms.pb_lg],t[74]=b,t[75]=L):L=t[75],t[76]!==_.atoms.text?(R=[_.atoms.text,u.atoms.text_2xl,u.atoms.font_bold,u.atoms.mb_sm],t[76]=_.atoms.text,t[77]=R):R=t[77],t[78]!==k||t[79]!==R?(B=(0,g.jsx)(p.Text,{emoji:!0,style:R,children:k}),t[78]=k,t[79]=R,t[80]=B):B=t[80],t[81]!==_.atoms.text?(D=[_.atoms.text,u.atoms.text_sm,u.atoms.leading_snug],t[81]=_.atoms.text,t[82]=D):D=t[82],t[83]!==C||t[84]!==D?(O=(0,g.jsx)(p.Text,{style:D,children:C}),t[83]=C,t[84]=D,t[85]=O):O=t[85],t[86]!==O||t[87]!==L||t[88]!==B?(M=(0,g.jsxs)(n.default,{style:L,children:[B,O]}),t[86]=O,t[87]=L,t[88]=B,t[89]=M):M=t[89],t[90]!==x||t[91]!==s||t[92]!==A||t[93]!==_.atoms.bg_contrast_25||t[94]!==_.atoms.border_contrast_low||t[95]!==_.atoms.text||t[96]!==_.atoms.text_contrast_medium||t[97]!==T||t[98]!==b?(F="label"===s?.type&&(0,g.jsx)(n.default,{style:[b,u.atoms.py_md,u.atoms.border_t,!f.IS_NATIVE&&_.atoms.bg_contrast_25,_.atoms.border_contrast_low,{borderBottomLeftRadius:u.atoms.rounded_md.borderRadius,borderBottomRightRadius:u.atoms.rounded_md.borderRadius}],children:"user"===s.source.type?(0,g.jsx)(p.Text,{style:[_.atoms.text,u.atoms.text_md,u.atoms.leading_snug],children:(0,g.jsx)(a.Trans,{id:"2p78Fi"})}):(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(n.default,{style:[u.atoms.flex_row,u.atoms.justify_between,u.atoms.gap_xl,{paddingBottom:1}],children:[(0,g.jsx)(p.Text,{style:[u.atoms.flex_1,u.atoms.leading_snug,_.atoms.text_contrast_medium],numberOfLines:1,children:(0,g.jsx)(a.Trans,{id:"hINgTt",values:{sourceName:A},components:{0:(0,g.jsx)(h.InlineLinkText,{label:A,to:(0,l.makeProfileLink)({did:s.label.src,handle:""}),onPress:()=>x.close()})}})}),s.label.exp&&(0,g.jsx)(n.default,{children:(0,g.jsx)(p.Text,{style:[u.atoms.leading_snug,u.atoms.text_sm,u.atoms.italic,_.atoms.text_contrast_medium],children:(0,g.jsx)(a.Trans,{id:"p6Htf2",values:{0:T(Date.now(),s.label.exp)}})})})]})})}),t[90]=x,t[91]=s,t[92]=A,t[93]=_.atoms.bg_contrast_25,t[94]=_.atoms.border_contrast_low,t[95]=_.atoms.text,t[96]=_.atoms.text_contrast_medium,t[97]=T,t[98]=b,t[99]=F):F=t[99],t[100]===Symbol.for("react.memo_cache_sentinel")?(N=f.IS_NATIVE&&(0,g.jsx)(n.default,{style:{height:40}}),H=(0,g.jsx)(m.Close,{}),t[100]=N,t[101]=H):(N=t[100],H=t[101]),t[102]!==M||t[103]!==F||t[104]!==P?(V=(0,g.jsxs)(m.ScrollableInner,{label:P,contentContainerStyle:E,children:[M,F,N,H]}),t[102]=M,t[103]=F,t[104]=P,t[105]=V):V=t[105],V}},98174:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalReportDialog:()=>U,ReportDialog:()=>W,useGlobalReportDialogControl:()=>z,useReportDialogControl:()=>y.useDialogControl});var o=s(15991),n=s(95004),a=s(41711),r=s(67842),i=s(66949),l=s(96963),c=s(47571),d=s(44959),u=s(7150),m=s(56947),h=s(86623),p=s(53444),f=s(32720),g=s(19552),x=s(27344),_=s(51536),y=s(63410),b=s(96587);var j=s(43261),v=s(84639),S=s(25139),w=s(93562),T=s(58403),k=s(96449),C=s(50788),I=s(23486),A=s(33703),P=s(43535),E=s(37729),L=(s(5295),s(97154));const R="https://bsky.social/about/support",B={[i.ToolsOzoneReportDefs.REASONAPPEAL]:i.ComAtprotoModerationDefs.REASONAPPEAL,[i.ToolsOzoneReportDefs.REASONOTHER]:i.ComAtprotoModerationDefs.REASONOTHER,[i.ToolsOzoneReportDefs.REASONVIOLENCEANIMAL]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCETHREATS]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCEGRAPHICCONTENT]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCEGLORIFICATION]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCEEXTREMISTCONTENT]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCETRAFFICKING]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONVIOLENCEOTHER]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSEXUALABUSECONTENT]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONSEXUALNCII]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONSEXUALDEEPFAKE]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONSEXUALANIMAL]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONSEXUALUNLABELED]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONSEXUALOTHER]:i.ComAtprotoModerationDefs.REASONSEXUAL,[i.ToolsOzoneReportDefs.REASONCHILDSAFETYCSAM]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONCHILDSAFETYGROOM]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONCHILDSAFETYPRIVACY]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONCHILDSAFETYHARASSMENT]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONCHILDSAFETYOTHER]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONHARASSMENTTROLL]:i.ComAtprotoModerationDefs.REASONRUDE,[i.ToolsOzoneReportDefs.REASONHARASSMENTTARGETED]:i.ComAtprotoModerationDefs.REASONRUDE,[i.ToolsOzoneReportDefs.REASONHARASSMENTHATESPEECH]:i.ComAtprotoModerationDefs.REASONRUDE,[i.ToolsOzoneReportDefs.REASONHARASSMENTDOXXING]:i.ComAtprotoModerationDefs.REASONRUDE,[i.ToolsOzoneReportDefs.REASONHARASSMENTOTHER]:i.ComAtprotoModerationDefs.REASONRUDE,[i.ToolsOzoneReportDefs.REASONMISLEADINGBOT]:i.ComAtprotoModerationDefs.REASONMISLEADING,[i.ToolsOzoneReportDefs.REASONMISLEADINGIMPERSONATION]:i.ComAtprotoModerationDefs.REASONMISLEADING,[i.ToolsOzoneReportDefs.REASONMISLEADINGSPAM]:i.ComAtprotoModerationDefs.REASONSPAM,[i.ToolsOzoneReportDefs.REASONMISLEADINGSCAM]:i.ComAtprotoModerationDefs.REASONMISLEADING,[i.ToolsOzoneReportDefs.REASONMISLEADINGELECTIONS]:i.ComAtprotoModerationDefs.REASONMISLEADING,[i.ToolsOzoneReportDefs.REASONMISLEADINGOTHER]:i.ComAtprotoModerationDefs.REASONMISLEADING,[i.ToolsOzoneReportDefs.REASONRULESITESECURITY]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONRULEPROHIBITEDSALES]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONRULEBANEVASION]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONRULEOTHER]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSELFHARMCONTENT]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSELFHARMED]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSELFHARMSTUNTS]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSELFHARMSUBSTANCES]:i.ComAtprotoModerationDefs.REASONVIOLATION,[i.ToolsOzoneReportDefs.REASONSELFHARMOTHER]:i.ComAtprotoModerationDefs.REASONVIOLATION},D=(i.ComAtprotoModerationDefs.REASONSPAM,i.ToolsOzoneReportDefs.REASONMISLEADINGSPAM,i.ComAtprotoModerationDefs.REASONVIOLATION,i.ToolsOzoneReportDefs.REASONRULEOTHER,i.ComAtprotoModerationDefs.REASONMISLEADING,i.ToolsOzoneReportDefs.REASONMISLEADINGOTHER,i.ComAtprotoModerationDefs.REASONSEXUAL,i.ToolsOzoneReportDefs.REASONSEXUALUNLABELED,i.ComAtprotoModerationDefs.REASONRUDE,i.ToolsOzoneReportDefs.REASONHARASSMENTOTHER,i.ComAtprotoModerationDefs.REASONOTHER,i.ToolsOzoneReportDefs.REASONOTHER,i.ComAtprotoModerationDefs.REASONAPPEAL,i.ToolsOzoneReportDefs.REASONAPPEAL,new Set([i.ToolsOzoneReportDefs.REASONVIOLENCEOTHER,i.ToolsOzoneReportDefs.REASONSEXUALOTHER,i.ToolsOzoneReportDefs.REASONCHILDSAFETYOTHER,i.ToolsOzoneReportDefs.REASONHARASSMENTOTHER,i.ToolsOzoneReportDefs.REASONMISLEADINGOTHER,i.ToolsOzoneReportDefs.REASONRULEOTHER,i.ToolsOzoneReportDefs.REASONSELFHARMOTHER,i.ToolsOzoneReportDefs.REASONOTHER])),O=new Set([i.ToolsOzoneReportDefs.REASONCHILDSAFETYCSAM,i.ToolsOzoneReportDefs.REASONCHILDSAFETYGROOM,i.ToolsOzoneReportDefs.REASONCHILDSAFETYOTHER,i.ToolsOzoneReportDefs.REASONVIOLENCEEXTREMISTCONTENT]),M=new Set(["convoMessage","status"]);const F={selectedCategory:void 0,selectedOption:void 0,selectedLabeler:void 0,details:void 0,detailsOpen:!1,activeStepIndex1:1};function N(e,t){switch(t.type){case"selectCategory":return Object.assign({},e,{selectedCategory:t.option,activeStepIndex1:"other"===t.option.key?3:2,selectedOption:"other"===t.option.key?t.otherOption:void 0});case"clearCategory":return Object.assign({},e,{selectedCategory:void 0,selectedOption:void 0,selectedLabeler:void 0,activeStepIndex1:1,detailsOpen:!1});case"selectOption":return Object.assign({},e,{selectedOption:t.option,activeStepIndex1:3,detailsOpen:D.has(t.option.reason)});case"clearOption":return Object.assign({},e,{selectedOption:void 0,selectedLabeler:void 0,activeStepIndex1:2,detailsOpen:!1});case"selectLabeler":return Object.assign({},e,{selectedLabeler:t.labeler,activeStepIndex1:4,detailsOpen:!!e.selectedOption&&D.has(e.selectedOption?.reason)});case"clearLabeler":return Object.assign({},e,{selectedLabeler:void 0,activeStepIndex1:3});case"setDetails":return Object.assign({},e,{details:t.details});case"setError":return Object.assign({},e,{error:t.error});case"clearError":return Object.assign({},e,{error:void 0});case"showDetails":return Object.assign({},e,{detailsOpen:!0})}}var H=s(46804);var V=s(2629);function z(){return(0,b.useGlobalDialogsControlContext)().reportDialogControl}function U(){const e=(0,o.c)(3),{value:t,control:s}=z(),n=t?.subject;let a;return e[0]!==s||e[1]!==n?(a=(0,V.jsx)(W,{control:s,subject:n}),e[0]=s,e[1]=n,e[2]=a):a=e[2],a}function W(e){const t=(0,o.c)(12),s=(0,A.useAnalytics)();let n;t[0]!==e.subject?(n=e.subject?function(e){if(e){if("convoId"in e)return Object.assign({type:"convoMessage"},e);if(i.AppBskyActorDefs.isProfileViewBasic(e)||i.AppBskyActorDefs.isProfileView(e)||i.AppBskyActorDefs.isProfileViewDetailed(e))return{type:"account",did:e.did,nsid:"app.bsky.actor.profile"};if(i.AppBskyActorDefs.isStatusView(e)){if(!e.uri||!e.cid)return;return{type:"status",uri:e.uri,cid:e.cid,nsid:"app.bsky.actor.status"}}if(i.AppBskyGraphDefs.isListView(e))return{type:"list",uri:e.uri,cid:e.cid,nsid:"app.bsky.graph.list"};if(i.AppBskyFeedDefs.isGeneratorView(e))return{type:"feed",uri:e.uri,cid:e.cid,nsid:"app.bsky.feed.generator"};if(i.AppBskyGraphDefs.isStarterPackView(e))return{type:"starterPack",uri:e.uri,cid:e.cid,nsid:"app.bsky.graph.starterPack"};if(i.AppBskyFeedDefs.isPostView(e)){const t=e.record,s=H.post.parseEmbed(e.embed);if(H.dangerousIsType(t,i.AppBskyFeedPost.isRecord))return{type:"post",uri:e.uri,cid:e.cid,nsid:"app.bsky.feed.post",attributes:{reply:!!t.reply,image:"images"===s.type||"post_with_media"===s.type&&"images"===s.media.type,video:"video"===s.type||"post_with_media"===s.type&&"video"===s.media.type,link:"link"===s.type||"post_with_media"===s.type&&"link"===s.media.type,quote:"post"===s.type||"post_with_media"===s.type&&("post"===s.view.type||"post_with_media"===s.view.type)}}}}}(e.subject):void 0,t[0]=e.subject,t[1]=n):n=t[1];const a=n;let r;t[2]!==s?(r=()=>{s.metric("reportDialog:close",{})},t[2]=s,t[3]=r):r=t[3];const l=r;let c,d,u;return t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,V.jsx)(y.Handle,{}),t[4]=c):c=t[4],t[5]!==e||t[6]!==a?(d=a?(0,V.jsx)(q,Object.assign({},e,{subject:a})):(0,V.jsx)(G,{}),t[5]=e,t[6]=a,t[7]=d):d=t[7],t[8]!==l||t[9]!==e.control||t[10]!==d?(u=(0,V.jsxs)(y.Outer,{control:e.control,onClose:l,children:[c,d]}),t[8]=l,t[9]=e.control,t[10]=d,t[11]=u):u=t[11],u}function G(){const e=(0,o.c)(7),{_:t}=(0,l.useLingui)();let s,n,a,r,i;return e[0]!==t?(s=t({id:"mYGG5f"}),e[0]=t,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,V.jsx)(I.Text,{style:[g.atoms.font_bold,g.atoms.text_xl,g.atoms.leading_snug,g.atoms.pb_xs],children:(0,V.jsx)(l.Trans,{id:"f9bwUX"})}),e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,V.jsx)(I.Text,{style:[g.atoms.text_md,g.atoms.leading_snug],children:(0,V.jsx)(l.Trans,{id:"TVJ5kH"})}),r=(0,V.jsx)(y.Close,{}),e[3]=a,e[4]=r):(a=e[3],r=e[4]),e[5]!==s?(i=(0,V.jsxs)(y.ScrollableInner,{label:s,children:[n,a,r]}),e[5]=s,e[6]=i):i=e[6],i}function q(e){const t=(0,A.useAnalytics)(),s=t.logger.useChild(t.logger.Context.ReportDialog),d=(0,g.useTheme)(),{_:m}=(0,l.useLingui)(),f=n.useRef(null),{data:b,isLoading:D,error:H,refetch:z}=(0,h.useMyLabelersQuery)({excludeNonConfigurableLabelers:!0}),U=function(e,t){const s=(0,o.c)(4),a=void 0===t||t,[r,i]=n.useState(a);let l,c;return s[0]!==e||s[1]!==r?(l=()=>{let t;return r&&(t=setTimeout((()=>i(!1)),e)),()=>t&&clearTimeout(t)},c=[r,e],s[0]=e,s[1]=r,s[2]=l,s[3]=c):(l=s[2],c=s[3]),n.useEffect(l,c),r}(500,D),W=function(e){const t=(0,o.c)(56),{_:s}=(0,l.useLingui)();let n;e:{switch(e.type){case"account":{let e,o,a;t[0]!==s?(e=s({id:"VrWRia"}),t[0]=s,t[1]=e):e=t[1],t[2]!==s?(o=s({id:"Q3g9qz"}),t[2]=s,t[3]=o):o=t[3],t[4]!==e||t[5]!==o?(a={title:e,subtitle:o},t[4]=e,t[5]=o,t[6]=a):a=t[6],n=a;break e}case"status":{let e,o,a;t[7]!==s?(e=s({id:"DrROU7"}),t[7]=s,t[8]=e):e=t[8],t[9]!==s?(o=s({id:"uHI5rx"}),t[9]=s,t[10]=o):o=t[10],t[11]!==e||t[12]!==o?(a={title:e,subtitle:o},t[11]=e,t[12]=o,t[13]=a):a=t[13],n=a;break e}case"post":{let e,o,a;t[14]!==s?(e=s({id:"cWnUgT"}),t[14]=s,t[15]=e):e=t[15],t[16]!==s?(o=s({id:"pyWD3P"}),t[16]=s,t[17]=o):o=t[17],t[18]!==e||t[19]!==o?(a={title:e,subtitle:o},t[18]=e,t[19]=o,t[20]=a):a=t[20],n=a;break e}case"list":{let e,o,a;t[21]!==s?(e=s({id:"0071ig"}),t[21]=s,t[22]=e):e=t[22],t[23]!==s?(o=s({id:"s1bQLm"}),t[23]=s,t[24]=o):o=t[24],t[25]!==e||t[26]!==o?(a={title:e,subtitle:o},t[25]=e,t[26]=o,t[27]=a):a=t[27],n=a;break e}case"feed":{let e,o,a;t[28]!==s?(e=s({id:"qsxqJR"}),t[28]=s,t[29]=e):e=t[29],t[30]!==s?(o=s({id:"Jbnxhu"}),t[30]=s,t[31]=o):o=t[31],t[32]!==e||t[33]!==o?(a={title:e,subtitle:o},t[32]=e,t[33]=o,t[34]=a):a=t[34],n=a;break e}case"starterPack":{let e,o,a;t[35]!==s?(e=s({id:"tpQ5Li"}),t[35]=s,t[36]=e):e=t[36],t[37]!==s?(o=s({id:"HCPEOj"}),t[37]=s,t[38]=o):o=t[38],t[39]!==e||t[40]!==o?(a={title:e,subtitle:o},t[39]=e,t[40]=o,t[41]=a):a=t[41],n=a;break e}case"convoMessage":switch(e.view){case"convo":{let e,o,a;t[42]!==s?(e=s({id:"UIFsMN"}),t[42]=s,t[43]=e):e=t[43],t[44]!==s?(o=s({id:"CrzhQL"}),t[44]=s,t[45]=o):o=t[45],t[46]!==e||t[47]!==o?(a={title:e,subtitle:o},t[46]=e,t[47]=o,t[48]=a):a=t[48],n=a;break e}case"message":{let e,o,a;t[49]!==s?(e=s({id:"kdD6aV"}),t[49]=s,t[50]=e):e=t[50],t[51]!==s?(o=s({id:"epz4wG"}),t[51]=s,t[52]=o):o=t[52],t[53]!==e||t[54]!==o?(a={title:e,subtitle:o},t[53]=e,t[54]=o,t[55]=a):a=t[55],n=a;break e}}}n=void 0}return n}(e.subject),{categories:G,getCategory:q}=function(){const e=(0,o.c)(279),{_:t}=(0,l.useLingui)();let s,n,a,r,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I,A,P,E,L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q,K,Z,Y,$,X,J,ee,te,se,oe,ne,ae,re,ie,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,Se,we,Te,ke,Ce,Ie,Ae,Pe,Ee,Le,Re,Be,De,Oe,Me,Fe,Ne,He,Ve,ze,Ue,We,Ge,qe,Qe,Ke,Ze,Ye,$e,Xe,Je,et,tt,st,ot,nt,at,rt;e[0]!==t?(s=t({id:"6g6+N8"}),e[0]=t,e[1]=s):s=e[1],e[2]!==t?(n=t({id:"ogx5Kk"}),e[2]=t,e[3]=n):n=e[3],e[4]!==t?(a=t({id:"t8dIOP"}),e[4]=t,e[5]=a):a=e[5],e[6]!==a?(r={title:a,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGSPAM},e[6]=a,e[7]=r):r=e[7],e[8]!==t?(c=t({id:"hx872x"}),e[8]=t,e[9]=c):c=e[9],e[10]!==c?(d={title:c,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGSCAM},e[10]=c,e[11]=d):d=e[11],e[12]!==t?(u=t({id:"SkbfTy"}),e[12]=t,e[13]=u):u=e[13],e[14]!==u?(m={title:u,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGBOT},e[14]=u,e[15]=m):m=e[15],e[16]!==t?(h=t({id:"gFoGWm"}),e[16]=t,e[17]=h):h=e[17],e[18]!==h?(p={title:h,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGIMPERSONATION},e[18]=h,e[19]=p):p=e[19],e[20]!==t?(f=t({id:"eri7mR"}),e[20]=t,e[21]=f):f=e[21],e[22]!==f?(g={title:f,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGELECTIONS},e[22]=f,e[23]=g):g=e[23],e[24]!==t?(x=t({id:"mJrn7Y"}),e[24]=t,e[25]=x):x=e[25],e[26]!==x?(_={title:x,reason:i.ToolsOzoneReportDefs.REASONMISLEADINGOTHER},e[26]=x,e[27]=_):_=e[27],e[28]!==g||e[29]!==_||e[30]!==r||e[31]!==d||e[32]!==m||e[33]!==p?(y=[r,d,m,p,g,_],e[28]=g,e[29]=_,e[30]=r,e[31]=d,e[32]=m,e[33]=p,e[34]=y):y=e[34],e[35]!==s||e[36]!==n||e[37]!==y?(b={key:"misleading",title:s,description:n,options:y},e[35]=s,e[36]=n,e[37]=y,e[38]=b):b=e[38],e[39]!==t?(j=t({id:"uUTwZ0"}),e[39]=t,e[40]=j):j=e[40],e[41]!==t?(v=t({id:"CIl0aS"}),e[41]=t,e[42]=v):v=e[42],e[43]!==t?(S=t({id:"jqTuOg"}),e[43]=t,e[44]=S):S=e[44],e[45]!==S?(w={title:S,reason:i.ToolsOzoneReportDefs.REASONSEXUALUNLABELED},e[45]=S,e[46]=w):w=e[46],e[47]!==t?(T=t({id:"nBtpcr"}),e[47]=t,e[48]=T):T=e[48],e[49]!==T?(k={title:T,reason:i.ToolsOzoneReportDefs.REASONSEXUALABUSECONTENT},e[49]=T,e[50]=k):k=e[50],e[51]!==t?(C=t({id:"q6U8jc"}),e[51]=t,e[52]=C):C=e[52],e[53]!==C?(I={title:C,reason:i.ToolsOzoneReportDefs.REASONSEXUALNCII},e[53]=C,e[54]=I):I=e[54],e[55]!==t?(A=t({id:"3YNUbH"}),e[55]=t,e[56]=A):A=e[56],e[57]!==A?(P={title:A,reason:i.ToolsOzoneReportDefs.REASONSEXUALDEEPFAKE},e[57]=A,e[58]=P):P=e[58],e[59]!==t?(E=t({id:"FEJp/c"}),e[59]=t,e[60]=E):E=e[60],e[61]!==E?(L={title:E,reason:i.ToolsOzoneReportDefs.REASONSEXUALANIMAL},e[61]=E,e[62]=L):L=e[62],e[63]!==t?(R=t({id:"1+8bvG"}),e[63]=t,e[64]=R):R=e[64],e[65]!==R?(B={title:R,reason:i.ToolsOzoneReportDefs.REASONSEXUALOTHER},e[65]=R,e[66]=B):B=e[66],e[67]!==w||e[68]!==k||e[69]!==I||e[70]!==P||e[71]!==L||e[72]!==B?(D=[w,k,I,P,L,B],e[67]=w,e[68]=k,e[69]=I,e[70]=P,e[71]=L,e[72]=B,e[73]=D):D=e[73],e[74]!==j||e[75]!==v||e[76]!==D?(O={key:"sexualAdultContent",title:j,description:v,options:D},e[74]=j,e[75]=v,e[76]=D,e[77]=O):O=e[77],e[78]!==t?(M=t({id:"gAclfL"}),e[78]=t,e[79]=M):M=e[79],e[80]!==t?(F=t({id:"5fYAMo"}),e[80]=t,e[81]=F):F=e[81],e[82]!==t?(N=t({id:"pAex5p"}),e[82]=t,e[83]=N):N=e[83],e[84]!==N?(H={title:N,reason:i.ToolsOzoneReportDefs.REASONHARASSMENTTROLL},e[84]=N,e[85]=H):H=e[85],e[86]!==t?(V=t({id:"Ww6t8S"}),e[86]=t,e[87]=V):V=e[87],e[88]!==V?(z={title:V,reason:i.ToolsOzoneReportDefs.REASONHARASSMENTTARGETED},e[88]=V,e[89]=z):z=e[89],e[90]!==t?(U=t({id:"LoVB/U"}),e[90]=t,e[91]=U):U=e[91],e[92]!==U?(W={title:U,reason:i.ToolsOzoneReportDefs.REASONHARASSMENTHATESPEECH},e[92]=U,e[93]=W):W=e[93],e[94]!==t?(G=t({id:"rwXsTn"}),e[94]=t,e[95]=G):G=e[95],e[96]!==G?(q={title:G,reason:i.ToolsOzoneReportDefs.REASONHARASSMENTDOXXING},e[96]=G,e[97]=q):q=e[97],e[98]!==t?(Q=t({id:"FESy4d"}),e[98]=t,e[99]=Q):Q=e[99],e[100]!==Q?(K={title:Q,reason:i.ToolsOzoneReportDefs.REASONHARASSMENTOTHER},e[100]=Q,e[101]=K):K=e[101],e[102]!==H||e[103]!==z||e[104]!==W||e[105]!==q||e[106]!==K?(Z=[H,z,W,q,K],e[102]=H,e[103]=z,e[104]=W,e[105]=q,e[106]=K,e[107]=Z):Z=e[107],e[108]!==M||e[109]!==F||e[110]!==Z?(Y={key:"harassmentHate",title:M,description:F,options:Z},e[108]=M,e[109]=F,e[110]=Z,e[111]=Y):Y=e[111],e[112]!==t?($=t({id:"K2f7tT"}),e[112]=t,e[113]=$):$=e[113],e[114]!==t?(X=t({id:"0yL8X4"}),e[114]=t,e[115]=X):X=e[115],e[116]!==t?(J=t({id:"ck4pSf"}),e[116]=t,e[117]=J):J=e[117],e[118]!==J?(ee={title:J,reason:i.ToolsOzoneReportDefs.REASONVIOLENCEANIMAL},e[118]=J,e[119]=ee):ee=e[119],e[120]!==t?(te=t({id:"tjkuM6"}),e[120]=t,e[121]=te):te=e[121],e[122]!==te?(se={title:te,reason:i.ToolsOzoneReportDefs.REASONVIOLENCETHREATS},e[122]=te,e[123]=se):se=e[123],e[124]!==t?(oe=t({id:"BY5u60"}),e[124]=t,e[125]=oe):oe=e[125],e[126]!==oe?(ne={title:oe,reason:i.ToolsOzoneReportDefs.REASONVIOLENCEGRAPHICCONTENT},e[126]=oe,e[127]=ne):ne=e[127],e[128]!==t?(ae=t({id:"0v2Xjy"}),e[128]=t,e[129]=ae):ae=e[129],e[130]!==ae?(re={title:ae,reason:i.ToolsOzoneReportDefs.REASONVIOLENCEGLORIFICATION},e[130]=ae,e[131]=re):re=e[131],e[132]!==t?(ie=t({id:"cgKXCD"}),e[132]=t,e[133]=ie):ie=e[133],e[134]!==ie?(le={title:ie,reason:i.ToolsOzoneReportDefs.REASONVIOLENCEEXTREMISTCONTENT},e[134]=ie,e[135]=le):le=e[135],e[136]!==t?(ce=t({id:"uHDSDN"}),e[136]=t,e[137]=ce):ce=e[137],e[138]!==ce?(de={title:ce,reason:i.ToolsOzoneReportDefs.REASONVIOLENCETRAFFICKING},e[138]=ce,e[139]=de):de=e[139],e[140]!==t?(ue=t({id:"Reo8We"}),e[140]=t,e[141]=ue):ue=e[141],e[142]!==ue?(me={title:ue,reason:i.ToolsOzoneReportDefs.REASONVIOLENCEOTHER},e[142]=ue,e[143]=me):me=e[143],e[144]!==ee||e[145]!==se||e[146]!==ne||e[147]!==re||e[148]!==le||e[149]!==de||e[150]!==me?(he=[ee,se,ne,re,le,de,me],e[144]=ee,e[145]=se,e[146]=ne,e[147]=re,e[148]=le,e[149]=de,e[150]=me,e[151]=he):he=e[151],e[152]!==$||e[153]!==X||e[154]!==he?(pe={key:"violencePhysicalHarm",title:$,description:X,options:he},e[152]=$,e[153]=X,e[154]=he,e[155]=pe):pe=e[155],e[156]!==t?(fe=t({id:"KhHdAI"}),e[156]=t,e[157]=fe):fe=e[157],e[158]!==t?(ge=t({id:"lqS6Tp"}),e[158]=t,e[159]=ge):ge=e[159],e[160]!==t?(xe=t({id:"NRoXLG"}),e[160]=t,e[161]=xe):xe=e[161],e[162]!==xe?(_e={title:xe,reason:i.ToolsOzoneReportDefs.REASONCHILDSAFETYCSAM},e[162]=xe,e[163]=_e):_e=e[163],e[164]!==t?(ye=t({id:"yAtAFL"}),e[164]=t,e[165]=ye):ye=e[165],e[166]!==ye?(be={title:ye,reason:i.ToolsOzoneReportDefs.REASONCHILDSAFETYGROOM},e[166]=ye,e[167]=be):be=e[167],e[168]!==t?(je=t({id:"3Wtnsa"}),e[168]=t,e[169]=je):je=e[169],e[170]!==je?(ve={title:je,reason:i.ToolsOzoneReportDefs.REASONCHILDSAFETYPRIVACY},e[170]=je,e[171]=ve):ve=e[171],e[172]!==t?(Se=t({id:"xiYSFr"}),e[172]=t,e[173]=Se):Se=e[173],e[174]!==Se?(we={title:Se,reason:i.ToolsOzoneReportDefs.REASONCHILDSAFETYHARASSMENT},e[174]=Se,e[175]=we):we=e[175],e[176]!==t?(Te=t({id:"MCO7Tc"}),e[176]=t,e[177]=Te):Te=e[177],e[178]!==Te?(ke={title:Te,reason:i.ToolsOzoneReportDefs.REASONCHILDSAFETYOTHER},e[178]=Te,e[179]=ke):ke=e[179],e[180]!==_e||e[181]!==be||e[182]!==ve||e[183]!==we||e[184]!==ke?(Ce=[_e,be,ve,we,ke],e[180]=_e,e[181]=be,e[182]=ve,e[183]=we,e[184]=ke,e[185]=Ce):Ce=e[185],e[186]!==fe||e[187]!==ge||e[188]!==Ce?(Ie={key:"childSafety",title:fe,description:ge,options:Ce},e[186]=fe,e[187]=ge,e[188]=Ce,e[189]=Ie):Ie=e[189],e[190]!==t?(Ae=t({id:"pPNEnr"}),e[190]=t,e[191]=Ae):Ae=e[191],e[192]!==t?(Pe=t({id:"Kb+oTB"}),e[192]=t,e[193]=Pe):Pe=e[193],e[194]!==t?(Ee=t({id:"XiHqim"}),e[194]=t,e[195]=Ee):Ee=e[195],e[196]!==Ee?(Le={title:Ee,reason:i.ToolsOzoneReportDefs.REASONSELFHARMCONTENT},e[196]=Ee,e[197]=Le):Le=e[197],e[198]!==t?(Re=t({id:"eJbWjy"}),e[198]=t,e[199]=Re):Re=e[199],e[200]!==Re?(Be={title:Re,reason:i.ToolsOzoneReportDefs.REASONSELFHARMED},e[200]=Re,e[201]=Be):Be=e[201],e[202]!==t?(De=t({id:"Yw7e7Z"}),e[202]=t,e[203]=De):De=e[203],e[204]!==De?(Oe={title:De,reason:i.ToolsOzoneReportDefs.REASONSELFHARMSTUNTS},e[204]=De,e[205]=Oe):Oe=e[205],e[206]!==t?(Me=t({id:"XNcHh+"}),e[206]=t,e[207]=Me):Me=e[207],e[208]!==Me?(Fe={title:Me,reason:i.ToolsOzoneReportDefs.REASONSELFHARMSUBSTANCES},e[208]=Me,e[209]=Fe):Fe=e[209],e[210]!==t?(Ne=t({id:"euHLgl"}),e[210]=t,e[211]=Ne):Ne=e[211],e[212]!==Ne?(He={title:Ne,reason:i.ToolsOzoneReportDefs.REASONSELFHARMOTHER},e[212]=Ne,e[213]=He):He=e[213],e[214]!==Le||e[215]!==Be||e[216]!==Oe||e[217]!==Fe||e[218]!==He?(Ve=[Le,Be,Oe,Fe,He],e[214]=Le,e[215]=Be,e[216]=Oe,e[217]=Fe,e[218]=He,e[219]=Ve):Ve=e[219],e[220]!==Ae||e[221]!==Pe||e[222]!==Ve?(ze={key:"selfHarm",title:Ae,description:Pe,options:Ve},e[220]=Ae,e[221]=Pe,e[222]=Ve,e[223]=ze):ze=e[223],e[224]!==t?(Ue=t({id:"CsduX9"}),e[224]=t,e[225]=Ue):Ue=e[225],e[226]!==t?(We=t({id:"0lZpUM"}),e[226]=t,e[227]=We):We=e[227],e[228]!==t?(Ge=t({id:"X8YQr4"}),e[228]=t,e[229]=Ge):Ge=e[229],e[230]!==Ge?(qe={title:Ge,reason:i.ToolsOzoneReportDefs.REASONRULESITESECURITY},e[230]=Ge,e[231]=qe):qe=e[231],e[232]!==t?(Qe=t({id:"4BYidp"}),e[232]=t,e[233]=Qe):Qe=e[233],e[234]!==Qe?(Ke={title:Qe,reason:i.ToolsOzoneReportDefs.REASONRULEPROHIBITEDSALES},e[234]=Qe,e[235]=Ke):Ke=e[235],e[236]!==t?(Ze=t({id:"JKCfag"}),e[236]=t,e[237]=Ze):Ze=e[237],e[238]!==Ze?(Ye={title:Ze,reason:i.ToolsOzoneReportDefs.REASONRULEBANEVASION},e[238]=Ze,e[239]=Ye):Ye=e[239],e[240]!==t?($e=t({id:"qmaDCc"}),e[240]=t,e[241]=$e):$e=e[241],e[242]!==$e?(Xe={title:$e,reason:i.ToolsOzoneReportDefs.REASONRULEOTHER},e[242]=$e,e[243]=Xe):Xe=e[243],e[244]!==Xe||e[245]!==qe||e[246]!==Ke||e[247]!==Ye?(Je=[qe,Ke,Ye,Xe],e[244]=Xe,e[245]=qe,e[246]=Ke,e[247]=Ye,e[248]=Je):Je=e[248],e[249]!==Je||e[250]!==Ue||e[251]!==We?(et={key:"ruleBreaking",title:Ue,description:We,options:Je},e[249]=Je,e[250]=Ue,e[251]=We,e[252]=et):et=e[252],e[253]!==t?(tt=t({id:"/IX/7x"}),e[253]=t,e[254]=tt):tt=e[254],e[255]!==t?(st=t({id:"Gecthh"}),e[255]=t,e[256]=st):st=e[256],e[257]!==t?(ot=t({id:"/IX/7x"}),e[257]=t,e[258]=ot):ot=e[258],e[259]!==ot?(nt=[{title:ot,reason:i.ToolsOzoneReportDefs.REASONOTHER}],e[259]=ot,e[260]=nt):nt=e[260],e[261]!==tt||e[262]!==st||e[263]!==nt?(at={key:"other",title:tt,description:st,options:nt},e[261]=tt,e[262]=st,e[263]=nt,e[264]=at):at=e[264],e[265]!==et||e[266]!==at||e[267]!==b||e[268]!==O||e[269]!==Y||e[270]!==pe||e[271]!==Ie||e[272]!==ze?(rt={misleading:b,sexualAdultContent:O,harassmentHate:Y,violencePhysicalHarm:pe,childSafety:Ie,selfHarm:ze,ruleBreaking:et,other:at},e[265]=et,e[266]=at,e[267]=b,e[268]=O,e[269]=Y,e[270]=pe,e[271]=Ie,e[272]=ze,e[273]=rt):rt=e[273];const it=rt;let lt;e[274]!==it?(lt=Object.values(it),e[274]=it,e[275]=lt):lt=e[275];const ct=lt;let dt;return e[276]!==it||e[277]!==ct?(dt={categories:ct,getCategory:e=>it[e]},e[276]=it,e[277]=ct,e[278]=dt):dt=e[278],dt}(),[ee,te]=n.useReducer(N,F),{mutateAsync:se}=function(){const e=(0,o.c)(3),{_:t}=(0,l.useLingui)(),s=(0,L.useAgent)();let n;return e[0]!==t||e[1]!==s?(n={async mutationFn(e){const{subject:o,state:n}=e;if(!n.selectedOption)throw new Error(t({id:"U71x/b"}));if(!n.selectedLabeler)throw new Error(t({id:"ibrdAr"}));const a=n.selectedLabeler,r=a.reasonTypes||[];let i=n.selectedOption.reason;const l=B[i],c=r.includes(i);let d;r.includes(l)&&!c&&(i=l);e:switch(o.type){case"account":d={reasonType:i,reason:n.details,subject:{$type:"com.atproto.admin.defs#repoRef",did:o.did}};break e;case"status":case"post":case"list":case"feed":case"starterPack":d={reasonType:i,reason:n.details,subject:{$type:"com.atproto.repo.strongRef",uri:o.uri,cid:o.cid}};break e;case"convoMessage":d={reasonType:i,reason:n.details,subject:{$type:"chat.bsky.convo.defs#messageRef",messageId:o.message.id,convoId:o.convoId,did:o.message.sender.did}}}await s.createModerationReport(d,{encoding:"application/json",headers:{"atproto-proxy":`${a.creator.did}#atproto_labeler`}})}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,E.useMutation)(n)}(),[oe,ne]=n.useState(!1),[ae,re]=n.useState(!1),ie=!!ee?.selectedOption?.reason&&O.has(ee.selectedOption.reason),le=M.has(e.subject.type),ce=n.useMemo((()=>b?b.filter((t=>{const s=t.subjectTypes;return void 0===s||("account"===e.subject.type?s.includes("account"):"convoMessage"===e.subject.type?s.includes("chat"):s.includes("record"))})).filter((t=>{const s=t.subjectCollections;return void 0===s||("convoMessage"===e.subject.type||s.includes(e.subject.nsid))})).filter((e=>{if(!ee.selectedOption)return!1;if(ie||le)return e.creator.did===i.BSKY_LABELER_DID;const t=e.reasonTypes;return void 0===t||(t.includes(ee.selectedOption.reason)||t.includes(B[ee.selectedOption.reason]))})):[]),[e,b,ee.selectedOption,ie,le]),de=!!ce.length,ue=1===ce.length,me=ue&&(ie||le),he=n.useCallback((async()=>{te({type:"clearError"}),s.info("submitting");try{ne(!0),await(0,c.wait)(1e3,se({subject:e.subject,state:ee})),re(!0),t.metric("reportDialog:success",{reason:ee.selectedOption?.reason??"",labeler:ee.selectedLabeler?.creator.handle??"",details:!!ee.details}),setTimeout((()=>{e.control.close((()=>{e.onAfterSubmit?.()}))}),1e3)}catch(o){t.metric("reportDialog:failure",{}),s.error(o,{source:"ReportDialog"}),te({type:"setError",error:m({id:"fWsBTs"})})}finally{ne(!1)}}),[m,se,ee,te,e,ne,re]);return(0,u.useCallOnce)((()=>{t.metric("reportDialog:open",{subjectType:e.subject.type})}))(),(0,V.jsxs)(y.ScrollableInner,{testID:"report:dialog",label:m({id:"mYGG5f"}),ref:f,style:[g.atoms.w_full,{maxWidth:500}],children:[(0,V.jsxs)(r.default,{style:[g.atoms.gap_2xl,P.IS_NATIVE&&g.atoms.pt_md],children:[(0,V.jsxs)(K,{children:[(0,V.jsx)(Z,{index:1,title:W.subtitle,activeIndex1:ee.activeStepIndex1}),U?(0,V.jsxs)(r.default,{style:[g.atoms.gap_sm],children:[(0,V.jsx)(X,{}),(0,V.jsx)(X,{}),(0,V.jsx)(X,{}),(0,V.jsx)(X,{}),(0,V.jsx)(X,{}),(0,V.jsx)(a.default,{accessible:!1})]}):H||!b?(0,V.jsx)(x.Outer,{type:"error",children:(0,V.jsxs)(x.Row,{children:[(0,V.jsx)(x.Icon,{}),(0,V.jsx)(x.Content,{children:(0,V.jsx)(x.Text,{children:(0,V.jsx)(l.Trans,{id:"qny5F6"})})}),(0,V.jsxs)(x.Button,{color:"negative_subtle",label:m({id:"KcOAL7"}),onPress:()=>z(),children:[(0,V.jsx)(_.ButtonText,{children:(0,V.jsx)(l.Trans,{id:"6gRgw8"})}),(0,V.jsx)(_.ButtonIcon,{icon:j.ArrowRotateCounterClockwise_Stroke2_Corner0_Rounded})]})]})}):(0,V.jsx)(V.Fragment,{children:ee.selectedCategory?(0,V.jsxs)(r.default,{style:[g.atoms.flex_row,g.atoms.align_center,g.atoms.gap_md],children:[(0,V.jsx)(r.default,{style:[g.atoms.flex_1],children:(0,V.jsx)(Y,{option:ee.selectedCategory})}),(0,V.jsx)(_.Button,{testID:"report:clearCategory",label:m({id:"r+YooY"}),size:"tiny",variant:"solid",color:"secondary",shape:"round",onPress:()=>{te({type:"clearCategory"})},children:(0,V.jsx)(_.ButtonIcon,{icon:T.TimesLarge_Stroke2_Corner0_Rounded})})]}):(0,V.jsxs)(r.default,{style:[g.atoms.gap_sm],children:[G.map((e=>(0,V.jsx)(Y,{option:e,onSelect:()=>{te({type:"selectCategory",option:e,otherOption:q("other").options[0]})}},e.key))),["post","account"].includes(e.subject.type)&&(0,V.jsx)(k.Link,{to:R,label:m({id:"MxL/Ab"}),children:({hovered:e,pressed:t})=>(0,V.jsxs)(r.default,{style:[g.atoms.flex_row,g.atoms.align_center,g.atoms.w_full,g.atoms.px_md,g.atoms.py_sm,g.atoms.rounded_sm,g.atoms.border,e||t?[d.atoms.border_contrast_high]:[d.atoms.border_contrast_low]],children:[(0,V.jsx)(I.Text,{style:[g.atoms.flex_1,g.atoms.italic,g.atoms.leading_snug],children:(0,V.jsx)(l.Trans,{id:"MxL/Ab"})}),(0,V.jsx)(w.SquareArrowTopRight_Stroke2_Corner0_Rounded,{size:"sm",fill:d.atoms.text.color})]})})]})})]}),(0,V.jsxs)(K,{children:[(0,V.jsx)(Z,{index:2,title:m({id:"pwfsqf"}),activeIndex1:ee.activeStepIndex1}),ee.selectedOption?(0,V.jsxs)(r.default,{style:[g.atoms.flex_row,g.atoms.align_center,g.atoms.gap_md],children:[(0,V.jsx)(r.default,{style:[g.atoms.flex_1],children:(0,V.jsx)($,{option:ee.selectedOption})}),(0,V.jsx)(_.Button,{testID:"report:clearReportOption",label:m({id:"smcG/4"}),size:"tiny",variant:"solid",color:"secondary",shape:"round",onPress:()=>{te({type:"clearOption"})},children:(0,V.jsx)(_.ButtonIcon,{icon:T.TimesLarge_Stroke2_Corner0_Rounded})})]}):ee.selectedCategory?(0,V.jsx)(r.default,{style:[g.atoms.gap_sm],children:q(ee.selectedCategory.key).options.map((e=>(0,V.jsx)($,{option:e,onSelect:()=>{te({type:"selectOption",option:e})}},e.reason)))}):null]}),me?(0,V.jsx)(Q,{check:()=>!ee.selectedLabeler,callback:()=>{te({type:"selectLabeler",labeler:ce[0]})}}):(0,V.jsxs)(K,{children:[(0,V.jsx)(Z,{index:3,title:m({id:"bP38Av"}),activeIndex1:ee.activeStepIndex1}),ee.activeStepIndex1>=3&&(0,V.jsx)(V.Fragment,{children:ee.selectedLabeler?(0,V.jsx)(V.Fragment,{children:ue?(0,V.jsx)(J,{labeler:ee.selectedLabeler}):(0,V.jsxs)(r.default,{style:[g.atoms.flex_row,g.atoms.align_center,g.atoms.gap_md],children:[(0,V.jsx)(r.default,{style:[g.atoms.flex_1],children:(0,V.jsx)(J,{labeler:ee.selectedLabeler})}),(0,V.jsx)(_.Button,{label:m({id:"Kw6nYe"}),size:"tiny",variant:"solid",color:"secondary",shape:"round",onPress:()=>{te({type:"clearLabeler"})},children:(0,V.jsx)(_.ButtonIcon,{icon:T.TimesLarge_Stroke2_Corner0_Rounded})})]})}):(0,V.jsx)(V.Fragment,{children:de?(0,V.jsx)(r.default,{style:[g.atoms.gap_sm],children:ue?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(J,{labeler:ce[0]}),(0,V.jsx)(Q,{check:()=>!ee.selectedLabeler,callback:()=>{te({type:"selectLabeler",labeler:ce[0]})}})]}):(0,V.jsx)(V.Fragment,{children:ce.map((e=>(0,V.jsx)(J,{labeler:e,onSelect:()=>{te({type:"selectLabeler",labeler:e})}},e.creator.did)))})}):(0,V.jsx)(x.Admonition,{type:"warning",children:(0,V.jsx)(l.Trans,{id:"/EBA+m"})})})})]}),(0,V.jsxs)(K,{children:[(0,V.jsx)(Z,{index:me?3:4,title:m({id:"ovTgfk"}),activeIndex1:me?ee.activeStepIndex1-1:ee.activeStepIndex1}),4===ee.activeStepIndex1&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(r.default,{style:[g.atoms.pb_xs,g.atoms.gap_xs],children:[(0,V.jsxs)(I.Text,{style:[g.atoms.leading_snug,g.atoms.pb_xs],children:[(0,V.jsx)(l.Trans,{id:"lMtw6B",values:{0:ee.selectedLabeler?.creator.displayName},components:{0:(0,V.jsx)(I.Text,{style:[g.atoms.font_semi_bold,g.atoms.leading_snug]})}})," ",ee.detailsOpen?null:(0,V.jsx)(k.InlineLinkText,Object.assign({label:m({id:"leKz/3"})},(0,k.createStaticClick)((()=>{te({type:"showDetails"})})),{children:(0,V.jsx)(l.Trans,{id:"leKz/3"})}))]}),ee.detailsOpen&&(0,V.jsxs)(r.default,{children:[(0,V.jsx)(y.Input,{testID:"report:details",multiline:!0,value:ee.details,onChangeText:e=>{te({type:"setDetails",details:e})},label:m({id:"6yfV95"}),style:{paddingRight:60},numberOfLines:4}),(0,V.jsx)(r.default,{style:[g.atoms.absolute,g.atoms.flex_row,g.atoms.align_center,g.atoms.pr_md,g.atoms.pb_sm,{bottom:0,right:0}],children:(0,V.jsx)(p.CharProgress,{count:ee.details?.length||0})})]})]}),(0,V.jsxs)(_.Button,{testID:"report:submit",label:m({id:"ovTgfk"}),size:"large",variant:"solid",color:"primary",disabled:oe||ae,onPress:he,children:[(0,V.jsx)(_.ButtonText,{children:(0,V.jsx)(l.Trans,{id:"ovTgfk"})}),(0,V.jsx)(_.ButtonIcon,{icon:ae?v.Check_Stroke2_Corner0_Rounded:oe?C.Loader:S.PaperPlane_Stroke2_Corner0_Rounded})]}),ee.error&&(0,V.jsx)(x.Admonition,{type:"error",children:ee.error})]})]})]}),(0,V.jsx)(y.Close,{})]})}function Q(e){const t=(0,o.c)(4),{check:s,callback:a}=e;let r,i;return t[0]!==a||t[1]!==s?(r=()=>{s()&&a()},i=[s,a],t[0]=a,t[1]=s,t[2]=r,t[3]=i):(r=t[2],i=t[3]),n.useEffect(r,i),null}function K(e){const t=(0,o.c)(3),{children:s}=e;let n,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[g.atoms.gap_md,g.atoms.w_full],t[0]=n):n=t[0],t[1]!==s?(a=(0,V.jsx)(r.default,{style:n,children:s}),t[1]=s,t[2]=a):a=t[2],a}function Z(e){const t=(0,o.c)(23),{index:s,title:n,activeIndex1:a}=e,i=(0,g.useTheme)(),l=a===s,c=a>s;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[g.atoms.flex_row,g.atoms.gap_sm,g.atoms.pr_3xl],t[0]=d):d=t[0];const u=l?i.palette.primary_500:c?i.palette.primary_100:i.atoms.bg_contrast_25.backgroundColor,m=l?i.palette.primary_500:c?i.palette.primary_400:i.atoms.border_contrast_low.borderColor;let h,p,f;t[1]!==u||t[2]!==m?(h=[g.atoms.justify_center,g.atoms.align_center,g.atoms.rounded_full,g.atoms.border,{width:24,height:24,backgroundColor:u,borderColor:m}],t[1]=u,t[2]=m,t[3]=h):h=t[3],t[4]!==l||t[5]!==c||t[6]!==s||t[7]!==i.atoms.text||t[8]!==i.atoms.text_contrast_medium||t[9]!==i.palette?(p=c?(0,V.jsx)(v.CheckThick_Stroke2_Corner0_Rounded,{width:12}):(0,V.jsx)(I.Text,{style:[g.atoms.font_bold,g.atoms.text_center,i.atoms.text,{color:l?"white":c?i.palette.primary_700:i.atoms.text_contrast_medium.color,fontVariant:["tabular-nums"],width:24,height:24,lineHeight:24}],children:s}),t[4]=l,t[5]=c,t[6]=s,t[7]=i.atoms.text,t[8]=i.atoms.text_contrast_medium,t[9]=i.palette,t[10]=p):p=t[10],t[11]!==h||t[12]!==p?(f=(0,V.jsx)(r.default,{style:h,children:p}),t[11]=h,t[12]=p,t[13]=f):f=t[13];const x=l?i.atoms.text:i.atoms.text_contrast_medium;let _,y,b,j;return t[14]===Symbol.for("react.memo_cache_sentinel")?(_={top:1},t[14]=_):_=t[14],t[15]!==x?(y=[g.atoms.flex_1,g.atoms.font_bold,g.atoms.text_lg,g.atoms.leading_snug,x,_],t[15]=x,t[16]=y):y=t[16],t[17]!==y||t[18]!==n?(b=(0,V.jsx)(I.Text,{style:y,children:n}),t[17]=y,t[18]=n,t[19]=b):b=t[19],t[20]!==b||t[21]!==f?(j=(0,V.jsxs)(r.default,{style:d,children:[f,b]}),t[20]=b,t[21]=f,t[22]=j):j=t[22],j}function Y(e){const t=(0,o.c)(21),{option:s,onSelect:n}=e,a=(0,g.useTheme)(),{_:i}=(0,l.useLingui)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=["compact"],t[0]=c):c=t[0];const d=(0,g.useGutters)(c);let u;t[1]!==n||t[2]!==s?(u=()=>{n?.(s)},t[1]=n,t[2]=s,t[3]=u):u=t[3];const m=u,h=`report:category:${s.title}`;let p;t[4]!==i||t[5]!==s.title?(p=i({id:"CL7So+",values:{0:s.title}}),t[4]=i,t[5]=s.title,t[6]=p):p=t[6];const f=!n;let x,y;return t[7]!==d||t[8]!==s.description||t[9]!==s.title||t[10]!==a.atoms.bg_contrast_25||t[11]!==a.atoms.border_contrast_high||t[12]!==a.atoms.border_contrast_low||t[13]!==a.atoms.text_contrast_medium?(x=e=>{const{hovered:t,pressed:o}=e;return(0,V.jsxs)(r.default,{style:[g.atoms.w_full,d,g.atoms.py_sm,g.atoms.rounded_sm,g.atoms.border,a.atoms.bg_contrast_25,t||o?[a.atoms.border_contrast_high]:[a.atoms.border_contrast_low]],children:[(0,V.jsx)(I.Text,{style:[g.atoms.text_md,g.atoms.font_semi_bold,g.atoms.leading_snug],children:s.title}),(0,V.jsx)(I.Text,{style:[g.atoms.text_sm,,g.atoms.leading_snug,a.atoms.text_contrast_medium],children:s.description})]})},t[7]=d,t[8]=s.description,t[9]=s.title,t[10]=a.atoms.bg_contrast_25,t[11]=a.atoms.border_contrast_high,t[12]=a.atoms.border_contrast_low,t[13]=a.atoms.text_contrast_medium,t[14]=x):x=t[14],t[15]!==m||t[16]!==h||t[17]!==p||t[18]!==f||t[19]!==x?(y=(0,V.jsx)(_.Button,{testID:h,label:p,onPress:m,disabled:f,children:x}),t[15]=m,t[16]=h,t[17]=p,t[18]=f,t[19]=x,t[20]=y):y=t[20],y}function $(e){const t=(0,o.c)(19),{option:s,onSelect:n}=e,a=(0,g.useTheme)(),{_:i}=(0,l.useLingui)();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=["compact"],t[0]=c):c=t[0];const d=(0,g.useGutters)(c);let u;t[1]!==n||t[2]!==s?(u=()=>{n?.(s)},t[1]=n,t[2]=s,t[3]=u):u=t[3];const m=u,h=`report:option:${s.title}`;let p;t[4]!==i||t[5]!==s.title?(p=i({values:{0:s.title},id:"CL7So+"}),t[4]=i,t[5]=s.title,t[6]=p):p=t[6];const f=!n;let x,y;return t[7]!==d||t[8]!==s.title||t[9]!==a.atoms.bg_contrast_25||t[10]!==a.atoms.border_contrast_high||t[11]!==a.atoms.border_contrast_low?(x=e=>{const{hovered:t,pressed:o}=e;return(0,V.jsx)(r.default,{style:[g.atoms.w_full,d,g.atoms.py_sm,g.atoms.rounded_sm,g.atoms.border,a.atoms.bg_contrast_25,t||o?[a.atoms.border_contrast_high]:[a.atoms.border_contrast_low]],children:(0,V.jsx)(I.Text,{style:[g.atoms.text_md,g.atoms.font_semi_bold,g.atoms.leading_snug],children:s.title})})},t[7]=d,t[8]=s.title,t[9]=a.atoms.bg_contrast_25,t[10]=a.atoms.border_contrast_high,t[11]=a.atoms.border_contrast_low,t[12]=x):x=t[12],t[13]!==m||t[14]!==h||t[15]!==p||t[16]!==f||t[17]!==x?(y=(0,V.jsx)(_.Button,{testID:h,label:p,onPress:m,disabled:f,children:x}),t[13]=m,t[14]=h,t[15]=p,t[16]=f,t[17]=x,t[18]=y):y=t[18],y}function X(){const e=(0,o.c)(4),t=(0,g.useTheme)();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={height:55},e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25||e[2]!==t.atoms.border_contrast_low?(n=(0,V.jsx)(r.default,{style:[g.atoms.w_full,g.atoms.rounded_sm,g.atoms.border,t.atoms.bg_contrast_25,t.atoms.border_contrast_low,s]}),e[1]=t.atoms.bg_contrast_25,e[2]=t.atoms.border_contrast_low,e[3]=n):n=e[3],n}function J(e){const t=(0,o.c)(25),{labeler:s,onSelect:n}=e,a=(0,g.useTheme)(),{_:i}=(0,l.useLingui)();let c;t[0]!==s||t[1]!==n?(c=()=>{n?.(s)},t[0]=s,t[1]=n,t[2]=c):c=t[2];const u=c;let h,p,x,y;t[3]!==i||t[4]!==s.creator.displayName||t[5]!==s.creator.handle?(y=(0,d.getLabelingServiceTitle)({displayName:s.creator.displayName,handle:s.creator.handle}),h=_.Button,p=`report:labeler:${s.creator.handle}`,x=i({id:"qk57S+",values:{title:y}}),t[3]=i,t[4]=s.creator.displayName,t[5]=s.creator.handle,t[6]=h,t[7]=p,t[8]=x,t[9]=y):(h=t[6],p=t[7],x=t[8],y=t[9]);const b=!n;let j,v;return t[10]!==s.creator.avatar||t[11]!==s.creator.handle||t[12]!==a.atoms.bg_contrast_25||t[13]!==a.atoms.border_contrast_high||t[14]!==a.atoms.border_contrast_low||t[15]!==a.atoms.text_contrast_medium||t[16]!==y?(j=e=>{const{hovered:t,pressed:o}=e;return(0,V.jsxs)(r.default,{style:[g.atoms.w_full,g.atoms.p_sm,g.atoms.flex_row,g.atoms.align_center,g.atoms.gap_sm,g.atoms.rounded_md,g.atoms.border,a.atoms.bg_contrast_25,t||o?[a.atoms.border_contrast_high]:[a.atoms.border_contrast_low]],children:[(0,V.jsx)(f.UserAvatar,{type:"labeler",size:36,avatar:s.creator.avatar}),(0,V.jsxs)(r.default,{style:[g.atoms.flex_1],children:[(0,V.jsx)(I.Text,{style:[g.atoms.text_md,g.atoms.font_semi_bold,g.atoms.leading_snug],children:y}),(0,V.jsx)(I.Text,{style:[g.atoms.text_sm,g.atoms.leading_snug,a.atoms.text_contrast_medium],children:(0,V.jsx)(l.Trans,{id:"aavdrC",values:{0:(0,m.sanitizeHandle)(s.creator.handle,"@")}})})]})]})},t[10]=s.creator.avatar,t[11]=s.creator.handle,t[12]=a.atoms.bg_contrast_25,t[13]=a.atoms.border_contrast_high,t[14]=a.atoms.border_contrast_low,t[15]=a.atoms.text_contrast_medium,t[16]=y,t[17]=j):j=t[17],t[18]!==h||t[19]!==u||t[20]!==p||t[21]!==x||t[22]!==b||t[23]!==j?(v=(0,V.jsx)(h,{testID:p,label:x,onPress:u,disabled:b,children:j}),t[18]=h,t[19]=u,t[20]=p,t[21]=x,t[22]=b,t[23]=j,t[24]=v):v=t[24],v}},35851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{VerificationCheck:()=>c});var o=s(63366),n=s(15991),a=s(46012),r=s(29678),i=s(2629);const l=["verifier"];function c(e){const t=(0,n.c)(6);let s,c,d;if(t[0]!==e){var u=e;({verifier:c}=u),s=(0,o.default)(u,l),t[0]=e,t[1]=s,t[2]=c}else s=t[1],c=t[2];return t[3]!==s||t[4]!==c?(d=c?(0,i.jsx)(r.VerifierCheck,Object.assign({},s)):(0,i.jsx)(a.VerifiedCheck,Object.assign({},s)),t[3]=s,t[4]=c,t[5]=d):d=t[5],d}},57325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useFullVerificationState:()=>i,useSimpleVerificationState:()=>l});var o=s(15991),n=(s(95004),s(86623)),a=s(76635),r=s(97154);function i(e){const t=(0,o.c)(22),{profile:s}=e,{currentAccount:n}=(0,r.useSession)(),i=(0,a.useCurrentAccountProfile)();let c;t[0]!==s?(c={profile:s},t[0]=s,t[1]=c):c=t[1];const d=l(c);let u;t[2]!==i?(u={profile:i},t[2]=i,t[3]=u):u=t[3];const m=l(u);let h;t[4]!==s.verification?.verifications?(h=s.verification?.verifications||[],t[4]=s.verification?.verifications,t[5]=h):h=t[5];const p=h,f="default"===d.role&&!d.isVerified&&p.length>0;let g;t[6]!==n?.did||t[7]!==d.role||t[8]!==p||t[9]!==m?(g=m&&"verifier"===m.role&&"default"===d.role&&p.find((e=>e.issuer===n?.did)),t[6]=n?.did,t[7]=d.role,t[8]=p,t[9]=m,t[10]=g):g=t[10];const x=Boolean(g),_=s.did===n?.did;let y,b,j;return t[11]!==d||t[12]!==_||t[13]!==f?(y=Object.assign({},d,{wasVerified:f,isViewer:_,showBadge:d.showBadge}),t[11]=d,t[12]=_,t[13]=f,t[14]=y):y=t[14],t[15]!==x||t[16]!==m.isVerified||t[17]!==m.role?(b="verifier"===m.role?{role:"verifier",isVerified:m.isVerified,hasIssuedVerification:x}:{role:"default",isVerified:m.isVerified},t[15]=x,t[16]=m.isVerified,t[17]=m.role,t[18]=b):b=t[18],t[19]!==y||t[20]!==b?(j={profile:y,viewer:b},t[19]=y,t[20]=b,t[21]=j):j=t[21],j}function l(e){const t=(0,o.c)(7),{profile:s}=e,a=(0,n.usePreferencesQuery)();a.data?.verificationPrefs;const r=a.data?.verificationPrefs||{hideBadges:!1};let i;e:{if(!s||!s.verification){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={role:"default",isVerified:!1,showBadge:!1},t[0]=e):e=t[0],i=e;break e}const{verifiedStatus:e,trustedVerifierStatus:o}=s.verification;let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=["valid","invalid"],t[1]=n):n=t[1];const a=n.includes(e);let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=["valid","invalid"],t[2]=l):l=t[2];const c=l.includes(o),d=a&&"valid"===e||c&&"valid"===o,u=c?"verifier":"default",m=!r.hideBadges&&d;let h;t[3]!==d||t[4]!==u||t[5]!==m?(h={role:u,isVerified:d,showBadge:m},t[3]=d,t[4]=u,t[5]=m,t[6]=h):h=t[6],i=h}return i}},43535:(e,t,s)=>{"use strict";s.r(t),s.d(t,{APP_METADATA:()=>A,APP_VERSION:()=>I,BITDRIFT_API_KEY:()=>b,BLUESKY_PROXY_DID:()=>p,BUNDLE_DATE:()=>u,BUNDLE_IDENTIFIER:()=>d,CHAT_PROXY_DID:()=>f,ENV:()=>a,GCP_PROJECT_ID:()=>j,GEOLOCATION_DEV_URL:()=>v,GEOLOCATION_PROD_URL:()=>S,GEOLOCATION_URL:()=>w,GROWTHBOOK_API_HOST:()=>x,GROWTHBOOK_CLIENT_KEY:()=>_,IS_ANDROID:()=>E,IS_DEV:()=>i,IS_E2E:()=>l,IS_HIGH_DPI:()=>H,IS_INTERNAL:()=>c,IS_IOS:()=>P,IS_NATIVE:()=>L,IS_TESTFLIGHT:()=>r,IS_WEB:()=>R,IS_WEB_FIREFOX:()=>N,IS_WEB_MOBILE:()=>D,IS_WEB_MOBILE_ANDROID:()=>M,IS_WEB_MOBILE_IOS:()=>O,IS_WEB_SAFARI:()=>F,IS_WEB_TOUCH_DEVICE:()=>B,LIVE_EVENTS_DEV_URL:()=>T,LIVE_EVENTS_PROD_URL:()=>k,LIVE_EVENTS_URL:()=>C,LOG_DEBUG:()=>h,LOG_LEVEL:()=>m,METRICS_API_HOST:()=>g,RELEASE_VERSION:()=>n,SENTRY_DSN:()=>y});const o=JSON.parse('{"name":"bsky.app","version":"1.117.0","private":true,"engines":{"node":">=20"},"packageManager":"yarn@1.22.22","expo":{"autolinking":{"android":{"buildFromSource":["expo-notifications","expo-haptics","expo-media-library","expo-image-picker"]}}},"scripts":{"prepare":"is-ci || husky install","postinstall":"patch-package && yarn intl:compile-if-needed","prebuild":"EXPO_NO_GIT_STATUS=1 expo prebuild --clean","android":"expo run:android","android:prod":"expo run:android --variant release","android:profile":"BSKY_PROFILE=1 expo run:android --variant release","ios":"expo run:ios","web":"expo start --web","use-build-number":"./scripts/useBuildNumberEnv.sh","use-build-number-with-bump":"./scripts/useBuildNumberEnvWithBump.sh","build-web":"expo export:web && node ./scripts/post-web-build.js","build-web:gh-pages":"expo export:web","build-all":"yarn intl:build && yarn use-build-number-with-bump eas build --platform all","build-ios":"yarn use-build-number-with-bump eas build -p ios","build-android":"yarn use-build-number-with-bump eas build -p android","build":"yarn use-build-number-with-bump eas build","build-embed":"cd bskyembed && yarn build && yarn build-snippet && cd .. && node ./scripts/post-embed-build.js","start":"expo start --dev-client","start:prod":"expo start --dev-client --no-dev --minify","test":"NODE_ENV=test jest --forceExit --testTimeout=20000 --bail","test-watch":"NODE_ENV=test jest --watchAll","test-ci":"NODE_ENV=test jest --ci --forceExit --reporters=default --reporters=jest-junit","test-coverage":"NODE_ENV=test jest --coverage","lint":"eslint --cache --quiet src","lint-native":"swiftlint ./modules && ktlint ./modules","lint-native:fix":"swiftlint --fix ./modules && ktlint --format ./modules","typecheck":"tsc --project ./tsconfig.check.json","e2e:mock-server":"NODE_ENV=development ./jest/dev-infra/with-test-redis-and-db.sh ts-node --project tsconfig.e2e.json __e2e__/mock-server.ts","e2e:build":"EXPO_PUBLIC_ENV=e2e NODE_ENV=test RN_SRC_EXT=e2e.ts,e2e.tsx expo run:ios","e2e:build-android":"EXPO_PUBLIC_ENV=e2e NODE_ENV=test RN_SRC_EXT=e2e.ts,e2e.tsx expo run:android","e2e:start":"EXPO_PUBLIC_ENV=e2e NODE_ENV=test RN_SRC_EXT=e2e.ts,e2e.tsx expo start -c","e2e:run":"maestro test","perf:test":"NODE_ENV=test maestro test","perf:test:run":"NODE_ENV=test maestro test __e2e__/perf-test.yml","perf:test:measure":"NODE_ENV=test flashlight test --bundleId xyz.blueskyweb.app --testCommand \\"yarn perf:test\\" --duration 150000 --resultsFilePath .perf/results.json","perf:test:results":"NODE_ENV=test flashlight report .perf/results.json","perf:measure":"NODE_ENV=test flashlight measure","intl:build":"yarn intl:extract:all && yarn intl:compile","intl:extract":"lingui extract --clean --locale en","intl:extract:all":"lingui extract --clean","intl:compile":"lingui compile","intl:compile-if-needed":"is-ci || [ -f src/locale/locales/en/messages.js ] || yarn intl:compile","intl:pull":"crowdin download translations --verbose -b main","intl:push":"crowdin push translations --verbose -b main","intl:push-sources":"crowdin push sources --verbose -b main","nuke":"rm -rf ./node_modules && rm -rf ./ios && rm -rf ./android","update-extensions":"bash scripts/updateExtensions.sh","export":"npx expo export --dump-sourcemap && yarn upload-native-sourcemaps","upload-native-sourcemaps":"npx sentry-expo-upload-sourcemaps dist","make-deploy-bundle":"bash scripts/bundleUpdate.sh","generate-webpack-stats-file":"EXPO_PUBLIC_GENERATE_STATS=1 yarn build-web","open-analyzer":"EXPO_PUBLIC_OPEN_ANALYZER=1 yarn build-web","icons:optimize":"svgo -f ./assets/icons"},"dependencies":{"@atproto/api":"^0.18.21","@bitdrift/react-native":"^0.6.8","@braintree/sanitize-url":"^6.0.2","@bsky.app/alf":"^0.1.6","@bsky.app/expo-image-crop-tool":"^0.5.0","@bsky.app/react-native-mmkv":"2.12.5","@discord/bottom-sheet":"bluesky-social/react-native-bottom-sheet","@emoji-mart/react":"^1.1.1","@expo/html-elements":"^0.12.5","@expo/webpack-config":"^19.0.1","@floating-ui/dom":"^1.6.3","@floating-ui/react-dom":"^2.0.8","@formatjs/intl-displaynames":"^6.8.13","@formatjs/intl-locale":"^4.2.13","@formatjs/intl-numberformat":"^8.15.6","@formatjs/intl-pluralrules":"^5.4.6","@fortawesome/fontawesome-svg-core":"^6.1.1","@fortawesome/free-regular-svg-icons":"^6.1.1","@fortawesome/free-solid-svg-icons":"^6.1.1","@fortawesome/react-native-fontawesome":"^0.3.2","@growthbook/growthbook-react":"^1.6.2","@haileyok/bluesky-video":"0.3.2","@ipld/dag-cbor":"^9.2.0","@lingui/react":"^4.14.1","@mattermost/react-native-paste-input":"mattermost/react-native-paste-input","@miblanchard/react-native-slider":"^2.6.0","@mozzius/expo-dynamic-app-icon":"^1.8.0","@react-native-async-storage/async-storage":"2.2.0","@react-navigation/bottom-tabs":"^7.9.0","@react-navigation/native":"^7.1.26","@react-navigation/native-stack":"^7.9.0","@sentry/react-native":"~6.20.0","@tanstack/query-async-storage-persister":"^5.25.0","@tanstack/react-query":"5.25.0","@tanstack/react-query-persist-client":"^5.25.0","@tiptap/core":"^2.9.1","@tiptap/extension-document":"^2.9.1","@tiptap/extension-hard-break":"^2.9.1","@tiptap/extension-history":"^2.9.1","@tiptap/extension-mention":"^2.9.1","@tiptap/extension-paragraph":"^2.9.1","@tiptap/extension-placeholder":"^2.9.1","@tiptap/extension-text":"^2.9.1","@tiptap/html":"^2.9.1","@tiptap/pm":"^2.9.1","@tiptap/react":"^2.9.1","@tiptap/suggestion":"^2.9.1","@types/invariant":"^2.2.37","@types/lodash.throttle":"^4.1.9","@types/node":"^20.14.3","@zxing/text-encoding":"^0.9.0","array.prototype.findlast":"^1.2.3","await-lock":"^2.2.2","babel-plugin-transform-remove-console":"^6.9.4","bcp-47":"^2.1.0","bcp-47-match":"^2.0.3","date-fns":"^2.30.0","email-validator":"^2.0.4","emoji-mart":"^5.5.2","emoji-regex":"^10.4.0","eventemitter3":"^5.0.1","expo":"^54.0.27","expo-application":"~7.0.8","expo-blur":"~15.0.8","expo-build-properties":"~1.0.10","expo-camera":"~17.0.10","expo-clipboard":"~8.0.8","expo-contacts":"^15.0.10","expo-dev-client":"~6.0.20","expo-device":"~8.0.10","expo-file-system":"~19.0.20","expo-font":"~14.0.10","expo-haptics":"~15.0.8","expo-image":"~3.0.11","expo-image-manipulator":"~14.0.8","expo-image-picker":"~17.0.9","expo-intent-launcher":"~13.0.8","expo-keep-awake":"~15.0.8","expo-linear-gradient":"~15.0.8","expo-linking":"~8.0.10","expo-localization":"~17.0.8","expo-location":"~19.0.8","expo-media-library":"~18.2.1","expo-notifications":"~0.32.14","expo-privacy-sensitive":"^0.1.0","expo-screen-orientation":"~9.0.8","expo-sharing":"~14.0.8","expo-sms":"^14.0.7","expo-splash-screen":"~31.0.12","expo-system-ui":"~6.0.9","expo-task-manager":"~14.0.9","expo-updates":"~29.0.14","expo-video":"~3.0.15","expo-video-thumbnails":"^10.0.8","expo-web-browser":"~15.0.10","fast-deep-equal":"^3.1.3","fast-text-encoding":"^1.0.6","history":"^5.3.0","hls.js":"^1.6.2","idb-keyval":"^6.2.2","js-sha256":"^0.9.0","jwt-decode":"^4.0.0","lande":"^1.0.10","libphonenumber-js":"^1.12.31","lodash.chunk":"^4.2.0","lodash.debounce":"^4.0.8","lodash.shuffle":"^4.2.0","lodash.throttle":"^4.1.1","multiformats":"9.9.0","nanoid":"^5.0.5","normalize-url":"^8.0.0","patch-package":"^8.0.1","postinstall-postinstall":"^2.1.0","psl":"^1.9.0","radix-ui":"^1.4.3","react":"19.1.0","react-compiler-runtime":"^19.1.0-rc.1","react-dom":"19.1.0","react-image-crop":"^11.0.7","react-is":"19","react-keyed-flatten-children":"^5.0.0","react-native":"0.81.5","react-native-compressor":"^1.13.0","react-native-date-picker":"^5.0.13","react-native-device-attest":"^0.1.6","react-native-drawer-layout":"^4.2.1","react-native-edge-to-edge":"^1.6.0","react-native-gesture-handler":"~2.28.0","react-native-get-random-values":"~1.11.0","react-native-keyboard-controller":"^1.20.7","react-native-pager-view":"6.8.0","react-native-progress":"bluesky-social/react-native-progress","react-native-qrcode-styled":"^0.3.3","react-native-reanimated":"^3.19.1","react-native-safe-area-context":"~5.6.0","react-native-screens":"^4.19.0","react-native-svg":"15.12.1","react-native-uitextview":"^1.4.0","react-native-url-polyfill":"^1.3.0","react-native-uuid":"^2.0.3","react-native-view-shot":"^4.0.3","react-native-web":"^0.21.0","react-native-web-webview":"^1.0.2","react-native-webview":"^13.13.5","react-remove-scroll-bar":"^2.3.8","react-responsive":"^10.0.1","react-textarea-autosize":"^8.5.3","sonner":"^2.0.7","sonner-native":"^0.21.0","tippy.js":"^6.3.7","tlds":"^1.234.0","tldts":"^6.1.46","unicode-segmenter":"^0.14.5","zod":"^3.20.2"},"devDependencies":{"@atproto/dev-env":"^0.3.209","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@babel/runtime":"^7.26.0","@eslint/js":"^9.39.2","@expo/config-plugins":"~54.0.1","@lingui/cli":"^4.14.1","@lingui/macro":"^4.14.1","@pmmmwh/react-refresh-webpack-plugin":"^0.5.15","@react-native/babel-preset":"0.81.5","@react-native/eslint-config":"^0.81.5","@react-native/typescript-config":"^0.81.5","@sentry/webpack-plugin":"^3.2.2","@testing-library/react-native":"^13.2.0","@types/jest":"29.5.14","@types/lodash.chunk":"^4.2.7","@types/lodash.debounce":"^4.0.7","@types/lodash.shuffle":"^4.2.7","@types/psl":"^1.1.1","@types/react":"^19.1.12","@types/react-dom":"^19.1.9","babel-jest":"^29.7.0","babel-plugin-macros":"^3.1.0","babel-plugin-module-resolver":"^5.0.2","babel-plugin-react-compiler":"^19.1.0-rc.3","babel-preset-expo":"~54.0.0","eslint":"^9.39.2","eslint-import-resolver-typescript":"^4.4.4","eslint-plugin-bsky-internal":"link:./eslint","eslint-plugin-import-x":"^4.16.1","eslint-plugin-lingui":"^0.11.0","eslint-plugin-react":"^7.37.5","eslint-plugin-react-compiler":"^19.1.0-rc.2","eslint-plugin-react-hooks":"^7.0.1","eslint-plugin-react-native":"^5.0.0","eslint-plugin-react-native-a11y":"^3.5.1","eslint-plugin-simple-import-sort":"^12.1.1","file-loader":"6.2.0","globals":"^17.0.0","husky":"^8.0.3","is-ci":"^3.0.1","jest":"^29.7.0","jest-expo":"~54.0.14","jest-junit":"^16.0.0","lint-staged":"^13.2.3","lockfile-lint":"^4.14.0","prettier":"^3.6.0","react-native-dotenv":"^3.4.11","react-refresh":"^0.14.0","svgo":"^3.3.2","ts-node":"^10.9.1","ts-plugin-sort-import-suggestions":"^1.0.4","typescript":"^5.9.2","typescript-eslint":"^8.53.0","webpack-bundle-analyzer":"^4.10.1"},"resolutions":{"@react-native/babel-preset":"0.81.5","@react-native/normalize-colors":"0.81.5","**/@expo/image-utils":"0.8.7","**/@react-native-async-storage/async-storage":"2.2.0","**/expo-constants":"18.0.8","**/expo-device":"7.1.4","**/multiformats":"9.9.0","unicode-segmenter":"0.14.5","@types/estree":"1.0.6"},"jest":{"preset":"jest-expo/ios","setupFilesAfterEnv":["./jest/jestSetup.js"],"moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"transform":{"\\\\.[jt]sx?$":"babel-jest"},"transformIgnorePatterns":["node_modules/(?!((jest-)?react-native|@react-native(-community)?)|@discord|expo(nent)?|@expo(nent)?/.*|@expo-google-fonts/.*|react-navigation|nanoid|@react-navigation/.*|@unimodules/.*|unimodules|sentry-expo|native-base|normalize-url|react-native-svg|@sentry/.*|sentry-expo|bcp-47-match)"],"modulePathIgnorePatterns":["__tests__/.*/__mocks__","__e2e__/.*"],"coveragePathIgnorePatterns":["<rootDir>/node_modules/","<rootDir>/src/platform","<rootDir>/src/third-party","<rootDir>/src/view/com/util","<rootDir>/src/state/lib","<rootDir>/__tests__/test-utils.js"],"reporters":["default","jest-junit"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"lint-staged":{"*{.js,.jsx,.ts,.tsx}":["eslint --cache --fix"],"*{.js,.jsx,.ts,.tsx,.css}":["prettier --cache --write --ignore-unknown"],"assets/icons/*.svg":["svgo"]},"lockfile-lint":{"path":"yarn.lock","allowedHosts":["npm","yarn"],"allowedSchemes":["https:"],"allowedPackageNameAliases":["@babel/traverse--for-generate-function-map:@babel/traverse","string-width-cjs:string-width","strip-ansi-cjs:strip-ansi","wrap-ansi-cjs:wrap-ansi"],"allowedUrls":["https://codeload.github.com/bluesky-social/react-native-bottom-sheet/tar.gz/28a87d1bb55e10fc355fa1455545a30734995908","https://codeload.github.com/bluesky-social/react-native-progress/tar.gz/5a372f4f2ce5feb26f4f47b6a4d187ab9b923ab4","https://codeload.github.com/mattermost/react-native-paste-input/tar.gz/f260447edc645a817ab1ba7b46d8341d84dba8e9"],"emptyHostname":false,"validatePackageNames":true,"validateIntegrity":true}}'),n={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_RELEASE_VERSION||o.version,a={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_ENV,r="testflight"===a,i=!1,l="e2e"===a,c=i||r,d={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BUNDLE_IDENTIFIER||"dev",u=void 0==={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BUNDLE_DATE?0:Number({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BUNDLE_DATE),m={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_LEVEL||"info",h={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_DEBUG||"",p={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BLUESKY_PROXY_DID||"did:web:api.bsky.app",f={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_CHAT_PROXY_DID||"did:web:api.bsky.chat",g={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_METRICS_API_HOST||"https://events.bsky.app",x={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_GROWTHBOOK_API_HOST||`${g}/gb`,_={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_GROWTHBOOK_CLIENT_KEY||"sdk-7gkUkGy9wguUjyFe",y={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_SENTRY_DSN,b={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BITDRIFT_API_KEY,j=void 0==={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_GCP_PROJECT_ID?0:Number({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_GCP_PROJECT_ID),v={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.GEOLOCATION_DEV_URL,S="https://ip.bsky.app",w=i?v??S:S,T={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.LIVE_EVENTS_DEV_URL,k="https://live-events.workers.bsky.app",C=i?T??k:k,I=n,A=`${d.slice(0,7)} (prod)`,P=!1,E=!1,L=!1,R=!0,B=window.matchMedia("(pointer: coarse)").matches,D=window.matchMedia("only screen and (max-width: 1300px)")?.matches,O=/iPhone/.test(navigator.userAgent),M=/android/i.test(navigator.userAgent)&&B,F=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),N=/firefox|fxios/i.test(navigator.userAgent),H=window.matchMedia("(min-resolution: 2dppx)").matches},75988:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deviceGeolocation:()=>r,enabled:()=>n,geolocation:()=>a,resolve:()=>i});var o=s(63661);const n=s(43535).IS_DEV&&o.geolocation,a=o.geolocation??{countryCode:"US",regionCode:"TX"},r=o.deviceGeolocation||void 0;async function i(e){return await new Promise((e=>setTimeout(e,500))),e}},68455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getDeviceGeolocation:()=>f,useIsDeviceGeolocationGranted:()=>b,useRequestDeviceGeolocation:()=>g,useSyncDeviceGeolocationOnStartup:()=>_});var o=s(15991),n=s(95004),a=s(96106),r=s(45148),i=s(66320),l=s(58945),c=s(43535),d=s(75988),u=s(89198),m=s(90571),h=s(33520);const p=(0,l.createPermissionHook)({getMethod:()=>r.getForegroundPermissionsAsync().catch((e=>(u.logger.debug("useForegroundPermission: error getting location permissions",{safeMessage:e}),{status:i.PermissionStatus.DENIED,granted:!1,canAskAgain:!1,expires:0}))),requestMethod:()=>r.requestForegroundPermissionsAsync().catch((e=>(u.logger.debug("useForegroundPermission: error requesting location permissions",{safeMessage:e}),{status:i.PermissionStatus.DENIED,granted:!1,canAskAgain:!1,expires:0})))});async function f(){if(d.enabled&&d.deviceGeolocation)return d.resolve(d.deviceGeolocation);try{const e=await r.getCurrentPositionAsync(),t=(await r.reverseGeocodeAsync({latitude:e.coords.latitude,longitude:e.coords.longitude})).at(0),s=t?(0,m.normalizeDeviceLocation)(t):void 0;return s?.regionCode&&s.regionCode.length>5&&u.logger.error("getDeviceGeolocation: invalid regionCode",{os:"web",version:a.default.Version,regionCode:s.regionCode}),{countryCode:s?.countryCode??void 0,regionCode:s?.regionCode??void 0}}catch(e){return u.logger.error("getDeviceGeolocation: failed",{safeMessage:e}),{countryCode:void 0,regionCode:void 0}}}function g(){return x}async function x(){return(await r.requestForegroundPermissionsAsync()).granted?{granted:!0,location:await f()}:{granted:!1}}function _(e){const t=(0,o.c)(6),s=(0,n.useRef)(!1),[a]=p();let r,i;t[0]!==a?.granted||t[1]!==e?(r=()=>{if(!c.IS_NATIVE)return;(async function(){if(!s.current)if(u.logger.debug("useSyncDeviceGeolocationOnStartup: checking perms"),a?.granted){const t=await f();t&&(u.logger.debug("useSyncDeviceGeolocationOnStartup: got location"),e(t),s.current=!0)}else{void 0!==h.device.get(["deviceGeolocation"])&&(u.logger.debug("useSyncDeviceGeolocationOnStartup: clearing cached location, perms revoked"),h.device.set(["deviceGeolocation"],void 0))}})().catch(y)},t[0]=a?.granted,t[1]=e,t[2]=r):r=t[2],t[3]!==a||t[4]!==e?(i=[a,e],t[3]=a,t[4]=e,t[5]=i):i=t[5],(0,n.useEffect)(r,i)}function y(e){u.logger.error("useSyncDeviceGeolocationOnStartup: failed to get location",{safeMessage:e})}function b(){const[e]=p();return!0===e?.granted}},79758:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>g,resolve:()=>r.resolve,useDeviceGeolocationApi:()=>f,useGeolocation:()=>p,useIsDeviceGeolocationGranted:()=>a.useIsDeviceGeolocationGranted,useRequestDeviceGeolocation:()=>a.useRequestDeviceGeolocation});var o=s(15991),n=s(95004),a=s(68455),r=s(73947),i=s(90571),l=s(33520),c=s(2629),d=s(26197),u={};for(const x in d)["default","useIsDeviceGeolocationGranted","useRequestDeviceGeolocation","resolve","useGeolocation","useDeviceGeolocationApi","Provider"].indexOf(x)<0&&(u[x]=()=>d[x]);s.d(t,u);const m=(0,n.createContext)({countryCode:void 0,regionCode:void 0}),h=(0,n.createContext)({setDeviceGeolocation:()=>{}});function p(){return(0,n.useContext)(m)}function f(){return(0,n.useContext)(h)}function g(e){const t=(0,o.c)(15),{children:s}=e,d=(0,r.useGeolocationServiceResponse)();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=["deviceGeolocation"],t[0]=u):u=t[0];const[p,f]=(0,l.useStorage)(l.device,u);let g;t[1]!==p||t[2]!==d?(g=(0,i.mergeGeolocations)(p,d),t[1]=p,t[2]=d,t[3]=g):g=t[3];const x=g;let _,y,b;t[4]!==x?(_=()=>{l.device.set(["mergedGeolocation"],x)},y=[x],t[4]=x,t[5]=_,t[6]=y):(_=t[5],y=t[6]),(0,n.useEffect)(_,y),(0,a.useSyncDeviceGeolocationOnStartup)(f),t[7]!==f?(b={setDeviceGeolocation:f},t[7]=f,t[8]=b):b=t[8];const j=b;let v,S;return t[9]!==s||t[10]!==j?(v=(0,c.jsx)(h.Provider,{value:j,children:s}),t[9]=s,t[10]=j,t[11]=v):v=t[11],t[12]!==x||t[13]!==v?(S=(0,c.jsx)(m.Provider,{value:x,children:v}),t[12]=x,t[13]=v,t[14]=S):S=t[14],S}},89198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{logger:()=>n});var o=s(5295);const n=o.Logger.create(o.Logger.Context.Geolocation)},73947:(e,t,s)=>{"use strict";s.r(t),s.d(t,{resolve:()=>_,useGeolocationServiceResponse:()=>y});var o=s(15991),n=s(95004),a=s(58895),r=s(62820);const i=`${s(43535).GEOLOCATION_URL}/geolocation`,l={countryCode:void 0,regionCode:void 0};var c=s(75988),d=s(89198),u=s(33520);const m=new a.default,h="geolocation-service-response-updated",p=e=>{m.emit(h,e)},f=e=>(m.on(h,e),()=>{m.off(h,e)});async function g(e){if(c.enabled)return c.resolve(c.geolocation);const t=await fetch(e);if(!t.ok)throw new Error(`fetchGeolocationServiceData failed ${t.status}`);return t.json()}let x;async function _(){if(x){if(u.device.get(["geolocationServiceResponse"]))d.logger.debug("resolve(): using cache");else{d.logger.debug("resolve(): no cache");const{success:e}=await x;e?d.logger.debug("resolve(): resolved"):d.logger.info("resolve(): failed")}}else d.logger.debug("resolve(): initiating"),x=new Promise((async e=>{let t=!1;function s(e){if(!e)throw new Error("fetchGeolocationServiceData returned no data");u.device.set(["geolocationServiceResponse"],e),p(e)}try{s(await g(i)),t=!0}catch(o){d.logger.debug("resolve(): fetchGeolocationServiceData failed initial request",{safeMessage:o.message}),(0,r.networkRetry)(3,(()=>g(i))).then((e=>{s(e)})).catch((e=>{d.logger.debug("resolve(): fetchGeolocationServiceData failed retries",{safeMessage:e.message})}))}finally{e({success:t})}}))}function y(){const e=(0,o.c)(2),[t,s]=(0,n.useState)(b);let a,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>f((e=>{s(e)})),r=[],e[0]=a,e[1]=r):(a=e[0],r=e[1]),(0,n.useEffect)(a,r),t}function b(){return u.device.get(["geolocationServiceResponse"])||l}},26197:()=>{},90571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{USRegionNameToRegionCode:()=>a,mergeGeolocations:()=>i,normalizeDeviceLocation:()=>r});var o=s(43535),n=s(89198);const a={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"};function r(e){let{isoCountryCode:t,region:s}=e,n=s??void 0;return o.IS_ANDROID&&(n=s&&"US"===t?a[s]??void 0:void 0),{countryCode:t??void 0,regionCode:n}}function i(e,t){let s={countryCode:t?.countryCode??void 0,regionCode:t?.regionCode??void 0};return e?.countryCode&&(s=e),n.logger.debug("merged geolocation data",{device:e,service:t,merged:s}),s}},15082:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ScrollProvider:()=>l,useScrollHandlers:()=>i});var o=s(15991),n=s(95004),a=s(2629);const r=(0,n.createContext)({onBeginDrag:void 0,onEndDrag:void 0,onScroll:void 0,onMomentumEnd:void 0});function i(){return(0,n.useContext)(r)}function l(e){const t=(0,o.c)(8),{children:s,onBeginDrag:n,onEndDrag:i,onScroll:l,onMomentumEnd:c}=e;let d;t[0]!==n||t[1]!==i||t[2]!==c||t[3]!==l?(d={onBeginDrag:n,onEndDrag:i,onScroll:l,onMomentumEnd:c},t[0]=n,t[1]=i,t[2]=c,t[3]=l,t[4]=d):d=t[4];const u=d;let m;return t[5]!==s||t[6]!==u?(m=(0,a.jsx)(r.Provider,{value:u,children:s}),t[5]=s,t[6]=u,t[7]=m):m=t[7],m}r.displayName="ScrollContext"},83540:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ThemeContext:()=>h,ThemeProvider:()=>f,useTheme:()=>p});var o=s(15991),n=s(95004),a=s(19552),r=s(49028),i=s(46320),l=s(69883);const c={colorScheme:"light",palette:{default:{background:r.lightPalette.white,backgroundLight:r.lightPalette.contrast_25,text:r.lightPalette.black,textLight:r.lightPalette.contrast_700,textInverted:r.lightPalette.white,link:r.lightPalette.primary_500,border:r.lightPalette.contrast_100,borderDark:r.lightPalette.contrast_200,icon:r.lightPalette.contrast_500,textVeryLight:r.lightPalette.contrast_400,replyLine:r.lightPalette.contrast_100,replyLineDot:r.lightPalette.contrast_200,unreadNotifBg:r.lightPalette.primary_25,unreadNotifBorder:r.lightPalette.primary_100,postCtrl:r.lightPalette.contrast_500,brandText:r.lightPalette.primary_500,emptyStateIcon:r.lightPalette.contrast_300,borderLinkHover:r.lightPalette.contrast_300},primary:{background:l.colors.blue3,backgroundLight:l.colors.blue2,text:l.colors.white,textLight:l.colors.blue0,textInverted:l.colors.blue3,link:l.colors.blue0,border:l.colors.blue4,borderDark:l.colors.blue5,icon:l.colors.blue4},secondary:{background:l.colors.green3,backgroundLight:l.colors.green2,text:l.colors.white,textLight:l.colors.green1,textInverted:l.colors.green4,link:l.colors.green1,border:l.colors.green4,borderDark:l.colors.green5,icon:l.colors.green4},inverted:{background:r.darkPalette.black,backgroundLight:r.darkPalette.contrast_50,text:r.darkPalette.white,textLight:r.darkPalette.contrast_700,textInverted:r.darkPalette.black,link:r.darkPalette.primary_500,border:r.darkPalette.contrast_100,borderDark:r.darkPalette.contrast_200,icon:r.darkPalette.contrast_500},error:{background:l.colors.red3,backgroundLight:l.colors.red2,text:l.colors.white,textLight:l.colors.red1,textInverted:l.colors.red3,link:l.colors.red1,border:l.colors.red4,borderDark:l.colors.red5,icon:l.colors.red4}},shapes:{button:{},bigButton:{},smallButton:{}},typography:{"2xl-thin":{fontSize:18,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"2xl":{fontSize:18,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"2xl-medium":{fontSize:18,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"2xl-bold":{fontSize:18,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"2xl-heavy":{fontSize:18,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"xl-thin":{fontSize:17,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},xl:{fontSize:17,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"xl-medium":{fontSize:17,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"xl-bold":{fontSize:17,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"xl-heavy":{fontSize:17,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"lg-thin":{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},lg:{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"lg-medium":{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"lg-bold":{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"lg-heavy":{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"md-thin":{fontSize:15,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},md:{fontSize:15,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"md-medium":{fontSize:15,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"md-bold":{fontSize:15,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"md-heavy":{fontSize:15,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"sm-thin":{fontSize:14,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},sm:{fontSize:14,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"sm-medium":{fontSize:14,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"sm-bold":{fontSize:14,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"sm-heavy":{fontSize:14,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"xs-thin":{fontSize:13,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},xs:{fontSize:13,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"xs-medium":{fontSize:13,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"xs-bold":{fontSize:13,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"xs-heavy":{fontSize:13,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.bold},"title-2xl":{fontSize:34,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"title-xl":{fontSize:28,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.semiBold},"title-lg":{fontSize:22,fontWeight:i.fontWeight.semiBold},title:{fontWeight:i.fontWeight.semiBold,fontSize:20,letterSpacing:a.tokens.TRACKING},"title-sm":{fontWeight:i.fontWeight.semiBold,fontSize:17,letterSpacing:a.tokens.TRACKING},"post-text":{fontSize:16,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"post-text-lg":{fontSize:20,letterSpacing:a.tokens.TRACKING,fontWeight:i.fontWeight.normal},"button-lg":{fontWeight:i.fontWeight.semiBold,fontSize:18,letterSpacing:a.tokens.TRACKING},button:{fontWeight:i.fontWeight.semiBold,fontSize:14,letterSpacing:a.tokens.TRACKING},mono:{fontSize:14,fontFamily:"Courier New"}}},d=Object.assign({},c,{colorScheme:"dark",palette:Object.assign({},c.palette,{default:{background:r.darkPalette.contrast_0,backgroundLight:r.darkPalette.contrast_25,text:r.darkPalette.white,textLight:r.darkPalette.contrast_600,textInverted:r.darkPalette.black,link:r.darkPalette.primary_500,border:r.darkPalette.contrast_100,borderDark:r.darkPalette.contrast_200,icon:r.darkPalette.contrast_500,textVeryLight:r.darkPalette.contrast_400,replyLine:r.darkPalette.contrast_200,replyLineDot:r.darkPalette.contrast_200,unreadNotifBg:r.darkPalette.primary_25,unreadNotifBorder:r.darkPalette.primary_100,postCtrl:r.darkPalette.contrast_500,brandText:r.darkPalette.primary_500,emptyStateIcon:r.darkPalette.contrast_300,borderLinkHover:r.darkPalette.contrast_300},primary:Object.assign({},c.palette.primary,{textInverted:l.colors.blue2}),secondary:Object.assign({},c.palette.secondary,{textInverted:l.colors.green2}),inverted:{background:r.darkPalette.white,backgroundLight:r.lightPalette.contrast_50,text:r.lightPalette.black,textLight:r.lightPalette.contrast_700,textInverted:r.darkPalette.white,link:r.lightPalette.primary_500,border:r.lightPalette.contrast_100,borderDark:r.lightPalette.contrast_200,icon:r.lightPalette.contrast_500}})}),u=Object.assign({},d,{palette:Object.assign({},d.palette,{default:Object.assign({},d.palette.default,{background:r.dimPalette.contrast_0,backgroundLight:r.dimPalette.contrast_25,text:r.dimPalette.white,textLight:r.dimPalette.contrast_700,textInverted:r.dimPalette.black,link:r.dimPalette.primary_500,border:r.dimPalette.contrast_100,borderDark:r.dimPalette.contrast_200,icon:r.dimPalette.contrast_500,textVeryLight:r.dimPalette.contrast_400,replyLine:r.dimPalette.contrast_200,replyLineDot:r.dimPalette.contrast_200,unreadNotifBg:r.dimPalette.primary_25,unreadNotifBorder:r.dimPalette.primary_100,postCtrl:r.dimPalette.contrast_500,brandText:r.dimPalette.primary_500,emptyStateIcon:r.dimPalette.contrast_300,borderLinkHover:r.dimPalette.contrast_300})})});var m=s(2629);const h=(0,n.createContext)(c);h.displayName="ThemeContext";const p=()=>(0,n.useContext)(h);const f=e=>{const t=(0,o.c)(5),{theme:s,children:n}=e;let a;t[0]!==s?(a=function(e){switch(e){case"light":default:return c;case"dim":return u;case"dark":return d}}(s),t[0]=s,t[1]=a):a=t[1];const r=a;let i;return t[2]!==n||t[3]!==r?(i=(0,m.jsx)(h.Provider,{value:r,children:n}),t[2]=n,t[3]=r,t[4]=i):i=t[4],i}},6831:(e,t,s)=>{"use strict";s.r(t),s.d(t,{isStatusStillActive:()=>u,isStatusValidForViewers:()=>m,useActorStatus:()=>d});var o=s(15991),n=(s(95004),s(66949)),a=s(79858),r=s(87965),i=s(56436),l=s(49818),c=s(30756);function d(e){const t=(0,o.c)(14),s=(0,i.useMaybeProfileShadow)(e),n=((0,c.useTickEveryMinute)(),(0,l.useLiveNowConfig)());let a;e:if(s&&"status"in s&&s.status){const e=m(s.status,n),o=s.status.isDisabled||!1,r=u(s.status.expiresAt);if(e&&!o&&r){const e=s.status.embed;let o;t[0]!==s.status.cid||t[1]!==s.status.expiresAt||t[2]!==s.status.record||t[3]!==s.status.uri||t[4]!==e?(o={uri:s.status.uri,cid:s.status.cid,isDisabled:!1,isActive:!0,status:"app.bsky.actor.status#live",embed:e,expiresAt:s.status.expiresAt,record:s.status.record},t[0]=s.status.cid,t[1]=s.status.expiresAt,t[2]=s.status.record,t[3]=s.status.uri,t[4]=e,t[5]=o):o=t[5],a=o;break e}const i=s.status.embed;let l;t[6]!==o||t[7]!==s.status.cid||t[8]!==s.status.expiresAt||t[9]!==s.status.record||t[10]!==s.status.uri||t[11]!==i?(l={uri:s.status.uri,cid:s.status.cid,isDisabled:o,isActive:!1,status:"app.bsky.actor.status#live",embed:i,expiresAt:s.status.expiresAt,record:s.status.record},t[6]=o,t[7]=s.status.cid,t[8]=s.status.expiresAt,t[9]=s.status.record,t[10]=s.status.uri,t[11]=i,t[12]=l):l=t[12],a=l}else{let e;t[13]===Symbol.for("react.memo_cache_sentinel")?(e={status:"",isDisabled:!1,isActive:!1,record:{}},t[13]=e):e=t[13],a=e}return a}function u(e){if(!e)return!1;const t=new Date,s=(0,a.default)(e);return(0,r.default)(s,t)}function m(e,t){if("app.bsky.actor.status#live"!==e.status)return!1;if(!e.uri)return!1;try{const{host:s}=new n.AtUri(e.uri);if(n.AppBskyEmbedExternal.isView(e.embed)){const o=new URL(e.embed.external.uri),n=t.allowedHostsExceptionsByDid.get(s),a=!!n&&n.has(o.hostname),r=t.defaultAllowedHosts.has(o.hostname);return a||r}return!1}catch{return!1}}},23525:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FeedTuner:()=>l,FeedViewPostsSlice:()=>i});var o=s(66949),n=s(46804),a=s(12855),r=s(75078);class i{constructor(e){const{post:t,reply:s,reason:a}=e;if(this.items=[],this.isIncompleteThread=!1,this.isFallbackMarker=!1,this.isOrphan=!1,this.isThreadMuted=t.viewer?.threadMuted??!1,this.feedPostUri=t.uri,o.AppBskyFeedDefs.isPostView(s?.root)?this.rootUri=s.root.uri:this.rootUri=t.uri,this._feedPost=e,this._reactKey=`slice-${t.uri}-${e.reason&&"indexedAt"in e.reason?e.reason.indexedAt:t.indexedAt}`,e.post.uri===r.FALLBACK_MARKER_POST.post.uri)return void(this.isFallbackMarker=!0);if(!o.AppBskyFeedPost.isRecord(t.record)||!n.validate(t.record,o.AppBskyFeedPost.validateRecord))return;const i=s?.parent,l=o.AppBskyFeedDefs.isBlockedPost(i),c=o.AppBskyFeedDefs.isNotFoundPost(i);let d;if(o.AppBskyFeedDefs.isPostView(i)&&(d=i.author),this.items.push({post:t,record:t.record,parentAuthor:d,isParentBlocked:l,isParentNotFound:c}),!s)return void(t.record.reply&&(this.isOrphan=!0,this.items[0].isParentNotFound=!0));if(a)return;if(!o.AppBskyFeedDefs.isPostView(i)||!o.AppBskyFeedPost.isRecord(i.record)||!n.validate(i.record,o.AppBskyFeedPost.validateRecord))return void(this.isOrphan=!0);const u=s.root,m=(o.AppBskyFeedDefs.isPostView(u)||o.AppBskyFeedDefs.isBlockedPost(u)||o.AppBskyFeedDefs.isNotFoundPost(u))&&i.record.reply?.parent.uri===u.uri?u:void 0,h=s.grandparentAuthor,p=Boolean(m&&o.AppBskyFeedDefs.isBlockedPost(m)),f=Boolean(m&&o.AppBskyFeedDefs.isNotFoundPost(m));this.items.unshift({post:i,record:i.record,parentAuthor:h,isParentBlocked:p,isParentNotFound:f}),p&&(this.isOrphan=!0),o.AppBskyFeedDefs.isPostView(u)&&o.AppBskyFeedPost.isRecord(u.record)&&n.validate(u.record,o.AppBskyFeedPost.validateRecord)?u.uri!==i.uri&&(this.items.unshift({post:u,record:u.record,isParentBlocked:!1,isParentNotFound:!1,parentAuthor:void 0}),i.record.reply?.parent.uri!==u.uri&&(this.isIncompleteThread=!0)):this.isOrphan=!0}get isQuotePost(){const e=this._feedPost.post.embed;return o.AppBskyEmbedRecord.isView(e)||o.AppBskyEmbedRecordWithMedia.isView(e)}get isReply(){return o.AppBskyFeedPost.isRecord(this._feedPost.post.record)&&!!this._feedPost.post.record.reply}get reason(){return"__source"in this._feedPost?this._feedPost.__source:this._feedPost.reason}get feedContext(){return this._feedPost.feedContext}get reqId(){return this._feedPost.reqId}get isRepost(){const e=this._feedPost.reason;return o.AppBskyFeedDefs.isReasonRepost(e)}get likeCount(){return this._feedPost.post.likeCount??0}containsUri(e){return!!this.items.find((t=>t.post.uri===e))}getAuthors(){const e=this._feedPost;let t,s,n,a=e.post.author;return e.reply&&(o.AppBskyFeedDefs.isPostView(e.reply.parent)&&(t=e.reply.parent.author),e.reply.grandparentAuthor&&(s=e.reply.grandparentAuthor),o.AppBskyFeedDefs.isPostView(e.reply.root)&&(n=e.reply.root.author)),{author:a,parentAuthor:t,grandparentAuthor:s,rootAuthor:n}}}class l{seenKeys=new Set;seenUris=new Set;seenRootUris=new Set;constructor(e){this.tunerFns=e}tune(e,{dryRun:t}={dryRun:!1}){let s=e.map((e=>new i(e))).filter((e=>e.items.length>0||e.isFallbackMarker));for(const o of this.tunerFns)s=o(this,s.slice(),t);return s=s.filter((e=>{if(this.seenKeys.has(e._reactKey))return!1;for(let s=0;s<e.items.length;s++){const o=e.items[s];if(this.seenUris.has(o.post.uri)){if(0===s&&(e.items.splice(0,1),s--),s===e.items.length-1)return!1}else if(!t){e.isReply&&e.isRepost||this.seenUris.add(o.post.uri)}}return t||this.seenKeys.add(e._reactKey),!0})),s}static removeReplies(e,t,s){for(let o=0;o<t.length;o++){const e=t[o];!e.isReply||e.isRepost||c(e.getAuthors())||(t.splice(o,1),o--)}return t}static removeReposts(e,t,s){for(let o=0;o<t.length;o++)t[o].isRepost&&(t.splice(o,1),o--);return t}static removeQuotePosts(e,t,s){for(let o=0;o<t.length;o++)t[o].isQuotePost&&(t.splice(o,1),o--);return t}static removeOrphans(e,t,s){for(let o=0;o<t.length;o++)t[o].isOrphan&&(t.splice(o,1),o--);return t}static removeMutedThreads(e,t,s){for(let o=0;o<t.length;o++)t[o].isThreadMuted&&(t.splice(o,1),o--);return t}static dedupThreads(e,t,s){for(let o=0;o<t.length;o++){const n=t[o].rootUri;!t[o].isRepost&&e.seenRootUris.has(n)?(t.splice(o,1),o--):s||e.seenRootUris.add(n)}return t}static followedRepliesOnly({userDid:e}){return(t,s,o)=>{for(let n=0;n<s.length;n++){const t=s[n];!t.isReply||t.isRepost||d(t.getAuthors(),e)||(s.splice(n,1),n--)}return s}}static preferredLangOnly(e){return(t,s,o)=>{if(!e.length||0===e.length)return s;const n=s.filter((t=>{for(const s of t.items)if((0,a.isPostInLanguage)(s.post,e))return!0;return!1}));return 0===n.length?s:n}}}function c(e){const{author:t,parentAuthor:s,grandparentAuthor:o,rootAuthor:n}=e,a=t.did;return(!s||s.did===a)&&((!o||o.did===a)&&(!n||n.did===a))}function d(e,t){const{author:s,parentAuthor:o,grandparentAuthor:n,rootAuthor:a}=e;return!!u(s,t)&&(!(o&&o.did!==s.did||a&&a.did!==s.did||n&&n.did!==s.did)||(!(!o||o.did===s.did||!u(o,t))||(!(!n||n.did===s.did||!u(n,t))||!(!a||a.did===s.did||!u(a,t)))))}function u(e,t){return Boolean(e.did===t||e.viewer?.following)}},4856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CustomFeedAPI:()=>r});var o=s(66949),n=s(52891),a=s(72653);class r{constructor({agent:e,feedParams:t,userInterests:s}){this.agent=e,this.params=t,this.userInterests=s}async peekLatest(){const e=(0,n.getContentLanguages)().join(",");return(await this.agent.app.bsky.feed.getFeed(Object.assign({},this.params,{limit:1}),{headers:{"Accept-Language":e}})).data.feed[0]}async fetch({cursor:e,limit:t}){const s=(0,n.getContentLanguages)().join(","),r=this.agent,i=(0,a.isBlueskyOwnedFeed)(this.params.feed),l=r.did?await this.agent.app.bsky.feed.getFeed(Object.assign({},this.params,{cursor:e,limit:t}),{headers:Object.assign({},i?(0,a.createBskyTopicsHeader)(this.userInterests):{},{"Accept-Language":s})}):await async function({feed:e,limit:t,cursor:s}){let a=(0,n.getAppLanguageAsContentLanguage)();const r={"atproto-accept-labelers":o.BskyAgent.appLabelers.map((e=>`${e};redact`)).join(", ")};let i=await fetch(`https://api.bsky.app/xrpc/app.bsky.feed.getFeed?feed=${e}${s?`&cursor=${s}`:""}&limit=${t}&lang=${a}`,{method:"GET",headers:Object.assign({"Accept-Language":a},r)}),l=i.ok?(0,o.jsonStringToLex)(await i.text()):null;if(l?.feed?.length)return{success:!0,data:l};if(i=await fetch(`https://api.bsky.app/xrpc/app.bsky.feed.getFeed?feed=${e}${s?`&cursor=${s}`:""}&limit=${t}`,{method:"GET",headers:Object.assign({"Accept-Language":""},r)}),l=i.ok?(0,o.jsonStringToLex)(await i.text()):null,l?.feed?.length)return{success:!0,data:l};return{success:!1,data:{feed:[]}}}(Object.assign({},this.params,{cursor:e,limit:t}));return l.success?(l.data.feed.length>t&&(l.data.feed=l.data.feed.slice(0,t)),{cursor:l.data.feed.length?l.data.cursor:void 0,feed:l.data.feed}):{feed:[]}}}},18716:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FollowingFeedAPI:()=>o});class o{constructor({agent:e}){this.agent=e}async peekLatest(){return(await this.agent.getTimeline({limit:1})).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getTimeline({cursor:e,limit:t});return s.success?{cursor:s.data.cursor,feed:s.data.feed}:{feed:[]}}}},75078:(e,t,s)=>{"use strict";s.r(t),s.d(t,{FALLBACK_MARKER_POST:()=>r,HomeFeedAPI:()=>i});var o=s(17110),n=s(4856),a=s(18716);const r={post:{uri:"fallback-marker-post",cid:"fake",record:{},author:{did:"did:fake",handle:"fake.com"},indexedAt:(new Date).toISOString()}};class i{usingDiscover=!1;itemCursor=0;constructor({userInterests:e,agent:t}){this.agent=t,this.following=new a.FollowingFeedAPI({agent:t}),this.discover=new n.CustomFeedAPI({agent:t,feedParams:{feed:(0,o.PROD_DEFAULT_FEED)("whats-hot")}}),this.userInterests=e}reset(){this.following=new a.FollowingFeedAPI({agent:this.agent}),this.discover=new n.CustomFeedAPI({agent:this.agent,feedParams:{feed:(0,o.PROD_DEFAULT_FEED)("whats-hot")},userInterests:this.userInterests}),this.usingDiscover=!1,this.itemCursor=0}async peekLatest(){return this.usingDiscover?this.discover.peekLatest():this.following.peekLatest()}async fetch({cursor:e,limit:t}){let s;e||this.reset();let o=[];if(!this.usingDiscover){const n=await this.following.fetch({cursor:e,limit:t});s=n.cursor,o=o.concat(n.feed),s||(e="",o.push(r),this.usingDiscover=!0)}if(this.usingDiscover){const n=await this.discover.fetch({cursor:e,limit:t});s=n.cursor,o=o.concat(n.feed)}return{cursor:s,feed:o}}}},72653:(e,t,s)=>{"use strict";s.r(t),s.d(t,{aggregateUserInterests:()=>l,createBskyTopicsHeader:()=>i,isBlueskyOwnedFeed:()=>c});var o=s(66949),n=s(17110),a=s(43535);let r="";if(a.IS_WEB&&"undefined"!==typeof window){const e=new URLSearchParams(window.location.search);r=e.get("debug_topics")??""}function i(e){return{"X-Bsky-Topics":r||e||""}}function l(e){return e?.interests?.tags?.join(",")||""}function c(e){const t=new o.AtUri(e);return n.BSKY_FEED_OWNER_DIDS.includes(t.host)}},49119:(e,t,s)=>{"use strict";s.r(t),s.d(t,{post:()=>_,uploadBlob:()=>x});var o=s(17789),n=s(66949),a=s(22198),r=s(84634),i=s(83924),l=s(4830),c=s(16085),d=s(98285),u=s(94512),m=s(5295),h=s(23826),p=s(30639),f=s(15121),g=s(50441);async function x(e,t,s){if("string"===typeof t&&(t.startsWith("data:")||t.startsWith("blob:"))){const o=await fetch(t).then((e=>e.blob()));return e.uploadBlob(o,{encoding:s})}if(t instanceof Blob)return e.uploadBlob(t,{encoding:s});throw new TypeError("Invalid uploadBlob input: "+typeof t)}async function _(e,t,s){const r=s.thread;let i;s.onStateChange?.(o.i18n._({id:"k1ifdL"})),s.replyTo&&(i=async function(e,t){const s=new n.AtUri(t),o=await e.getPost({repo:s.host,rkey:s.rkey});if(o){const e={uri:o.uri,cid:o.cid};return{root:o.value.reply?.root||e,parent:e}}}(e,s.replyTo));let l=s.langs;s.langs&&(l=s.langs.slice(0,3));const c=e.assertDid,u=[],h=[];let p,g=new Date;for(let o=0;o<r.posts.length;o++){const n=r.posts[o],d=y(e,n.richtext),m=b(e,t,n,s.onStateChange);let x;n.labels.length&&(x={$type:"com.atproto.label.defs#selfLabels",values:n.labels.map((e=>({val:e})))}),g.setMilliseconds(g.getMilliseconds()+1),p=a.TID.next(p);const _=p.toString(),j=`at://${c}/app.bsky.feed.post/${_}`;h.push(j);const v=await d,S=await m,T=await i,k={$type:"app.bsky.feed.post",createdAt:g.toISOString(),text:v.text,facets:v.facets,reply:T,embed:S,langs:l,labels:x};u.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.post",rkey:_,value:k}),0===o&&r.threadgate.some((e=>"everybody"!==e.type))&&u.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.threadgate",rkey:_,value:(0,f.createThreadgateRecord)({createdAt:g.toISOString(),post:j,allow:(0,f.threadgateAllowUISettingToAllowRecordValue)(r.threadgate)})}),(r.postgate.embeddingRules?.length||r.postgate.detachedEmbeddingUris?.length)&&u.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.postgate",rkey:_,value:Object.assign({},r.postgate,{$type:"app.bsky.feed.postgate",createdAt:g.toISOString(),post:j})});const C={cid:await w(k),uri:j};i={root:T?.root??C,parent:C}}try{await e.com.atproto.repo.applyWrites({repo:e.assertDid,writes:u,validate:!0})}catch(x){throw m.logger.error("Failed to create post",{safeMessage:x.message}),(0,d.isNetworkError)(x)?new Error(o.i18n._({id:"bwVi/F"})):x}return{uris:h}}async function y(e,t){const s=t.text.replace(/^(\s*\n)+/,"").trimEnd();let o=new n.RichText({text:s},{cleanNewlines:!0});return await o.detectFacets(e),o=(0,u.shortenLinks)(o),o=(0,u.stripInvalidMentions)(o),o}async function b(e,t,s,o){if(s.embed.quote){const[n,a]=await Promise.all([j(e,t,s.embed,o),v(e,t,s.embed.quote.uri)]);return n?{$type:"app.bsky.embed.recordWithMedia",record:{$type:"app.bsky.embed.record",record:a},media:n}:{$type:"app.bsky.embed.record",record:a}}const n=await j(e,t,s.embed,o);if(n)return n;if(s.embed.link){const o=await(0,p.fetchResolveLinkQuery)(t,e,s.embed.link.uri);if("record"===o.type)return{$type:"app.bsky.embed.record",record:o.record}}}async function j(e,t,s,n){if("images"===s.media?.type){const t=s.media.images;m.logger.debug("Uploading images",{count:t.length}),n?.(o.i18n._({id:"cqkI3p"}));return{$type:"app.bsky.embed.images",images:await Promise.all(t.map((async(t,s)=>{m.logger.debug(`Compressing image #${s}`);const{path:o,width:n,height:a,mime:r}=await(0,h.compressImage)(t);m.logger.debug(`Uploading image #${s}`);return{image:(await x(e,o,r)).data.blob,alt:t.alt,aspectRatio:{width:n,height:a}}})))}}if("video"===s.media?.type&&"done"===s.media.video.status){const t=s.media.video,o=await Promise.all(t.captions.filter((e=>""!==e.lang)).map((async t=>{const{data:s}=await e.uploadBlob(t.file,{encoding:"text/vtt"});return{lang:t.lang,file:s.blob}}))),n=Math.round(t.asset.width),a=Math.round(t.asset.height),r=n>0&&a>0?{width:n,height:a}:void 0;return r||m.logger.error(`Invalid aspect ratio - got { width: ${t.asset.width}, height: ${t.asset.height} }`),{$type:"app.bsky.embed.video",video:t.pendingPublish.blobRef,alt:t.altText||void 0,captions:0===o.length?void 0:o,aspectRatio:r,presentation:"image/gif"===t.video.mimeType?"gif":"default"}}if("gif"===s.media?.type){const a=s.media,r=await(0,p.fetchResolveGifQuery)(t,e,a.gif);let i;if(r.thumb){n?.(o.i18n._({id:"pATQKk"}));const{path:t,mime:s}=r.thumb.source;i=(await x(e,t,s)).data.blob}return{$type:"app.bsky.embed.external",external:{uri:r.uri,title:r.title,description:(0,g.createGIFDescription)(r.title,a.alt),thumb:i}}}if(s.link){const a=await(0,p.fetchResolveLinkQuery)(t,e,s.link.uri);if("external"===a.type){let t;if(a.thumb){n?.(o.i18n._({id:"pATQKk"}));const{path:s,mime:r}=a.thumb.source;t=(await x(e,s,r)).data.blob}return{$type:"app.bsky.embed.external",external:{uri:a.uri,title:a.title,description:a.description,thumb:t}}}}}async function v(e,t,s){const n=await(0,p.fetchResolveLinkQuery)(t,e,s);if("record"!==n.type)throw Error(o.i18n._({id:"83UxIL"}));return n.record}const S=c.from({name:"sha2-256",code:18,encode:e=>{const t=i.sha256.arrayBuffer(e);return new Uint8Array(t)}});async function w(e){const t=T(e),s=r.encode(t),o=await S.digest(s);return l.CID.createV1(113,o).toString()}function T(e){if(e instanceof n.BlobRef)return e.ipld();if(Array.isArray(e)){let t=!0;const s=e.map((e=>(e!==(e=T(e))&&(t=!1),e)));return t?e:s}if(function(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(e)){const t={};let s=!0;for(const o in e){let n=e[o];void 0!==n?(n!==(n=T(n))&&(s=!1),t[o]=n):s=!1}return s?e:t}return e}},40852:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EmbeddingDisabledError:()=>m,imageToThumb:()=>f,resolveGif:()=>p,resolveLink:()=>h});var o=s(66949),n=s(17110),a=s(21258),r=s(94963),i=s(37879),l=s(15488),c=s(86731),d=s(23826),u=s(50441);class m extends Error{constructor(){super("Embedding is disabled for this record")}}async function h(e,t){if((0,c.isShortLink)(t)&&(t=await(0,r.resolveShortLink)(t)),(0,c.isBskyPostUrl)(t)){t=(0,c.convertBskyAppUrlIfNeeded)(t);const[s,n,a,r]=t.split("/").filter(Boolean),i=(0,c.makeRecordUri)(n,"app.bsky.feed.post",r),l=await async function({uri:t}){const s=new o.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}const n=await e.getPosts({uris:[s.toString()]});if(n.success&&n.data.posts[0])return n.data.posts[0];throw new Error("getPost: post not found")}({uri:i});if(l.viewer?.embeddingDisabled)throw new m;return{type:"record",record:{cid:l.cid,uri:l.uri},kind:"post",view:l}}if((0,c.isBskyCustomFeedUrl)(t)){t=(0,c.convertBskyAppUrlIfNeeded)(t);const[o,n,a,r]=t.split("/").filter(Boolean),i=await s(n),l=(0,c.makeRecordUri)(i,"app.bsky.feed.generator",r),d=await e.app.bsky.feed.getFeedGenerator({feed:l});return{type:"record",record:{uri:d.data.view.uri,cid:d.data.view.cid},kind:"feed",view:d.data.view}}if((0,c.isBskyListUrl)(t)){t=(0,c.convertBskyAppUrlIfNeeded)(t);const[o,n,a,r]=t.split("/").filter(Boolean),i=await s(n),l=(0,c.makeRecordUri)(i,"app.bsky.graph.list",r),d=await e.app.bsky.graph.getList({list:l});return{type:"record",record:{uri:d.data.list.uri,cid:d.data.list.cid},kind:"list",view:d.data.list}}if((0,c.isBskyStartUrl)(t)||(0,c.isBskyStarterPackUrl)(t)){const o=(0,l.parseStarterPackUri)(t);if(!o)throw new Error("Unexpectedly called getStarterPackAsEmbed with a non-starterpack url");const n=await s(o.name),a=(0,l.createStarterPackUri)({did:n,rkey:o.rkey}),r=await e.app.bsky.graph.getStarterPack({starterPack:a});return{type:"record",record:{uri:r.data.starterPack.uri,cid:r.data.starterPack.cid},kind:"starter-pack",view:r.data.starterPack}}return async function(e,t){const s=await(0,a.getLinkMeta)(e,t);return{type:"external",uri:s.url,title:s.title??"",description:s.description??"",thumb:s.image?await f(s.image):void 0}}(e,t);async function s(t){let s=t;if(!s.startsWith("did:")){s=(await e.resolveHandle({handle:s})).data.did}return s}}async function p(e,t){return{type:"external",uri:`${t.media_formats.gif.url}?hh=${t.media_formats.gif.dims[1]}&ww=${t.media_formats.gif.dims[0]}`,title:t.content_description,description:(0,u.createGIFDescription)(t.content_description),thumb:await f(t.media_formats.preview.url)}}async function f(e){try{const t=await(0,i.downloadAndResize)({uri:e,width:n.POST_IMG_MAX.width,height:n.POST_IMG_MAX.height,mode:"contain",maxSize:n.POST_IMG_MAX.size,timeout:15e3});if(t)return await(0,d.createComposerImage)(t)}catch{}}},44369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getCurrentState:()=>r,onAppStateChange:()=>i,useAppState:()=>c,useOnAppStateChange:()=>l});var o=s(15991),n=s(95004),a=s(43549);const r=()=>a.default.currentState;function i(e){let t=a.default.currentState;return a.default.addEventListener("change",(s=>{s!==t&&(t=s,e(s))}))}function l(e){const t=(0,o.c)(3);let s,a;t[0]!==e?(s=()=>{const t=i((t=>e(t)));return()=>t.remove()},a=[e],t[0]=e,t[1]=s,t[2]=a):(s=t[1],a=t[2]),(0,n.useEffect)(s,a)}function c(){const[e,t]=(0,n.useState)(a.default.currentState);return l(t),e}},62820:(e,t,s)=>{"use strict";s.r(t),s.d(t,{networkRetry:()=>r,retry:()=>a});var o=s(86832),n=s(98285);async function a(e,t,s,n){let a;for(;e>0;)try{return await s()}catch(r){if(a=r,t(r)){n&&await(0,o.timeout)(n),e--;continue}throw r}throw a}async function r(e,t){return a(e,n.isNetworkError,t)}},86832:(e,t,s)=>{"use strict";function o(e){return new Promise((t=>setTimeout(t,e)))}s.r(t),s.d(t,{timeout:()=>o})},48833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{until:()=>n});var o=s(86832);async function n(e,t,s,n){for(;e>0;){try{if(s(await n(),void 0))return!0}catch(a){if(s(void 0,a))return!0}await(0,o.timeout)(t),e--}return!1}},47571:(e,t,s)=>{"use strict";async function o(e,t){return await Promise.all([t,new Promise((t=>setTimeout(t,e)))]).then((e=>e[0]))}s.r(t),s.d(t,{wait:()=>o})},96407:(e,t,s)=>{"use strict";s.r(t),s.d(t,{batchedUpdates:()=>o.unstable_batchedUpdates});var o=s(79153)},55:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});const o="BroadcastChannel"in window?window.BroadcastChannel:class{constructor(e){this.name=e}postMessage(e){}close(){}onmessage=()=>{};addEventListener(e,t){}removeEventListener(e,t){}}},17110:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BACK_HITSLOP:()=>q,BASE_PATH:()=>N,BLUESKY_MOD_SERVICE_HEADERS:()=>Se,BLUESKY_NOTIF_SERVICE_HEADERS:()=>we,BLUESKY_PROXY_HEADER:()=>je,BSKY_APP_ACCOUNT_DID:()=>K,BSKY_DOWNLOAD_URL:()=>p,BSKY_FEED_OWNER_DIDS:()=>Z,BSKY_SERVICE:()=>i,BSKY_SERVICE_DID:()=>l,CARD_ASPECT_RATIO:()=>g,DEFAULT_SERVICE:()=>d,DEV_ENV_APPVIEW:()=>ye,DEV_ENV_APPVIEW_DID:()=>be,DISCOVER_DEBUG_DIDS:()=>_,DISCOVER_FEED_URI:()=>Y,DISCOVER_SAVED_FEED:()=>ee,DM_SERVICE_HEADERS:()=>ve,EMBED_SCRIPT:()=>h,EMBED_SERVICE:()=>m,EMOJI_REACTION_LIMIT:()=>pe,ENABLE_HIDE_READ_POSTS:()=>H,FEEDBACK_FORM_URL:()=>b,GIF_FEATURED:()=>ie,GIF_SEARCH:()=>re,GIF_SERVICE:()=>ae,HELP_DESK_URL:()=>u,HITSLOP_10:()=>z,HITSLOP_20:()=>U,HITSLOP_30:()=>W,IS_PROD_SERVICE:()=>A,IS_TEST_USER:()=>I,JOINED_THIS_WEEK:()=>x,KNOWN_SHUTDOWN_FEEDS:()=>ne,LANG_DROPDOWN_HITSLOP:()=>G,LINK_META_PROXY:()=>M,LOCAL_DEV_SERVICE:()=>a,MAX_ALT_TEXT:()=>k,MAX_DESCRIPTION:()=>v,MAX_DISPLAY_NAME:()=>j,MAX_DM_GRAPHEME_LENGTH:()=>T,MAX_DRAFT_GRAPHEME_LENGTH:()=>w,MAX_GRAPHEME_LENGTH:()=>S,MAX_LABELERS:()=>le,MAX_POST_LINES:()=>Q,MAX_REPORT_REASON_GRAPHEME_LENGTH:()=>C,POST_IMG_MAX:()=>B,PROD_DEFAULT_FEED:()=>P,PROD_FEEDS:()=>L,PROD_LINK_META_PROXY:()=>O,PUBLIC_APPVIEW:()=>ge,PUBLIC_APPVIEW_DID:()=>xe,PUBLIC_BSKY_SERVICE:()=>c,PUBLIC_STAGING_APPVIEW_DID:()=>_e,RECOMMENDED_SAVED_FEEDS:()=>oe,STAGING_DEFAULT_FEED:()=>E,STAGING_FEEDS:()=>R,STAGING_LINK_META_PROXY:()=>D,STAGING_SERVICE:()=>r,STAGING_VIDEO_FEED_URI:()=>X,STARTER_PACK_MAX_SIZE:()=>f,STATUS_PAGE_URL:()=>F,SUPPORTED_MIME_TYPES:()=>he,TIMELINE_SAVED_FEED:()=>te,VIDEO_FEED_URI:()=>$,VIDEO_FEED_URIS:()=>J,VIDEO_MAX_DURATION_MS:()=>ue,VIDEO_MAX_SIZE:()=>me,VIDEO_SAVED_FEED:()=>se,VIDEO_SERVICE:()=>ce,VIDEO_SERVICE_DID:()=>de,createHitslop:()=>V,urls:()=>fe,webLinks:()=>Te});var o=s(66949),n=s(43535);const a="http://localhost:2583",r="https://staging.bsky.dev",i="https://bsky.social",l="did:web:bsky.social",c="https://public.api.bsky.app",d=i,u="https://blueskyweb.zendesk.com/hc/en-us",m="https://embed.bsky.app",h=`${m}/static/embed.js`,p="https://bsky.app/download",f=150,g=1200/630,x=56e4,_={"did:plc:oisofpd7lj26yvgiivf3lxsi":!0,"did:plc:p2cp5gopk7mgjegy6wadk3ep":!0,"did:plc:ragtjsm2j2vknwkz3zp4oxrd":!0,"did:plc:vpkhqolt662uhesyj6nxm7ys":!0,"did:plc:3jpt2mvvsumj2r7eqk4gzzjz":!0,"did:plc:vjug55kidv6sye7ykr5faxxn":!0,"did:plc:tgqseeot47ymot4zro244fj3":!0,"did:plc:2dzyut5lxna5ljiaasgeuffz":!0},y=`${u}/requests/new`;function b({email:e,handle:t}){let s=y;return e&&(s+=`?tf_anonymous_requester_email=${encodeURIComponent(e)}`,t&&(s+=`&tf_17205412673421=${encodeURIComponent(t)}`)),s}const j=64,v=256,S=300,w=1e3,T=1e3,k=2e3,C=2e3;function I(e){return e&&e?.endsWith(".test")}function A(e){return e&&e!==r&&!e.startsWith(a)}const P=e=>`at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/${e}`,E=e=>`at://did:plc:yofh3kx63drvfljkibw5zuxo/app.bsky.feed.generator/${e}`,L=[`feedgen|${P("whats-hot")}`,`feedgen|${P("thevids")}`],R=[`feedgen|${E("whats-hot")}`,`feedgen|${E("thevids")}`],B={width:2e3,height:2e3,size:1e6},D="https://cardyb.staging.bsky.dev/v1/extract?url=",O="https://cardyb.bsky.app/v1/extract?url=";function M(e){return A(e)?O:D}const F="https://status.bsky.app/",N="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}?.EXPO_PUBLIC_BASE_PATH||"",H=!0,V=e=>({top:e,left:e,bottom:e,right:e}),z=V(10),U=V(20),W=V(30),G={top:10,bottom:10,left:4,right:4},q=W,Q=25,K="did:plc:z72i7hdynmk6r22z27h6tvur",Z=[K,"did:plc:vpkhqolt662uhesyj6nxm7ys","did:plc:q6gjnaw2blty4crticxkmujt"],Y="at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot",$="at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/thevids",X="at://did:plc:yofh3kx63drvfljkibw5zuxo/app.bsky.feed.generator/thevids",J=[$,X],ee={type:"feed",value:Y,pinned:!0},te={type:"timeline",value:"following",pinned:!0},se={type:"feed",value:$,pinned:!0},oe=[ee,te],ne=["at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm"],ae="https://gifs.bsky.app",re=e=>`${ae}/tenor/v2/search?${e}`,ie=e=>`${ae}/tenor/v2/featured?${e}`,le=20,ce="https://video.bsky.app",de="did:web:video.bsky.app",ue=18e4,me=1e8,he=["video/mp4","video/mpeg","video/webm","video/quicktime","image/gif"],pe=5,fe={website:{blog:{findFriendsAnnouncement:"https://bsky.social/about/blog/12-16-2025-find-friends",initialVerificationAnnouncement:"https://bsky.social/about/blog/04-21-2025-verification",searchTipsAndTricks:"https://bsky.social/about/blog/05-31-2024-search"},support:{findFriendsPrivacyPolicy:"https://bsky.social/about/support/find-friends-privacy-policy"}}},ge="https://api.bsky.app",xe="did:web:api.bsky.app",_e="did:web:api.staging.bsky.dev",ye="http://localhost:2584",be="did:plc:dw4kbjf5mn7nhenabiqpkyh3",je={value:`${n.BLUESKY_PROXY_DID}#bsky_appview`,get(){return this.value},set(e){this.value=e}},ve={"atproto-proxy":`${n.CHAT_PROXY_DID}#bsky_chat`},Se={"atproto-proxy":`${o.BSKY_LABELER_DID}#atproto_labeler`},we={"atproto-proxy":`${n.BLUESKY_PROXY_DID}#bsky_notif`},Te={tos:"https://bsky.social/about/support/tos",privacy:"https://bsky.social/about/support/privacy-policy",community:"https://bsky.social/about/support/community-guidelines",communityDeprecated:"https://bsky.social/about/support/community-guidelines-deprecated"}},22057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BOTTOM_BAR_AVI:()=>u,DEMO_FEED:()=>d});var o=s(55638),n=s(517);const a="did:plc:z72i7hdynmk6r22z27h6tvur",r=new Date,i=(0,o.default)(r,2).toISOString(),l=(0,o.default)(r,4).toISOString(),c=(0,o.default)(r,5).toISOString(),d={feed:[{post:{uri:"at://did:plc:pvooorihapc2lf2pijehgrdf/app.bsky.feed.post/3lniysofyll2d",cid:"bafyreihwh3wxxme732ylbylhhdyz7ex6t4jtu6s3gjxxvnnh4feddhg3ku",author:{did:"did:plc:pvooorihapc2lf2pijehgrdf",handle:"forkedriverband.bsky.social",displayName:"Forked River Band",avatar:"https://bsky.social/about/adi/post_1_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${a}/app.bsky.graph.follow/post1`},labels:[],createdAt:i,verification:{verifications:[{issuer:a,uri:`at://${a}/app.bsky.graph.verification/post1`,isValid:!0,createdAt:(0,n.default)(r,11).toISOString()}],verifiedStatus:"valid",trustedVerifierStatus:"none"}},record:{$type:"app.bsky.feed.post",createdAt:i,langs:["en"],text:"Sonoma County folks: Come tip your hats our way and see us play new and old bluegrass tunes at Sebastopol Solstice Fest on June 20th."},embed:{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/adi/post_1_image.jpg",fullsize:"https://bsky.social/about/adi/post_1_image.jpg",alt:"Fake flier for Sebastapol Bluegrass Fest",aspectRatio:{height:1350,width:900}}]},replyCount:1,repostCount:4,likeCount:18,quoteCount:0,indexedAt:i,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}},{post:{uri:"at://did:plc:fhhqii56ppgyh5qcm2b3mokf/app.bsky.feed.post/3lnizc7fug52c",cid:"bafyreienuabsr55rycirdf4ewue5tjcseg5lzqompcsh2brqzag6hvxllm",author:{did:"did:plc:fhhqii56ppgyh5qcm2b3mokf",handle:"dinh-designs.bsky.social",displayName:"Rich Dinh Designs",avatar:"https://bsky.social/about/adi/post_2_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${a}/app.bsky.graph.follow/post2`},labels:[],createdAt:l},record:{$type:"app.bsky.feed.post",createdAt:l,langs:["en"],text:"Details from our install at the Lucas residence in Joshua Tree. We populated the space with rich, earthy tones and locally-sourced materials to suit the landscape."},embed:{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/adi/post_2_image.jpg",fullsize:"https://bsky.social/about/adi/post_2_image.jpg",alt:"Placeholder image of interior design",aspectRatio:{height:872,width:598}}]},replyCount:3,repostCount:1,likeCount:4,quoteCount:0,indexedAt:l,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}},{post:{uri:"at://did:plc:h7fwnfejmmifveeea5eyxgkc/app.bsky.feed.post/3lnizna3g4f2t",cid:"bafyreiepn7obmlshliori4j34texpaukrqkyyu7cq6nmpzk4lkis7nqeae",author:{did:"did:plc:h7fwnfejmmifveeea5eyxgkc",handle:"rodyalbuerne.bsky.social",displayName:"Rody Albuerne",avatar:"https://bsky.social/about/adi/post_3_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${a}/app.bsky.graph.follow/post3`},labels:[],createdAt:c},record:{$type:"app.bsky.feed.post",createdAt:c,langs:["en"],text:"Tinkering with the basics of traditional wooden joinery in my shop lately. Starting small with this ox, made using simple mortise and tenon joints."},replyCount:11,repostCount:97,likeCount:399,quoteCount:0,indexedAt:c,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}}]},u="https://bsky.social/about/adi/user_avi.jpg"},9948:(e,t,s)=>{"use strict";function o(e,t){return t[e]}function n(e){return[...new Set(e)]}function a(e,t){if(e===t)return e;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime()?e:t;const s=r(e)&&r(t);if(s||i(e)&&i(t)){const o=s?e:Object.keys(e),n=o.length,r=s?t:Object.keys(t),i=r.length,l=s?[]:{};let c=0;for(let d=0;d<i;d++){const n=s?d:r[d];!s&&void 0===e[n]&&void 0===t[n]&&o.includes(n)?(l[n]=void 0,c++):(l[n]=a(e[n],t[n]),l[n]===e[n]&&void 0!==e[n]&&c++)}return n===i&&c===n?e:l}return t}function r(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i(e){if(!l(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!l(s)&&!!s.hasOwnProperty("isPrototypeOf")}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}s.r(t),s.d(t,{choose:()=>o,dedupArray:()=>n,isPlainArray:()=>r,isPlainObject:()=>i,replaceEqualDeep:()=>a})},45310:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createStarterPackList:()=>u,useGenerateStarterPackMutation:()=>m});var o=s(15991),n=s(96963),a=s(37729),r=s(48833),i=s(21605),l=s(56947),c=s(66986),d=s(97154);const u=async({name:e,description:t,descriptionFacets:s,profiles:o,agent:n})=>{if(0===o.length)throw new Error("No profiles given");const a=await n.app.bsky.graph.list.create({repo:n.session.did},{name:e,description:t,descriptionFacets:s,avatar:void 0,createdAt:(new Date).toISOString(),purpose:"app.bsky.graph.defs#referencelist"});if(!a)throw new Error("List creation failed");return await n.com.atproto.repo.applyWrites({repo:n.session.did,writes:o.map((e=>function({did:e,listUri:t}){return{$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.listitem",value:{$type:"app.bsky.graph.listitem",subject:e,list:t,createdAt:(new Date).toISOString()}}}({did:e.did,listUri:a.uri})))}),a};function m(e){const t=(0,o.c)(12),{onSuccess:s,onError:m}=e,{_:f}=(0,n.useLingui)(),g=(0,d.useAgent)();let x,_,y,b;return t[0]!==f||t[1]!==g?(x=async()=>{let e,t;if(await Promise.all([(async()=>{e=(await g.app.bsky.actor.getProfile({actor:g.session.did})).data})(),(async()=>{t=(await g.app.bsky.actor.searchActors({q:encodeURIComponent("*"),limit:49})).data.actors.filter(p)})()]),!e||!t)throw new Error("ERROR_DATA");if(t.length<7)throw new Error("NOT_ENOUGH_FOLLOWERS");const s=(0,c.enforceLen)(e.displayName?(0,i.sanitizeDisplayName)(e.displayName):`@${(0,l.sanitizeHandle)(e.handle)}`,25,!0),o=f({id:"xf7YA0",values:{displayName:s}}),n=await u({name:o,profiles:t,agent:g});return await g.app.bsky.graph.starterpack.create({repo:g.session.did},{name:o,list:n.uri,createdAt:(new Date).toISOString()})},t[0]=f,t[1]=g,t[2]=x):x=t[2],t[3]!==g||t[4]!==s?(_=async e=>{await async function(e,t,s){await(0,r.until)(5,1e3,s,(()=>e.app.bsky.graph.getStarterPack({starterPack:t})))}(g,e.uri,h),s(e)},t[3]=g,t[4]=s,t[5]=_):_=t[5],t[6]!==m?(y=e=>{m(e)},t[6]=m,t[7]=y):y=t[7],t[8]!==x||t[9]!==_||t[10]!==y?(b={mutationFn:x,onSuccess:_,onError:y},t[8]=x,t[9]=_,t[10]=y,t[11]=b):b=t[11],(0,a.useMutation)(b)}function h(e){return"string"===typeof e?.data.starterPack.uri}function p(e){return e.viewer?.following}},50441:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createGIFDescription:()=>a,parseAltFromGIFDescription:()=>r});const o="Alt: ",n="ALT: ";function a(e,t=""){return""!==(t=t.trim())?o+t:n+e}function r(e){return e.startsWith(o)?{isPreferred:!0,alt:e.replace(o,"")}:e.startsWith(n)?{isPreferred:!1,alt:e.replace(n,"")}:{isPreferred:!1,alt:e}}},27948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useHaptics:()=>l});var o=s(15991),n=(s(95004),s(47797),s(58590)),a=s(48320),r=s(49314),i=s(43535);function l(){const e=(0,o.c)(2),t=(0,r.useHapticsDisabled)();let s;return e[0]!==t?(s=e=>{const s=void 0===e?"Medium":e;if(t||i.IS_WEB)return;const o=i.IS_IOS?n.ImpactFeedbackStyle[s]:n.ImpactFeedbackStyle.Light;(0,a.impactAsync)(o)},e[0]=t,e[1]=s):s=e[1],s}},54590:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useDedupe:()=>a});var o=s(15991),n=s(95004);function a(e){const t=(0,o.c)(2),s=void 0===e?250:e,a=(0,n.useRef)(!0);let r;return t[0]!==s?(r=e=>!!a.current&&(a.current=!1,setTimeout((()=>{a.current=!0}),s),e(),!0),t[0]=s,t[1]=r):r=t[1],r}},45146:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useNavigationDeduped:()=>r});var o=s(15991),n=(s(95004),s(57508)),a=s(54590);function r(){const e=(0,o.c)(26),t=(0,n.useNavigation)(),s=(0,a.useDedupe)();let r,i,l,c,d,u,m,h,p,f,g,x;return e[0]!==s||e[1]!==t?(r=(...e)=>{const o=e;s((()=>t.push(...o)))},i=(...e)=>{const o=e;s((()=>t.navigate(...o)))},l=(...e)=>{const o=e;s((()=>t.replace(...o)))},c=(...e)=>{const o=e;s((()=>t.dispatch(...o)))},d=()=>{s((()=>t.popToTop()))},u=(...e)=>{const o=e;s((()=>t.popTo(...o)))},m=(...e)=>{const o=e;s((()=>t.pop(...o)))},h=()=>{s((()=>t.goBack()))},e[0]=s,e[1]=t,e[2]=r,e[3]=i,e[4]=l,e[5]=c,e[6]=d,e[7]=u,e[8]=m,e[9]=h):(r=e[2],i=e[3],l=e[4],c=e[5],d=e[6],u=e[7],m=e[8],h=e[9]),e[10]!==t?(f=()=>t.canGoBack(),g=()=>t.getState(),p=(...e)=>{const s=e;return t.getParent(...s)},e[10]=t,e[11]=p,e[12]=f,e[13]=g):(p=e[11],f=e[12],g=e[13]),e[14]!==r||e[15]!==i||e[16]!==p||e[17]!==l||e[18]!==c||e[19]!==d||e[20]!==u||e[21]!==m||e[22]!==h||e[23]!==f||e[24]!==g?(x={push:r,navigate:i,replace:l,dispatch:c,popToTop:d,popTo:u,pop:m,goBack:h,canGoBack:f,getState:g,getParent:p},e[14]=r,e[15]=i,e[16]=p,e[17]=l,e[18]=c,e[19]=d,e[20]=u,e[21]=m,e[22]=h,e[23]=f,e[24]=g,e[25]=x):x=e[25],x}},25006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useNonReactiveCallback:()=>a});var o=s(15991),n=s(95004);function a(e){const t=(0,o.c)(4),s=(0,n.useRef)(e);let a,r,i;return t[0]!==e?(a=()=>{s.current=e},r=[e],t[0]=e,t[1]=a,t[2]=r):(a=t[1],r=t[2]),(0,n.useInsertionEffect)(a,r),t[3]===Symbol.for("react.memo_cache_sentinel")?(i=(...e)=>{const t=e;return(0,s.current)(...t)},t[3]=i):i=t[3],i}},98539:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useOpenLink:()=>p});var o=s(95004),n=s(75632),a=s(19955),r=s(77222),i=s(86731),l=(s(5295),s(53161)),c=s(19552),d=s(63410),u=s(96587),m=s(33703),h=s(43535);function p(){const e=(0,m.useAnalytics)(),t=(0,l.useInAppBrowser)(),s=(0,c.useTheme)(),p=(0,d.useDialogContext)(),{inAppBrowserConsentControl:f}=(0,u.useGlobalDialogsControlContext)();return(0,o.useCallback)((async(o,l,c)=>{if((0,i.isBskyRSSUrl)(o)&&(0,i.isRelativeUrl)(o)&&(o=(0,i.createBskyAppAbsoluteUrl)(o)),(0,i.isBskyAppUrl)(o)||(e.metric("link:clicked",{domain:(0,i.toNiceDomain)(o),url:o}),c&&(o=(0,i.createProxiedUrl)(o))),h.IS_NATIVE&&!o.startsWith("mailto:")){if(void 0===l&&void 0===t)return void(p.isWithinDialog?p.close((()=>{f.open(o)})):f.open(o));if(l??t)return void a.openBrowserAsync(o,{presentationStyle:r.WebBrowserPresentationStyle.FULL_SCREEN,toolbarColor:s.atoms.bg.backgroundColor,controlsColor:s.palette.primary_500,createTask:!1}).catch((e=>{n.default.openURL(o)}))}n.default.openURL(o)}),[e,t,f,s,p])}},32129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{usePalette:()=>a});var o=s(15991),n=(s(95004),s(83540));function a(e){const t=(0,o.c)(31),s=(0,n.useTheme)().palette[e];let a,r,i,l,c,d,u,m,h,p,f;return t[0]!==s.background?(a={backgroundColor:s.background},t[0]=s.background,t[1]=a):a=t[1],t[2]!==s.backgroundLight?(r={backgroundColor:s.backgroundLight},i={backgroundColor:s.backgroundLight},t[2]=s.backgroundLight,t[3]=r,t[4]=i):(r=t[3],i=t[4]),t[5]!==s.border?(l={borderColor:s.border},t[5]=s.border,t[6]=l):l=t[6],t[7]!==s.borderDark?(c={borderColor:s.borderDark},t[7]=s.borderDark,t[8]=c):c=t[8],t[9]!==s.text?(d={color:s.text},t[9]=s.text,t[10]=d):d=t[10],t[11]!==s.textLight?(u={color:s.textLight},t[11]=s.textLight,t[12]=u):u=t[12],t[13]!==s.textInverted?(m={color:s.textInverted},t[13]=s.textInverted,t[14]=m):m=t[14],t[15]!==s.link?(h={color:s.link},t[15]=s.link,t[16]=h):h=t[16],t[17]!==s.icon?(p={color:s.icon},t[17]=s.icon,t[18]=p):p=t[18],t[19]!==s||t[20]!==a||t[21]!==r||t[22]!==i||t[23]!==l||t[24]!==c||t[25]!==d||t[26]!==u||t[27]!==m||t[28]!==h||t[29]!==p?(f={colors:s,view:a,viewLight:r,btn:i,border:l,borderDark:c,text:d,textLight:u,textInverted:m,link:h,icon:p},t[19]=s,t[20]=a,t[21]=r,t[22]=i,t[23]=l,t[24]=c,t[25]=d,t[26]=u,t[27]=m,t[28]=h,t[29]=p,t[30]=f):f=t[30],f}},77453:(e,t,s)=>{"use strict";function o(){return{requestPhotoAccessIfNeeded:async()=>!0}}function n(){return{requestCameraAccessIfNeeded:async()=>!1}}function a(){return{requestVideoAccessIfNeeded:async()=>!0}}s.r(t),s.d(t,{useCameraPermission:()=>n,usePhotoLibraryPermission:()=>o,useVideoLibraryPermission:()=>a})},15186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{dateDiff:()=>m,formatDateDiff:()=>h,useGetTimeAgo:()=>u});var o=s(15991),n=(s(95004),s(96963)),a=s(52210);const r=5,i=60,l=60*i,c=24*l,d=30*c;function u(e){const t=(0,o.c)(5);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{future:a}=s,r=void 0!==a&&a,{i18n:i}=(0,n.useLingui)();let l;return t[2]!==r||t[3]!==i?(l=(e,t,s)=>h({diff:m(e,t,r?"up":"down"),i18n:i,format:s?.format}),t[2]=r,t[3]=i,t[4]=l):l=t[4],l}function m(e,t,s="down"){let o={value:0,unit:"now"};const n=new Date(e),u=new Date(t),m=(0,a.default)(u,n);if(m<r)o={value:0,unit:"now"};else if(m<i)o={value:m,unit:"second"};else if(m<l){o={value:"up"===s?Math.ceil(m/i):Math.floor(m/i),unit:"minute"}}else if(m<c){o={value:"up"===s?Math.ceil(m/l):Math.floor(m/l),unit:"hour"}}else if(m<d){o={value:"up"===s?Math.ceil(m/c):Math.floor(m/c),unit:"day"}}else{o={value:"up"===s?Math.ceil(m/d):Math.floor(m/d),unit:"month"}}return Object.assign({},o,{earlier:n,later:u})}function h({diff:e,format:t="short",i18n:s}){const o="long"===t;switch(e.unit){case"now":return s._({id:"YwzE9K"});case"second":return o?s._(s._({id:"RRgNMe",values:{0:e.value}})):s._({values:{0:e.value},id:"NnRCUm"});case"minute":return o?s._(s._({id:"PlVus2",values:{0:e.value}})):s._({values:{0:e.value},id:"ZSWUwq"});case"hour":return o?s._(s._({id:"M4fjIB",values:{0:e.value}})):s._({values:{0:e.value},id:"NSSJsj"});case"day":return o?s._(s._({id:"AqcrQK",values:{0:e.value}})):s._({values:{0:e.value},id:"12WvI9"});case"month":return e.value<12?o?s._(s._({id:"Pvupk0",values:{0:e.value}})):s._({values:{0:e.value},id:"gQ3I5h"}):s.date(new Date(e.earlier))}}},93127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useToggleMutationQueue:()=>a});var o=s(95004);function n(){const e=new Error;return e.name="AbortError",e}function a({initialState:e,runMutation:t,onSuccess:s}){const[a]=(0,o.useState)({activeTask:null,queuedTask:null});function r(o){return new Promise(((r,i)=>{a.queuedTask&&a.queuedTask.reject(new n),a.queuedTask={isOn:o,resolve:r,reject:i},async function(){if(a.activeTask)return;let o=e;try{for(;a.queuedTask;){const e=a.activeTask,s=a.queuedTask;if(a.activeTask=s,a.queuedTask=null,e?.isOn!==s.isOn)try{o=await t(o,s.isOn),s.resolve(o)}catch(r){s.reject(r)}else e.reject(new n)}}finally{s(o),a.activeTask=null,a.queuedTask=null}}()}))}const i=(0,o.useRef)(r);(0,o.useEffect)((()=>{i.current=r}));return(0,o.useCallback)((e=>(0,i.current)(e)),[])}},47741:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useWebMediaQueries:()=>r});var o=s(15991),n=s(76603),a=s(43535);function r(){const e=(0,o.c)(10);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:1300},e[0]=t):t=e[0];const s=(0,n.useMediaQuery)(t);let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:800,maxWidth:1299},e[1]=r):r=e[1];const i=(0,n.useMediaQuery)(r);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={maxWidth:799},e[2]=l):l=e[2];const c=(0,n.useMediaQuery)(l),d=c||i,u=s||i;if(a.IS_NATIVE){let t;return e[3]===Symbol.for("react.memo_cache_sentinel")?(t={isMobile:!0,isTablet:!1,isTabletOrMobile:!0,isTabletOrDesktop:!1,isDesktop:!1},e[3]=t):t=e[3],t}let m;return e[4]!==s||e[5]!==c||e[6]!==i||e[7]!==u||e[8]!==d?(m={isMobile:c,isTablet:i,isTabletOrMobile:d,isTabletOrDesktop:u,isDesktop:s},e[4]=s,e[5]=c,e[6]=i,e[7]=u,e[8]=d,e[9]=m):m=e[9],m}},16006:(e,t,s)=>{"use strict";s.r(t),s.d(t,{isAppPassword:()=>r,isJwtExpired:()=>a});var o=s(6342),n=s(5295);function a(e){try{const t=(0,o.jwtDecode)(e);if(!t.exp)return!0;return Math.floor(Date.now()/1e3)>=t.exp}catch{return n.logger.error("session: could not decode jwt"),!0}}function r(e){return"com.atproto.appPass"===(0,o.jwtDecode)(e).scope}},21258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{LikelyType:()=>i,getLikelyType:()=>c,getLinkMeta:()=>l});var o=s(17110),n=s(70930),a=s(15488),r=s(86731);let i=function(e){return e[e.HTML=0]="HTML",e[e.Text=1]="Text",e[e.Image=2]="Image",e[e.Video=3]="Video",e[e.Audio=4]="Audio",e[e.AtpData=5]="AtpData",e[e.Other=6]="Other",e}({});async function l(e,t,s=15e3){if((0,r.isBskyAppUrl)(t)&&!(0,a.parseStarterPackUri)(t))return{likelyType:i.AtpData,url:t};let l,d=!1;try{l=new URL(t);const e=(0,n.getGiphyMetaUri)(l);e&&(t=e,l=new URL(t)),d="on.soundcloud.com"===l.hostname}catch(g){return{error:"Invalid URL",likelyType:i.Other,url:t}}const u=c(l),m={likelyType:u,url:t},h=["storage.courtlistener.com"].includes(l.hostname);if(u!==i.HTML&&!h)return m;const p=new AbortController,f=setTimeout((()=>p.abort()),s||5e3);try{const s=await fetch(`${(0,o.LINK_META_PROXY)(e.serviceUrl.toString()||"")}${encodeURIComponent(t)}`,{signal:p.signal}),n=await s.json();if(""!==n.error)throw new Error(n.error);m.description=n.description,m.image=n.image,m.title=n.title,d&&(m.url=n.url)}catch(g){m.error=g instanceof Error?g.toString():"Failed to fetch link"}finally{clearTimeout(f)}return m}function c(e){if("string"===typeof e)try{e=new URL(e)}catch(o){return i.Other}const t=e.pathname.split(".").pop()||"";if("html"===t||"htm"===t||"php"===t)return i.HTML;const s=d[t];return s?s.startsWith("text/")?i.Text:s.startsWith("image/")?i.Image:s.startsWith("video/")?i.Video:s.startsWith("audio/")?i.Audio:i.Other:i.HTML}const d={123:"application/vnd.lotus-1-2-3","1km":"application/vnd.1000minds.decision-model+xml","3dml":"text/vnd.in3d.3dml","3ds":"image/x-3ds","3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp","3mf":"model/3mf","7z":"application/x-7z-compressed",aab:"application/x-authorware-bin",aac:"audio/x-aac",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",abw:"application/x-abiword",ac:"application/vnd.nokia.n-gage.ac+xml",acc:"application/vnd.americandynamics.acc",ace:"application/x-ace-compressed",acu:"application/vnd.acucobol",acutc:"application/vnd.acucorp",adp:"audio/adpcm",aep:"application/vnd.audiograph",afm:"application/x-font-type1",afp:"application/vnd.ibm.modcap",age:"application/vnd.age",ahead:"application/vnd.ahead.space",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",air:"application/vnd.adobe.air-application-installer-package+zip",ait:"application/vnd.dvb.ait",ami:"application/vnd.amiga.ami",amr:"audio/amr",apk:"application/vnd.android.package-archive",apng:"image/apng",appcache:"text/cache-manifest",application:"application/x-ms-application",apr:"application/vnd.lotus-approach",arc:"application/x-freearc",arj:"application/x-arj",asc:"application/pgp-signature",asf:"video/x-ms-asf",asm:"text/x-asm",aso:"application/vnd.accpac.simply.aso",asx:"video/x-ms-asf",atc:"application/vnd.acucorp",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",atx:"application/vnd.antix.game-component",au:"audio/basic",avi:"video/x-msvideo",avif:"image/avif",aw:"application/applixware",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azv:"image/vnd.airzip.accelerator.azv",azw:"application/vnd.amazon.ebook",b16:"image/vnd.pco.b16",bat:"application/x-msdownload",bcpio:"application/x-bcpio",bdf:"application/x-font-bdf",bdm:"application/vnd.syncml.dm+wbxml",bdoc:"application/x-bdoc",bed:"application/vnd.realvnc.bed",bh2:"application/vnd.fujitsu.oasysprs",bin:"application/octet-stream",blb:"application/x-blorb",blorb:"application/x-blorb",bmi:"application/vnd.bmi",bmml:"application/vnd.balsamiq.bmml+xml",bmp:"image/x-ms-bmp",book:"application/vnd.framemaker",box:"application/vnd.previewsystems.box",boz:"application/x-bzip2",bpk:"application/octet-stream",bsp:"model/vnd.valve.source.compiled-map",btif:"image/prs.btif",buffer:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",c:"text/x-c",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4g:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",cab:"application/vnd.ms-cab-compressed",caf:"audio/x-caf",cap:"application/vnd.tcpdump.pcap",car:"application/vnd.curl.car",cat:"application/vnd.ms-pki.seccat",cb7:"application/x-cbr",cba:"application/x-cbr",cbr:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cc:"text/x-c",cco:"application/x-cocoa",cct:"application/x-director",ccxml:"application/ccxml+xml",cdbcmsg:"application/vnd.contact.cmsg",cdf:"application/x-netcdf",cdfx:"application/cdfx+xml",cdkey:"application/vnd.mediastation.cdkey",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cdx:"chemical/x-cdx",cdxml:"application/vnd.chemdraw+xml",cdy:"application/vnd.cinderella",cer:"application/pkix-cert",cfs:"application/x-cfs-compressed",cgm:"image/cgm",chat:"application/x-chat",chm:"application/vnd.ms-htmlhelp",chrt:"application/vnd.kde.kchart",cif:"chemical/x-cif",cii:"application/vnd.anser-web-certificate-issue-initiation",cil:"application/vnd.ms-artgalry",cjs:"application/node",cla:"application/vnd.claymore",class:"application/java-vm",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",clkx:"application/vnd.crick.clicker",clp:"application/x-msclip",cmc:"application/vnd.cosmocaller",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",cmp:"application/vnd.yellowriver-custom-menu",cmx:"image/x-cmx",cod:"application/vnd.rim.cod",coffee:"text/coffeescript",com:"application/x-msdownload",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/x-c",cpt:"application/mac-compactpro",crd:"application/x-mscardfile",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",crx:"application/x-chrome-extension",cryptonote:"application/vnd.rig.cryptonote",csh:"application/x-csh",csl:"application/vnd.citationstyles.style+xml",csml:"chemical/x-csml",csp:"application/vnd.commonspace",css:"text/css",cst:"application/x-director",csv:"text/csv",cu:"application/cu-seeme",curl:"text/vnd.curl",cww:"application/prs.cww",cxt:"application/x-director",cxx:"text/x-c",dae:"model/vnd.collada+xml",daf:"application/vnd.mobius.daf",dart:"application/vnd.dart",dataless:"application/vnd.fdsn.seed",davmount:"application/davmount+xml",dbf:"application/vnd.dbf",dbk:"application/docbook+xml",dcr:"application/x-director",dcurl:"text/vnd.curl.dcurl",dd2:"application/vnd.oma.dd2+xml",ddd:"application/vnd.fujixerox.ddd",ddf:"application/vnd.syncml.dmddf+xml",dds:"image/vnd.ms-dds",deb:"application/x-debian-package",def:"text/plain",deploy:"application/octet-stream",der:"application/x-x509-ca-cert",dfac:"application/vnd.dreamfactory",dgc:"application/x-dgc-compressed",dic:"text/x-c",dir:"application/x-director",dis:"application/vnd.mobius.dis","disposition-notification":"message/disposition-notification",dist:"application/octet-stream",distz:"application/octet-stream",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/x-apple-diskimage",dmp:"application/vnd.tcpdump.pcap",dms:"application/octet-stream",dna:"application/vnd.dna",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp",dpg:"application/vnd.dpgraph",dra:"audio/vnd.dra",drle:"image/dicom-rle",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtb:"application/x-dtbook+xml",dtd:"application/xml-dtd",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",dump:"application/octet-stream",dvb:"video/vnd.dvb.file",dvi:"application/x-dvi",dwd:"application/atsc-dwd+xml",dwf:"model/vnd.dwf",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",dxp:"application/vnd.spotfire.dxp",dxr:"application/x-director",ear:"application/java-archive",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",ecma:"application/ecmascript",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",efif:"application/vnd.picsel",ei6:"application/vnd.pg.osasli",elc:"application/octet-stream",emf:"image/emf",eml:"message/rfc822",emma:"application/emma+xml",emotionml:"application/emotionml+xml",emz:"application/x-msmetafile",eol:"audio/vnd.digital-winds",eot:"application/vnd.ms-fontobject",eps:"application/postscript",epub:"application/epub+zip",es:"application/ecmascript",es3:"application/vnd.eszigno3+xml",esa:"application/vnd.osgi.subsystem",esf:"application/vnd.epson.esf",et3:"application/vnd.eszigno3+xml",etx:"text/x-setext",eva:"application/x-eva",evy:"application/x-envoy",exe:"application/x-msdownload",exi:"application/exi",exp:"application/express",exr:"image/aces",ext:"application/vnd.novadigm.ext",ez:"application/andrew-inset",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",f:"text/x-fortran",f4v:"video/x-f4v",f77:"text/x-fortran",f90:"text/x-fortran",fbs:"image/vnd.fastbidsheet",fcdt:"application/vnd.adobe.formscentral.fcdt",fcs:"application/vnd.isac.fcs",fdf:"application/vnd.fdf",fdt:"application/fdt+xml",fe_launch:"application/vnd.denovo.fcselayout-link",fg5:"application/vnd.fujitsu.oasysgp",fgd:"application/x-director",fh:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",fhc:"image/x-freehand",fig:"application/x-xfig",fits:"image/fits",flac:"audio/x-flac",fli:"video/x-fli",flo:"application/vnd.micrografx.flo",flv:"video/x-flv",flw:"application/vnd.kde.kivio",flx:"text/vnd.fmi.flexstor",fly:"text/vnd.fly",fm:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",fo:"application/vnd.software602.filler.form+xml",for:"text/x-fortran",fpx:"image/vnd.fpx",frame:"application/vnd.framemaker",fsc:"application/vnd.fsc.weblaunch",fst:"image/vnd.fst",ftc:"application/vnd.fluxtime.clip",fti:"application/vnd.anser-web-funds-transfer-initiation",fvt:"video/vnd.fvt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",fzs:"application/vnd.fuzzysheet",g2w:"application/vnd.geoplan",g3:"image/g3fax",g3w:"application/vnd.geospace",gac:"application/vnd.groove-account",gam:"application/x-tads",gbr:"application/rpki-ghostbusters",gca:"application/x-gca-compressed",gdl:"model/vnd.gdl",gdoc:"application/vnd.google-apps.document",ged:"text/vnd.familysearch.gedcom",geo:"application/vnd.dynageo",geojson:"application/geo+json",gex:"application/vnd.geometry-explorer",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",ghf:"application/vnd.groove-help",gif:"image/gif",gim:"application/vnd.groove-identity-message",glb:"model/gltf-binary",gltf:"model/gltf+json",gml:"application/gml+xml",gmx:"application/vnd.gmx",gnumeric:"application/x-gnumeric",gph:"application/vnd.flographit",gpx:"application/gpx+xml",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gram:"application/srgs",gramps:"application/x-gramps-xml",gre:"application/vnd.geometry-explorer",grv:"application/vnd.groove-injector",grxml:"application/srgs+xml",gsf:"application/x-font-ghostscript",gsheet:"application/vnd.google-apps.spreadsheet",gslides:"application/vnd.google-apps.presentation",gtar:"application/x-gtar",gtm:"application/vnd.groove-tool-message",gtw:"model/vnd.gtw",gv:"text/vnd.graphviz",gxf:"application/gxf",gxt:"application/vnd.geonext",gz:"application/gzip",h:"text/x-c",h261:"video/h261",h263:"video/h263",h264:"video/h264",hal:"application/vnd.hal+xml",hbci:"application/vnd.hbci",hbs:"text/x-handlebars-template",hdd:"application/x-virtualbox-hdd",hdf:"application/x-hdf",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",held:"application/atsc-held+xml",hh:"text/x-c",hjson:"application/hjson",hlp:"application/winhlp",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",hqx:"application/mac-binhex40",hsj2:"image/hsj2",htc:"text/x-component",htke:"application/vnd.kenameaapp",htm:"text/html",html:"text/html",hvd:"application/vnd.yamaha.hv-dic",hvp:"application/vnd.yamaha.hv-voice",hvs:"application/vnd.yamaha.hv-script",i2g:"application/vnd.intergeo",icc:"application/vnd.iccprofile",ice:"x-conference/x-cooltalk",icm:"application/vnd.iccprofile",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",ifm:"application/vnd.shana.informed.formdata",iges:"model/iges",igl:"application/vnd.igloader",igm:"application/vnd.insors.igm",igs:"model/iges",igx:"application/vnd.micrografx.igx",iif:"application/vnd.shana.informed.interchange",img:"application/octet-stream",imp:"application/vnd.accpac.simply.imp",ims:"application/vnd.ms-ims",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",install:"application/x-install-instructions",iota:"application/vnd.astraea-software.iota",ipfix:"application/ipfix",ipk:"application/vnd.shana.informed.package",irm:"application/vnd.ibm.rights-management",irp:"application/vnd.irepository.package+xml",iso:"application/x-iso9660-image",itp:"application/vnd.shana.informed.formtemplate",its:"application/its+xml",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",jad:"text/vnd.sun.j2me.app-descriptor",jade:"text/jade",jam:"application/vnd.jam",jar:"application/java-archive",jardiff:"application/x-java-archive-diff",java:"text/x-java-source",jhc:"image/jphc",jisp:"application/vnd.jisp",jls:"image/jls",jlt:"application/vnd.hp-jlyt",jng:"image/x-jng",jnlp:"application/x-java-jnlp-file",joda:"application/vnd.joost.joda-archive",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpgm:"video/jpm",jpgv:"video/jpeg",jph:"image/jph",jpm:"video/jpm",jpx:"image/jpx",js:"application/javascript",json:"application/json",json5:"application/json5",jsonld:"application/ld+json",jsonml:"application/jsonml+json",jsx:"text/jsx",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",kar:"audio/midi",karbon:"application/vnd.kde.karbon",kdbx:"application/x-keepass2",key:"application/x-iwork-keynote-sffkey",kfo:"application/vnd.kde.kformula",kia:"application/vnd.kidspiration",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",kne:"application/vnd.kinar",knp:"application/vnd.kinar",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",kpxx:"application/vnd.ds-keypoint",ksp:"application/vnd.kde.kspread",ktr:"application/vnd.kahootz",ktx:"image/ktx",ktx2:"image/ktx2",ktz:"application/vnd.kahootz",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",lasxml:"application/vnd.las.las+xml",latex:"application/x-latex",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",les:"application/vnd.hhe.lesson-player",less:"text/less",lgr:"application/lgr+xml",lha:"application/x-lzh-compressed",link66:"application/vnd.route66.link66+xml",list:"text/plain",list3820:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",litcoffee:"text/coffeescript",lnk:"application/x-ms-shortcut",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",lrm:"application/vnd.ms-lrm",ltf:"application/vnd.frogans.ltf",lua:"text/x-lua",luac:"application/x-lua-bytecode",lvp:"audio/vnd.lucent.voice",lwp:"application/vnd.lotus-wordpro",lzh:"application/x-lzh-compressed",m13:"application/x-msmediaview",m14:"application/x-msmediaview",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m3u:"audio/x-mpegurl",m3u8:"application/vnd.apple.mpegurl",m4a:"audio/x-m4a",m4p:"application/mp4",m4s:"video/iso.segment",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",ma:"application/mathematica",mads:"application/mads+xml",maei:"application/mmt-aei+xml",mag:"application/vnd.ecowin.chart",maker:"application/vnd.framemaker",man:"text/troff",manifest:"text/cache-manifest",map:"application/json",mar:"application/octet-stream",markdown:"text/markdown",mathml:"application/mathml+xml",mb:"application/mathematica",mbk:"application/vnd.mobius.mbk",mbox:"application/mbox",mc1:"application/vnd.medcalcdata",mcd:"application/vnd.mcd",mcurl:"text/vnd.curl.mcurl",md:"text/markdown",mdb:"application/x-msaccess",mdi:"image/vnd.ms-modi",mdx:"text/mdx",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mfm:"application/vnd.mfmp",mft:"application/rpki-manifest",mgp:"application/vnd.osgeo.mapguide.package",mgz:"application/vnd.proteus.magazine",mid:"audio/midi",midi:"audio/midi",mie:"application/x-mie",mif:"application/vnd.mif",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mjs:"application/javascript",mk3d:"video/x-matroska",mka:"audio/x-matroska",mkd:"text/x-markdown",mks:"video/x-matroska",mkv:"video/x-matroska",mlp:"application/vnd.dolby.mlp",mmd:"application/vnd.chipnuts.karaoke-mmd",mmf:"application/vnd.smaf",mml:"text/mathml",mmr:"image/vnd.fujixerox.edmics-mmr",mng:"video/x-mng",mny:"application/x-msmoney",mobi:"application/x-mobipocket-ebook",mods:"application/mods+xml",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpc:"application/vnd.mophun.certificate",mpd:"application/dash+xml",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpkg:"application/vnd.apple.installer+xml",mpm:"application/vnd.blueice.multipass",mpn:"application/vnd.mophun.application",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",mpy:"application/vnd.ibm.minipay",mqy:"application/vnd.mobius.mqy",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",mseed:"application/vnd.fdsn.mseed",mseq:"application/vnd.mseq",msf:"application/vnd.epson.msf",msg:"application/vnd.ms-outlook",msh:"model/mesh",msi:"application/x-msdownload",msl:"application/vnd.mobius.msl",msm:"application/octet-stream",msp:"application/octet-stream",msty:"application/vnd.muvee.style",mtl:"model/mtl",mts:"model/vnd.mts",mus:"application/vnd.musician",musd:"application/mmt-usd+xml",musicxml:"application/vnd.recordare.musicxml+xml",mvb:"application/x-msmediaview",mvt:"application/vnd.mapbox-vector-tile",mwf:"application/vnd.mfer",mxf:"application/mxf",mxl:"application/vnd.recordare.musicxml",mxmf:"audio/mobile-xmf",mxml:"application/xv+xml",mxs:"application/vnd.triscape.mxs",mxu:"video/vnd.mpegurl","n-gage":"application/vnd.nokia.n-gage.symbian.install",n3:"text/n3",nb:"application/mathematica",nbp:"application/vnd.wolfram.player",nc:"application/x-netcdf",ncx:"application/x-dtbncx+xml",nfo:"text/x-nfo",ngdat:"application/vnd.nokia.n-gage.data",nitf:"application/vnd.nitf",nlu:"application/vnd.neurolanguage.nlu",nml:"application/vnd.enliven",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",npx:"image/vnd.net-fpx",nq:"application/n-quads",nsc:"application/x-conference",nsf:"application/vnd.lotus-notes",nt:"application/n-triples",ntf:"application/vnd.nitf",numbers:"application/x-iwork-numbers-sffnumbers",nzb:"application/x-nzb",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",oas:"application/vnd.fujitsu.oasys",obd:"application/x-msbinder",obgx:"application/vnd.openblox.game+xml",obj:"model/obj",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogex:"model/vnd.opengex",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opml:"text/x-opml",oprc:"application/vnd.palm",opus:"audio/ogg",org:"text/x-org",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",osm:"application/vnd.openstreetmap.data+xml",otc:"application/vnd.oasis.opendocument.chart-template",otf:"font/otf",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",oti:"application/vnd.oasis.opendocument.image-template",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",ova:"application/x-virtualbox-ova",ovf:"application/x-virtualbox-ovf",owl:"application/rdf+xml",oxps:"application/oxps",oxt:"application/vnd.openofficeorg.extension",p:"text/x-pascal",p10:"application/pkcs10",p12:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pac:"application/x-ns-proxy-autoconfig",pages:"application/x-iwork-pages-sffpages",pas:"text/x-pascal",paw:"application/vnd.pawaafile",pbd:"application/vnd.powerbuilder6",pbm:"image/x-portable-bitmap",pcap:"application/vnd.tcpdump.pcap",pcf:"application/x-font-pcf",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl",pct:"image/x-pict",pcurl:"application/vnd.curl.pcurl",pcx:"image/x-pcx",pdb:"application/x-pilot",pde:"text/x-processing",pdf:"application/pdf",pem:"application/x-x509-ca-cert",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",pfr:"application/font-tdpfr",pfx:"application/x-pkcs12",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pgp:"application/pgp-encrypted",php:"application/x-httpd-php",pic:"image/x-pict",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pkpass:"application/vnd.apple.pkpass",pl:"application/x-perl",plb:"application/vnd.3gpp.pic-bw-large",plc:"application/vnd.mobius.plc",plf:"application/vnd.pocketlearn",pls:"application/pls+xml",pm:"application/x-perl",pml:"application/vnd.ctc-posml",png:"image/png",pnm:"image/x-portable-anymap",portpkg:"application/vnd.macports.portpkg",pot:"application/vnd.ms-powerpoint",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",ppd:"application/vnd.cups-ppd",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pqa:"application/vnd.palm",prc:"application/x-pilot",pre:"application/vnd.lotus-freelance",prf:"application/pics-rules",provx:"application/provenance+xml",ps:"application/postscript",psb:"application/vnd.3gpp.pic-bw-small",psd:"image/vnd.adobe.photoshop",psf:"application/x-font-linux-psf",pskcxml:"application/pskc+xml",pti:"image/prs.pti",ptid:"application/vnd.pvi.ptid1",pub:"application/x-mspublisher",pvb:"application/vnd.3gpp.pic-bw-var",pwn:"application/vnd.3m.post-it-notes",pya:"audio/vnd.ms-playready.media.pya",pyv:"video/vnd.ms-playready.media.pyv",qam:"application/vnd.epson.quickanime",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",qps:"application/vnd.publishare-delta-tree",qt:"video/quicktime",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",qxd:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",ra:"audio/x-realaudio",ram:"audio/x-pn-realaudio",raml:"application/raml+yaml",rapd:"application/route-apd+xml",rar:"application/x-rar-compressed",ras:"image/x-cmu-raster",rcprofile:"application/vnd.ipunplugged.rcprofile",rdf:"application/rdf+xml",rdz:"application/vnd.data-vision.rdz",relo:"application/p2p-overlay+xml",rep:"application/vnd.businessobjects",res:"application/x-dtbresource+xml",rgb:"image/x-rgb",rif:"application/reginfo+xml",rip:"audio/vnd.rip",ris:"application/x-research-info-systems",rl:"application/resource-lists+xml",rlc:"image/vnd.fujixerox.edmics-rlc",rld:"application/resource-lists-diff+xml",rm:"application/vnd.rn-realmedia",rmi:"audio/midi",rmp:"audio/x-pn-realaudio-plugin",rms:"application/vnd.jcp.javame.midlet-rms",rmvb:"application/vnd.rn-realmedia-vbr",rnc:"application/relax-ng-compact-syntax",rng:"application/xml",roa:"application/rpki-roa",roff:"text/troff",rp9:"application/vnd.cloanto.rp9",rpm:"application/x-redhat-package-manager",rpss:"application/vnd.nokia.radio-presets",rpst:"application/vnd.nokia.radio-preset",rq:"application/sparql-query",rs:"application/rls-services+xml",rsat:"application/atsc-rsat+xml",rsd:"application/rsd+xml",rsheet:"application/urc-ressheet+xml",rss:"application/rss+xml",rtf:"text/rtf",rtx:"text/richtext",run:"application/x-makeself",rusd:"application/route-usd+xml",s:"text/x-asm",s3m:"audio/s3m",saf:"application/vnd.yamaha.smaf-audio",sass:"text/x-sass",sbml:"application/sbml+xml",sc:"application/vnd.ibm.secure-container",scd:"application/x-msschedule",scm:"application/vnd.lotus-screencam",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",scss:"text/x-scss",scurl:"text/vnd.curl.scurl",sda:"application/vnd.stardivision.draw",sdc:"application/vnd.stardivision.calc",sdd:"application/vnd.stardivision.impress",sdkd:"application/vnd.solent.sdkm+xml",sdkm:"application/vnd.solent.sdkm+xml",sdp:"application/sdp",sdw:"application/vnd.stardivision.writer",sea:"application/x-sea",see:"application/vnd.seemail",seed:"application/vnd.fdsn.seed",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation","sfd-hdstx":"application/vnd.hydrostatix.sof-data",sfs:"application/vnd.spotfire.sfs",sfv:"text/x-sfv",sgi:"image/sgi",sgl:"application/vnd.stardivision.writer-global",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",shex:"text/shex",shf:"application/shf+xml",shtml:"text/html",sid:"image/x-mrsid-image",sieve:"application/sieve",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",sit:"application/x-stuffit",sitx:"application/x-stuffitx",siv:"application/sieve",skd:"application/vnd.koan",skm:"application/vnd.koan",skp:"application/vnd.koan",skt:"application/vnd.koan",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",slim:"text/slim",slm:"text/slim",sls:"application/route-s-tsid+xml",slt:"application/vnd.epson.salt",sm:"application/vnd.stepmania.stepchart",smf:"application/vnd.stardivision.math",smi:"application/smil+xml",smil:"application/smil+xml",smv:"video/x-smv",smzip:"application/vnd.stepmania.package",snd:"audio/basic",snf:"application/x-font-snf",so:"application/octet-stream",spc:"application/x-pkcs7-certificates",spdx:"text/spdx",spf:"application/vnd.yamaha.smaf-phrase",spl:"application/x-futuresplash",spot:"text/vnd.in3d.spot",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/x-sql",src:"application/x-wais-source",srt:"application/x-subrip",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",sse:"application/vnd.kodak-descriptor",ssf:"application/vnd.epson.ssf",ssml:"application/ssml+xml",st:"application/vnd.sailingtracker.track",stc:"application/vnd.sun.xml.calc.template",std:"application/vnd.sun.xml.draw.template",stf:"application/vnd.wt.stf",sti:"application/vnd.sun.xml.impress.template",stk:"application/hyperstudio",stl:"model/stl",stpx:"model/step+xml",stpxz:"model/step-xml+zip",stpz:"model/step+zip",str:"application/vnd.pg.format",stw:"application/vnd.sun.xml.writer.template",styl:"text/stylus",stylus:"text/stylus",sub:"text/vnd.dvb.subtitle",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svc:"application/vnd.dvb.service",svd:"application/vnd.svd",svg:"image/svg+xml",svgz:"image/svg+xml",swa:"application/x-director",swf:"application/x-shockwave-flash",swi:"application/vnd.aristanetworks.swi",swidtag:"application/swid+xml",sxc:"application/vnd.sun.xml.calc",sxd:"application/vnd.sun.xml.draw",sxg:"application/vnd.sun.xml.writer.global",sxi:"application/vnd.sun.xml.impress",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",t:"text/troff",t3:"application/x-t3vm-image",t38:"image/t38",taglet:"application/vnd.mynfc",tao:"application/vnd.tao.intent-module-archive",tap:"image/vnd.tencent.tap",tar:"application/x-tar",tcap:"application/vnd.3gpp2.tcap",tcl:"application/x-tcl",td:"application/urc-targetdesc+xml",teacher:"application/vnd.smart.teacher",tei:"application/tei+xml",teicorpus:"application/tei+xml",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tfi:"application/thraud+xml",tfm:"application/x-tex-tfm",tfx:"image/tiff-fx",tga:"image/x-tga",thmx:"application/vnd.ms-officetheme",tif:"image/tiff",tiff:"image/tiff",tk:"application/x-tcl",tmo:"application/vnd.tmobile-livetv",toml:"application/toml",torrent:"application/x-bittorrent",tpl:"application/vnd.groove-tool-template",tpt:"application/vnd.trid.tpt",tr:"text/troff",tra:"application/vnd.trueapp",trig:"application/trig",trm:"application/x-msterminal",ts:"video/mp2t",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"font/collection",ttf:"font/ttf",ttl:"text/turtle",ttml:"application/ttml+xml",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",txd:"application/vnd.genomatix.tuxedo",txf:"application/vnd.mobius.txf",txt:"text/plain",u32:"application/x-authorware-bin",u8dsn:"message/global-delivery-status",u8hdr:"message/global-headers",u8mdn:"message/global-disposition-notification",u8msg:"message/global",ubj:"application/ubjson",udeb:"application/x-debian-package",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",ulx:"application/x-glulx",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",usdz:"model/vnd.usdz+zip",ustar:"application/x-ustar",utz:"application/vnd.uiq.theme",uu:"text/x-uuencode",uva:"audio/vnd.dece.audio",uvd:"application/vnd.dece.data",uvf:"application/vnd.dece.data",uvg:"image/vnd.dece.graphic",uvh:"video/vnd.dece.hd",uvi:"image/vnd.dece.graphic",uvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvt:"application/vnd.dece.ttml+xml",uvu:"video/vnd.uvvu.mp4",uvv:"video/vnd.dece.video",uvva:"audio/vnd.dece.audio",uvvd:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvvg:"image/vnd.dece.graphic",uvvh:"video/vnd.dece.hd",uvvi:"image/vnd.dece.graphic",uvvm:"video/vnd.dece.mobile",uvvp:"video/vnd.dece.pd",uvvs:"video/vnd.dece.sd",uvvt:"application/vnd.dece.ttml+xml",uvvu:"video/vnd.uvvu.mp4",uvvv:"video/vnd.dece.video",uvvx:"application/vnd.dece.unspecified",uvvz:"application/vnd.dece.zip",uvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",vbox:"application/x-virtualbox-vbox","vbox-extpack":"application/x-virtualbox-vbox-extpack",vcard:"text/vcard",vcd:"application/x-cdlink",vcf:"text/x-vcard",vcg:"application/vnd.groove-vcard",vcs:"text/x-vcalendar",vcx:"application/vnd.vcx",vdi:"application/x-virtualbox-vdi",vds:"model/vnd.sap.vds",vhd:"application/x-virtualbox-vhd",vis:"application/vnd.visionary",viv:"video/vnd.vivo",vmdk:"application/x-virtualbox-vmdk",vob:"video/x-ms-vob",vor:"application/vnd.stardivision.writer",vox:"application/x-authorware-bin",vrml:"model/vrml",vsd:"application/vnd.visio",vsf:"application/vnd.vsf",vss:"application/vnd.visio",vst:"application/vnd.visio",vsw:"application/vnd.visio",vtf:"image/vnd.valve.source.texture",vtt:"text/vtt",vtu:"model/vnd.vtu",vxml:"application/voicexml+xml",w3d:"application/x-director",wad:"application/x-doom",wadl:"application/vnd.sun.wadl+xml",war:"application/java-archive",wasm:"application/wasm",wav:"audio/x-wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wbs:"application/vnd.criticaltools.wbs+xml",wbxml:"application/vnd.wap.wbxml",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wdp:"image/vnd.ms-photo",weba:"audio/webm",webapp:"application/x-web-app-manifest+json",webm:"video/webm",webmanifest:"application/manifest+json",webp:"image/webp",wg:"application/vnd.pmi.widget",wgt:"application/widget",wks:"application/vnd.ms-works",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wmf:"image/wmf",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-msmetafile",woff:"font/woff",woff2:"font/woff2",wpd:"application/vnd.wordperfect",wpl:"application/vnd.ms-wpl",wps:"application/vnd.ms-works",wqd:"application/vnd.wqd",wri:"application/x-mswrite",wrl:"model/vrml",wsc:"message/vnd.wfa.wsc",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",wtb:"application/vnd.webturbo",wvx:"video/x-ms-wvx",x32:"application/x-authorware-bin",x3d:"model/x3d+xml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",x_b:"model/vnd.parasolid.transmit.binary",x_t:"model/vnd.parasolid.transmit.text",xaml:"application/xaml+xml",xap:"application/x-silverlight-app",xar:"application/vnd.xara",xav:"application/xcap-att+xml",xbap:"application/x-ms-xbap",xbd:"application/vnd.fujixerox.docuworks.binder",xbm:"image/x-xbitmap",xca:"application/xcap-caps+xml",xcs:"application/calendar+xml",xdf:"application/xcap-diff+xml",xdm:"application/vnd.syncml.dm+xml",xdp:"application/vnd.adobe.xdp+xml",xdssc:"application/dssc+xml",xdw:"application/vnd.fujixerox.docuworks",xel:"application/xcap-el+xml",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/vnd.adobe.xfdf",xfdl:"application/vnd.xfdl",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xif:"image/vnd.xiff",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",xm:"audio/xm",xml:"text/xml",xns:"application/xcap-ns+xml",xo:"application/vnd.olpc-sugar",xop:"application/xop+xml",xpi:"application/x-xpinstall",xpl:"application/xproc+xml",xpm:"image/x-xpixmap",xpr:"application/vnd.is-xpr",xps:"application/vnd.ms-xpsdocument",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",xsd:"application/xml",xsl:"application/xslt+xml",xslt:"application/xslt+xml",xsm:"application/vnd.syncml+xml",xspf:"application/xspf+xml",xul:"application/vnd.mozilla.xul+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",xz:"application/x-xz",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",ymp:"text/x-suse-ymp",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",zaz:"application/vnd.zzazz.deck+xml",zip:"application/zip",zir:"application/vnd.zul",zirz:"application/vnd.zul",zmm:"application/vnd.handheld-entertainment+xml"}},94963:(e,t,s)=>{"use strict";s.r(t),s.d(t,{resolveShortLink:()=>n});var o=s(5295);async function n(e){const t=new AbortController,s=setTimeout((()=>t.abort()),2e3);try{const s=await fetch(e,{method:"GET",headers:{Accept:"application/json"},signal:t.signal});if(200!==s.status)return o.logger.error("Failed to resolve short link",{status:s.status}),e;return(await s.json()).url}catch(n){return o.logger.error("Failed to resolve short link",{safeMessage:n}),e}finally{clearTimeout(s)}}},37879:(e,t,s)=>{"use strict";s.r(t),s.d(t,{compressIfNeeded:()=>n,downloadAndResize:()=>a,getImageDim:()=>l,safeDeleteAsync:()=>m,saveBytesToDisk:()=>u,saveImageToMediaLibrary:()=>i,shareImageModal:()=>r});var o=s(21059);async function n(e,t){return e.size<t?e:await c(e.path,{width:e.width,height:e.height,mode:"stretch",maxSize:t})}async function a(e){const t=new AbortController,s=setTimeout((()=>t.abort()),e.timeout||5e3),n=await fetch(e.uri),a=await n.blob();clearTimeout(s);const r=await(0,o.blobToDataUri)(a);return await c(r,e)}async function r(e){throw new Error("TODO")}async function i(e){throw new Error("TODO")}async function l(e){var t=document.createElement("img");const s=new Promise(((e,s)=>{t.onload=e,t.onerror=s}));return t.src=e,await s,{width:t.width,height:t.height}}async function c(e,t){let s,n=0,a=101;for(;a-n>1;){const r=Math.round((a+n)/2),i=await d(e,{width:t.width,height:t.height,quality:r/100,mode:t.mode});(0,o.getDataUriSize)(i)<t.maxSize?(n=r,s=i):a=r}if(!s)throw new Error("Failed to compress image");return{path:s,mime:"image/jpeg",size:(0,o.getDataUriSize)(s),width:t.width,height:t.height}}function d(e,{width:t,height:s,quality:o,mode:n}){return new Promise(((a,r)=>{const i=document.createElement("img");i.addEventListener("load",(()=>{const e=document.createElement("canvas"),l=e.getContext("2d");if(!l)return r(new Error("Failed to resize image"));let c=1;"cover"===n?c=i.width<i.height?t/i.width:s/i.height:"contain"===n&&(c=i.width>i.height?t/i.width:s/i.height);let d=i.width*c,u=i.height*c;e.width=d,e.height=u,l.drawImage(i,0,0,d,u),a(e.toDataURL("image/jpeg",o))})),i.addEventListener("error",(e=>{r(e.error)})),i.src=e}))}async function u(e,t,s){const o=new Blob([t],{type:s}),n=URL.createObjectURL(o);return await async function(e,t){const s=document.createElement("a");s.href=e,s.download=t,s.click()}(n,e),setTimeout((()=>URL.revokeObjectURL(n)),100),!0}async function m(){}},90060:(e,t,s)=>{"use strict";s.r(t),s.d(t,{openCamera:()=>m,openCropper:()=>h,openPicker:()=>d,openUnifiedPicker:()=>u});var o=s(17789),n=s(63911),a=s(75443),r=s(70341),i=s(43535),l=s(17110),c=s(21059);async function d(e){return((await(0,n.launchImageLibraryAsync)(Object.assign({exif:!1,mediaTypes:["images"],quality:1,selectionLimit:1},e,{legacy:!0,preferredAssetRepresentationMode:a.UIImagePickerPreferredAssetRepresentationMode.Automatic}))).assets??[]).filter((e=>!!e.mimeType?.startsWith("image/")||(r.show(o.i18n._({id:"bY3uS9"}),"exclamation-circle"),!1))).map((e=>({mime:e.mimeType||"image/jpeg",height:e.height,width:e.width,path:e.uri,size:(0,c.getDataUriSize)(e.uri)})))}async function u({selectionCountRemaining:e}){return await(0,n.launchImageLibraryAsync)({exif:!1,mediaTypes:["images","videos"],quality:1,allowsMultipleSelection:!0,legacy:!0,base64:i.IS_WEB,selectionLimit:i.IS_IOS?e:void 0,preferredAssetRepresentationMode:a.UIImagePickerPreferredAssetRepresentationMode.Automatic,videoMaxDuration:l.VIDEO_MAX_DURATION_MS/1e3})}async function m(e){throw new Error("openCamera is not supported on web")}async function h(e){throw new Error("openCropper is not supported on web. Use EditImageDialog instead.")}},21059:(e,t,s)=>{"use strict";function o(e){return e.substring(e.indexOf(":")+1,e.indexOf(";"))}function n(e){return Math.round(3*e.length/4)}function a(e){return/\.(jpg|jpeg|png|webp).*$/.test(e)}function r(e){return new Promise(((t,s)=>{const o=new FileReader;o.onloadend=()=>{"string"===typeof o.result?t(o.result):s(new Error("Failed to read blob"))},o.onerror=s,o.readAsDataURL(e)}))}s.r(t),s.d(t,{blobToDataUri:()=>r,extractDataUriMime:()=>o,getDataUriSize:()=>n,isUriImage:()=>a})},52621:(e,t,s)=>{"use strict";function o(e){return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}s.r(t),s.d(t,{mergeRefs:()=>o})},44959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ADULT_CONTENT_LABELS:()=>i,OTHER_SELF_LABELS:()=>l,SELF_LABELS:()=>c,getLabelingServiceTitle:()=>p,getModerationCauseKey:()=>d,isAppLabeler:()=>g,isJustAMute:()=>u,isLabelerSubscribed:()=>x,labelIsHideableOffense:()=>h,lookupLabelValueDefinition:()=>f,moduiContainsHideableOffense:()=>m,unique:()=>y,useLabelSubject:()=>_});var o=s(95004),n=s(66949),a=s(21605),r=s(56947);const i=["sexual","nudity","porn"],l=["graphic-media"],c=[...i,...l];function d(e){const t="labeler"===e.source.type?e.source.did:"list"===e.source.type?e.source.list.uri:"user";return"label"===e.type?`label:${e.label.val}:${t}`:`${e.type}:${t}`}function u(e){return 1===e.filters.length&&"muted"===e.filters[0].type}function m(e){const t=e.filters.at(0);return!(!t||"label"!==t.type)&&h(t.label)}function h(e){return["!hide","!takedown"].includes(e.val)}function p({displayName:e,handle:t}){return e?(0,a.sanitizeDisplayName)(e):(0,r.sanitizeHandle)(t,"@")}function f(e,t){let s;return!e.startsWith("!")&&t&&(s=t.find((t=>t.identifier===e))),s||(s=n.LABELS[e]),s}function g(e){return"string"===typeof e?n.BskyAgent.appLabelers.includes(e):n.BskyAgent.appLabelers.includes(e.creator.did)}function x(e,t){return!!g(e="string"===typeof e?e:e.creator.did)||t.prefs.labelers.find((t=>t.did===e))}function _({label:e}){return o.useMemo((()=>{const{cid:t,uri:s}=e;return t?{subject:{uri:s,cid:t}}:{subject:{did:s}}}),[e])}function y(e,t,s){return s.findIndex((t=>d(t)===d(e)))===t}},71286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useGlobalLabelStrings:()=>a});var o=s(15991),n=(s(95004),s(96963));function a(){const e=(0,o.c)(65),{_:t}=(0,n.useLingui)();let s,a,r,i,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,S,w,T,k,C,I;return e[0]!==t?(s=t({id:"RE+sBv"}),e[0]=t,e[1]=s):s=e[1],e[2]!==t?(a=t({id:"zWuq9T"}),e[2]=t,e[3]=a):a=e[3],e[4]!==s||e[5]!==a?(r={name:s,description:a},e[4]=s,e[5]=a,e[6]=r):r=e[6],e[7]!==t?(i=t({id:"cogwXi"}),e[7]=t,e[8]=i):i=e[8],e[9]!==t?(l=t({id:"xHI5tj"}),e[9]=t,e[10]=l):l=e[10],e[11]!==i||e[12]!==l?(c={name:i,description:l},e[11]=i,e[12]=l,e[13]=c):c=e[13],e[14]!==t?(d=t({id:"E47zv9"}),e[14]=t,e[15]=d):d=e[15],e[16]!==t?(u=t({id:"xZrTqU"}),e[16]=t,e[17]=u):u=e[17],e[18]!==d||e[19]!==u?(m={name:d,description:u},e[18]=d,e[19]=u,e[20]=m):m=e[20],e[21]!==t?(h=t({id:"qLa52r"}),e[21]=t,e[22]=h):h=e[22],e[23]!==t?(p=t({id:"3AWcLc"}),e[23]=t,e[24]=p):p=e[24],e[25]!==p||e[26]!==h?(f={name:h,description:p},e[25]=p,e[26]=h,e[27]=f):f=e[27],e[28]!==t?(g=t({id:"B3mEYD"}),e[28]=t,e[29]=g):g=e[29],e[30]!==t?(x=t({id:"jGgeSD"}),e[30]=t,e[31]=x):x=e[31],e[32]!==g||e[33]!==x?(_={name:g,description:x},e[32]=g,e[33]=x,e[34]=_):_=e[34],e[35]!==t?(y=t({id:"KfIHmH"}),e[35]=t,e[36]=y):y=e[36],e[37]!==t?(b=t({id:"Pgp8XV"}),e[37]=t,e[38]=b):b=e[38],e[39]!==y||e[40]!==b?(j={name:y,description:b},e[39]=y,e[40]=b,e[41]=j):j=e[41],e[42]!==t?(v=t({id:"ZsLyQG"}),e[42]=t,e[43]=v):v=e[43],e[44]!==t?(S=t({id:"S/aR6+"}),e[44]=t,e[45]=S):S=e[45],e[46]!==v||e[47]!==S?(w={name:v,description:S},e[46]=v,e[47]=S,e[48]=w):w=e[48],e[49]!==t?(T=t({id:"ZsLyQG"}),e[49]=t,e[50]=T):T=e[50],e[51]!==t?(k=t({id:"S/aR6+"}),e[51]=t,e[52]=k):k=e[52],e[53]!==T||e[54]!==k?(C={name:T,description:k},e[53]=T,e[54]=k,e[55]=C):C=e[55],e[56]!==f||e[57]!==_||e[58]!==j||e[59]!==r||e[60]!==w||e[61]!==C||e[62]!==c||e[63]!==m?(I={"!hide":r,"!warn":c,"!no-unauthenticated":m,porn:f,sexual:_,nudity:j,"graphic-media":w,gore:C},e[56]=f,e[57]=_,e[58]=j,e[59]=r,e[60]=w,e[61]=C,e[62]=c,e[63]=m,e[64]=I):I=e[64],I}},51158:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getDefinition:()=>d,getLabelStrings:()=>u,useLabelInfo:()=>c});var o=s(15991),n=s(66949),a=s(96963),r=s(78168),i=s(71286),l=s(28654);function c(e){const t=(0,o.c)(17),{i18n:s}=(0,a.useLingui)(),{labelDefs:n,labelers:r}=(0,l.useLabelDefinitions)(),c=(0,i.useGlobalLabelStrings)();let m,h,p,f,g;if(t[0]!==c||t[1]!==s.locale||t[2]!==e||t[3]!==n){const o=d(n,e);m=e,h=o,p=u(s.locale,c,o),t[0]=c,t[1]=s.locale,t[2]=e,t[3]=n,t[4]=m,t[5]=h,t[6]=p}else m=t[4],h=t[5],p=t[6];if(t[7]!==e||t[8]!==r){let s;t[10]!==e?(s=t=>e.src===t.creator.did,t[10]=e,t[11]=s):s=t[11],f=r.find(s),t[7]=e,t[8]=r,t[9]=f}else f=t[9];return t[12]!==m||t[13]!==h||t[14]!==p||t[15]!==f?(g={label:m,def:h,strings:p,labeler:f},t[12]=m,t[13]=h,t[14]=p,t[15]=f,t[16]=g):g=t[16],g}function d(e,t){const s=!t.val.startsWith("!")&&e[t.src]?.find((e=>e.identifier===t.val&&e.definedBy===t.src));if(s)return s;const o=n.LABELS[t.val];return o||(0,n.interpretLabelValueDefinition)({identifier:t.val,severity:"none",blurs:"none",defaultSetting:"ignore",locales:[]},t.src)}function u(e,t,s){if(s.definedBy){const t=s.locales.find((t=>r.basicFilter(e,t.lang).length>0));if(t)return t;if(s.locales[0])return s.locales[0]}else if(s.identifier in t)return t[s.identifier];return{lang:e,name:s.identifier,description:`Labeled "${s.identifier}"`}}},58921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useModerationCauseDescription:()=>f});var o=s(15991),n=(s(95004),s(66949)),a=s(96963),r=s(56947),i=s(28654),l=s(97154),c=s(38906),d=s(8347),u=s(34283),m=s(29596),h=s(71286),p=s(51158);function f(e){const t=(0,o.c)(109),{currentAccount:s}=(0,l.useSession)(),{_:f,i18n:g}=(0,a.useLingui)(),{labelDefs:x,labelers:_}=(0,i.useLabelDefinitions)(),y=(0,h.useGlobalLabelStrings)();let b;s?.did;e:{if(!e){let e,s,o;t[0]!==f?(e=f({id:"cogwXi"}),t[0]=f,t[1]=e):e=t[1],t[2]!==f?(s=f({id:"/JIU0q"}),t[2]=f,t[3]=s):s=t[3],t[4]!==e||t[5]!==s?(o={icon:m.Warning_Stroke2_Corner0_Rounded,name:e,description:s},t[4]=e,t[5]=s,t[6]=o):o=t[6],b=o;break e}if("blocking"===e.type){if("list"===e.source.type){let s,o,n;t[7]!==f||t[8]!==e.source.list.name?(s=f({id:"XRYkiw",values:{0:e.source.list.name}}),t[7]=f,t[8]=e.source.list.name,t[9]=s):s=t[9],t[10]!==f?(o=f({id:"FeSOdc"}),t[10]=f,t[11]=o):o=t[11],t[12]!==s||t[13]!==o?(n={icon:c.CircleBanSign_Stroke2_Corner0_Rounded,name:s,description:o},t[12]=s,t[13]=o,t[14]=n):n=t[14],b=n;break e}{let e,s,o;t[15]!==f?(e=f({id:"wMB857"}),t[15]=f,t[16]=e):e=t[16],t[17]!==f?(s=f({id:"FeSOdc"}),t[17]=f,t[18]=s):s=t[18],t[19]!==e||t[20]!==s?(o={icon:c.CircleBanSign_Stroke2_Corner0_Rounded,name:e,description:s},t[19]=e,t[20]=s,t[21]=o):o=t[21],b=o;break e}}if("blocked-by"===e.type){let e,s,o;t[22]!==f?(e=f({id:"/DuNMH"}),t[22]=f,t[23]=e):e=t[23],t[24]!==f?(s=f({id:"BjkKZ0"}),t[24]=f,t[25]=s):s=t[25],t[26]!==e||t[27]!==s?(o={icon:c.CircleBanSign_Stroke2_Corner0_Rounded,name:e,description:s},t[26]=e,t[27]=s,t[28]=o):o=t[28],b=o;break e}if("block-other"===e.type){let e,s,o;t[29]!==f?(e=f({id:"HBDEKd"}),t[29]=f,t[30]=e):e=t[30],t[31]!==f?(s=f({id:"cBqxeK"}),t[31]=f,t[32]=s):s=t[32],t[33]!==e||t[34]!==s?(o={icon:c.CircleBanSign_Stroke2_Corner0_Rounded,name:e,description:s},t[33]=e,t[34]=s,t[35]=o):o=t[35],b=o;break e}if("muted"===e.type){if("list"===e.source.type){let s,o,n;t[36]!==f||t[37]!==e.source.list.name?(s=f({id:"gwDDr8",values:{0:e.source.list.name}}),t[36]=f,t[37]=e.source.list.name,t[38]=s):s=t[38],t[39]!==f?(o=f({id:"sjjnqy"}),t[39]=f,t[40]=o):o=t[40],t[41]!==s||t[42]!==o?(n={icon:u.EyeSlash_Stroke2_Corner0_Rounded,name:s,description:o},t[41]=s,t[42]=o,t[43]=n):n=t[43],b=n;break e}{let e,s,o;t[44]!==f?(e=f({id:"I8EmWz"}),t[44]=f,t[45]=e):e=t[45],t[46]!==f?(s=f({id:"Kq0hBn"}),t[46]=f,t[47]=s):s=t[47],t[48]!==e||t[49]!==s?(o={icon:u.EyeSlash_Stroke2_Corner0_Rounded,name:e,description:s},t[48]=e,t[49]=s,t[50]=o):o=t[50],b=o;break e}}if("mute-word"===e.type){let e,s,o;t[51]!==f?(e=f({id:"CExsTg"}),t[51]=f,t[52]=e):e=t[52],t[53]!==f?(s=f({id:"/ZtAb1"}),t[53]=f,t[54]=s):s=t[54],t[55]!==e||t[56]!==s?(o={icon:u.EyeSlash_Stroke2_Corner0_Rounded,name:e,description:s},t[55]=e,t[56]=s,t[57]=o):o=t[57],b=o;break e}if("hidden"===e.type){let e,s,o;t[58]!==f?(e=f({id:"6kYq90"}),t[58]=f,t[59]=e):e=t[59],t[60]!==f?(s=f({id:"ywHgpM"}),t[60]=f,t[61]=s):s=t[61],t[62]!==e||t[63]!==s?(o={icon:u.EyeSlash_Stroke2_Corner0_Rounded,name:e,description:s},t[62]=e,t[63]=s,t[64]=o):o=t[64],b=o;break e}if("reply-hidden"===e.type){const o=s?.did===e.source.did;let n,a,r;t[65]!==f||t[66]!==o?(n=f(o?{id:"gMTJRO"}:{id:"rozEm8"}),t[65]=f,t[66]=o,t[67]=n):n=t[67],t[68]!==f||t[69]!==o?(a=f(o?{id:"9VFY8v"}:{id:"GeCOUK"}),t[68]=f,t[69]=o,t[70]=a):a=t[70],t[71]!==n||t[72]!==a?(r={icon:u.EyeSlash_Stroke2_Corner0_Rounded,name:n,description:a},t[71]=n,t[72]=a,t[73]=r):r=t[73],b=r;break e}if("label"===e.type){let s,o,a,i,l;if(t[74]!==f||t[75]!==e.label||t[76]!==e.labelDef||t[77]!==y||t[78]!==g.locale||t[79]!==x||t[80]!==_){let c;if(s=e.labelDef||(0,p.getDefinition)(x,e.label),l=(0,p.getLabelStrings)(g.locale,y,s),t[86]!==e.label.src||t[87]!==_){let s;t[90]!==e.label.src?(s=t=>t.creator.did===e.label.src,t[90]=e.label.src,t[91]=s):s=t[91],o=_.find(s),c=o?(0,r.sanitizeHandle)(o.creator.handle,"@"):void 0,t[86]=e.label.src,t[87]=_,t[88]=o,t[89]=c}else o=t[88],c=t[89];if(a=c,i=o?.creator.displayName,!a)if(e.label.src===n.BSKY_LABELER_DID)a="moderation.bsky.app",i="Bluesky Moderation Service";else{let e;t[92]!==f?(e=f({id:"M6H7xo"}),t[92]=f,t[93]=e):e=t[93],a=e}if("porn"===s.identifier||"sexual"===s.identifier){let e;t[94]!==f?(e=f({id:"qLa52r"}),t[94]=f,t[95]=e):e=t[95],l.name=e}t[74]=f,t[75]=e.label,t[76]=e.labelDef,t[77]=y,t[78]=g.locale,t[79]=x,t[80]=_,t[81]=s,t[82]=o,t[83]=a,t[84]=i,t[85]=l}else s=t[81],o=t[82],a=t[83],i=t[84],l=t[85];const c="!no-unauthenticated"===s.identifier?u.EyeSlash_Stroke2_Corner0_Rounded:"alert"===s.severity?m.Warning_Stroke2_Corner0_Rounded:d.CircleInfo_Stroke2_Corner0_Rounded,h=l.name,j=l.description,v=a,S=i,w=e.source.type,T=o?.creator.avatar,k=e.label.src;let C,I;t[96]!==e.label.uri?(C=e.label.uri.startsWith("did:"),t[96]=e.label.uri,t[97]=C):C=t[97],t[98]!==e.label.src||t[99]!==e.source.type||t[100]!==a||t[101]!==i||t[102]!==l.description||t[103]!==l.name||t[104]!==c||t[105]!==T||t[106]!==C?(I={icon:c,name:h,description:j,source:v,sourceDisplayName:S,sourceType:w,sourceAvi:T,sourceDid:k,isSubjectAccount:C},t[98]=e.label.src,t[99]=e.source.type,t[100]=a,t[101]=i,t[102]=l.description,t[103]=l.name,t[104]=c,t[105]=T,t[106]=C,t[107]=I):I=t[107],b=I;break e}let o;t[108]===Symbol.for("react.memo_cache_sentinel")?(o={icon:d.CircleInfo_Stroke2_Corner0_Rounded,name:"",description:""},t[108]=o):o=t[108],b=o}return b}},59786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{decrementBadgeCount:()=>k,resetBadgeCount:()=>C,unregisterPushToken:()=>I,useGetAndRegisterPushToken:()=>S,useNotificationsRegistration:()=>w,useRegisterPushToken:()=>j,useRequestNotificationsPermission:()=>T});var o=s(15991),n=s(95004),a=s(41003),r=s(68409),i=s(66581),l=s(97737),c=s(1493),d=s(73432),u=s.n(d),m=s(17110),h=s(27321),p=s(98285),f=s(97154);const g=s(27418).BackgroundNotificationHandler;var x=s(8103),_=s(33703),y=s(43535);const b=u()((async function({agent:e,currentAccount:t,token:s,extra:o={}}){try{const n={serviceDid:t.service?.includes("staging")?m.PUBLIC_STAGING_APPVIEW_DID:m.PUBLIC_APPVIEW_DID,platform:"web",token:s.data,appId:"xyz.blueskyweb.app",ageRestricted:o.ageRestricted??!1};h.logger.debug("registerPushToken: registering",Object.assign({},n)),await e.app.bsky.notification.registerPush(n,{headers:m.BLUESKY_NOTIF_SERVICE_HEADERS}),h.logger.debug("registerPushToken: success")}catch(n){(0,p.isNetworkError)(n)||h.logger.error("registerPushToken: failed",{safeMessage:n})}}),100);function j(){const e=(0,o.c)(3),t=(0,f.useAgent)(),{currentAccount:s}=(0,f.useSession)();let n;return e[0]!==t||e[1]!==s?(n=e=>{const{token:o,isAgeRestricted:n}=e;if(s)return b({agent:t,currentAccount:s,token:o,extra:{ageRestricted:n}})},e[0]=t,e[1]=s,e[2]=n):n=e[2],n}async function v(){const e=(await a.getPermissionsAsync()).granted;if(h.logger.debug("getPushToken",{granted:e}),e)return r.default()}function S(){const e=(0,o.c)(3),t=(0,x.useAgeAssurance)(),s=j();let n;return e[0]!==t||e[1]!==s?(n=async e=>{const{isAgeRestricted:o}=void 0===e?{}:e;if(!y.IS_NATIVE||y.IS_DEV)return;const n=await v();return h.logger.debug("useGetAndRegisterPushToken",{token:n??"undefined"}),n&&s({token:n,isAgeRestricted:o??t.state.access!==t.Access.Full}),n},e[0]=t,e[1]=s,e[2]=n):n=e[2],n}function w(){const e=(0,o.c)(6),{currentAccount:t}=(0,f.useSession)(),s=j(),a=S(),r=(0,x.useAgeAssurance)();let l,c;e[0]!==r||e[1]!==t||e[2]!==a||e[3]!==s?(l=()=>{if(!t)return;h.logger.debug("useNotificationsRegistration"),a();const e=i.addPushTokenListener((async e=>{s({token:e,isAgeRestricted:r.state.access!==r.Access.Full}),h.logger.debug("addPushTokenListener callback",{token:e})}));return()=>{e.remove()}},c=[t,a,s,r],e[0]=r,e[1]=t,e[2]=a,e[3]=s,e[4]=l,e[5]=c):(l=e[4],c=e[5]),(0,n.useEffect)(l,c)}function T(){const e=(0,o.c)(4),t=(0,_.useAnalytics)(),{currentAccount:s}=(0,f.useSession)(),n=S();let r;return e[0]!==t||e[1]!==s||e[2]!==n?(r=async e=>{const o=await a.getPermissionsAsync();if(!y.IS_NATIVE||"granted"===o?.status||"denied"===o?.status&&!o.canAskAgain)return;if("AfterOnboarding"===e)return;if("Home"===e&&!s)return;const r=await a.requestPermissionsAsync();t.metric("notifications:request",{context:e,status:r.status}),r.granted&&(s?n():v())},e[0]=t,e[1]=s,e[2]=n,e[3]=r):r=e[3],r}async function k(e){if(!y.IS_NATIVE)return;let t=await(0,l.default)();t-=e,t<0&&(t=0),await g.setBadgeCountAsync(t),await(0,c.default)(t)}async function C(){await g.setBadgeCountAsync(0),await(0,c.default)(0)}async function I(e){if(y.IS_NATIVE)try{const t=await v();if(t)for(const s of e)await s.app.bsky.notification.unregisterPush({serviceDid:s.serviceUrl.hostname.includes("staging")?m.PUBLIC_STAGING_APPVIEW_DID:m.PUBLIC_APPVIEW_DID,platform:"web",token:t.data,appId:"xyz.blueskyweb.app"},{headers:m.BLUESKY_NOTIF_SERVICE_HEADERS}),h.logger.debug(`Push token unregistered for ${s.session?.handle}`);else h.logger.debug("Tried to unregister push token, but could not find one")}catch(t){h.logger.debug("Failed to unregister push token",{message:t})}}},27321:(e,t,s)=>{"use strict";s.r(t),s.d(t,{logger:()=>n});var o=s(5295);const n=o.Logger.create(o.Logger.Context.Notifications)},7150:(e,t,s)=>{"use strict";s.r(t),s.d(t,{callOnce:()=>a,useCallOnce:()=>r});var o=s(15991),n=s(95004);function a(){let e=!1;return function(t){e||(e=!0,t())}}function r(e){const t=(0,o.c)(2),s=(0,n.useRef)(!1);let a;return t[0]!==e?(a=t=>{s.current||(s.current=!0,t?t():e&&e())},t[0]=e,t[1]=a):a=t[1],a}},34638:(e,t,s)=>{"use strict";function o(e){return e.startsWith("bluesky://")&&!e.startsWith("bluesky:///")&&(e=e.replace("bluesky://","bluesky:///")),new URL(e)}s.r(t),s.d(t,{parseLinkingUrl:()=>o})},33927:(e,t,s)=>{"use strict";s.r(t),s.d(t,{clearPersistedQueryStorage:()=>i,createPersistedQueryStorage:()=>r});var o=s(35407);function n({id:e}){const t=(0,o.createStore)(e,e);return{get:e=>(0,o.get)(e,t),set:(e,s)=>(0,o.set)(e,s,t),delete:e=>(0,o.del)(e,t),clear:()=>(0,o.clear)(t)}}function a(e){return`react-query-cache-${e}`}function r(e){const t=n({id:a(e)});return{getItem:async e=>await t.get(e)??null,setItem:async(e,s)=>{await t.set(e,s)},removeItem:async e=>{await t.delete(e)}}}async function i(e){const t=n({id:a(e)});await t.clear()}},35938:(e,t,s)=>{"use strict";s.r(t),s.d(t,{makeCustomFeedLink:()=>r,makeListLink:()=>i,makeProfileLink:()=>a,makeSearchLink:()=>c,makeStarterPackLink:()=>d,makeTagLink:()=>l});var o=s(66949),n=s(56947);function a(e,...t){let s=e.did;return e.handle&&!(0,n.isInvalidHandle)(e.handle)&&(s=e.handle),["/profile",s,...t].join("/")}function r(e,t,s,o){return["/profile",e,"feed",t,...s?[s]:[]].join("/")+(o?`?feedCacheKey=${encodeURIComponent(o)}`:"")}function i(e,t,...s){return["/profile",e,"lists",t,...s].join("/")}function l(e){return`/search?q=${encodeURIComponent(e)}`}function c(e){return`/search?q=${encodeURIComponent(e.query+(e.from?` from:${e.from}`:""))}`}function d(e,t){if("string"===typeof e)return`https://bsky.app/start/${e}/${t}`;{const t=new o.AtUri(e.uri).rkey;return`https://bsky.app/start/${e.creator.handle}/${t}`}}},64855:(e,t,s)=>{"use strict";s.r(t),s.d(t,{shareText:()=>c,shareUrl:()=>l});var o=s(17789),n=s(37370),a=s(44278),r=s(70341),i=s(43535);async function l(e){i.IS_ANDROID?await n.default.share({message:e}):i.IS_IOS?await n.default.share({url:e}):((0,a.setStringAsync)(e),r.show(o.i18n._({id:"FxVG/l"}),"clipboard-check"))}async function c(e){i.IS_ANDROID||i.IS_IOS?await n.default.share({message:e}):(await(0,a.setStringAsync)(e),r.show(o.i18n._({id:"FxVG/l"}),"clipboard-check"))}},40228:(e,t,s)=>{"use strict";s.r(t),s.d(t,{forceLTR:()=>a});const o="\u202a",n="\u202c";function a(e){return o+e+n}},84008:(e,t,s)=>{"use strict";s.r(t),s.d(t,{NON_BREAKING_SPACE:()=>o});const o="\xa0"},21605:(e,t,s)=>{"use strict";s.r(t),s.d(t,{combinedDisplayName:()=>i,sanitizeDisplayName:()=>r});const o=/[\u2705\u2713\u2714\u2611]/gu,n=/[\u0000-\u001F\u007F-\u009F\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,a=/[\s][\s\u200B]+/g;function r(e,t){return t?.blur?"":"string"===typeof e?e.replace(o,"").replace(n,"").replace(a," ").trim():""}function i({handle:e,displayName:t}){return e?t?`${r(t)} (@${e})`:`@${e}`:""}},70930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{embedPlayerSources:()=>i,externalEmbedLabels:()=>l,getGifDims:()=>h,getGiphyMetaUri:()=>p,getPlayerAspect:()=>m,isTenorGifUri:()=>g,parseEmbedPlayerFromUrl:()=>u,parseTenorGif:()=>f});var o=s(45458),n=s(43535);const{height:a}=o.default.get("window"),r=n.IS_WEB&&"localhost:8100"===window.location.host?"http://localhost:8100":"https://bsky.app",i=["youtube","youtubeShorts","twitch","spotify","soundcloud","appleMusic","vimeo","giphy","tenor","flickr","bandcamp"],l={youtube:"YouTube",youtubeShorts:"YouTube Shorts",vimeo:"Vimeo",twitch:"Twitch",giphy:"GIPHY",tenor:"Tenor",spotify:"Spotify",appleMusic:"Apple Music",soundcloud:"SoundCloud",flickr:"Flickr",bandcamp:"Bandcamp"},c=/media(?:[0-4]\.giphy\.com|\.giphy\.com)/i,d=/^(\S+)\.(webp|gif|mp4)$/i;function u(e){let t;try{t=new URL(e)}catch(o){return}if("youtu.be"===t.hostname){const e=t.pathname.split("/")[1],s=t.searchParams.get("t")??"0",o=encodeURIComponent(s.replace(/s$/,""));if(e)return{type:"youtube_video",source:"youtube",playerUri:`${r}/iframe/youtube.html?videoId=${e}&start=${o}`}}if("www.youtube.com"===t.hostname||"youtube.com"===t.hostname||"m.youtube.com"===t.hostname||"music.youtube.com"===t.hostname){const[e,s,o]=t.pathname.split("/"),n="shorts"===s,a=n||"live"===s?o:t.searchParams.get("v"),i=t.searchParams.get("t")??"0",l=encodeURIComponent(i.replace(/s$/,""));if(a)return{type:n?"youtube_short":"youtube_video",source:n?"youtubeShorts":"youtube",hideDetails:!!n||void 0,playerUri:`${r}/iframe/youtube.html?videoId=${a}&start=${l}`}}if("twitch.tv"===t.hostname||"www.twitch.tv"===t.hostname||"m.twitch.tv"===t.hostname){const e=n.IS_WEB?window.location.hostname:"localhost",[s,o,a,r]=t.pathname.split("/");if("videos"===o)return{type:"twitch_video",source:"twitch",playerUri:`https://player.twitch.tv/?volume=0.5&!muted&autoplay&video=${a}&parent=${e}`};if("clip"===a)return{type:"twitch_video",source:"twitch",playerUri:`https://clips.twitch.tv/embed?volume=0.5&autoplay=true&clip=${r}&parent=${e}`};if(o)return{type:"twitch_video",source:"twitch",playerUri:`https://player.twitch.tv/?volume=0.5&!muted&autoplay&channel=${o}&parent=${e}`}}if("open.spotify.com"===t.hostname){const[e,s,o,n]=t.pathname.split("/");if(o){if("playlist"===s||"playlist"===o)return{type:"spotify_playlist",source:"spotify",playerUri:`https://open.spotify.com/embed/playlist/${n??o}`};if("album"===s||"album"===o)return{type:"spotify_album",source:"spotify",playerUri:`https://open.spotify.com/embed/album/${n??o}`};if("track"===s||"track"===o)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/track/${n??o}`};if("episode"===s||"episode"===o)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/episode/${n??o}`};if("show"===s||"show"===o)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/show/${n??o}`}}}if("soundcloud.com"===t.hostname||"www.soundcloud.com"===t.hostname){const[s,o,n,a]=t.pathname.split("/");if(o&&n)return"sets"===n&&a?{type:"soundcloud_set",source:"soundcloud",playerUri:`https://w.soundcloud.com/player/?url=${e}&auto_play=true&visual=false&hide_related=true`}:{type:"soundcloud_track",source:"soundcloud",playerUri:`https://w.soundcloud.com/player/?url=${e}&auto_play=true&visual=false&hide_related=true`}}if("music.apple.com"===t.hostname||"music.apple.com"===t.hostname){const e=t.pathname.split("/"),s=e[2],o=t.searchParams.get("i");if(5===e.length&&("playlist"===s||"album"===s||"song"===s)){const e=`https://embed.music.apple.com${t.pathname}${o?`?i=${o}`:""}`;if("playlist"===s)return{type:"apple_music_playlist",source:"appleMusic",playerUri:e};if("album"===s)return o?{type:"apple_music_song",source:"appleMusic",playerUri:e}:{type:"apple_music_album",source:"appleMusic",playerUri:e};if("song"===s)return{type:"apple_music_song",source:"appleMusic",playerUri:e}}}if("vimeo.com"===t.hostname||"www.vimeo.com"===t.hostname){const[e,s]=t.pathname.split("/");if(s)return{type:"vimeo_video",source:"vimeo",playerUri:`https://player.vimeo.com/video/${s}?autoplay=1`}}if("giphy.com"===t.hostname||"www.giphy.com"===t.hostname){const[e,s,o]=t.pathname.split("/");if("gifs"===s&&o){const e=o.split("-").pop();if(e)return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${e}`,playerUri:`https://i.giphy.com/media/${e}/200.webp`}}}if(c.test(t.hostname)){const[e,s,o,n,a]=t.pathname.split("/");if("media"===s){if(n&&d.test(n))return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${o}`,playerUri:`https://i.giphy.com/media/${o}/200.webp`};if(a&&d.test(a))return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${n}`,playerUri:`https://i.giphy.com/media/${n}/200.webp`}}}if("i.giphy.com"===t.hostname||"www.i.giphy.com"===t.hostname){const[e,s,o]=t.pathname.split("/");if("media"===s&&o){const e=o.split(".")[0];return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${e}`,playerUri:`https://i.giphy.com/media/${e}/200.webp`}}if(s){return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${s.split(".")[0]}`,playerUri:`https://i.giphy.com/media/${s.split(".")[0]}/200.webp`}}}const s=f(t);if(s.success){const{playerUri:e,dimensions:t}=s;return{type:"tenor_gif",source:"tenor",isGif:!0,hideDetails:!0,playerUri:e,dimensions:t}}if("www.flickr.com"===t.hostname||"flickr.com"===t.hostname){let e=t.pathname.length-1;for(;e>0&&"/"===t.pathname.charAt(e);)--e;const s=t.pathname.slice(1,e+1).split("/");if(4===s.length){const[e,t,o,n]=s;if("photos"===e&&"albums"===o)return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/photosets/${n}`}}if(3===s.length){const[e,t,o]=s;if("groups"===e&&"pool"===o)return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/groups/${t}`}}return}if("flic.kr"===t.hostname){const e="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";let[s,o,n]=t.pathname.split("/"),a=0n;for(const t of n){const s=e.indexOf(t);if(!(s>=0))return;a=58n*a+BigInt(s)}switch(o){case"go":const e=`${a}`;return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/groups/${e.slice(0,-2)}@N${e.slice(-2)}`};case"s":return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/photosets/${a}`};default:return}}if(/^[a-z\d][a-z\d-]{2,}[a-z\d]\.bandcamp\.com$/i.test(t.hostname)){switch(t.pathname.split("/")[1]){case"album":return{type:"bandcamp_album",source:"bandcamp",playerUri:`https://bandcamp.com/EmbeddedPlayer/url=${encodeURIComponent(t.href)}/size=large/bgcol=ffffff/linkcol=0687f5/minimal=true/transparent=true/`};case"track":return{type:"bandcamp_track",source:"bandcamp",playerUri:`https://bandcamp.com/EmbeddedPlayer/url=${encodeURIComponent(t.href)}/size=large/bgcol=ffffff/linkcol=0687f5/minimal=true/transparent=true/`};default:return}}}function m({type:e,hasThumb:t,width:s}){if(!t)return{aspectRatio:16/9};switch(e){case"youtube_video":case"twitch_video":case"vimeo_video":default:return{aspectRatio:16/9};case"youtube_short":return a<600?{aspectRatio:.984375}:{aspectRatio:.84375};case"spotify_album":case"apple_music_album":case"apple_music_playlist":case"spotify_playlist":case"soundcloud_set":return{height:380};case"spotify_song":return s<=300?{height:155}:{height:232};case"soundcloud_track":return{height:165};case"apple_music_song":return{height:150};case"bandcamp_album":case"bandcamp_track":return{aspectRatio:1}}}function h(e,t,s){const o=e/t*s;return{height:o>250?250:o,width:250/o*s}}function p(e){if(c.test(e.hostname)||"i.giphy.com"===e.hostname){const t=u(e.toString());if(t&&"giphy_gif"===t.type)return t.metaUri}}function f(e){if("media.tenor.com"!==e.hostname)return{success:!1};let[t,s,o]=e.pathname.split("/");if(!s||!o)return{success:!1};if(!s.includes("AAAAC"))return{success:!1};const a=e.searchParams.get("hh"),r=e.searchParams.get("ww");if(!a||!r)return{success:!1};const i={height:Number(a),width:Number(r)};return isNaN(i.height)||isNaN(i.width)||i.height<=0||i.width<=0?{success:!1}:(n.IS_WEB?n.IS_WEB_SAFARI?(s=s.replace("AAAAC","AAAP1"),o=o.replace(".gif",".mp4")):(s=s.replace("AAAAC","AAAP3"),o=o.replace(".gif",".webm")):s=s.replace("AAAAC","AAAAM"),{success:!0,playerUri:`https://t.gifs.bsky.app/${s}/${o}`,dimensions:i})}function g(e){try{return f("string"===typeof e?new URL(e):e).success}catch{return!1}}},98285:(e,t,s)=>{"use strict";s.r(t),s.d(t,{cleanError:()=>a,isCancelledError:()=>c,isErrorMaybeAppPasswordPermissions:()=>l,isNetworkError:()=>i});var o=s(17789),n=s(77585);function a(e){return e?("string"!==typeof e&&(e=e.toString()),i(e)?o.i18n._({id:"ItUNqU"}):e.includes("Upstream Failure")||e.includes("NotEnoughResources")||e.includes("pipethrough network error")?o.i18n._({id:"ZdWWqK"}):e.includes("Do not have authorization to set preferences")&&e.includes("app.bsky.actor.defs#personalDetailsPref")?o.i18n._({id:"0cMFWr"}):e.includes("Bad token scope")||e.includes("Bad token method")?o.i18n._({id:"rSmG+g"}):e.includes("Account has been suspended")?o.i18n._({id:"1ONnDh"}):e.includes("Account is deactivated")?o.i18n._({id:"BvjY3+"}):e.includes("Profile not found")?o.i18n._({id:"5XU6iA"}):e.includes("Unable to resolve handle")?o.i18n._({id:"yHjMHM"}):e.startsWith("Error: ")?e.slice(7):e):""}const r=["Abort","Network request failed","Failed to fetch","Load failed","Upstream service unreachable"];function i(e){const t=String(e);for(const s of r)if(t.includes(s))return!0;return!1}function l(e){if(e instanceof n.XRPCError&&"TokenInvalid"===e.error)return!0;const t=String(e);return t.includes("Bad token scope")||t.includes("Bad token method")}function c(e){return String(e).toLowerCase().includes("cancel")}},56947:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MAX_SERVICE_HANDLE_LENGTH:()=>a,createFullHandle:()=>i,isInvalidHandle:()=>l,makeValidHandle:()=>r,sanitizeHandle:()=>c,validateServiceHandle:()=>d});var o=s(40228);const n=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/,a=18;function r(e){return e.length>20&&(e=e.slice(0,20)),(e=e.toLowerCase()).replace(/^[^a-z0-9]+/g,"").replace(/[^a-z0-9-]/g,"")}function i(e,t){return`${e=(e||"").replace(/[.]+$/,"")}.${t=(t||"").replace(/^[.]+/,"")}`}function l(e){return"handle.invalid"===e}function c(e,t="",s=!0){const n=`${t}${e.toLocaleLowerCase()}`;return l(e)?"\u26a0Invalid Handle":s?(0,o.forceLTR)(n):n}function d(e,t){const s=i(e,t),o={handleChars:!e||n.test(s)&&!e.includes("."),hyphenStartOrEnd:!e.startsWith("-")&&!e.endsWith("-"),frontLengthNotTooShort:e.length>=3,frontLengthNotTooLong:e.length<=a,totalLength:s.length<=253};return Object.assign({},o,{overall:!Object.values(o).includes(!1)})}},66986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{augmentSearchQuery:()=>l,countLines:()=>i,enforceLen:()=>a,isOverMaxGraphemeCount:()=>r});var o=s(30100),n=s(94512);function a(e,t,s=!1,o="end"){if((e=e||"").length>t){if(s){if("end"===o)return e.slice(0,t)+"\u2026";if("middle"===o){const s=Math.floor(t/2);return e.slice(0,s)+"\u2026"+e.slice(-s)}return e.slice(0,t)}return e.slice(0,t)}return e}function r({text:e,maxCount:t}){return"string"===typeof e?(0,o.countGraphemes)(e)>t:(0,n.shortenLinks)(e).graphemeLength>t}function i(e){return e?e.match(/\n/g)?.length??0:0}function l(e,{did:t}){if(!t)return e;return(e=e.replaceAll(/[\u201c\u201d]/g,'"')).split(/("(?:[^"\\]|\\.)*")/g).map(((e,s)=>s%2===0?e.replaceAll(/(^|\s)from:me(\s|$)/g,`$1${t}$2`):e)).join("")}},94512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{shortenLinks:()=>a,stripInvalidMentions:()=>r});var o=s(66949),n=s(86731);function a(e){if(!e.facets?.length)return e;if((e=e.clone()).facets)for(const t of e.facets){if(!!!t.features.find(o.AppBskyRichtextFacet.isLink))continue;const{byteStart:s,byteEnd:a}=t.index,r=e.unicodeText.slice(s,a),i=new o.UnicodeString((0,n.toShortUrl)(r));e.insert(s,i.utf16),t.index.byteStart=s,t.index.byteEnd=s+i.length,e.delete(s+i.length,a+i.length)}return e}function r(e){return e.facets?.length?((e=e.clone()).facets&&(e.facets=e.facets?.filter((e=>{const t=e.features.find(o.AppBskyRichtextFacet.isMention);return!(t&&!t.did)}))),e):e}},15488:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createStarterPackGooglePlayUri:()=>r,createStarterPackLinkFromAndroidReferrer:()=>n,createStarterPackUri:()=>c,getStarterPackOgCard:()=>l,httpStarterPackUriToAtUri:()=>i,parseStarterPackUri:()=>a,startUriToStarterPackUri:()=>d});var o=s(66949);function n(e){try{const t=new URL("http://throwaway.com/?"+e),s=t.searchParams.get("utm_content"),o=t.searchParams.get("utm_source");if(!s)return null;if("bluesky"!==o)return null;const n=s.split("_");return"starterpack"!==n[0]||3!==n.length?null:`at://${n[1]}/app.bsky.graph.starterpack/${n[2]}`}catch(t){return null}}function a(e){if(!e)return null;try{if(e.startsWith("at://")){const t=new o.AtUri(e);return"app.bsky.graph.starterpack"!==t.collection?null:t.rkey?{name:t.hostname,rkey:t.rkey}:null}{const t=new URL(e).pathname.split("/"),[s,o,n,a]=t;return 4!==t.length||"starter-pack"!==o&&"start"!==o?null:n&&a?{name:n,rkey:a}:null}}catch(t){return null}}function r(e,t){return e&&t?`https://play.google.com/store/apps/details?id=xyz.blueskyweb.app&referrer=utm_source%3Dbluesky%26utm_medium%3Dstarterpack%26utm_content%3Dstarterpack_${e}_${t}`:null}function i(e){if(!e)return null;const t=a(e);return t?e.startsWith("at://")?e:`at://${t.name}/app.bsky.graph.starterpack/${t.rkey}`:null}function l(e,t){if("string"===typeof e)return`https://ogcard.cdn.bsky.app/start/${e}/${t}`;{const t=new o.AtUri(e.uri).rkey;return`https://ogcard.cdn.bsky.app/start/${e.creator.did}/${t}`}}function c({did:e,rkey:t}){return new o.AtUri(`at://${e}/app.bsky.graph.starterpack/${t}`).toString()}function d(e){return e.replace("/start/","/starter-pack/")}},88972:(e,t,s)=>{"use strict";function o(e,t,s="long"){const o=new Date(t);return"dot separated"===s?e._({values:{0:e.date(o,{timeStyle:"short"}),1:e.date(o,{dateStyle:"medium"})},id:"MDsl7N"}):e.date(o,{dateStyle:s,timeStyle:"short"})}function n(e){var t=new Date,s=t.getFullYear()-e.getFullYear(),o=t.getMonth()-e.getMonth();return(o<0||0===o&&t.getDate()<e.getDate())&&s--,s}function a(e){const t=new Date;return t.setFullYear(t.getFullYear()-e),t}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}s.r(t),s.d(t,{getAge:()=>n,getDateAgo:()=>a,niceDate:()=>o,simpleAreDatesEqual:()=>r})},86731:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BSKY_APP_HOST:()=>d,convertBskyAppUrlIfNeeded:()=>P,createBskyAppAbsoluteUrl:()=>F,createProxiedUrl:()=>N,definitelyUrl:()=>W,feedUriToHref:()=>L,getHostnameFromUrl:()=>z,getServiceAuthAudFromUrl:()=>U,isBskyAppUrl:()=>_,isBskyCustomFeedUrl:()=>w,isBskyDownloadUrl:()=>I,isBskyListUrl:()=>T,isBskyPostUrl:()=>S,isBskyRSSUrl:()=>b,isBskyStartUrl:()=>k,isBskyStarterPackUrl:()=>C,isExternalUrl:()=>j,isPossiblyAUrl:()=>O,isRelativeUrl:()=>y,isShortLink:()=>H,isTrustedUrl:()=>v,isValidDomain:()=>m,labelToDomain:()=>D,linkRequiresWarning:()=>B,listUriToHref:()=>E,makeRecordUri:()=>h,postUriToRelativePath:()=>R,shortLinkToHref:()=>V,splitApexDomain:()=>M,toBskyAppUrl:()=>x,toNiceDomain:()=>p,toShareUrl:()=>g,toShortUrl:()=>f,withBasePath:()=>A});var o=s(66949),n=s(93158),a=s(10248),r=s(17110),i=s(56947),l=s(15488),c=s(5295);const d="https://bsky.app",u=new RegExp(`^(http(s)?://(([\\w-]+\\.)?${["bsky\\.app","bsky\\.social","blueskyweb\\.xyz","blueskyweb\\.zendesk\\.com"].join("|([\\w-]+\\.)?")})|/|#)`);function m(e){return!!a.find((t=>{let s=e.lastIndexOf(t);return-1!==s&&("."===e.charAt(s-1)&&s===e.length-t.length)}))}function h(e,t,s){const n=new o.AtUri("at://placeholder.placeholder/");return n.host=e,n.collection=t,n.rkey=s,n.toString()}function p(e){try{const t=new URL(e);return`https://${t.host}`===r.BSKY_SERVICE?"Bluesky Social":t.host?t.host:e}catch(t){return e}}function f(e){try{const t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)return e;const s=("/"===t.pathname?"":t.pathname)+t.search+t.hash;return s.length>15?t.host+s.slice(0,13)+"...":t.host+s}catch(t){return e}}function g(e){if(!e.startsWith("https")){const t=new URL("https://bsky.app");t.pathname=e,e=t.toString()}return e}function x(e){return new URL(e,d).toString()}function _(e){return e.startsWith("https://bsky.app/")}function y(e){return/^\/[^/]/.test(e)}function b(e){return(e.startsWith("https://bsky.app/")||y(e))&&/\/rss\/?$/.test(e)}function j(e){const t=!_(e)&&e.startsWith("http"),s=b(e);return t||s}function v(e){return u.test(e)}function S(e){if(_(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/post\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function w(e){if(_(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/feed\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function T(e){if(_(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/lists\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function k(e){if(_(e))try{const t=new URL(e);return/start\/(?<name>[^/]+)\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function C(e){if(_(e))try{const t=new URL(e);return/starter-pack\/(?<name>[^/]+)\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function I(e){return!j(e)&&("/download"===e||e.startsWith("/download?"))}function A(e){return r.BASE_PATH&&e.startsWith("/")?"/"===e?r.BASE_PATH:`${r.BASE_PATH}${e}`:e}function P(e){if(_(e))try{const t=new URL(e);return k(e)?(0,l.startUriToStarterPackUri)(t.pathname):"/search"===t.pathname?`/search?q=${t.searchParams.get("q")}`:t.pathname}catch(t){}else if(H(e))return V(e);return e}function E(e){try{const{hostname:t,rkey:s}=new o.AtUri(e);return`/profile/${t}/lists/${s}`}catch{return""}}function L(e){try{const{hostname:t,rkey:s}=new o.AtUri(e);return`/profile/${t}/feed/${s}`}catch{return""}}function R(e,t){try{const{hostname:s,rkey:n}=new o.AtUri(e);return`/profile/${t?.handle&&!(0,i.isInvalidHandle)(t.handle)?t.handle:s}/post/${n}`}catch{return}}function B(e,t){const s=D(t);if(y(e)||"#"===e)return!1;let o;try{o=new URL(e)}catch{return!0}const n=o.hostname.toLowerCase();return v(e)?!!s&&s!==n&&O(s):!s||s!==n}function D(e){if(!/\s/.test(e)){try{return new URL(e).hostname.toLowerCase()}catch{}try{return new URL("https://"+e).hostname.toLowerCase()}catch{}}}function O(e){if((e=e.trim()).startsWith("http://"))return!0;if(e.startsWith("https://"))return!0;const[t]=e.split(/[\s\/]/);return m(t)}function M(e){const t=n.parse(e);return!t.error&&t.listed&&t.domain?[t.subdomain?`${t.subdomain}.`:"",t.domain]:["",e]}function F(e){const t=e.replace(d,"").replace(/^\/+/,"");return`${d.replace(/\/$/,"")}/${t}`}function N(e){let t;try{t=new URL(e)}catch{return e}return"http:"!==t?.protocol&&"https:"!==t?.protocol?e:`https://go.bsky.app/redirect?u=${encodeURIComponent(e)}`}function H(e){return e.startsWith("https://go.bsky.app/")}function V(e){try{const t=new URL(e).pathname.split("/").filter(Boolean);return 1===t.length?`/starter-pack-short/${t[0]}`:e}catch(t){return c.logger.error("Failed to parse possible short link",{safeMessage:t}),e}}function z(e){let t;try{t=new URL(e)}catch(s){return null}return t.hostname}function U(e){const t=z(e);return t?`did:web:${t}`:null}function W(e){try{if(e.endsWith("."))return null;e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e);const t=new URL(e),s=t.hostname.split(".");if(s.length<2)return null;const o=s[s.length-1];return/^[a-z]{2,}$/i.test(o)?t.toString():null}catch{return null}}},69883:(e,t,s)=>{"use strict";s.r(t),s.d(t,{addStyle:()=>d,colors:()=>r,gradients:()=>i,lh:()=>c,s:()=>l});var o=s(45458),n=s(59550),a=s(43535);const r={white:"#ffffff",black:"#000000",gray1:"#F3F3F8",gray2:"#E2E2E4",gray3:"#B9B9C1",gray4:"#8D8E96",gray5:"#545664",gray6:"#373942",gray7:"#26272D",gray8:"#141417",blue0:"#bfe1ff",blue1:"#8bc7fd",blue2:"#52acfe",blue3:"#0085ff",blue4:"#0062bd",blue5:"#034581",blue6:"#012561",blue7:"#001040",red1:"#ffe6eb",red2:"#fba2b2",red3:"#ec4868",red4:"#d11043",red5:"#970721",red6:"#690419",red7:"#4F0314",pink1:"#f8ccff",pink2:"#e966ff",pink3:"#db00ff",pink4:"#a601c1",pink5:"#570066",purple1:"#ebdbff",purple2:"#ba85ff",purple3:"#9747ff",purple4:"#6d00fa",purple5:"#380080",green1:"#c1ffb8",green2:"#27f406",green3:"#20bc07",green4:"#148203",green5:"#082b03",unreadNotifBg:"#ebf6ff",brandBlue:"#0066FF",like:"#ec4899"},i={blueLight:{start:"#5A71FA",end:r.blue3},blue:{start:"#5E55FB",end:r.blue3},blueDark:{start:"#5F45E0",end:r.blue3}},l=n.default.create({footerSpacer:{height:100},contentContainer:{paddingBottom:200},contentContainerExtra:{paddingBottom:300},border0:{borderWidth:0},border1:{borderWidth:1},borderTop1:{borderTopWidth:1},borderRight1:{borderRightWidth:1},borderBottom1:{borderBottomWidth:1},borderLeft1:{borderLeftWidth:1},hidden:{display:"none"},dimmed:{opacity:.5},fw600:{fontWeight:"600"},bold:{fontWeight:"600"},fw500:{fontWeight:"600"},semiBold:{fontWeight:"600"},fw400:{fontWeight:"400"},normal:{fontWeight:"400"},fw300:{fontWeight:"400"},light:{fontWeight:"400"},underline:{textDecorationLine:"underline"},tabularNum:{fontVariant:["tabular-nums"]},f9:{fontSize:9},f10:{fontSize:10},f11:{fontSize:11},f12:{fontSize:12},f13:{fontSize:13},f14:{fontSize:14},f15:{fontSize:15},f16:{fontSize:16},f17:{fontSize:17},f18:{fontSize:18},"lh13-1":{lineHeight:13},"lh13-1.3":{lineHeight:16.9},"lh14-1":{lineHeight:14},"lh14-1.3":{lineHeight:18.2},"lh15-1":{lineHeight:15},"lh15-1.3":{lineHeight:19.5},"lh16-1":{lineHeight:16},"lh16-1.3":{lineHeight:20.8},"lh17-1":{lineHeight:17},"lh17-1.3":{lineHeight:22.1},"lh18-1":{lineHeight:18},"lh18-1.3":{lineHeight:23.4},mr2:{marginRight:2},mr5:{marginRight:5},mr10:{marginRight:10},mr20:{marginRight:20},ml2:{marginLeft:2},ml5:{marginLeft:5},ml10:{marginLeft:10},ml20:{marginLeft:20},mt2:{marginTop:2},mt5:{marginTop:5},mt10:{marginTop:10},mt20:{marginTop:20},mb2:{marginBottom:2},mb5:{marginBottom:5},mb10:{marginBottom:10},mb20:{marginBottom:20},p2:{padding:2},p5:{padding:5},p10:{padding:10},p20:{padding:20},pr2:{paddingRight:2},pr5:{paddingRight:5},pr10:{paddingRight:10},pr20:{paddingRight:20},pl2:{paddingLeft:2},pl5:{paddingLeft:5},pl10:{paddingLeft:10},pl20:{paddingLeft:20},pt2:{paddingTop:2},pt5:{paddingTop:5},pt10:{paddingTop:10},pt20:{paddingTop:20},pb2:{paddingBottom:2},pb5:{paddingBottom:5},pb10:{paddingBottom:10},pb20:{paddingBottom:20},px5:{paddingHorizontal:5},flexRow:{flexDirection:"row"},flexCol:{flexDirection:"column"},flex1:{flex:1},flexGrow1:{flexGrow:1},alignCenter:{alignItems:"center"},alignBaseline:{alignItems:"baseline"},justifyCenter:{justifyContent:"center"},absolute:{position:"absolute"},w100pct:{width:"100%"},h100pct:{height:"100%"},hContentRegion:a.IS_WEB?{minHeight:"100%"}:{height:"100%"},window:{width:o.default.get("window").width,height:o.default.get("window").height},textLeft:{textAlign:"left"},textCenter:{textAlign:"center"},textRight:{textAlign:"right"},white:{color:r.white},black:{color:r.black},gray1:{color:r.gray1},gray2:{color:r.gray2},gray3:{color:r.gray3},gray4:{color:r.gray4},gray5:{color:r.gray5},blue1:{color:r.blue1},blue2:{color:r.blue2},blue3:{color:r.blue3},blue4:{color:r.blue4},blue5:{color:r.blue5},red1:{color:r.red1},red2:{color:r.red2},red3:{color:r.red3},red4:{color:r.red4},red5:{color:r.red5},pink1:{color:r.pink1},pink2:{color:r.pink2},pink3:{color:r.pink3},pink4:{color:r.pink4},pink5:{color:r.pink5},purple1:{color:r.purple1},purple2:{color:r.purple2},purple3:{color:r.purple3},purple4:{color:r.purple4},purple5:{color:r.purple5},green1:{color:r.green1},green2:{color:r.green2},green3:{color:r.green3},green4:{color:r.green4},green5:{color:r.green5},brandBlue:{color:r.brandBlue},likeColor:{color:r.like}});function c(e,t,s){return{lineHeight:Math.round((e.typography[t].fontSize||16)*s)}}function d(e,t){return Array.isArray(e)?e.concat([t]):[e,t]}},62370:(e,t,s)=>{"use strict";function o(e){return!!e&&"object"===typeof e}function n(e,t){return t in e}function a(e){return Array.isArray(e)&&e.every((e=>"string"===typeof e))}s.r(t),s.d(t,{hasProp:()=>n,isObj:()=>o,isStrArray:()=>a})},560:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deviceLanguageCodes:()=>i,deviceLocales:()=>r,getLocales:()=>a});var o=s(2854),n=s(9948);function a(){const e=(0,o.getLocales)?.()??[],t=[];for(const s of e)"string"===typeof s.languageCode&&("in"===s.languageCode&&(s.languageCode="id"),"iw"===s.languageCode&&(s.languageCode="he"),"ji"===s.languageCode&&(s.languageCode="yi")),"string"===typeof s.languageTag&&((s.languageTag.startsWith("zh-Hans")||"zh-CN"===s.languageTag)&&(s.languageTag="zh-Hans-CN"),(s.languageTag.startsWith("zh-Hant")||"zh-TW"===s.languageTag)&&(s.languageTag="zh-Hant-TW")),t.push(s);return t}const r=a(),i=(0,n.dedupArray)(r.map((e=>e.languageCode)))},12855:(e,t,s)=>{"use strict";s.r(t),s.d(t,{code2ToCode3:()=>l,code3ToCode2:()=>c,code3ToCode2Strict:()=>d,codeToLanguageName:()=>m,findSupportedAppLanguage:()=>_,fixLegacyLanguageCode:()=>x,getPostLanguage:()=>h,getTranslatorLink:()=>f,isPostInLanguage:()=>p,languageName:()=>u,regionName:()=>y,sanitizeAppLanguageSetting:()=>g});var o=s(66949),n=s(78168),a=s(64154),r=s(62370),i=s(64303);function l(e){return 2===e.length&&i.LANGUAGES_MAP_CODE2[e]?.code3||e}function c(e){return 3===e.length&&i.LANGUAGES_MAP_CODE3[e]?.code2||e}function d(e){if(3===e.length)return i.LANGUAGES_MAP_CODE3[e]?.code2}function u(e,t){return Intl.DisplayNames&&function(e,t){try{const s=new Intl.DisplayNames([t],{type:"language",fallback:"none",languageDisplay:"standard"}).of(e);if(s)return s}catch(s){if(!(s instanceof RangeError))throw s}}(e.code2,t)||e.name}function m(e,t){const s=c(e),o=i.LANGUAGES_MAP_CODE2[s];return o?u(o,t):s}function h(e){let t=[],s="";if((0,r.hasProp)(e.record,"text")&&"string"===typeof e.record.text&&(s=e.record.text),o.AppBskyFeedPost.isRecord(e.record)&&(0,r.hasProp)(e.record,"langs")&&Array.isArray(e.record.langs)&&(t=e.record.langs),1===t?.length)return t[0];if(0===s.trim().length)return;let n=(0,a.default)(s);return t?.length&&(n=n.filter((([e,s])=>t.includes(c(e))))),n[0]?c(n[0][0]):void 0}function p(e,t){const s=h(e);return!s||n.basicFilter(s,t).length>0}function f(e,t){return`https://translate.google.com/?sl=auto&tl=${t}&text=${encodeURIComponent(e)}`}function g(e){const t=e.split(",").filter(Boolean);for(const s of t)switch(x(s)){case"en":return i.AppLanguage.en;case"an":return i.AppLanguage.an;case"ast":return i.AppLanguage.ast;case"ca":return i.AppLanguage.ca;case"cy":return i.AppLanguage.cy;case"da":return i.AppLanguage.da;case"de":return i.AppLanguage.de;case"el":return i.AppLanguage.el;case"en-GB":return i.AppLanguage.en_GB;case"eo":return i.AppLanguage.eo;case"es":return i.AppLanguage.es;case"eu":return i.AppLanguage.eu;case"fi":return i.AppLanguage.fi;case"fr":return i.AppLanguage.fr;case"fy":return i.AppLanguage.fy;case"ga":return i.AppLanguage.ga;case"gd":return i.AppLanguage.gd;case"gl":return i.AppLanguage.gl;case"hi":return i.AppLanguage.hi;case"hu":return i.AppLanguage.hu;case"ia":return i.AppLanguage.ia;case"id":return i.AppLanguage.id;case"it":return i.AppLanguage.it;case"ja":return i.AppLanguage.ja;case"km":return i.AppLanguage.km;case"ko":return i.AppLanguage.ko;case"ne":return i.AppLanguage.ne;case"nl":return i.AppLanguage.nl;case"pl":return i.AppLanguage.pl;case"pt-BR":return i.AppLanguage.pt_BR;case"pt-PT":return i.AppLanguage.pt_PT;case"ro":return i.AppLanguage.ro;case"ru":return i.AppLanguage.ru;case"sv":return i.AppLanguage.sv;case"th":return i.AppLanguage.th;case"tr":return i.AppLanguage.tr;case"uk":return i.AppLanguage.uk;case"vi":return i.AppLanguage.vi;case"zh-Hans-CN":return i.AppLanguage.zh_CN;case"zh-Hant-HK":return i.AppLanguage.zh_HK;case"zh-Hant-TW":return i.AppLanguage.zh_TW;default:continue}return i.AppLanguage.en}function x(e){return"in"===e?"id":"iw"===e?"he":"ji"===e?"yi":e}function _(e){const t=new Set(Object.values(i.AppLanguage));for(const s of e)if(s&&t.has(s))return s;return i.AppLanguage.en}function y(e,t){const s=b(e,t);if(s)return s;const o=b(e,"en");return o||e}function b(e,t){try{return new Intl.DisplayNames([t],{type:"region",fallback:"none"}).of(e)}catch(s){return}}},64303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{APP_LANGUAGES:()=>n,AppLanguage:()=>o,LANGUAGES:()=>a,LANGUAGES_MAP_CODE2:()=>r,LANGUAGES_MAP_CODE3:()=>i});let o=function(e){return e.en="en",e.an="an",e.ast="ast",e.ca="ca",e.cy="cy",e.da="da",e.de="de",e.el="el",e.en_GB="en-GB",e.eo="eo",e.es="es",e.eu="eu",e.fi="fi",e.fr="fr",e.fy="fy",e.ga="ga",e.gd="gd",e.gl="gl",e.hi="hi",e.hu="hu",e.ia="ia",e.id="id",e.it="it",e.ja="ja",e.km="km",e.ko="ko",e.ne="ne",e.nl="nl",e.pl="pl",e.pt_BR="pt-BR",e.pt_PT="pt-PT",e.ro="ro",e.ru="ru",e.sv="sv",e.th="th",e.tr="tr",e.uk="uk",e.vi="vi",e.zh_CN="zh-Hans-CN",e.zh_HK="zh-Hant-HK",e.zh_TW="zh-Hant-TW",e}({});const n=[{code2:o.en,name:"English"},{code2:o.an,name:"aragon\xe9s \u2013 Aragonese"},{code2:o.ast,name:"asturianu \u2013 Asturian"},{code2:o.ca,name:"catal\xe0 \u2013 Catalan"},{code2:o.cy,name:"Cymraeg \u2013 Welsh"},{code2:o.da,name:"dansk \u2013 Danish"},{code2:o.de,name:"Deutsch \u2013 German"},{code2:o.el,name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac \u2013 Greek"},{code2:o.en_GB,name:"British English"},{code2:o.eo,name:"Esperanto"},{code2:o.es,name:"espa\xf1ol \u2013 Spanish"},{code2:o.eu,name:"euskara \u2013 Basque"},{code2:o.fi,name:"suomi \u2013 Finnish"},{code2:o.fr,name:"fran\xe7ais \u2013 French"},{code2:o.fy,name:"Frysk \u2013 Western Frisian"},{code2:o.ga,name:"Gaeilge \u2013 Irish"},{code2:o.gd,name:"G\xe0idhlig \u2013 Scottish Gaelic"},{code2:o.gl,name:"galego \u2013 Galician"},{code2:o.hi,name:"\u0939\u093f\u0902\u0926\u0940 \u2013 Hindi"},{code2:o.hu,name:"magyar \u2013 Hungarian"},{code2:o.ia,name:"Interlingua"},{code2:o.id,name:"Bahasa Indonesia \u2013 Indonesian"},{code2:o.it,name:"italiano \u2013 Italian"},{code2:o.ja,name:"\u65e5\u672c\u8a9e \u2013 Japanese"},{code2:o.km,name:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a \u2013 Khmer"},{code2:o.ko,name:"\ud55c\uad6d\uc5b4 \u2013 Korean"},{code2:o.ne,name:"\u0928\u0947\u092a\u093e\u0932\u0940 \u2013 Nepali"},{code2:o.nl,name:"Nederlands \u2013 Dutch"},{code2:o.pl,name:"polski \u2013 Polish"},{code2:o.pt_BR,name:"portugu\xeas do Brasil \u2013 Brazilian Portuguese"},{code2:o.pt_PT,name:"portugu\xeas europeu \u2013 European Portuguese"},{code2:o.ro,name:"rom\xe2n\u0103 \u2013 Romanian"},{code2:o.ru,name:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u2013 Russian"},{code2:o.sv,name:"svenska \u2013 Swedish"},{code2:o.th,name:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 \u2013 Thai"},{code2:o.tr,name:"T\xfcrk\xe7e \u2013 Turkish"},{code2:o.uk,name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u2013 Ukrainian"},{code2:o.vi,name:"Ti\u1ebfng Vi\u1ec7t \u2013 Vietnamese"},{code2:o.zh_CN,name:"\u7b80\u4f53\u4e2d\u6587 \u2013 Simplified Chinese"},{code2:o.zh_TW,name:"\u7e41\u9ad4\u4e2d\u6587 \u2013 Traditional Chinese"},{code2:o.zh_HK,name:"\u7cb5\u6587 \u2013 Cantonese"}],a=[{code3:"aar",code2:"aa",name:"Afar"},{code3:"abk",code2:"ab",name:"Abkhazian"},{code3:"ace",code2:"",name:"Achinese"},{code3:"ach",code2:"",name:"Acoli"},{code3:"ada",code2:"",name:"Adangme"},{code3:"ady",code2:"",name:"Adyghe; Adygei"},{code3:"afa",code2:"",name:"Afro-Asiatic languages"},{code3:"afh",code2:"",name:"Afrihili"},{code3:"afr",code2:"af",name:"Afrikaans"},{code3:"ain",code2:"",name:"Ainu"},{code3:"aka",code2:"ak",name:"Akan"},{code3:"akk",code2:"",name:"Akkadian"},{code3:"alb",code2:"sq",name:"Albanian"},{code3:"ale",code2:"",name:"Aleut"},{code3:"alg",code2:"",name:"Algonquian languages"},{code3:"alt",code2:"",name:"Southern Altai"},{code3:"amh",code2:"am",name:"Amharic"},{code3:"ang",code2:"",name:"English, Old (ca.450-1100)"},{code3:"anp",code2:"",name:"Angika"},{code3:"apa",code2:"",name:"Apache languages"},{code3:"ara",code2:"ar",name:"Arabic"},{code3:"arc",code2:"",name:"Official Aramaic (700-300 BCE); Imperial Aramaic (700-300 BCE)"},{code3:"arg",code2:"an",name:"Aragonese"},{code3:"arm",code2:"hy",name:"Armenian"},{code3:"arn",code2:"",name:"Mapudungun; Mapuche"},{code3:"arp",code2:"",name:"Arapaho"},{code3:"art",code2:"",name:"Artificial languages"},{code3:"arw",code2:"",name:"Arawak"},{code3:"asm",code2:"as",name:"Assamese"},{code3:"ast",code2:"",name:"Asturian; Bable; Leonese; Asturleonese"},{code3:"ath",code2:"",name:"Athapascan languages"},{code3:"aus",code2:"",name:"Australian languages"},{code3:"ava",code2:"av",name:"Avaric"},{code3:"ave",code2:"ae",name:"Avestan"},{code3:"awa",code2:"",name:"Awadhi"},{code3:"aym",code2:"ay",name:"Aymara"},{code3:"aze",code2:"az",name:"Azerbaijani"},{code3:"bad",code2:"",name:"Banda languages"},{code3:"bai",code2:"",name:"Bamileke languages"},{code3:"bak",code2:"ba",name:"Bashkir"},{code3:"bal",code2:"",name:"Baluchi"},{code3:"bam",code2:"bm",name:"Bambara"},{code3:"ban",code2:"",name:"Balinese"},{code3:"baq",code2:"eu",name:"Basque"},{code3:"bas",code2:"",name:"Basa"},{code3:"bat",code2:"",name:"Baltic languages"},{code3:"bej",code2:"",name:"Beja; Bedawiyet"},{code3:"bel",code2:"be",name:"Belarusian"},{code3:"bem",code2:"",name:"Bemba"},{code3:"ben",code2:"bn",name:"Bengali"},{code3:"ber",code2:"",name:"Berber languages"},{code3:"bho",code2:"",name:"Bhojpuri"},{code3:"bih",code2:"bh",name:"Bihari languages"},{code3:"bik",code2:"",name:"Bikol"},{code3:"bin",code2:"",name:"Bini; Edo"},{code3:"bis",code2:"bi",name:"Bislama"},{code3:"bla",code2:"",name:"Siksika"},{code3:"bnt",code2:"",name:"Bantu languages"},{code3:"bod",code2:"bo",name:"Tibetan"},{code3:"bos",code2:"bs",name:"Bosnian"},{code3:"bra",code2:"",name:"Braj"},{code3:"bre",code2:"br",name:"Breton"},{code3:"btk",code2:"",name:"Batak languages"},{code3:"bua",code2:"",name:"Buriat"},{code3:"bug",code2:"",name:"Buginese"},{code3:"bul",code2:"bg",name:"Bulgarian"},{code3:"bur",code2:"my",name:"Burmese"},{code3:"byn",code2:"",name:"Blin; Bilin"},{code3:"cad",code2:"",name:"Caddo"},{code3:"cai",code2:"",name:"Central American Indian languages"},{code3:"car",code2:"",name:"Galibi Carib"},{code3:"cat",code2:"ca",name:"Catalan-Valencian"},{code3:"cau",code2:"",name:"Caucasian languages"},{code3:"ceb",code2:"",name:"Cebuano"},{code3:"cel",code2:"",name:"Celtic languages"},{code3:"ces",code2:"cs",name:"Czech"},{code3:"cha",code2:"ch",name:"Chamorro"},{code3:"chb",code2:"",name:"Chibcha"},{code3:"che",code2:"ce",name:"Chechen"},{code3:"chg",code2:"",name:"Chagatai"},{code3:"chi",code2:"zh",name:"Chinese"},{code3:"chk",code2:"",name:"Chuukese"},{code3:"chm",code2:"",name:"Mari"},{code3:"chn",code2:"",name:"Chinook jargon"},{code3:"cho",code2:"",name:"Choctaw"},{code3:"chp",code2:"",name:"Chipewyan; Dene Suline"},{code3:"chr",code2:"",name:"Cherokee"},{code3:"chu",code2:"cu",name:"Church Slavic"},{code3:"chv",code2:"cv",name:"Chuvash"},{code3:"chy",code2:"",name:"Cheyenne"},{code3:"cmc",code2:"",name:"Chamic languages"},{code3:"cnr",code2:"",name:"Montenegrin"},{code3:"cop",code2:"",name:"Coptic"},{code3:"cor",code2:"kw",name:"Cornish"},{code3:"cos",code2:"co",name:"Corsican"},{code3:"cpe",code2:"",name:"Creoles and pidgins, English based"},{code3:"cpf",code2:"",name:"Creoles and pidgins, French-based"},{code3:"cpp",code2:"",name:"Creoles and pidgins, Portuguese-based"},{code3:"cre",code2:"cr",name:"Cree"},{code3:"crh",code2:"",name:"Crimean Tatar; Crimean Turkish"},{code3:"crp",code2:"",name:"Creoles and pidgins"},{code3:"csb",code2:"",name:"Kashubian"},{code3:"cus",code2:"",name:"Cushitic languages"},{code3:"cym",code2:"cy",name:"Welsh"},{code3:"cze",code2:"cs",name:"Czech"},{code3:"dak",code2:"",name:"Dakota"},{code3:"dan",code2:"da",name:"Danish"},{code3:"dar",code2:"",name:"Dargwa"},{code3:"day",code2:"",name:"Land Dayak languages"},{code3:"del",code2:"",name:"Delaware"},{code3:"den",code2:"",name:"Slave (Athapascan)"},{code3:"deu",code2:"de",name:"German"},{code3:"dgr",code2:"",name:"Dogrib"},{code3:"din",code2:"",name:"Dinka"},{code3:"div",code2:"dv",name:"Divehi; Dhivehi; Maldivian"},{code3:"doi",code2:"",name:"Dogri"},{code3:"dra",code2:"",name:"Dravidian languages"},{code3:"dsb",code2:"",name:"Lower Sorbian"},{code3:"dua",code2:"",name:"Duala"},{code3:"dum",code2:"",name:"Dutch, Middle (ca.1050-1350)"},{code3:"dut",code2:"nl",name:"Dutch; Flemish"},{code3:"dyu",code2:"",name:"Dyula"},{code3:"dzo",code2:"dz",name:"Dzongkha"},{code3:"efi",code2:"",name:"Efik"},{code3:"egy",code2:"",name:"Egyptian (Ancient)"},{code3:"eka",code2:"",name:"Ekajuk"},{code3:"ell",code2:"el",name:"Greek"},{code3:"elx",code2:"",name:"Elamite"},{code3:"eng",code2:"en",name:"English"},{code3:"enm",code2:"",name:"English, Middle (1100-1500)"},{code3:"epo",code2:"eo",name:"Esperanto"},{code3:"est",code2:"et",name:"Estonian"},{code3:"eus",code2:"eu",name:"Basque"},{code3:"ewe",code2:"ee",name:"Ewe"},{code3:"ewo",code2:"",name:"Ewondo"},{code3:"fan",code2:"",name:"Fang"},{code3:"fao",code2:"fo",name:"Faroese"},{code3:"fas",code2:"fa",name:"Persian"},{code3:"fat",code2:"",name:"Fanti"},{code3:"fij",code2:"fj",name:"Fijian"},{code3:"fil",code2:"",name:"Filipino; Pilipino"},{code3:"fin",code2:"fi",name:"Finnish"},{code3:"fiu",code2:"",name:"Finno-Ugrian languages"},{code3:"fon",code2:"",name:"Fon"},{code3:"fra",code2:"fr",name:"French"},{code3:"fre",code2:"fr",name:"French"},{code3:"frm",code2:"",name:"French, Middle (ca.1400-1600)"},{code3:"fro",code2:"",name:"French, Old (842-ca.1400)"},{code3:"frr",code2:"",name:"Northern Frisian"},{code3:"frs",code2:"",name:"Eastern Frisian"},{code3:"fry",code2:"fy",name:"Western Frisian"},{code3:"ful",code2:"ff",name:"Fulah"},{code3:"fur",code2:"",name:"Friulian"},{code3:"gaa",code2:"",name:"Ga"},{code3:"gay",code2:"",name:"Gayo"},{code3:"gba",code2:"",name:"Gbaya"},{code3:"gem",code2:"",name:"Germanic languages"},{code3:"geo",code2:"ka",name:"Georgian"},{code3:"ger",code2:"de",name:"German"},{code3:"gez",code2:"",name:"Geez"},{code3:"gil",code2:"",name:"Gilbertese"},{code3:"gla",code2:"gd",name:"Gaelic; Scottish Gaelic"},{code3:"gle",code2:"ga",name:"Irish"},{code3:"glg",code2:"gl",name:"Galician"},{code3:"glv",code2:"gv",name:"Manx"},{code3:"gmh",code2:"",name:"German, Middle High (ca.1050-1500)"},{code3:"goh",code2:"",name:"German, Old High (ca.750-1050)"},{code3:"gon",code2:"",name:"Gondi"},{code3:"gor",code2:"",name:"Gorontalo"},{code3:"got",code2:"",name:"Gothic"},{code3:"grb",code2:"",name:"Grebo"},{code3:"grc",code2:"",name:"Ancient Greek"},{code3:"gre",code2:"el",name:"Greek"},{code3:"grn",code2:"gn",name:"Guarani"},{code3:"gsw",code2:"",name:"Swiss German; Alemannic; Alsatian"},{code3:"guj",code2:"gu",name:"Gujarati"},{code3:"gwi",code2:"",name:"Gwich'in"},{code3:"hai",code2:"",name:"Haida"},{code3:"hat",code2:"ht",name:"Haitian; Haitian Creole"},{code3:"hau",code2:"ha",name:"Hausa"},{code3:"haw",code2:"",name:"Hawaiian"},{code3:"heb",code2:"he",name:"Hebrew"},{code3:"her",code2:"hz",name:"Herero"},{code3:"hil",code2:"",name:"Hiligaynon"},{code3:"him",code2:"",name:"Himachali languages; Western Pahari languages"},{code3:"hin",code2:"hi",name:"Hindi"},{code3:"hit",code2:"",name:"Hittite"},{code3:"hmn",code2:"",name:"Hmong; Mong"},{code3:"hmo",code2:"ho",name:"Hiri Motu"},{code3:"hrv",code2:"hr",name:"Croatian"},{code3:"hsb",code2:"",name:"Upper Sorbian"},{code3:"hun",code2:"hu",name:"Hungarian"},{code3:"hup",code2:"",name:"Hupa"},{code3:"hye",code2:"hy",name:"Armenian"},{code3:"iba",code2:"",name:"Iban"},{code3:"ibo",code2:"ig",name:"Igbo"},{code3:"ice",code2:"is",name:"Icelandic"},{code3:"ido",code2:"io",name:"Ido"},{code3:"iii",code2:"ii",name:"Sichuan Yi; Nuosu"},{code3:"ijo",code2:"",name:"Ijo languages"},{code3:"iku",code2:"iu",name:"Inuktitut"},{code3:"ile",code2:"ie",name:"Interlingue"},{code3:"ilo",code2:"",name:"Iloko"},{code3:"ina",code2:"ia",name:"Interlingua"},{code3:"inc",code2:"",name:"Indic languages"},{code3:"ind",code2:"id",name:"Indonesian"},{code3:"ine",code2:"",name:"Indo-European languages"},{code3:"inh",code2:"",name:"Ingush"},{code3:"ipk",code2:"ik",name:"Inupiaq"},{code3:"ira",code2:"",name:"Iranian languages"},{code3:"iro",code2:"",name:"Iroquoian languages"},{code3:"isl",code2:"is",name:"Icelandic"},{code3:"ita",code2:"it",name:"Italian"},{code3:"jav",code2:"jv",name:"Javanese"},{code3:"jbo",code2:"",name:"Lojban"},{code3:"jpn",code2:"ja",name:"Japanese"},{code3:"jpr",code2:"",name:"Judeo-Persian"},{code3:"jrb",code2:"",name:"Judeo-Arabic"},{code3:"kaa",code2:"",name:"Kara-Kalpak"},{code3:"kab",code2:"",name:"Kabyle"},{code3:"kac",code2:"",name:"Kachin; Jingpho"},{code3:"kal",code2:"kl",name:"Kalaallisut"},{code3:"kam",code2:"",name:"Kamba"},{code3:"kan",code2:"kn",name:"Kannada"},{code3:"kar",code2:"",name:"Karen languages"},{code3:"kas",code2:"ks",name:"Kashmiri"},{code3:"kat",code2:"ka",name:"Georgian"},{code3:"kau",code2:"kr",name:"Kanuri"},{code3:"kaw",code2:"",name:"Kawi"},{code3:"kaz",code2:"kk",name:"Kazakh"},{code3:"kbd",code2:"",name:"Kabardian"},{code3:"kha",code2:"",name:"Khasi"},{code3:"khi",code2:"",name:"Khoisan languages"},{code3:"khm",code2:"km",name:"Central Khmer"},{code3:"kho",code2:"",name:"Khotanese; Sakan"},{code3:"kik",code2:"ki",name:"Kikuyu; Gikuyu"},{code3:"kin",code2:"rw",name:"Kinyarwanda"},{code3:"kir",code2:"ky",name:"Kirghiz; Kyrgyz"},{code3:"kmb",code2:"",name:"Kimbundu"},{code3:"kok",code2:"",name:"Konkani"},{code3:"kom",code2:"kv",name:"Komi"},{code3:"kon",code2:"kg",name:"Kongo"},{code3:"kor",code2:"ko",name:"Korean"},{code3:"kos",code2:"",name:"Kosraean"},{code3:"kpe",code2:"",name:"Kpelle"},{code3:"krc",code2:"",name:"Karachay-Balkar"},{code3:"krl",code2:"",name:"Karelian"},{code3:"kro",code2:"",name:"Kru languages"},{code3:"kru",code2:"",name:"Kurukh"},{code3:"kua",code2:"kj",name:"Kuanyama; Kwanyama"},{code3:"kum",code2:"",name:"Kumyk"},{code3:"kur",code2:"ku",name:"Kurdish"},{code3:"kut",code2:"",name:"Kutenai"},{code3:"lad",code2:"",name:"Ladino"},{code3:"lah",code2:"",name:"Lahnda"},{code3:"lam",code2:"",name:"Lamba"},{code3:"lao",code2:"lo",name:"Lao"},{code3:"lat",code2:"la",name:"Latin"},{code3:"lav",code2:"lv",name:"Latvian"},{code3:"lez",code2:"",name:"Lezghian"},{code3:"lim",code2:"li",name:"Limburgish"},{code3:"lin",code2:"ln",name:"Lingala"},{code3:"lit",code2:"lt",name:"Lithuanian"},{code3:"lol",code2:"",name:"Mongo"},{code3:"loz",code2:"",name:"Lozi"},{code3:"ltz",code2:"lb",name:"Luxembourgish"},{code3:"lua",code2:"",name:"Luba-Lulua"},{code3:"lub",code2:"lu",name:"Luba-Katanga"},{code3:"lug",code2:"lg",name:"Ganda"},{code3:"lui",code2:"",name:"Luiseno"},{code3:"lun",code2:"",name:"Lunda"},{code3:"luo",code2:"",name:"Luo (Kenya and Tanzania)"},{code3:"lus",code2:"",name:"Lushai"},{code3:"mac",code2:"mk",name:"Macedonian"},{code3:"mad",code2:"",name:"Madurese"},{code3:"mag",code2:"",name:"Magahi"},{code3:"mah",code2:"mh",name:"Marshallese"},{code3:"mai",code2:"",name:"Maithili"},{code3:"mak",code2:"",name:"Makasar"},{code3:"mal",code2:"ml",name:"Malayalam"},{code3:"man",code2:"",name:"Mandingo"},{code3:"mao",code2:"mi",name:"Maori"},{code3:"map",code2:"",name:"Austronesian languages"},{code3:"mar",code2:"mr",name:"Marathi"},{code3:"mas",code2:"",name:"Masai"},{code3:"may",code2:"ms",name:"Malay"},{code3:"mdf",code2:"",name:"Moksha"},{code3:"mdr",code2:"",name:"Mandar"},{code3:"men",code2:"",name:"Mende"},{code3:"mga",code2:"",name:"Irish, Middle (900-1200)"},{code3:"mic",code2:"",name:"Mi'kmaq; Micmac"},{code3:"min",code2:"",name:"Minangkabau"},{code3:"mis",code2:"",name:"Uncoded languages"},{code3:"mkd",code2:"mk",name:"Macedonian"},{code3:"mkh",code2:"",name:"Mon-Khmer languages"},{code3:"mlg",code2:"mg",name:"Malagasy"},{code3:"mlt",code2:"mt",name:"Maltese"},{code3:"mnc",code2:"",name:"Manchu"},{code3:"mni",code2:"",name:"Manipuri"},{code3:"mno",code2:"",name:"Manobo languages"},{code3:"moh",code2:"",name:"Mohawk"},{code3:"mon",code2:"mn",name:"Mongolian"},{code3:"mos",code2:"",name:"Mossi"},{code3:"mri",code2:"mi",name:"Maori"},{code3:"msa",code2:"ms",name:"Malay"},{code3:"mul",code2:"",name:"Multiple languages"},{code3:"mun",code2:"",name:"Munda languages"},{code3:"mus",code2:"",name:"Creek"},{code3:"mwl",code2:"",name:"Mirandese"},{code3:"mwr",code2:"",name:"Marwari"},{code3:"mya",code2:"my",name:"Burmese"},{code3:"myn",code2:"",name:"Mayan languages"},{code3:"myv",code2:"",name:"Erzya"},{code3:"nah",code2:"",name:"Nahuatl languages"},{code3:"nai",code2:"",name:"North American Indian languages"},{code3:"nap",code2:"",name:"Neapolitan"},{code3:"nau",code2:"na",name:"Nauru"},{code3:"nav",code2:"nv",name:"Navajo"},{code3:"nbl",code2:"nr",name:"South Ndebele"},{code3:"nde",code2:"nd",name:"North Ndebele"},{code3:"ndo",code2:"ng",name:"Ndonga"},{code3:"nds",code2:"",name:"Low German; Low Saxon; German, Low; Saxon, Low"},{code3:"nep",code2:"ne",name:"Nepali"},{code3:"new",code2:"",name:"Nepal Bhasa; Newari"},{code3:"nia",code2:"",name:"Nias"},{code3:"nic",code2:"",name:"Niger-Kordofanian languages"},{code3:"niu",code2:"",name:"Niuean"},{code3:"nld",code2:"nl",name:"Dutch; Flemish"},{code3:"nno",code2:"nn",name:"Norwegian Nynorsk"},{code3:"nob",code2:"nb",name:"Norwegian Bokm\xe5l"},{code3:"nog",code2:"",name:"Nogai"},{code3:"non",code2:"",name:"Norse, Old"},{code3:"nor",code2:"no",name:"Norwegian"},{code3:"nqo",code2:"",name:"N'Ko"},{code3:"nso",code2:"",name:"Pedi; Sepedi; Northern Sotho"},{code3:"nub",code2:"",name:"Nubian languages"},{code3:"nwc",code2:"",name:"Classical Newari; Old Newari; Classical Nepal Bhasa"},{code3:"nya",code2:"ny",name:"Chichewa; Chewa; Nyanja"},{code3:"nym",code2:"",name:"Nyamwezi"},{code3:"nyn",code2:"",name:"Nyankole"},{code3:"nyo",code2:"",name:"Nyoro"},{code3:"nzi",code2:"",name:"Nzima"},{code3:"oci",code2:"oc",name:"Occitan (post 1500)"},{code3:"oji",code2:"oj",name:"Ojibwa"},{code3:"ori",code2:"or",name:"Oriya"},{code3:"orm",code2:"om",name:"Oromo"},{code3:"osa",code2:"",name:"Osage"},{code3:"oss",code2:"os",name:"Ossetic"},{code3:"ota",code2:"",name:"Turkish, Ottoman (1500-1928)"},{code3:"oto",code2:"",name:"Otomian languages"},{code3:"paa",code2:"",name:"Papuan languages"},{code3:"pag",code2:"",name:"Pangasinan"},{code3:"pal",code2:"",name:"Pahlavi"},{code3:"pam",code2:"",name:"Pampanga; Kapampangan"},{code3:"pan",code2:"pa",name:"Panjabi; Punjabi"},{code3:"pap",code2:"",name:"Papiamento"},{code3:"pau",code2:"",name:"Palauan"},{code3:"peo",code2:"",name:"Persian, Old (ca.600-400 B.C.)"},{code3:"per",code2:"fa",name:"Persian"},{code3:"phi",code2:"",name:"Philippine languages"},{code3:"phn",code2:"",name:"Phoenician"},{code3:"pli",code2:"pi",name:"Pali"},{code3:"pol",code2:"pl",name:"Polish"},{code3:"pon",code2:"",name:"Pohnpeian"},{code3:"por",code2:"pt",name:"Portuguese"},{code3:"pra",code2:"",name:"Prakrit languages"},{code3:"pro",code2:"",name:"Proven\xe7al, Old (to 1500);Occitan, Old (to 1500)"},{code3:"pus",code2:"ps",name:"Pushto; Pashto"},{code3:"que",code2:"qu",name:"Quechua"},{code3:"raj",code2:"",name:"Rajasthani"},{code3:"rap",code2:"",name:"Rapanui"},{code3:"rar",code2:"",name:"Rarotongan; Cook Islands Maori"},{code3:"roa",code2:"",name:"Romance languages"},{code3:"roh",code2:"rm",name:"Romansh"},{code3:"rom",code2:"",name:"Romany"},{code3:"rum",code2:"ro",name:"Romanian"},{code3:"ron",code2:"ro",name:"Romanian"},{code3:"run",code2:"rn",name:"Rundi"},{code3:"rup",code2:"",name:"Aromanian; Arumanian; Macedo-Romanian"},{code3:"rus",code2:"ru",name:"Russian"},{code3:"sad",code2:"",name:"Sandawe"},{code3:"sag",code2:"sg",name:"Sango"},{code3:"sah",code2:"",name:"Yakut"},{code3:"sai",code2:"",name:"South American Indian languages"},{code3:"sal",code2:"",name:"Salishan languages"},{code3:"sam",code2:"",name:"Samaritan Aramaic"},{code3:"san",code2:"sa",name:"Sanskrit"},{code3:"sas",code2:"",name:"Sasak"},{code3:"sat",code2:"",name:"Santali"},{code3:"scn",code2:"",name:"Sicilian"},{code3:"sco",code2:"",name:"Scots"},{code3:"sel",code2:"",name:"Selkup"},{code3:"sem",code2:"",name:"Semitic languages"},{code3:"sga",code2:"",name:"Irish, Old (to 900)"},{code3:"sgn",code2:"",name:"Sign Languages"},{code3:"shn",code2:"",name:"Shan"},{code3:"sid",code2:"",name:"Sidamo"},{code3:"sin",code2:"si",name:"Sinhala; Sinhalese"},{code3:"sio",code2:"",name:"Siouan languages"},{code3:"sit",code2:"",name:"Sino-Tibetan languages"},{code3:"sla",code2:"",name:"Slavic languages"},{code3:"slo",code2:"sk",name:"Slovak"},{code3:"slk",code2:"sk",name:"Slovak"},{code3:"slv",code2:"sl",name:"Slovenian"},{code3:"sma",code2:"",name:"Southern Sami"},{code3:"sme",code2:"se",name:"Northern Sami"},{code3:"smi",code2:"",name:"Sami languages"},{code3:"smj",code2:"",name:"Lule Sami"},{code3:"smn",code2:"",name:"Inari Sami"},{code3:"smo",code2:"sm",name:"Samoan"},{code3:"sms",code2:"",name:"Skolt Sami"},{code3:"sna",code2:"sn",name:"Shona"},{code3:"snd",code2:"sd",name:"Sindhi"},{code3:"snk",code2:"",name:"Soninke"},{code3:"sog",code2:"",name:"Sogdian"},{code3:"som",code2:"so",name:"Somali"},{code3:"son",code2:"",name:"Songhai languages"},{code3:"sot",code2:"st",name:"Sotho, Southern"},{code3:"spa",code2:"es",name:"Spanish"},{code3:"sqi",code2:"sq",name:"Albanian"},{code3:"srd",code2:"sc",name:"Sardinian"},{code3:"srn",code2:"",name:"Sranan Tongo"},{code3:"srp",code2:"sr",name:"Serbian"},{code3:"srr",code2:"",name:"Serer"},{code3:"ssa",code2:"",name:"Nilo-Saharan languages"},{code3:"ssw",code2:"ss",name:"Swati"},{code3:"suk",code2:"",name:"Sukuma"},{code3:"sun",code2:"su",name:"Sundanese"},{code3:"sus",code2:"",name:"Susu"},{code3:"sux",code2:"",name:"Sumerian"},{code3:"swa",code2:"sw",name:"Swahili"},{code3:"swe",code2:"sv",name:"Swedish"},{code3:"syc",code2:"",name:"Classical Syriac"},{code3:"syr",code2:"",name:"Syriac"},{code3:"tah",code2:"ty",name:"Tahitian"},{code3:"tai",code2:"",name:"Tai languages"},{code3:"tam",code2:"ta",name:"Tamil"},{code3:"tat",code2:"tt",name:"Tatar"},{code3:"tel",code2:"te",name:"Telugu"},{code3:"tem",code2:"",name:"Timne"},{code3:"ter",code2:"",name:"Tereno"},{code3:"tet",code2:"",name:"Tetum"},{code3:"tgk",code2:"tg",name:"Tajik"},{code3:"tgl",code2:"tl",name:"Tagalog"},{code3:"tha",code2:"th",name:"Thai"},{code3:"tib",code2:"bo",name:"Tibetan"},{code3:"tig",code2:"",name:"Tigre"},{code3:"tir",code2:"ti",name:"Tigrinya"},{code3:"tiv",code2:"",name:"Tiv"},{code3:"tkl",code2:"",name:"Tokelau"},{code3:"tlh",code2:"",name:"Klingon; tlhIngan-Hol"},{code3:"tli",code2:"",name:"Tlingit"},{code3:"tmh",code2:"",name:"Tamashek"},{code3:"tog",code2:"",name:"Tonga (Nyasa)"},{code3:"ton",code2:"to",name:"Tonga (Tonga Islands)"},{code3:"tpi",code2:"",name:"Tok Pisin"},{code3:"tsi",code2:"",name:"Tsimshian"},{code3:"tsn",code2:"tn",name:"Tswana"},{code3:"tso",code2:"ts",name:"Tsonga"},{code3:"tuk",code2:"tk",name:"Turkmen"},{code3:"tum",code2:"",name:"Tumbuka"},{code3:"tup",code2:"",name:"Tupi languages"},{code3:"tur",code2:"tr",name:"Turkish"},{code3:"tut",code2:"",name:"Altaic languages"},{code3:"tvl",code2:"",name:"Tuvalu"},{code3:"twi",code2:"tw",name:"Twi"},{code3:"tyv",code2:"",name:"Tuvinian"},{code3:"udm",code2:"",name:"Udmurt"},{code3:"uga",code2:"",name:"Ugaritic"},{code3:"uig",code2:"ug",name:"Uighur; Uyghur"},{code3:"ukr",code2:"uk",name:"Ukrainian"},{code3:"umb",code2:"",name:"Umbundu"},{code3:"und",code2:"",name:"Undetermined"},{code3:"urd",code2:"ur",name:"Urdu"},{code3:"uzb",code2:"uz",name:"Uzbek"},{code3:"vai",code2:"",name:"Vai"},{code3:"ven",code2:"ve",name:"Venda"},{code3:"vie",code2:"vi",name:"Vietnamese"},{code3:"vol",code2:"vo",name:"Volap\xfck"},{code3:"vot",code2:"",name:"Votic"},{code3:"wak",code2:"",name:"Wakashan languages"},{code3:"wal",code2:"",name:"Wolaitta; Wolaytta"},{code3:"war",code2:"",name:"Waray"},{code3:"was",code2:"",name:"Washo"},{code3:"wel",code2:"cy",name:"Welsh"},{code3:"wen",code2:"",name:"Sorbian languages"},{code3:"wln",code2:"wa",name:"Walloon"},{code3:"wol",code2:"wo",name:"Wolof"},{code3:"xal",code2:"",name:"Kalmyk; Oirat"},{code3:"xho",code2:"xh",name:"Xhosa"},{code3:"yao",code2:"",name:"Yao"},{code3:"yap",code2:"",name:"Yapese"},{code3:"yid",code2:"yi",name:"Yiddish"},{code3:"yor",code2:"yo",name:"Yoruba"},{code3:"ypk",code2:"",name:"Yupik languages"},{code3:"zap",code2:"",name:"Zapotec"},{code3:"zbl",code2:"",name:"Blissymbols; Blissymbolics; Bliss"},{code3:"zen",code2:"",name:"Zenaga"},{code3:"zgh",code2:"",name:"Standard Moroccan Tamazight"},{code3:"zha",code2:"za",name:"Zhuang; Chuang"},{code3:"zho",code2:"zh",name:"Chinese"},{code3:"znd",code2:"",name:"Zande languages"},{code3:"zul",code2:"zu",name:"Zulu"},{code3:"zun",code2:"",name:"Zuni"},{code3:"zza",code2:"",name:"Zaza; Dimili; Dimli; Kirdki; Kirmanjki; Zazaki"}],r=Object.fromEntries(a.map((e=>[e.code2,e]))),i=Object.fromEntries(a.map((e=>[e.code3,e])));r.fa&&(i.pes=r.fa)},5295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Logger:()=>j,logger:()=>v});var o=s(62421),n=s(49258),a=s(84624);let r=function(e){return e.Default="logger",e.Session="session",e.Notifications="notifications",e.ConversationAgent="conversation-agent",e.DMsAgent="dms-agent",e.ReportDialog="report-dialog",e.FeedFeedback="feed-feedback",e.PostSource="post-source",e.AgeAssurance="age-assurance",e.PolicyUpdate="policy-update",e.Geolocation="geolocation",e.Drafts="drafts",e.Metric="metric",e}({}),i=function(e){return e.Debug="debug",e.Info="info",e.Log="log",e.Warn="warn",e.Error="error",e}({});const l={[i.Debug]:[i.Debug,i.Info,i.Log,i.Warn,i.Error],[i.Info]:[i.Info,i.Log,i.Warn,i.Error],[i.Log]:[i.Log,i.Warn,i.Error],[i.Warn]:[i.Warn,i.Error],[i.Error]:[i.Error]};function c(e){return Object.keys(e).reduce(((t,s)=>{let o=e[s];return o instanceof Error&&(o=o.toString()),"object"===typeof o&&null!==o&&0===Object.keys(o).length&&o.constructor===Object?t:Object.assign({},t,{[s]:o})}),{})}var d=s(43535);const u=(e,t,s,o,n)=>{const r=Object.keys(o).length;if(d.IS_WEB){i.Debug,i.Info,i.Log,i.Warn,i.Error,(0,a.default)(n,"HH:mm:ss"),s&&s.toString();Error}else{const l=function([e,t]){const s=new RegExp(`\\x1b\\[${t}m`,"g"),o=`\x1b[${e}m`,n=`\x1b[${t}m`;return function(e){return null==e?e:o+(~(""+e).indexOf(n)?e.replace(s,n+o):e)+n}}({[i.Debug]:m.magenta,[i.Info]:m.blue,[i.Log]:m.green,[i.Warn]:m.yellow,[i.Error]:m.red}[e]);let d=`${l((0,a.default)(n,"HH:mm:ss"))}`;t&&(d+=` ${l(`(${t})`)}`),s&&(d+=` ${s.toString()}`),r&&(d+=` ${JSON.stringify(c(o),null,2)}`),Error}},m={default:[0,0],blue:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};var h=s(63366),p=s(98285),f=s(22706);const g=["type","tags"],x=(e,t,s,o,n)=>{let{type:a,tags:r}=o,l=(0,h.default)(o,g);if(e===i.Debug)return;const d=Object.assign({__context__:t},c(l));let u=r||{};if(u=Object.assign({category:t},r),"string"===typeof s){const o={[i.Debug]:"debug",[i.Info]:"info",[i.Log]:"log",[i.Warn]:"warning",[i.Error]:"error"}[e];if(f.addBreadcrumb({category:t,message:s,data:d,type:a||"default",level:o,timestamp:n/1e3}),(0,p.isNetworkError)(s))return;"error"!==e&&"warn"!==e&&"log"!==e||function(e,t){_.push([e,t]),y||(y=setTimeout((()=>{y=null,function(){for(;_.length>0;){const e=_.shift();e&&f.captureMessage(e[0],e[1])}}()}),7e3))}(s,{level:o,tags:u,extra:d})}else f.captureException(s,{tags:u,extra:d})},_=[];let y=null;const b=function(){switch(d.ENV){case"production":return[x].filter(Boolean);case"test":return[];default:return[u]}}();class j{static Level=i;static Context=r;context=void 0;contextFilter="";ambientMetadata={};debugContextRegexes=[];transports=[];static create(e,t={}){const s=new j({level:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_LEVEL,context:e,contextFilter:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.117.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_next.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",newArchEnabled:!1,androidStatusBar:{barStyle:"light-content",backgroundColor:"#006AFF"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_DEBUG||"",metadata:t});for(const o of b)s.addTransport(o);return s}constructor({level:e,context:t,contextFilter:s,metadata:o={}}={}){this.context=t,this.level=e||i.Info,this.contextFilter=s||"",this.ambientMetadata=o,this.contextFilter&&(this.level=i.Debug),this.debugContextRegexes=(this.contextFilter||"").split(",").map((e=>new RegExp(e.replace(/[^\w:*-]/,"").replace(/\*/g,".*"))))}debug(e,t={}){this.transport({level:i.Debug,message:e,metadata:t})}info(e,t={}){this.transport({level:i.Info,message:e,metadata:t})}log(e,t={}){this.transport({level:i.Log,message:e,metadata:t})}warn(e,t={}){this.transport({level:i.Warn,message:e,metadata:t})}error(e,t={}){this.transport({level:i.Error,message:e,metadata:t})}addTransport(e){return this.transports.push(e),()=>{this.transports.splice(this.transports.indexOf(e),1)}}transport({level:e,message:t,metadata:s={}}){if(e===i.Debug&&this.contextFilter&&this.context&&!this.debugContextRegexes.find((e=>e.test(this.context))))return;const a=Date.now(),r=Object.assign({__metadata__:this.ambientMetadata},s);if((0,n.add)({id:(0,o.nanoid)(),timestamp:a,level:e,context:this.context,message:t,metadata:r}),l[this.level].includes(e))for(const o of this.transports)o(e,this.context,t,r,a)}}const v=j.create(j.Context.Default)},49258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{add:()=>n,getEntries:()=>a});let o=[];function n(e){o.unshift(e),o=o.slice(0,500)}function a(){return o}},54993:()=>{window.__BUNDLE_START_TIME__=performance.now()},95032:(e,t,s)=>{"use strict";s.r(t),s.d(t,{router:()=>n});function o(e){const t=new Set;let s=e.replace(/:([\w]+)/g,((e,s)=>(t.add(s),`(?<${s}>[^/]+)`)));const o=new RegExp(`^${s}([?]|$)`,"i");return{match(e){const{pathname:t,searchParams:s}=new URL(e,"http://throwaway.com"),n=Object.fromEntries(s.entries()),a=o.exec(t);if(a)return{params:Object.assign(n,a.groups||{})}},build(s={}){const o=e.replace(/:([\w]+)/g,((e,t)=>s[encodeURIComponent(t)]||"undefined"));let n=!1;const a=new URLSearchParams;for(const e in s)t.has(e)||(a.set(e,s[e]),n=!0);return o+(n?`?${a.toString()}`:"")}}}const n=new class{routes=[];constructor(e){for(const[t,s]of Object.entries(e))"string"===typeof s?this.routes.push([t,o(s)]):s.forEach((e=>{this.routes.push([t,o(e)])}))}matchName(e){for(const[t,s]of this.routes)if(t===e)return s}matchPath(e){let t="NotFound",s={};for(const[o,n]of this.routes){const a=n.match(e);if(a){t=o,s=a.params;break}}return[t,s]}}({Home:["/","/download"],Search:"/search",Feeds:"/feeds",Notifications:"/notifications",NotificationsActivityList:"/notifications/activity",LegacyNotificationSettings:"/notifications/settings",Settings:"/settings",Lists:"/lists",Moderation:"/moderation",ModerationModlists:"/moderation/modlists",ModerationMutedAccounts:"/moderation/muted-accounts",ModerationBlockedAccounts:"/moderation/blocked-accounts",ModerationInteractionSettings:"/moderation/interaction-settings",ModerationVerificationSettings:"/moderation/verification-settings",Profile:["/profile/:name","/profile/:name/rss"],ProfileFollowers:"/profile/:name/followers",ProfileFollows:"/profile/:name/follows",ProfileKnownFollowers:"/profile/:name/known-followers",ProfileSearch:"/profile/:name/search",ProfileList:"/profile/:name/lists/:rkey",PostThread:"/profile/:name/post/:rkey",PostLikedBy:"/profile/:name/post/:rkey/liked-by",PostRepostedBy:"/profile/:name/post/:rkey/reposted-by",PostQuotes:"/profile/:name/post/:rkey/quotes",ProfileFeed:"/profile/:name/feed/:rkey",ProfileFeedLikedBy:"/profile/:name/feed/:rkey/liked-by",ProfileLabelerLikedBy:"/profile/:name/labeler/liked-by",Debug:"/sys/debug",DebugMod:"/sys/debug-mod",Log:"/sys/log",LanguageSettings:"/settings/language",AppPasswords:"/settings/app-passwords",PreferencesFollowingFeed:"/settings/following-feed",PreferencesThreads:"/settings/threads",PreferencesExternalEmbeds:"/settings/external-embeds",AccessibilitySettings:"/settings/accessibility",AppearanceSettings:"/settings/appearance",SavedFeeds:"/settings/saved-feeds",AccountSettings:"/settings/account",PrivacyAndSecuritySettings:"/settings/privacy-and-security",ActivityPrivacySettings:"/settings/privacy-and-security/activity",ContentAndMediaSettings:"/settings/content-and-media",InterestsSettings:"/settings/interests",AboutSettings:"/settings/about",AppIconSettings:"/settings/app-icon",NotificationSettings:"/settings/notifications",ReplyNotificationSettings:"/settings/notifications/replies",MentionNotificationSettings:"/settings/notifications/mentions",QuoteNotificationSettings:"/settings/notifications/quotes",LikeNotificationSettings:"/settings/notifications/likes",RepostNotificationSettings:"/settings/notifications/reposts",NewFollowerNotificationSettings:"/settings/notifications/new-followers",LikesOnRepostsNotificationSettings:"/settings/notifications/likes-on-reposts",RepostsOnRepostsNotificationSettings:"/settings/notifications/reposts-on-reposts",ActivityNotificationSettings:"/settings/notifications/activity",MiscellaneousNotificationSettings:"/settings/notifications/miscellaneous",FindContactsSettings:"/settings/find-contacts",Support:"/support",PrivacyPolicy:"/support/privacy",TermsOfService:"/support/tos",CommunityGuidelines:"/support/community-guidelines",CopyrightPolicy:"/support/copyright",Hashtag:"/hashtag/:tag",Topic:"/topic/:topic",Messages:"/messages",MessagesSettings:"/messages/settings",MessagesInbox:"/messages/inbox",MessagesConversation:"/messages/:conversation",Start:"/start/:name/:rkey",StarterPackEdit:"/starter-pack/edit/:rkey",StarterPack:"/starter-pack/:name/:rkey",StarterPackShort:"/starter-pack-short/:code",StarterPackWizard:"/starter-pack/create",VideoFeed:"/video-feed",Bookmarks:"/saved",FindContactsFlow:"/find-contacts"})},59857:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ProfileHeaderHandle:()=>C});var o=s(15991),n=s(67842),a=s(96963),r=s(56947),i=s(19552),l=s(95004),c=s(66949),d=s(52210),u=s(17110),m=s(15186),h=s(21605),p=s(15874),f=s(97154),g=s(51536),x=s(63410);const _=(0,s(2064).createSinglePathSVG)({path:"M11.183 8.561c0 .544.348.984.892.984.545 0 .893-.44.893-.985V6.985c0-.544-.348-.985-.893-.985-.543 0-.892.44-.892.985v1.576Zm5.94 7.481c0 .539-.438.942-.976.942H8.004c-.538 0-.975-.411-.975-.95 0-2.782 2.264-5.021 5.046-5.021 2.783 0 5.047 2.247 5.047 5.03Zm-.43-4.584a.983.983 0 0 1 0-1.393l1.114-1.114a.985.985 0 0 1 1.393 1.393l-1.114 1.114a.985.985 0 0 1-1.393 0Zm2.897 3.741h1.575c.544 0 .985.349.985.892 0 .544-.44.892-.985.892h-1.67a.872.872 0 0 1-.89-.887c0-.543.44-.897.985-.897Zm-14.045.893c0-.544-.44-.892-.985-.892H2.985c-.544 0-.985.349-.985.892 0 .544.44.892.985.892H4.56c.545 0 .985-.349.985-.892Zm1.913-6.027a.985.985 0 0 1-1.393 1.393L4.95 10.344A.985.985 0 0 1 6.344 8.95l1.114 1.114Z"});var y=s(50996),b=s(23486),j=s(43535),v=s(2629);function S(e){const t=(0,o.c)(19),{profile:s,disabled:r}=e,{_:c}=(0,a.useLingui)(),m=(0,x.useDialogControl)(),h=s.createdAt,[p]=(0,l.useState)(T);let f;f=h?(0,d.default)(p,new Date(h))/86400:1/0;if(!h||f>7)return null;let _,y,b,j,S,C,I,A;return t[0]===Symbol.for("react.memo_cache_sentinel")?(_=[i.atoms.pr_2xs],t[0]=_):_=t[0],t[1]!==c?(y=c({id:"XUAy/D"}),t[1]=c,t[2]=y):y=t[2],t[3]!==m.open||t[4]!==r||t[5]!==y?(b=(0,v.jsx)(g.Button,{disabled:r,label:y,hitSlop:u.HITSLOP_10,onPress:m.open,children:w}),t[3]=m.open,t[4]=r,t[5]=y,t[6]=b):b=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(j={preventExpansion:!0},S=(0,v.jsx)(x.Handle,{}),t[7]=j,t[8]=S):(j=t[7],S=t[8]),t[9]!==h||t[10]!==p||t[11]!==s?(C=(0,v.jsx)(k,{profile:s,createdAt:h,now:p}),t[9]=h,t[10]=p,t[11]=s,t[12]=C):C=t[12],t[13]!==m||t[14]!==C?(I=(0,v.jsxs)(x.Outer,{control:m,nativeOptions:j,children:[S,C]}),t[13]=m,t[14]=C,t[15]=I):I=t[15],t[16]!==b||t[17]!==I?(A=(0,v.jsxs)(n.default,{style:_,children:[b,I]}),t[16]=b,t[17]=I,t[18]=A):A=t[18],A}function w(e){const{hovered:t,pressed:s}=e;return(0,v.jsx)(_,{size:"lg",fill:"#FFC404",style:{opacity:t||s?.5:1}})}function T(){return Date.now()}function k(e){const t=(0,o.c)(42),{profile:s,createdAt:r,now:l}=e,d=x.useDialogContext(),{_:u}=(0,a.useLingui)(),S=(0,i.useTheme)(),w=(0,p.useModerationOpts)(),{currentAccount:T}=(0,f.useSession)(),k=(0,m.useGetTimeAgo)(),C=s.did===T?.did;let I;e:{if(!w){I=s.displayName||s.handle;break e}let e;if(t[0]!==w||t[1]!==s){const o=(0,c.moderateProfile)(s,w);e=(0,h.sanitizeDisplayName)(s.displayName||s.handle,o.ui("displayName")),t[0]=w,t[1]=s,t[2]=e}else e=t[2];I=e}const A=I;let P;t[3]!==u||t[4]!==r||t[5]!==C||t[6]!==l||t[7]!==s.joinedViaStarterPack||t[8]!==A||t[9]!==k?(P=()=>{const e=k(r,l,{format:"long"});return C?s.joinedViaStarterPack?u({id:"vsdeY2",values:{timeAgoString:e}}):u({id:"Wf4SRR",values:{timeAgoString:e}}):s.joinedViaStarterPack?u({id:"AETlrv",values:{profileName:A,timeAgoString:e}}):u({id:"ehdCS5",values:{profileName:A,timeAgoString:e}})},t[3]=u,t[4]=r,t[5]=C,t[6]=l,t[7]=s.joinedViaStarterPack,t[8]=A,t[9]=k,t[10]=P):P=t[10];const E=P;let L,R,B,D,O,M,F,N,H,V,z,U,W,G,q,Q;return t[11]!==u?(L=u({id:"EAVs6S"}),t[11]=u,t[12]=L):L=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(R=(0,i.web)({maxWidth:400}),t[13]=R):R=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(B=[i.atoms.gap_md],t[14]=B):B=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(D=[i.atoms.align_center],t[15]=D):D=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(O=[{height:60,width:64}],t[16]=O):O=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(M=(0,v.jsx)(n.default,{style:O,children:(0,v.jsx)(_,{width:64,height:64,fill:"#FFC404",style:[i.atoms.absolute,i.atoms.inset_0]})}),t[17]=M):M=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(F=[i.atoms.font_semi_bold,i.atoms.text_xl],t[18]=F):F=t[18],t[19]!==C?(N=(0,v.jsxs)(n.default,{style:D,children:[M,(0,v.jsx)(b.Text,{style:F,children:C?(0,v.jsx)(a.Trans,{id:"IggGM3"}):(0,v.jsx)(a.Trans,{id:"z0lIxU"})})]}),t[19]=C,t[20]=N):N=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(H=[i.atoms.text_md,i.atoms.text_center,i.atoms.leading_snug],t[21]=H):H=t[21],t[22]!==E?(V=E(),t[22]=E,t[23]=V):V=t[23],t[24]!==V?(z=(0,v.jsx)(b.Text,{style:H,children:V}),t[24]=V,t[25]=z):z=t[25],t[26]!==d||t[27]!==s.joinedViaStarterPack||t[28]!==S?(U=s.joinedViaStarterPack?(0,v.jsx)(y.Link,{starterPack:s.joinedViaStarterPack,onPress:()=>d.close(),children:(0,v.jsx)(n.default,{style:[i.atoms.w_full,i.atoms.mt_sm,i.atoms.p_lg,i.atoms.border,i.atoms.rounded_sm,S.atoms.border_contrast_low],children:(0,v.jsx)(y.Card,{starterPack:s.joinedViaStarterPack})})}):null,t[26]=d,t[27]=s.joinedViaStarterPack,t[28]=S,t[29]=U):U=t[29],t[30]!==u||t[31]!==d?(W=j.IS_NATIVE&&(0,v.jsx)(g.Button,{label:u({id:"yz7wBu"}),color:"secondary",size:"small",style:[i.atoms.mt_sm],onPress:()=>d.close(),children:(0,v.jsx)(g.ButtonText,{children:(0,v.jsx)(a.Trans,{id:"yz7wBu"})})}),t[30]=u,t[31]=d,t[32]=W):W=t[32],t[33]!==N||t[34]!==z||t[35]!==U||t[36]!==W?(G=(0,v.jsxs)(n.default,{style:B,children:[N,z,U,W]}),t[33]=N,t[34]=z,t[35]=U,t[36]=W,t[37]=G):G=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(q=(0,v.jsx)(x.Close,{}),t[38]=q):q=t[38],t[39]!==G||t[40]!==L?(Q=(0,v.jsxs)(x.ScrollableInner,{label:L,style:R,children:[G,q]}),t[39]=G,t[40]=L,t[41]=Q):Q=t[41],Q}function C(e){const t=(0,o.c)(29),{profile:s,disableTaps:l}=e,c=(0,i.useTheme)(),{_:d}=(0,a.useLingui)();let u;t[0]!==s.handle?(u=(0,r.isInvalidHandle)(s.handle),t[0]=s.handle,t[1]=u):u=t[1];const m=u,h=s.viewer?.blocking||s.viewer?.blockedBy;let p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=[i.atoms.flex_row,i.atoms.gap_sm,i.atoms.align_center,{maxWidth:"100%"}],t[2]=p):p=t[2];const f=l?"none":j.IS_IOS?"auto":"box-none";let g,x,_,y,w,T,k,C;return t[3]!==l||t[4]!==s?(g=(0,v.jsx)(S,{profile:s,disabled:l}),t[3]=l,t[4]=s,t[5]=g):g=t[5],t[6]!==h||t[7]!==s.viewer?.followedBy||t[8]!==c.atoms?(x=s.viewer?.followedBy&&!h?(0,v.jsx)(n.default,{style:[c.atoms.bg_contrast_50,i.atoms.rounded_xs,i.atoms.px_sm,i.atoms.py_xs],children:(0,v.jsx)(b.Text,{style:[c.atoms.text,i.atoms.text_sm],children:(0,v.jsx)(a.Trans,{id:"p3UO/y"})})}):void 0,t[6]=h,t[7]=s.viewer?.followedBy,t[8]=c.atoms,t[9]=x):x=t[9],t[10]!==m||t[11]!==c.atoms||t[12]!==c.palette?(_=m?[i.atoms.border,i.atoms.text_xs,i.atoms.px_sm,i.atoms.py_xs,i.atoms.rounded_xs,{borderColor:c.palette.contrast_200}]:[i.atoms.text_md,i.atoms.leading_snug,c.atoms.text_contrast_medium],t[10]=m,t[11]=c.atoms,t[12]=c.palette,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.web)({wordBreak:"break-all",direction:"ltr",unicodeBidi:"isolate"}),t[14]=y):y=t[14],t[15]!==_?(w=[_,y],t[15]=_,t[16]=w):w=t[16],t[17]!==d||t[18]!==m||t[19]!==s.handle?(T=m?d({id:"5b/z6G"}):(0,r.sanitizeHandle)(s.handle,"@",j.IS_NATIVE),t[17]=d,t[18]=m,t[19]=s.handle,t[20]=T):T=t[20],t[21]!==w||t[22]!==T?(k=(0,v.jsx)(b.Text,{emoji:!0,numberOfLines:1,style:w,children:T}),t[21]=w,t[22]=T,t[23]=k):k=t[23],t[24]!==k||t[25]!==f||t[26]!==g||t[27]!==x?(C=(0,v.jsxs)(n.default,{style:p,pointerEvents:f,children:[g,x,k]}),t[24]=k,t[25]=f,t[26]=g,t[27]=x,t[28]=C):C=t[28],C}},92005:(e,t,s)=>{"use strict";s.r(t),s.d(t,{BadgeButton:()=>P,BadgeText:()=>A,Chevron:()=>I,Container:()=>b,Divider:()=>C,Group:()=>j,Item:()=>v,ItemIcon:()=>T,ItemText:()=>k,LinkItem:()=>S,PressableItem:()=>w});var o=s(63366),n=s(15991),a=s(95004),r=s(67842),i=s(17110),l=s(19552),c=s(51536),d=s(52783),u=s(96449),m=s(91736),h=s(23486),p=s(2629);const f=["children","destructive","contentContainerStyle","chevronColor"],g=["children","destructive","contentContainerStyle","hoverStyle"],x=["style"],_=(0,a.createContext)({destructive:!1,withinGroup:!1});_.displayName="SettingsListItemContext";const y=(0,m.createPortalGroup)();function b(e){const t=(0,n.c)(3),{children:s}=e;let o,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[l.atoms.flex_1,l.atoms.py_md],t[0]=o):o=t[0],t[1]!==s?(a=(0,p.jsx)(r.default,{style:o,children:s}),t[1]=s,t[2]=a):a=t[2],a}function j(e){const t=(0,n.c)(17),{children:s,destructive:o,iconInset:a,style:i,contentContainerStyle:c}=e,d=void 0!==o&&o,u=void 0===a||a;let m;t[0]!==d?(m={destructive:d,withinGroup:!0},t[0]=d,t[1]=m):m=t[1];const h=m;let f,g,x,b,j,S;return t[2]!==i?(f=[l.atoms.w_full,i],t[2]=i,t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=(0,p.jsx)(v,{style:[l.atoms.pb_2xs,{minHeight:42}],children:(0,p.jsx)(y.Outlet,{})}),t[4]=g):g=t[4],t[5]!==c?(x=[l.atoms.flex_col,l.atoms.pt_2xs,l.atoms.align_start,l.atoms.gap_0,c],t[5]=c,t[6]=x):x=t[6],t[7]!==s||t[8]!==u||t[9]!==x?(b=(0,p.jsx)(v,{style:x,iconInset:u,children:s}),t[7]=s,t[8]=u,t[9]=x,t[10]=b):b=t[10],t[11]!==h||t[12]!==b?(j=(0,p.jsx)(y.Provider,{children:(0,p.jsxs)(_.Provider,{value:h,children:[g,b]})}),t[11]=h,t[12]=b,t[13]=j):j=t[13],t[14]!==f||t[15]!==j?(S=(0,p.jsx)(r.default,{style:f,children:j}),t[14]=f,t[15]=j,t[16]=S):S=t[16],S}function v(e){const t=(0,n.c)(15),{children:s,destructive:o,iconInset:i,style:c}=e,d=void 0!==i&&i,u=(0,a.useContext)(_);let m;e:{if("boolean"!==typeof o){m=u;break e}let e;t[0]!==u||t[1]!==o?(e=Object.assign({},u,{destructive:o}),t[0]=u,t[1]=o,t[2]=e):e=t[2],m=e}const h=m;let f,g,x,y,b;return t[3]===Symbol.for("react.memo_cache_sentinel")?(f={minHeight:48},t[3]=f):f=t[3],t[4]!==d?(g=d&&{paddingLeft:l.atoms.pl_xl.paddingLeft+24+l.atoms.gap_sm.gap},t[4]=d,t[5]=g):g=t[5],t[6]!==c||t[7]!==g?(x=[l.atoms.px_xl,l.atoms.py_sm,l.atoms.align_center,l.atoms.gap_sm,l.atoms.w_full,l.atoms.flex_row,f,g,c],t[6]=c,t[7]=g,t[8]=x):x=t[8],t[9]!==h||t[10]!==s?(y=(0,p.jsx)(_.Provider,{value:h,children:s}),t[9]=h,t[10]=s,t[11]=y):y=t[11],t[12]!==x||t[13]!==y?(b=(0,p.jsx)(r.default,{style:x,children:y}),t[12]=x,t[13]=y,t[14]=b):b=t[14],b}function S(e){const t=(0,n.c)(15);let s,a,r,i,c;if(t[0]!==e){var d=e;({children:a,destructive:c,contentContainerStyle:r,chevronColor:s}=d),i=(0,o.default)(d,f),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=i,t[5]=c}else s=t[1],a=t[2],r=t[3],i=t[4],c=t[5];const m=void 0!==c&&c,h=(0,l.useTheme)();let g,x;return t[6]!==s||t[7]!==a||t[8]!==r||t[9]!==m||t[10]!==h?(g=e=>(0,p.jsxs)(v,{destructive:m,style:[(e.hovered||e.pressed)&&[h.atoms.bg_contrast_25],r],children:["function"===typeof a?a(e):a,(0,p.jsx)(I,{color:s})]}),t[6]=s,t[7]=a,t[8]=r,t[9]=m,t[10]=h,t[11]=g):g=t[11],t[12]!==i||t[13]!==g?(x=(0,p.jsx)(u.Link,Object.assign({},i,{children:g})),t[12]=i,t[13]=g,t[14]=x):x=t[14],x}function w(e){const t=(0,n.c)(15);let s,a,r,i,d;if(t[0]!==e){var u=e;({children:s,destructive:d,contentContainerStyle:a,hoverStyle:r}=u),i=(0,o.default)(u,g),t[0]=e,t[1]=s,t[2]=a,t[3]=r,t[4]=i,t[5]=d}else s=t[1],a=t[2],r=t[3],i=t[4],d=t[5];const m=void 0!==d&&d,h=(0,l.useTheme)();let f,x;return t[6]!==s||t[7]!==a||t[8]!==m||t[9]!==r||t[10]!==h?(f=e=>(0,p.jsx)(v,{destructive:m,style:[(e.hovered||e.pressed)&&[h.atoms.bg_contrast_25,r],a],children:"function"===typeof s?s(e):s}),t[6]=s,t[7]=a,t[8]=m,t[9]=r,t[10]=h,t[11]=f):f=t[11],t[12]!==i||t[13]!==f?(x=(0,p.jsx)(c.Button,Object.assign({},i,{children:f})),t[12]=i,t[13]=f,t[14]=x):x=t[14],x}function T(e){const t=(0,n.c)(14),{icon:s,size:o,color:i}=e,c=void 0===o?"lg":o,d=(0,l.useTheme)(),{destructive:u,withinGroup:m}=(0,a.useContext)(_);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h={"2xs":8,xs:12,sm:16,md:20,lg:24,xl:28,"2xl":32,"3xl":40},t[0]=h):h=t[0];const f=h[c],g=i??(u?d.palette.negative_500:d.atoms.text.color);let x,b,j,v;t[1]!==f?(x=[l.atoms.z_20,{width:f,height:f}],t[1]=f,t[2]=x):x=t[2],t[3]!==g?(b=[{color:g}],t[3]=g,t[4]=b):b=t[4],t[5]!==s||t[6]!==f||t[7]!==b?(j=(0,p.jsx)(s,{width:f,style:b}),t[5]=s,t[6]=f,t[7]=b,t[8]=j):j=t[8],t[9]!==x||t[10]!==j?(v=(0,p.jsx)(r.default,{style:x,children:j}),t[9]=x,t[10]=j,t[11]=v):v=t[11];const S=v;if(m){let e;return t[12]!==S?(e=(0,p.jsx)(y.Portal,{children:S}),t[12]=S,t[13]=e):e=t[13],e}return S}function k(e){const t=(0,n.c)(15);let s,r;if(t[0]!==e){var i=e;({style:r}=i),s=(0,o.default)(i,x),t[0]=e,t[1]=s,t[2]=r}else s=t[1],r=t[2];const d=(0,l.useTheme)(),{destructive:u,withinGroup:m}=(0,a.useContext)(_);let h,f,g;t[3]!==u||t[4]!==d.atoms||t[5]!==d.palette?(h=u?{color:d.palette.negative_500}:d.atoms.text,t[3]=u,t[4]=d.atoms,t[5]=d.palette,t[6]=h):h=t[6],t[7]!==r||t[8]!==h?(f=[l.atoms.text_md,l.atoms.font_normal,l.atoms.text_left,l.atoms.flex_1,h,r],t[7]=r,t[8]=h,t[9]=f):f=t[9],t[10]!==s||t[11]!==f?(g=(0,p.jsx)(c.ButtonText,Object.assign({style:f},s)),t[10]=s,t[11]=f,t[12]=g):g=t[12];const b=g;if(m){let e;return t[13]!==b?(e=(0,p.jsx)(y.Portal,{children:b}),t[13]=b,t[14]=e):e=t[14],e}return b}function C(e){const t=(0,n.c)(3),{style:s}=e,o=(0,l.useTheme)();let a;return t[0]!==s||t[1]!==o.atoms.border_contrast_low?(a=(0,p.jsx)(r.default,{style:[l.atoms.border_t,o.atoms.border_contrast_low,l.atoms.w_full,l.atoms.my_sm,s]}),t[0]=s,t[1]=o.atoms.border_contrast_low,t[2]=a):a=t[2],a}function I(e){const t=(0,n.c)(2),{color:s}=e,{destructive:o}=(0,a.useContext)(_),r=(0,l.useTheme)(),i=s??(o?r.palette.negative_500:r.palette.contrast_500);let c;return t[0]!==i?(c=(0,p.jsx)(T,{icon:d.ChevronRight_Stroke2_Corner0_Rounded,size:"md",color:i}),t[0]=i,t[1]=c):c=t[1],c}function A(e){const t=(0,n.c)(6),{children:s,style:o}=e,a=(0,l.useTheme)();let r,i;return t[0]!==o||t[1]!==a.atoms.text_contrast_low?(r=[a.atoms.text_contrast_low,l.atoms.text_md,l.atoms.text_right,l.atoms.leading_snug,o],t[0]=o,t[1]=a.atoms.text_contrast_low,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(i=(0,p.jsx)(h.Text,{style:r,numberOfLines:1,children:s}),t[3]=s,t[4]=r,t[5]=i):i=t[5],i}function P(e){const t=(0,n.c)(8),{label:s,onPress:o}=e,a=(0,l.useTheme)();let r,d;return t[0]!==s||t[1]!==a.palette.contrast_300||t[2]!==a.palette.primary_500?(r=e=>{const{pressed:t}=e;return(0,p.jsx)(c.ButtonText,{style:[l.atoms.text_md,l.atoms.font_normal,l.atoms.text_right,{color:t?a.palette.contrast_300:a.palette.primary_500}],children:s})},t[0]=s,t[1]=a.palette.contrast_300,t[2]=a.palette.primary_500,t[3]=r):r=t[3],t[4]!==s||t[5]!==o||t[6]!==r?(d=(0,p.jsx)(c.Button,{label:s,onPress:o,hitSlop:i.HITSLOP_10,children:r}),t[4]=s,t[5]=o,t[6]=r,t[7]=d):d=t[7],d}},77268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>u,useA11y:()=>d});var o=s(15991),n=s(95004),a=s(45945),r=s(43535),i=s(19882),l=s(2629);const c=n.createContext({reduceMotionEnabled:!1,screenReaderEnabled:!1});function d(){return n.useContext(c)}function u(e){const t=(0,o.c)(8),{children:s}=e,[i,d]=n.useState(m),[u,h]=n.useState(!1);let p,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{const e=a.default.addEventListener("reduceMotionChanged",(e=>{d(e)})),t=a.default.addEventListener("screenReaderChanged",(e=>{h(e)}));return(async()=>{const[e,t]=await Promise.all([a.default.isReduceMotionEnabled(),a.default.isScreenReaderEnabled()]);d(e),h(t)})(),()=>{e.remove(),t.remove()}},f=[],t[0]=p,t[1]=f):(p=t[0],f=t[1]),n.useEffect(p,f);const g=!r.IS_WEB&&u;let x;t[2]!==i||t[3]!==g?(x={reduceMotionEnabled:i,screenReaderEnabled:g},t[2]=i,t[3]=g,t[4]=x):x=t[4];const _=x;let y;return t[5]!==s||t[6]!==_?(y=(0,l.jsx)(c.Provider,{value:_,children:s}),t[5]=s,t[6]=_,t[7]=y):y=t[7],y}function m(){return i.PlatformInfo.getIsReducedMotionEnabled()}c.displayName="A11yContext"},4e3:(e,t,s)=>{"use strict";s.r(t),s.d(t,{hasSnoozedBirthdateUpdateForDid:()=>h,snoozeBirthdateUpdateAllowedForDid:()=>m,useBirthdateMutation:()=>f,useIsBirthdateUpdateAllowed:()=>p});var o=s(15991),n=(s(95004),s(18102)),a=s(37729),r=s(86623),i=s(97154),l=s(8103),c=s(43535),d=s(33520);const u=c.IS_DEV?.001:48;function m(e){d.account.set([e,"birthdateLastUpdatedAt"],(new Date).toISOString())}function h(e){return!!d.account.get([e,"birthdateLastUpdatedAt"])}function p(){const{currentAccount:e}=(0,i.useSession)();let t;e:{if(!e){t=!1;break e}const s=d.account.get([e.did,"birthdateLastUpdatedAt"]);if(!s){t=!0;break e}const o=new Date(s);t=(Date.now()-o.getTime())/36e5>=u}return t}function f(){const e=(0,o.c)(4),t=(0,n.useQueryClient)(),s=(0,i.useAgent)(),c=(0,l.usePatchAgeAssuranceOtherRequiredData)();let d;return e[0]!==s||e[1]!==c||e[2]!==t?(d={mutationFn:async e=>{const{birthDate:o}=e,n=o.toISOString();await s.setPersonalDetails({birthDate:n}),await t.invalidateQueries({queryKey:r.preferencesQueryKey}),c({birthdate:n}),m(s.sessionManager.did)}},e[0]=s,e[1]=c,e[2]=t,e[3]=d):d=e[3],(0,a.useMutation)(d)}},28965:(e,t,s)=>{"use strict";s.r(t),s.d(t,{POST_TOMBSTONE:()=>g,dangerousGetPostShadow:()=>y,updatePostShadow:()=>j,usePostShadow:()=>b});var o=s(15991),n=s(95004),a=s(66949),r=s(58895),i=s(96407),l=s(37246),c=s(14523),d=s(21560),u=s(30511),m=s(19260),h=s(52396),p=s(71100),f=s(51676);const g=Symbol("PostTombstone"),x=new r.default,_=new WeakMap;function y(e){return _.get(e)}function b(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=()=>_.get(e),t[0]=e,t[1]=s):s=t[1];const[r,i]=(0,n.useState)(s),[l,c]=(0,n.useState)(e);let d,u,m;if(e!==l&&(c(e),i(_.get(e))),t[2]!==e?(d=()=>{const t=function(){i(_.get(e))};return x.addListener(e.uri,t),()=>{x.removeListener(e.uri,t)}},u=[e,i],t[2]=e,t[3]=d,t[4]=u):(d=t[3],u=t[4]),(0,n.useEffect)(d,u),r){let s;t[5]!==e||t[6]!==r?(s=function(e,t){if(t.isDeleted)return g;let s=e.likeCount??0;if("likeUri"in t){const o=!!e.viewer?.like,n=!!t.likeUri;o&&!n?s--:!o&&n&&s++,s=Math.max(0,s)}let o=e.bookmarkCount??0;if("bookmarked"in t){const s=!!e.viewer?.bookmarked,n=!!t.bookmarked;s&&!n?o--:!s&&n&&o++,o=Math.max(0,o)}let n=e.repostCount??0;if("repostUri"in t){const s=!!e.viewer?.repost,o=!!t.repostUri;s&&!o?n--:!s&&o&&n++,n=Math.max(0,n)}let r,i=e.replyCount??0;"optimisticReplyCount"in t&&(i=t.optimisticReplyCount??i);"embed"in t&&(a.AppBskyEmbedRecord.isView(e.embed)&&a.AppBskyEmbedRecord.isView(t.embed)||a.AppBskyEmbedRecordWithMedia.isView(e.embed)&&a.AppBskyEmbedRecordWithMedia.isView(t.embed))&&(r=t.embed);return(0,f.castAsShadow)(Object.assign({},e,{embed:r||e.embed,likeCount:s,repostCount:n,replyCount:i,bookmarkCount:o,viewer:Object.assign({},e.viewer||{},{like:"likeUri"in t?t.likeUri:e.viewer?.like,repost:"repostUri"in t?t.repostUri:e.viewer?.repost,pinned:"pinned"in t?t.pinned:e.viewer?.pinned,bookmarked:"bookmarked"in t?t.bookmarked:e.viewer?.bookmarked})}))}(e,r),t[5]=e,t[6]=r,t[7]=s):s=t[7],m=s}else{let s;t[8]!==e?(s=(0,f.castAsShadow)(e),t[8]=e,t[9]=s):s=t[9],m=s}return m}function j(e,t,s){const o=function*(e,t){for(let s of(0,u.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,d.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,p.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,h.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,m.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,c.findAllPostsInQueryData)(e,t))yield s;for(let s of(0,l.findAllPostsInQueryData)(e,t))yield s}(e,t);for(let n of o)_.set(n,Object.assign({},_.get(n),s));(0,i.batchedUpdates)((()=>{x.emit(t)}))}},56436:(e,t,s)=>{"use strict";s.r(t),s.d(t,{updateProfileShadow:()=>F,useMaybeProfileShadow:()=>E,usePostAuthorShadowFilter:()=>L,useProfileShadow:()=>P});var o=s(15991),n=s(95004),a=s(58895),r=s(96407),i=s(15893),l=s(64256),c=s(14523),d=s(49149),u=s(27306),m=s(57598),h=s(55856),p=s(20533),f=s(91154),g=s(21560),x=s(30511),_=s(73818),y=s(19260),b=s(10181),j=s(13369),v=s(33494),S=s(64559),w=s(18251),T=s(14364),k=s(71100),C=s(51676);const I=new WeakMap,A=new a.default;function P(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=()=>I.get(e),t[0]=e,t[1]=s):s=t[1];const[a,r]=(0,n.useState)(s),[i,l]=(0,n.useState)(e);let c,d,u;if(e!==i&&(l(e),r(I.get(e))),t[2]!==e?(c=()=>{const t=function(){r(I.get(e))};return A.addListener(e.did,t),()=>{A.removeListener(e.did,t)}},d=[e],t[2]=e,t[3]=c,t[4]=d):(c=t[3],d=t[4]),(0,n.useEffect)(c,d),a){let s;t[5]!==e||t[6]!==a?(s=N(e,a),t[5]=e,t[6]=a,t[7]=s):s=t[7],u=s}else{let s;t[8]!==e?(s=(0,C.castAsShadow)(e),t[8]=e,t[9]=s):s=t[9],u=s}return u}function E(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=()=>e?I.get(e):void 0,t[0]=e,t[1]=s):s=t[1];const[a,r]=(0,n.useState)(s),[i,l]=(0,n.useState)(e);let c,d,u;if(e!==i&&(l(e),r(e?I.get(e):void 0)),t[2]!==e?(c=()=>{if(!e)return;const t=function(){e&&r(I.get(e))};return A.addListener(e.did,t),()=>{A.removeListener(e.did,t)}},d=[e],t[2]=e,t[3]=c,t[4]=d):(c=t[3],d=t[4]),(0,n.useEffect)(c,d),e)if(a){let s;t[5]!==e||t[6]!==a?(s=N(e,a),t[5]=e,t[6]=a,t[7]=s):s=t[7],u=s}else{let s;t[8]!==e?(s=(0,C.castAsShadow)(e),t[8]=e,t[9]=s):s=t[9],u=s}else u=void 0;return u}function L(e){const t=(0,o.c)(8);let s;t[0]!==e?(s=()=>e?.flatMap(D)??[],t[0]=e,t[1]=s):s=t[1];const[a,r]=(0,n.useState)(s);let i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,t[2]=i):i=t[2];const[l,c]=(0,n.useState)(i),[d,u]=(0,n.useState)(e);if(e!==d){const t=new Set(a);let s=!1;for(const o of e?.flatMap(B)??[])for(const e of o.items){const o=e.post.author;t.has(o.did)||(s=!0,t.add(o.did))}s&&r([...t]),u(e)}let m,h,p;if(t[3]!==a?(m=()=>{const e=[];for(const t of a){const s=function(e){c((s=>{const o=s.get(t),n=new Map(s);return n.set(t,{blocked:Boolean(e.blockingUri??o?.blocked??!1),muted:Boolean(e.muted??o?.muted??!1)}),n}))};A.addListener(t,s),e.push((()=>{A.removeListener(t,s)}))}return()=>{e.map(R)}},h=[a],t[3]=a,t[4]=m,t[5]=h):(m=t[4],h=t[5]),(0,n.useEffect)(m,h),t[6]!==l){p=[];for(const[e,t]of l.entries())(t.blocked||t.muted)&&p.push(e);t[6]=l,t[7]=p}else p=t[7];return p}function R(e){return e()}function B(e){return e.slices}function D(e){return e.slices.flatMap(O)}function O(e){return e.items.map(M)}function M(e){return e.post.author.did}function F(e,t,s){const o=function*(e,t){yield*(0,m.findAllProfilesInQueryData)(e,t),yield*(0,p.findAllProfilesInQueryData)(e,t),yield*(0,f.findAllProfilesInQueryData)(e,t),yield*(0,_.findAllProfilesInQueryData)(e,t),yield*(0,b.findAllProfilesInQueryData)(e,t),yield*(0,y.findAllProfilesInQueryData)(e,t),yield*(0,j.findAllProfilesInQueryData)(e,t),yield*(0,v.findAllProfilesInQueryData)(e,t),yield*(0,S.findAllProfilesInQueryData)(e,t),yield*(0,T.findAllProfilesInQueryData)(e,t),yield*(0,w.findAllProfilesInQueryData)(e,t),yield*(0,l.findAllProfilesInQueryData)(e,t),yield*(0,h.findAllProfilesInQueryData)(e,t),yield*(0,x.findAllProfilesInQueryData)(e,t),yield*(0,k.findAllProfilesInQueryData)(e,t),yield*(0,u.findAllProfilesInQueryData)(e,t),yield*(0,c.findAllProfilesInQueryData)(e,t),yield*(0,i.findAllProfilesInQueryData)(e,t),yield*(0,g.findAllProfilesInQueryData)(e,t),yield*(0,d.findAllProfilesInQueryData)(e,t)}(e,t);for(let n of o)I.set(n,Object.assign({},I.get(n),s));(0,r.batchedUpdates)((()=>{A.emit(t,s)}))}function N(e,t){return(0,C.castAsShadow)(Object.assign({},e,{viewer:Object.assign({},e.viewer||{},{following:"followingUri"in t?t.followingUri:e.viewer?.following,muted:"muted"in t?t.muted:e.viewer?.muted,blocking:"blockingUri"in t?t.blockingUri:e.viewer?.blocking,activitySubscription:"activitySubscription"in t?t.activitySubscription:e.viewer?.activitySubscription}),verification:"verification"in t?t.verification:e.verification,status:"status"in t?t.status:"status"in e?e.status:void 0}))}},10098:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>d,useIsThreadMuted:()=>h,useMutedThreads:()=>m,useSetThreadMute:()=>p});var o=s(15991),n=s(95004),a=s(8023),r=s(97154),i=s(2629);const l=n.createContext(new Map);l.displayName="ThreadMutesStateContext";const c=n.createContext((e=>!1));function d(e){const t=(0,o.c)(6),{children:s}=e,[d,m]=n.useState(u);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=(e,t)=>{m((s=>{const o=new Map(s);return o.set(e,t),o}))},t[0]=h):h=t[0];const p=h;let f,g;return function(e){const t=(0,o.c)(5),s=(0,r.useAgent)(),{currentAccount:i}=(0,r.useSession)();let l,c;t[0]!==s||t[1]!==i||t[2]!==e?(l=()=>{if(i){if(!a.get("mutedThreads").some((e=>e.includes(i.did))))return;let t=!1;return(async()=>{for(;!t;){const t=a.get("mutedThreads"),o=t.findLast((e=>e.includes(i.did)));if(!o)break;a.write("mutedThreads",t.filter((e=>e!==o))),e(o,!0),await s.api.app.bsky.graph.muteThread({root:o}).catch((function(){}))}})(),()=>{t=!0}}},c=[s,i,e],t[0]=s,t[1]=i,t[2]=e,t[3]=l,t[4]=c):(l=t[3],c=t[4]);(0,n.useEffect)(l,c)}(p),t[1]!==s?(f=(0,i.jsx)(c.Provider,{value:p,children:s}),t[1]=s,t[2]=f):f=t[2],t[3]!==d||t[4]!==f?(g=(0,i.jsx)(l.Provider,{value:d,children:f}),t[3]=d,t[4]=f,t[5]=g):g=t[5],g}function u(){return new Map}function m(){return n.useContext(l)}function h(e,t){const s=(0,o.c)(4),a=void 0!==t&&t,r=n.useContext(l);let i;return s[0]!==a||s[1]!==r||s[2]!==e?(i=r.get(e)??a,s[0]=a,s[1]=r,s[2]=e,s[3]=i):i=s[3],i}function p(){return n.useContext(c)}c.displayName="ThreadMutesSetStateContext"},51676:(e,t,s)=>{"use strict";function o(e){return e}s.r(t),s.d(t,{castAsShadow:()=>o})},43029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>f,useDialogFullyExpandedCountContext:()=>p,useDialogStateContext:()=>m,useDialogStateControlContext:()=>h});var o=s(15991),n=s(95004),a=s(96587),r=s(43535),i=s(18560),l=s(2629);const c=n.createContext({});c.displayName="DialogContext";const d=n.createContext({});d.displayName="DialogControlContext";const u=n.createContext(0);function m(){return n.useContext(c)}function h(){return n.useContext(d)}function p(){return n.useContext(u)}function f(e){const t=(0,o.c)(11),{children:s}=e,[m,h]=n.useState(0);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=new Map,t[0]=p):p=t[0];const f=n.useRef(p);let g;t[1]===Symbol.for("react.memo_cache_sentinel")?(g=new Set,t[1]=g):g=t[1];const x=n.useRef(g);let _;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=()=>r.IS_WEB?(x.current.forEach((e=>{const t=f.current.get(e);t&&t.current.close()})),x.current.size>0):(i.BottomSheetNativeComponent.dismissAll(),!1),t[2]=_):_=t[2];const y=_;let b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b=(e,t)=>{t?x.current.add(e):x.current.delete(e)},t[3]=b):b=t[3];const j=b;let v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v={activeDialogs:f,openDialogs:x},t[4]=v):v=t[4];const S=v;let w;t[5]===Symbol.for("react.memo_cache_sentinel")?(w={closeAllDialogs:y,setDialogIsOpen:j,setFullyExpandedCount:h},t[5]=w):w=t[5];const T=w;let k,C;return t[6]!==s?(k=(0,l.jsx)(a.Provider,{children:s}),t[6]=s,t[7]=k):k=t[7],t[8]!==m||t[9]!==k?(C=(0,l.jsx)(c.Provider,{value:S,children:(0,l.jsx)(d.Provider,{value:T,children:(0,l.jsx)(u.Provider,{value:m,children:k})})}),t[8]=m,t[9]=k,t[10]=C):C=t[10],C}u.displayName="DialogFullyExpandedCountContext",f.displayName="DialogsProvider"},61715:(e,t,s)=>{"use strict";s.r(t),s.d(t,{emitNetworkConfirmed:()=>l,emitNetworkLost:()=>d,emitPostCreated:()=>m,emitSessionDropped:()=>r,emitSoftReset:()=>n,listenNetworkConfirmed:()=>c,listenNetworkLost:()=>u,listenPostCreated:()=>h,listenSessionDropped:()=>i,listenSoftReset:()=>a});const o=new(s(58895).default);function n(){o.emit("soft-reset")}function a(e){return o.on("soft-reset",e),()=>o.off("soft-reset",e)}function r(){o.emit("session-dropped")}function i(e){return o.on("session-dropped",e),()=>o.off("session-dropped",e)}function l(){o.emit("network-confirmed")}function c(e){return o.on("network-confirmed",e),()=>o.off("network-confirmed",e)}function d(){o.emit("network-lost")}function u(e){return o.on("network-lost",e),()=>o.off("network-lost",e)}function m(){o.emit("post-created")}function h(e){return o.on("post-created",e),()=>o.off("post-created",e)}},23826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{compressImage:()=>j,createComposerImage:()=>f,createInitialImages:()=>g,cropImage:()=>_,manipulateImage:()=>y,pasteImage:()=>x,purgeTemporaryImageFiles:()=>w,resetImageManipulation:()=>b});var o=s(12936),n=s(26777),a=s(36657),r=s(62421),i=s(17110),l=s(37879),c=s(90060),d=s(21059),u=s(98285),m=s(43535);let h;function p(){return m.IS_NATIVE?h??=T(o.cacheDirectory,"bsky-composer"):null}async function f(e){return{alt:"",source:{id:(0,r.nanoid)(),path:await S(e.path),width:e.width,height:e.height,mime:e.mime}}}function g(e=[]){return e.map((({uri:e,width:t,height:s,altText:o=""})=>({alt:o,source:{id:(0,r.nanoid)(),path:e,width:t,height:s,mime:"image/jpeg"}})))}async function x(e){const{width:t,height:s}=await(0,l.getImageDim)(e),o=/^data:(.+?);/.exec(e);return{alt:"",source:{id:(0,r.nanoid)(),path:e,width:t,height:s,mime:o?o[1]:"image/jpeg"}}}async function _(e){if(!m.IS_NATIVE)return e;const t=e.source;try{const s=await(0,c.openCropper)({imageUri:t.path});return{alt:e.alt,source:t,transformed:{path:await v(s.path),width:s.width,height:s.height,mime:s.mime}}}catch(s){if(!(0,u.isCancelledError)(s))return e;throw s}}async function y(e,t){const s=[t.crop&&{crop:t.crop}].filter((e=>void 0!==e));if(0===s.length)return void 0===e.transformed?e:{alt:e.alt,source:e.source};const o=e.source,r=await(0,n.manipulateAsync)(o.path,s,{format:a.SaveFormat.PNG});return{alt:e.alt,source:e.source,transformed:{path:await v(r.uri),width:r.width,height:r.height,mime:"image/png"},manips:t}}function b(e){return void 0!==e.transformed?{alt:e.alt,source:e.source}:e}async function j(e){const t=e.transformed||e.source,[s,o]=function(e,t,{width:s,height:o}){let n=1;(e>s||t>o)&&(n=e>t?s/e:o/t,e=Math.floor(e*n),t=Math.floor(t*n));return[e,t]}(t.width,t.height,i.POST_IMG_MAX);let r,l=0,c=101;for(;c-l>1;){const e=Math.round((c+l)/2),u=await(0,n.manipulateAsync)(t.path,[{resize:{width:s,height:o}}],{compress:e/100,format:a.SaveFormat.JPEG,base64:!0}),m=u.base64,h=m?(0,d.getDataUriSize)(m):0;m&&h<=i.POST_IMG_MAX.size?(l=e,r={path:await v(u.uri),width:u.width,height:u.height,mime:"image/jpeg",size:h}):c=e}if(r)return r;throw new Error("Unable to compress image")}async function v(e){const t=m.IS_NATIVE&&p();if(t&&e.startsWith(t)){const s=T(t,(0,r.nanoid)(36));return await(0,o.makeDirectoryAsync)(t,{intermediates:!0}),await(0,o.moveAsync)({from:e,to:s}),s}return e}async function S(e){if(e.startsWith("data:"))return e;if(m.IS_WEB){if(e.startsWith("blob:"))try{const t=await fetch(e),s=await t.blob();return await function(e){return new Promise(((t,s)=>{const o=new FileReader;o.onloadend=()=>{"string"===typeof o.result?t(o.result):s(new Error("Failed to convert blob to data URI"))},o.onerror=()=>s(o.error),o.readAsDataURL(e)}))}(s)}catch(a){return e}return e}const t=p();if(!t||e.startsWith(t))return e;const s=T(t,(0,r.nanoid)(36));await(0,o.makeDirectoryAsync)(t,{intermediates:!0});let n=e;return!e.startsWith("file://")&&e.startsWith("/")&&(n=`file://${e}`),await(0,o.copyAsync)({from:n,to:s}),s}async function w(){const e=m.IS_NATIVE&&p();e&&(await(0,o.deleteAsync)(e,{idempotent:!0}),await(0,o.makeDirectoryAsync)(e))}function T(e,t){return e.endsWith("/")?t.startsWith("/")?e.slice(0,-1)+t:e+t:t.startsWith("/")?e+t:e+"/"+t}},87357:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>d,useLightbox:()=>u,useLightboxControls:()=>m});var o=s(15991),n=s(95004),a=s(62421),r=s(25006),i=s(2629);const l=n.createContext({activeLightbox:null});l.displayName="LightboxContext";const c=n.createContext({openLightbox:()=>{},closeLightbox:()=>!1});function d(e){const t=(0,o.c)(14),{children:s}=e,[d,u]=n.useState(null);let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u((t=>t||Object.assign({},e,{id:(0,a.nanoid)()})))},t[0]=m):m=t[0];const h=(0,r.useNonReactiveCallback)(m);let p;t[1]!==d?(p=()=>{const e=!!d;return u(null),e},t[1]=d,t[2]=p):p=t[2];const f=(0,r.useNonReactiveCallback)(p);let g;t[3]!==d?(g={activeLightbox:d},t[3]=d,t[4]=g):g=t[4];const x=g;let _;t[5]!==f||t[6]!==h?(_={openLightbox:h,closeLightbox:f},t[5]=f,t[6]=h,t[7]=_):_=t[7];const y=_;let b,j;return t[8]!==s||t[9]!==y?(b=(0,i.jsx)(c.Provider,{value:y,children:s}),t[8]=s,t[9]=y,t[10]=b):b=t[10],t[11]!==x||t[12]!==b?(j=(0,i.jsx)(l.Provider,{value:x,children:b}),t[11]=x,t[12]=b,t[13]=j):j=t[13],j}function u(){return n.useContext(l)}function m(){return n.useContext(c)}c.displayName="LightboxControlContext"},92799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CurrentConvoIdProvider:()=>l,useCurrentConvoId:()=>i});var o=s(15991),n=s(95004),a=s(2629);const r=n.createContext({currentConvoId:void 0,setCurrentConvoId:()=>{}});function i(){const e=n.useContext(r);if(!e)throw new Error("useCurrentConvoId must be used within a CurrentConvoIdProvider");return e}function l(e){const t=(0,o.c)(5),{children:s}=e,[i,l]=n.useState();let c;t[0]!==i?(c={currentConvoId:i,setCurrentConvoId:l},t[0]=i,t[1]=c):c=t[1];const d=c;let u;return t[2]!==s||t[3]!==d?(u=(0,a.jsx)(r.Provider,{value:d,children:s}),t[2]=s,t[3]=d,t[4]=u):u=t[4],u}r.displayName="CurrentConvoIdContext"},21136:(e,t,s)=>{"use strict";s.r(t),s.d(t,{MessagesEventBusProvider:()=>v,MessagesEventBusProviderInner:()=>S,useMessagesEventBus:()=>j});var o=s(15991),n=s(95004),a=s(43549),r=s(58895),i=s(62421),l=s(62820),c=s(17110),d=s(98285),u=s(5295);const m=6e4;let h=function(e){return e.Initializing="initializing",e.Ready="ready",e.Error="error",e.Backgrounded="backgrounded",e.Suspended="suspended",e}({}),p=function(e){return e.Ready="ready",e.Error="error",e.Background="background",e.Suspend="suspend",e.Resume="resume",e.UpdatePoll="updatePoll",e}({}),f=function(e){return e.Unknown="unknown",e.InitFailed="initFailed",e.PollFailed="pollFailed",e}({});const g=u.Logger.create(u.Logger.Context.DMsAgent);class x{emitter=new r.default;status=h.Initializing;latestRev=void 0;pollInterval=m;requestedPollIntervals=new Map;constructor(e){this.id=(0,i.nanoid)(3),this.agent=e.agent,this.init()}requestPollInterval(e){const t=(0,i.nanoid)();return this.requestedPollIntervals.set(t,e),this.dispatch({event:p.UpdatePoll}),()=>{this.requestedPollIntervals.delete(t),this.dispatch({event:p.UpdatePoll})}}getLatestRev(){return this.latestRev}on(e,t){const s=s=>{if("logs"===s.type&&t.convoId){const o=s.logs.filter((e=>"convoId"in e&&e.convoId===t.convoId&&e.convoId===t.convoId));o.length>0&&e(Object.assign({},s,{logs:o}))}else e(s)};return this.emitter.on("event",s),()=>{this.emitter.off("event",s)}}background(){g.debug("background",{}),this.dispatch({event:p.Background})}suspend(){g.debug("suspend",{}),this.dispatch({event:p.Suspend})}resume(){g.debug("resume",{}),this.dispatch({event:p.Resume})}dispatch(e){const t=this.status;switch(this.status){case h.Initializing:switch(e.event){case p.Ready:this.status=h.Ready,this.resetPoll(),this.emitter.emit("event",{type:"connect"});break;case p.Background:this.status=h.Backgrounded,this.resetPoll(),this.emitter.emit("event",{type:"connect"});break;case p.Suspend:this.status=h.Suspended;break;case p.Error:this.status=h.Error,this.emitter.emit("event",{type:"error",error:e.payload})}break;case h.Ready:switch(e.event){case p.Background:this.status=h.Backgrounded,this.resetPoll();break;case p.Suspend:this.status=h.Suspended,this.stopPoll();break;case p.Error:this.status=h.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload});break;case p.UpdatePoll:this.resetPoll()}break;case h.Backgrounded:switch(e.event){case p.Resume:this.status=h.Ready,this.resetPoll();break;case p.Suspend:this.status=h.Suspended,this.stopPoll();break;case p.Error:this.status=h.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload});break;case p.UpdatePoll:this.resetPoll()}break;case h.Suspended:switch(e.event){case p.Resume:this.status=h.Ready,this.resetPoll();break;case p.Background:this.status=h.Backgrounded,this.resetPoll();break;case p.Error:this.status=h.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload})}break;case h.Error:switch(e.event){case p.UpdatePoll:this.status=h.Initializing,this.latestRev=void 0,this.init();break;case p.Resume:this.status=h.Ready,this.resetPoll(),this.emitter.emit("event",{type:"connect"})}}g.debug(`dispatch '${e.event}'`,{id:this.id,prev:t,next:this.status})}async init(){g.debug("init",{});try{const e=await(0,l.networkRetry)(2,(()=>this.agent.chat.bsky.convo.getLog({},{headers:c.DM_SERVICE_HEADERS}))),{cursor:t}=e.data;t&&(this.latestRev?t>this.latestRev&&(this.latestRev=t):this.latestRev=t),this.dispatch({event:p.Ready})}catch(e){(0,d.isNetworkError)(e)||(0,d.isErrorMaybeAppPasswordPermissions)(e)||g.error("init failed",{safeMessage:e.message}),this.dispatch({event:p.Error,payload:{exception:e,code:f.InitFailed,retry:()=>{this.dispatch({event:p.Resume})}}})}}isPolling=!1;getPollInterval(){switch(this.status){case h.Ready:{const e=Array.from(this.requestedPollIntervals.values());return Math.min(m,...e)}case h.Backgrounded:return 3e5;default:return m}}resetPoll(){this.pollInterval=this.getPollInterval(),this.stopPoll(),this.startPoll()}startPoll(){this.isPolling||this.poll(),this.pollIntervalRef=setInterval((()=>{this.isPolling||this.poll()}),this.pollInterval)}stopPoll(){this.pollIntervalRef&&clearInterval(this.pollIntervalRef)}async poll(){if(!this.isPolling){this.isPolling=!0;try{const e=await(0,l.networkRetry)(2,(()=>this.agent.chat.bsky.convo.getLog({cursor:this.latestRev},{headers:c.DM_SERVICE_HEADERS}))),{logs:t}=e.data;let s=!1,o=[];for(const n of t)"rev"in n&&"string"===typeof n.rev&&n.rev>(this.latestRev=this.latestRev||n.rev)&&(this.latestRev=n.rev,s=!0,o.push(n));s&&this.emitter.emit("event",{type:"logs",logs:o})}catch(e){(0,d.isNetworkError)(e)||(0,d.isErrorMaybeAppPasswordPermissions)(e)||g.error("poll events failed",{safeMessage:e.message}),this.dispatch({event:p.Error,payload:{exception:e,code:f.PollFailed,retry:()=>{this.dispatch({event:p.Resume})}}})}finally{this.isPolling=!1}}}}var _=s(97154),y=s(2629);const b=n.createContext(null);function j(){const e=n.useContext(b);if(!e)throw new Error("useMessagesEventBus must be used within a MessagesEventBusProvider");return e}function v(e){const t=(0,o.c)(4),{children:s}=e,{currentAccount:n}=(0,_.useSession)();if(!n){let e;return t[0]!==s?(e=(0,y.jsx)(b.Provider,{value:null,children:s}),t[0]=s,t[1]=e):e=t[1],e}let a;return t[2]!==s?(a=(0,y.jsx)(S,{children:s}),t[2]=s,t[3]=a):a=t[3],a}function S(e){const t=(0,o.c)(11),{children:s}=e,r=(0,_.useAgent)();let i;t[0]!==r?(i=()=>new x({agent:r}),t[0]=r,t[1]=i):i=t[1];const[l]=n.useState(i);let c,d,u,m,h;return t[2]!==l?(c=()=>(l.resume(),()=>{l.suspend()}),d=[l],t[2]=l,t[3]=c,t[4]=d):(c=t[3],d=t[4]),n.useEffect(c,d),t[5]!==l?(u=()=>{const e=a.default.addEventListener("change",(e=>{"active"===e?l.resume():l.background()}));return()=>{e.remove()}},m=[l],t[5]=l,t[6]=u,t[7]=m):(u=t[6],m=t[7]),n.useEffect(u,m),t[8]!==l||t[9]!==s?(h=(0,y.jsx)(b.Provider,{value:l,children:s}),t[8]=l,t[9]=s,t[10]=h):h=t[10],h}b.displayName="MessagesEventBusContext"},58810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useModalControls:()=>m,useModals:()=>u});var o=s(15991),n=s(95004),a=s(25006),r=s(2629);const i=n.createContext({isModalActive:!1,activeModals:[]});i.displayName="ModalContext";const l=n.createContext({openModal:()=>{},closeModal:()=>!1,closeAllModals:()=>!1});function c(e){const t=(0,o.c)(19),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[0]=c):c=t[0];const[u,m]=n.useState(c);let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{m((t=>[...t,e]))},t[1]=h):h=t[1];const p=(0,a.useNonReactiveCallback)(h);let f;t[2]!==u.length?(f=()=>{const e=u.length>0;return m(d),e},t[2]=u.length,t[3]=f):f=t[3];const g=(0,a.useNonReactiveCallback)(f);let x;t[4]!==u.length?(x=()=>{const e=u.length>0;return m([]),e},t[4]=u.length,t[5]=x):x=t[5];const _=(0,a.useNonReactiveCallback)(x),y=u.length>0;let b;t[6]!==u||t[7]!==y?(b={isModalActive:y,activeModals:u},t[6]=u,t[7]=y,t[8]=b):b=t[8];const j=b;let v;t[9]!==_||t[10]!==g||t[11]!==p?(v={openModal:p,closeModal:g,closeAllModals:_},t[9]=_,t[10]=g,t[11]=p,t[12]=v):v=t[12];const S=v;let w,T;return t[13]!==s||t[14]!==S?(w=(0,r.jsx)(l.Provider,{value:S,children:s}),t[13]=s,t[14]=S,t[15]=w):w=t[15],t[16]!==j||t[17]!==w?(T=(0,r.jsx)(i.Provider,{value:j,children:w}),t[16]=j,t[17]=w,t[18]=T):T=t[18],T}function d(e){return e.slice(0,-1)}function u(){return n.useContext(i)}function m(){return n.useContext(l)}l.displayName="ModalControlContext"},8023:(e,t,s)=>{"use strict";s.r(t),s.d(t,{clearStorage:()=>I,defaults:()=>p,get:()=>T,init:()=>w,onUpdate:()=>C,write:()=>k});var o=s(58895),n=s(55),a=s(5295),r=s(94833),i=s(560),l=s(12855),c=s(19882);const d=["show","hide"],u=r.z.object({service:r.z.string(),did:r.z.string(),handle:r.z.string(),email:r.z.string().optional(),emailConfirmed:r.z.boolean().optional(),emailAuthFactor:r.z.boolean().optional(),refreshJwt:r.z.string().optional(),accessJwt:r.z.string().optional(),signupQueued:r.z.boolean().optional(),active:r.z.boolean().optional(),status:r.z.string().optional(),pdsUrl:r.z.string().optional(),isSelfHosted:r.z.boolean().optional()}),m=u.extend({service:r.z.string().optional(),handle:r.z.string().optional()}),h=r.z.object({colorMode:r.z.enum(["system","light","dark"]),darkTheme:r.z.enum(["dim","dark"]).optional(),session:r.z.object({accounts:r.z.array(u),currentAccount:m.optional()}),reminders:r.z.object({lastEmailConfirm:r.z.string().optional()}),languagePrefs:r.z.object({primaryLanguage:r.z.string(),contentLanguages:r.z.array(r.z.string()),postLanguage:r.z.string(),postLanguageHistory:r.z.array(r.z.string()),appLanguage:r.z.string()}),requireAltTextEnabled:r.z.boolean(),largeAltBadgeEnabled:r.z.boolean().optional(),externalEmbeds:r.z.object({giphy:r.z.enum(d).optional(),tenor:r.z.enum(d).optional(),youtube:r.z.enum(d).optional(),youtubeShorts:r.z.enum(d).optional(),twitch:r.z.enum(d).optional(),vimeo:r.z.enum(d).optional(),spotify:r.z.enum(d).optional(),appleMusic:r.z.enum(d).optional(),soundcloud:r.z.enum(d).optional(),flickr:r.z.enum(d).optional(),bandcamp:r.z.enum(d).optional()}).optional(),invites:r.z.object({copiedInvites:r.z.array(r.z.string())}),onboarding:r.z.object({step:r.z.string()}),hiddenPosts:r.z.array(r.z.string()).optional(),useInAppBrowser:r.z.boolean().optional(),lastSelectedHomeFeed:r.z.string().optional(),pdsAddressHistory:r.z.array(r.z.string()).optional(),disableHaptics:r.z.boolean().optional(),disableAutoplay:r.z.boolean().optional(),kawaii:r.z.boolean().optional(),hasCheckedForStarterPack:r.z.boolean().optional(),subtitlesEnabled:r.z.boolean().optional(),mutedThreads:r.z.array(r.z.string()),trendingDisabled:r.z.boolean().optional(),trendingVideoDisabled:r.z.boolean().optional()}),p={colorMode:"system",darkTheme:"dim",session:{accounts:[],currentAccount:void 0},reminders:{lastEmailConfirm:void 0},languagePrefs:{primaryLanguage:i.deviceLanguageCodes[0]||"en",contentLanguages:i.deviceLanguageCodes||[],postLanguage:i.deviceLanguageCodes[0]||"en",postLanguageHistory:(i.deviceLanguageCodes||[]).concat(["en","ja","pt","de"]).slice(0,6),appLanguage:(0,l.findSupportedAppLanguage)([i.deviceLocales.at(0)?.languageTag,i.deviceLanguageCodes[0]])},requireAltTextEnabled:!1,largeAltBadgeEnabled:!1,externalEmbeds:{},mutedThreads:[],invites:{copiedInvites:[]},onboarding:{step:"Home"},hiddenPosts:[],useInAppBrowser:void 0,lastSelectedHomeFeed:void 0,pdsAddressHistory:[],disableHaptics:!1,disableAutoplay:c.PlatformInfo.getIsReducedMotionEnabled(),kawaii:!1,hasCheckedForStarterPack:!1,subtitlesEnabled:!0,trendingDisabled:!1,trendingVideoDisabled:!1};var f=s(73037),g=s(9948);function x(e){const t=Object.assign({},e);try{const e=Object.assign({},t.languagePrefs);e.primaryLanguage=_(e.primaryLanguage),e.contentLanguages=(0,g.dedupArray)(e.contentLanguages.map((e=>_(e)))),e.postLanguage=e.postLanguage.split(",").map((e=>_(e))).filter(Boolean).join(","),e.postLanguageHistory=(0,g.dedupArray)(e.postLanguageHistory.map((e=>e.split(",").map((e=>_(e))).filter(Boolean).join(",")))),t.languagePrefs=e}catch(s){a.logger.error("persisted state: failed to normalize language prefs",{safeMessage:s.message})}return t}function _(e){return(0,f.parse)(e).language??e}const y="BSKY_STORAGE",b=new n.default("BSKY_BROADCAST_CHANNEL"),j="BSKY_UPDATE";let v=p;const S=new o.default;async function w(){b.onmessage=P,window.onstorage=A;const e=R();e&&(v=e)}function T(e){return v[e]}async function k(e,t){const s=R();s&&(v=s);try{if(JSON.stringify({v:v[e]})===JSON.stringify({v:t}))return}catch(o){}v=x(Object.assign({},v,{[e]:t})),function(e){const t=function(e){try{return h.parse(e),JSON.stringify(e)}catch(o){return void a.logger.error("persisted state: failed stringifying root state",{message:o})}}(e);if(t)try{localStorage.setItem(y,t)}catch(o){}}(v),b.postMessage({event:{type:j,key:e}}),b.postMessage({event:j})}function C(e,t){const s=()=>t(T(e));return S.addListener("update",s),S.addListener("update:"+e,s),()=>{S.removeListener("update",s),S.removeListener("update:"+e,s)}}async function I(){try{localStorage.removeItem(y)}catch(e){}}function A(){const e=R();e!==v&&e&&(v=e,S.emit("update"))}async function P({data:e}){if("object"===typeof e&&(e.event===j||e.event?.type===j)){const t=R();if(t===v)return;t?(v=t,"string"===typeof e.event.key?S.emit("update:"+e.event.key):S.emit("update")):a.logger.error("persisted state: handled update update from broadcast channel, but found no data")}}let E,L;function R(){let e=null;try{e=localStorage.getItem(y)}catch(t){}if(e){if(e===E)return L;{const s=function(e){let s;try{s=JSON.parse(e)}catch(t){a.logger.error("persisted state: failed to parse root state from storage",{message:t})}if(!s)return;const o=h.safeParse(s);if(o.success)return s;{const e=o.error?.errors?.map((e=>({code:e.code,expected:e?.expected,path:e.path?.join(".")})))||[];return void a.logger.error("persisted store: data failed validation on read",{errors:e})}}(e);if(s)return E=e,L=x(s),L}}}},49314:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useHapticsDisabled:()=>d,useSetHapticsDisabled:()=>u});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext(Boolean(a.defaults.disableHaptics));i.displayName="DisableHapticsStateContext";const l=n.createContext((e=>{}));function c(e){const t=(0,o.c)(9),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("disableHaptics"),t[0]=c):c=t[0];const[d,u]=n.useState(Boolean(c));let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(Boolean(e)),a.write("disableHaptics",e)},t[1]=m):m=t[1];const h=m;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("disableHaptics",(e=>{u(Boolean(e))})),f=[h],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]!==s?(g=(0,r.jsx)(l.Provider,{value:h,children:s}),t[4]=s,t[5]=g):g=t[5],t[6]!==d||t[7]!==g?(x=(0,r.jsx)(i.Provider,{value:d,children:g}),t[6]=d,t[7]=g,t[8]=x):x=t[8],x}l.displayName="DisableHapticsSetContext";const d=()=>n.useContext(i),u=()=>n.useContext(l)},53161:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useInAppBrowser:()=>d,useSetInAppBrowser:()=>u});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext(a.defaults.useInAppBrowser);i.displayName="InAppBrowserStateContext";const l=n.createContext((e=>{}));function c(e){const t=(0,o.c)(9),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("useInAppBrowser"),t[0]=c):c=t[0];const[d,u]=n.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(e),a.write("useInAppBrowser",e)},t[1]=m):m=t[1];const h=m;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("useInAppBrowser",(e=>{u(e)})),f=[h],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]!==s?(g=(0,r.jsx)(l.Provider,{value:h,children:s}),t[4]=s,t[5]=g):g=t[5],t[6]!==d||t[7]!==g?(x=(0,r.jsx)(i.Provider,{value:d,children:g}),t[6]=d,t[7]=g,t[8]=x):x=t[8],x}function d(){return n.useContext(i)}function u(){return n.useContext(l)}l.displayName="InAppBrowserSetContext"},28654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>H,useAutoplayDisabled:()=>f,useExternalEmbedsPrefs:()=>j,useHapticsDisabled:()=>x.useHapticsDisabled,useHiddenPosts:()=>k,useHiddenPostsApi:()=>C,useLabelDefinitions:()=>N.useLabelDefinitions,useLanguagePrefs:()=>P.useLanguagePrefs,useLanguagePrefsApi:()=>P.useLanguagePrefsApi,useRequireAltTextEnabled:()=>d,useSetAutoplayDisabled:()=>g,useSetExternalEmbedPref:()=>v,useSetHapticsDisabled:()=>x.useSetHapticsDisabled,useSetRequireAltTextEnabled:()=>u,useSetSubtitlesEnabled:()=>O,useSubtitlesEnabled:()=>D});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext(a.defaults.requireAltTextEnabled);i.displayName="AltTextRequiredStateContext";const l=n.createContext((e=>{}));function c(e){const t=(0,o.c)(9),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("requireAltTextEnabled"),t[0]=c):c=t[0];const[d,u]=n.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(e),a.write("requireAltTextEnabled",e)},t[1]=m):m=t[1];const h=m;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("requireAltTextEnabled",(e=>{u(e)})),f=[h],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]!==s?(g=(0,r.jsx)(l.Provider,{value:h,children:s}),t[4]=s,t[5]=g):g=t[5],t[6]!==d||t[7]!==g?(x=(0,r.jsx)(i.Provider,{value:d,children:g}),t[6]=d,t[7]=g,t[8]=x):x=t[8],x}function d(){return n.useContext(i)}function u(){return n.useContext(l)}l.displayName="AltTextRequiredSetContext";const m=n.createContext(Boolean(a.defaults.disableAutoplay));m.displayName="AutoplayStateContext";const h=n.createContext((e=>{}));function p(e){const t=(0,o.c)(9),{children:s}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=a.get("disableAutoplay"),t[0]=i):i=t[0];const[l,c]=n.useState(Boolean(i));let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{c(Boolean(e)),a.write("disableAutoplay",e)},t[1]=d):d=t[1];const u=d;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("disableAutoplay",(e=>{c(Boolean(e))})),f=[u],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]!==s?(g=(0,r.jsx)(h.Provider,{value:u,children:s}),t[4]=s,t[5]=g):g=t[5],t[6]!==l||t[7]!==g?(x=(0,r.jsx)(m.Provider,{value:l,children:g}),t[6]=l,t[7]=g,t[8]=x):x=t[8],x}h.displayName="AutoplaySetContext";const f=()=>n.useContext(m),g=()=>n.useContext(h);var x=s(49314);const _=n.createContext(a.defaults.externalEmbeds);_.displayName="ExternalEmbedsPrefsStateContext";const y=n.createContext({});function b(e){const t=(0,o.c)(9),{children:s}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=a.get("externalEmbeds"),t[0]=i):i=t[0];const[l,c]=n.useState(i);let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=(e,t)=>{c((s=>(a.write("externalEmbeds",Object.assign({},s,{[e]:t})),Object.assign({},s,{[e]:t}))))},t[1]=d):d=t[1];const u=d;let m,h,p,f;return t[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>a.onUpdate("externalEmbeds",(e=>{c(e)})),h=[u],t[2]=m,t[3]=h):(m=t[2],h=t[3]),n.useEffect(m,h),t[4]!==s?(p=(0,r.jsx)(y.Provider,{value:u,children:s}),t[4]=s,t[5]=p):p=t[5],t[6]!==l||t[7]!==p?(f=(0,r.jsx)(_.Provider,{value:l,children:p}),t[6]=l,t[7]=p,t[8]=f):f=t[8],f}function j(){return n.useContext(_)}function v(){return n.useContext(y)}y.displayName="ExternalEmbedsPrefsSetContext";const S=n.createContext(a.defaults.hiddenPosts);S.displayName="HiddenPostsStateContext";const w=n.createContext({hidePost:()=>{},unhidePost:()=>{}});function T(e){const t=(0,o.c)(10),{children:s}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=a.get("hiddenPosts"),t[0]=i):i=t[0];const[l,c]=n.useState(i);let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{const t=e(a.get("hiddenPosts"));c(t),a.write("hiddenPosts",t)},t[1]=d):d=t[1];const u=d;let m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m={hidePost:e=>{const{uri:t}=e;u((e=>[...e||[],t]))},unhidePost:e=>{const{uri:t}=e;u((e=>(e||[]).filter((e=>e!==t))))}},t[2]=m):m=t[2];const h=m;let p,f,g,x;return t[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("hiddenPosts",(e=>{c(e)})),f=[u],t[3]=p,t[4]=f):(p=t[3],f=t[4]),n.useEffect(p,f),t[5]!==s?(g=(0,r.jsx)(w.Provider,{value:h,children:s}),t[5]=s,t[6]=g):g=t[6],t[7]!==l||t[8]!==g?(x=(0,r.jsx)(S.Provider,{value:l,children:g}),t[7]=l,t[8]=g,t[9]=x):x=t[9],x}function k(){return n.useContext(S)}function C(){return n.useContext(w)}w.displayName="HiddenPostsApiContext";var I=s(53161),A=s(72383),P=s(52891),E=s(7209);const L=n.createContext(Boolean(a.defaults.subtitlesEnabled));L.displayName="SubtitlesStateContext";const R=n.createContext((e=>{}));function B(e){const t=(0,o.c)(9),{children:s}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=a.get("subtitlesEnabled"),t[0]=i):i=t[0];const[l,c]=n.useState(Boolean(i));let d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{c(Boolean(e)),a.write("subtitlesEnabled",e)},t[1]=d):d=t[1];const u=d;let m,h,p,f;return t[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>a.onUpdate("subtitlesEnabled",(e=>{c(Boolean(e))})),h=[u],t[2]=m,t[3]=h):(m=t[2],h=t[3]),n.useEffect(m,h),t[4]!==s?(p=(0,r.jsx)(R.Provider,{value:u,children:s}),t[4]=s,t[5]=p):p=t[5],t[6]!==l||t[7]!==p?(f=(0,r.jsx)(L.Provider,{value:l,children:p}),t[6]=l,t[7]=p,t[8]=f):f=t[8],f}R.displayName="SubtitlesSetContext";const D=()=>n.useContext(L),O=()=>n.useContext(R);var M=s(24315),F=s(48493),N=s(3987);function H(e){const t=(0,o.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,r.jsx)(P.Provider,{children:(0,r.jsx)(c,{children:(0,r.jsx)(E.Provider,{children:(0,r.jsx)(b,{children:(0,r.jsx)(T,{children:(0,r.jsx)(I.Provider,{children:(0,r.jsx)(x.Provider,{children:(0,r.jsx)(p,{children:(0,r.jsx)(F.Provider,{children:(0,r.jsx)(B,{children:(0,r.jsx)(M.Provider,{children:(0,r.jsx)(A.Provider,{children:s})})})})})})})})})})})}),t[0]=s,t[1]=n):n=t[1],n}},72383:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useKawaiiMode:()=>d});var o=s(15991),n=s(95004),a=s(8023),r=s(43535),i=s(2629);const l=n.createContext(a.defaults.kawaii);function c(e){const t=(0,o.c)(9),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("kawaii"),t[0]=c):c=t[0];const[d,u]=n.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(e),a.write("kawaii",e)},t[1]=m):m=t[1];const h=m;let p,f,g,x,_;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("kawaii",(e=>{u(e)})),f=[h],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{if(r.IS_WEB){e:switch(new URLSearchParams(window.location.search).get("kawaii")){case"true":h(!0);break e;case"false":h(!1)}}},x=[h],t[4]=g,t[5]=x):(g=t[4],x=t[5]),n.useEffect(g,x),t[6]!==s||t[7]!==d?(_=(0,i.jsx)(l.Provider,{value:d,children:s}),t[6]=s,t[7]=d,t[8]=_):_=t[8],_}function d(){return n.useContext(l)}l.displayName="KawaiiStateContext"},3987:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>l,useLabelDefinitions:()=>c});var o=s(15991),n=s(95004),a=s(86623),r=s(2629);const i=n.createContext({labelDefs:{},labelers:[]});function l(e){const t=(0,o.c)(3),{children:s}=e,n=(0,a.useLabelDefinitionsQuery)();let l;return t[0]!==s||t[1]!==n?(l=(0,r.jsx)(i.Provider,{value:n,children:s}),t[0]=s,t[1]=n,t[2]=l):l=t[2],l}function c(){return n.useContext(i)}i.displayName="LabelDefsStateContext"},52891:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>d,fromPostLanguages:()=>_,getAppLanguageAsContentLanguage:()=>g,getContentLanguages:()=>f,hasPostLanguage:()=>y,toPostLanguages:()=>x,useLanguagePrefs:()=>h,useLanguagePrefsApi:()=>p});var o=s(15991),n=s(95004),a=s(8023),r=s(33703),i=s(2629);const l=n.createContext(a.defaults.languagePrefs);l.displayName="LanguagePrefsStateContext";const c=n.createContext({setPrimaryLanguage:e=>{},setPostLanguage:e=>{},setContentLanguage:e=>{},toggleContentLanguage:e=>{},togglePostLanguage:e=>{},savePostLanguageToHistory:()=>{},setAppLanguage:e=>{}});function d(e){const t=(0,o.c)(18),{children:s}=e;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=a.get("languagePrefs"),t[0]=d):d=t[0];const[h,p]=n.useState(d);let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=e=>{const t=e(a.get("languagePrefs"));p(t),a.write("languagePrefs",t)},t[1]=f):f=t[1];const g=f;let _,b,j;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=()=>a.onUpdate("languagePrefs",(e=>{p(e)})),b=[g],t[2]=_,t[3]=b):(_=t[2],b=t[3]),n.useEffect(_,b),t[4]!==h.postLanguage?(j={setPrimaryLanguage(e){g((t=>Object.assign({},t,{primaryLanguage:e})))},setPostLanguage(e){g((t=>Object.assign({},t,{postLanguage:e})))},setContentLanguage(e){g((t=>Object.assign({},t,{contentLanguages:[e]})))},toggleContentLanguage(e){g((t=>{const s=t.contentLanguages.includes(e)?t.contentLanguages.filter((t=>t!==e)):t.contentLanguages.concat(e);return Object.assign({},t,{contentLanguages:s})}))},togglePostLanguage(e){g((t=>{let s;return s=y(h.postLanguage,e)?x(t.postLanguage).filter((t=>t!==e)).join(","):x(t.postLanguage).concat([e]).sort(m).join(","),Object.assign({},t,{postLanguage:s})}))},savePostLanguageToHistory(){g(u)},setAppLanguage(e){g((t=>Object.assign({},t,{appLanguage:e})))}},t[4]=h.postLanguage,t[5]=j):j=t[5];const v=j;let S;t[6]!==h.appLanguage||t[7]!==h.contentLanguages?(S={preferences:{appLanguage:h.appLanguage,contentLanguages:h.contentLanguages}},t[6]=h.appLanguage,t[7]=h.contentLanguages,t[8]=S):S=t[8];const w=r.utils.useMeta(S);let T,k,C;return t[9]!==s||t[10]!==w?(T=(0,i.jsx)(r.AnalyticsContext,{metadata:w,children:s}),t[9]=s,t[10]=w,t[11]=T):T=t[11],t[12]!==v||t[13]!==T?(k=(0,i.jsx)(c.Provider,{value:v,children:T}),t[12]=v,t[13]=T,t[14]=k):k=t[14],t[15]!==h||t[16]!==k?(C=(0,i.jsx)(l.Provider,{value:h,children:k}),t[15]=h,t[16]=k,t[17]=C):C=t[17],C}function u(e){return Object.assign({},e,{postLanguageHistory:[e.postLanguage].concat(e.postLanguageHistory.filter((t=>t!==e.postLanguage))).slice(0,6)})}function m(e,t){return e.localeCompare(t)}function h(){return n.useContext(l)}function p(){return n.useContext(c)}function f(){return a.get("languagePrefs").contentLanguages}function g(){return a.get("languagePrefs").appLanguage.split("-")[0]}function x(e){return e.split(",").filter(Boolean)}function _(e){return e.filter(Boolean).join(",")}function y(e,t){return x(e).includes(t)}c.displayName="LanguagePrefsApiContext"},7209:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useLargeAltBadgeEnabled:()=>d,useSetLargeAltBadgeEnabled:()=>u});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext(a.defaults.largeAltBadgeEnabled);i.displayName="LargeAltBadgeStateContext";const l=n.createContext((e=>{}));function c(e){const t=(0,o.c)(9),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("largeAltBadgeEnabled"),t[0]=c):c=t[0];const[d,u]=n.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(e),a.write("largeAltBadgeEnabled",e)},t[1]=m):m=t[1];const h=m;let p,f,g,x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("largeAltBadgeEnabled",(e=>{u(e)})),f=[h],t[2]=p,t[3]=f):(p=t[2],f=t[3]),n.useEffect(p,f),t[4]!==s?(g=(0,r.jsx)(l.Provider,{value:h,children:s}),t[4]=s,t[5]=g):g=t[5],t[6]!==d||t[7]!==g?(x=(0,r.jsx)(i.Provider,{value:d,children:g}),t[6]=d,t[7]=g,t[8]=x):x=t[8],x}function d(){return n.useContext(i)}function u(){return n.useContext(l)}l.displayName="LargeAltBadgeSetContext"},15874:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>p,moderationOptsContext:()=>u,moderationOptsOverrideContext:()=>m,useModerationOpts:()=>h});var o=s(15991),n=s(95004),a=s(66949),r=s(28654),i=s(87646),l=s(97154),c=s(86623),d=s(2629);const u=(0,n.createContext)(void 0);u.displayName="ModerationOptsContext";const m=(0,n.createContext)(void 0);function h(){return(0,n.useContext)(u)}function p(e){const t=(0,o.c)(15),{children:s}=e,i=(0,n.useContext)(m),{currentAccount:h}=(0,l.useSession)(),p=(0,c.usePreferencesQuery)(),{labelDefs:g}=(0,r.useLabelDefinitions)(),x=(0,r.useHiddenPosts)(),_=h?.did,y=p.data?.moderationPrefs;let b;e:{if(i){b=i;break e}if(!y){b=void 0;break e}let e,s,o,n;t[0]!==y.labelers?(e=y.labelers.length?y.labelers:a.BskyAgent.appLabelers.map(f),t[0]=y.labelers,t[1]=e):e=t[1],t[2]!==x?(s=x||[],t[2]=x,t[3]=s):s=t[3],t[4]!==y||t[5]!==e||t[6]!==s?(o=Object.assign({},y,{labelers:e,hiddenPosts:s}),t[4]=y,t[5]=e,t[6]=s,t[7]=o):o=t[7],t[8]!==g||t[9]!==o||t[10]!==_?(n={userDid:_,prefs:o,labelDefs:g},t[8]=g,t[9]=o,t[10]=_,t[11]=n):n=t[11],b=n}const j=b;let v;return t[12]!==s||t[13]!==j?(v=(0,d.jsx)(u.Provider,{value:j,children:s}),t[12]=s,t[13]=j,t[14]=v):v=t[14],v}function f(e){return{did:e,labels:i.DEFAULT_LOGGED_OUT_LABEL_PREFERENCES}}m.displayName="ModerationOptsOverrideContext"},24315:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>d,useTrendingSettings:()=>u,useTrendingSettingsApi:()=>m});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext({trendingDisabled:Boolean(a.defaults.trendingDisabled),trendingVideoDisabled:Boolean(a.defaults.trendingVideoDisabled)});i.displayName="TrendingStateContext";const l=n.createContext({setTrendingDisabled(){},setTrendingVideoDisabled(){}});function c(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=()=>Boolean(a.get(e)),t[0]=e,t[1]=s):s=t[1];const[r,i]=n.useState(s);let l;t[2]!==e?(l=t=>{i(Boolean(t)),a.write(e,t)},t[2]=e,t[3]=l):l=t[3];const c=l;let d,u,m;return t[4]!==e?(d=()=>a.onUpdate(e,(e=>{i(Boolean(e))})),u=[e,i],t[4]=e,t[5]=d,t[6]=u):(d=t[5],u=t[6]),n.useEffect(d,u),t[7]!==c||t[8]!==r?(m=[r,c],t[7]=c,t[8]=r,t[9]=m):m=t[9],m}function d(e){const t=(0,o.c)(12),{children:s}=e,[n,a]=c("trendingDisabled"),[d,u]=c("trendingVideoDisabled");let m;t[0]!==n||t[1]!==d?(m={trendingDisabled:n,trendingVideoDisabled:d},t[0]=n,t[1]=d,t[2]=m):m=t[2];const h=m;let p;t[3]!==a||t[4]!==u?(p={setTrendingDisabled:a,setTrendingVideoDisabled:u},t[3]=a,t[4]=u,t[5]=p):p=t[5];const f=p;let g,x;return t[6]!==f||t[7]!==s?(g=(0,r.jsx)(l.Provider,{value:f,children:s}),t[6]=f,t[7]=s,t[8]=g):g=t[8],t[9]!==h||t[10]!==g?(x=(0,r.jsx)(i.Provider,{value:h,children:g}),t[9]=h,t[10]=g,t[11]=x):x=t[11],x}function u(){return n.useContext(i)}function m(){return n.useContext(l)}l.displayName="TrendingApiContext"},48493:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>c,useHasCheckedForStarterPack:()=>u,useSetHasCheckedForStarterPack:()=>m});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext(!1);i.displayName="UsedStarterPacksStateContext";const l=n.createContext((e=>{}));function c(e){const t=(0,o.c)(8),{children:s}=e,[c,u]=n.useState(d);let m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{u(e),a.write("hasCheckedForStarterPack",e)},t[0]=m):m=t[0];const h=m;let p,f,g,x;return t[1]===Symbol.for("react.memo_cache_sentinel")?(p=()=>a.onUpdate("hasCheckedForStarterPack",(e=>{u(e)})),f=[],t[1]=p,t[2]=f):(p=t[1],f=t[2]),n.useEffect(p,f),t[3]!==s?(g=(0,r.jsx)(l.Provider,{value:h,children:s}),t[3]=s,t[4]=g):g=t[4],t[5]!==c||t[6]!==g?(x=(0,r.jsx)(i.Provider,{value:c,children:g}),t[5]=c,t[6]=g,t[7]=x):x=t[7],x}function d(){return a.get("hasCheckedForStarterPack")}l.displayName="UsedStarterPacksSetContext";const u=()=>n.useContext(i),m=()=>n.useContext(l)},15893:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY_getActivitySubscriptions:()=>u,RQKEY_getNotificationDeclaration:()=>m,findAllProfilesInQueryData:()=>x,useActivitySubscriptionsQuery:()=>h,useNotificationDeclarationMutation:()=>g,useNotificationDeclarationQuery:()=>f});var o=s(15991),n=s(17789),a=s(96597),r=s(5448),i=s(18102),l=s(37729),c=s(97154),d=s(70341);const u=["activity-subscriptions"],m=["notification-declaration"];function h(){const e=(0,o.c)(4),t=(0,c.useAgent)();let s,n;return e[0]!==t?(s=async e=>{const{pageParam:s}=e;return(await t.app.bsky.notification.listActivitySubscriptions({cursor:s})).data},e[0]=t,e[1]=s):s=e[1],e[2]!==s?(n={queryKey:u,queryFn:s,initialPageParam:void 0,getNextPageParam:p},e[2]=s,e[3]=n):n=e[3],(0,a.useInfiniteQuery)(n)}function p(e){return e.cursor}function f(){const e=(0,o.c)(3),t=(0,c.useAgent)(),{currentAccount:s}=(0,c.useSession)();let n;return e[0]!==t||e[1]!==s?(n={queryKey:m,queryFn:async()=>{try{return await t.app.bsky.notification.declaration.get({repo:s.did,rkey:"self"})}catch(e){const t=e;if(t instanceof Error&&t.message.startsWith("Could not locate record"))return{value:{$type:"app.bsky.notification.declaration",allowSubscriptions:"followers"}};throw t}}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,r.useQuery)(n)}function g(){const e=(0,o.c)(10),t=(0,c.useAgent)(),{currentAccount:s}=(0,c.useSession)(),a=(0,i.useQueryClient)();let r,u,h,p;return e[0]!==t||e[1]!==s?(r=async e=>await t.app.bsky.notification.declaration.put({repo:s.did,rkey:"self"},e),e[0]=t,e[1]=s,e[2]=r):r=e[2],e[3]!==a?(u=e=>{a.setQueryData(m,(t=>t?{value:e}:t))},h=()=>{d.show(n.i18n._({id:"j7+jAY"})),a.invalidateQueries({queryKey:m})},e[3]=a,e[4]=u,e[5]=h):(u=e[4],h=e[5]),e[6]!==r||e[7]!==u||e[8]!==h?(p={mutationFn:r,onMutate:u,onError:h},e[6]=r,e[7]=u,e[8]=h,e[9]=p):p=e[9],(0,l.useMutation)(p)}function*x(e,t){const s=e.getQueriesData({queryKey:u});for(const[o,n]of s)if(n?.pages)for(const e of n.pages)for(const s of e.subscriptions)s.did===t&&(yield s)}},64256:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>c,RQKEY_ROOT:()=>l,findAllProfilesInQueryData:()=>h,useActorSearch:()=>d});var o=s(15991),n=s(89913),a=s(96597),r=s(6648),i=s(97154);const l="actor-search",c=(e,t)=>[l,e,t];function d(e){const t=(0,o.c)(12),{query:s,enabled:l,maintainData:d,limit:h}=e,p=void 0===h?25:h,f=(0,i.useAgent)();let g,x;t[0]!==p||t[1]!==s?(g=c(s,p),t[0]=p,t[1]=s,t[2]=g):g=t[2],t[3]!==f||t[4]!==p||t[5]!==s?(x=async e=>{const{pageParam:t}=e;return(await f.searchActors({q:s,limit:p,cursor:t})).data},t[3]=f,t[4]=p,t[5]=s,t[6]=x):x=t[6];const _=l&&!!s,y=d?n.keepPreviousData:void 0;let b;return t[7]!==g||t[8]!==x||t[9]!==_||t[10]!==y?(b={staleTime:r.STALE.MINUTES.FIVE,queryKey:g,queryFn:x,enabled:_,initialPageParam:void 0,getNextPageParam:u,placeholderData:y,select:m},t[7]=g,t[8]=x,t[9]=_,t[10]=y,t[11]=b):b=t[11],(0,a.useInfiniteQuery)(b)}function u(e){return e.cursor}function m(e){const t=new Set;return Object.assign({},e,{pages:e.pages.map((e=>({actors:e.actors.filter((e=>!t.has(e.did)&&(t.add(e.did),!0)))})))})}function*h(e,t){const s=e.getQueriesData({queryKey:[l]});for(const[o,n]of s)if(n)for(const e of n.pages.flatMap((e=>e.actors)))e.did===t&&(yield e)}},75972:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>l,RQKEY_ROOT:()=>r,RQKEY_WITH_MEMBERSHIP:()=>c,RQKEY_WITH_MEMBERSHIP_ROOT:()=>i,invalidateActorStarterPacksQuery:()=>p,invalidateActorStarterPacksWithMembershipQuery:()=>f,useActorStarterPacksQuery:()=>d,useActorStarterPacksWithMembershipsQuery:()=>m});var o=s(15991),n=s(96597),a=s(97154);const r="actor-starter-packs",i="actor-starter-packs-with-membership",l=e=>[r,e],c=e=>[i,e];function d(e){const t=(0,o.c)(9),{did:s,enabled:r}=e,i=void 0===r||r,c=(0,a.useAgent)();let d,m;t[0]!==s?(d=l(s),t[0]=s,t[1]=d):d=t[1],t[2]!==c||t[3]!==s?(m=async e=>{const{pageParam:t}=e;return(await c.app.bsky.graph.getActorStarterPacks({actor:s,limit:10,cursor:t})).data},t[2]=c,t[3]=s,t[4]=m):m=t[4];const h=Boolean(s)&&i;let p;return t[5]!==d||t[6]!==m||t[7]!==h?(p={queryKey:d,queryFn:m,enabled:h,initialPageParam:void 0,getNextPageParam:u},t[5]=d,t[6]=m,t[7]=h,t[8]=p):p=t[8],(0,n.useInfiniteQuery)(p)}function u(e){return e.cursor}function m(e){const t=(0,o.c)(9),{did:s,enabled:r}=e,i=void 0===r||r,l=(0,a.useAgent)();let d,u;t[0]!==s?(d=c(s),t[0]=s,t[1]=d):d=t[1],t[2]!==l||t[3]!==s?(u=async e=>{const{pageParam:t}=e;return(await l.app.bsky.graph.getStarterPacksWithMembership({actor:s,limit:10,cursor:t})).data},t[2]=l,t[3]=s,t[4]=u):u=t[4];const m=Boolean(s)&&i;let p;return t[5]!==d||t[6]!==u||t[7]!==m?(p={queryKey:d,queryFn:u,enabled:m,initialPageParam:void 0,getNextPageParam:h},t[5]=d,t[6]=u,t[7]=m,t[8]=p):p=t[8],(0,n.useInfiniteQuery)(p)}function h(e){return e.cursor}async function p({queryClient:e,did:t}){await e.invalidateQueries({queryKey:l(t)})}async function f({queryClient:e,did:t}){await e.invalidateQueries({queryKey:c(t)})}},37246:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bookmarksQueryKeyRoot:()=>c,createBookmarksQueryKey:()=>d,findAllPostsInQueryData:()=>g,optimisticallyDeleteBookmark:()=>f,optimisticallySaveBookmark:()=>p,truncateAndInvalidate:()=>h,useBookmarksQuery:()=>u});var o=s(15991),n=s(66949),a=s(96597),r=s(1822),i=s(97154),l=s(46804);const c="bookmarks",d=()=>[c];function u(){const e=(0,o.c)(3),t=(0,i.useAgent)();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=d(),e[0]=s):s=e[0],e[1]!==t?(n={queryKey:s,async queryFn(e){const{pageParam:s}=e;return(await t.app.bsky.bookmark.getBookmarks({cursor:s})).data},initialPageParam:void 0,getNextPageParam:m},e[1]=t,e[2]=n):n=e[2],(0,a.useInfiniteQuery)(n)}function m(e){return e.cursor}async function h(e){return e.setQueriesData({queryKey:[c]},(e=>e?{pageParams:e.pageParams.slice(0,1),pages:e.pages.slice(0,1)}:e)),e.invalidateQueries({queryKey:[c]})}async function p(e,t){e.setQueriesData({queryKey:[c]},(e=>e?Object.assign({},e,{pages:e.pages.map(((e,s)=>0===s?(t.$type="app.bsky.feed.defs#postView",Object.assign({},e,{bookmarks:[{createdAt:(new Date).toISOString(),subject:{uri:t.uri,cid:t.cid},item:t},...e.bookmarks]})):e))}):e))}async function f(e,{uri:t}){e.setQueriesData({queryKey:[c]},(e=>e?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{bookmarks:e.bookmarks.filter((e=>e.subject.uri!==t))})))}):e))}function*g(e,t){const s=e.getQueriesData({queryKey:[c]}),o=new n.AtUri(t);for(const[a,i]of s)if(i?.pages)for(const e of i?.pages)for(const t of e.bookmarks){if(!l.dangerousIsType(t.item,n.AppBskyFeedDefs.isPostView))continue;(0,r.didOrHandleUriMatches)(o,t.item)&&(yield t.item);const e=(0,r.getEmbeddedPost)(t.item.embed);e&&(0,r.didOrHandleUriMatches)(o,e)&&(yield(0,r.embedViewRecordToPostView)(e))}}},14523:(e,t,s)=>{"use strict";s.r(t),s.d(t,{findAllPostsInQueryData:()=>b,findAllProfilesInQueryData:()=>j,useFeedPreviews:()=>y});var o=s(95004),n=s(66949),a=s(96963),r=s(96597),i=s(4856),l=s(72653),c=s(23525),d=s(98285),u=s(15874),m=s(86623),h=s(1822),p=s(97154);const f="feed-previews",g=e=>[f,e],x=8,_={"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.post/3lgh27w2ngc2b":!0,"at://did:plc:5rw2on4i56btlcajojaxwcat/app.bsky.feed.post/3kjorckgcwc27":!0,"at://did:plc:m2sjv3wncvsasdapla35hzwj/app.bsky.feed.post/3lfaw445axs22":!0,"at://did:plc:tazrmeme4dzahimsykusrwrk/app.bsky.feed.post/3knxx2gmkns2y":!0,"at://did:plc:2hwwem55ce6djnk6bn62cstr/app.bsky.feed.post/3llhpzhbq7c2g":!0,"at://did:plc:lfdf4srj43iwdng7jn35tjsp/app.bsky.feed.post/3lbblgly65c2g":!0,"at://did:plc:hu2obebw3nhfj667522dahfg/app.bsky.feed.post/3kl33otd6ob2s":!0,"at://did:plc:ffkgesg3jsv2j7aagkzrtcvt/app.bsky.feed.post/3lbg4r57yk22d":!0,"at://did:plc:xy2zorw2ys47poflotxthlzg/app.bsky.feed.post/3kyzye4lujs2w":!0,"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.post/3lfqhgvxbqc2q":!0,"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.post/3kgrm2rw5ww2e":!0};function y(e,t=!0){const s=(0,o.useMemo)((()=>e.filter(((e,t,s)=>t===s.findIndex((t=>e.uri===t.uri))))),[e]),h=s.map((e=>e.uri)),{_:f}=(0,a.useLingui)(),y=(0,p.useAgent)(),{data:b}=(0,m.usePreferencesQuery)(),j=(0,l.aggregateUserInterests)(b),v=(0,u.useModerationOpts)(),S=s.length>0&&t,w=(0,o.useRef)(new Map),T=(0,r.useInfiniteQuery)({enabled:S,queryKey:g(h),queryFn:async({pageParam:e})=>{const t=s[e],o=new i.CustomFeedAPI({agent:y,feedParams:{feed:t.uri},userInterests:j});return{feed:t,posts:(await o.fetch({cursor:void 0,limit:x})).feed}},initialPageParam:0,getNextPageParam:(e,t,o)=>o<s.length?o+1:void 0}),{data:k,isFetched:C,isError:I,isPending:A,error:P}=T;return{query:T,data:(0,o.useMemo)((()=>{const e=[];if(!S)return e;e.push({type:"preview:spacer",key:"spacer"});const t=!A&&!k?.pages?.some((e=>e.posts.length));if(C)if(I&&t)e.push({type:"preview:error",key:"error",message:f({id:"+MO72M"}),error:(0,d.cleanError)(P)});else if(t)e.push({type:"preview:empty",key:"empty"});else if(k)for(let s=0;s<k.pages.length;s++){const t=k.pages[s],o=w.current.get(t);if(o){e.push(...o);continue}const a=new c.FeedTuner([]),r=[];let i,l=0;for(const e of a.tune(t.posts)){if(e.isFallbackMarker)continue;const s=e.items.map((e=>(0,n.moderatePost)(e.post,v)));e.items=e.items.filter(((e,t)=>!s[t]?.ui("contentList").filter));const o={_reactKey:t.feed.uri+e._reactKey,_isFeedPostSlice:!0,isFallbackMarker:!1,isIncompleteThread:e.isIncompleteThread,feedContext:e.feedContext,reqId:e.reqId,reason:e.reason,feedPostUri:e.feedPostUri,items:e.items.slice(0,6).filter((e=>!_[e.post.uri])).map(((t,o)=>({_reactKey:`${e._reactKey}-${o}-${t.post.uri}`,uri:t.post.uri,post:t.post,record:t.record,moderation:s[o],parentAuthor:t.parentAuthor,isParentBlocked:t.isParentBlocked,isParentNotFound:t.isParentNotFound})))};if(o.isIncompleteThread&&o.items.length>=3){const e=o.items.length-2,s=o.items.length-1;r.push({type:"preview:sliceItem",key:o.items[0]._reactKey,slice:o,indexInSlice:0,feed:t.feed,showReplyTo:!1,hideTopBorder:0===l}),r.push({type:"preview:sliceViewFullThread",key:o._reactKey+"-viewFullThread",uri:o.items[0].uri}),r.push({type:"preview:sliceItem",key:o.items[e]._reactKey,slice:o,indexInSlice:e,feed:t.feed,showReplyTo:o.items[e].parentAuthor?.did!==o.items[e].post.author.did,hideTopBorder:!1}),r.push({type:"preview:sliceItem",key:o.items[s]._reactKey,slice:o,indexInSlice:s,feed:t.feed,showReplyTo:!1,hideTopBorder:!1})}else for(let e=0;e<o.items.length;e++)r.push({type:"preview:sliceItem",key:o.items[e]._reactKey,slice:o,indexInSlice:e,feed:t.feed,showReplyTo:0===e,hideTopBorder:0===e&&0===l});l++}i=r.length>0?[{type:"preview:header",key:`header-${t.feed.uri}`,feed:t.feed},...r,{type:"preview:footer",key:`footer-${t.feed.uri}`}]:[],w.current.set(t,i),e.push(...i)}else I&&!t&&e.push({type:"preview:loadMoreError",key:"loadMoreError"});else e.push({type:"preview:loading",key:"loading"});return e}),[S,k,C,I,A,v,f,P])}}function*b(e,t){const s=new n.AtUri(t),o=e.getQueriesData({queryKey:[f]});for(const[a,r]of o)if(r?.pages)for(const e of r?.pages)for(const t of e.posts){(0,h.didOrHandleUriMatches)(s,t.post)&&(yield t.post);const e=(0,h.getEmbeddedPost)(t.post.embed);if(e&&(0,h.didOrHandleUriMatches)(s,e)&&(yield(0,h.embedViewRecordToPostView)(e)),n.AppBskyFeedDefs.isPostView(t.reply?.parent)){(0,h.didOrHandleUriMatches)(s,t.reply.parent)&&(yield t.reply.parent);const e=(0,h.getEmbeddedPost)(t.reply.parent.embed);e&&(0,h.didOrHandleUriMatches)(s,e)&&(yield(0,h.embedViewRecordToPostView)(e))}if(n.AppBskyFeedDefs.isPostView(t.reply?.root)){(0,h.didOrHandleUriMatches)(s,t.reply.root)&&(yield t.reply.root);const e=(0,h.getEmbeddedPost)(t.reply.root.embed);e&&(0,h.didOrHandleUriMatches)(s,e)&&(yield(0,h.embedViewRecordToPostView)(e))}}}function*j(e,t){const s=e.getQueriesData({queryKey:[f]});for(const[o,a]of s)if(a?.pages)for(const e of a?.pages)for(const s of e.posts){s.post.author.did===t&&(yield s.post.author);const e=(0,h.getEmbeddedPost)(s.post.embed);e?.author.did===t&&(yield e.author),n.AppBskyFeedDefs.isPostView(s.reply?.parent)&&s.reply?.parent?.author.did===t&&(yield s.reply.parent.author),n.AppBskyFeedDefs.isPostView(s.reply?.root)&&s.reply?.root?.author.did===t&&(yield s.reply.root.author)}}},49149:(e,t,s)=>{"use strict";s.r(t),s.d(t,{findAllProfilesInQueryData:()=>_,findContactsGetMatchesQueryKey:()=>u,findContactsMatchesPassthroughQueryKey:()=>f,findContactsStatusQueryKey:()=>c,optimisticRemoveMatch:()=>p,useContactsMatchesQuery:()=>m,useContactsSyncStatusQuery:()=>d,useMatchesPassthroughQuery:()=>g});var o=s(15991),n=s(5448),a=s(96597),r=s(97154),i=s(6648);const l="find-contacts",c=[l,"sync-status"];function d(){const e=(0,o.c)(2),t=(0,r.useAgent)();let s;return e[0]!==t?(s={queryKey:c,queryFn:async()=>(await t.app.bsky.contact.getSyncStatus()).data,staleTime:i.STALE.SECONDS.THIRTY},e[0]=t,e[1]=s):s=e[1],(0,n.useQuery)(s)}const u=[l,"matches"];function m(){const e=(0,o.c)(4),t=(0,r.useAgent)();let s,n;return e[0]!==t?(s=async e=>{const{pageParam:s}=e;return(await t.app.bsky.contact.getMatches({cursor:s})).data},e[0]=t,e[1]=s):s=e[1],e[2]!==s?(n={queryKey:u,queryFn:s,initialPageParam:void 0,getNextPageParam:h,staleTime:i.STALE.MINUTES.ONE},e[2]=s,e[3]=n):n=e[3],(0,a.useInfiniteQuery)(n)}function h(e){return e.cursor}function p(e,t){e.setQueryData(u,(e=>e?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{matches:e.matches.filter((e=>e.did!==t))})))}):e))}const f=e=>[l,"passthrough",e];function g(e){const t=(0,o.c)(7);let s,a,r,i;if(t[0]!==e){const o=e.map(x);a=n.useQuery,s=f(o),r=()=>e,t[0]=e,t[1]=s,t[2]=a,t[3]=r}else s=t[1],a=t[2],r=t[3];t[4]!==s||t[5]!==r?(i={queryKey:s,queryFn:r},t[4]=s,t[5]=r,t[6]=i):i=t[6];const{data:l}=a(i);return l??e}function x(e){return e.profile.did}function*_(e,t){const s=e.getQueriesData({queryKey:u});for(const[n,a]of s)if(a?.pages)for(const e of a?.pages)for(const s of e.matches)s.did===t&&(yield s);const o=e.getQueriesData({queryKey:[l,"passthrough"]});for(const[n,a]of o)if(a)for(const e of a)e.profile.did===t&&(yield e.profile)}},6648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PERSISTED_QUERY_GCTIME:()=>r,PERSISTED_QUERY_ROOT:()=>a,STALE:()=>n});const o=6e4,n={SECONDS:{FIFTEEN:15e3,THIRTY:3e4},MINUTES:{ONE:o,THREE:18e4,FIVE:3e5,THIRTY:18e5},HOURS:{ONE:36e5},INFINITY:1/0},a="PERSISTED",r=1/0},27306:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>l,findAllProfilesInQueryData:()=>u,useProfileKnownFollowersQuery:()=>c});var o=s(15991),n=s(96597),a=s(97154);const r=50,i="profile-known-followers",l=e=>[i,e];function c(e){const t=(0,o.c)(6),s=(0,a.useAgent)(),i=e||"";let c,u;return t[0]!==i?(c=l(i),t[0]=i,t[1]=c):c=t[1],t[2]!==s||t[3]!==e||t[4]!==c?(u={queryKey:c,async queryFn(t){const{pageParam:o}=t;return(await s.app.bsky.graph.getKnownFollowers({actor:e,limit:r,cursor:o})).data},initialPageParam:void 0,getNextPageParam:d,enabled:!!e},t[2]=s,t[3]=e,t[4]=c,t[5]=u):u=t[5],(0,n.useInfiniteQuery)(u)}function d(e){return e.cursor}function*u(e,t){const s=e.getQueriesData({queryKey:[i]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.followers)s.did===t&&(yield s)}},38229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{labelerInfoQueryKey:()=>m,labelersInfoQueryKey:()=>h,useLabelerInfoQuery:()=>f,useLabelerSubscriptionMutation:()=>_,useLabelersDetailedInfoQuery:()=>x,useLabelersInfoQuery:()=>g});var o=s(15991),n=s(5448),a=s(18102),r=s(37729),i=s(94833),l=s(17110),c=s(6648),d=s(86623),u=s(97154);const m=e=>["labeler-info",e],h=e=>["labelers-info",e.slice().sort()],p=e=>[c.PERSISTED_QUERY_ROOT,"labelers-detailed-info",e];function f(e){const t=(0,o.c)(9),{did:s,enabled:a}=e,r=(0,u.useAgent)(),i=!!s&&!1!==a,l=s;let c,d,h;return t[0]!==l?(c=m(l),t[0]=l,t[1]=c):c=t[1],t[2]!==r||t[3]!==s?(d=async()=>(await r.app.bsky.labeler.getServices({dids:[s],detailed:!0})).data.views[0],t[2]=r,t[3]=s,t[4]=d):d=t[4],t[5]!==i||t[6]!==c||t[7]!==d?(h={enabled:i,queryKey:c,queryFn:d},t[5]=i,t[6]=c,t[7]=d,t[8]=h):h=t[8],(0,n.useQuery)(h)}function g(e){const t=(0,o.c)(9),{dids:s}=e,a=(0,u.useAgent)(),r=!!s.length;let i,l,c;return t[0]!==s?(i=h(s),t[0]=s,t[1]=i):i=t[1],t[2]!==a||t[3]!==s?(l=async()=>(await a.app.bsky.labeler.getServices({dids:s})).data.views,t[2]=a,t[3]=s,t[4]=l):l=t[4],t[5]!==r||t[6]!==i||t[7]!==l?(c={enabled:r,queryKey:i,queryFn:l},t[5]=r,t[6]=i,t[7]=l,t[8]=c):c=t[8],(0,n.useQuery)(c)}function x(e){const t=(0,o.c)(9),{dids:s}=e,a=(0,u.useAgent)(),r=!!s.length;let i,l,d;return t[0]!==s?(i=p(s),t[0]=s,t[1]=i):i=t[1],t[2]!==a||t[3]!==s?(l=async()=>(await a.app.bsky.labeler.getServices({dids:s,detailed:!0})).data.views,t[2]=a,t[3]=s,t[4]=l):l=t[4],t[5]!==r||t[6]!==i||t[7]!==l?(d={enabled:r,queryKey:i,gcTime:c.PERSISTED_QUERY_GCTIME,staleTime:c.STALE.MINUTES.ONE,queryFn:l},t[5]=r,t[6]=i,t[7]=l,t[8]=d):d=t[8],(0,n.useQuery)(d)}function _(){const e=(0,o.c)(4),t=(0,a.useQueryClient)(),s=(0,u.useAgent)(),n=(0,d.usePreferencesQuery)();let c;return e[0]!==s||e[1]!==n||e[2]!==t?(c={async mutationFn(e){const{did:t,subscribe:o}=e;i.z.object({did:i.z.string(),subscribe:i.z.boolean()}).parse({did:t,subscribe:o});const a=(n.data?.moderationPrefs?.labelers??[]).map(y),r=[];if(a.length){const e=await s.getProfiles({actors:a});if(e.data)for(const t of a){const s=e.data.profiles.find((e=>e.did===t));s?s.associated&&!s.associated.labeler&&r.push(t):r.push(t)}}if(r.length&&await Promise.all(r.map((e=>s.removeLabeler(e)))),o){if(a.length-r.length>=l.MAX_LABELERS)throw new Error("MAX_LABELERS");await s.addLabeler(t)}else await s.removeLabeler(t)},async onSuccess(){await t.invalidateQueries({queryKey:d.preferencesQueryKey})}},e[0]=s,e[1]=n,e[2]=t,e[3]=c):c=e[3],(0,r.useMutation)(c)}function y(e){return e.did}},57598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>u,RQKEY_ALL:()=>m,findAllProfilesInQueryData:()=>_,getAllListMembers:()=>g,invalidateListMembersQuery:()=>x,useAllListMembersQuery:()=>f,useListMembersQuery:()=>h});var o=s(15991),n=s(96597),a=s(5448),r=s(6648),i=s(97154);const l=30,c="list-members",d="list-members-all",u=e=>[c,e],m=e=>[d,e];function h(e,t){const s=(0,o.c)(7),a=void 0===t?l:t,c=(0,i.useAgent)(),d=e??"";let m,h;return s[0]!==d?(m=u(d),s[0]=d,s[1]=m):m=s[1],s[2]!==c||s[3]!==a||s[4]!==m||s[5]!==e?(h={staleTime:r.STALE.MINUTES.ONE,queryKey:m,async queryFn(t){const{pageParam:s}=t;return(await c.app.bsky.graph.getList({list:e,limit:a,cursor:s})).data},initialPageParam:void 0,getNextPageParam:p,enabled:Boolean(e)},s[2]=c,s[3]=a,s[4]=m,s[5]=e,s[6]=h):h=s[6],(0,n.useInfiniteQuery)(h)}function p(e){return e.cursor}function f(e){const t=(0,o.c)(9),s=(0,i.useAgent)(),n=e??"";let l,c;t[0]!==n?(l=m(n),t[0]=n,t[1]=l):l=t[1],t[2]!==s||t[3]!==e?(c=async()=>g(s,e),t[2]=s,t[3]=e,t[4]=c):c=t[4];const d=Boolean(e);let u;return t[5]!==l||t[6]!==c||t[7]!==d?(u={staleTime:r.STALE.MINUTES.ONE,queryKey:l,queryFn:c,enabled:d},t[5]=l,t[6]=c,t[7]=d,t[8]=u):u=t[8],(0,a.useQuery)(u)}async function g(e,t){let s,o=!0;const n=[];let a=0;for(;o&&a<6;){const r=await e.app.bsky.graph.getList({list:t,limit:50,cursor:s});n.push(...r.data.items),o=Boolean(r.data.cursor),s=r.data.cursor,a++}return n}async function x({queryClient:e,uri:t}){await e.invalidateQueries({queryKey:u(t)})}function*_(e,t){const s=e.getQueriesData({queryKey:[c]});for(const[n,a]of s)if(a?.pages)for(const e of a?.pages){e.list.creator.did===t&&(yield e.list.creator);for(const s of e.items)s.subject.did===t&&(yield s.subject)}const o=e.getQueriesData({queryKey:[d]});for(const[n,a]of o)if(a)for(const e of a)e.subject.did===t&&(yield e.subject)}},68310:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>m,useLeaveConvo:()=>h,useLeftConvos:()=>p});var o=s(15991),n=(s(95004),s(18102)),a=s(37729),r=s(58457),i=s(17110),l=s(5295),c=s(97154),d=s(55856);const u="leave-convo";function m(e){return[u,e]}function h(e,t){const s=(0,o.c)(21),{onSuccess:r,onMutate:u,onError:h}=t,p=(0,n.useQueryClient)(),f=(0,c.useAgent)();let g,x,_,y,b,j;return s[0]!==e?(g=m(e),s[0]=e,s[1]=g):g=s[1],s[2]!==f||s[3]!==e?(x=async()=>{if(!e)throw new Error("No convoId provided");const{data:t}=await f.chat.bsky.convo.leaveConvo({convoId:e},{headers:i.DM_SERVICE_HEADERS,encoding:"application/json"});return t},s[2]=f,s[3]=e,s[4]=x):x=s[4],s[5]!==e||s[6]!==u||s[7]!==p?(_=()=>{let t=[];return p.setQueryData([d.RQKEY_ROOT],(s=>s?(t=s.pages,Object.assign({},s,{pages:s.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>t.id!==e))})))})):s)),u?.(),{prevPages:t}},s[5]=e,s[6]=u,s[7]=p,s[8]=_):_=s[8],s[9]!==r||s[10]!==p?(y=e=>{p.invalidateQueries({queryKey:[d.RQKEY_ROOT]}),r?.(e)},s[9]=r,s[10]=p,s[11]=y):y=s[11],s[12]!==h||s[13]!==p?(b=(e,t,s)=>{l.logger.error(e),p.setQueryData([d.RQKEY_ROOT],(e=>e?Object.assign({},e,{pages:s?.prevPages||e.pages}):e)),p.invalidateQueries({queryKey:[d.RQKEY_ROOT]}),h?.(e)},s[12]=h,s[13]=p,s[14]=b):b=s[14],s[15]!==g||s[16]!==x||s[17]!==_||s[18]!==y||s[19]!==b?(j={mutationKey:g,mutationFn:x,onMutate:_,onSuccess:y,onError:b},s[15]=g,s[16]=x,s[17]=_,s[18]=y,s[19]=b,s[20]=j):j=s[20],(0,a.useMutation)(j)}function p(){const e=(0,o.c)(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={filters:{mutationKey:[u],status:"pending"},select:x},e[0]=t):t=e[0];const s=(0,r.useMutationState)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={filters:{mutationKey:[u],status:"success"},select:g},e[1]=n):n=e[1];const a=(0,r.useMutationState)(n);let i;return e[2]!==s||e[3]!==a?(i=[...s,...a].filter(f),e[2]=s,e[3]=a,e[4]=i):i=e[4],i}function f(e){return void 0!==e}function g(e){return e.options.mutationKey?.[1]}function x(e){return e.options.mutationKey?.[1]}},55856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ListConvosProvider:()=>w,ListConvosProviderInner:()=>T,RQKEY:()=>_,RQKEY_ROOT:()=>x,findAllProfilesInQueryData:()=>O,getConvoFromQueryData:()=>D,useListConvos:()=>v,useListConvosQuery:()=>y,useOnMarkAsRead:()=>E,useUnreadMessageCount:()=>A});var o=s(15991),n=s(95004),a=s(66949),r=s(96597),i=s(18102),l=s(8364),c=s.n(l),d=s(17110),u=s(92799),m=s(21136),h=s(15874),p=s(97154),f=s(68310),g=s(2629);const x="convo-list",_=(e,t="all")=>[x,e,t];function y(e){const t=(0,o.c)(13);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{enabled:n,status:a,readState:i}=s,l=void 0===i?"all":i,c=(0,p.useAgent)(),u=a??"all";let m,h,f;return t[2]!==l||t[3]!==u?(m=_(u,l),t[2]=l,t[3]=u,t[4]=m):m=t[4],t[5]!==c||t[6]!==l||t[7]!==a?(h=async e=>{const{pageParam:t}=e,{data:s}=await c.chat.bsky.convo.listConvos({limit:20,cursor:t,readState:"unread"===l?"unread":void 0,status:a},{headers:d.DM_SERVICE_HEADERS});return s},t[5]=c,t[6]=l,t[7]=a,t[8]=h):h=t[8],t[9]!==n||t[10]!==m||t[11]!==h?(f={enabled:n,queryKey:m,queryFn:h,initialPageParam:void 0,getNextPageParam:b},t[9]=n,t[10]=m,t[11]=h,t[12]=f):f=t[12],(0,r.useInfiniteQuery)(f)}function b(e){return e.cursor}const j=(0,n.createContext)(null);function v(){const e=(0,n.useContext)(j);if(!e)throw new Error("useListConvos must be used within a ListConvosProvider");return e}j.displayName="ListConvosContext";const S={accepted:[],request:[]};function w(e){const t=(0,o.c)(4),{children:s}=e,{hasSession:n}=(0,p.useSession)();if(!n){let e;return t[0]!==s?(e=(0,g.jsx)(j.Provider,{value:S,children:s}),t[0]=s,t[1]=e):e=t[1],e}let a;return t[2]!==s?(a=(0,g.jsx)(T,{children:s}),t[2]=s,t[3]=a):a=t[3],a}function T(e){const t=(0,o.c)(26),{children:s}=e;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={readState:"unread"},t[0]=r):r=t[0];const{refetch:l,data:d}=y(r),h=(0,m.useMessagesEventBus)(),b=(0,i.useQueryClient)(),{currentConvoId:v}=(0,u.useCurrentConvoId)(),{currentAccount:S}=(0,p.useSession)(),w=(0,f.useLeftConvos)();let T;if(t[1]!==b||t[2]!==l){const e=()=>{l(),b.invalidateQueries({queryKey:[x]})};T=c()(e,500,{leading:!0,trailing:!0}),t[1]=b,t[2]=l,t[3]=T}else T=t[3];const A=T;let P;t[4]!==S?.did||t[5]!==v||t[6]!==A||t[7]!==h||t[8]!==b?(P=()=>{const e=h.on((e=>{if("logs"===e.type)for(const t of e.logs)if(a.ChatBskyConvoDefs.isLogBeginConvo(t))A();else if(a.ChatBskyConvoDefs.isLogLeaveConvo(t))b.setQueriesData({queryKey:[x]},(e=>B(t.convoId,e)));else if(a.ChatBskyConvoDefs.isLogDeleteMessage(t))b.setQueriesData({queryKey:[x]},(e=>R(t.convoId,e,(e=>(a.ChatBskyConvoDefs.isDeletedMessageView(t.message)||a.ChatBskyConvoDefs.isMessageView(t.message))&&(a.ChatBskyConvoDefs.isDeletedMessageView(e.lastMessage)||a.ChatBskyConvoDefs.isMessageView(e.lastMessage))&&t.message.id===e.lastMessage.id?Object.assign({},e,{rev:t.rev,lastMessage:t.message}):e))));else if(a.ChatBskyConvoDefs.isLogCreateMessage(t)){const e=t,s=b.getQueriesData({queryKey:[x]});let o=null;for(const[t,a]of s){if(!a)continue;const t=D(e.convoId,a);if(t){o=t;break}}if(!o)return void A();const n=Object.assign({},o,{rev:e.rev,lastMessage:e.message,unreadCount:o.id!==v?(a.ChatBskyConvoDefs.isMessageView(e.message)||a.ChatBskyConvoDefs.isDeletedMessageView(e.message))&&e.message.sender.did!==S?.did?o.unreadCount+1:o.unreadCount:0}),r=function(t){return t.filter((t=>t.id!==e.convoId))},i=function(e){return e?Object.assign({},e,{pages:e.pages.map(((e,t)=>0===t?Object.assign({},e,{convos:[n,...r(e.convos)]}):Object.assign({},e,{convos:r(e.convos)})))}):e};b.setQueriesData({queryKey:_("all","unread")},(e=>e?i(e):{pageParams:[void 0],pages:[{convos:[n],cursor:void 0}]})),"accepted"===n.status?b.setQueriesData({queryKey:_("accepted")},i):"request"===n.status&&b.setQueriesData({queryKey:_("request")},i)}else if(a.ChatBskyConvoDefs.isLogReadMessage(t)){const e=t;b.setQueriesData({queryKey:[x]},(t=>R(e.convoId,t,(t=>Object.assign({},t,{unreadCount:0,rev:e.rev})))))}else if(a.ChatBskyConvoDefs.isLogAcceptConvo(t)){const e=t,s=b.getQueryData(_("request"));if(!s)return void A();const o=D(t.convoId,s);if(!o)return void A();b.setQueryData(_("request"),(t=>B(e.convoId,t))),b.setQueriesData({queryKey:_("accepted")},(e=>e?Object.assign({},e,{pages:e.pages.map(((e,t)=>0===t?Object.assign({},e,{convos:[Object.assign({},o,{status:"accepted"}),...e.convos]}):e))}):(A(),e)))}else if(a.ChatBskyConvoDefs.isLogMuteConvo(t)){const e=t;b.setQueriesData({queryKey:[x]},(t=>R(e.convoId,t,(t=>Object.assign({},t,{muted:!0,rev:e.rev})))))}else if(a.ChatBskyConvoDefs.isLogUnmuteConvo(t)){const e=t;b.setQueriesData({queryKey:[x]},(t=>R(e.convoId,t,(t=>Object.assign({},t,{muted:!1,rev:e.rev})))))}else if(a.ChatBskyConvoDefs.isLogAddReaction(t)){const e=t;b.setQueriesData({queryKey:[x]},(t=>R(e.convoId,t,(t=>Object.assign({},t,{lastReaction:{$type:"chat.bsky.convo.defs#messageAndReactionView",reaction:e.reaction,message:e.message},rev:e.rev})))))}else if(a.ChatBskyConvoDefs.isLogRemoveReaction(t)){const e=t;b.setQueriesData({queryKey:[x]},(t=>R(e.convoId,t,(t=>e.convoId===t.id&&a.ChatBskyConvoDefs.isMessageAndReactionView(t.lastReaction)&&a.ChatBskyConvoDefs.isMessageView(e.message)&&t.lastReaction.message.id===e.message.id&&t.lastReaction.reaction.sender.did===e.reaction.sender.did&&t.lastReaction.reaction.value===e.reaction.value?Object.assign({},t,{lastReaction:void 0,rev:e.rev}):t))))}}),{convoId:void 0});return()=>e()},t[4]=S?.did,t[5]=v,t[6]=A,t[7]=h,t[8]=b,t[9]=P):P=t[9];const E=S?.did;let L,O,M,F;if(t[10]!==v||t[11]!==A||t[12]!==h||t[13]!==b||t[14]!==E?(L=[h,v,b,E,A],t[10]=v,t[11]=A,t[12]=h,t[13]=b,t[14]=E,t[15]=L):L=t[15],(0,n.useEffect)(P,L),t[16]!==d?.pages||t[17]!==w){const e=d?.pages.flatMap(I).filter((e=>!w.includes(e.id)))??[];O=e.filter(C),M=e.filter(k),t[16]=d?.pages,t[17]=w,t[18]=O,t[19]=M}else O=t[18],M=t[19];t[20]!==O||t[21]!==M?(F={accepted:O,request:M},t[20]=O,t[21]=M,t[22]=F):F=t[22];const N=F;let H;return t[23]!==s||t[24]!==N?(H=(0,g.jsx)(j.Provider,{value:N,children:s}),t[23]=s,t[24]=N,t[25]=H):H=t[25],H}function k(e){return"request"===e.status}function C(e){return"accepted"===e.status}function I(e){return e.convos}function A(){const e=(0,o.c)(5),{currentConvoId:t}=(0,u.useCurrentConvoId)(),{currentAccount:s}=(0,p.useSession)(),{accepted:n,request:a}=v(),r=(0,h.useModerationOpts)();let i;s?.did;const l=P(n,s?.did,t,r),c=P(a,s?.did,t,r);if(l>0){const t=l+Math.min(c,1),s=t>10?"10+":String(t);let o;e[0]!==s||e[1]!==t?(o={count:t,numUnread:s,hasNew:!1},e[0]=s,e[1]=t,e[2]=o):o=e[2],i=o}else if(c>0){let t;e[3]===Symbol.for("react.memo_cache_sentinel")?(t={count:1,numUnread:void 0,hasNew:!0},e[3]=t):t=e[3],i=t}else{let t;e[4]===Symbol.for("react.memo_cache_sentinel")?(t={count:0,numUnread:void 0,hasNew:!1},e[4]=t):t=e[4],i=t}return i}function P(e,t,s,o){return e.filter((e=>e.id!==s)).reduce(((e,s)=>{const n=s.members.find((e=>e.did!==t));if(!n||!o)return e;const r=(0,a.moderateProfile)(n,o);return e+(!(s.muted||r.blocked||"missing.invalid"===n.handle)&&s.unreadCount>0?1:0)}),0)??0}function E(){const e=(0,o.c)(2),t=(0,i.useQueryClient)();let s;return e[0]!==t?(s=e=>{t.setQueriesData({queryKey:[x]},(t=>t?R(e,t,L):t))},e[0]=t,e[1]=s):s=e[1],s}function L(e){return Object.assign({},e,{unreadCount:0})}function R(e,t,s){return t&&s?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.map((t=>e===t.id?s(t):t))})))}):t}function B(e,t){return t?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>e!==t.id))})))}):t}function D(e,t){for(const s of t.pages)for(const t of s.convos)if(t.id===e)return t;return null}function*O(e,t){const s=e.getQueriesData({queryKey:[x]});for(const[o,n]of s)if(n?.pages)for(const e of n.pages)for(const s of e.convos)for(const e of s.members)e.did===t&&(yield e)}},20533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>i,findAllProfilesInQueryData:()=>d,useMyBlockedAccountsQuery:()=>l});var o=s(15991),n=s(96597),a=s(97154);const r="my-blocked-accounts",i=()=>[r];function l(){const e=(0,o.c)(3),t=(0,a.useAgent)();let s,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=i(),e[0]=s):s=e[0],e[1]!==t?(r={queryKey:s,async queryFn(e){const{pageParam:s}=e;return(await t.app.bsky.graph.getBlocks({limit:30,cursor:s})).data},initialPageParam:void 0,getNextPageParam:c},e[1]=t,e[2]=r):r=e[2],(0,n.useInfiniteQuery)(r)}function c(e){return e.cursor}function*d(e,t){const s=e.getQueriesData({queryKey:[r]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.blocks)s.did===t&&(yield s)}},91154:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>i,findAllProfilesInQueryData:()=>d,useMyMutedAccountsQuery:()=>l});var o=s(15991),n=s(96597),a=s(97154);const r="my-muted-accounts",i=()=>[r];function l(){const e=(0,o.c)(3),t=(0,a.useAgent)();let s,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=i(),e[0]=s):s=e[0],e[1]!==t?(r={queryKey:s,async queryFn(e){const{pageParam:s}=e;return(await t.app.bsky.graph.getMutes({limit:30,cursor:s})).data},initialPageParam:void 0,getNextPageParam:c},e[1]=t,e[2]=r):r=e[2],(0,n.useInfiniteQuery)(r)}function c(e){return e.cursor}function*d(e,t){const s=e.getQueriesData({queryKey:[r]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.mutes)s.did===t&&(yield s)}},21560:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>x,findAllPostsInQueryData:()=>b,findAllProfilesInQueryData:()=>j,useNotificationFeedQuery:()=>_});var o=s(15991),n=s(95004),a=s(66949),r=s(18102),i=s(96597),l=s(15874),c=s(6648),d=s(97154),u=s(36197),m=s(1822),h=s(90464),p=s(14551);const f=30,g="notification-feed";function x(e){return[g,e]}function _(e){const t=(0,o.c)(19),s=(0,d.useAgent)(),m=(0,r.useQueryClient)(),g=(0,l.useModerationOpts)(),_=(0,h.useUnreadNotificationsApi)(),b=!1!==e.enabled,j=e.filter,{uris:v}=(0,u.useThreadgateHiddenReplyUris)();let S;t[0]!==v||t[1]!==g?(S={moderationOpts:g,hiddenReplyUris:v},t[0]=v,t[1]=g,t[2]=S):S=t[2];const w=S,T=(0,n.useRef)(null);let k,C;if(t[3]!==j?(k=x(j),t[3]=j,t[4]=k):k=t[4],t[5]!==s||t[6]!==b||t[7]!==j||t[8]!==g||t[9]!==m||t[10]!==w||t[11]!==k||t[12]!==_){let e;t[14]!==w?(e=e=>{const{moderationOpts:t,hiddenReplyUris:s}=w,o=[];if(T.current){const{data:t,args:s,result:n}=T.current;let a=!0;for(const e in w)if(w.hasOwnProperty(e)&&w[e]!==s[e]){a=!1;break}if(a)for(let r=0;r<e.pages.length&&(e.pages[r]&&t.pages[r]===e.pages[r]);r++)o.push(n.pages[r])}const n=e.pages[0]?.seenAt||new Date;for(const a of e.pages)for(const e of a.items)e.notification.isRead=n>new Date(e.notification.indexedAt);const r=Object.assign({},e,{pages:[...o,...e.pages.slice(o.length).map((e=>Object.assign({},e,{items:e.items.filter((e=>!("reply"===e.type&&e.subjectUri&&s.has(e.subjectUri)))).filter((e=>{if(("reply"===e.type||"mention"===e.type||"quote"===e.type)&&a.AppBskyFeedPost.isRecord(e.subject?.record)){if((0,a.moderatePost)(e.subject,t).ui("contentList").filter)return!1}return!0}))})))]});return T.current={data:e,result:r,args:w},r},t[14]=w,t[15]=e):e=t[15],C={staleTime:c.STALE.INFINITY,queryKey:k,async queryFn(e){const{pageParam:t}=e;let o;if("all"!==j||t||(o=_.getCachedUnreadPage()),!o){let e=[];"mentions"===j&&(e=["mention","reply","quote"]);const{page:n}=await(0,p.fetchPage)({agent:s,limit:f,cursor:t,queryClient:m,moderationOpts:g,fetchAdditionalData:!0,reasons:e});o=n}return"all"!==j||t||_.markAllRead(),o},initialPageParam:void 0,getNextPageParam:y,enabled:b,select:e},t[5]=s,t[6]=b,t[7]=j,t[8]=g,t[9]=m,t[10]=w,t[11]=k,t[12]=_,t[13]=C}else C=t[13];const I=(0,i.useInfiniteQuery)(C),A=(0,n.useRef)(0),P=(0,n.useRef)(0),E=(0,n.useRef)(0);let L,R;return t[16]!==I?(L=()=>{const{data:e,isLoading:t,isRefetching:s,isFetchingNextPage:o,hasNextPage:n}=I;let a=0;for(const r of e?.pages||[])a+=r.items.length;a!==A.current&&(a<A.current&&(P.current=a),A.current=a),t||s?P.current=f:o?a>P.current&&(P.current=a+f):n&&(a<P.current?(E.current=E.current+1,E.current<50&&I.fetchNextPage()):E.current=0)},R=[I],t[16]=I,t[17]=L,t[18]=R):(L=t[17],R=t[18]),(0,n.useEffect)(L,R),I}function y(e){return e.cursor}function*b(e,t){const s=new a.AtUri(t),o=e.getQueriesData({queryKey:[g]});for(const[n,r]of o)if(r?.pages)for(const e of r?.pages)for(const t of e.items)if("starterpack-joined"!==t.type&&t.subject&&(0,m.didOrHandleUriMatches)(s,t.subject)&&(yield t.subject),a.AppBskyFeedDefs.isPostView(t.subject)){const e=(0,m.getEmbeddedPost)(t.subject?.embed);e&&(0,m.didOrHandleUriMatches)(s,e)&&(yield(0,m.embedViewRecordToPostView)(e))}}function*j(e,t){const s=e.getQueriesData({queryKey:[g]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.items)if("follow"!==s.type&&"contact-match"!==s.type||s.notification.author.did!==t?"starterpack-joined"!==s.type&&s.subject?.author.did===t&&(yield s.subject.author):yield s.notification.author,a.AppBskyFeedDefs.isPostView(s.subject)){const e=(0,m.getEmbeddedPost)(s.subject?.embed);e?.author.did===t&&(yield e.author)}}},90464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>b,invalidateCachedUnreadPage:()=>S,useUnreadNotifications:()=>j,useUnreadNotificationsApi:()=>v});var o=s(95004),n=s(43549),a=s(18102),r=s(58895),i=s(55),l=s(59786),c=s(15874),d=s(1822),u=s(97154),m=s(21560),h=s(14551),p=s(2629);const f=3e4,g=new i.default("NOTIFS_BROADCAST_CHANNEL"),x=new r.default,_=o.createContext("");_.displayName="NotificationsUnreadStateContext";const y=o.createContext({async markAllRead(){},async checkUnread(){},getCachedUnreadPage:()=>{}});function b({children:e}){const{hasSession:t}=(0,u.useSession)(),s=(0,u.useAgent)(),r=(0,a.useQueryClient)(),i=(0,c.useModerationOpts)(),[b,j]=o.useState(""),v=o.useRef(null),S=o.useRef({usableInFeed:!1,syncedAt:new Date,data:void 0,unreadCount:0});o.useEffect((()=>{function e(){S.current&&(S.current.usableInFeed=!1)}return x.addListener("invalidate",e),()=>{x.removeListener("invalidate",e)}}),[]),o.useEffect((()=>{if(!t||!v.current)return;v.current();const e=setInterval((()=>v.current?.({isPoll:!0})),f);return()=>clearInterval(e)}),[t]),o.useEffect((()=>{const e=({data:e})=>{S.current={usableInFeed:!1,syncedAt:new Date,data:void 0,unreadCount:"30+"===e.event?30:""===e.event?0:parseInt(e.event,10)||1},j(e.event)};return g.addEventListener("message",e),()=>{g.removeEventListener("message",e)}}),[j]);const w=(0,o.useRef)(!1),T=o.useMemo((()=>({async markAllRead(){await s.updateSeenNotifications(S.current.syncedAt.toISOString()),j(""),g.postMessage({event:""}),(0,l.resetBadgeCount)()},async checkUnread({invalidate:e,isPoll:t}={}){try{if(!s.session)return;if("active"!==n.default.currentState)return;if(t&&0!==S.current?.unreadCount&&(S.current?.unreadCount>=30||Math.random()>=.5))return;if(w.current)return;w.current=!0;const{page:o,indexedAt:a}=await(0,h.fetchPage)({agent:s,cursor:void 0,limit:40,queryClient:r,moderationOpts:i,reasons:[],fetchAdditionalData:!!e}),l=function(e){let t=0;for(const s of e.items)if(s.notification.isRead||t++,s.additional)for(const e of s.additional)e.isRead||t++;return t}(o),c=l>=30?"30+":0===l?"":String(l),u=new Date,p=a?new Date(a):void 0;S.current={usableInFeed:!!e,data:o,syncedAt:!p||u>p?u:p,unreadCount:l},j(c),e&&((0,d.truncateAndInvalidate)(r,(0,m.RQKEY)("all")),(0,d.truncateAndInvalidate)(r,(0,m.RQKEY)("mentions"))),g.postMessage({event:c})}finally{w.current=!1}},getCachedUnreadPage(){if(S.current.usableInFeed)return S.current.data}})),[j,r,i,s]);return v.current=T.checkUnread,(0,p.jsx)(_.Provider,{value:b,children:(0,p.jsx)(y.Provider,{value:T,children:e})})}function j(){return o.useContext(_)}function v(){return o.useContext(y)}function S(){x.emit("invalidate")}y.displayName="NotificationsUnreadApiContext"},14551:(e,t,s)=>{"use strict";s.r(t),s.d(t,{fetchPage:()=>u,groupNotifications:()=>h,shouldFilterNotif:()=>m});var o=s(66949),n=s(77625),a=s.n(n),r=s(44959),i=s(46804),l=s(13369);const c=["like","repost","follow","like-via-repost","repost-via-repost","subscribed-post"],d=1728e5;async function u({agent:e,cursor:t,limit:s,queryClient:n,moderationOpts:r,fetchAdditionalData:i,reasons:c}){const d=await e.listNotifications({limit:s,cursor:t,reasons:c}),u=d.data.notifications[0]?.indexedAt;let p=h(d.data.notifications.filter((e=>!m(e,r))));if(i){const t=await async function(e,t){const s=new Set,n=new Set;for(const o of t)o.subjectUri?.includes("app.bsky.feed.post")?s.add(o.subjectUri):o.notification.reasonSubject?.includes("app.bsky.graph.starterpack")&&n.add(o.notification.reasonSubject);const r=a()(Array.from(s),25),i=a()(Array.from(n),25),l=await Promise.all(r.map((t=>e.app.bsky.feed.getPosts({uris:t}).then((e=>e.data.posts))))),c=await Promise.all(i.map((t=>e.app.bsky.graph.getStarterPacks({uris:t}).then((e=>e.data.starterPacks))))),d=new Map,u=new Map;for(const a of l.flat())o.AppBskyFeedPost.isRecord(a.record)&&d.set(a.uri,a);for(const a of c.flat())o.AppBskyGraphStarterpack.isRecord(a.record)&&u.set(a.uri,a);return{posts:d,starterPacks:u}}(e,p);for(const e of p)e.subjectUri&&("starterpack-joined"===e.type&&e.notification.reasonSubject?e.subject=t.starterPacks.get(e.notification.reasonSubject):(e.subject=t.posts.get(e.subjectUri),e.subject&&(0,l.precacheProfile)(n,e.subject.author)))}let f=d.data.seenAt?new Date(d.data.seenAt):new Date;return Number.isNaN(f.getTime())&&(f=new Date),{page:{cursor:d.data.cursor,seenAt:f,items:p,priority:d.data.priority??!1},indexedAt:u}}function m(e,t){return!!e.author.labels?.some(r.labelIsHideableOffense)||!!t&&(!("subscribed-post"!==e.reason||!i.dangerousIsType(e.record,o.AppBskyFeedPost.isRecord)||!(0,o.hasMutedWord)({mutedWords:t.prefs.mutedWords,text:e.record.text,facets:e.record.facets,outlineTags:e.record.tags,languages:e.record.langs,actor:e.author}))||!e.author.viewer?.following&&(0,o.moderateNotification)(e,t).ui("contentList").filter)}function h(e){const t=[];for(const s of e){const e=+new Date(s.indexedAt);let o=!1;if(c.includes(s.reason))for(const n of t){const t=+new Date(n.notification.indexedAt);if(Math.abs(t-e)<d&&s.reason===n.notification.reason&&s.reasonSubject===n.notification.reasonSubject&&(s.author.did!==n.notification.author.did||"subscribed-post"===s.reason)){const e="follow"===s.reason&&s.author.viewer?.following,t="follow"===n.notification.reason&&n.notification.author.viewer?.following;if(!(e||t)){n.additional=n.additional||[],n.additional.push(s),o=!0;break}}}if(!o){const e=p(s);"starterpack-joined"!==e?t.push({_reactKey:`notif-${s.uri}-${s.reason}`,type:e,notification:s,subjectUri:f(e,s)}):t.push({_reactKey:`notif-${s.uri}-${s.reason}`,type:"starterpack-joined",notification:s,subjectUri:s.uri})}}return t}function p(e){return"like"===e.reason?e.reasonSubject?.includes("feed.generator")?"feedgen-like":"post-like":"repost"===e.reason||"mention"===e.reason||"reply"===e.reason||"quote"===e.reason||"follow"===e.reason||"starterpack-joined"===e.reason||"verified"===e.reason||"unverified"===e.reason||"like-via-repost"===e.reason||"repost-via-repost"===e.reason||"subscribed-post"===e.reason||"contact-match"===e.reason?e.reason:"unknown"}function f(e,t){if("reply"===e||"quote"===e||"mention"===e||"subscribed-post"===e)return t.uri;if("post-like"===e||"repost"===e||"like-via-repost"===e||"repost-via-repost"===e){if(i.dangerousIsType(t.record,o.AppBskyFeedRepost.isRecord)||i.dangerousIsType(t.record,o.AppBskyFeedLike.isRecord))return"string"===typeof t.record.subject?.uri?t.record.subject?.uri:void 0}else if("feedgen-like"===e)return t.reasonSubject}},30511:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>H,RQKEY_ROOT:()=>N,findAllPostsInQueryData:()=>Z,findAllProfilesInQueryData:()=>Y,isFeedPostSlice:()=>J,pollLatest:()=>Q,resetPostsFeedQueries:()=>$,resetProfilePostsQueries:()=>X,usePostFeedQuery:()=>z});var o=s(15991),n=s(95004),a=s(43549),r=s(66949),i=s(96597);class l{constructor({agent:e,feedParams:t}){this.agent=e,this._params=t}get params(){const e=Object.assign({},this._params);return e.includePins="posts_and_author_threads"===e.filter,e}async peekLatest(){return(await this.agent.getAuthorFeed(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getAuthorFeed(Object.assign({},this.params,{cursor:e,limit:t}));return s.success?{cursor:s.data.cursor,feed:this._filter(s.data.feed)}:{feed:[]}}_filter(e){return"posts_and_author_threads"===this.params.filter?e.filter((t=>{const s=t.reply,o=r.AppBskyFeedDefs.isReasonRepost(t.reason),n=r.AppBskyFeedDefs.isReasonPin(t.reason);return!s||(!(!o&&!n)||s&&c(this.params.actor,t,e))})):e}}function c(e,t,s){if(t.post.author.did!==e)return!1;const o=t.reply?.parent;if(r.AppBskyFeedDefs.isPostView(o)){if(o.author.did!==e)return!1;const t=s.find((e=>e.post.uri===o.uri));return!t||c(e,t,s)}return!0}var d=s(4856),u=s(22057);class m{constructor({agent:e}){this.agent=e}async peekLatest(){return u.DEMO_FEED.feed[0]}async fetch(){return u.DEMO_FEED}}var h=s(18716),p=s(75078);class f{constructor({agent:e,feedParams:t}){this.agent=e,this.params=t}async peekLatest(){return(await this.agent.getActorLikes(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getActorLikes(Object.assign({},this.params,{cursor:e,limit:t}));if(s.success){return{cursor:0===s.data.feed.length?void 0:s.data.cursor,feed:s.data.feed}}return{feed:[]}}}class g{constructor({agent:e,feedParams:t}){this.agent=e,this.params=t}async peekLatest(){return(await this.agent.app.bsky.feed.getListFeed(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.app.bsky.feed.getListFeed(Object.assign({},this.params,{cursor:e,limit:t}));return s.success?{cursor:s.data.cursor,feed:s.data.feed}:{feed:[]}}}var x=s(57104),_=s.n(x);var y=s(86832),b=s(86731),j=s(52891),v=s(23525),S=s(72653);class w{customFeeds=[];feedCursor=0;itemCursor=0;sampleCursor=0;constructor({agent:e,feedParams:t,feedTuners:s,userInterests:o}){this.agent=e,this.params=t,this.feedTuners=s,this.userInterests=o,this.following=new k({agent:this.agent,feedTuners:this.feedTuners})}reset(){this.following=new k({agent:this.agent,feedTuners:this.feedTuners}),this.customFeeds=[],this.feedCursor=0,this.itemCursor=0,this.sampleCursor=0,this.params.mergeFeedSources?this.customFeeds=_()(this.params.mergeFeedSources.map((e=>new C({agent:this.agent,feedUri:e,feedTuners:this.feedTuners,userInterests:this.userInterests})))):this.customFeeds=[]}async peekLatest(){return(await this.agent.getTimeline({limit:1})).data.feed[0]}async fetch({cursor:e,limit:t}){e||this.reset();const s=[];this.following.numReady<t&&await this.following.fetchNext(60);const o=this.customFeeds.slice(this.feedCursor,this.feedCursor+3);this.feedCursor+=3,this.feedCursor>this.customFeeds.length&&(this.feedCursor=0);const n=!this.following.hasMore&&this.following.numReady<t;if(this.params.mergeFeedEnabled||n)for(const r of o)r.numReady<5&&s.push(r.fetchNext(10));await Promise.all(s);const a=[];for(;a.length<t;){let e=this.sampleItem();if(!e[0])break;a.push(e[0])}return{cursor:String(this.itemCursor),feed:a}}sampleItem(){const e=this.itemCursor++,t=this.customFeeds.filter((e=>e.numReady>0)),s=t.length>0,o=this.following.hasMore,n=this.following.numReady>0,a=this.params.mergeFeedEnabled&&e>=15&&t.length>=2&&(e%4===0||e%5===0);return s||o?a||!o?t[this.sampleCursor++%t.length].take(1):n?this.following.take(1):[]:[]}}class T{cursor=void 0;queue=[];hasMore=!0;constructor({agent:e,feedTuners:t}){this.agent=e,this.feedTuners=t}get numReady(){return this.queue.length}get needsFetch(){return this.hasMore&&0===this.queue.length}take(e){return this.queue.splice(0,e)}async fetchNext(e){await Promise.race([this._fetchNextInner(e),(0,y.timeout)(500)])}_fetchNextInner=function(e){let t;return async(...s)=>{if(t)return t;t=e(...s);try{return await t}finally{t=void 0}}}((async e=>{const t=await this._getFeed(this.cursor,e);t.success?(this.cursor=t.data.cursor,t.data.feed.length?this.queue=this.queue.concat(t.data.feed):this.hasMore=!1):this.hasMore=!1}));_getFeed(e,t){throw new Error("Must be overridden")}}class k extends T{tuner=new v.FeedTuner(this.feedTuners);async fetchNext(e){return this._fetchNextInner(e)}async _getFeed(e,t){const s=await this.agent.getTimeline({cursor:e,limit:t}),o=this.tuner.tune(s.data.feed,{dryRun:!1});return s.data.feed=o.map((e=>e._feedPost)),s}}class C extends T{constructor({agent:e,feedUri:t,feedTuners:s,userInterests:o}){super({agent:e,feedTuners:s}),this.agent=e,this.feedUri=t,this.userInterests=o,this.sourceInfo={$type:"reasonFeedSource",uri:t,href:(0,b.feedUriToHref)(t)},this.minDate=new Date(Date.now()-864e5)}async _getFeed(e,t){try{const s=(0,j.getContentLanguages)().join(","),o=(0,S.isBlueskyOwnedFeed)(this.feedUri),n=await this.agent.app.bsky.feed.getFeed({cursor:e,limit:t,feed:this.feedUri},{headers:Object.assign({},o?(0,S.createBskyTopicsHeader)(this.userInterests):{},{"Accept-Language":s})});t&&n.data.feed.length>t&&(n.data.feed=n.data.feed.slice(0,t)),n.data.feed=n.data.feed.filter((e=>new Date(e.post.indexedAt)>this.minDate));for(const e of n.data.feed)e.__source=this.sourceInfo;return n}catch{return{success:!1,headers:{},data:{feed:[]}}}}}var I=s(5295);class A{peek=null;constructor({agent:e,feedParams:t}){this.agent=e,t.uris.length>25&&I.logger.warn(`Too many URIs provided - expected 25, got ${t.uris.length}`),this.params={uris:t.uris.slice(0,25)}}async peekLatest(){if(this.peek)return this.peek;throw new Error("Has not fetched yet")}async fetch({}){const e=await this.agent.app.bsky.feed.getPosts(Object.assign({},this.params));return e.success?(this.peek={post:e.data.posts[0]},{feed:e.data.posts.map((e=>({post:e})))}):{feed:[]}}}var P=s(17110),E=s(6648),L=s(36029),R=s(97154),B=s(93626),D=s(73963),O=s(86623);var M=s(15874),F=s(1822);const N="post-feed";function H(e,t){return[N,e,t||{}]}const V=30;function z(e,t,s){const a=(0,o.c)(28),l=function(e){const t=(0,o.c)(13),s=(0,j.useLanguagePrefs)(),{data:n}=(0,O.usePreferencesQuery)(),{currentAccount:a}=(0,R.useSession)();let r;e:{if(e.startsWith("author")&&e.endsWith("|posts_with_replies")){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[v.FeedTuner.removeReposts],t[0]=e):e=t[0],r=e;break e}if(e.startsWith("feedgen")){let e,o;t[1]!==s.contentLanguages?(e=v.FeedTuner.preferredLangOnly(s.contentLanguages),t[1]=s.contentLanguages,t[2]=e):e=t[2],t[3]!==e?(o=[e,v.FeedTuner.removeMutedThreads],t[3]=e,t[4]=o):o=t[4],r=o;break e}if("following"===e||e.startsWith("list")){let e;if(t[5]!==a?.did||t[6]!==n?.feedViewPrefs.hideQuotePosts||t[7]!==n?.feedViewPrefs.hideReplies||t[8]!==n?.feedViewPrefs.hideReposts){if(e=[v.FeedTuner.removeOrphans],n?.feedViewPrefs.hideReposts&&e.push(v.FeedTuner.removeReposts),n?.feedViewPrefs.hideReplies)e.push(v.FeedTuner.removeReplies);else{let s;t[10]!==a?.did?(s=v.FeedTuner.followedRepliesOnly({userDid:a?.did||""}),t[10]=a?.did,t[11]=s):s=t[11],e.push(s)}n?.feedViewPrefs.hideQuotePosts&&e.push(v.FeedTuner.removeQuotePosts),e.push(v.FeedTuner.dedupThreads),e.push(v.FeedTuner.removeMutedThreads),t[5]=a?.did,t[6]=n?.feedViewPrefs.hideQuotePosts,t[7]=n?.feedViewPrefs.hideReplies,t[8]=n?.feedViewPrefs.hideReposts,t[9]=e}else e=t[9];r=e;break e}let o;t[12]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[12]=o):o=t[12],r=o}return r}(e),c=(0,M.useModerationOpts)(),{data:d}=(0,O.usePreferencesQuery)(),u=!1!==s?.enabled&&Boolean(c)&&Boolean(d);let m;a[0]!==d?(m=(0,S.aggregateUserInterests)(d),a[0]=d,a[1]=m):m=a[1];const h=m,p=0===(d?.savedFeeds?.findIndex(q)??-1),f=(0,R.useAgent)(),g=(0,n.useRef)(null);let x;a[2]!==e?(x=e.includes(P.DISCOVER_FEED_URI),a[2]=e,a[3]=x):x=a[3];const _=x;s?.ignoreFilterFor;const y=s?.ignoreFilterFor;let b;a[4]!==l||a[5]!==_||a[6]!==c||a[7]!==y?(b={feedTuners:l,moderationOpts:c,ignoreFilterFor:y,isDiscover:_},a[4]=l,a[5]=_,a[6]=c,a[7]=y,a[8]=b):b=a[8];const w=b;let T,k;if(a[9]!==e||a[10]!==t?(T=H(e,t),a[9]=e,a[10]=t,a[11]=T):T=a[11],a[12]!==f||a[13]!==p||a[14]!==u||a[15]!==e||a[16]!==l||a[17]!==t||a[18]!==d?.moderationPrefs||a[19]!==w||a[20]!==T||a[21]!==h){let s;a[23]!==w?(s=e=>{const{feedTuners:t,moderationOpts:s,ignoreFilterFor:o,isDiscover:n}=w,a=new v.FeedTuner(t),i=[];if(g.current){const{data:t,args:s,result:o}=g.current;let n=!0;for(const e in w)if(w.hasOwnProperty(e)&&w[e]!==s[e]){n=!1;break}if(n)for(let r=0;r<e.pages.length&&(e.pages[r]&&t.pages[r]===e.pages[r]);r++)i.push(o.pages[r]),a.tune(t.pages[r].feed)}const l={pageParams:e.pageParams,pages:[...i,...e.pages.slice(i.length).map((e=>({api:e.api,tuner:a,cursor:e.cursor,fetchedAt:e.fetchedAt,slices:a.tune(e.feed).map((e=>{const t=e.items.map((e=>(0,r.moderatePost)(e.post,s)));for(let s=0;s<e.items.length;s++){const n=e.items[s].post.author.did===o;if(n&&(t[s].causes=t[s].causes.filter(W)),!n&&t[s]?.ui("contentList").filter)return}n&&B.seen(e.items.map((t=>({feedContext:e.feedContext,reqId:e.reqId,likeCount:t.post.likeCount??0,repostCount:t.post.repostCount??0,replyCount:t.post.replyCount??0,isFollowedBy:Boolean(t.post.author.viewer?.followedBy),uri:t.post.uri}))));return{_reactKey:e._reactKey,_isFeedPostSlice:!0,isIncompleteThread:e.isIncompleteThread,isFallbackMarker:e.isFallbackMarker,feedContext:e.feedContext,reqId:e.reqId,reason:e.reason,feedPostUri:e.feedPostUri,items:e.items.map(((s,o)=>({_reactKey:`${e._reactKey}-${o}-${s.post.uri}`,uri:s.post.uri,post:s.post,record:s.record,moderation:t[o],parentAuthor:s.parentAuthor,isParentBlocked:s.isParentBlocked,isParentNotFound:s.isParentNotFound})))}})).filter(U)})))]};return g.current={data:e,result:l,args:w},l},a[23]=w,a[24]=s):s=a[24],k={enabled:u,staleTime:E.STALE.INFINITY,queryKey:T,async queryFn(s){const{pageParam:o}=s;I.logger.debug("usePostFeedQuery",{feedDesc:e,cursor:o?.cursor});const{api:n,cursor:a}=o||{api:K({feedDesc:e,feedParams:t||{},feedTuners:l,agent:f,userInterests:h,enableFollowingToDiscoverFallback:p}),cursor:void 0},i=await n.fetch({cursor:a,limit:V});return f.session||function(e,t){if(0===e.length)return!0;let s=!1;for(const o of e){(0,r.moderatePost)(o.post,{userDid:void 0,prefs:t}).ui("contentList").filter||(s=!0)}if(!s)throw new Error(D.KnownError.FeedSignedInOnly)}(i.feed,d?.moderationPrefs||L.DEFAULT_LOGGED_OUT_PREFERENCES.moderationPrefs),{api:n,cursor:i.cursor,feed:i.feed,fetchedAt:Date.now()}},initialPageParam:void 0,getNextPageParam:G,select:s},a[12]=f,a[13]=p,a[14]=u,a[15]=e,a[16]=l,a[17]=t,a[18]=d?.moderationPrefs,a[19]=w,a[20]=T,a[21]=h,a[22]=k}else k=a[22];const C=(0,i.useInfiniteQuery)(k),A=(0,n.useRef)(0),F=(0,n.useRef)(0),N=(0,n.useRef)(0);let z,Q;return a[25]!==C?(z=()=>{const{data:e,isLoading:t,isRefetching:s,isFetchingNextPage:o,hasNextPage:n}=C;let a=0;for(const r of e?.pages||[])for(const e of r.slices)a+=e.items.length;a!==A.current&&(a<A.current&&(F.current=a),A.current=a),t||s?F.current=V:o?a>F.current&&(F.current=a+V):n&&(a<F.current?(N.current=N.current+1,N.current<50&&C.fetchNextPage()):N.current=0)},Q=[C],a[25]=C,a[26]=z,a[27]=Q):(z=a[26],Q=a[27]),(0,n.useEffect)(z,Q),C}function U(e){return!!e}function W(e){return"muted"!==e.type}function G(e){return e.cursor?{api:e.api,cursor:e.cursor}:void 0}function q(e){return e.pinned&&"following"===e.value}async function Q(e){if(!e)return!1;if("active"!==a.default.currentState)return;I.logger.debug("usePostFeedQuery: pollLatest");const t=await e.api.peekLatest();if(t){if(e.tuner.tune([t],{dryRun:!0})[0])return!0}return!1}function K({feedDesc:e,feedParams:t,feedTuners:s,userInterests:o,agent:n,enableFollowingToDiscoverFallback:a}){if("following"===e)return t.mergeFeedEnabled?new w({agent:n,feedParams:t,feedTuners:s,userInterests:o}):a?new p.HomeFeedAPI({agent:n,userInterests:o}):new h.FollowingFeedAPI({agent:n});if(e.startsWith("author")){const[t,s,o]=e.split("|");return new l({agent:n,feedParams:{actor:s,filter:o}})}if(e.startsWith("likes")){const[t,s]=e.split("|");return new f({agent:n,feedParams:{actor:s}})}if(e.startsWith("feedgen")){const[t,s]=e.split("|");return new d.CustomFeedAPI({agent:n,feedParams:{feed:s},userInterests:o})}if(e.startsWith("list")){const[t,s]=e.split("|");return new g({agent:n,feedParams:{list:s}})}if(e.startsWith("posts")){const[t,s]=e.split("|");return new A({agent:n,feedParams:{uris:s.split(",")}})}return"demo"===e?new m({agent:n}):new h.FollowingFeedAPI({agent:n})}function*Z(e,t){const s=new r.AtUri(t),o=e.getQueriesData({queryKey:[N]});for(const[n,a]of o)if(a?.pages)for(const e of a?.pages)for(const t of e.feed){(0,F.didOrHandleUriMatches)(s,t.post)&&(yield t.post);const e=(0,F.getEmbeddedPost)(t.post.embed);if(e&&(0,F.didOrHandleUriMatches)(s,e)&&(yield(0,F.embedViewRecordToPostView)(e)),r.AppBskyFeedDefs.isPostView(t.reply?.parent)){(0,F.didOrHandleUriMatches)(s,t.reply.parent)&&(yield t.reply.parent);const e=(0,F.getEmbeddedPost)(t.reply.parent.embed);e&&(0,F.didOrHandleUriMatches)(s,e)&&(yield(0,F.embedViewRecordToPostView)(e))}if(r.AppBskyFeedDefs.isPostView(t.reply?.root)){(0,F.didOrHandleUriMatches)(s,t.reply.root)&&(yield t.reply.root);const e=(0,F.getEmbeddedPost)(t.reply.root.embed);e&&(0,F.didOrHandleUriMatches)(s,e)&&(yield(0,F.embedViewRecordToPostView)(e))}}}function*Y(e,t){const s=e.getQueriesData({queryKey:[N]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.feed){s.post.author.did===t&&(yield s.post.author);const e=(0,F.getEmbeddedPost)(s.post.embed);e?.author.did===t&&(yield e.author),r.AppBskyFeedDefs.isPostView(s.reply?.parent)&&s.reply?.parent?.author.did===t&&(yield s.reply.parent.author),r.AppBskyFeedDefs.isPostView(s.reply?.root)&&s.reply?.root?.author.did===t&&(yield s.reply.root.author)}}function $(e,t=0){setTimeout((()=>{e.resetQueries({predicate:e=>e.queryKey[0]===N})}),t)}function X(e,t,s=0){setTimeout((()=>{e.resetQueries({predicate:e=>!(e.queryKey[0]!==N||!e.queryKey[1]?.includes(t))})}),s)}function J(e){return e&&"object"===typeof e&&"_isFeedPostSlice"in e&&e._isFeedPostSlice}},73818:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>l,findAllProfilesInQueryData:()=>u,useLikedByQuery:()=>c});var o=s(15991),n=s(96597),a=s(97154);const r=30,i="liked-by",l=e=>[i,e];function c(e){const t=(0,o.c)(6),s=(0,a.useAgent)(),i=e||"";let c,u;return t[0]!==i?(c=l(i),t[0]=i,t[1]=c):c=t[1],t[2]!==s||t[3]!==e||t[4]!==c?(u={queryKey:c,async queryFn(t){const{pageParam:o}=t;return(await s.getLikes({uri:e||"",limit:r,cursor:o})).data},initialPageParam:void 0,getNextPageParam:d,enabled:!!e},t[2]=s,t[3]=e,t[4]=c,t[5]=u):u=t[5],(0,n.useInfiniteQuery)(u)}function d(e){return e.cursor}function*u(e,t){const s=e.getQueriesData({queryKey:[i]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.likes)s.actor.did===t&&(yield s.actor)}},19260:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>d,findAllPostsInQueryData:()=>x,findAllProfilesInQueryData:()=>g,usePostQuotesQuery:()=>u});var o=s(15991),n=s(66949),a=s(96597),r=s(97154),i=s(1822);const l=30,c="post-quotes",d=e=>[c,e];function u(e){const t=(0,o.c)(6),s=(0,r.useAgent)(),n=e||"";let i,c;return t[0]!==n?(i=d(n),t[0]=n,t[1]=i):i=t[1],t[2]!==s||t[3]!==e||t[4]!==i?(c={queryKey:i,async queryFn(t){const{pageParam:o}=t;return(await s.api.app.bsky.feed.getQuotes({uri:e||"",limit:l,cursor:o})).data},initialPageParam:void 0,getNextPageParam:f,enabled:!!e,select:m},t[2]=s,t[3]=e,t[4]=i,t[5]=c):c=t[5],(0,a.useInfiniteQuery)(c)}function m(e){return Object.assign({},e,{pages:e.pages.map(h)})}function h(e){return Object.assign({},e,{posts:e.posts.filter(p)})}function p(e){return!(e.embed&&n.AppBskyEmbedRecord.isView(e.embed)&&n.AppBskyEmbedRecord.isViewDetached(e.embed.record))}function f(e){return e.cursor}function*g(e,t){const s=e.getQueriesData({queryKey:[c]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.posts){s.author.did===t&&(yield s.author);const e=(0,i.getEmbeddedPost)(s.embed);e?.author.did===t&&(yield e.author)}}function*x(e,t){const s=e.getQueriesData({queryKey:[c]}),o=new n.AtUri(t);for(const[n,a]of s)if(a?.pages)for(const e of a?.pages)for(const t of e.posts){(0,i.didOrHandleUriMatches)(o,t)&&(yield t);const e=(0,i.getEmbeddedPost)(t.embed);e&&(0,i.didOrHandleUriMatches)(o,e)&&(yield(0,i.embedViewRecordToPostView)(e))}}},10181:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>l,findAllProfilesInQueryData:()=>u,usePostRepostedByQuery:()=>c});var o=s(15991),n=s(96597),a=s(97154);const r=30,i="post-reposted-by",l=e=>[i,e];function c(e){const t=(0,o.c)(6),s=(0,a.useAgent)(),i=e||"";let c,u;return t[0]!==i?(c=l(i),t[0]=i,t[1]=c):c=t[1],t[2]!==s||t[3]!==e||t[4]!==c?(u={queryKey:c,async queryFn(t){const{pageParam:o}=t;return(await s.getRepostedBy({uri:e||"",limit:r,cursor:o})).data},initialPageParam:void 0,getNextPageParam:d,enabled:!!e},t[2]=s,t[3]=e,t[4]=c,t[5]=u):u=t[5],(0,n.useInfiniteQuery)(u)}function d(e){return e.cursor}function*u(e,t){const s=e.getQueriesData({queryKey:[i]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.repostedBy)s.did===t&&(yield s)}},87272:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>g,useGetPost:()=>_,useGetPosts:()=>y,usePostDeleteMutation:()=>v,usePostLikeMutationQueue:()=>b,usePostQuery:()=>x,usePostRepostMutationQueue:()=>j,useThreadMuteMutationQueue:()=>S});var o=s(15991),n=(s(95004),s(66949)),a=s(5448),r=s(18102),i=s(37729),l=s(93127),c=s(28965),d=s(97154),u=s(93626),m=s(33703),h=s(21971),p=s(10098),f=s(13369);const g=e=>["post",e];function x(e){const t=(0,d.useAgent)();return(0,a.useQuery)({queryKey:g(e||""),async queryFn(){const s=new n.AtUri(e);if(!s.host.startsWith("did:")){const e=await t.resolveHandle({handle:s.host});s.host=e.data.did}const o=await t.getPosts({uris:[s.toString()]});if(o.success&&o.data.posts[0])return o.data.posts[0];throw new Error("No data")},enabled:!!e})}function _(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,d.useAgent)();let a;return e[0]!==s||e[1]!==t?(a=async e=>{const{uri:o}=e;return t.fetchQuery({queryKey:g(o||""),async queryFn(){const e=new n.AtUri(o);if(!e.host.startsWith("did:")){const t=await s.resolveHandle({handle:e.host});e.host=t.data.did}const t=await s.getPosts({uris:[e.toString()]});if(t.success&&t.data.posts[0])return t.data.posts[0];throw new Error("useGetPost: post not found")}})},e[0]=s,e[1]=t,e[2]=a):a=e[2],a}function y(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,d.useAgent)();let n;return e[0]!==s||e[1]!==t?(n=async e=>{const{uris:o}=e;return t.fetchQuery({queryKey:g(o.join(",")||""),async queryFn(){const e=await s.getPosts({uris:o});if(e.success)return e.data.posts;throw new Error("useGetPosts failed")}})},e[0]=s,e[1]=t,e[2]=n):n=e[2],n}function b(e,t,s,n){const a=(0,o.c)(22),p=(0,r.useQueryClient)(),g=e.uri,x=e.cid,_=e.viewer?.like,y=function(e,t,s){const n=(0,o.c)(11),{currentAccount:a}=(0,d.useSession)(),l=(0,r.useQueryClient)(),c=s.author,u=(0,d.useAgent)(),p=(0,m.useAnalytics)();let g;n[0]!==u||n[1]!==p||n[2]!==a||n[3]!==e||n[4]!==t||n[5]!==s.likeCount||n[6]!==s.replyCount||n[7]!==s.repostCount||n[8]!==c||n[9]!==l?(g={mutationFn:o=>{const{uri:n,cid:r,via:i}=o;let d;return a&&(d=(0,f.findProfileQueryData)(l,a.did)),p.metric("post:like",{uri:n,authorDid:c.did,logContext:t,doesPosterFollowLiker:c.viewer?Boolean(c.viewer.followedBy):void 0,doesLikerFollowPoster:c.viewer?Boolean(c.viewer.following):void 0,likerClout:(0,h.toClout)(d?.followersCount),postClout:null!=s.likeCount&&null!=s.repostCount&&null!=s.replyCount?(0,h.toClout)(s.likeCount+s.repostCount+s.replyCount):void 0,feedDescriptor:e}),u.like(n,r,i)}},n[0]=u,n[1]=p,n[2]=a,n[3]=e,n[4]=t,n[5]=s.likeCount,n[6]=s.replyCount,n[7]=s.repostCount,n[8]=c,n[9]=l,n[10]=g):g=n[10];return(0,i.useMutation)(g)}(s,n,e),b=function(e,t,s){const n=(0,o.c)(6),a=(0,d.useAgent)(),r=(0,m.useAnalytics)();let l;n[0]!==a||n[1]!==r||n[2]!==e||n[3]!==t||n[4]!==s?(l={mutationFn:o=>{const{postUri:n,likeUri:i}=o;return r.metric("post:unlike",{uri:n,authorDid:s.author.did,logContext:t,feedDescriptor:e}),a.deleteLike(i)}},n[0]=a,n[1]=r,n[2]=e,n[3]=t,n[4]=s,n[5]=l):l=n[5];return(0,i.useMutation)(l)}(s,n,e);let j,v;a[0]!==y||a[1]!==x||a[2]!==g||a[3]!==b||a[4]!==t?(j=async(e,s)=>{if(s){const{uri:e}=await y.mutateAsync({uri:g,cid:x,via:t});return u.like([g]),e}e&&(await b.mutateAsync({postUri:g,likeUri:e}),u.unlike([g]))},a[0]=y,a[1]=x,a[2]=g,a[3]=b,a[4]=t,a[5]=j):j=a[5],a[6]!==_||a[7]!==g||a[8]!==p||a[9]!==j?(v={initialState:_,runMutation:j,onSuccess(e){(0,c.updatePostShadow)(p,g,{likeUri:e})}},a[6]=_,a[7]=g,a[8]=p,a[9]=j,a[10]=v):v=a[10];const S=(0,l.useToggleMutationQueue)(v);let w;a[11]!==g||a[12]!==p||a[13]!==S?(w=()=>((0,c.updatePostShadow)(p,g,{likeUri:"pending"}),S(!0)),a[11]=g,a[12]=p,a[13]=S,a[14]=w):w=a[14];const T=w;let k;a[15]!==g||a[16]!==p||a[17]!==S?(k=()=>((0,c.updatePostShadow)(p,g,{likeUri:void 0}),S(!1)),a[15]=g,a[16]=p,a[17]=S,a[18]=k):k=a[18];const C=k;let I;return a[19]!==T||a[20]!==C?(I=[T,C],a[19]=T,a[20]=C,a[21]=I):I=a[21],I}function j(e,t,s,n){const a=(0,o.c)(22),u=(0,r.useQueryClient)(),h=e.uri,p=e.cid,f=e.viewer?.repost,g=function(e,t,s){const n=(0,o.c)(6),a=(0,d.useAgent)(),r=(0,m.useAnalytics)();let l;n[0]!==a||n[1]!==r||n[2]!==e||n[3]!==t||n[4]!==s?(l={mutationFn:o=>{const{uri:n,cid:i,via:l}=o;return r.metric("post:repost",{uri:n,authorDid:s.author.did,logContext:t,feedDescriptor:e}),a.repost(n,i,l)}},n[0]=a,n[1]=r,n[2]=e,n[3]=t,n[4]=s,n[5]=l):l=n[5];return(0,i.useMutation)(l)}(s,n,e),x=function(e,t,s){const n=(0,o.c)(6),a=(0,d.useAgent)(),r=(0,m.useAnalytics)();let l;n[0]!==a||n[1]!==r||n[2]!==e||n[3]!==t||n[4]!==s?(l={mutationFn:o=>{const{postUri:n,repostUri:i}=o;return r.metric("post:unrepost",{uri:n,authorDid:s.author.did,logContext:t,feedDescriptor:e}),a.deleteRepost(i)}},n[0]=a,n[1]=r,n[2]=e,n[3]=t,n[4]=s,n[5]=l):l=n[5];return(0,i.useMutation)(l)}(s,n,e);let _,y;a[0]!==p||a[1]!==h||a[2]!==g||a[3]!==x||a[4]!==t?(_=async(e,s)=>{if(s){const{uri:e}=await g.mutateAsync({uri:h,cid:p,via:t});return e}e&&await x.mutateAsync({postUri:h,repostUri:e})},a[0]=p,a[1]=h,a[2]=g,a[3]=x,a[4]=t,a[5]=_):_=a[5],a[6]!==f||a[7]!==h||a[8]!==u||a[9]!==_?(y={initialState:f,runMutation:_,onSuccess(e){(0,c.updatePostShadow)(u,h,{repostUri:e})}},a[6]=f,a[7]=h,a[8]=u,a[9]=_,a[10]=y):y=a[10];const b=(0,l.useToggleMutationQueue)(y);let j;a[11]!==h||a[12]!==u||a[13]!==b?(j=()=>((0,c.updatePostShadow)(u,h,{repostUri:"pending"}),b(!0)),a[11]=h,a[12]=u,a[13]=b,a[14]=j):j=a[14];const v=j;let S;a[15]!==h||a[16]!==u||a[17]!==b?(S=()=>((0,c.updatePostShadow)(u,h,{repostUri:void 0}),b(!1)),a[15]=h,a[16]=u,a[17]=b,a[18]=S):S=a[18];const w=S;let T;return a[19]!==v||a[20]!==w?(T=[v,w],a[19]=v,a[20]=w,a[21]=T):T=a[21],T}function v(){const e=(0,o.c)(5),t=(0,r.useQueryClient)(),s=(0,d.useAgent)();let n,a;return e[0]!==s?(n=async e=>{const{uri:t}=e;await s.deletePost(t)},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(a={mutationFn:n,onSuccess(e,s){(0,c.updatePostShadow)(t,s.uri,{isDeleted:!0})}},e[2]=t,e[3]=n,e[4]=a):a=e[4],(0,i.useMutation)(a)}function S(e,t){const s=(0,o.c)(21),n=function(){const e=(0,o.c)(2),t=(0,d.useAgent)();let s;e[0]!==t?(s={mutationFn:e=>{const{uri:s}=e;return t.api.app.bsky.graph.muteThread({root:s})}},e[0]=t,e[1]=s):s=e[1];return(0,i.useMutation)(s)}(),a=function(){const e=(0,o.c)(2),t=(0,d.useAgent)();let s;e[0]!==t?(s={mutationFn:e=>{const{uri:s}=e;return t.api.app.bsky.graph.unmuteThread({root:s})}},e[0]=t,e[1]=s):s=e[1];return(0,i.useMutation)(s)}(),r=(0,p.useIsThreadMuted)(t,e.viewer?.threadMuted),c=(0,p.useSetThreadMute)();let u,m;s[0]!==t||s[1]!==n||s[2]!==a?(u=async(e,s)=>s?(await n.mutateAsync({uri:t}),!0):(await a.mutateAsync({uri:t}),!1),s[0]=t,s[1]=n,s[2]=a,s[3]=u):u=s[3],s[4]!==r||s[5]!==t||s[6]!==c||s[7]!==u?(m={initialState:r,runMutation:u,onSuccess(e){c(t,e)}},s[4]=r,s[5]=t,s[6]=c,s[7]=u,s[8]=m):m=s[8];const h=(0,l.useToggleMutationQueue)(m);let f;s[9]!==h||s[10]!==t||s[11]!==c?(f=()=>(c(t,!0),h(!0)),s[9]=h,s[10]=t,s[11]=c,s[12]=f):f=s[12];const g=f;let x;s[13]!==h||s[14]!==t||s[15]!==c?(x=()=>(c(t,!1),h(!1)),s[13]=h,s[14]=t,s[15]=c,s[16]=x):x=s[16];const _=x;let y;return s[17]!==r||s[18]!==g||s[19]!==_?(y=[r,g,_],s[17]=r,s[18]=g,s[19]=_,s[20]=y):y=s[20],y}},36029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DEFAULT_HOME_FEED_PREFS:()=>n,DEFAULT_LOGGED_OUT_PREFERENCES:()=>r,DEFAULT_THREAD_VIEW_PREFS:()=>a});var o=s(87646);const n={hideReplies:!1,hideRepliesByUnfollowed:!0,hideRepliesByLikeCount:0,hideReposts:!1,hideQuotePosts:!1,lab_mergeFeedEnabled:!1},a={sort:"hotness",lab_treeViewEnabled:!1},r={birthDate:new Date("2022-11-17"),moderationPrefs:{adultContentEnabled:!1,labels:o.DEFAULT_LOGGED_OUT_LABEL_PREFERENCES,labelers:[],mutedWords:[],hiddenPosts:[]},feedViewPrefs:n,threadViewPrefs:a,userAge:13,interests:{tags:[]},savedFeeds:[],bskyAppState:{queuedNudges:[],activeProgressGuide:void 0,nuxs:[]},postInteractionSettings:{threadgateAllowRules:void 0,postgateEmbeddingRules:[]},verificationPrefs:{hideBadges:!1},liveEventPreferences:{hideAllFeeds:!1,hiddenFeedIds:[]}}},86623:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DEFAULT_HOME_FEED_PREFS:()=>m.DEFAULT_HOME_FEED_PREFS,DEFAULT_LOGGED_OUT_LABEL_PREFERENCES:()=>_.DEFAULT_LOGGED_OUT_LABEL_PREFERENCES,DEFAULT_LOGGED_OUT_PREFERENCES:()=>m.DEFAULT_LOGGED_OUT_PREFERENCES,DEFAULT_THREAD_VIEW_PREFS:()=>m.DEFAULT_THREAD_VIEW_PREFS,preferencesQueryKey:()=>y,useAddSavedFeedsMutation:()=>I,useClearPreferencesMutation:()=>j,useDismissNudgesMutation:()=>M,useLabelDefinitionsQuery:()=>_.useLabelDefinitionsQuery,useMyLabelersQuery:()=>_.useMyLabelersQuery,useOverwriteSavedFeedsMutation:()=>C,usePreferencesQuery:()=>b,usePreferencesSetAdultContentMutation:()=>w,usePreferencesSetContentLabelMutation:()=>v,useQueueNudgesMutation:()=>O,useRemoveFeedMutation:()=>A,useRemoveMutedWordMutation:()=>B,useRemoveMutedWordsMutation:()=>D,useReplaceForYouWithDiscoverFeedMutation:()=>P,useSetActiveProgressGuideMutation:()=>F,useSetContentLabelMutation:()=>S,useSetFeedViewPreferencesMutation:()=>T,useSetThreadViewPreferencesMutation:()=>k,useSetVerificationPrefsMutation:()=>N,useUpdateMutedWordMutation:()=>R,useUpdateSavedFeedsMutation:()=>E,useUpsertMutedWordsMutation:()=>L});var o=s(15991),n=s(95004),a=s(5448),r=s(18102),i=s(37729),l=s(17110),c=s(9948),d=s(88972),u=s(6648),m=s(36029),h=s(97154),p=s(11674),f=s(8103),g=s(6240),x=s(33703),_=s(87646);const y=[u.PERSISTED_QUERY_ROOT,"getPreferences"];function b(){const e=(0,h.useAgent)(),t=(0,f.useAgeAssurance)(),s=(0,a.useQuery)({staleTime:u.STALE.SECONDS.FIFTEEN,structuralSharing:c.replaceEqualDeep,refetchOnWindowFocus:!0,queryKey:y,gcTime:u.PERSISTED_QUERY_GCTIME,queryFn:async()=>{if(e.did){const t=await e.getPreferences();(0,p.saveLabelers)(e.did,t.moderationPrefs.labelers.map((e=>e.did)));return Object.assign({},t,{savedFeeds:t.savedFeeds.filter((e=>"unknown"!==e.type)),feedViewPrefs:Object.assign({},m.DEFAULT_HOME_FEED_PREFS,t.feedViewPrefs.home||{}),threadViewPrefs:Object.assign({},m.DEFAULT_THREAD_VIEW_PREFS,t.threadViewPrefs??{}),userAge:t.birthDate?(0,d.getAge)(t.birthDate):void 0})}return m.DEFAULT_LOGGED_OUT_PREFERENCES},select:(0,n.useCallback)((e=>(t.state.access!==t.Access.Full&&(e=Object.assign({},e,{moderationPrefs:(0,g.makeAgeRestrictedModerationPrefs)(e.moderationPrefs)})),e)),[t])});return s.data?.birthDate&&(s.data.birthDate=new Date(s.data.birthDate)),s}function j(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async()=>{await s.app.bsky.actor.putPreferences({preferences:[]}),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function v(){const e=(0,o.c)(4),t=(0,x.useAnalytics)(),s=(0,h.useAgent)(),n=(0,r.useQueryClient)();let a;return e[0]!==s||e[1]!==t||e[2]!==n?(a={mutationFn:async e=>{const{label:o,visibility:a,labelerDid:r}=e;await s.setContentLabelPref(o,a,r),t.metric("moderation:changeLabelPreference",{preference:a}),await n.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n,e[3]=a):a=e[3],(0,i.useMutation)(a)}function S(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{label:o,visibility:n,labelerDid:a}=e;await s.setContentLabelPref(o,n,a),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function w(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{enabled:o}=e;await s.setAdultContentEnabled(o),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function T(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.setFeedViewPrefs("home",e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function k(e){const t=(0,o.c)(7),{onSuccess:s,onError:n}=e,a=(0,r.useQueryClient)(),l=(0,h.useAgent)();let c,d;return t[0]!==l||t[1]!==a?(c=async e=>{await l.setThreadViewPrefs(e),await a.invalidateQueries({queryKey:y})},t[0]=l,t[1]=a,t[2]=c):c=t[2],t[3]!==n||t[4]!==s||t[5]!==c?(d={mutationFn:c,onSuccess:s,onError:n},t[3]=n,t[4]=s,t[5]=c,t[6]=d):d=t[6],(0,i.useMutation)(d)}function C(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.overwriteSavedFeeds(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function I(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.addSavedFeeds(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function A(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeSavedFeeds([e.id]),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function P(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{forYouFeedConfig:o,discoverFeedConfig:n}=e;o&&await s.removeSavedFeeds([o.id]),n?await s.updateSavedFeeds([Object.assign({},n,{pinned:!0})]):await s.addSavedFeeds([{type:"feed",value:(0,l.PROD_DEFAULT_FEED)("whats-hot"),pinned:!0}]),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function E(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.updateSavedFeeds(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function L(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.upsertMutedWords(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function R(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.updateMutedWord(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function B(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeMutedWord(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function D(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeMutedWords(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function O(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.bskyAppQueueNudges(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function M(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.bskyAppDismissNudges(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function F(){const e=(0,o.c)(3),t=(0,r.useQueryClient)(),s=(0,h.useAgent)();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.bskyAppSetActiveProgressGuide(e),await t.invalidateQueries({queryKey:y})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,i.useMutation)(n)}function N(){const e=(0,o.c)(4),t=(0,x.useAnalytics)(),s=(0,r.useQueryClient)(),n=(0,h.useAgent)();let a;return e[0]!==n||e[1]!==t||e[2]!==s?(a={mutationFn:async e=>{await n.setVerificationPrefs(e),e.hideBadges?t.metric("verification:settings:hideBadges",{}):t.metric("verification:settings:unHideBadges",{}),await s.invalidateQueries({queryKey:y})}},e[0]=n,e[1]=t,e[2]=s,e[3]=a):a=e[3],(0,i.useMutation)(a)}},87646:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DEFAULT_LOGGED_OUT_LABEL_PREFERENCES:()=>l,useLabelDefinitionsQuery:()=>m,useMyLabelersQuery:()=>c});var o=s(15991),n=(s(95004),s(66949)),a=s(94348),r=s(38229),i=s(86623);const l=Object.fromEntries(Object.entries(n.DEFAULT_LABEL_SETTINGS).map((([e,t])=>[e,"hide"])));function c(e){const t=(0,o.c)(12);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{excludeNonConfigurableLabelers:a}=s,l=void 0!==a&&a,c=(0,i.usePreferencesQuery)();let m,h;t[2]!==l||t[3]!==c.data?.moderationPrefs.labelers?(m=Array.from(new Set(n.BskyAgent.appLabelers.concat(c.data?.moderationPrefs.labelers.map(u)||[]))),l&&(m=m.filter(d)),t[2]=l,t[3]=c.data?.moderationPrefs.labelers,t[4]=m):m=t[4],t[5]!==m?(h={dids:m},t[5]=m,t[6]=h):h=t[6];const p=(0,r.useLabelersDetailedInfoQuery)(h),f=c.isLoading||p.isLoading,g=c.error||p.error;let x;return t[7]!==g||t[8]!==f||t[9]!==p.data||t[10]!==p.refetch?(x={isLoading:f,error:g,data:p.data,refetch:p.refetch},t[7]=g,t[8]=f,t[9]=p.data,t[10]=p.refetch,t[11]=x):x=t[11],x}function d(e){return!(0,a.isNonConfigurableModerationAuthority)(e)}function u(e){return e.did}function m(){const e=(0,o.c)(6),t=c();let s,n,a;return e[0]!==t.data?(s=Object.fromEntries((t.data||[]).map(h)),n=t.data||[],e[0]=t.data,e[1]=s,e[2]=n):(s=e[1],n=e[2]),e[3]!==s||e[4]!==n?(a={labelDefs:s,labelers:n},e[3]=s,e[4]=n,e[5]=a):a=e[5],a}function h(e){return[e.creator.did,(0,n.interpretLabelValueDefinitions)(e)]}},85126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{normalizeSort:()=>u,normalizeView:()=>m,useThreadPreferences:()=>d});var o=s(95004),n=s(3611),a=s(73432),r=s.n(a),i=s(7150),l=s(86623),c=s(33703);function d({save:e}={}){const t=(0,c.useAnalytics)(),{data:s}=(0,l.usePreferencesQuery)(),a=s?.threadViewPrefs,d=(0,i.useCallOnce)(),[h,p]=(0,o.useState)(u(a?.sort||"top")),[f,g]=(0,o.useState)(m({treeViewEnabled:!!a?.lab_treeViewEnabled})),[x,_]=(0,o.useState)(a),y=!!x;a&&x!==a&&(_(a),p(u(a.sort)),g(m({treeViewEnabled:!!a.lab_treeViewEnabled})),d((()=>{t.metric("thread:preferences:load",{sort:a.sort,view:a.lab_treeViewEnabled?"tree":"linear"})})));const b=(0,o.useRef)(!1),{mutate:j,isPending:v}=(0,l.useSetThreadViewPreferencesMutation)({onSuccess:(e,s)=>{t.metric("thread:preferences:update",{sort:s.sort,view:s.lab_treeViewEnabled?"tree":"linear"})},onError:e=>{t.logger.error("useThreadPreferences failed to save",{safeMessage:e})}}),S=(0,o.useMemo)((()=>r()((e=>{j(e)}),2e3,{leading:!0,trailing:!0})),[j]);(0,n.useFocusEffect)((0,o.useCallback)((()=>()=>{S.flush()}),[S])),e&&b.current&&(S({sort:h,lab_treeViewEnabled:"tree"===f}),b.current=!1);const w=(0,o.useCallback)((e=>{b.current=!0,p(u(e))}),[p]),T=(0,o.useCallback)((e=>{b.current=!0,g(e)}),[g]);return(0,o.useMemo)((()=>({isLoaded:y,isSaving:v,sort:h,setSort:w,view:f,setView:T})),[y,v,h,w,f,T])}function u(e){switch(e){case"oldest":return"oldest";case"newest":return"newest";default:return"top"}}function m({treeViewEnabled:e}){return e?"tree":"linear"}},33494:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>l,findAllProfilesInQueryData:()=>u,useProfileFollowersQuery:()=>c});var o=s(15991),n=s(96597),a=s(97154);const r=30,i="profile-followers",l=e=>[i,e];function c(e){const t=(0,o.c)(6),s=(0,a.useAgent)(),i=e||"";let c,u;return t[0]!==i?(c=l(i),t[0]=i,t[1]=c):c=t[1],t[2]!==s||t[3]!==e||t[4]!==c?(u={queryKey:c,async queryFn(t){const{pageParam:o}=t;return(await s.app.bsky.graph.getFollowers({actor:e||"",limit:r,cursor:o})).data},initialPageParam:void 0,getNextPageParam:d,enabled:!!e},t[2]=s,t[3]=e,t[4]=c,t[5]=u):u=t[5],(0,n.useInfiniteQuery)(u)}function d(e){return e.cursor}function*u(e,t){const s=e.getQueriesData({queryKey:[i]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.followers)s.did===t&&(yield s)}},64559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>c,findAllProfilesInQueryData:()=>m,useProfileFollowsQuery:()=>d});var o=s(15991),n=s(96597),a=s(6648),r=s(97154);const i=30,l="profile-follows",c=e=>[l,e];function d(e,t){const s=(0,o.c)(9);let l;s[0]!==t?(l=void 0===t?{limit:i}:t,s[0]=t,s[1]=l):l=s[1];const{limit:d}=l,m=(0,r.useAgent)(),h=e||"";let p,f;return s[2]!==h?(p=c(h),s[2]=h,s[3]=p):p=s[3],s[4]!==m||s[5]!==e||s[6]!==d||s[7]!==p?(f={staleTime:a.STALE.MINUTES.ONE,queryKey:p,async queryFn(t){const{pageParam:s}=t;return(await m.app.bsky.graph.getFollows({actor:e||"",limit:d||i,cursor:s})).data},initialPageParam:void 0,getNextPageParam:u,enabled:!!e},s[4]=m,s[5]=e,s[6]=d,s[7]=p,s[8]=f):f=s[8],(0,n.useInfiniteQuery)(f)}function u(e){return e.cursor}function*m(e,t){const s=e.getQueriesData({queryKey:[l]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.follows)s.did===t&&(yield s)}},13369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>I,findAllProfilesInQueryData:()=>V,findProfileQueryData:()=>z,precacheProfile:()=>k,profilesQueryKey:()=>P,profilesQueryKeyRoot:()=>A,unstableCacheProfileView:()=>g.unstableCacheProfileView,unstableProfileViewCacheQueryKey:()=>g.unstableProfileViewCacheQueryKey,usePrefetchProfileQuery:()=>R,useProfileBlockMutationQueue:()=>H,useProfileFollowMutationQueue:()=>D,useProfileMuteMutationQueue:()=>N,useProfileQuery:()=>E,useProfileUpdateMutation:()=>B,useProfilesQuery:()=>L,useUnstableProfileViewCache:()=>g.useUnstableProfileViewCache});var o=s(15991),n=(s(95004),s(66949)),a=s(5448),r=s(89913),i=s(18102),l=s(37729),c=s(49119),d=s(48833),u=s(93127),m=s(56436),h=s(6648),p=s(30511),f=s(64559),g=s(29976),x=s(2158),_=s(97154),y=s(93626),b=s(33703),j=s(21971),v=s(24095),S=s(55856),w=s(20533),T=s(91154);const k=g.unstableCacheProfileView,C="profile",I=e=>[C,e],A="profiles",P=e=>[A,e];function E(e){const t=(0,o.c)(14),{did:s,staleTime:n}=e,r=void 0===n?h.STALE.SECONDS.FIFTEEN:n,i=(0,_.useAgent)(),{getUnstableProfile:l}=(0,g.useUnstableProfileViewCache)(),c=s??"";let d,u,m;t[0]!==c?(d=I(c),t[0]=c,t[1]=d):d=t[1],t[2]!==i||t[3]!==s?(u=async()=>(await i.getProfile({actor:s??""})).data,t[2]=i,t[3]=s,t[4]=u):u=t[4],t[5]!==s||t[6]!==l?(m=()=>{if(s)return l(s)},t[5]=s,t[6]=l,t[7]=m):m=t[7];const p=!!s;let f;return t[8]!==r||t[9]!==d||t[10]!==u||t[11]!==m||t[12]!==p?(f={staleTime:r,refetchOnWindowFocus:!0,queryKey:d,queryFn:u,placeholderData:m,enabled:p},t[8]=r,t[9]=d,t[10]=u,t[11]=m,t[12]=p,t[13]=f):f=t[13],(0,a.useQuery)(f)}function L(e){const t=(0,o.c)(9),{handles:s,maintainData:n}=e,i=(0,_.useAgent)();let l,c;t[0]!==s?(l=P(s),t[0]=s,t[1]=l):l=t[1],t[2]!==i||t[3]!==s?(c=async()=>(await i.getProfiles({actors:s})).data,t[2]=i,t[3]=s,t[4]=c):c=t[4];const d=n?r.keepPreviousData:void 0;let u;return t[5]!==l||t[6]!==c||t[7]!==d?(u={staleTime:h.STALE.MINUTES.FIVE,queryKey:l,queryFn:c,placeholderData:d},t[5]=l,t[6]=c,t[7]=d,t[8]=u):u=t[8],(0,a.useQuery)(u)}function R(){const e=(0,o.c)(3),t=(0,_.useAgent)(),s=(0,i.useQueryClient)();let n;e[0]!==t||e[1]!==s?(n=async e=>{await s.prefetchQuery({staleTime:h.STALE.SECONDS.THIRTY,queryKey:I(e),queryFn:async()=>(await t.getProfile({actor:e||""})).data})},e[0]=t,e[1]=s,e[2]=n):n=e[2];return n}function B(){const e=(0,o.c)(6),t=(0,i.useQueryClient)(),s=(0,_.useAgent)(),n=(0,x.useUpdateProfileVerificationCache)();let a,r;return e[0]!==s?(a=async e=>{const{profile:t,updates:o,newUserAvatar:n,newUserBanner:a,checkCommitted:r}=e;let i,l;n&&(i=(0,c.uploadBlob)(s,n.path,n.mime)),a&&(l=(0,c.uploadBlob)(s,a.path,a.mime)),await s.upsertProfile((async e=>{let t=e||{};if("function"===typeof o?t=o(t):(t.displayName=o.displayName,t.description=o.description,"pinnedPost"in o&&(t.pinnedPost=o.pinnedPost)),i){const e=await i;t.avatar=e.data.blob}else null===n&&(t.avatar=void 0);if(l){const e=await l;t.banner=e.data.blob}else null===a&&(t.banner=void 0);return t})),await async function(e,t,s){await(0,d.until)(5,1e3,s,(()=>e.app.bsky.actor.getProfile({actor:t})))}(s,t.did,r||(e=>{if("undefined"!==typeof n){if(null===n&&e.data.avatar)return!1;if(e.data.avatar===t.avatar)return!1}if("undefined"!==typeof a){if(null===a&&e.data.banner)return!1;if(e.data.banner===t.banner)return!1}return"function"===typeof o||e.data.displayName===o.displayName&&e.data.description===o.description}))},e[0]=s,e[1]=a):a=e[1],e[2]!==t||e[3]!==a||e[4]!==n?(r={mutationFn:a,async onSuccess(e,s){t.invalidateQueries({queryKey:I(s.profile.did)}),t.invalidateQueries({queryKey:[A,[s.profile.did]]}),await n({profile:s.profile})}},e[2]=t,e[3]=a,e[4]=n,e[5]=r):r=e[5],(0,l.useMutation)(r)}function D(e,t,s,n){const a=(0,o.c)(23),r=(0,_.useAgent)(),c=(0,i.useQueryClient)(),{currentAccount:d}=(0,_.useSession)(),h=e.did,p=e.viewer?.following,g=function(e,t,s,n){const a=(0,o.c)(10),r=(0,b.useAnalytics)(),{currentAccount:c}=(0,_.useSession)(),d=(0,_.useAgent)(),u=(0,i.useQueryClient)(),{captureAction:m}=(0,v.useProgressGuideControls)();let h;a[0]!==d||a[1]!==r||a[2]!==m||a[3]!==n||a[4]!==c||a[5]!==e||a[6]!==s||a[7]!==t||a[8]!==u?(h={mutationFn:async o=>{const{did:a}=o;let i;return c&&(i=z(u,c.did)),m(v.ProgressGuideAction.Follow),r.metric("profile:follow",{logContext:e,didBecomeMutual:t.viewer?Boolean(t.viewer.followedBy):void 0,followeeClout:"followersCount"in t?(0,j.toClout)(t.followersCount):void 0,followeeDid:a,followerClout:(0,j.toClout)(i?.followersCount),position:s,contextProfileDid:n}),await d.follow(a)}},a[0]=d,a[1]=r,a[2]=m,a[3]=n,a[4]=c,a[5]=e,a[6]=s,a[7]=t,a[8]=u,a[9]=h):h=a[9];return(0,l.useMutation)(h)}(t,e,s,n),x=function(e){const t=(0,o.c)(4),s=(0,b.useAnalytics)(),n=(0,_.useAgent)();let a;t[0]!==n||t[1]!==s||t[2]!==e?(a={mutationFn:async t=>{const{followUri:o}=t;return s.metric("profile:unfollow",{logContext:e}),await n.deleteFollow(o)}},t[0]=n,t[1]=s,t[2]=e,t[3]=a):a=t[3];return(0,l.useMutation)(a)}(t);let S,w;a[0]!==h||a[1]!==g||a[2]!==x?(S=async(e,t)=>{if(t){const{uri:e}=await g.mutateAsync({did:h});return y.follow([h]),e}e&&(await x.mutateAsync({did:h,followUri:e}),y.unfollow([h]))},a[0]=h,a[1]=g,a[2]=x,a[3]=S):S=a[3],a[4]!==r||a[5]!==d||a[6]!==h||a[7]!==p||a[8]!==e||a[9]!==c||a[10]!==S?(w={initialState:p,runMutation:S,onSuccess(t){(0,m.updateProfileShadow)(c,h,{followingUri:t}),d?.did&&c.setQueryData((0,f.RQKEY)(d.did),(s=>{if(!s?.pages?.[0])return s;if(t){return s.pages[0].follows.some((t=>t.did===e.did))?s:Object.assign({},s,{pages:[Object.assign({},s.pages[0],{follows:[e,...s.pages[0].follows]}),...s.pages.slice(1)]})}return Object.assign({},s,{pages:s.pages.map((t=>Object.assign({},t,{follows:t.follows.filter((t=>t.did!==e.did))})))})})),t&&r.app.bsky.graph.getSuggestedFollowsByActor({actor:h}).then(O)}},a[4]=r,a[5]=d,a[6]=h,a[7]=p,a[8]=e,a[9]=c,a[10]=S,a[11]=w):w=a[11];const T=(0,u.useToggleMutationQueue)(w);let k;a[12]!==h||a[13]!==c||a[14]!==T?(k=()=>((0,m.updateProfileShadow)(c,h,{followingUri:"pending"}),T(!0)),a[12]=h,a[13]=c,a[14]=T,a[15]=k):k=a[15];const C=k;let I;a[16]!==h||a[17]!==c||a[18]!==T?(I=()=>((0,m.updateProfileShadow)(c,h,{followingUri:void 0}),T(!1)),a[16]=h,a[17]=c,a[18]=T,a[19]=I):I=a[19];const A=I;let P;return a[20]!==C||a[21]!==A?(P=[C,A],a[20]=C,a[21]=A,a[22]=P):P=a[22],P}function O(e){const t=e.data.suggestions.filter(F).map(M).slice(0,8);y.followSuggestion(t)}function M(e){return e.did}function F(e){return!e.viewer?.following}function N(e){const t=(0,o.c)(20),s=(0,i.useQueryClient)(),n=e.did,a=e.viewer?.muted,r=function(){const e=(0,o.c)(5),t=(0,i.useQueryClient)(),s=(0,_.useAgent)();let n,a;e[0]!==s?(n=async e=>{const{did:t}=e;await s.mute(t)},e[0]=s,e[1]=n):n=e[1];e[2]!==t||e[3]!==n?(a={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:(0,T.RQKEY)()})}},e[2]=t,e[3]=n,e[4]=a):a=e[4];return(0,l.useMutation)(a)}(),c=function(){const e=(0,o.c)(5),t=(0,i.useQueryClient)(),s=(0,_.useAgent)();let n,a;e[0]!==s?(n=async e=>{const{did:t}=e;await s.unmute(t)},e[0]=s,e[1]=n):n=e[1];e[2]!==t||e[3]!==n?(a={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:(0,T.RQKEY)()})}},e[2]=t,e[3]=n,e[4]=a):a=e[4];return(0,l.useMutation)(a)}();let d,h;t[0]!==n||t[1]!==r||t[2]!==c?(d=async(e,t)=>t?(await r.mutateAsync({did:n}),!0):(await c.mutateAsync({did:n}),!1),t[0]=n,t[1]=r,t[2]=c,t[3]=d):d=t[3],t[4]!==n||t[5]!==a||t[6]!==s||t[7]!==d?(h={initialState:a,runMutation:d,onSuccess(e){(0,m.updateProfileShadow)(s,n,{muted:e})}},t[4]=n,t[5]=a,t[6]=s,t[7]=d,t[8]=h):h=t[8];const p=(0,u.useToggleMutationQueue)(h);let f;t[9]!==n||t[10]!==s||t[11]!==p?(f=()=>((0,m.updateProfileShadow)(s,n,{muted:!0}),p(!0)),t[9]=n,t[10]=s,t[11]=p,t[12]=f):f=t[12];const g=f;let x;t[13]!==n||t[14]!==s||t[15]!==p?(x=()=>((0,m.updateProfileShadow)(s,n,{muted:!1}),p(!1)),t[13]=n,t[14]=s,t[15]=p,t[16]=x):x=t[16];const y=x;let b;return t[17]!==g||t[18]!==y?(b=[g,y],t[17]=g,t[18]=y,t[19]=b):b=t[19],b}function H(e){const t=(0,o.c)(20),s=(0,i.useQueryClient)(),a=e.did,r=e.viewer?.blocking,c=function(){const e=(0,o.c)(6),{currentAccount:t}=(0,_.useSession)(),s=(0,_.useAgent)(),n=(0,i.useQueryClient)();let a,r;e[0]!==s||e[1]!==t?(a=async e=>{const{did:o}=e;if(!t)throw new Error("Not signed in");return await s.app.bsky.graph.block.create({repo:t.did},{subject:o,createdAt:(new Date).toISOString()})},e[0]=s,e[1]=t,e[2]=a):a=e[2];e[3]!==n||e[4]!==a?(r={mutationFn:a,onSuccess(e,t){const{did:s}=t;n.invalidateQueries({queryKey:(0,w.RQKEY)()}),(0,p.resetProfilePostsQueries)(n,s,1e3)}},e[3]=n,e[4]=a,e[5]=r):r=e[5];return(0,l.useMutation)(r)}(),d=function(){const e=(0,o.c)(6),{currentAccount:t}=(0,_.useSession)(),s=(0,_.useAgent)(),a=(0,i.useQueryClient)();let r,c;e[0]!==s||e[1]!==t?(r=async e=>{const{blockUri:o}=e;if(!t)throw new Error("Not signed in");const{rkey:a}=new n.AtUri(o);await s.app.bsky.graph.block.delete({repo:t.did,rkey:a})},e[0]=s,e[1]=t,e[2]=r):r=e[2];e[3]!==a||e[4]!==r?(c={mutationFn:r,onSuccess(e,t){const{did:s}=t;(0,p.resetProfilePostsQueries)(a,s,1e3)}},e[3]=a,e[4]=r,e[5]=c):c=e[5];return(0,l.useMutation)(c)}();let h,f;t[0]!==c||t[1]!==a||t[2]!==d?(h=async(e,t)=>{if(t){const{uri:e}=await c.mutateAsync({did:a});return e}e&&await d.mutateAsync({did:a,blockUri:e})},t[0]=c,t[1]=a,t[2]=d,t[3]=h):h=t[3],t[4]!==a||t[5]!==r||t[6]!==s||t[7]!==h?(f={initialState:r,runMutation:h,onSuccess(e){(0,m.updateProfileShadow)(s,a,{blockingUri:e}),s.invalidateQueries({queryKey:[S.RQKEY_ROOT]})}},t[4]=a,t[5]=r,t[6]=s,t[7]=h,t[8]=f):f=t[8];const g=(0,u.useToggleMutationQueue)(f);let x;t[9]!==a||t[10]!==s||t[11]!==g?(x=()=>((0,m.updateProfileShadow)(s,a,{blockingUri:"pending"}),g(!0)),t[9]=a,t[10]=s,t[11]=g,t[12]=x):x=t[12];const y=x;let b;t[13]!==a||t[14]!==s||t[15]!==g?(b=()=>((0,m.updateProfileShadow)(s,a,{blockingUri:void 0}),g(!1)),t[13]=a,t[14]=s,t[15]=g,t[16]=b):b=t[16];const j=b;let v;return t[17]!==y||t[18]!==j?(v=[y,j],t[17]=y,t[18]=j,t[19]=v):v=t[19],v}function*V(e,t){const s=e.getQueriesData({queryKey:[C]});for(const[n,a]of s)a&&a.did===t&&(yield a);const o=e.getQueriesData({queryKey:[A]});for(const[n,a]of o)if(a)for(let e of a.profiles)e.did===t&&(yield e)}function z(e,t){return e.getQueryData(I(t))}},30639:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY_GIF:()=>c,RQKEY_LINK:()=>l,fetchResolveGifQuery:()=>p,fetchResolveLinkQuery:()=>u,precacheResolveLinkQuery:()=>m,useResolveGifQuery:()=>h,useResolveLinkQuery:()=>d});var o=s(15991),n=s(5448),a=s(40852),r=s(6648),i=s(97154);const l=e=>["resolve-link",e],c=e=>["resolve-gif",e];function d(e){const t=(0,o.c)(8),s=(0,i.useAgent)();let c,d,u;return t[0]!==e?(c=l(e),t[0]=e,t[1]=c):c=t[1],t[2]!==s||t[3]!==e?(d=async()=>await(0,a.resolveLink)(s,e),t[2]=s,t[3]=e,t[4]=d):d=t[4],t[5]!==c||t[6]!==d?(u={staleTime:r.STALE.HOURS.ONE,queryKey:c,queryFn:d},t[5]=c,t[6]=d,t[7]=u):u=t[7],(0,n.useQuery)(u)}function u(e,t,s){return e.fetchQuery({staleTime:r.STALE.HOURS.ONE,queryKey:l(s),queryFn:async()=>await(0,a.resolveLink)(t,s)})}function m(e,t,s){e.setQueryData(l(t),s)}function h(e){const t=(0,o.c)(8),s=(0,i.useAgent)();let l,d,u;return t[0]!==e.url?(l=c(e.url),t[0]=e.url,t[1]=l):l=t[1],t[2]!==s||t[3]!==e?(d=async()=>await(0,a.resolveGif)(s,e),t[2]=s,t[3]=e,t[4]=d):d=t[4],t[5]!==l||t[6]!==d?(u={staleTime:r.STALE.HOURS.ONE,queryKey:l,queryFn:d},t[5]=l,t[6]=d,t[7]=u):u=t[7],(0,n.useQuery)(u)}function p(e,t,s){return e.fetchQuery({staleTime:r.STALE.HOURS.ONE,queryKey:c(s.url),queryFn:async()=>await(0,a.resolveGif)(t,s)})}},77388:(e,t,s)=>{"use strict";s.r(t),s.d(t,{RQKEY:()=>c,precacheResolvedUri:()=>m,useResolveDidQuery:()=>u,useResolveUriQuery:()=>d});var o=s(15991),n=s(66949),a=s(5448),r=s(6648),i=s(97154),l=s(13369);const c=e=>["resolved-did",e];function d(e){const t=new n.AtUri(e||""),s=u(t.host);return s.data?(t.host=s.data,Object.assign({},s,{data:{did:t.host,uri:t.toString()}})):s}function u(e){const t=(0,o.c)(13),s=(0,i.useAgent)(),{getUnstableProfile:n}=(0,l.useUnstableProfileViewCache)(),d=e??"";let u,m,h;t[0]!==d?(u=c(d),t[0]=d,t[1]=u):u=t[1],t[2]!==s||t[3]!==e?(m=async()=>{if(!e)return"";if(e.startsWith("did:"))return e;return(await s.resolveHandle({handle:e})).data.did},t[2]=s,t[3]=e,t[4]=m):m=t[4],t[5]!==e||t[6]!==n?(h=()=>{if(!e)return;const t=n(e);return t?.did},t[5]=e,t[6]=n,t[7]=h):h=t[7];const p=!!e;let f;return t[8]!==u||t[9]!==m||t[10]!==h||t[11]!==p?(f={staleTime:r.STALE.HOURS.ONE,queryKey:u,queryFn:m,initialData:h,enabled:p},t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f):f=t[12],(0,a.useQuery)(f)}function m(e,t,s){e.setQueryData(c(t),s)}},52396:(e,t,s)=>{"use strict";s.r(t),s.d(t,{findAllPostsInQueryData:()=>p,findAllProfilesInQueryData:()=>f,useSearchPostsQuery:()=>m});var o=s(15991),n=s(95004),a=s(66949),r=s(96597),i=s(15874),l=s(97154),c=s(1822);const d="search-posts",u=({query:e,sort:t})=>[d,e,t];function m(e){const t=(0,o.c)(20),{query:s,sort:c,enabled:d}=e,m=(0,l.useAgent)(),p=(0,i.useModerationOpts)();let f,g,x;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=/from:(\w+)/,t[0]=f):f=t[0],t[1]!==s?(g=f.test(s),t[1]=s,t[2]=g):g=t[2],t[3]!==p||t[4]!==g?(x={isSearchingSpecificUser:g,moderationOpts:p},t[3]=p,t[4]=g,t[5]=x):x=t[5];const _=x,y=n.useRef(null);let b,j;t[6]!==s||t[7]!==c?(b=u({query:s,sort:c}),t[6]=s,t[7]=c,t[8]=b):b=t[8],t[9]!==m||t[10]!==s||t[11]!==c?(j=async e=>{const{pageParam:t}=e;return(await m.app.bsky.feed.searchPosts({q:s,limit:25,cursor:t,sort:c})).data},t[9]=m,t[10]=s,t[11]=c,t[12]=j):j=t[12];const v=d??!!p;let S;t[13]!==_?(S=e=>{const{moderationOpts:t,isSearchingSpecificUser:s}=_;if(s)return e;const o=[];if(y.current){const{data:t,args:s,result:n}=y.current;let a=!0;for(const e in _)if(_.hasOwnProperty(e)&&_[e]!==s[e]){a=!1;break}if(a)for(let r=0;r<e.pages.length&&(e.pages[r]&&t.pages[r]===e.pages[r]);r++)o.push(n.pages[r])}const n=Object.assign({},e,{pages:[...o,...e.pages.slice(o.length).map((e=>Object.assign({},e,{posts:e.posts.filter((e=>!(0,a.moderatePost)(e,t).ui("contentList").filter))})))]});return y.current={data:e,result:n,args:_},n},t[13]=_,t[14]=S):S=t[14];const w=S;let T;return t[15]!==b||t[16]!==j||t[17]!==v||t[18]!==w?(T={queryKey:b,queryFn:j,initialPageParam:void 0,getNextPageParam:h,enabled:v,select:w},t[15]=b,t[16]=j,t[17]=v,t[18]=w,t[19]=T):T=t[19],(0,r.useInfiniteQuery)(T)}function h(e){return e.cursor}function*p(e,t){const s=e.getQueriesData({queryKey:[d]}),o=new a.AtUri(t);for(const[n,a]of s)if(a?.pages)for(const e of a?.pages)for(const t of e.posts){(0,c.didOrHandleUriMatches)(o,t)&&(yield t);const e=(0,c.getEmbeddedPost)(t.embed);e&&(0,c.didOrHandleUriMatches)(o,e)&&(yield(0,c.embedViewRecordToPostView)(e))}}function*f(e,t){const s=e.getQueriesData({queryKey:[d]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.posts){s.author.did===t&&(yield s.author);const e=(0,c.getEmbeddedPost)(s.embed);e?.author.did===t&&(yield e.author)}}},52335:(e,t,s)=>{"use strict";s.r(t),s.d(t,{invalidateStarterPack:()=>j,precacheStarterPack:()=>P,useCreateStarterPackMutation:()=>v,useDeleteStarterPackMutation:()=>C,useEditStarterPackMutation:()=>T,useStarterPackQuery:()=>b});var o=s(15991),n=s(66949),a=s(5448),r=s(18102),i=s(37729),l=s(77625),c=s.n(l),d=s(48833),u=s(45310),m=s(15488),h=s(75972),p=s(6648),f=s(57598),g=s(97154),x=s(46804);const _="starter-pack",y=({uri:e,did:t,rkey:s})=>{if(e?.startsWith("https://")||e?.startsWith("at://")){const t=(0,m.parseStarterPackUri)(e);return[_,t?.name,t?.rkey]}return[_,t,s]};function b({uri:e,did:t,rkey:s}){const o=(0,g.useAgent)();return(0,a.useQuery)({queryKey:y(e?{uri:e}:{did:t,rkey:s}),queryFn:async()=>{e?e&&!e.startsWith("at://")&&(e=(0,m.httpStarterPackUriToAtUri)(e)):e=`at://${t}/app.bsky.graph.starterpack/${s}`;return(await o.app.bsky.graph.getStarterPack({starterPack:e})).data.starterPack},enabled:Boolean(e)||Boolean(t&&s),staleTime:p.STALE.MINUTES.FIVE})}async function j({queryClient:e,did:t,rkey:s}){await e.invalidateQueries({queryKey:y({did:t,rkey:s})})}function v(e){const t=(0,o.c)(12),{onSuccess:s,onError:a}=e,l=(0,r.useQueryClient)(),c=(0,g.useAgent)();let d,m,p,f;return t[0]!==c?(d=async e=>{const{name:t,description:s,feeds:o,profiles:a}=e;let r,i;if(s){const e=new n.RichText({text:s});await e.detectFacets(c),r=e.facets}return i=await(0,u.createStarterPackList)({name:t,description:s,profiles:a,descriptionFacets:r,agent:c}),await c.app.bsky.graph.starterpack.create({repo:c.assertDid},{name:t,description:s,descriptionFacets:r,list:i?.uri,feeds:o?.map(w),createdAt:(new Date).toISOString()})},t[0]=c,t[1]=d):d=t[1],t[2]!==c||t[3]!==s||t[4]!==l?(m=async e=>{await A(c,e.uri,S),await(0,h.invalidateActorStarterPacksQuery)({queryClient:l,did:c.session.did}),s(e)},t[2]=c,t[3]=s,t[4]=l,t[5]=m):m=t[5],t[6]!==a?(p=async e=>{a(e)},t[6]=a,t[7]=p):p=t[7],t[8]!==d||t[9]!==m||t[10]!==p?(f={mutationFn:d,onSuccess:m,onError:p},t[8]=d,t[9]=m,t[10]=p,t[11]=f):f=t[11],(0,i.useMutation)(f)}function S(e){return"string"===typeof e?.data.starterPack.uri}function w(e){return{uri:e.uri}}function T(e){const t=(0,o.c)(12),{onSuccess:s,onError:a}=e,l=(0,r.useQueryClient)(),d=(0,g.useAgent)();let u,p,x,_;return t[0]!==d?(u=async e=>{const{name:t,description:s,feeds:o,profiles:a,currentStarterPack:r,currentListItems:i}=e;let l;if(s){const e=new n.RichText({text:s});await e.detectFacets(d),l=e.facets}if(!n.AppBskyGraphStarterpack.isRecord(r.record))throw new Error("Invalid starter pack");const u=i.filter((e=>e.subject.did!==d.session?.did&&!a.find((t=>t.did===e.subject.did&&t.did))));if(0!==u.length){const e=c()(u,50);for(const t of e)await d.com.atproto.repo.applyWrites({repo:d.session.did,writes:t.map(k)})}const h=a.filter((e=>!i.find((t=>t.subject.did===e.did))));if(h.length>0){const e=c()(h,50);for(const t of e)await d.com.atproto.repo.applyWrites({repo:d.session.did,writes:t.map((e=>({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.listitem",value:{$type:"app.bsky.graph.listitem",subject:e.did,list:r.list?.uri,createdAt:(new Date).toISOString()}})))})}const p=(0,m.parseStarterPackUri)(r.uri).rkey;await d.com.atproto.repo.putRecord({repo:d.session.did,collection:"app.bsky.graph.starterpack",rkey:p,record:{name:t,description:s,descriptionFacets:l,list:r.list?.uri,feeds:o,createdAt:r.record.createdAt,updatedAt:(new Date).toISOString()}})},t[0]=d,t[1]=u):u=t[1],t[2]!==d||t[3]!==s||t[4]!==l?(p=async(e,t)=>{const{currentStarterPack:o}=t,n=(0,m.parseStarterPackUri)(o.uri);await A(d,o.uri,(e=>o.cid!==e?.data.starterPack.cid)),await(0,h.invalidateActorStarterPacksQuery)({queryClient:l,did:d.session.did}),o.list&&await(0,f.invalidateListMembersQuery)({queryClient:l,uri:o.list.uri}),await j({queryClient:l,did:d.session.did,rkey:n.rkey}),s()},t[2]=d,t[3]=s,t[4]=l,t[5]=p):p=t[5],t[6]!==a?(x=e=>{a(e)},t[6]=a,t[7]=x):x=t[7],t[8]!==u||t[9]!==p||t[10]!==x?(_={mutationFn:u,onSuccess:p,onError:x},t[8]=u,t[9]=p,t[10]=x,t[11]=_):_=t[11],(0,i.useMutation)(_)}function k(e){return{$type:"com.atproto.repo.applyWrites#delete",collection:"app.bsky.graph.listitem",rkey:new n.AtUri(e.uri).rkey}}function C(e){const t=(0,o.c)(12),{onSuccess:s,onError:a}=e,l=(0,g.useAgent)(),c=(0,r.useQueryClient)();let d,u,p,x;return t[0]!==l?(d=async e=>{const{listUri:t,rkey:s}=e;if(!l.session)throw new Error("Requires signed in user");t&&await l.app.bsky.graph.list.delete({repo:l.session.did,rkey:new n.AtUri(t).rkey}),await l.app.bsky.graph.starterpack.delete({repo:l.session.did,rkey:s})},t[0]=l,t[1]=d):d=t[1],t[2]!==l||t[3]!==s||t[4]!==c?(u=async(e,t)=>{const{listUri:o,rkey:n}=t,a=(0,m.createStarterPackUri)({did:l.session.did,rkey:n});a&&await A(l,a,I),o&&await(0,f.invalidateListMembersQuery)({queryClient:c,uri:o}),await(0,h.invalidateActorStarterPacksQuery)({queryClient:c,did:l.session.did}),await j({queryClient:c,did:l.session.did,rkey:n}),s()},t[2]=l,t[3]=s,t[4]=c,t[5]=u):u=t[5],t[6]!==a?(p=e=>{a(e)},t[6]=a,t[7]=p):p=t[7],t[8]!==d||t[9]!==u||t[10]!==p?(x={mutationFn:d,onSuccess:u,onError:p},t[8]=d,t[9]=u,t[10]=p,t[11]=x):x=t[11],(0,i.useMutation)(x)}function I(e){return!1===Boolean(e?.data?.starterPack)}async function A(e,t,s){await(0,d.until)(5,1e3,s,(()=>e.app.bsky.graph.getStarterPack({starterPack:t})))}async function P(e,t){if(!n.AppBskyGraphStarterpack.isRecord(t.record))return;let s;if(n.AppBskyGraphDefs.isStarterPackView(t))s=t;else if(n.AppBskyGraphDefs.isStarterPackViewBasic(t)&&x.validate(t.record,n.AppBskyGraphStarterpack.validateRecord)){let e;if(t.record.feeds){e=[];for(const s of t.record.feeds)x.validate(s,n.AppBskyFeedDefs.validateGeneratorView)&&e.push(s)}const o={uri:t.record.list,cid:"",name:t.record.name,purpose:"app.bsky.graph.defs#referencelist"};s=Object.assign({},t,{$type:"app.bsky.graph.defs#starterPackView",list:o,feeds:e})}s&&e.setQueryData(y({uri:t.uri}),s)}},18251:(e,t,s)=>{"use strict";s.r(t),s.d(t,{findAllProfilesInQueryData:()=>b,useSuggestedFollowsByActorQuery:()=>_,useSuggestedFollowsQuery:()=>x});var o=s(15991),n=s(66949),a=s(96597),r=s(5448),i=s(72653),l=s(52891),c=s(6648),d=s(86623),u=s(97154),m=s(15874);const h="suggested-follows",p=e=>[h,e],f="suggested-follows-by-actor",g=e=>[f,e];function x(e){const{currentAccount:t}=(0,u.useSession)(),s=(0,u.useAgent)(),o=(0,m.useModerationOpts)(),{data:r}=(0,d.usePreferencesQuery)(),h=e?.limit||25;return(0,a.useInfiniteQuery)({enabled:!!o&&!!r,staleTime:c.STALE.HOURS.ONE,queryKey:p(e),queryFn:async({pageParam:a})=>{const c=(0,l.getContentLanguages)().join(","),d=e?.subsequentPageLimit&&a?e.subsequentPageLimit:h,u=await s.app.bsky.actor.getSuggestions({limit:d,cursor:a},{headers:Object.assign({},(0,i.createBskyTopicsHeader)((0,i.aggregateUserInterests)(r)),{"Accept-Language":c})});return u.data.actors=u.data.actors.filter((e=>!(0,n.moderateProfile)(e,o).ui("profileList").filter)).filter((e=>{const s=e.viewer;return(!s||!(s.following||s.muted||s.mutedByList||s.blockedBy||s.blocking))&&e.did!==t?.did})),u.data},initialPageParam:void 0,getNextPageParam:e=>e.cursor})}function _(e){const t=(0,o.c)(10),{did:s,enabled:n,staleTime:a}=e,i=void 0===a?c.STALE.MINUTES.FIVE:a,l=(0,u.useAgent)();let d,m,h;return t[0]!==s?(d=g(s),t[0]=s,t[1]=d):d=t[1],t[2]!==l||t[3]!==s?(m=async()=>{const e=await l.app.bsky.graph.getSuggestedFollowsByActor({actor:s});return{suggestions:e.data.isFallback?[]:e.data.suggestions.filter(y),recId:e.data.recId}},t[2]=l,t[3]=s,t[4]=m):m=t[4],t[5]!==n||t[6]!==i||t[7]!==d||t[8]!==m?(h={staleTime:i,queryKey:d,queryFn:m,enabled:n},t[5]=n,t[6]=i,t[7]=d,t[8]=m,t[9]=h):h=t[9],(0,r.useQuery)(h)}function y(e){return!e.viewer?.following}function*b(e,t){yield*function*(e,t){const s=e.getQueriesData({queryKey:[h]});for(const[o,n]of s)if(n?.pages)for(const e of n?.pages)for(const s of e.actors)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[f]});for(const[o,n]of s)if(n)for(const e of n.suggestions)e.did===t&&(yield e)}(e,t)}},15121:(e,t,s)=>{"use strict";s.r(t),s.d(t,{InvalidInteractionSettingsError:()=>B,MAX_HIDDEN_REPLIES:()=>_,MaxHiddenRepliesError:()=>R,createThreadgateRecord:()=>u.createThreadgateRecord,createThreadgateRecordQueryKey:()=>b,createThreadgateViewQueryKey:()=>S,getThreadgateRecord:()=>T,mergeThreadgateRecords:()=>u.mergeThreadgateRecords,threadgateAllowUISettingToAllowRecordValue:()=>u.threadgateAllowUISettingToAllowRecordValue,threadgateRecordQueryKeyRoot:()=>y,threadgateRecordToAllowUISetting:()=>u.threadgateRecordToAllowUISetting,threadgateViewQueryKeyRoot:()=>v,threadgateViewToAllowUISetting:()=>u.threadgateViewToAllowUISetting,updateThreadgateAllow:()=>I,upsertThreadgate:()=>C,useSetThreadgateAllowMutation:()=>A,useThreadgateRecordQuery:()=>j,useThreadgateViewQuery:()=>w,useToggleReplyVisibilityMutation:()=>L,validateThreadgateRecordOrThrow:()=>D,writeThreadgateRecord:()=>k});var o=s(15991),n=s(66949),a=s(5448),r=s(18102),i=s(37729),l=s(62820),c=s(6648),d=s(87272),u=s(20851),m=s(24221),h=s(97154),p=s(36197),f=s(46804),g=s(27124),x={};for(const O in g)["default","MAX_HIDDEN_REPLIES","threadgateRecordQueryKeyRoot","createThreadgateRecordQueryKey","useThreadgateRecordQuery","threadgateViewQueryKeyRoot","createThreadgateViewQueryKey","useThreadgateViewQuery","getThreadgateRecord","writeThreadgateRecord","upsertThreadgate","updateThreadgateAllow","useSetThreadgateAllowMutation","useToggleReplyVisibilityMutation","MaxHiddenRepliesError","InvalidInteractionSettingsError","validateThreadgateRecordOrThrow"].indexOf(O)<0&&(x[O]=()=>g[O]);s.d(t,x);const _=300,y="threadgate-record",b=e=>[y,e];function j(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{postUri:n,initialData:r}=s,i=(0,h.useAgent)(),l=!!n,d=n||"";let u,m;return t[2]!==d?(u=b(d),t[2]=d,t[3]=u):u=t[3],t[4]!==i||t[5]!==r||t[6]!==n||t[7]!==l||t[8]!==u?(m={enabled:l,queryKey:u,placeholderData:r,staleTime:c.STALE.MINUTES.ONE,queryFn:async()=>T({agent:i,postUri:n})},t[4]=i,t[5]=r,t[6]=n,t[7]=l,t[8]=u,t[9]=m):m=t[9],(0,a.useQuery)(m)}const v="threadgate-view",S=e=>[v,e];function w(e){const t=(0,o.c)(10);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{postUri:n,initialData:r}=s,i=(0,d.useGetPost)(),l=!!n,u=n||"";let m,h;return t[2]!==u?(m=S(u),t[2]=u,t[3]=m):m=t[3],t[4]!==i||t[5]!==r||t[6]!==n||t[7]!==l||t[8]!==m?(h={enabled:l,queryKey:m,placeholderData:r,staleTime:c.STALE.MINUTES.ONE,queryFn:async()=>(await i({uri:n})).threadgate??null},t[4]=i,t[5]=r,t[6]=n,t[7]=l,t[8]=m,t[9]=h):h=t[9],(0,a.useQuery)(h)}async function T({agent:e,postUri:t}){const s=new n.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}try{const{data:t}=await(0,l.retry)(2,(e=>!e.message.includes("Could not locate record:")),(()=>e.api.com.atproto.repo.getRecord({repo:s.host,collection:"app.bsky.feed.threadgate",rkey:s.rkey})));return t.value&&f.validate(t.value,n.AppBskyFeedThreadgate.validateRecord)?t.value:null}catch(o){if(o.message.includes("Could not locate record:"))return null;throw o}}async function k({agent:e,postUri:t,threadgate:s}){const o=new n.AtUri(t),a=(0,u.createThreadgateRecord)({post:t,allow:s.allow,hiddenReplies:s.hiddenReplies||[]});await(0,l.networkRetry)(2,(()=>e.api.com.atproto.repo.putRecord({repo:e.session.did,collection:"app.bsky.feed.threadgate",rkey:o.rkey,record:a})))}async function C({agent:e,postUri:t},s){const o=await T({agent:e,postUri:t}),n=await s(o);n&&(D(n),await k({agent:e,postUri:t,threadgate:n}))}async function I({agent:e,postUri:t,allow:s}){return C({agent:e,postUri:t},(async e=>e?Object.assign({},e,{allow:(0,u.threadgateAllowUISettingToAllowRecordValue)(s)}):(0,u.createThreadgateRecord)({post:t,allow:(0,u.threadgateAllowUISettingToAllowRecordValue)(s)})))}function A(){const e=(0,o.c)(7),t=(0,h.useAgent)(),s=(0,r.useQueryClient)(),n=(0,d.useGetPost)(),a=(0,m.useUpdatePostThreadThreadgateQueryCache)();let c,p;return e[0]!==t?(c=async e=>{const{postUri:s,allow:o}=e;return C({agent:t,postUri:s},(async e=>e?Object.assign({},e,{allow:(0,u.threadgateAllowUISettingToAllowRecordValue)(o)}):(0,u.createThreadgateRecord)({post:s,allow:(0,u.threadgateAllowUISettingToAllowRecordValue)(o)})))},e[0]=t,e[1]=c):c=e[1],e[2]!==n||e[3]!==s||e[4]!==c||e[5]!==a?(p={mutationFn:c,async onSuccess(e,t){const{postUri:o,allow:r}=t,i=await(0,l.retry)(5,E,(async()=>{const e=(await n({uri:o})).threadgate;if(!e)throw new Error("useSetThreadgateAllowMutation: could not fetch threadgate, appview may not be ready yet");const t=(0,u.threadgateViewToAllowUISetting)(e);if(!(JSON.stringify(t)===JSON.stringify(r)))throw new Error("useSetThreadgateAllowMutation: appview isn't ready yet");return e}),1e3).catch(P);i&&a(i),s.invalidateQueries({queryKey:[y]}),s.invalidateQueries({queryKey:[v]})}},e[2]=n,e[3]=s,e[4]=c,e[5]=a,e[6]=p):p=e[6],(0,i.useMutation)(p)}function P(){}function E(e){return!0}function L(){const e=(0,o.c)(7),t=(0,h.useAgent)(),s=(0,r.useQueryClient)(),n=(0,p.useThreadgateHiddenReplyUrisAPI)();let a,l;return e[0]!==t||e[1]!==n?(a=async e=>{const{postUri:s,replyUri:o,action:a}=e;"hide"===a?n.addHiddenReplyUri(o):"show"===a&&n.removeHiddenReplyUri(o),await C({agent:t,postUri:s},(async e=>{if(e){if("hide"===a)return(0,u.mergeThreadgateRecords)(e,{hiddenReplies:[o]});if("show"===a)return Object.assign({},e,{hiddenReplies:e.hiddenReplies?.filter((e=>e!==o))||[]})}else if("hide"===a)return(0,u.createThreadgateRecord)({post:s,hiddenReplies:[o]})}))},e[0]=t,e[1]=n,e[2]=a):a=e[2],e[3]!==n||e[4]!==s||e[5]!==a?(l={mutationFn:a,onSuccess(){s.invalidateQueries({queryKey:[y]})},onError(e,t){const{replyUri:s,action:o}=t;"hide"===o?n.removeHiddenReplyUri(s):"show"===o&&n.addHiddenReplyUri(s)}},e[3]=n,e[4]=s,e[5]=a,e[6]=l):l=e[6],(0,i.useMutation)(l)}class R extends Error{constructor(e){super(e||"Maximum number of hidden replies reached"),this.name="MaxHiddenRepliesError"}}class B extends Error{constructor(e){super(e||"Invalid interaction settings"),this.name="InvalidInteractionSettingsError"}}function D(e){const t=n.AppBskyFeedThreadgate.validateRecord(e);if(!t.success)throw new B;if((t.value.hiddenReplies?.length??0)>_)throw new R}},27124:()=>{},20851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createThreadgateRecord:()=>c,mergeThreadgateRecords:()=>l,threadgateAllowUISettingToAllowRecordValue:()=>i,threadgateRecordToAllowUISetting:()=>r,threadgateViewToAllowUISetting:()=>a});var o=s(66949),n=s(46804);function a(e){return r(e&&n.validate(e.record,o.AppBskyFeedThreadgate.validateRecord)?e.record:void 0)}function r(e){if(!e||void 0===e.allow)return[{type:"everybody"}];if(0===e.allow.length)return[{type:"nobody"}];return e.allow.map((e=>{let t;return o.AppBskyFeedThreadgate.isMentionRule(e)?t={type:"mention"}:o.AppBskyFeedThreadgate.isFollowingRule(e)?t={type:"following"}:o.AppBskyFeedThreadgate.isListRule(e)?t={type:"list",list:e.list}:o.AppBskyFeedThreadgate.isFollowerRule(e)&&(t={type:"followers"}),t})).filter((e=>!!e))}function i(e){if(e.find((e=>"everybody"===e.type)))return;let t=[];if(!e.find((e=>"nobody"===e.type)))for(const s of e)"mention"===s.type?t.push({$type:"app.bsky.feed.threadgate#mentionRule"}):"following"===s.type?t.push({$type:"app.bsky.feed.threadgate#followingRule"}):"followers"===s.type?t.push({$type:"app.bsky.feed.threadgate#followerRule"}):"list"===s.type&&t.push({$type:"app.bsky.feed.threadgate#listRule",list:s.list});return t}function l(e,t){const s=e.allow||t.allow?[...e.allow||[],...t.allow||[]].filter(((e,t,s)=>s.findIndex((t=>t.$type===e.$type))===t)):void 0,o=Array.from(new Set([...e.hiddenReplies||[],...t.hiddenReplies||[]]));return c({post:e.post,allow:s,hiddenReplies:o})}function c(e){if(!e.post)throw new Error("Cannot create a threadgate record without a post URI");return{$type:"app.bsky.feed.threadgate",post:e.post,createdAt:(new Date).toISOString(),allow:e.allow,hiddenReplies:e.hiddenReplies||[]}}},14364:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createGetSuggestedUsersQueryKey:()=>m,findAllProfilesInQueryData:()=>p,getSuggestedUsersQueryKeyRoot:()=>u,useGetSuggestedUsersQuery:()=>h});var o=s(15991),n=s(5448),a=s(72653),r=s(5295),i=s(52891),l=s(6648),c=s(86623),d=s(97154);const u="unspecced-suggested-users",m=e=>[u,e.category,e.limit,e.overrideInterests?.join(",")];function h(e){const t=(0,o.c)(10),s=(0,d.useAgent)(),{data:u}=(0,c.usePreferencesQuery)(),h=!!u&&!1!==e.enabled;let p,f,g;return t[0]!==e?(p=m(e),t[0]=e,t[1]=p):p=t[1],t[2]!==s||t[3]!==u||t[4]!==e?(f=async()=>{const t=(0,i.getContentLanguages)().join(","),o=(0,a.aggregateUserInterests)(u),n=e.overrideInterests&&e.overrideInterests.length>0?e.overrideInterests.join(","):o,{data:l}=await s.app.bsky.unspecced.getSuggestedUsers({category:e.category??void 0,limit:e.limit||10},{headers:Object.assign({},(0,a.createBskyTopicsHeader)(n),{"Accept-Language":t})});if(!e.category&&0===l.actors.length){r.logger.error(`Did not get any suggested users, falling back - interests: ${n}`);const{data:o}=await s.app.bsky.unspecced.getSuggestedUsers({category:e.category??void 0,limit:e.limit||10},{headers:{"Accept-Language":t}});return o}return l},t[2]=s,t[3]=u,t[4]=e,t[5]=f):f=t[5],t[6]!==h||t[7]!==p||t[8]!==f?(g={enabled:h,staleTime:l.STALE.MINUTES.THREE,queryKey:p,queryFn:f},t[6]=h,t[7]=p,t[8]=f,t[9]=g):g=t[9],(0,n.useQuery)(g)}function*p(e,t){const s=e.getQueriesData({queryKey:[u]});for(const[o,n]of s)if(n)for(const e of n.actors)e.did===t&&(yield e)}},29976:(e,t,s)=>{"use strict";s.r(t),s.d(t,{unstableCacheProfileView:()=>r,unstableProfileViewCacheQueryKey:()=>a,useUnstableProfileViewCache:()=>i});var o=s(15991),n=(s(95004),s(18102));const a=e=>["unstableProfileViewCache",e];function r(e,t){e.setQueryData(a(t.handle),t),e.setQueryData(a(t.did),t)}function i(){const e=(0,o.c)(4),t=(0,n.useQueryClient)();let s;e[0]!==t?(s=e=>t.getQueryData(a(e)),e[0]=t,e[1]=s):s=e[1];const r=s;let i;return e[2]!==r?(i={getUnstableProfile:r},e[2]=r,e[3]=i):i=e[3],i}},76635:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useCurrentAccountProfile:()=>i});var o=s(15991),n=s(56436),a=s(13369),r=s(97154);function i(){const e=(0,o.c)(2),{currentAccount:t}=(0,r.useSession)(),s=t?.did;let i;e[0]!==s?(i={did:s},e[0]=s,e[1]=i):i=e[1];const{data:l}=(0,a.useProfileQuery)(i);return(0,n.useMaybeProfileShadow)(l)}},24221:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PostThreadContextProvider:()=>k,createPostThreadOtherQueryKey:()=>f.createPostThreadOtherQueryKey,createPostThreadQueryKey:()=>f.createPostThreadQueryKey,postThreadQueryKeyRoot:()=>f.postThreadQueryKeyRoot,usePostThread:()=>C,usePostThreadContext:()=>T,useUpdatePostThreadThreadgateQueryCache:()=>h.useUpdatePostThreadThreadgateQueryCache});var o=s(95004),n=s(18102),a=s(5448),r=s(15874),i=s(85126);const l=10,c=1,d=4,u=void 0,m=6;var h=s(71100),p=s(55528),f=s(26801),g=s(20796),x=s(92696),_=s(97154),y=s(36197),b=s(19552),j=s(43535),v=s(15991),S=s(2629);const w=(0,o.createContext)(void 0);function T(){return(0,o.useContext)(w)}function k(e){const t=(0,v.c)(3),{children:s,context:o}=e;let n;return t[0]!==s||t[1]!==o?(n=(0,S.jsx)(w.Provider,{value:o,children:s}),t[0]=s,t[1]=o,t[2]=n):n=t[2],n}function C({anchor:e}){const t=(0,n.useQueryClient)(),s=(0,_.useAgent)(),{hasSession:v}=(0,_.useSession)(),{gtPhone:S}=(0,b.useBreakpoints)(),w=(0,r.useModerationOpts)(),T=(0,y.useMergeThreadgateHiddenReplies)(),{isLoaded:k,sort:C,setSort:I,view:A,setView:P}=(0,i.useThreadPreferences)(),E=(0,o.useMemo)((()=>"linear"===A?l:j.IS_WEB&&S?m:d),[A,S]),L=(0,f.createPostThreadQueryKey)({anchor:e,sort:C,view:A}),R=(0,f.createPostThreadOtherQueryKey)({anchor:e}),B=(0,a.useQuery)({enabled:k&&!!e&&!!w,queryKey:L,async queryFn(t){const{data:o}=await s.app.bsky.unspecced.getPostThreadV2({anchor:e,branchingFactor:"linear"===A?c:u,below:E,sort:C});t.meta=t.meta||{hasOtherReplies:!1},o.hasOtherReplies&&(t.meta.hasOtherReplies=!0);const n={thread:o.thread||[],threadgate:o.threadgate,hasOtherReplies:!!t.meta.hasOtherReplies},a=(0,g.getThreadgateRecord)(n.threadgate);return n.threadgate&&a&&(n.threadgate.record=a),n},placeholderData(){if(!e)return;const s=(0,h.getThreadPlaceholder)(t,e);return{thread:s?[s]:[],threadgate:void 0,hasOtherReplies:!1}},select(e){const t=(0,g.getThreadgateRecord)(e.threadgate);return e.threadgate&&t&&(e.threadgate.record=t),e}}),D=(0,o.useMemo)((()=>B.data?.thread||[]),[B.data?.thread]),O=(0,o.useMemo)((()=>B.data?.threadgate),[B.data?.threadgate]),M=(0,o.useMemo)((()=>!!B.data?.hasOtherReplies),[B.data?.hasOtherReplies]),[F,N]=(0,o.useState)(!1),H=(0,o.useMemo)((()=>(0,h.createCacheMutator)({params:{view:A,below:E},postThreadQueryKey:L,postThreadOtherQueryKey:R,queryClient:t})),[t,A,E,L,R]),V=M&&F,z=(0,a.useQuery)({enabled:V,queryKey:R,async queryFn(){const{data:t}=await s.app.bsky.unspecced.getPostThreadOtherV2({anchor:e});return t}}),U=(0,o.useMemo)((()=>{if(!V)return[];if(z.isLoading)return Array.from({length:2}).map(((e,t)=>x.skeleton({key:`other-reply-${t}`,item:"reply"})));if(z.isError)return[];if(z.data?.thread){const{threadItems:e}=(0,p.sortAndAnnotateThreadItems)(z.data.thread,{view:A,skipModerationHandling:!0,threadgateHiddenReplies:T(O?.record),moderationOpts:w});return e}return[]}),[A,V,z,T,w,O?.record]),W=(0,o.useCallback)((e=>{N(!1),I(e)}),[I,N]),G=(0,o.useCallback)((e=>{N(!1),P(e)}),[P,N]),{threadItems:q,otherThreadItems:Q}=(0,o.useMemo)((()=>(0,p.sortAndAnnotateThreadItems)(D,{view:A,threadgateHiddenReplies:T(O?.record),moderationOpts:w})),[D,O?.record,T,w,A]),K=(0,o.useMemo)((()=>(0,p.buildThread)({threadItems:q,otherThreadItems:Q,serverOtherThreadItems:U,isLoading:B.isPlaceholderData,hasSession:v,hasOtherThreadItems:M,otherItemsVisible:F,showOtherItems:()=>N(!0)})),[q,Q,U,B.isPlaceholderData,v,M,F,N]);return(0,o.useMemo)((()=>({context:{postThreadQueryKey:L,postThreadOtherQueryKey:R},state:{isFetching:B.isFetching,isPlaceholderData:B.isPlaceholderData,error:B.error,sort:C,view:A,otherItemsVisible:F},data:{items:K,threadgate:O},actions:{insertReplies:H.insertReplies,refetch:B.refetch,setSort:W,setView:G}})),[B,H.insertReplies,F,C,A,W,G,O,K,L,R])}},71100:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createCacheMutator:()=>_,findAllPostsInQueryData:()=>j,findAllProfilesInQueryData:()=>v,getThreadPlaceholder:()=>y,getThreadPlaceholderCandidates:()=>b,useUpdatePostThreadThreadgateQueryCache:()=>S});var o=s(15991),n=(s(95004),s(66949)),a=s(18102),r=s(28965),i=s(14523),l=s(21560),c=s(30511),d=s(19260),u=s(52396),m=s(24221),h=s(55528),p=s(26801),f=s(20796),g=s(92696),x=s(1822);function _({queryClient:e,postThreadQueryKey:t,postThreadOtherQueryKey:s,params:o}){return{insertReplies(a,i){function l(t){for(let s=0;s<t.length;s++){const l=t[s];if(!n.AppBskyUnspeccedDefs.isThreadItemPost(l.value))continue;if(l.uri!==a)continue;const c=(0,r.dangerousGetPostShadow)(l.value.post),d=c?.optimisticReplyCount,u=l.value.post.replyCount,m=(d??u??0)+1;l.value.post.replyCount=m,(0,r.updatePostShadow)(e,l.value.post.uri,{optimisticReplyCount:m});const p=(0,f.getRootPostAtUri)(l.value.post)?.host,g=t.at(s+1),x=!g||g.depth<=l.depth,_=0===l.depth,y=l.depth>0,b=i.at(0),j=!!n.AppBskyUnspeccedDefs.isThreadItemPost(b?.value)&&p===b.value.post.author.did,v=_||"tree"===o.view&&y||"linear"===o.view&&x,S="linear"===o.view&&j&&y;if(v||S){const e=(0,h.getBranch)(t,s,l.depth),n=S?e.length:0,a=i.map(((e,t)=>(e.depth=l.depth+1+t,e))).filter((e=>e.depth<=o.below));t.splice(s+1,n,...a)}}return t}e.setQueryData(t,(e=>{if(e)return Object.assign({},e,{thread:l([...e.thread])})})),e.setQueryData(s,(e=>{if(e)return Object.assign({},e,{thread:l([...e.thread])})}))},deletePost(s){e.setQueryData(t,(e=>{if(!e)return;const t=[...e.thread];for(let o=0;o<t.length;o++){const e=t[o];if(n.AppBskyUnspeccedDefs.isThreadItemPost(s.value)&&e.uri===s.uri){const s=(0,h.getBranch)(t,o,e.depth);t.splice(s.start,s.length);break}}return Object.assign({},e,{thread:t})}))}}}function y(e,t){let s;for(let o of b(e,t)){if(null!=o.value.post.likeCount)return o;s=o}return s}function*b(e,t){for(const s of j(e,t))yield(0,g.postViewToThreadPlaceholder)(s);for(let s of(0,l.findAllPostsInQueryData)(e,t))yield(0,g.postViewToThreadPlaceholder)(s);for(let s of(0,c.findAllPostsInQueryData)(e,t))yield(0,g.postViewToThreadPlaceholder)(s);for(let s of(0,d.findAllPostsInQueryData)(e,t))yield(0,g.postViewToThreadPlaceholder)(s);for(let s of(0,u.findAllPostsInQueryData)(e,t))yield(0,g.postViewToThreadPlaceholder)(s);for(let s of(0,i.findAllPostsInQueryData)(e,t))yield(0,g.postViewToThreadPlaceholder)(s)}function*j(e,t){const s=new n.AtUri(t),o=e.getQueriesData({queryKey:[p.postThreadQueryKeyRoot]});for(const[a,r]of o){if(!r)continue;const{thread:e}=r;for(const t of e)if(n.AppBskyUnspeccedDefs.isThreadItemPost(t.value)){(0,x.didOrHandleUriMatches)(s,t.value.post)&&(yield t.value.post);const e=(0,x.getEmbeddedPost)(t.value.post.embed);e&&(0,x.didOrHandleUriMatches)(s,e)&&(yield(0,x.embedViewRecordToPostView)(e))}}}function*v(e,t){const s=e.getQueriesData({queryKey:[p.postThreadQueryKeyRoot]});for(const[o,a]of s){if(!a)continue;const{thread:e}=a;for(const s of e)if(n.AppBskyUnspeccedDefs.isThreadItemPost(s.value)){s.value.post.author.did===t&&(yield s.value.post.author);const e=(0,x.getEmbeddedPost)(s.value.post.embed);e&&e.author.did===t&&(yield e.author)}}}function S(){const e=(0,o.c)(3),t=(0,a.useQueryClient)(),s=(0,m.usePostThreadContext)();let r;return e[0]!==s||e[1]!==t?(r=e=>{if(!s)return;const o=function(t){for(let s=0;s<t.length;s++){const o=t[s];n.AppBskyUnspeccedDefs.isThreadItemPost(o.value)&&(0===o.depth&&t.splice(s,1,Object.assign({},o,{value:Object.assign({},o.value,{post:Object.assign({},o.value.post,{threadgate:e})})})))}return t};t.setQueryData(s.postThreadQueryKey,(e=>{if(e)return Object.assign({},e,{thread:o([...e.thread])})}))},e[0]=s,e[1]=t,e[2]=r):r=e[2],r}},55528:(e,t,s)=>{"use strict";s.r(t),s.d(t,{buildThread:()=>i,getBranch:()=>l,sortAndAnnotateThreadItems:()=>r});var o=s(66949),n=s(20796),a=s(92696);function r(e,{threadgateHiddenReplies:t,moderationOpts:s,view:r,skipModerationHandling:i}){const c=[],d=[],u=new Map;e:for(let m=0;m<e.length;m++){const r=e[m];let h,p;if(o.AppBskyUnspeccedDefs.isThreadItemPost(r.value)&&(h=u.get((0,n.getPostRecord)(r.value.post).reply?.parent?.uri||""),p=(0,n.getTraversalMetadata)({item:r,parentMetadata:h,prevItem:e.at(m-1),nextItem:e.at(m+1)}),(0,n.storeTraversalMetadata)(u,p)),r.depth<0);else if(0===r.depth){if(o.AppBskyUnspeccedDefs.isThreadItemNoUnauthenticated(r.value))c.push(a.threadPostNoUnauthenticated(r));else if(o.AppBskyUnspeccedDefs.isThreadItemNotFound(r.value))c.push(a.threadPostNotFound(r));else if(o.AppBskyUnspeccedDefs.isThreadItemBlocked(r.value))c.push(a.threadPostBlocked(r));else if(o.AppBskyUnspeccedDefs.isThreadItemPost(r.value)){const i=a.threadPost({uri:r.uri,depth:r.depth,value:r.value,moderationOpts:s,threadgateHiddenReplies:t});c.push(i);t:for(let r=m-1;r>=0;r--){const i=e[r];if(o.AppBskyUnspeccedDefs.isThreadItemNoUnauthenticated(i.value)){const t=a.threadPostNoUnauthenticated(i);t.ui=(0,n.getThreadPostNoUnauthenticatedUI)({depth:i.depth,nextItemDepth:e[r+1]?.depth}),c.unshift(t);break t}if(o.AppBskyUnspeccedDefs.isThreadItemNotFound(i.value)){c.unshift(a.threadPostNotFound(i));break t}if(o.AppBskyUnspeccedDefs.isThreadItemBlocked(i.value)){c.unshift(a.threadPostBlocked(i));break t}o.AppBskyUnspeccedDefs.isThreadItemPost(i.value)&&c.unshift(a.threadPost({uri:i.uri,depth:i.depth,value:i.value,moderationOpts:s,threadgateHiddenReplies:t}))}}}else if(r.depth>0){if(o.AppBskyUnspeccedDefs.isThreadItemNoUnauthenticated(r.value)||o.AppBskyUnspeccedDefs.isThreadItemNotFound(r.value)||o.AppBskyUnspeccedDefs.isThreadItemBlocked(r.value)){m=l(e,m,r.depth).end;continue e}if(o.AppBskyUnspeccedDefs.isThreadItemPost(r.value)){h&&(p.replyIndex=h.repliesSeenCounter);const f=a.threadPost({uri:r.uri,depth:r.depth,value:r.value,moderationOpts:s,threadgateHiddenReplies:t});if(f.isBlurred&&!i){const i=f,c=1===i.depth,h=l(e,m,r.depth);if(c){d.push(i);for(let r=h.start+1;r<=h.end;r++){const i=e[r];if(!o.AppBskyUnspeccedDefs.isThreadItemPost(i.value))break;{const o=u.get((0,n.getPostRecord)(i.value.post).reply?.parent?.uri||""),c=(0,n.getTraversalMetadata)({item:i,prevItem:e[r-1],nextItem:e[r+1],parentMetadata:o});(0,n.storeTraversalMetadata)(u,c),o&&(c.replyIndex=o.repliesSeenCounter);const m=a.threadPost({uri:i.uri,depth:i.depth,value:i.value,moderationOpts:s,threadgateHiddenReplies:t});m.isBlurred?r=l(e,r,i.depth).end:(d.push(m),o&&(o.repliesSeenCounter+=1))}}}m=h.end;continue e}c.push(f),h&&(h.repliesSeenCounter+=1)}}}for(const o of[c,d])for(let e=0;e<o.length;e++){const t=o[e],s=o.at(e-1),i=o.at(e+1);if("threadPost"===t.type){const l=u.get(t.uri);if(l){if(l.parentMetadata){"threadPost"===s?.type&&(l.prevItemDepth=s?.depth),"threadPost"===i?.type&&(l.nextItemDepth=i?.depth);const e=l.replyIndex===l.parentMetadata.repliesSeenCounter-1,o=void 0===l.nextItemDepth||l.nextItemDepth<l.depth;l.isLastSibling=o||e,l.isLastChild=void 0===l.nextItemDepth||l.nextItemDepth<=l.depth,l.isLastSibling&&(l.isPartOfLastBranchFromDepth=l.depth,!l.isLastSibling&&l.parentMetadata.isPartOfLastBranchFromDepth&&(l.isPartOfLastBranchFromDepth=l.parentMetadata.isPartOfLastBranchFromDepth)),l.parentMetadata.repliesUnhydrated>0&&l.isLastSibling&&(l.upcomingParentReadMore=l.parentMetadata),l.parentMetadata.upcomingParentReadMore&&(l.upcomingParentReadMore=l.parentMetadata.upcomingParentReadMore),l.skippedIndentIndices=new Set([...l.parentMetadata.skippedIndentIndices]),l.parentMetadata.repliesUnhydrated<=0&&l.isLastSibling&&l.skippedIndentIndices.add(t.depth-2)}l.repliesUnhydrated>0&&l.isLastChild&&(l.precedesChildReadMore=!0,o.splice(e+1,0,a.readMore(l)),e++),"tree"===r&&l.upcomingParentReadMore&&l.isPartOfLastBranchFromDepth&&l.isPartOfLastBranchFromDepth>=l.upcomingParentReadMore.depth&&(void 0===l.nextItemDepth||l.nextItemDepth<=l.upcomingParentReadMore.depth)&&(o.splice(e+1,0,a.readMore(l.upcomingParentReadMore)),e++),t.value.moreParents&&(l.followsReadMoreUp=!0,o.splice(e,0,a.readMoreUp(l)),e++),t.ui=(0,n.getThreadPostUI)(l)}}}return{threadItems:c,otherThreadItems:d}}function i({threadItems:e,otherThreadItems:t,serverOtherThreadItems:s,isLoading:o,hasSession:n,otherItemsVisible:r,hasOtherThreadItems:i,showOtherItems:l}){const c=[...e];if(o){const e=c.at(0),t=e&&"threadPost"===e.type,s=t?e.value.post.replyCount??4:4;if(c.length||c.push(a.skeleton({key:"anchor-skeleton",item:"anchor"})),n){const s=t&&!0===e.value.post.viewer?.replyDisabled;t?s||c.push({type:"replyComposer",key:"replyComposer"}):c.push(a.skeleton({key:"replyComposer",item:"replyComposer"}))}for(let o=0;o<s;o++)c.push(a.skeleton({key:`anchor-skeleton-reply-${o}`,item:"reply"}))}else{for(let e=0;e<c.length;e++){const t=c[e];if("threadPost"===t.type&&0===t.depth&&!t.value.post.viewer?.replyDisabled&&n){c.splice(e+1,0,{type:"replyComposer",key:"replyComposer"});break}}(t.length||i)&&(r?(c.push(...t),c.push(...s)):c.push({type:"showOtherReplies",key:"showOtherReplies",onPress:l}))}return c}function l(e,t,s){let o=t;for(let n=t+1;n<e.length;n++){if(!(e[n].depth>s)){o=n-1;break}o=n}return{start:t,end:o,length:o-t}}},26801:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createPostThreadOtherQueryKey:()=>a,createPostThreadQueryKey:()=>n,postThreadQueryKeyRoot:()=>o});const o="post-thread-v2",n=e=>[o,e],a=e=>[o,"other",e]},20796:(e,t,s)=>{"use strict";s.r(t),s.d(t,{getPostRecord:()=>l,getRootPostAtUri:()=>i,getThreadPostNoUnauthenticatedUI:()=>m,getThreadPostUI:()=>u,getThreadgateRecord:()=>r,getTraversalMetadata:()=>c,storeTraversalMetadata:()=>d});var o=s(66949),n=s(88875),a=s(46804);function r(e){return a.dangerousIsType(e?.record,o.AppBskyFeedThreadgate.isRecord)?e?.record:void 0}function i(e){if(a.dangerousIsType(e.record,o.AppBskyFeedPost.isRecord)){if(!e.record.reply)return new o.AtUri(e.uri);if(e.record.reply?.root?.uri)return new o.AtUri(e.record.reply.root.uri)}}function l(e){return e.record}function c({item:e,prevItem:t,nextItem:s,parentMetadata:a}){if(!o.AppBskyUnspeccedDefs.isThreadItemPost(e.value))throw new Error("Expected thread item to be a post");const r=e.value.post.replyCount||0,i=e.value.moreReplies||0,c={depth:e.depth,isLastChild:!1,isLastSibling:!1,isPartOfLastBranchFromDepth:1===e.depth?1:void 0,nextItemDepth:s?.depth,parentMetadata:a,prevItemDepth:t?.depth,precedesChildReadMore:!1,followsReadMoreUp:!1,postData:{uri:e.uri,authorHandle:e.value.post.author.handle},repliesCount:r,repliesUnhydrated:i,repliesSeenCounter:0,replyIndex:0,skippedIndentIndices:new Set};return(0,n.isDevMode)()&&(c.postData.text=l(e.value.post).text),c}function d(e,t){e.set(t.postData.uri,t),(0,n.isDevMode)()&&(e.set(t.postData.text,t),window.__thread=e)}function u({depth:e,repliesCount:t,prevItemDepth:s,isLastChild:o,skippedIndentIndices:n,repliesSeenCounter:a,repliesUnhydrated:r,precedesChildReadMore:i,followsReadMoreUp:l}){return{isAnchor:0===e,showParentReplyLine:l||!!s&&0!==s&&s<e,showChildReplyLine:e<0||e>0&&t>0&&(t-r===a||a>0),indent:e,isLastChild:o,skippedIndentIndices:n,precedesChildReadMore:i??!1}}function m({depth:e,prevItemDepth:t}){return{showChildReplyLine:e<0,showParentReplyLine:Boolean(t&&t<e)}}},92696:(e,t,s)=>{"use strict";s.r(t),s.d(t,{postViewToThreadPlaceholder:()=>m,readMore:()=>c,readMoreUp:()=>d,skeleton:()=>u,threadPost:()=>l,threadPostBlocked:()=>i,threadPostNoUnauthenticated:()=>a,threadPostNotFound:()=>r});var o=s(66949),n=s(35938);function a({uri:e,depth:t,value:s}){return{type:"threadPostNoUnauthenticated",key:e,uri:e,depth:t,value:s,ui:{}}}function r({uri:e,depth:t,value:s}){return{type:"threadPostNotFound",key:e,uri:e,depth:t,value:s}}function i({uri:e,depth:t,value:s}){return{type:"threadPostBlocked",key:e,uri:e,depth:t,value:s}}function l({uri:e,depth:t,value:s,moderationOpts:n,threadgateHiddenReplies:a}){const r=(0,o.moderatePost)(s.post,n),i=r.ui("contentList"),l=i.blur||i.filter,c="muted"===(i.blurs[0]||i.filters[0])?.type,d=a.has(e),u=s.post.author.did===n.userDid,m=(d||l||c)&&!u;return{type:"threadPost",key:e,uri:e,depth:t,value:Object.assign({},s,{post:s.post}),isBlurred:m,moderation:r,ui:{}}}function c({depth:e,repliesUnhydrated:t,skippedIndentIndices:s,postData:a}){const r=new o.AtUri(a.uri),i=(0,n.makeProfileLink)({did:r.host,handle:a.authorHandle},"post",r.rkey);return{type:"readMore",key:`readMore:${a.uri}`,href:i,moreReplies:t,depth:e,skippedIndentIndices:s}}function d({postData:e}){const t=new o.AtUri(e.uri),s=(0,n.makeProfileLink)({did:t.host,handle:e.authorHandle},"post",t.rkey);return{type:"readMoreUp",key:`readMoreUp:${e.uri}`,href:s}}function u({key:e,item:t}){return{type:"skeleton",key:e,item:t}}function m(e){return{$type:"app.bsky.unspecced.getPostThreadV2#threadItem",uri:e.uri,depth:0,value:{$type:"app.bsky.unspecced.defs#threadItemPost",post:e,opThread:!1,moreParents:!1,moreReplies:0,hiddenByThreadgate:!1,mutedByViewer:!1}}}},1822:(e,t,s)=>{"use strict";s.r(t),s.d(t,{didOrHandleUriMatches:()=>r,embedViewRecordToPostView:()=>l,getEmbeddedPost:()=>i,truncateAndInvalidate:()=>a});var o=s(66949),n=s(46804);async function a(e,t){return e.setQueriesData({queryKey:t},(e=>e?{pageParams:e.pageParams.slice(0,1),pages:e.pages.slice(0,1)}:e)),e.invalidateQueries({queryKey:t})}function r(e,t){return e.host.startsWith("did:")?e.href===t.uri:e.host===t.author.handle&&t.uri.endsWith(e.rkey)}function i(e){return n.dangerousIsType(e,o.AppBskyEmbedRecord.isView)&&o.AppBskyEmbedRecord.isViewRecord(e.record)&&o.AppBskyFeedPost.isRecord(e.record.value)?e.record:n.dangerousIsType(e,o.AppBskyEmbedRecordWithMedia.isView)&&o.AppBskyEmbedRecord.isViewRecord(e.record.record)&&o.AppBskyFeedPost.isRecord(e.record.record.value)?e.record.record:void 0}function l(e){return{uri:e.uri,cid:e.cid,author:e.author,record:e.value,indexedAt:e.indexedAt,labels:e.labels,embed:e.embeds?.[0],likeCount:e.likeCount,quoteCount:e.quoteCount,replyCount:e.replyCount,repostCount:e.repostCount}}},2158:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useUpdateProfileVerificationCache:()=>l});var o=s(95004),n=s(18102),a=s(5295),r=s(56436),i=s(97154);function l(){const e=(0,n.useQueryClient)(),t=(0,i.useAgent)();return(0,o.useCallback)((async({profile:s})=>{try{const{data:o}=await t.getProfile({actor:s.did??""});(0,r.updateProfileShadow)(e,s.did,{verification:o.verification})}catch(o){a.logger.error("useUpdateProfileVerificationCache failed",{safeMessage:o})}}),[t,e])}},49818:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>g,useCanGoLive:()=>b,useCheckEmailConfirmed:()=>j,useLiveNowConfig:()=>y,useTrendingConfig:()=>x});var o=s(15991),n=s(95004),a=s(52891),r=s(5448),i=s(6648),l=s(97154);var c=s(33703),d=s(43535),u=s(33520),m=s(2629);const h=(0,n.createContext)({enabled:!1});h.displayName="TrendingContext";const p=(0,n.createContext)([]);p.displayName="LiveNowContext";const f=(0,n.createContext)(null);function g(e){const t=(0,o.c)(18),{children:s}=e,n=(0,a.useLanguagePrefs)(),{data:c,isLoading:d}=function(){const e=(0,l.useAgent)();return(0,r.useQuery)({refetchOnWindowFocus:!0,staleTime:i.STALE.MINUTES.FIVE,queryKey:["service-config"],queryFn:async()=>{try{const{data:t}=await e.api.app.bsky.unspecced.getConfig();return{checkEmailConfirmed:Boolean(t.checkEmailConfirmed),topicsEnabled:Boolean(t.topicsEnabled),liveNow:t.liveNow??[]}}catch(t){return{checkEmailConfirmed:!1,topicsEnabled:!1,liveNow:[]}}}})}();let g;e:{if(n.contentLanguages.length&&!n.contentLanguages.includes("en")){let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e={enabled:!1},t[1]=e):e=t[1],g=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=u.device.get(["trendingBetaEnabled"]),t[2]=e):e=t[2];if(d){const s=Boolean(e);let o;t[3]!==s?(o={enabled:s},t[3]=s,t[4]=o):o=t[4],g=o;break e}const s=Boolean(c?.topicsEnabled);let o;u.device.set(["trendingBetaEnabled"],s),t[5]!==s?(o={enabled:s},t[5]=s,t[6]=o):o=t[6],g=o}const x=g;let _;t[7]!==c?.liveNow?(_=c?.liveNow??[],t[7]=c?.liveNow,t[8]=_):_=t[8];const y=_,b=c?.checkEmailConfirmed??!0;let j,v,S;return t[9]!==b||t[10]!==s?(j=(0,m.jsx)(f.Provider,{value:b,children:s}),t[9]=b,t[10]=s,t[11]=j):j=t[11],t[12]!==y||t[13]!==j?(v=(0,m.jsx)(p.Provider,{value:y,children:j}),t[12]=y,t[13]=j,t[14]=v):v=t[14],t[15]!==v||t[16]!==x?(S=(0,m.jsx)(h.Provider,{value:x,children:v}),t[15]=v,t[16]=x,t[17]=S):S=t[17],S}function x(){return(0,n.useContext)(h)}const _=["twitch.tv","www.twitch.tv","stream.place","bluecast.app","www.bluecast.app"];function y(){const e=(0,o.c)(14),t=(0,n.useContext)(p),s=b(),{currentAccount:a}=(0,l.useSession)();let r;{let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Set(_),e[0]=o):o=e[0];const n=o;let i,l,c;if(e[1]!==t){i=new Map;for(const e of t)i.set(e.did,new Set(_.concat(e.domains)));e[1]=t,e[2]=i}else i=e[2];if(a?.did&&s){if(e[6]!==t||e[7]!==a){let s;e[9]!==a?(s=e=>e.did===a.did,e[9]=a,e[10]=s):s=e[10];const o=t.find(s);l=new Set(_.concat(o?o.domains:[])),e[6]=t,e[7]=a,e[8]=l}else l=e[8];e[11]!==i||e[12]!==l?(c={currentAccountAllowedHosts:l,defaultAllowedHosts:n,allowedHostsExceptionsByDid:i},e[11]=i,e[12]=l,e[13]=c):c=e[13],r=c}else{let t,s;e[3]===Symbol.for("react.memo_cache_sentinel")?(t=new Set,e[3]=t):t=e[3],e[4]!==i?(s={currentAccountAllowedHosts:t,defaultAllowedHosts:n,allowedHostsExceptionsByDid:i},e[4]=i,e[5]=s):s=e[5],r=s}}return r}function b(){const e=(0,c.useAnalytics)(),{hasSession:t}=(0,l.useSession)();return!!t&&(!!d.IS_DEV||!e.features.enabled(e.features.LiveNowBetaDisable))}function j(){const e=(0,n.useContext)(f);if(null===e)throw new Error("useCheckEmailConfirmed must be used within a ServiceConfigManager");return e}},94348:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AU_LABELER:()=>d,BR_LABELER:()=>r,DE_LABELER:()=>i,ES_LABELER:()=>h,EU_LABELER:()=>g,GB_LABELER:()=>c,IN_LABELER:()=>f,JP_LABELER:()=>m,PK_LABELER:()=>p,RU_LABELER:()=>l,TR_LABELER:()=>u,configureAdditionalModerationAuthorities:()=>b,isNonConfigurableModerationAuthority:()=>y});var o=s(66949),n=s(5295),a=s(33520);const r="did:plc:ekitcvx7uwnauoqy5oest3hm",i="did:plc:r55ow3tocux5kafs5dq445fy",l="did:plc:crm2agcxvvlj6hilnjdc4hox",c="did:plc:gvkp7euswjjrctjmqwhhfzif",d="did:plc:dsynw7isrf2eqlhcjx3ffnmt",u="did:plc:cquoj7aozvmkud2gifeinkda",m="did:plc:vhgppeyjwgrr37vm4v6ggd5a",h="did:plc:zlbbuj5nov4ixhvgl3bj47em",p="did:plc:zrp6a3tvprrsgawsbswbxu7m",f="did:plc:srr4rdvgzkbx6t7fxqtt6j5t",g="did:plc:z57lz5dhgz2dkjogoysm3vut",x={BR:[r],RU:[l],GB:[c],AU:[d],TR:[u],JP:[m],PK:[p],IN:[f],AT:[g],BE:[g],BG:[g],HR:[g],CY:[g],CZ:[g],DK:[g],EE:[g],FI:[g],FR:[g],DE:[g,i],GR:[g],HU:[g],IE:[g],IT:[g],LV:[g],LT:[g],LU:[g],MT:[g],NL:[g],PL:[g],PT:[g],RO:[g],SK:[g],SI:[g],ES:[g,h],SE:[g]},_=Array.from(new Set(Object.values(x).flat()));function y(e){return _.includes(e)}function b(){const e=a.device.get(["mergedGeolocation"]);let t=_;e?.countryCode?t=x[e.countryCode]??[]:n.logger.info("no geolocation, cannot apply mod authorities");const s=Array.from(new Set([...o.BskyAgent.appLabelers,...t]));n.logger.info("applying mod authorities",{additionalLabelers:t,appLabelers:s}),o.BskyAgent.configure({appLabelers:s})}},11674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{readLabelers:()=>r,saveLabelers:()=>a});var o=s(14255);const n="agent-labelers";async function a(e,t){await o.default.setItem(`${n}:${e}`,JSON.stringify(t))}async function r(e){const t=await o.default.getItem(`${n}:${e}`);return t?JSON.parse(t):void 0}},16881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Agent:()=>C,agentToSessionAccount:()=>T,agentToSessionAccountOrThrow:()=>w,createAgentAndCreateAccount:()=>S,createAgentAndLogin:()=>v,createAgentAndResume:()=>j,createPublicAgent:()=>b,sessionAccountToSession:()=>k});var o=s(66949),n=s(22198),a=s(62820),r=s(17110),i=s(88972),l=s(5295),c=s(4e3),d=s(51833),u=s(66375),m=s(33703),h=s(61715),p=s(4305),f=s(94348),g=s(11674);async function x(e,t){_(),(0,r.IS_TEST_USER)(t.handle)&&await async function(e){const t=(await e.resolveHandle({handle:"mod-authority.test"}).catch((e=>{})))?.data.did;t&&o.BskyAgent.configure({appLabelers:[t]})}(e);const s=await(0,g.readLabelers)(t.did).catch((e=>{}));s&&e.configureLabelersHeader(s.filter((e=>e!==o.BSKY_LABELER_DID))),(0,f.configureAdditionalModerationAuthorities)()}function _(){o.BskyAgent.configure({appLabelers:[o.BSKY_LABELER_DID]})}var y=s(96613);function b(){_(),(0,f.configureAdditionalModerationAuthorities)();const e=new A({service:r.PUBLIC_BSKY_SERVICE});return e.configureProxy(r.BLUESKY_PROXY_HEADER.get()),e}async function j(e,t){const s=new A({service:e.service});e.pdsUrl&&(s.sessionManager.pdsUrl=new URL(e.pdsUrl));const o=m.features.refresh({strategy:"prefer-low-latency"}),n=x(s,e),i=k(e);(0,y.isSessionExpired)(e)?await(0,a.networkRetry)(1,(()=>s.resumeSession(i))):(s.sessionManager.session=i,e.signupQueued||(0,a.networkRetry)(3,(()=>s.resumeSession(i))).catch((e=>{throw l.logger.error("networkRetry failed to resume session",{status:e?.status||"unknown",safeMessage:e?.message||"unknown"}),e})));const c=(0,u.prefetchAgeAssuranceData)({agent:s});return s.configureProxy(r.BLUESKY_PROXY_HEADER.get()),s.prepare({resolvers:[o,n,c],onSessionChange:t})}async function v({service:e,identifier:t,password:s,authFactorToken:o},n){const a=new A({service:e});await a.login({identifier:t,password:s,authFactorToken:o,allowTakendown:!0});const i=w(a),l=m.features.refresh({strategy:"prefer-fresh-gates"}),c=x(a,i),d=(0,u.prefetchAgeAssuranceData)({agent:a});return a.configureProxy(r.BLUESKY_PROXY_HEADER.get()),a.prepare({resolvers:[l,c,d],onSessionChange:n})}async function S({service:e,email:t,password:s,handle:o,birthDate:h,inviteCode:p,verificationPhone:f,verificationCode:g},_){const y=new A({service:e});await y.createAccount({email:t,password:s,handle:o,inviteCode:p,verificationPhone:f,verificationCode:g});const b=w(y),j=m.features.refresh({strategy:"prefer-fresh-gates"}),v=x(y,b),S=(new Date).toISOString(),T=h.toISOString();(0,u.setCreatedAtForDid)({did:b.did,createdAt:S}),(0,u.setBirthdateForDid)({did:b.did,birthdate:T}),(0,c.snoozeBirthdateUpdateAllowedForDid)(b.did);const k=(0,u.prefetchAgeAssuranceData)({agent:y});(0,r.IS_PROD_SERVICE)(e)?Promise.allSettled([(0,a.networkRetry)(3,(()=>y.setPersonalDetails({birthDate:T}))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set birthDate"),e})),(0,a.networkRetry)(3,(()=>y.upsertProfile((e=>{const t=e||{};return t.displayName=o,t.createdAt=S,t})))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set initial profile"),e})),(0,a.networkRetry)(1,(()=>y.overwriteSavedFeeds([Object.assign({},r.DISCOVER_SAVED_FEED,{id:n.TID.nextStr()}),Object.assign({},r.TIMELINE_SAVED_FEED,{id:n.TID.nextStr()})]))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set initial feeds"),e})),(0,i.getAge)(h)<18&&(0,a.networkRetry)(3,(()=>y.com.atproto.repo.putRecord({repo:b.did,collection:"chat.bsky.actor.declaration",rkey:"self",record:{$type:"chat.bsky.actor.declaration",allowIncoming:"none"}}))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set chat declaration"),e}))].filter(Boolean)).then((e=>{e.filter((e=>"rejected"===e.status)).length>0&&l.logger.error("session: createAgentAndCreateAccount failed to save personal details and feeds")})):Promise.allSettled([(0,a.networkRetry)(3,(()=>y.setPersonalDetails({birthDate:h.toISOString()}))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set birthDate"),e})),(0,a.networkRetry)(3,(()=>y.upsertProfile((e=>{const t=e||{};return t.createdAt=e?.createdAt||(new Date).toISOString(),t})))).catch((e=>{throw l.logger.info("createAgentAndCreateAccount: failed to set initial profile"),e}))].filter(Boolean)).then((e=>{e.filter((e=>"rejected"===e.status)).length>0&&l.logger.error("session: createAgentAndCreateAccount failed to save personal details and feeds")}));try{(0,d.snoozeEmailConfirmationPrompt)()}catch(C){l.logger.error(C,{message:"session: failed snoozeEmailConfirmationPrompt"})}return y.configureProxy(r.BLUESKY_PROXY_HEADER.get()),y.prepare({resolvers:[j,v,k],onSessionChange:_})}function w(e){const t=T(e);if(!t)throw Error("Expected an active session");return t}function T(e){if(e.session)return{service:e.serviceUrl.toString(),did:e.session.did,handle:e.session.handle,email:e.session.email,emailConfirmed:e.session.emailConfirmed||!1,emailAuthFactor:e.session.emailAuthFactor||!1,refreshJwt:e.session.refreshJwt,accessJwt:e.session.accessJwt,signupQueued:(0,y.isSignupQueued)(e.session.accessJwt),active:e.session.active,status:e.session.status,pdsUrl:e.pdsUrl?.toString(),isSelfHosted:!e.serviceUrl.toString().startsWith(r.BSKY_SERVICE)}}function k(e){return{accessJwt:e.accessJwt??"",did:e.did,email:e.email,emailAuthFactor:e.emailAuthFactor,emailConfirmed:e.emailConfirmed,handle:e.handle,refreshJwt:e.refreshJwt??"",active:e.active??!0,status:e.status}}class C extends o.Agent{constructor(e,t){super(t),e&&this.configureProxy(e)}}let I=globalThis.fetch;class A extends o.BskyAgent{persistSessionHandler=void 0;constructor({service:e}){super({service:e,async fetch(...e){let t=!1;try{const s=await I(...e);return t=!0,s}catch(s){throw t=!1,s}finally{t?(0,h.emitNetworkConfirmed)():(0,h.emitNetworkLost)()}},persistSession:e=>{this.persistSessionHandler&&this.persistSessionHandler(e)}})}async prepare({resolvers:e,onSessionChange:t}){await Promise.all(e);const s=w(this);return this.persistSessionHandler=e=>{t(this,s.did,e),"create"!==e&&"update"!==e&&(0,p.addSessionErrorLog)(s.did,e)},{account:s,agent:this}}dispose(){this.sessionManager.session=void 0,this.persistSessionHandler=void 0}}},97154:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>T,isSignupQueued:()=>p.isSignupQueued,useAgent:()=>A,useRequireAuth:()=>I,useSession:()=>k,useSessionApi:()=>C});var o=s(15991),n=s(95004),a=s(8023),r=s(9269),i=s(96587),l=s(33703),c=(s(43535),s(61715)),d=s(16881),u=s(59786),m=s(27321),h=s(4305),p=s(96613);function f(){return{agent:(0,d.createPublicAgent)(),did:void 0}}let g=(e,t)=>{switch(t.type){case"received-agent-event":{const{agent:s,accountDid:o,refreshedAccount:n,sessionEvent:a}=t;if(void 0===n&&s!==e.currentAgentState.agent)return e;if("network-error"===a)return e;const r=e.accounts.find((e=>e.did===o));return r&&JSON.stringify(r)!==JSON.stringify(n)?{accounts:e.accounts.map((e=>e.did===o?n||Object.assign({},e,{accessJwt:void 0,refreshJwt:void 0}):e)),currentAgentState:n?e.currentAgentState:f(),needsPersist:!0}:e}case"switched-to-account":{const{newAccount:s,newAgent:o}=t;return{accounts:[s,...e.accounts.filter((e=>e.did!==s.did))],currentAgentState:{did:s.did,agent:o},needsPersist:!0}}case"removed-account":{const{accountDid:s}=t,o=e.accounts.find((e=>e.did===s));return o&&(0,p.createTemporaryAgentsAndResume)([o]).then((e=>(0,u.unregisterPushToken)(e))).then((()=>m.logger.debug("Push token unregistered",{did:s}))).catch((e=>{m.logger.error("Failed to unregister push token",{did:s,error:e})})),{accounts:e.accounts.filter((e=>e.did!==s)),currentAgentState:e.currentAgentState.did===s?f():e.currentAgentState,needsPersist:!0}}case"logged-out-current-account":{const{currentAgentState:t}=e,s=t.did,o=e.accounts.find((e=>e.did===s));return o&&s&&(0,p.createTemporaryAgentsAndResume)([o]).then((e=>(0,u.unregisterPushToken)(e))).then((()=>m.logger.debug("Push token unregistered",{did:s}))).catch((e=>{m.logger.error("Failed to unregister push token",{did:s,error:e})})),{accounts:e.accounts.map((e=>e.did===s?Object.assign({},e,{refreshJwt:void 0,accessJwt:void 0}):e)),currentAgentState:f(),needsPersist:!0}}case"logged-out-every-account":return(0,p.createTemporaryAgentsAndResume)(e.accounts).then((e=>(0,u.unregisterPushToken)(e))).then((()=>m.logger.debug("Push token unregistered"))).catch((e=>{m.logger.error("Failed to unregister push token",{error:e})})),{accounts:e.accounts.map((e=>Object.assign({},e,{refreshJwt:void 0,accessJwt:void 0}))),currentAgentState:f(),needsPersist:!0};case"synced-accounts":{const{syncedAccounts:s,syncedCurrentDid:o}=t;return{accounts:s,currentAgentState:o===e.currentAgentState.did?e.currentAgentState:f(),needsPersist:!1}}case"partial-refresh-session":{const{accountDid:s,patch:o}=t,n=e.currentAgentState.agent;return n.session&&(n.session.emailConfirmed=o.emailConfirmed??n.session.emailConfirmed,n.session.emailAuthFactor=o.emailAuthFactor??n.session.emailAuthFactor),Object.assign({},e,{currentAgentState:Object.assign({},e.currentAgentState,{agent:n}),accounts:e.accounts.map((e=>e.did===s?Object.assign({},e,{emailConfirmed:o.emailConfirmed??e.emailConfirmed,emailAuthFactor:o.emailAuthFactor??e.emailAuthFactor}):e)),needsPersist:!0})}}};g=(0,h.wrapSessionReducerForLogging)(g);var x=s(33927),_=s(58505),y=s(66375),b=s(2629);const j=(0,n.createContext)({accounts:[],currentAccount:void 0,hasSession:!1});j.displayName="SessionStateContext";const v=(0,n.createContext)(null);v.displayName="SessionAgentContext";const S=(0,n.createContext)({createAccount:async()=>{},login:async()=>{},logoutCurrentAccount:()=>{},logoutEveryAccount:()=>{},resumeSession:async()=>{},removeAccount:()=>{},partialRefreshSession:async()=>{}});S.displayName="SessionApiContext";class w{listeners=new Set;constructor(){const e={accounts:a.get("session").accounts,currentAgentState:f(),needsPersist:!1};(0,h.addSessionDebugLog)({type:"reducer:init",state:e}),this.state=e}getState=()=>this.state;subscribe=e=>(this.listeners.add(e),()=>{this.listeners.delete(e)});dispatch=e=>{const t=g(this.state,e);if(this.state=t,t.needsPersist){t.needsPersist=!1;const e={accounts:t.accounts,currentAccount:t.accounts.find((e=>e.did===t.currentAgentState.did))};(0,h.addSessionDebugLog)({type:"persisted:broadcast",data:e}),a.write("session",e)}this.listeners.forEach((e=>e()))}}function T({children:e}){const t=(0,l.useAnalyticsBase)(),s=function(){const e=(0,o.c)(1),t=(0,n.useRef)(null);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>(t.current&&t.current.abort(),t.current=new AbortController,t.current.signal),e[0]=s):s=e[0];const a=s;return a}(),[r]=(0,n.useState)((()=>new w)),i=(0,n.useSyncExternalStore)(r.subscribe,r.getState),u=(0,_.useOnboardingDispatch)(),m=(0,n.useCallback)(((e,t,s)=>{const o=(0,d.agentToSessionAccount)(e);"expired"!==s&&"create-failed"!==s||(0,c.emitSessionDropped)(),r.dispatch({type:"received-agent-event",agent:e,refreshedAccount:o,accountDid:t,sessionEvent:s})}),[r]),p=(0,n.useCallback)((async(e,o)=>{(0,h.addSessionDebugLog)({type:"method:start",method:"createAccount"});const n=s();t.metric("account:create:begin",{});const{agent:a,account:i}=await(0,d.createAgentAndCreateAccount)(e,m);n.aborted||(r.dispatch({type:"switched-to-account",newAgent:a,newAccount:i}),t.metric("account:create:success",o,{session:l.utils.accountToSessionMetadata(i)}),(0,h.addSessionDebugLog)({type:"method:end",method:"createAccount",account:i}))}),[t,r,m,s]),f=(0,n.useCallback)((async(e,o)=>{(0,h.addSessionDebugLog)({type:"method:start",method:"login"});const n=s(),{agent:a,account:i}=await(0,d.createAgentAndLogin)(e,m);n.aborted||(r.dispatch({type:"switched-to-account",newAgent:a,newAccount:i}),t.metric("account:loggedIn",{logContext:o,withPassword:!0},{session:l.utils.accountToSessionMetadata(i)}),(0,h.addSessionDebugLog)({type:"method:end",method:"login",account:i}))}),[t,r,m,s]),g=(0,n.useCallback)((e=>{(0,h.addSessionDebugLog)({type:"method:start",method:"logout"}),s();const o=r.getState();r.dispatch({type:"logged-out-current-account"}),t.metric("account:loggedOut",{logContext:e,scope:"current"},{session:l.utils.accountToSessionMetadata(o.accounts.find((e=>e.did===o.currentAgentState.did)))}),(0,h.addSessionDebugLog)({type:"method:end",method:"logout"}),o.currentAgentState.did&&((0,y.clearAgeAssuranceDataForDid)({did:o.currentAgentState.did}),(0,x.clearPersistedQueryStorage)(o.currentAgentState.did)),u({type:"skip"})}),[t,r,s,u]),T=(0,n.useCallback)((e=>{(0,h.addSessionDebugLog)({type:"method:start",method:"logout"}),s();const o=r.getState();r.dispatch({type:"logged-out-every-account"}),t.metric("account:loggedOut",{logContext:e,scope:"every"},{session:l.utils.accountToSessionMetadata(o.accounts.find((e=>e.did===o.currentAgentState.did)))}),(0,h.addSessionDebugLog)({type:"method:end",method:"logout"}),(0,y.clearAgeAssuranceData)();for(const t of o.accounts)(0,x.clearPersistedQueryStorage)(t.did);u({type:"skip"})}),[r,s,u,t]),k=(0,n.useCallback)((async(e,t=!1)=>{(0,h.addSessionDebugLog)({type:"method:start",method:"resumeSession",account:e});const o=s(),{agent:n,account:a}=await(0,d.createAgentAndResume)(e,m);o.aborted||(r.dispatch({type:"switched-to-account",newAgent:n,newAccount:a}),(0,h.addSessionDebugLog)({type:"method:end",method:"resumeSession",account:a}),t&&u({type:"skip"}))}),[r,m,s,u]),C=(0,n.useCallback)((async()=>{const e=i.currentAgentState.agent,t=s(),{data:o}=await e.com.atproto.server.getSession();t.aborted||r.dispatch({type:"partial-refresh-session",accountDid:e.session.did,patch:{emailConfirmed:o.emailConfirmed,emailAuthFactor:o.emailAuthFactor}})}),[r,i,s]),I=(0,n.useCallback)((e=>{(0,h.addSessionDebugLog)({type:"method:start",method:"removeAccount",account:e}),s(),r.dispatch({type:"removed-account",accountDid:e.did}),(0,h.addSessionDebugLog)({type:"method:end",method:"removeAccount",account:e}),(0,y.clearAgeAssuranceDataForDid)({did:e.did})}),[r,s]);(0,n.useEffect)((()=>a.onUpdate("session",(e=>{const t=e;(0,h.addSessionDebugLog)({type:"persisted:receive",data:t}),r.dispatch({type:"synced-accounts",syncedAccounts:t.accounts,syncedCurrentDid:t.currentAccount?.did});const s=t.accounts.find((e=>e.did===t.currentAccount?.did));if(s&&s.refreshJwt)if(s.did!==i.currentAgentState.did)k(s);else{const e=i.currentAgentState.agent,t=e.session;e.sessionManager.session=(0,d.sessionAccountToSession)(s),(0,h.addSessionDebugLog)({type:"agent:patch",agent:e,prevSession:t,nextSession:e.session})}}))),[r,i,k]);const A=(0,n.useMemo)((()=>({accounts:i.accounts,currentAccount:i.accounts.find((e=>e.did===i.currentAgentState.did)),hasSession:!!i.currentAgentState.did})),[i]),P=(0,n.useMemo)((()=>({createAccount:p,login:f,logoutCurrentAccount:g,logoutEveryAccount:T,resumeSession:k,removeAccount:I,partialRefreshSession:C})),[p,f,g,T,k,I,C]);const E=i.currentAgentState.agent,L=(0,n.useRef)(E);return(0,n.useEffect)((()=>{if(L.current!==E){const e=L.current;L.current=E,(0,h.addSessionDebugLog)({type:"agent:switch",prevAgent:e,nextAgent:E}),e.dispose()}}),[E]),(0,b.jsx)(v.Provider,{value:E,children:(0,b.jsx)(j.Provider,{value:A,children:(0,b.jsx)(S.Provider,{value:P,children:(0,b.jsx)(l.AnalyticsContext,{metadata:l.utils.useMeta({session:l.utils.accountToSessionMetadata(A.currentAccount)}),children:e})})})})}function k(){return(0,n.useContext)(j)}function C(){return(0,n.useContext)(S)}function I(){const e=(0,o.c)(4),{hasSession:t}=k(),s=(0,r.useCloseAllActiveElements)(),{signinDialogControl:n}=(0,i.useGlobalDialogsControlContext)();let a;return e[0]!==s||e[1]!==t||e[2]!==n?(a=e=>{t?e():(s(),n.open())},e[0]=s,e[1]=t,e[2]=n,e[3]=a):a=e[3],a}function A(){const e=(0,n.useContext)(v);if(!e)throw Error("useAgent() must be below <SessionProvider>.");return e}},4305:(e,t,s)=>{"use strict";function o(e){return function(t,s){const o=e(t,s);return o}}function n(e,t){}function a(e){}s.r(t),s.d(t,{addSessionDebugLog:()=>a,addSessionErrorLog:()=>n,wrapSessionReducerForLogging:()=>o})},96613:(e,t,s)=>{"use strict";s.r(t),s.d(t,{createTemporaryAgentsAndResume:()=>h,isSessionExpired:()=>m,isSignupQueued:()=>u,readLastActiveAccount:()=>d});var o=s(66949),n=s.n(o),a=s(6342),r=s(16006),i=s(62370),l=s(8023),c=s(16881);function d(){const{currentAccount:e,accounts:t}=l.get("session");return t.find((t=>t.did===e?.did))}function u(e){if(e){const t=(0,a.jwtDecode)(e);return(0,i.hasProp)(t,"scope")&&"com.atproto.signupQueued"===t.scope}return!1}function m(e){return!e.accessJwt||(0,r.isJwtExpired)(e.accessJwt)}async function h(e){return(await Promise.allSettled(e.map((async e=>{const t=new(n())({service:e.service});e.pdsUrl&&(t.sessionManager.pdsUrl=new URL(e.pdsUrl));const s=(0,c.sessionAccountToSession)(e);if(!(await t.resumeSession(s)).success)throw new Error("Failed to resume session");return t.assertAuthenticated(),t})))).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}},86940:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>f,useComposerControls:()=>x,useComposerState:()=>g,useOpenComposer:()=>_});var o=s(15991),n=s(95004),a=s(96963),r=s(18102),i=s(25006),l=s(86731),c=s(23826),d=s(30639),u=s(70341),m=s(2629);const h=n.createContext(void 0);h.displayName="ComposerStateContext";const p=n.createContext({openComposer(e){},closeComposer:()=>!1});function f(e){const t=(0,o.c)(14),{children:s}=e,{_:f}=(0,a.useLingui)(),[g,x]=n.useState(),_=(0,r.useQueryClient)();let y;t[0]!==f||t[1]!==_?(y=e=>{if(e.quote){const t=(0,l.postUriToRelativePath)(e.quote.uri);if(t){const s=(0,l.toBskyAppUrl)(t);(0,d.precacheResolveLinkQuery)(_,s,{type:"record",kind:"post",record:{cid:e.quote.cid,uri:e.quote.uri},view:e.quote})}}const t=e.replyTo?.author||e.quote?.author;Boolean(t&&(t.viewer?.blocking||t.viewer?.blockedBy||t.viewer?.blockingByList))?u.show(f({id:"v1v7Ny"}),"exclamation-circle"):x((t=>t||e))},t[0]=f,t[1]=_,t[2]=y):y=t[2];const b=(0,i.useNonReactiveCallback)(y);let j;t[3]!==g?(j=()=>{const e=!!g;return e&&(x(void 0),(0,c.purgeTemporaryImageFiles)()),e},t[3]=g,t[4]=j):j=t[4];const v=(0,i.useNonReactiveCallback)(j);let S;t[5]!==v||t[6]!==b?(S={openComposer:b,closeComposer:v},t[5]=v,t[6]=b,t[7]=S):S=t[7];const w=S;let T,k;return t[8]!==w||t[9]!==s?(T=(0,m.jsx)(p.Provider,{value:w,children:s}),t[8]=w,t[9]=s,t[10]=T):T=t[10],t[11]!==g||t[12]!==T?(k=(0,m.jsx)(h.Provider,{value:g,children:T}),t[11]=g,t[12]=T,t[13]=k):k=t[13],k}function g(){return n.useContext(h)}function x(){const e=(0,o.c)(2),{closeComposer:t}=n.useContext(p);let s;return e[0]!==t?(s={closeComposer:t},e[0]=t,e[1]=s):s=e[1],s}function _(){const e=(0,o.c)(2),{openComposer:t}=n.useContext(p);let s;return e[0]!==t?(s={openComposer:t},e[0]=t,e[1]=s):s=e[1],s}p.displayName="ComposerControlsContext"},96080:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>l,useIsDrawerOpen:()=>c,useSetDrawerOpen:()=>d});var o=s(15991),n=s(95004),a=s(2629);const r=(0,n.createContext)(!1);r.displayName="DrawerOpenStateContext";const i=(0,n.createContext)((e=>{}));function l(e){const t=(0,o.c)(5),{children:s}=e,[l,c]=(0,n.useState)(!1);let d,u;return t[0]!==s?(d=(0,a.jsx)(i.Provider,{value:c,children:s}),t[0]=s,t[1]=d):d=t[1],t[2]!==l||t[3]!==d?(u=(0,a.jsx)(r.Provider,{value:l,children:d}),t[2]=l,t[3]=d,t[4]=u):u=t[4],u}function c(){return(0,n.useContext)(r)}function d(){return(0,n.useContext)(i)}i.displayName="DrawerOpenSetContext"},30756:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>w,useIsDrawerOpen:()=>m.useIsDrawerOpen,useIsDrawerSwipeDisabled:()=>g,useMinimalShellMode:()=>_.useMinimalShellMode,useOnboardingDispatch:()=>S.useOnboardingDispatch,useOnboardingState:()=>S.useOnboardingState,useSetDrawerOpen:()=>m.useSetDrawerOpen,useSetDrawerSwipeDisabled:()=>x,useSetMinimalShellMode:()=>_.useSetMinimalShellMode,useSetThemePrefs:()=>u,useThemePrefs:()=>d,useTickEveryMinute:()=>v});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i=n.createContext({colorMode:"system",darkTheme:"dark"});i.displayName="ColorModeStateContext";const l=n.createContext({});function c(e){const t=(0,o.c)(13),{children:s}=e;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.get("colorMode"),t[0]=c):c=t[0];const[d,u]=n.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=a.get("darkTheme"),t[1]=m):m=t[1];const[h,p]=n.useState(m);let f;t[2]!==d||t[3]!==h?(f={colorMode:d,darkTheme:h},t[2]=d,t[3]=h,t[4]=f):f=t[4];const g=f;let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x={setColorMode:e=>{u(e),a.write("colorMode",e)},setDarkTheme:e=>{p(e),a.write("darkTheme",e)}},t[5]=x):x=t[5];const _=x;let y,b,j,v;return t[6]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{const e=a.onUpdate("darkTheme",(e=>{p(e)})),t=a.onUpdate("colorMode",(e=>{u(e)}));return()=>{e(),t()}},b=[],t[6]=y,t[7]=b):(y=t[6],b=t[7]),n.useEffect(y,b),t[8]!==s?(j=(0,r.jsx)(l.Provider,{value:_,children:s}),t[8]=s,t[9]=j):j=t[9],t[10]!==g||t[11]!==j?(v=(0,r.jsx)(i.Provider,{value:g,children:j}),t[10]=g,t[11]=j,t[12]=v):v=t[12],v}function d(){return n.useContext(i)}function u(){return n.useContext(l)}l.displayName="ColorModeSetContext";var m=s(96080);const h=n.createContext(!1);h.displayName="DrawerSwipeDisabledStateContext";const p=n.createContext((e=>{}));function f(e){const t=(0,o.c)(5),{children:s}=e,[a,i]=n.useState(!1);let l,c;return t[0]!==s?(l=(0,r.jsx)(p.Provider,{value:i,children:s}),t[0]=s,t[1]=l):l=t[1],t[2]!==a||t[3]!==l?(c=(0,r.jsx)(h.Provider,{value:a,children:l}),t[2]=a,t[3]=l,t[4]=c):c=t[4],c}function g(){return n.useContext(h)}function x(){return n.useContext(p)}p.displayName="DrawerSwipeDisabledSetContext";var _=s(28724),y=s(11600);const b=n.createContext(0);function j(e){const t=(0,o.c)(6),{children:s}=e;let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=Date.now(),t[0]=a):a=t[0];const[i,l]=n.useState(a);let c,d,u;return t[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{const e=setInterval((()=>{l(Date.now())}),6e4);return()=>clearInterval(e)},d=[],t[1]=c,t[2]=d):(c=t[1],d=t[2]),n.useEffect(c,d),t[3]!==s||t[4]!==i?(u=(0,r.jsx)(b.Provider,{value:i,children:s}),t[3]=s,t[4]=i,t[5]=u):u=t[5],u}function v(){return n.useContext(b)}b.displayName="TickEveryMinuteContext";var S=s(58505);function w(e){const t=(0,o.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,r.jsx)(y.Provider,{children:(0,r.jsx)(m.Provider,{children:(0,r.jsx)(f,{children:(0,r.jsx)(_.Provider,{children:(0,r.jsx)(c,{children:(0,r.jsx)(j,{children:s})})})})})}),t[0]=s,t[1]=n):n=t[1],n}},28724:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>d,useMinimalShellMode:()=>u,useSetMinimalShellMode:()=>m});var o=s(15991),n=s(95004),a=s(61551),r=s(2629);const i=n.createContext({headerMode:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}},footerMode:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}}});i.displayName="MinimalModeStateContext";const l=n.createContext((e=>{}));l.displayName="MinimalModeSetContext";const c={code:"function minimalModeTsx1(v){const{headerMode,withSpring,footerMode}=this.__closure;headerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});footerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});}"};function d(e){const t=(0,o.c)(12),{children:s}=e,n=(0,a.useSharedValue)(0),d=(0,a.useSharedValue)(0);let u;t[0]!==d||t[1]!==n?(u=function(){const e=function(e){n.set((()=>(0,a.withSpring)(e?1:0,{overshootClamping:!0}))),d.set((()=>(0,a.withSpring)(e?1:0,{overshootClamping:!0})))};return e.__closure={headerMode:n,withSpring:a.withSpring,footerMode:d},e.__workletHash=0xbdeff88d575,e.__initData=c,e}(),t[0]=d,t[1]=n,t[2]=u):u=t[2];const m=u;let h;t[3]!==d||t[4]!==n?(h={headerMode:n,footerMode:d},t[3]=d,t[4]=n,t[5]=h):h=t[5];const p=h;let f,g;return t[6]!==s||t[7]!==m?(f=(0,r.jsx)(l.Provider,{value:m,children:s}),t[6]=s,t[7]=m,t[8]=f):f=t[8],t[9]!==f||t[10]!==p?(g=(0,r.jsx)(i.Provider,{value:p,children:f}),t[9]=f,t[10]=p,t[11]=g):g=t[11],g}function u(){return n.useContext(i)}function m(){return n.useContext(l)}},58505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{OnboardingScreenSteps:()=>i,Provider:()=>m,isOnboardingActive:()=>f,useOnboardingDispatch:()=>p,useOnboardingState:()=>h});var o=s(15991),n=s(95004),a=s(8023),r=s(2629);const i={Welcome:"Welcome",RecommendedFeeds:"RecommendedFeeds",RecommendedFollows:"RecommendedFollows",Home:"Home"},l=Object.values(i),c=n.createContext(g(a.defaults.onboarding));c.displayName="OnboardingStateContext";const d=n.createContext((e=>{}));function u(e,t){switch(t.type){case"set":return l.includes(t.step)?(a.write("onboarding",{step:t.step}),g(Object.assign({},e,{step:t.step}))):e;case"next":{const s=t.currentStep||e.step;let o="Home";return"Welcome"===s?o="RecommendedFeeds":"RecommendedFeeds"===s?o="RecommendedFollows":"RecommendedFollows"===s&&(o="Home"),a.write("onboarding",{step:o}),g(Object.assign({},e,{step:o}))}case"start":return a.write("onboarding",{step:"Welcome"}),g(Object.assign({},e,{step:"Welcome"}));case"finish":case"skip":return a.write("onboarding",{step:"Home"}),g(Object.assign({},e,{step:"Home"}));default:throw new Error("Invalid action")}}function m(e){const t=(0,o.c)(9),{children:s}=e;let i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=g(a.get("onboarding")),t[0]=i):i=t[0];const[l,m]=n.useReducer(u,i);let h,p,f,x;return t[1]!==l?(h=()=>a.onUpdate("onboarding",(e=>{const t=e.step;l.step!==t&&m({type:"set",step:e.step})})),p=[l,m],t[1]=l,t[2]=h,t[3]=p):(h=t[2],p=t[3]),n.useEffect(h,p),t[4]!==s?(f=(0,r.jsx)(d.Provider,{value:m,children:s}),t[4]=s,t[5]=f):f=t[5],t[6]!==l||t[7]!==f?(x=(0,r.jsx)(c.Provider,{value:l,children:f}),t[6]=l,t[7]=f,t[8]=x):x=t[8],x}function h(){return n.useContext(c)}function p(){return n.useContext(d)}function f(){return g(a.get("onboarding")).isActive}function g(e){return Object.assign({},e,{isActive:"Home"!==e.step,isComplete:"Home"===e.step})}d.displayName="OnboardingDispatchContext"},24095:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ProgressGuideAction:()=>w,Provider:()=>A,useProgressGuide:()=>C,useProgressGuideControls:()=>I});var o=s(36459),n=s(15991),a=s(95004),r=s(96963),i=s(41711),l=s(60578),c=s(67842),d=s(61551),u=s(69052),m=s(19552),h=s(91736),p=s(43535),f=s(23876),g=s(23486),x=s(2629);const _={code:"function ToastTsx1(){const{runOnJS,setIsntOpen}=this.__closure;return runOnJS(setIsntOpen)();}"},y={code:"function ToastTsx2(){const{runOnJS,playCheckmark}=this.__closure;return runOnJS(playCheckmark)();}"},b={code:"function ToastTsx3(){const{translateY,opacity}=this.__closure;return{transform:[{translateY:translateY.get()}],opacity:opacity.get()};}"},j=a.forwardRef((function(e,t){const s=(0,n.c)(24),{title:o,subtitle:j,visibleDuration:v}=e,S=(0,m.useTheme)(),{_:w}=(0,r.useLingui)(),T=(0,u.useSafeAreaInsets)(),[k,C]=a.useState(!1),I=(0,d.useSharedValue)(0),A=(0,d.useSharedValue)(0),P=a.useRef(null),E=a.useRef(void 0),L=(0,l.default)();let R;s[0]!==A?(R=()=>{E.current&&(clearTimeout(E.current),E.current=void 0);const e=()=>C(!1);A.set((()=>(0,d.withTiming)(0,{duration:400,easing:d.Easing.out(d.Easing.cubic)},function(){const t=()=>(0,d.runOnJS)(e)();return t.__closure={runOnJS:d.runOnJS,setIsntOpen:e},t.__workletHash=4376022584272,t.__initData=_,t}())))},s[0]=A,s[1]=R):R=s[1];const B=R;let D;s[2]!==B||s[3]!==T||s[4]!==A||s[5]!==I||s[6]!==v?(D=()=>{C(!0);const e=()=>P.current?.play();A.set(0),A.set((()=>(0,d.withTiming)(1,{duration:100,easing:d.Easing.out(d.Easing.cubic)},function(){const t=()=>(0,d.runOnJS)(e)();return t.__closure={runOnJS:d.runOnJS,playCheckmark:e},t.__workletHash=9270623147731,t.__initData=y,t}()))),I.set(0),I.set((()=>(0,d.withTiming)(T.top+10,{duration:500,easing:d.Easing.out(d.Easing.cubic)}))),E.current=setTimeout(B,v||5e3)},s[2]=B,s[3]=T,s[4]=A,s[5]=I,s[6]=v,s[7]=D):D=s[7];const O=D;let M,F;s[8]!==B||s[9]!==O?(M=()=>({open:O,close:B}),F=[O,B],s[8]=B,s[9]=O,s[10]=M,s[11]=F):(M=s[10],F=s[11]),(0,a.useImperativeHandle)(t,M,F);let N,H=10,V=10;p.IS_WEB&&L.width>400&&(H=V=(L.width-380)/2),s[12]!==H||s[13]!==V?(N={position:p.IS_WEB?"fixed":"absolute",top:0,left:H,right:V},s[12]=H,s[13]=V,s[14]=N):N=s[14];const z=N,U=(0,d.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:I.get()}],opacity:A.get()});return e.__closure={translateY:I,opacity:A},e.__workletHash=964791180936,e.__initData=b,e}());let W;return s[15]!==w||s[16]!==U||s[17]!==B||s[18]!==z||s[19]!==k||s[20]!==j||s[21]!==S||s[22]!==o?(W=k&&(0,x.jsx)(h.Portal,{children:(0,x.jsx)(d.default.View,{style:[z,U],children:(0,x.jsxs)(i.default,{style:[S.atoms.bg,m.atoms.flex_row,m.atoms.align_center,m.atoms.gap_md,m.atoms.border,S.atoms.border_contrast_high,m.atoms.rounded_md,m.atoms.px_lg,m.atoms.py_md,m.atoms.shadow_sm,{shadowRadius:8,shadowOpacity:.1,shadowOffset:{width:0,height:2},elevation:8}],onPress:B,accessibilityLabel:w({id:"ZrwUC5"}),accessibilityHint:"",children:[(0,x.jsx)(f.AnimatedCheck,{fill:S.palette.primary_500,ref:P}),(0,x.jsxs)(c.default,{children:[(0,x.jsx)(g.Text,{style:[m.atoms.text_md,m.atoms.font_semi_bold],children:o}),j&&(0,x.jsx)(g.Text,{style:[m.atoms.text_sm,S.atoms.text_contrast_medium],children:j})]})]})})}),s[15]=w,s[16]=U,s[17]=B,s[18]=z,s[19]=k,s[20]=j,s[21]=S,s[22]=o,s[23]=W):W=s[23],W}));var v=s(33703),S=s(86623);let w=function(e){return e.Like="like",e.Follow="follow",e}({});const T=a.createContext(void 0);T.displayName="ProgressGuideContext";const k=a.createContext({startProgressGuide:e=>{},endProgressGuide:()=>{},captureAction:(e,t=1)=>{}});function C(e){const t=a.useContext(T);if(t?.guide===e)return t}function I(){return a.useContext(k)}function A(e){const t=(0,n.c)(16),{children:s}=e,i=(0,v.useAnalytics)(),{_:l}=(0,r.useLingui)(),{data:c}=(0,S.usePreferencesQuery)(),{mutateAsync:d,variables:u,isPending:m}=(0,S.useSetActiveProgressGuideMutation)();let h;e:{const e=m?u:c?.bskyAppState?.activeProgressGuide;if(!e){h=void 0;break e}let s;if(t[0]!==e){var p=e;({}=p),s=Object.assign({},((0,o.default)(p),p)),"like-10-and-follow-7"===s?.guide?(s.numLikes=Number(s.numLikes)||0,s.numFollows=Number(s.numFollows)||0):"follow-10"===s?.guide&&(s.numFollows=Number(s.numFollows)||0),t[0]=e,t[1]=s}else s=t[1];h=s}const f=h,[g,_]=a.useState(void 0);f&&!g&&_(f);const y=a.useRef(null),b=a.useRef(null),C=a.useRef(null),I=a.useRef(null),A=a.useRef(null);let P;t[2]!==f||t[3]!==i||t[4]!==d?(P={startProgressGuide(e){if("like-10-and-follow-7"===e){const e={guide:"like-10-and-follow-7",numLikes:0,numFollows:0,isComplete:!1};_(e),d(e)}else if("follow-10"===e){const e={guide:"follow-10",numFollows:0,isComplete:!1};_(e),d(e)}},endProgressGuide(){_(void 0),d(void 0),i.metric("progressGuide:hide",{})},captureAction(e,t){const s=void 0===t?1:t;let o=f;o&&!o?.isComplete&&("like-10-and-follow-7"===o?.guide?(e===w.Like&&(o=Object.assign({},o,{numLikes:(Number(o.numLikes)||0)+s}),1===o.numLikes&&y.current?.open(),5===o.numLikes&&b.current?.open(),10===o.numLikes&&C.current?.open()),e===w.Follow&&(o=Object.assign({},o,{numFollows:(Number(o.numFollows)||0)+s})),Number(o.numLikes)>=10&&Number(o.numFollows)>=7&&(o=Object.assign({},o,{isComplete:!0}))):"follow-10"===o?.guide&&(e===w.Follow&&(o=Object.assign({},o,{numFollows:(Number(o.numFollows)||0)+s}),5===o.numFollows&&I.current?.open(),10===o.numFollows&&A.current?.open()),Number(o.numFollows)>=10&&(o=Object.assign({},o,{isComplete:!0}))),_(o),d(o?.isComplete?void 0:o))}},t[2]=f,t[3]=i,t[4]=d,t[5]=P):P=t[5];const E=P;let L,R,B;return t[6]!==l||t[7]!==g?.guide?(L="like-10-and-follow-7"===g?.guide&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j,{ref:y,title:l({id:"DtIhbg"}),subtitle:l({id:"D1uGDt"})}),(0,x.jsx)(j,{ref:b,title:l({id:"OtFrAJ"}),subtitle:l({id:"D1uGDt"})}),(0,x.jsx)(j,{ref:C,title:l({id:"zo1+Du"}),subtitle:l({id:"5hnfnT"})}),(0,x.jsx)(j,{ref:I,title:l({id:"OtFrAJ"}),subtitle:l({id:"kHYlRE"})}),(0,x.jsx)(j,{ref:A,title:l({id:"tidTlL"}),subtitle:l({id:"qC0pAu"})})]}),t[6]=l,t[7]=g?.guide,t[8]=L):L=t[8],t[9]!==s||t[10]!==E||t[11]!==L?(R=(0,x.jsxs)(k.Provider,{value:E,children:[s,L]}),t[9]=s,t[10]=E,t[11]=L,t[12]=R):R=t[12],t[13]!==g||t[14]!==R?(B=(0,x.jsx)(T.Provider,{value:g,children:R}),t[13]=g,t[14]=R,t[15]=B):B=t[15],B}k.displayName="ProgressGuideControlContext"},51833:(e,t,s)=>{"use strict";s.r(t),s.d(t,{shouldRequestEmailConfirmation:()=>i,snoozeEmailConfirmationPrompt:()=>l});var o=s(88972),n=s(5295),a=s(8023),r=s(58505);function i(e){if(!e)return!1;if(e.emailConfirmed)return!1;if((0,r.isOnboardingActive)())return!1;const t=a.get("reminders").lastEmailConfirm,s=new Date;return n.logger.debug("Checking email confirmation reminder",{today:s,snoozedAt:t}),!t||!(0,o.simpleAreDatesEqual)(new Date(Date.parse(t)),new Date)}function l(){const e=(new Date).toISOString();n.logger.debug("Snoozing email confirmation reminder",{snoozedAt:e}),a.write("reminders",Object.assign({},a.get("reminders"),{lastEmailConfirm:e}))}},11600:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>l,useShellLayout:()=>c});var o=s(15991),n=s(95004),a=s(61551),r=s(2629);const i=n.createContext({headerHeight:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}},footerHeight:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}}});function l(e){const t=(0,o.c)(6),{children:s}=e,n=(0,a.useSharedValue)(0),l=(0,a.useSharedValue)(0);let c;t[0]!==l||t[1]!==n?(c={headerHeight:n,footerHeight:l},t[0]=l,t[1]=n,t[2]=c):c=t[2];const d=c;let u;return t[3]!==s||t[4]!==d?(u=(0,r.jsx)(i.Provider,{value:d,children:s}),t[3]=s,t[4]=d,t[5]=u):u=t[5],u}function c(){return n.useContext(i)}i.displayName="ShellLayoutContext"},36197:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Provider:()=>l,useMergeThreadgateHiddenReplies:()=>m,useMergedThreadgateHiddenReplies:()=>u,useThreadgateHiddenReplyUris:()=>c,useThreadgateHiddenReplyUrisAPI:()=>d});var o=s(15991),n=s(95004),a=s(2629);const r=n.createContext({uris:new Set,recentlyUnhiddenUris:new Set});r.displayName="ThreadgateHiddenRepliesStateContext";const i=n.createContext({addHiddenReplyUri:()=>{},removeHiddenReplyUri:()=>{}});function l(e){const t=(0,o.c)(9),{children:s}=e;let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=new Set,t[0]=l):l=t[0];const[c,d]=n.useState(l);let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=new Set,t[1]=u):u=t[1];const[m,h]=n.useState(u);let p;t[2]!==m||t[3]!==c?(p={uris:c,recentlyUnhiddenUris:m},t[2]=m,t[3]=c,t[4]=p):p=t[4];const f=p;let g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={addHiddenReplyUri(e){d((t=>new Set(t.add(e)))),h((t=>(t.delete(e),new Set(t))))},removeHiddenReplyUri(e){d((t=>(t.delete(e),new Set(t)))),h((t=>new Set(t.add(e))))}},t[5]=g):g=t[5];const x=g;let _;return t[6]!==s||t[7]!==f?(_=(0,a.jsx)(i.Provider,{value:x,children:(0,a.jsx)(r.Provider,{value:f,children:s})}),t[6]=s,t[7]=f,t[8]=_):_=t[8],_}function c(){return n.useContext(r)}function d(){return n.useContext(i)}function u(e){const t=(0,o.c)(8),{threadgateRecord:s}=e,{uris:n,recentlyUnhiddenUris:a}=c();let r,i,l;if(t[0]!==s?.hiddenReplies?(r=s?.hiddenReplies||[],t[0]=s?.hiddenReplies,t[1]=r):r=t[1],t[2]!==r||t[3]!==n?(i=[...r,...n],t[2]=r,t[3]=n,t[4]=i):i=t[4],t[5]!==a||t[6]!==i){l=new Set(i);for(const e of a)l.delete(e);t[5]=a,t[6]=i,t[7]=l}else l=t[7];return l}function m(){const e=(0,o.c)(3),{uris:t,recentlyUnhiddenUris:s}=c();let n;return e[0]!==s||e[1]!==t?(n=e=>{const o=new Set([...e?.hiddenReplies||[],...t]);for(const t of s)o.delete(t);return o},e[0]=s,e[1]=t,e[2]=n):n=e[2],n}i.displayName="ThreadgateHiddenRepliesApiContext"},93626:(e,t,s)=>{"use strict";s.r(t),s.d(t,{follow:()=>p,followSuggestion:()=>f,getActionHistory:()=>c,like:()=>m,seen:()=>x,unfollow:()=>g,unlike:()=>h,useActionHistorySnapshot:()=>d});var o=s(95004);const n=100,a=100,r=100,i=100,l={likes:[],follows:[],followSuggestions:[],seen:[]};function c(){return l}function d(){return o.useState(u)[0]}function u(){return c()}function m(e){l.likes=l.likes.concat(e).slice(-n)}function h(e){l.likes=l.likes.filter((t=>!e.includes(t)))}function p(e){l.follows=l.follows.concat(e).slice(-a)}function f(e){l.followSuggestions=l.followSuggestions.concat(e).slice(-r)}function g(e){l.follows=l.follows.filter((t=>!e.includes(t)))}function x(e){l.seen=l.seen.concat(e).slice(-i)}},9269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useCloseAllActiveElements:()=>d,useCloseAnyActiveElement:()=>c});var o=s(15991),n=(s(95004),s(43029)),a=s(87357),r=s(58810),i=s(86940),l=s(96080);function c(){const e=(0,o.c)(6),{closeLightbox:t}=(0,a.useLightboxControls)(),{closeModal:s}=(0,r.useModalControls)(),{closeComposer:c}=(0,i.useComposerControls)(),{closeAllDialogs:d}=(0,n.useDialogStateControlContext)(),u=(0,l.useSetDrawerOpen)();let m;return e[0]!==d||e[1]!==c||e[2]!==t||e[3]!==s||e[4]!==u?(m=()=>!!t()||(!!s()||(!!d()||(!!c()||(u(!1),!1)))),e[0]=d,e[1]=c,e[2]=t,e[3]=s,e[4]=u,e[5]=m):m=e[5],m}function d(){const e=(0,o.c)(6),{closeLightbox:t}=(0,a.useLightboxControls)(),{closeAllModals:s}=(0,r.useModalControls)(),{closeComposer:c}=(0,i.useComposerControls)(),{closeAllDialogs:d}=(0,n.useDialogStateControlContext)(),u=(0,l.useSetDrawerOpen)();let m;return e[0]!==d||e[1]!==s||e[2]!==c||e[3]!==t||e[4]!==u?(m=()=>{t(),s(),c(),d(),u(!1)},e[0]=d,e[1]=s,e[2]=c,e[3]=t,e[4]=u,e[5]=m):m=e[5],m}},88875:(e,t,s)=>{"use strict";s.r(t),s.d(t,{isDevMode:()=>i,useDevMode:()=>a});var o=s(15991),n=s(33520);function a(){const e=(0,o.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["devMode"],e[0]=t):t=e[0];const[s,a]=(0,n.useStorage)(n.device,t),r=void 0!==s&&s;let i;return e[1]!==r||e[2]!==a?(i=[r,a],e[1]=r,e[2]=a,e[3]=i):i=e[3],i}let r;function i(){return void 0===r&&(r=n.device.get(["devMode"])??!1),r}},33520:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Storage:()=>r,account:()=>c,device:()=>l,useStorage:()=>i});var o=s(15991),n=s(95004),a=s(60266);class r{sep=":";constructor({id:e}){this.store=new a.MMKV({id:e})}set(e,t){this.store.set(e.join(this.sep),JSON.stringify({data:t}))}get(e){const t=this.store.getString(e.join(this.sep));if(t)return JSON.parse(t).data}remove(e){this.store.delete(e.join(this.sep))}removeMany(e,t){t.forEach((t=>this.remove([...e,t])))}removeAll(){this.store.clearAll()}addOnValueChangedListener(e,t){return this.store.addOnValueChangedListener((s=>{s===e.join(this.sep)&&t()}))}}function i(e,t){const s=(0,o.c)(13);let a;s[0]!==t||s[1]!==e?(a=()=>e.get(t),s[0]=t,s[1]=e,s[2]=a):a=s[2];const[r,i]=(0,n.useState)(a);let l,c,d;s[3]!==t||s[4]!==e?(l=()=>{const s=e.addOnValueChangedListener(t,(()=>{i(e.get(t))}));return()=>s.remove()},c=[e,t],s[3]=t,s[4]=e,s[5]=l,s[6]=c):(l=s[5],c=s[6]),(0,n.useEffect)(l,c),s[7]!==t||s[8]!==e?(d=s=>{i(s),e.set(t,s)},s[7]=t,s[8]=e,s[9]=d):d=s[9];const u=d;let m;return s[10]!==u||s[11]!==r?(m=[r,u],s[10]=u,s[11]=r,s[12]=m):m=s[12],m}const l=new r({id:"bsky_device"}),c=new r({id:"bsky_account"})},46804:(e,t,s)=>{"use strict";s.r(t),s.d(t,{dangerousIsType:()=>c,post:()=>a,profile:()=>o,starterPack:()=>n,validate:()=>d});var o={};s.r(o);var n={};s.r(n),s.d(n,{isBasicView:()=>i,isView:()=>l});var a=s(35730),r=s(66949);const i=r.AppBskyGraphDefs.isStarterPackViewBasic,l=r.AppBskyGraphDefs.isStarterPackView;function c(e,t){return t(e)}function d(e,t){return t(e).success}},35730:(e,t,s)=>{"use strict";s.r(t),s.d(t,{parseEmbed:()=>a,parseEmbedRecordView:()=>n});var o=s(66949);function n({record:e}){return o.AppBskyEmbedRecord.isViewRecord(e)?{type:"post",view:e}:o.AppBskyEmbedRecord.isViewNotFound(e)?{type:"post_not_found",view:e}:o.AppBskyEmbedRecord.isViewBlocked(e)?{type:"post_blocked",view:e}:o.AppBskyEmbedRecord.isViewDetached(e)?{type:"post_detached",view:e}:o.AppBskyFeedDefs.isGeneratorView(e)?{type:"feed",view:e}:o.AppBskyGraphDefs.isListView(e)?{type:"list",view:e}:o.AppBskyLabelerDefs.isLabelerView(e)?{type:"labeler",view:e}:o.AppBskyGraphDefs.isStarterPackViewBasic(e)?{type:"starter_pack",view:e}:{type:"unknown",view:null}}function a(e){return o.AppBskyEmbedImages.isView(e)?{type:"images",view:e}:o.AppBskyEmbedExternal.isView(e)?{type:"link",view:e}:o.AppBskyEmbedVideo.isView(e)?{type:"video",view:e}:o.AppBskyEmbedRecord.isView(e)?n(e):o.AppBskyEmbedRecordWithMedia.isView(e)?{type:"post_with_media",view:n(e.record),media:a(e.media)}:{type:"unknown",view:null}}},53444:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CharProgress:()=>m});var o=s(15991),n=s(67842),a=s(89070),r=s(95821),i=s(17110),l=s(32129),c=s(19552),d=s(94929),u=s(2629);function m(e){const t=(0,o.c)(21),{count:s,max:m,style:h,textStyle:p,size:f}=e,g=m||i.MAX_GRAPHEME_LENGTH,x=(0,l.usePalette)("default"),_=s>g?"#e60000":x.colors.text,y=s>g?"#e60000":x.colors.link;let b,j,v,S;t[0]!==h?(b=[c.atoms.flex_row,c.atoms.align_center,c.atoms.justify_between,c.atoms.gap_sm,h],t[0]=h,t[1]=b):b=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(j=["tabular-nums"],t[2]=j):j=t[2],t[3]!==_?(v={color:_,fontVariant:j},t[3]=_,t[4]=v):v=t[4],t[5]!==v||t[6]!==p?(S=[v,c.atoms.flex_grow,c.atoms.text_right,p],t[5]=v,t[6]=p,t[7]=S):S=t[7];const w=g-s;let T,k,C;return t[8]!==S||t[9]!==w?(T=(0,u.jsx)(d.Text,{style:S,children:w}),t[8]=S,t[9]=w,t[10]=T):T=t[10],t[11]!==y||t[12]!==s||t[13]!==g||t[14]!==x||t[15]!==f?(k=s>g?(0,u.jsx)(r.default,{size:f??30,borderWidth:4,borderColor:y,color:y,progress:Math.min((s-g)/g,1)}):(0,u.jsx)(a.default,{size:f??30,borderWidth:1,borderColor:x.colors.border,color:y,progress:s/g}),t[11]=y,t[12]=s,t[13]=g,t[14]=x,t[15]=f,t[16]=k):k=t[16],t[17]!==b||t[18]!==T||t[19]!==k?(C=(0,u.jsxs)(n.default,{style:b,children:[T,k]}),t[17]=b,t[18]=T,t[19]=k,t[20]=C):C=t[20],C}},53994:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EditImageDialog:()=>p});var o=s(15991),n=(s(69659),s(95004)),a=s(67842),r=s(96963),i=s(30916),l=s(23826),c=s(19552),d=s(51536),u=s(63410),m=s(50788),h=s(2629);function p(e){const t=(0,o.c)(7);let s,n,a,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s={alignCenter:!0},n=(0,h.jsx)(u.Handle,{}),t[0]=s,t[1]=n):(s=t[0],n=t[1]),t[2]!==e?(a=(0,h.jsx)(f,Object.assign({},e)),t[2]=e,t[3]=a):a=t[3],t[4]!==e.control||t[5]!==a?(r=(0,h.jsxs)(u.Outer,{control:e.control,webOptions:s,children:[n,a]}),t[4]=e.control,t[5]=a,t[6]=r):r=t[6],r}function f(e){const t=(0,o.c)(22),{control:s,image:a,onChange:i,circularCrop:l,aspectRatio:p}=e,{_:f}=(0,r.useLingui)(),[x,_]=(0,n.useState)(!1),y=(0,n.useRef)(null);let b;t[0]!==f||t[1]!==s||t[2]!==x?(b=()=>(0,h.jsx)(d.Button,{label:f({id:"dEgA5A"}),disabled:x,onPress:()=>s.close(),size:"small",color:"primary",variant:"ghost",style:[c.atoms.rounded_full],testID:"cropImageCancelBtn",children:(0,h.jsx)(d.ButtonText,{style:[c.atoms.text_md],children:(0,h.jsx)(r.Trans,{id:"dEgA5A"})})}),t[0]=f,t[1]=s,t[2]=x,t[3]=b):b=t[3];const j=b;let v;t[4]!==f||t[5]!==x?(v=()=>(0,h.jsxs)(d.Button,{label:f({id:"tfDRzk"}),onPress:async()=>{_(!0),await(y.current?.save()),_(!1)},disabled:x,size:"small",color:"primary",variant:"ghost",style:[c.atoms.rounded_full],testID:"cropImageSaveBtn",children:[(0,h.jsx)(d.ButtonText,{style:[c.atoms.text_md],children:(0,h.jsx)(r.Trans,{id:"tfDRzk"})}),x&&(0,h.jsx)(d.ButtonIcon,{icon:m.Loader})]}),t[4]=f,t[5]=x,t[6]=v):v=t[6];const S=v;let w,T,k,C,I;return t[7]!==f?(w=f({id:"XQFMOm"}),t[7]=f,t[8]=w):w=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(T=(0,h.jsx)(u.HeaderText,{children:(0,h.jsx)(r.Trans,{id:"XQFMOm"})}),t[9]=T):T=t[9],t[10]!==j||t[11]!==S?(k=(0,h.jsx)(u.Header,{renderLeft:j,renderRight:S,children:T}),t[10]=j,t[11]=S,t[12]=k):k=t[12],t[13]!==p||t[14]!==l||t[15]!==a||t[16]!==i?(C=a&&(0,h.jsx)(g,{saveRef:y,image:a,onChange:i,circularCrop:l,aspectRatio:p},a.source.id),t[13]=p,t[14]=l,t[15]=a,t[16]=i,t[17]=C):C=t[17],t[18]!==w||t[19]!==k||t[20]!==C?(I=(0,h.jsx)(u.Inner,{label:w,header:k,children:C}),t[18]=w,t[19]=k,t[20]=C,t[21]=I):I=t[21],I}function g(e){const t=(0,o.c)(32),{image:s,onChange:r,saveRef:d,circularCrop:m,aspectRatio:p}=e,f=void 0!==m&&m,g=(0,c.useTheme)(),[_,y]=(0,n.useState)(!1),b=u.useDialogContext(),j=s.source;let v;t[0]!==s.manips||t[1]!==j?(v=x(j,s.manips),t[0]=s.manips,t[1]=j,t[2]=v):v=t[2];const S=v,[w,T]=(0,n.useState)(S);let k;t[3]!==b||t[4]!==w||t[5]!==s||t[6]!==r||t[7]!==j.height||t[8]!==j.width?(k=async()=>{const e=await(0,l.manipulateImage)(s,{crop:w&&0!==(w.width||w.height)?{originX:w.x*j.width/100,originY:w.y*j.height/100,width:w.width*j.width/100,height:w.height*j.height/100}:void 0});b.close((()=>{r(e)}))},t[3]=b,t[4]=w,t[5]=s,t[6]=r,t[7]=j.height,t[8]=j.width,t[9]=k):k=t[9];const C=k;let I,A,P,E,L,R,B,D,O,M,F;return t[10]!==C?(I=()=>({save:C}),A=[C],t[10]=C,t[11]=I,t[12]=A):(I=t[11],A=t[12]),(0,n.useImperativeHandle)(d,I,A),t[13]!==g.atoms.border_contrast_low?(P=[c.atoms.mx_auto,c.atoms.border,g.atoms.border_contrast_low,c.atoms.rounded_xs,c.atoms.overflow_hidden,c.atoms.align_center],t[13]=g.atoms.border_contrast_low,t[14]=P):P=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(E=(e,t)=>T(t),t[15]=E):E=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(L=()=>y(!0),R=()=>y(!1),t[16]=L,t[17]=R):(L=t[16],R=t[17]),t[18]===Symbol.for("react.memo_cache_sentinel")?(B={maxHeight:"50vh"},t[18]=B):B=t[18],t[19]!==j.path?(D=(0,h.jsx)("img",{src:j.path,style:B}),t[19]=j.path,t[20]=D):D=t[20],t[21]!==p||t[22]!==f||t[23]!==w||t[24]!==D?(O=(0,h.jsx)(i.default,{crop:w,aspect:p,circularCrop:f,onChange:E,className:"ReactCrop--no-animate",onDragStart:L,onDragEnd:R,children:D}),t[21]=p,t[22]=f,t[23]=w,t[24]=D,t[25]=O):O=t[25],t[26]!==_?(M=_&&(0,h.jsx)(a.default,{style:[c.atoms.fixed,c.atoms.inset_0]}),t[26]=_,t[27]=M):M=t[27],t[28]!==O||t[29]!==M||t[30]!==P?(F=(0,h.jsxs)(a.default,{style:P,children:[O,M]}),t[28]=O,t[29]=M,t[30]=P,t[31]=F):F=t[31],F}const x=(e,t)=>{const s=t?.crop;if(s)return{unit:"%",x:s.originX/e.width*100,y:s.originY/e.height*100,width:s.width/e.width*100,height:s.height/e.height*100}}},73963:(e,t,s)=>{"use strict";s.r(t),s.d(t,{KnownError:()=>b,PostFeedErrorMessage:()=>j});var o=s(15991),n=(s(95004),s(67842)),a=s(66949),r=s(96963),i=s(3611),l=s(32129),c=s(98285),d=s(5295),u=s(86623),m=s(29596),h=s(77023),p=s(29945),f=s(1453),g=s(61032),x=s(94929),_=s(70341),y=s(2629);let b=function(e){return e.Block="Block",e.FeedgenDoesNotExist="FeedgenDoesNotExist",e.FeedgenMisconfigured="FeedgenMisconfigured",e.FeedgenBadResponse="FeedgenBadResponse",e.FeedgenOffline="FeedgenOffline",e.FeedgenUnknown="FeedgenUnknown",e.FeedSignedInOnly="FeedSignedInOnly",e.FeedTooManyRequests="FeedTooManyRequests",e.Unknown="Unknown",e}({});function j(e){const t=(0,o.c)(18),{feedDesc:s,error:n,onPressTryAgain:i,savedFeedConfig:l}=e,{_:d}=(0,r.useLingui)();let u;t[0]!==n||t[1]!==s?(u=function(e,t){if(!t)return;if(t instanceof a.AppBskyFeedGetAuthorFeed.BlockedActorError||t instanceof a.AppBskyFeedGetAuthorFeed.BlockedByActorError)return b.Block;if(429===t?.status)return b.FeedTooManyRequests;"string"!==typeof t&&(t=t.toString());if(t.includes(b.FeedSignedInOnly))return b.FeedSignedInOnly;if(!e.startsWith("feedgen"))return b.Unknown;if(t.includes("could not find feed"))return b.FeedgenDoesNotExist;if(t.includes("feed unavailable"))return b.FeedgenOffline;if(t.includes("invalid did document"))return b.FeedgenMisconfigured;if(t.includes("could not resolve did document"))return b.FeedgenMisconfigured;if(t.includes("invalid feed generator service details in did document"))return b.FeedgenMisconfigured;if(t.includes("invalid response"))return b.FeedgenBadResponse;return b.FeedgenUnknown}(s,n),t[0]=n,t[1]=s,t[2]=u):u=t[2];const h=u;if("undefined"!==typeof h&&h!==b.Unknown&&s.startsWith("feedgen")){let e;return t[3]!==n||t[4]!==s||t[5]!==h||t[6]!==l?(e=(0,y.jsx)(v,{feedDesc:s,knownError:h,rawError:n,savedFeedConfig:l}),t[3]=n,t[4]=s,t[5]=h,t[6]=l,t[7]=e):e=t[7],e}if(h===b.Block){let e,s,o;return t[8]!==d?(e=d({id:"Xd6VEK"}),t[8]=d,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(s={paddingVertical:40},t[10]=s):s=t[10],t[11]!==e?(o=(0,y.jsx)(p.EmptyState,{icon:m.Warning_Stroke2_Corner0_Rounded,iconSize:"2xl",message:e,style:s}),t[11]=e,t[12]=o):o=t[12],o}let g,x;return t[13]!==n?(g=(0,c.cleanError)(n),t[13]=n,t[14]=g):g=t[14],t[15]!==i||t[16]!==g?(x=(0,y.jsx)(f.ErrorMessage,{message:g,onPressTryAgain:i}),t[15]=i,t[16]=g,t[17]=x):x=t[17],x}function v(e){const t=(0,o.c)(77),{feedDesc:s,knownError:c,rawError:m,savedFeedConfig:p}=e,f=(0,l.usePalette)("default"),{_:j}=(0,r.useLingui)(),v=(0,i.useNavigation)();let S,w,T,k,C,I,A,P;t[0]!==j?(S=j({id:"wkCNhr"}),t[0]=j,t[1]=S):S=t[1],t[2]!==j?(w=j({id:"WTcLyw"}),t[2]=j,t[3]=w):w=t[3],t[4]!==j?(T=j({id:"3zJH1g"}),t[4]=j,t[5]=T):T=t[5],t[6]!==j?(k=j({id:"/8MHCt"}),t[6]=j,t[7]=k):k=t[7],t[8]!==j?(C=j({id:"aBX1qv"}),t[8]=j,t[9]=C):C=t[9],t[10]!==j?(I=j({id:"FynkM2"}),t[10]=j,t[11]=I):I=t[11],t[12]!==j?(A=j({id:"xI4xW5"}),t[12]=j,t[13]=A):A=t[13],t[14]!==S||t[15]!==w||t[16]!==T||t[17]!==k||t[18]!==C||t[19]!==I||t[20]!==A?(P={[b.Unknown]:"",[b.Block]:"",[b.FeedgenDoesNotExist]:S,[b.FeedgenMisconfigured]:w,[b.FeedgenBadResponse]:T,[b.FeedgenOffline]:k,[b.FeedSignedInOnly]:C,[b.FeedgenUnknown]:I,[b.FeedTooManyRequests]:A},t[14]=S,t[15]=w,t[16]=T,t[17]=k,t[18]=C,t[19]=I,t[20]=A,t[21]=P):P=t[21];const E=P[c];let L;if(t[22]!==s){const[,e]=s.split("|");L=function(e){try{const t=new a.AtUri(e);return[t.hostname,t.rkey]}catch{return["",""]}}(e),t[22]=s,t[23]=L}else L=t[23];const[R]=L,B=h.usePromptControl(),{mutateAsync:D}=(0,u.useRemoveFeedMutation)();let O;t[24]!==v||t[25]!==R?(O=()=>{v.navigate("Profile",{name:R})},t[24]=v,t[25]=R,t[26]=O):O=t[26];const M=O;let F;t[27]!==B?(F=()=>{B.open()},t[27]=B,t[28]=F):F=t[28];const N=F;let H;t[29]!==j||t[30]!==D||t[31]!==p?(H=async()=>{try{if(!p)return;await D(p)}catch(z){const t=z;_.show(j({id:"MP65uR"}),"exclamation-circle"),d.logger.error("Failed to remove feed",{message:t})}},t[29]=j,t[30]=D,t[31]=p,t[32]=H):H=t[32];const V=H;let z;e:{switch(c){case b.FeedSignedInOnly:z=null;break e;case b.FeedgenDoesNotExist:case b.FeedgenMisconfigured:case b.FeedgenBadResponse:case b.FeedgenOffline:case b.FeedgenUnknown:{let e,s,o,a,r;t[33]===Symbol.for("react.memo_cache_sentinel")?(e={flexDirection:"row",alignItems:"center",gap:10},t[33]=e):e=t[33],t[34]!==j||t[35]!==c||t[36]!==V||t[37]!==p?(s=c===b.FeedgenDoesNotExist&&p&&(0,y.jsx)(g.Button,{type:"inverted",label:j({id:"W44VX5"}),onPress:V}),t[34]=j,t[35]=c,t[36]=V,t[37]=p,t[38]=s):s=t[38],t[39]!==j?(o=j({id:"73lp8c"}),t[39]=j,t[40]=o):o=t[40],t[41]!==M||t[42]!==o?(a=(0,y.jsx)(g.Button,{type:"default-light",label:o,onPress:M}),t[41]=M,t[42]=o,t[43]=a):a=t[43],t[44]!==s||t[45]!==a?(r=(0,y.jsxs)(n.default,{style:e,children:[s,a]}),t[44]=s,t[45]=a,t[46]=r):r=t[46],z=r;break e}}z=void 0}const U=z;let W,G,q,Q,K,Z,Y,$,X,J;return t[47]===Symbol.for("react.memo_cache_sentinel")?(W={borderTopWidth:1,paddingHorizontal:20,paddingVertical:18,gap:12},t[47]=W):W=t[47],t[48]!==f.border||t[49]!==f.viewLight?(G=[f.border,f.viewLight,W],t[48]=f.border,t[49]=f.viewLight,t[50]=G):G=t[50],t[51]!==E||t[52]!==f.text?(q=(0,y.jsx)(x.Text,{style:f.text,children:E}),t[51]=E,t[52]=f.text,t[53]=q):q=t[53],t[54]!==f.textLight||t[55]!==m?(Q=m?.message&&(0,y.jsx)(x.Text,{style:f.textLight,children:(0,y.jsx)(r.Trans,{id:"wdD5t1",values:{0:m.message}})}),t[54]=f.textLight,t[55]=m,t[56]=Q):Q=t[56],t[57]!==U||t[58]!==G||t[59]!==q||t[60]!==Q?(K=(0,y.jsxs)(n.default,{style:G,children:[q,Q,U]}),t[57]=U,t[58]=G,t[59]=q,t[60]=Q,t[61]=K):K=t[61],t[62]!==j?(Z=j({id:"vvugyc"}),t[62]=j,t[63]=Z):Z=t[63],t[64]!==j?(Y=j({id:"y+pR5p"}),t[64]=j,t[65]=Y):Y=t[65],t[66]!==j?($=j({id:"t/YqKh"}),t[66]=j,t[67]=$):$=t[67],t[68]!==N||t[69]!==B||t[70]!==Z||t[71]!==Y||t[72]!==$?(X=(0,y.jsx)(h.Basic,{control:B,title:Z,description:Y,onConfirm:N,confirmButtonCta:$,confirmButtonColor:"negative"}),t[68]=N,t[69]=B,t[70]=Z,t[71]=Y,t[72]=$,t[73]=X):X=t[73],t[74]!==K||t[75]!==X?(J=(0,y.jsxs)(y.Fragment,{children:[K,X]}),t[74]=K,t[75]=X,t[76]=J):J=t[76],J}},29945:(e,t,s)=>{"use strict";s.r(t),s.d(t,{EmptyState:()=>h});var o=s(15991),n=s(95004),a=s(67842),r=s(32129),i=s(47741),l=s(19552),c=s(51536),d=s(2101),u=s(23486),m=s(2629);function h(e){const t=(0,o.c)(37),{testID:s,icon:h,iconSize:p,message:f,style:g,textStyle:x,button:_}=e,y=void 0===p?"3xl":p,b=(0,r.usePalette)("default"),{isTabletOrDesktop:j}=(0,i.useWebMediaQueries)(),v=(0,l.useTheme)(),{gtMobile:S}=(0,l.useBreakpoints)();let w;t[0]!==v.atoms.text_contrast_medium.color?(w=(0,m.jsx)(d.EditBig_Stroke1_Corner0_Rounded,{size:"2xl",fill:v.atoms.text_contrast_medium.color}),t[0]=v.atoms.text_contrast_medium.color,t[1]=w):w=t[1];const T=w;let k;t[2]!==h||t[3]!==y||t[4]!==T||t[5]!==v.atoms.text_contrast_low||t[6]!==v.atoms.text_contrast_medium.color?(k=()=>{if(!h)return T;if(n.isValidElement(h))return h;if("function"===typeof h||"object"===typeof h&&h&&"render"in h){const e=h;return(0,m.jsx)(e,{size:y,fill:v.atoms.text_contrast_medium.color,style:{color:v.atoms.text_contrast_low.color}})}return T},t[2]=h,t[3]=y,t[4]=T,t[5]=v.atoms.text_contrast_low,t[6]=v.atoms.text_contrast_medium.color,t[7]=k):k=t[7];const C=k;let I,A,P,E,L;t[8]===Symbol.for("react.memo_cache_sentinel")?(I={height:64,width:64},t[8]=I):I=t[8],t[9]!==h||t[10]!==j?(A=n.isValidElement(h)?l.atoms.bg_transparent:[j&&{marginTop:50}],t[9]=h,t[10]=j,t[11]=A):A=t[11],t[12]!==A?(P=[l.atoms.flex_row,l.atoms.align_center,l.atoms.justify_center,l.atoms.self_center,l.atoms.rounded_full,l.atoms.mt_5xl,I,A],t[12]=A,t[13]=P):P=t[13],t[14]!==C?(E=C(),t[14]=C,t[15]=E):E=t[15],t[16]!==P||t[17]!==E?(L=(0,m.jsx)(a.default,{style:P,children:E}),t[16]=P,t[17]=E,t[18]=L):L=t[18];const R=S?"40%":"60%";let B;t[19]!==b.colors.textLight||t[20]!==R?(B={color:b.colors.textLight,maxWidth:R},t[19]=b.colors.textLight,t[20]=R,t[21]=B):B=t[21];const D=!_&&l.atoms.mb_5xl;let O,M,F,N;return t[22]!==B||t[23]!==D||t[24]!==x?(O=[B,l.atoms.pt_xs,l.atoms.font_medium,l.atoms.text_md,l.atoms.leading_snug,l.atoms.text_center,l.atoms.self_center,D,x],t[22]=B,t[23]=D,t[24]=x,t[25]=O):O=t[25],t[26]!==f||t[27]!==O?(M=(0,m.jsx)(u.Text,{style:O,children:f}),t[26]=f,t[27]=O,t[28]=M):M=t[28],t[29]!==_?(F=_&&(0,m.jsx)(a.default,{style:[l.atoms.flex_shrink,l.atoms.mt_xl,l.atoms.self_center,l.atoms.mb_5xl],children:(0,m.jsx)(c.Button,Object.assign({},_,{children:(0,m.jsx)(c.ButtonText,{children:_.text})}))}),t[29]=_,t[30]=F):F=t[30],t[31]!==g||t[32]!==M||t[33]!==F||t[34]!==L||t[35]!==s?(N=(0,m.jsxs)(a.default,{testID:s,style:g,children:[L,M,F]}),t[31]=g,t[32]=M,t[33]=F,t[34]=L,t[35]=s,t[36]=N):N=t[36],N}},21169:(e,t,s)=>{"use strict";s.r(t),s.d(t,{List:()=>j});var o=s(63366),n=s(15991),a=s(95004),r=s(59550),i=s(67842),l=s(96407),c=s(25006),d=s(15082),u=s(69883),m=s(82878),h=s(2629);const p=["ListHeaderComponent","ListFooterComponent","ListEmptyComponent","disableFullWindowScroll","contentContainerStyle","data","desktopFixedHeight","headerOffset","keyExtractor","refreshing","onStartReached","onStartReachedThreshold","onEndReached","onEndReachedThreshold","onRefresh","onScrolledDownChange","onContentSizeChange","onItemSeen","onItemSeenWhen","renderItem","extraData","style"],f={rootMargin:"-200px 0px -200px 0px"};function g(e){const t=(0,n.c)(7),{root:s,topMargin:o,bottomMargin:r,containerRef:i,onVisibleChange:l}=e,[c,d]=a.useState(0);let u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(e,t)=>{d(t)},t[0]=u):u=t[0],x(i,u),t[1]!==r||t[2]!==c||t[3]!==l||t[4]!==s||t[5]!==o?(m=(0,h.jsx)(b,{root:s,topMargin:o,bottomMargin:r,onVisibleChange:l},c),t[1]=r,t[2]=c,t[3]=l,t[4]=s,t[5]=o,t[6]=m):m=t[6],m}function x(e,t){const s=(0,n.c)(5),o=(0,c.useNonReactiveCallback)(t??_),r=!!t;let i,d;s[0]!==o||s[1]!==r||s[2]!==e?(i=()=>{if(!r)return;const t=new ResizeObserver((e=>{(0,l.batchedUpdates)((()=>{for(const t of e){const e=t.contentRect;o(e.width,e.height)}}))})),s=e.current;return t.observe(s),()=>{t.unobserve(s)}},d=[o,r,e],s[0]=o,s[1]=r,s[2]=e,s[3]=i,s[4]=d):(i=s[3],d=s[4]),a.useEffect(i,d)}function _(){}let y=function(e){const t=(0,n.c)(14),{item:s,index:o,renderItem:r,onItemSeen:d,onItemSeenWhen:u}=e,m=void 0===u?"enter":u,p=a.useRef(null),g=a.useRef(void 0),x=a.useRef(!1);let _;t[0]!==s||t[1]!==d||t[2]!==m?(_=e=>{(0,l.batchedUpdates)((()=>{d&&e.forEach((e=>{"exit"===m?e.isIntersecting?x.current=!0:x.current&&d(s):e.isIntersecting?g.current||(g.current=setTimeout((()=>{g.current=void 0,d(s)}),500)):g.current&&(clearTimeout(g.current),g.current=void 0)}))}))},t[0]=s,t[1]=d,t[2]=m,t[3]=_):_=t[3];const y=(0,c.useNonReactiveCallback)(_);let b,j,v,S;return t[4]!==y||t[5]!==d?(b=()=>{if(!d)return;const e=new IntersectionObserver(y,f),t=p.current;return e.observe(t),()=>{e.unobserve(t)}},j=[y,d],t[4]=y,t[5]=d,t[6]=b,t[7]=j):(b=t[6],j=t[7]),a.useEffect(b,j),r?(t[8]!==o||t[9]!==s||t[10]!==r?(v=r({item:s,index:o,separators:null}),t[8]=o,t[9]=s,t[10]=r,t[11]=v):v=t[11],t[12]!==v?(S=(0,h.jsx)(i.default,{ref:p,children:v}),t[12]=v,t[13]=S):S=t[13],S):null};y=a.memo(y);let b=e=>{const t=(0,n.c)(16),{root:s,topMargin:o,bottomMargin:r,onVisibleChange:d,style:m}=e,p=void 0===o?"0px":o,f=void 0===r?"0px":r,g=a.useRef(null),x=a.useRef(!1);let _;t[0]!==d?(_=e=>{(0,l.batchedUpdates)((()=>{e.forEach((e=>{e.isIntersecting!==x.current&&(x.current=e.isIntersecting,d(e.isIntersecting))}))}))},t[0]=d,t[1]=_):_=t[1];const y=(0,c.useNonReactiveCallback)(_);let b,j,S,w;return t[2]!==f||t[3]!==y||t[4]!==s?.current||t[5]!==p?(b=()=>{const e=new IntersectionObserver(y,{root:s?.current??null,rootMargin:`${p} 0px ${f} 0px`}),t=g.current;return e.observe(t),()=>{e.unobserve(t)}},t[2]=f,t[3]=y,t[4]=s?.current,t[5]=p,t[6]=b):b=t[6],t[7]!==f||t[8]!==y||t[9]!==s||t[10]!==p?(j=[f,y,p,s],t[7]=f,t[8]=y,t[9]=s,t[10]=p,t[11]=j):j=t[11],a.useEffect(b,j),t[12]!==m?(S=(0,u.addStyle)(v.visibilityDetector,m),t[12]=m,t[13]=S):S=t[13],t[14]!==S?(w=(0,h.jsx)(i.default,{ref:g,style:S}),t[14]=S,t[15]=w):w=t[15],w};b=a.memo(b);const j=(0,a.memo)(a.forwardRef((function(e,t){let{ListHeaderComponent:s,ListFooterComponent:n,ListEmptyComponent:r,disableFullWindowScroll:l,contentContainerStyle:f,data:_,desktopFixedHeight:j,headerOffset:S,keyExtractor:w,onStartReached:T,onStartReachedThreshold:k=2,onEndReached:C,onEndReachedThreshold:I=2,onScrolledDownChange:A,onContentSizeChange:P,onItemSeen:E,onItemSeenWhen:L="enter",renderItem:R,extraData:B,style:D}=e,O=(0,o.default)(e,p);const M=(0,d.useScrollHandlers)(),F=!_||0===_.length;let N=null;null!=s&&(N=(0,a.isValidElement)(s)?s:(0,h.jsx)(s,{}));let H=null;null!=n&&(H=(0,a.isValidElement)(n)?n:(0,h.jsx)(n,{}));let V=null;null!=r&&(V=(0,a.isValidElement)(r)?r:(0,h.jsx)(r,{})),null!=S&&(D=(0,u.addStyle)(D,{paddingTop:S}));const z=a.useCallback((()=>{if(l){const e=U.current;if(!e)return;return{get scrollWidth(){return e.scrollWidth},get scrollHeight(){return e.scrollHeight},get clientWidth(){return e.clientWidth},get clientHeight(){return e.clientHeight},get scrollY(){return e.scrollTop},get scrollX(){return e.scrollLeft},scrollTo(t){e.scrollTo(t)},scrollBy(t){e.scrollBy(t)},addEventListener(t,s){e.addEventListener(t,s)},removeEventListener(t,s){e.removeEventListener(t,s)}}}return{get scrollWidth(){return document.documentElement.scrollWidth},get scrollHeight(){return document.documentElement.scrollHeight},get clientWidth(){return window.innerWidth},get clientHeight(){return window.innerHeight},get scrollY(){return window.scrollY},get scrollX(){return window.scrollX},scrollTo(e){window.scrollTo(e)},scrollBy(e){window.scrollBy(e)},addEventListener(e,t){window.addEventListener(e,t)},removeEventListener(e,t){window.removeEventListener(e,t)}}}),[l]),U=a.useRef(null);a.useImperativeHandle(t,(()=>({scrollToTop(){z()?.scrollTo({top:0})},scrollToOffset({animated:e,offset:t}){z()?.scrollTo({left:0,top:t,behavior:e?"smooth":"instant"})},scrollToEnd({animated:e=!0}){const t=z();t?.scrollTo({left:0,top:t.scrollHeight,behavior:e?"smooth":"instant"})}})),[z]);const W=(0,a.useRef)(null);x(W,P);const[G,q]=a.useState(!1),Q=(0,c.useNonReactiveCallback)((()=>{if(!G)return;const e=z();M.onScroll?.({contentOffset:{x:Math.max(0,e?.scrollX??0),y:Math.max(0,e?.scrollY??0)},layoutMeasurement:{width:e?.clientWidth,height:e?.clientHeight},contentSize:{width:e?.scrollWidth,height:e?.scrollHeight}},null)}));a.useEffect((()=>{if(!G)return;const e=z();return e?.addEventListener("scroll",Q),()=>{e?.removeEventListener("scroll",Q)}}),[G,Q,l,z]);const K=(0,a.useRef)(!1),Z=(0,c.useNonReactiveCallback)((e=>{e&&T?.({distanceFromStart:k||0})})),Y=(0,c.useNonReactiveCallback)((e=>{e&&C?.({distanceFromEnd:I||0})}));return(0,h.jsxs)(i.default,Object.assign({},O,{style:[D,l&&{flex:1,"overflow-y":"scroll"}],ref:U,children:[(0,h.jsx)(b,{onVisibleChange:q,style:v.parentTreeVisibilityDetector}),(0,h.jsx)(m.Center,{children:(0,h.jsxs)(i.default,{ref:W,style:[f,j?v.minHeightViewport:null],children:[(0,h.jsx)(b,{root:l?U:null,onVisibleChange:function(e){const t=!e;K.current!==t&&(K.current=t,(0,a.startTransition)((()=>{A?.(t)})))},style:[v.aboveTheFoldDetector,{height:S}]}),T&&!F&&(0,h.jsx)(g,{root:l?U:null,onVisibleChange:Z,topMargin:100*(k??0)+"%",containerRef:W}),N,F?V:_?.map(((e,t)=>{const s=w(e,t);return(0,h.jsx)(y,{item:e,index:t,renderItem:R,extraData:B,onItemSeen:E,onItemSeenWhen:L},s)})),C&&!F&&(0,h.jsx)(g,{root:l?U:null,onVisibleChange:Y,bottomMargin:100*(I??0)+"%",containerRef:W}),H]})})]}))}))),v=r.default.create({minHeightViewport:{minHeight:"100vh"},parentTreeVisibilityDetector:{position:"fixed",top:0,left:0,right:0,bottom:0},aboveTheFoldDetector:{position:"absolute",top:0,left:0,right:0},visibilityDetector:{pointerEvents:"none",zIndex:-1}})},70341:(e,t,s)=>{"use strict";s.r(t),s.d(t,{convertLegacyToastType:()=>n,show:()=>a});var o=s(46985);const n=e=>{switch(e){case"default":case"success":case"error":case"warning":case"info":return e;case"xmark":return"error";case"exclamation-circle":case"circle-exclamation":return"warning";case"check":case"clipboard-check":return"success";default:return"default"}};function a(e,t="default"){const s=n(t);o.show(e,{type:s})}},32720:(e,t,s)=>{"use strict";s.r(t),s.d(t,{DefaultAvatar:()=>q,EditableUserAvatar:()=>K,PreviewableUserAvatar:()=>Z,UserAvatar:()=>Q});var o=s(63366),n=s(15991),a=s(95004),r=s(68922),i=s(41711),l=s(59550),c=s(67842),d=s(99866),u=s(31545),m=s(64486),h=s(96963),p=s(18102),f=s(6831),g=s(27948),x=s(77453),_=s(37879),y=s(90060),b=s(35938),j=s(21605),v=s(98285),S=s(56947),w=s(5295),T=s(23826),k=s(29976),C=s(53994),I=s(19552),A=s(51536),P=s(63410),E=s(87990),L=s(23173),R=s(90326),B=s(72945),D=s(96449),O=s(2763),M=s(21934),F=s(90010),N=s(4544),H=s(93621),V=s(33703),z=s(43535),U=s(2629);const W=["moderation","profile","disableHoverCard","disableNavigation","onBeforePress","live"],G=z.IS_WEB?5:100;let q=e=>{const t=(0,n.c)(26),{type:s,shape:o,size:a}=e,r=o??("user"===s?"circle":"square");let i;if("square"!==r)i=void 0;else{const e=a>32?8:3;let s;t[0]!==e?(s={borderRadius:e,overflow:"hidden"},t[0]=e,t[1]=s):s=t[1],i=s}const l=i;if("algo"===s){let e,s,o;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,U.jsx)(d.Rect,{width:"32",height:"32",rx:"4",fill:"#0070FF"}),s=(0,U.jsx)(d.Path,{d:"M13.5 7.25C13.5 6.55859 14.0586 6 14.75 6C20.9648 6 26 11.0352 26 17.25C26 17.9414 25.4414 18.5 24.75 18.5C24.0586 18.5 23.5 17.9414 23.5 17.25C23.5 12.418 19.582 8.5 14.75 8.5C14.0586 8.5 13.5 7.94141 13.5 7.25ZM8.36719 14.6172L12.4336 18.6836L13.543 17.5742C13.5156 17.4727 13.5 17.3633 13.5 17.25C13.5 16.5586 14.0586 16 14.75 16C15.4414 16 16 16.5586 16 17.25C16 17.9414 15.4414 18.5 14.75 18.5C14.6367 18.5 14.5312 18.4844 14.4258 18.457L13.3164 19.5664L17.3828 23.6328C17.9492 24.1992 17.8438 25.1484 17.0977 25.4414C16.1758 25.8008 15.1758 26 14.125 26C9.63672 26 6 22.3633 6 17.875C6 16.8242 6.19922 15.8242 6.5625 14.9023C6.85547 14.1602 7.80469 14.0508 8.37109 14.6172H8.36719ZM14.75 9.75C18.8906 9.75 22.25 13.1094 22.25 17.25C22.25 17.9414 21.6914 18.5 21 18.5C20.3086 18.5 19.75 17.9414 19.75 17.25C19.75 14.4883 17.5117 12.25 14.75 12.25C14.0586 12.25 13.5 11.6914 13.5 11C13.5 10.3086 14.0586 9.75 14.75 9.75Z",fill:"white"}),t[2]=e,t[3]=s):(e=t[2],s=t[3]),t[4]!==l||t[5]!==a?(o=(0,U.jsxs)(d.default,{testID:"userAvatarFallback",width:a,height:a,viewBox:"0 0 32 32",fill:"none",stroke:"none",style:l,children:[e,s]}),t[4]=l,t[5]=a,t[6]=o):o=t[6],o}if("list"===s){let e,s,o,n;return t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,U.jsx)(d.Path,{d:"M28 0H4C1.79086 0 0 1.79086 0 4V28C0 30.2091 1.79086 32 4 32H28C30.2091 32 32 30.2091 32 28V4C32 1.79086 30.2091 0 28 0Z",fill:"#0070FF"}),s=(0,U.jsx)(d.Path,{d:"M22.1529 22.3542C23.4522 22.4603 24.7593 22.293 25.9899 21.8629C26.0369 21.2838 25.919 20.7032 25.6497 20.1884C25.3805 19.6735 24.9711 19.2454 24.4687 18.9535C23.9663 18.6617 23.3916 18.518 22.8109 18.5392C22.2303 18.5603 21.6676 18.7454 21.1878 19.0731M22.1529 22.3542C22.1489 21.1917 21.8142 20.0534 21.1878 19.0741ZM10.8111 19.0741C10.3313 18.7468 9.7687 18.5619 9.18826 18.5409C8.60781 18.5199 8.03327 18.6636 7.53107 18.9554C7.02888 19.2472 6.61953 19.6752 6.35036 20.1899C6.08119 20.7046 5.96319 21.285 6.01001 21.8639C7.23969 22.2964 8.5461 22.4632 9.84497 22.3531M10.8111 19.0741C10.1851 20.0535 9.84865 21.1908 9.84497 22.3531ZM19.0759 10.077C19.0759 10.8931 18.7518 11.6757 18.1747 12.2527C17.5977 12.8298 16.815 13.154 15.9989 13.154C15.1829 13.154 14.4002 12.8298 13.8232 12.2527C13.2461 11.6757 12.922 10.8931 12.922 10.077C12.922 9.26092 13.2461 8.47828 13.8232 7.90123C14.4002 7.32418 15.1829 7 15.9989 7C16.815 7 17.5977 7.32418 18.1747 7.90123C18.7518 8.47828 19.0759 9.26092 19.0759 10.077ZM25.2299 13.154C25.2299 13.457 25.1702 13.7571 25.0542 14.0371C24.9383 14.3171 24.7683 14.5715 24.554 14.7858C24.3397 15.0001 24.0853 15.1701 23.8053 15.2861C23.5253 15.402 23.2252 15.4617 22.9222 15.4617C22.6191 15.4617 22.319 15.402 22.039 15.2861C21.759 15.1701 21.5046 15.0001 21.2903 14.7858C21.0761 14.5715 20.9061 14.3171 20.7901 14.0371C20.6741 13.7571 20.6144 13.457 20.6144 13.154C20.6144 12.5419 20.8576 11.9549 21.2903 11.5222C21.7231 11.0894 22.3101 10.8462 22.9222 10.8462C23.5342 10.8462 24.1212 11.0894 24.554 11.5222C24.9868 11.9549 25.2299 12.5419 25.2299 13.154ZM11.3835 13.154C11.3835 13.457 11.3238 13.7571 11.2078 14.0371C11.0918 14.3171 10.9218 14.5715 10.7075 14.7858C10.4932 15.0001 10.2388 15.1701 9.95886 15.2861C9.67887 15.402 9.37878 15.4617 9.07572 15.4617C8.77266 15.4617 8.47257 15.402 8.19259 15.2861C7.9126 15.1701 7.6582 15.0001 7.4439 14.7858C7.22961 14.5715 7.05962 14.3171 6.94365 14.0371C6.82767 13.7571 6.76798 13.457 6.76798 13.154C6.76798 12.5419 7.01112 11.9549 7.4439 11.5222C7.87669 11.0894 8.46367 10.8462 9.07572 10.8462C9.68777 10.8462 10.2748 11.0894 10.7075 11.5222C11.1403 11.9549 11.3835 12.5419 11.3835 13.154Z",fill:"white"}),o=(0,U.jsx)(d.Path,{d:"M22 22C22 25.3137 19.3137 25.5 16 25.5C12.6863 25.5 10 25.3137 10 22C10 18.6863 12.6863 16 16 16C19.3137 16 22 18.6863 22 22Z",fill:"white"}),t[7]=e,t[8]=s,t[9]=o):(e=t[7],s=t[8],o=t[9]),t[10]!==l||t[11]!==a?(n=(0,U.jsxs)(d.default,{testID:"userAvatarFallback",width:a,height:a,viewBox:"0 0 32 32",fill:"none",stroke:"none",style:l,children:[e,s,o]}),t[10]=l,t[11]=a,t[12]=n):n=t[12],n}if("labeler"===s){let e,s,o;return t[13]!==r?(e="square"===r?(0,U.jsx)(d.Rect,{x:"0",y:"0",width:"32",height:"32",rx:"3",fill:I.tokens.color.temp_purple}):(0,U.jsx)(d.Circle,{cx:"16",cy:"16",r:"16",fill:I.tokens.color.temp_purple}),t[13]=r,t[14]=e):e=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(s=(0,U.jsx)(d.Path,{d:"M24 9.75L16 7L8 9.75V15.9123C8 20.8848 12 23 16 25.1579C20 23 24 20.8848 24 15.9123V9.75Z",stroke:"white",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"}),t[15]=s):s=t[15],t[16]!==l||t[17]!==a||t[18]!==e?(o=(0,U.jsxs)(d.default,{testID:"userAvatarFallback",width:a,height:a,viewBox:"0 0 32 32",fill:"none",stroke:"none",style:l,children:[e,s]}),t[16]=l,t[17]=a,t[18]=e,t[19]=o):o=t[19],o}let c,u,m,h;return t[20]===Symbol.for("react.memo_cache_sentinel")?(c=(0,U.jsx)(d.Circle,{cx:"12",cy:"12",r:"12",fill:"#0070ff"}),u=(0,U.jsx)(d.Circle,{cx:"12",cy:"9.5",r:"3.5",fill:"#fff"}),m=(0,U.jsx)(d.Path,{strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",d:"M 12.058 22.784 C 9.422 22.784 7.007 21.836 5.137 20.262 C 5.667 17.988 8.534 16.25 11.99 16.25 C 15.494 16.25 18.391 18.036 18.864 20.357 C 17.01 21.874 14.64 22.784 12.058 22.784 Z"}),t[20]=c,t[21]=u,t[22]=m):(c=t[20],u=t[21],m=t[22]),t[23]!==l||t[24]!==a?(h=(0,U.jsxs)(d.default,{testID:"userAvatarFallback",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"none",style:l,children:[c,u,m]}),t[23]=l,t[24]=a,t[25]=h):h=t[25],h};q=(0,a.memo)(q);let Q=e=>{const t=(0,n.c)(40),{type:s,shape:o,size:a,avatar:i,moderation:l,usePlainRNImage:d,onLoad:h,style:p,live:f,hideLiveBadge:g,noBorder:x}=e,_=void 0===s?"user":s,y=void 0!==d&&d,b=(0,I.useTheme)(),j=o??("user"===_?"circle":"square");let v,S;v="square"===j?a>32?8:3:Math.floor(a/2),t[0]!==v||t[1]!==a||t[2]!==b.palette.contrast_25?(S={width:a,height:a,borderRadius:v,backgroundColor:b.palette.contrast_25},t[0]=v,t[1]=a,t[2]=b.palette.contrast_25,t[3]=S):S=t[3];const w=S;let T,k,C;t[4]!==w.borderRadius?(T={borderRadius:w.borderRadius},t[4]=w.borderRadius,t[5]=T):T=t[5],t[6]!==f||t[7]!==a||t[8]!==b.palette.negative_500?(k=f&&{borderColor:b.palette.negative_500,borderWidth:a>16?2:1,opacity:1},t[6]=f,t[7]=a,t[8]=b.palette.negative_500,t[9]=k):k=t[9],t[10]!==T||t[11]!==k?(C=[T,k],t[10]=T,t[11]=k,t[12]=C):C=t[12];const A=C;let P,E;t[13]!==l?.alert||t[14]!==a||t[15]!==b.palette.negative_400||t[16]!==b.palette.white?(P=()=>l?.alert?(0,U.jsx)(c.default,{style:[I.atoms.absolute,I.atoms.right_0,I.atoms.bottom_0,I.atoms.rounded_full,{backgroundColor:b.palette.white}],children:(0,U.jsx)(m.FontAwesomeIcon,{icon:"exclamation-circle",style:{color:b.palette.negative_400},size:Math.floor(a/3)})}):null,t[13]=l?.alert,t[14]=a,t[15]=b.palette.negative_400,t[16]=b.palette.white,t[17]=P):P=t[17],l?.alert,t[18]!==P?(E=P(),t[18]=P,t[19]=E):E=t[19];const L=E;let R,B;t[20]!==a?(R={width:a,height:a},t[20]=a,t[21]=R):R=t[21],t[22]!==p||t[23]!==R?(B=[R,p],t[22]=p,t[23]=R,t[24]=B):B=t[24];const D=B;let M;return t[25]!==L||t[26]!==i||t[27]!==w||t[28]!==A||t[29]!==D||t[30]!==j||t[31]!==g||t[32]!==f||t[33]!==l?.blur||t[34]!==x||t[35]!==h||t[36]!==a||t[37]!==_||t[38]!==y?(M=!i||l?.blur&&z.IS_ANDROID?(0,U.jsxs)(c.default,{style:D,children:[(0,U.jsx)(q,{type:_,shape:j,size:a}),!x&&(0,U.jsx)(F.MediaInsetBorder,{style:A}),f&&a>16&&!g&&(0,U.jsx)(O.LiveIndicator,{size:a>32?"small":"tiny"}),L]}):(0,U.jsxs)(c.default,{style:D,children:[y?(0,U.jsx)(r.default,{accessibilityIgnoresInvertColors:!0,testID:"userAvatarImage",style:w,resizeMode:"cover",source:{uri:Y(i,a<90)},blurRadius:l?.blur?G:0,onLoad:h}):(0,U.jsx)(u.Image,{testID:"userAvatarImage",style:w,contentFit:"cover",source:{uri:Y(i,a<90)},blurRadius:l?.blur?G:0,onLoad:h}),!x&&(0,U.jsx)(F.MediaInsetBorder,{style:A}),f&&a>16&&!g&&(0,U.jsx)(O.LiveIndicator,{size:a>32?"small":"tiny"}),L]}),t[25]=L,t[26]=i,t[27]=w,t[28]=A,t[29]=D,t[30]=j,t[31]=g,t[32]=f,t[33]=l?.blur,t[34]=x,t[35]=h,t[36]=a,t[37]=_,t[38]=y,t[39]=M):M=t[39],M};Q=(0,a.memo)(Q);let K=({type:e="user",size:t,avatar:s,onSelectNewAvatar:o})=>{const n=(0,I.useTheme)(),{_:r}=(0,h.useLingui)(),{requestCameraAccessIfNeeded:l}=(0,x.useCameraPermission)(),{requestPhotoAccessIfNeeded:d}=(0,x.usePhotoLibraryPermission)(),[m,p]=(0,a.useState)(),f=(0,P.useDialogControl)(),g=(0,E.useSheetWrapper)(),b="algo"!==e&&"list"!==e,j=(0,a.useMemo)((()=>b?{width:t,height:t,borderRadius:Math.floor(t/2)}:{width:t,height:t,borderRadius:t>32?8:3}),[b,t]),S=(0,a.useCallback)((async()=>{await l()&&o(await(0,_.compressIfNeeded)(await(0,y.openCamera)({aspect:[1,1]})))}),[o,l]),k=(0,a.useCallback)((async()=>{if(!await d())return;const e=(await g((0,y.openPicker)({aspect:[1,1]})))[0];if(e)try{z.IS_NATIVE?o(await(0,_.compressIfNeeded)(await(0,y.openCropper)({imageUri:e.path,shape:b?"circle":"rectangle",aspectRatio:1}))):(p(await(0,T.createComposerImage)(e)),f.open())}catch(t){(0,v.isCancelledError)(t)||w.logger.error("Failed to crop avatar",{error:t})}}),[o,d,g,f,b]),A=(0,a.useCallback)((()=>{o(null)}),[o]),D=(0,a.useCallback)((async e=>{const t=await(0,T.compressImage)(e);o(t)}),[o]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(N.Root,{children:[(0,U.jsx)(N.Trigger,{label:r({id:"PUv/ZC"}),children:({props:o})=>(0,U.jsxs)(i.default,Object.assign({},o,{testID:"changeAvatarBtn",children:[s?(0,U.jsx)(u.Image,{testID:"userAvatarImage",style:j,source:{uri:s},accessibilityRole:"image"}):(0,U.jsx)(q,{type:e,size:t}),(0,U.jsx)(c.default,{style:[$.editButtonContainer,n.atoms.bg_contrast_25,I.atoms.border,n.atoms.border_contrast_low],children:(0,U.jsx)(L.Camera_Filled_Stroke2_Corner0_Rounded,{height:14,width:14,style:n.atoms.text})})]}))}),(0,U.jsxs)(N.Outer,{showCancel:!0,children:[(0,U.jsxs)(N.Group,{children:[z.IS_NATIVE&&(0,U.jsxs)(N.Item,{testID:"changeAvatarCameraBtn",label:r({id:"87sqdq"}),onPress:S,children:[(0,U.jsx)(N.ItemText,{children:(0,U.jsx)(h.Trans,{id:"87sqdq"})}),(0,U.jsx)(N.ItemIcon,{icon:L.Camera_Stroke2_Corner0_Rounded})]}),(0,U.jsxs)(N.Item,{testID:"changeAvatarLibraryBtn",label:r({id:"gF0jGM"}),onPress:k,children:[(0,U.jsx)(N.ItemText,{children:z.IS_NATIVE?(0,U.jsx)(h.Trans,{id:"gF0jGM"}):(0,U.jsx)(h.Trans,{id:"8ssRu1"})}),(0,U.jsx)(N.ItemIcon,{icon:R.StreamingLive_Stroke2_Corner0_Rounded})]})]}),!!s&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(N.Divider,{}),(0,U.jsx)(N.Group,{children:(0,U.jsxs)(N.Item,{testID:"changeAvatarRemoveBtn",label:r({id:"ht9wiE"}),onPress:A,children:[(0,U.jsx)(N.ItemText,{children:(0,U.jsx)(h.Trans,{id:"ht9wiE"})}),(0,U.jsx)(N.ItemIcon,{icon:B.Trash_Stroke2_Corner0_Rounded})]})})]})]})]}),(0,U.jsx)(C.EditImageDialog,{control:f,image:m,onChange:D,aspectRatio:1,circularCrop:b})]})};K=(0,a.memo)(K);let Z=e=>{let{moderation:t,profile:s,disableHoverCard:n,disableNavigation:r,onBeforePress:i,live:l}=e,c=(0,o.default)(e,W);const d=(0,V.useAnalytics)(),{_:u}=(0,h.useLingui)(),m=(0,p.useQueryClient)(),x=(0,f.useActorStatus)(s),_=(0,P.useDialogControl)(),y=(0,g.useHaptics)(),v=(0,a.useCallback)((()=>{i?.(),(0,k.unstableCacheProfileView)(m,s)}),[s,m,i]),w=(0,a.useCallback)((()=>{y("Light"),d.metric("live:card:open",{subject:s.did,from:"post"}),_.open()}),[_,y,s.did]),T=(0,U.jsx)(Q,Object.assign({avatar:s.avatar,moderation:t,type:s.associated?.labeler?"labeler":"user",live:x.isActive||l},c)),C="algo"!==c.type&&"list"!==c.type?I.atoms.rounded_full:{borderRadius:c.size>32?8:3};return(0,U.jsx)(H.ProfileHoverCard,{did:s.did,disable:n,children:r?T:x.isActive&&(z.IS_NATIVE||z.IS_WEB_TOUCH_DEVICE)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(A.Button,{label:u({id:"/+FcG4",values:{0:(0,j.sanitizeDisplayName)(s.displayName||(0,S.sanitizeHandle)(s.handle))}}),accessibilityHint:u({id:"tQ5CqN"}),onPress:w,children:T}),(0,U.jsx)(M.LiveStatusDialog,{control:_,profile:s,status:x,embed:x.embed})]}):(0,U.jsx)(D.Link,{label:u({id:"/+FcG4",values:{0:(0,j.sanitizeDisplayName)(s.displayName||(0,S.sanitizeHandle)(s.handle))}}),accessibilityHint:u({id:"0xfAvQ"}),to:(0,b.makeProfileLink)({did:s.did,handle:s.handle}),onPress:v,style:C,children:T})})};function Y(e,t){return t?e.replace("/img/avatar/plain/","/img/avatar_thumbnail/plain/"):e}Z=(0,a.memo)(Z);const $=l.default.create({editButtonContainer:{position:"absolute",width:24,height:24,bottom:0,right:0,borderRadius:12,alignItems:"center",justifyContent:"center"}})},1453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ErrorMessage:()=>p});var o=s(15991),n=s(59550),a=s(12062),r=s(67842),i=s(64486),l=s(96963),c=s(32129),d=s(83540),u=s(82878),m=s(94929),h=s(2629);function p(e){const t=(0,o.c)(25),{message:s,numberOfLines:n,style:p,onPressTryAgain:g}=e,x=(0,d.useTheme)(),_=(0,c.usePalette)("error"),{_:y}=(0,l.useLingui)();let b,j;t[0]!==_.view||t[1]!==p?(b=[f.outer,_.view,p],t[0]=_.view,t[1]=p,t[2]=b):b=t[2],t[3]!==x.palette.error.icon?(j=[f.errorIcon,{backgroundColor:x.palette.error.icon}],t[3]=x.palette.error.icon,t[4]=j):j=t[4];const v=_.text;let S,w,T,k,C,I;return t[5]!==v?(S=(0,h.jsx)(i.FontAwesomeIcon,{icon:"exclamation",style:v,size:16}),t[5]=v,t[6]=S):S=t[6],t[7]!==j||t[8]!==S?(w=(0,h.jsx)(r.default,{style:j,children:S}),t[7]=j,t[8]=S,t[9]=w):w=t[9],t[10]!==_.text?(T=[f.message,_.text],t[10]=_.text,t[11]=T):T=t[11],t[12]!==s||t[13]!==n||t[14]!==T?(k=(0,h.jsx)(m.Text,{type:"sm-medium",style:T,numberOfLines:n,children:s}),t[12]=s,t[13]=n,t[14]=T,t[15]=k):k=t[15],t[16]!==y||t[17]!==g||t[18]!==x.palette.error.icon?(C=g&&(0,h.jsx)(a.default,{testID:"errorMessageTryAgainButton",style:f.btn,onPress:g,accessibilityRole:"button",accessibilityLabel:y({id:"6gRgw8"}),accessibilityHint:y({id:"EBzg6u"}),children:(0,h.jsx)(i.FontAwesomeIcon,{icon:"arrows-rotate",style:{color:x.palette.error.icon},size:18})}),t[16]=y,t[17]=g,t[18]=x.palette.error.icon,t[19]=C):C=t[19],t[20]!==b||t[21]!==w||t[22]!==k||t[23]!==C?(I=(0,h.jsx)(u.Center,{children:(0,h.jsxs)(r.default,{testID:"errorMessageView",style:b,children:[w,k,C]})}),t[20]=b,t[21]=w,t[22]=k,t[23]=C,t[24]=I):I=t[24],I}const f=n.default.create({outer:{flexDirection:"row",alignItems:"center",paddingVertical:8,paddingHorizontal:8},errorIcon:{borderRadius:12,width:24,height:24,alignItems:"center",justifyContent:"center",marginRight:8},message:{flex:1,paddingRight:10},btn:{paddingHorizontal:4,paddingVertical:4}})},61032:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Button:()=>h});var o=s(15991),n=s(95004),a=s(45473),r=s(41711),i=s(59550),l=s(67842),c=s(9948),d=s(83540),u=s(94929),m=s(2629);function h(e){const t=(0,o.c)(44),{type:s,label:i,style:h,labelContainerStyle:f,labelStyle:g,onPress:x,children:_,testID:y,accessibilityLabel:b,accessibilityHint:j,accessibilityLabelledBy:v,onAccessibilityEscape:S,withLoading:w,disabled:T}=e,k=void 0===s?"primary":s,C=void 0!==w&&w,I=void 0!==T&&T,A=(0,d.useTheme)();let P;t[0]!==A.palette.default.background||t[1]!==A.palette.default.backgroundLight||t[2]!==A.palette.inverted.background||t[3]!==A.palette.primary.background||t[4]!==A.palette.primary.border||t[5]!==A.palette.secondary.background||t[6]!==A.palette.secondary.border||t[7]!==k?(P=(0,c.choose)(k,{primary:{backgroundColor:A.palette.primary.background},secondary:{backgroundColor:A.palette.secondary.background},default:{backgroundColor:A.palette.default.backgroundLight},inverted:{backgroundColor:A.palette.inverted.background},"primary-outline":{backgroundColor:A.palette.default.background,borderWidth:1,borderColor:A.palette.primary.border},"secondary-outline":{backgroundColor:A.palette.default.background,borderWidth:1,borderColor:A.palette.secondary.border},"primary-light":{backgroundColor:A.palette.default.background},"secondary-light":{backgroundColor:A.palette.default.background},"default-light":{backgroundColor:A.palette.default.background}}),t[0]=A.palette.default.background,t[1]=A.palette.default.backgroundLight,t[2]=A.palette.inverted.background,t[3]=A.palette.primary.background,t[4]=A.palette.primary.border,t[5]=A.palette.secondary.background,t[6]=A.palette.secondary.border,t[7]=k,t[8]=P):P=t[8];const E=P;let L;t[9]!==A.palette.default.isLowContrast||t[10]!==A.palette.default.text||t[11]!==A.palette.inverted.text||t[12]!==A.palette.primary.isLowContrast||t[13]!==A.palette.primary.text||t[14]!==A.palette.primary.textInverted||t[15]!==A.palette.secondary.isLowContrast||t[16]!==A.palette.secondary.text||t[17]!==A.palette.secondary.textInverted||t[18]!==k?(L=(0,c.choose)(k,{primary:{color:A.palette.primary.text,fontWeight:"600"},secondary:{color:A.palette.secondary.text,fontWeight:A.palette.secondary.isLowContrast?"600":void 0},default:{color:A.palette.default.text},inverted:{color:A.palette.inverted.text,fontWeight:"600"},"primary-outline":{color:A.palette.primary.textInverted,fontWeight:A.palette.primary.isLowContrast?"600":void 0},"secondary-outline":{color:A.palette.secondary.textInverted,fontWeight:A.palette.secondary.isLowContrast?"600":void 0},"primary-light":{color:A.palette.primary.textInverted,fontWeight:A.palette.primary.isLowContrast?"600":void 0},"secondary-light":{color:A.palette.secondary.textInverted,fontWeight:A.palette.secondary.isLowContrast?"600":void 0},"default-light":{color:A.palette.default.text,fontWeight:A.palette.default.isLowContrast?"600":void 0}}),t[9]=A.palette.default.isLowContrast,t[10]=A.palette.default.text,t[11]=A.palette.inverted.text,t[12]=A.palette.primary.isLowContrast,t[13]=A.palette.primary.text,t[14]=A.palette.primary.textInverted,t[15]=A.palette.secondary.isLowContrast,t[16]=A.palette.secondary.text,t[17]=A.palette.secondary.textInverted,t[18]=k,t[19]=L):L=t[19];const R=L,[B,D]=n.useState(!1);let O;t[20]!==x||t[21]!==C?(O=async e=>{e.stopPropagation(),e.preventDefault(),C&&D(!0),await(x?.(e)),C&&D(!1)},t[20]=x,t[21]=C,t[22]=O):O=t[22];const M=O;let F;t[23]!==h||t[24]!==E?(F=e=>{const t=[E,p.outer,h];return e.pressed?t.push({opacity:.6}):e.hovered&&t.push({opacity:.8}),t},t[23]=h,t[24]=E,t[25]=F):F=t[25];const N=F;let H;t[26]!==_||t[27]!==B||t[28]!==i||t[29]!==f||t[30]!==g||t[31]!==R||t[32]!==C?(H=()=>i?(0,m.jsxs)(l.default,{style:[p.labelContainer,f],children:[i&&C&&B?(0,m.jsx)(a.default,{size:12,color:R.color}):null,(0,m.jsx)(u.Text,{type:"button",style:[R,g],children:i})]}):_,t[26]=_,t[27]=B,t[28]=i,t[29]=f,t[30]=g,t[31]=R,t[32]=C,t[33]=H):H=t[33];const V=H,z=I||B;let U;return t[34]!==j||t[35]!==b||t[36]!==v||t[37]!==N||t[38]!==S||t[39]!==M||t[40]!==V||t[41]!==z||t[42]!==y?(U=(0,m.jsx)(r.default,{style:N,onPress:M,disabled:z,testID:y,accessibilityRole:"button",accessibilityLabel:b,accessibilityHint:j,accessibilityLabelledBy:v,onAccessibilityEscape:S,children:V}),t[34]=j,t[35]=b,t[36]=v,t[37]=N,t[38]=S,t[39]=M,t[40]=V,t[41]=z,t[42]=y,t[43]=U):U=t[43],U}const p=i.default.create({outer:{paddingHorizontal:14,paddingVertical:8,borderRadius:24},labelContainer:{flexDirection:"row",gap:8}})},66776:(e,t,s)=>{"use strict";s.r(t),s.d(t,{formatCount:()=>o});const o=(e,t)=>e.number(t,{notation:"compact",maximumFractionDigits:1,roundingMode:"trunc"})},94929:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Text:()=>p});var o=s(63366),n=s(95004),a=s(59550),r=s(77157),i=s(69883),l=s(83540),c=(s(5295),s(19552)),d=s(24834),u=s(43535),m=s(2629);const h=["type","children","emoji","lineHeight","style","title","dataSet","selectable"];function p(e){let{type:t="md",children:s,emoji:p,lineHeight:f,style:g,title:x,dataSet:_,selectable:y}=e,b=(0,o.default)(e,h);const j=(0,l.useTheme)(),{fonts:v}=(0,c.useAlf)();const S=n.useMemo((()=>{const e=j.typography[t],s=f?(0,i.lh)(j,t,f):void 0,o=a.default.flatten([i.s.black,e,s,g]);return(0,c.applyFonts)(o,v.family),o.fontSize&&(o.fontSize=Math.round(o.fontSize*v.scaleMultiplier)),Object.assign({uiTextView:y&&u.IS_IOS,selectable:y,style:o,dataSet:u.IS_WEB?Object.assign({tooltip:x},_||{}):void 0},b)}),[_,v.family,v.scaleMultiplier,f,b,y,g,j,x,t]);return(0,m.jsx)(r.UITextView,Object.assign({},S,{children:(0,d.renderChildrenWithEmoji)(s,S,p??!1)}))}},81125:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/InterVariable-Italic.01dcbad1bac635f9c9cd.woff2"},26167:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/InterVariable.c504db5c06caaf7cdfba.woff2"},11352:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/drafts_announcement_nux.bb48c3f58f63280767cc.webp"},36487:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/find_friends_illustration.e14f9ef93e0d248837f7.webp"},78370:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/find_friends_illustration_small.62f12373a8c1a17b583d.webp"},24488:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/germ_logo.ed682d2f64f1ddc4f34a.webp"},24054:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_dark.7834d20b599d2004ba75.webp"},3890:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_dark_borderless.73bc2b26fbfafd198f6f.webp"},56418:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_dim.2f6606c51b2d03cb2df2.webp"},97347:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_dim_borderless.095d4f4e7166539aa84f.webp"},56558:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_light.ef820bfaa4d60b1cd6b8.webp"},51291:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_1_light_borderless.e73ee0ab1f5658a14d76.webp"},64873:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_2_dark.1bf36e00f608f0edc6f5.webp"},91912:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_2_dim.6ccc2700ee77445c8792.webp"},57505:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_2_light.419230cdb785c2a920ad.webp"},85772:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_3_dark.148eb8c5a1f4ecb94b7d.webp"},73468:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_3_dim.6e4ce17e40e77a445421.webp"},39006:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/value_prop_3_light.618b7d940e4785602349.webp"},51620:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/initial_verification_announcement_1.4af8e3a4883c4245d6e6.png"},50586:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/welcome-modal-bg.b819addbea9bf293ab35.jpg"},99044:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/kawaii.845d3efa31b8cd01ad2c.png"},51805:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/kawaii_smol.b3d15ded6ae36409ca18.png"},46794:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.755f93713675760cb738.png"},44844:()=>{},47165:()=>{}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,s),a.exports}s.m=e,s.amdO={},(()=>{var e=[];s.O=(t,o,n,a)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,n,a]=e[d],i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((e=>s.O[e](o[l])))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,n,a]}})(),s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"===typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"===typeof o.then)return o}var a=Object.create(null);s.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>o[e]));return r.default=()=>o,s.d(a,r),a}})(),s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[])),s.u=e=>"static/js/"+e+"."+{19:"00d5b72d",39:"5bea4504",77:"6e510508",82:"a153ac04",92:"01f6c1c5",101:"646baa78",108:"0cdc7e6e",145:"dc24695e",251:"1e1a7fd5",262:"143da5e4",288:"7cd84743",328:"d04898bf",348:"e2c8b8ab",373:"78d7e1af",418:"618ceae0",419:"3e8d4513",470:"66050a34",491:"aa7a81b1",508:"69116bd2",521:"34159e6b",528:"e12f3620",640:"a7d78e8d",660:"fbfe550d",666:"add96fdf",667:"ddbc56b6",697:"95e0f53d",703:"b8602989",742:"2def3399",767:"305286b4",777:"b268a771",789:"2bb931d7",792:"f4b11509",812:"698ffafd",850:"b0edf3ae",865:"38026d63",871:"45491d8f",874:"0653945e",889:"a9c64b46",905:"57bf26a1",930:"0f6d78e9",931:"97b84d7d",936:"454f1738",939:"84a1dab7",953:"e4cedceb",977:"5e5f35b4",982:"3bb33f46"}[e]+".chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";s.l=(o,n,a,r)=>{if(e[o])e[o].push(n);else{var i,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",t+a),i.src=o),e[o]=[n];var m=(t,s)=>{i.onerror=i.onload=null,clearTimeout(h);var n=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(s))),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&!e;)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../../"})(),(()=>{var e={179:0};s.f.j=(t,o)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise(((s,o)=>n=e[t]=[s,o]));o.push(n[2]=a);var r=s.p+s.u(t),i=new Error;s.l(r,(o=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,n[1](i)}}),"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[r,i,l]=o,c=0;if(r.some((t=>0!==e[t]))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var d=l(s)}for(t&&t(o);c<r.length;c++)a=r[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),s.nc=void 0;var o=s.O(void 0,[321],(()=>s(21345)));o=s.O(o)})();
//# sourceMappingURL=main.fc59ecd1.js.map